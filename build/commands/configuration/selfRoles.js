const a253_0x128e=['0x24','0x1','0x2b','Command','0x3e','0x33','resolveRole','isPublicBastion','0x3a','default','0x17','0x0','RED','0x18','name','toString','updateCookie','roles','selfRolesList','0x1c','timeout','SELF_ROLES','0x2','0x41','0x28','0x31','document','selfRolesRemove','0x39','LIMITS','0x15','0x3b','0x14','0x40','0x22','locale','use\x20strict','client','test','get','shift','0x11','length','0x26','(?:^|;\x20)','0x21','ROLE_NOT_FOUND','errors','BASTION_ERROR_TYPE','constructor','0x6','guild','removeCookie','apply','GREEN','membershipLimitSelfRoles','0x38','fetchPremiumTier','GOLD','getString','@bastion/tesseract','PLATINUM','exports','PREMIUM_MEMBERSHIP_REQUIRED','remove','catch','0xf','0x2a','selfRoles\x20--remove\x20ROLE','0x3','return\x20/\x22\x20+\x20this\x20+\x20\x22/','selfRolesAdd','dev','Constants','0xa','COLORS','0xe','0x4','0x35','selfRoles\x20--add\x20ROLE','counter','language','../../utils/omnic','user','cookie','Self\x20Roles','0x8','0x7','0x29','roleNotFound','0x1a','0x5','send','It\x20allows\x20you\x20to\x20set\x20up\x20Self\x20Roles\x20in\x20the\x20server.\x20Self\x20Roles\x20are\x20the\x20roles\x20which\x20server\x20members\x20can\x20assign\x20(and\x20unassign)\x20to\x20themselves.','0x1e','0x13','premiumSelfRoles','../../models/Role','0x37','0x3d','0x27','add','find','DiscordError','0x32','getCookie','resolver','../../utils/errors','0xd','push','0x2c','=([^;]*)','0x2d','0x2f','0x9','0x30','0x23','0x34','cache','0xc','author','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','tag','compile','0x3f','replace'];(function(_0x133d40,_0x128e5e){const _0x4c7424=function(_0x207c0c){while(--_0x207c0c){_0x133d40['push'](_0x133d40['shift']());}};const _0x3a615e=function(){const _0x5b2a82={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x56c6e9,_0x18536d,_0x21a55f,_0x1274d8){_0x1274d8=_0x1274d8||{};let _0x53a7b3=_0x18536d+'='+_0x21a55f;let _0x1bc61d=0x0;for(let _0x5bcb59=0x0,_0x53e167=_0x56c6e9['length'];_0x5bcb59<_0x53e167;_0x5bcb59++){const _0x199431=_0x56c6e9[_0x5bcb59];_0x53a7b3+=';\x20'+_0x199431;const _0x52423a=_0x56c6e9[_0x199431];_0x56c6e9['push'](_0x52423a);_0x53e167=_0x56c6e9['length'];if(_0x52423a!==!![]){_0x53a7b3+='='+_0x52423a;}}_0x1274d8['cookie']=_0x53a7b3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2964a3,_0x28246c){_0x2964a3=_0x2964a3||function(_0x1692ef){return _0x1692ef;};const _0x4950c4=_0x2964a3(new RegExp('(?:^|;\x20)'+_0x28246c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3e4524=function(_0x30326b,_0x3c57a8){_0x30326b(++_0x3c57a8);};_0x3e4524(_0x4c7424,_0x128e5e);return _0x4950c4?decodeURIComponent(_0x4950c4[0x1]):undefined;}};const _0x775c12=function(){const _0x59cf56=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x59cf56['test'](_0x5b2a82['removeCookie']['toString']());};_0x5b2a82['updateCookie']=_0x775c12;let _0x5558ce='';const _0xa4e1fc=_0x5b2a82['updateCookie']();if(!_0xa4e1fc){_0x5b2a82['setCookie'](['*'],'counter',0x1);}else if(_0xa4e1fc){_0x5558ce=_0x5b2a82['getCookie'](null,'counter');}else{_0x5b2a82['removeCookie']();}};_0x3a615e();}(a253_0x128e,0xb4));const a253_0x4c74=function(_0x133d40,_0x128e5e){_0x133d40=_0x133d40-0x0;let _0x4c7424=a253_0x128e[_0x133d40];return _0x4c7424;};const a252_0x3e9d=['add',a253_0x4c74('0x45'),'selfRoles',a253_0x4c74('0x35'),a253_0x4c74('0x56'),a253_0x4c74('0xa'),'IRIS',a253_0x4c74('0x11'),'findByIdAndUpdate','_id',a253_0x4c74('0x3'),'PremiumTier',a253_0x4c74('0x19'),a253_0x4c74('0x44'),'info',a253_0x4c74('0x2b'),a253_0x4c74('0x2a'),a253_0x4c74('0x23'),a253_0x4c74('0x6e'),'default','roles','exec',a253_0x4c74('0x78'),a253_0x4c74('0x6f'),a253_0x4c74('0x63'),'errors','MANAGE_ROLES',a253_0x4c74('0x1'),a253_0x4c74('0x1b'),a253_0x4c74('0x4e'),a253_0x4c74('0x65'),a253_0x4c74('0x6d'),a253_0x4c74('0x54'),a253_0x4c74('0x6'),'has',a253_0x4c74('0x34'),'DiscordError','countDocuments',a253_0x4c74('0x15'),a253_0x4c74('0x10'),a253_0x4c74('0xe'),a253_0x4c74('0x5'),a253_0x4c74('0xb'),'PLATINUM',a253_0x4c74('0x5d'),a253_0x4c74('0x4f'),a253_0x4c74('0x13'),a253_0x4c74('0x1c'),a253_0x4c74('0x37'),'guild','../../utils/constants',a253_0x4c74('0x76'),'channel',a253_0x4c74('0x1f'),a253_0x4c74('0x42'),'join',a253_0x4c74('0x4'),a253_0x4c74('0x1d'),a253_0x4c74('0x6b'),'noSelfRoles',a253_0x4c74('0x43'),'LIMITED_PREMIUM_MEMBERSHIP',a253_0x4c74('0x26'),a253_0x4c74('0x9'),a253_0x4c74('0x5a'),a253_0x4c74('0x62')];(function(_0x57cdc9,_0x46bbb4){const _0x2d590a=function(_0x1f3696){while(--_0x1f3696){_0x57cdc9[a253_0x4c74('0x37')](_0x57cdc9[a253_0x4c74('0x70')]());}};const _0x20759b=function(){const _0x2d04e8={'data':{'key':a253_0x4c74('0x1e'),'value':a253_0x4c74('0x5c')},'setCookie':function(_0x249024,_0x45677a,_0x531eb2,_0x2f48b7){_0x2f48b7=_0x2f48b7||{};let _0x1785e3=_0x45677a+'='+_0x531eb2;let _0x1e3909=0x0;for(let _0x57d660=0x0,_0x5e8a58=_0x249024[a253_0x4c74('0x72')];_0x57d660<_0x5e8a58;_0x57d660++){const _0x204858=_0x249024[_0x57d660];_0x1785e3+=';\x20'+_0x204858;const _0x5e0026=_0x249024[_0x204858];_0x249024['push'](_0x5e0026);_0x5e8a58=_0x249024[a253_0x4c74('0x72')];if(_0x5e0026!==!![]){_0x1785e3+='='+_0x5e0026;}}_0x2f48b7[a253_0x4c74('0x1e')]=_0x1785e3;},'removeCookie':function(){return a253_0x4c74('0x12');},'getCookie':function(_0x300914,_0x5e9b4d){_0x300914=_0x300914||function(_0x117bb9){return _0x117bb9;};const _0x387883=_0x300914(new RegExp(a253_0x4c74('0x74')+_0x5e9b4d[a253_0x4c74('0x47')](/([.$?*|{}()[]\/+^])/g,'$1')+a253_0x4c74('0x39')));const _0x4a33f6=function(_0x5df8ea,_0x3e720f){_0x5df8ea(++_0x3e720f);};_0x4a33f6(_0x2d590a,_0x46bbb4);return _0x387883?decodeURIComponent(_0x387883[0x1]):undefined;}};const _0x2bf5f6=function(){const _0x469c0f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x469c0f['test'](_0x2d04e8[a253_0x4c74('0x7c')][a253_0x4c74('0x57')]());};_0x2d04e8[a253_0x4c74('0x58')]=_0x2bf5f6;let _0x398460='';const _0x4103f6=_0x2d04e8[a253_0x4c74('0x58')]();if(!_0x4103f6){_0x2d04e8['setCookie'](['*'],a253_0x4c74('0x1a'),0x1);}else if(_0x4103f6){_0x398460=_0x2d04e8[a253_0x4c74('0x33')](null,a253_0x4c74('0x1a'));}else{_0x2d04e8[a253_0x4c74('0x7c')]();}};_0x20759b();}(a252_0x3e9d,0x16a));const a252_0x124c=function(_0x4b8c52,_0x4e9498){const _0xea35df=function(){let _0x37c7a4=!![];return function(_0x23060f,_0x42230a){const _0x19446b=_0x37c7a4?function(){if(_0x42230a){const _0x30b6bc=_0x42230a[a253_0x4c74('0x7d')](_0x23060f,arguments);_0x42230a=null;return _0x30b6bc;}}:function(){};_0x37c7a4=![];return _0x19446b;};}();const _0x356569=_0xea35df(this,function(){const _0x52b71f=function(){const _0x37cb64=_0x52b71f[a253_0x4c74('0x79')](a253_0x4c74('0x10'))()[a253_0x4c74('0x45')](a253_0x4c74('0x43'));return!_0x37cb64[a253_0x4c74('0x6e')](_0x356569);};return _0x52b71f();});_0x356569();_0x4b8c52=_0x4b8c52-0x0;let _0x5e6915=a252_0x3e9d[_0x4b8c52];return _0x5e6915;};const a252_0x136cc9=function(){let _0x483c0d=!![];return function(_0x422635,_0xe72ca6){const _0x1523c0=_0x483c0d?function(){if(_0xe72ca6){const _0xa985cf=_0xe72ca6[a253_0x4c74('0x7d')](_0x422635,arguments);_0xe72ca6=null;return _0xa985cf;}}:function(){};_0x483c0d=![];return _0x1523c0;};}();const a252_0x281c62=a252_0x136cc9(this,function(){const _0x1076c2=function(){const _0x502b1a=_0x1076c2[a253_0x4c74('0x79')](a252_0x124c(a253_0x4c74('0x21')))()[a252_0x124c(a253_0x4c74('0x3e'))](a252_0x124c(a253_0x4c74('0x5b')));return!_0x502b1a[a252_0x124c(a253_0x4c74('0x3f'))](a252_0x281c62);};return _0x1076c2();});a252_0x281c62();a253_0x4c74('0x6c');const tesseract_1=require(a252_0x124c(a253_0x4c74('0x49')));const Role_1=require(a252_0x124c(a253_0x4c74('0x61')));const constants=require(a252_0x124c('0x12'));const errors=require(a252_0x124c('0x25'));const omnic=require(a252_0x124c(a253_0x4c74('0xc')));module[a253_0x4c74('0x8')]=class SelfRoles extends tesseract_1[a253_0x4c74('0x4b')]{constructor(){super(a252_0x124c(a253_0x4c74('0x48')),{'description':a253_0x4c74('0x27'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'array':[a252_0x124c('0x22'),a252_0x124c(a253_0x4c74('0x2e'))],'string':[a253_0x4c74('0x2f'),a253_0x4c74('0xa')]},'scope':a252_0x124c(a253_0x4c74('0x71')),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a252_0x124c('0x3c')],'userPermissions':[a252_0x124c('0x3c')],'syntax':[a252_0x124c(a253_0x4c74('0x48')),a252_0x124c('0x2e'),a252_0x124c(a253_0x4c74('0x20'))]});this[a252_0x124c(a253_0x4c74('0x2c'))]=async(_0x365c66,_0x45f50e)=>{if(_0x45f50e[a252_0x124c('0x22')]){if(constants[a252_0x124c(a253_0x4c74('0x36'))](this[a252_0x124c(a253_0x4c74('0x5f'))][a252_0x124c('0x19')])){const _0x3db832=await Role_1[a252_0x124c(a253_0x4c74('0x18'))][a252_0x124c(a253_0x4c74('0x25'))]({'guild':_0x365c66[a252_0x124c('0x11')]['id'],'selfAssignable':!![]});if(_0x3db832>=constants['LIMITS'][a252_0x124c('0xc')]){const _0x581519=await omnic[a252_0x124c(a253_0x4c74('0x38'))](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))])[a252_0x124c(a253_0x4c74('0x14'))](()=>{});if(_0x581519){if(_0x581519===omnic[a252_0x124c(a253_0x4c74('0x3a'))][a252_0x124c('0x18')]&&_0x3db832>=constants[a252_0x124c(a253_0x4c74('0x69'))][a252_0x124c(a253_0x4c74('0x55'))][a253_0x4c74('0x5d')]){throw new errors[(a253_0x4c74('0x31'))](errors[a252_0x124c('0x38')][a252_0x124c('0x1d')],this[a252_0x124c(a253_0x4c74('0x5f'))][a252_0x124c(a253_0x4c74('0x24'))][a253_0x4c74('0x5')](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))][a252_0x124c(a253_0x4c74('0x75'))][a252_0x124c('0x3e')],a252_0x124c(a253_0x4c74('0x67')),a252_0x124c(a253_0x4c74('0x2d')),constants[a252_0x124c(a253_0x4c74('0x69'))][a252_0x124c(a253_0x4c74('0x55'))][a253_0x4c74('0x5d')]));}else if(_0x581519===omnic[a252_0x124c('0x2d')][a253_0x4c74('0x7')]&&_0x3db832>=constants[a252_0x124c(a253_0x4c74('0x69'))][a252_0x124c('0xb')][a253_0x4c74('0x5d')]){throw new errors['DiscordError'](errors[a252_0x124c(a253_0x4c74('0x2'))][a252_0x124c('0x1d')],this[a253_0x4c74('0x6d')][a252_0x124c(a253_0x4c74('0x24'))][a252_0x124c(a253_0x4c74('0x3c'))](_0x365c66[a253_0x4c74('0x7b')][a252_0x124c('0x21')][a253_0x4c74('0x1b')],a252_0x124c(a253_0x4c74('0x67')),a252_0x124c('0x3d'),constants[a252_0x124c(a253_0x4c74('0x69'))]['PLATINUM'][a252_0x124c(a253_0x4c74('0x41'))]));}}else{throw new errors[(a252_0x124c('0x4'))](errors[a252_0x124c(a253_0x4c74('0x2'))][a252_0x124c('0x1f')],this[a252_0x124c('0x41')][a252_0x124c(a253_0x4c74('0x24'))][a252_0x124c(a253_0x4c74('0x3c'))](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))][a252_0x124c(a253_0x4c74('0x75'))][a252_0x124c(a253_0x4c74('0x4c'))],a252_0x124c(a253_0x4c74('0x67')),a252_0x124c(a253_0x4c74('0x32')),constants[a252_0x124c(a253_0x4c74('0x69'))][a252_0x124c(a253_0x4c74('0x41'))]));}}}const _0x567d9c=this[a252_0x124c('0x41')][a252_0x124c('0x3')][a252_0x124c(a253_0x4c74('0x46'))](_0x365c66[a252_0x124c('0x11')],_0x45f50e[a252_0x124c(a253_0x4c74('0x6a'))][a252_0x124c(a253_0x4c74('0x52'))]('\x20'));if(!_0x567d9c)throw new errors[(a253_0x4c74('0x31'))](errors[a253_0x4c74('0x78')][a252_0x124c(a253_0x4c74('0x29'))],this[a252_0x124c(a253_0x4c74('0x5f'))][a253_0x4c74('0x6b')][a252_0x124c(a253_0x4c74('0x3c'))](_0x365c66[a253_0x4c74('0x7b')][a252_0x124c(a253_0x4c74('0x75'))][a252_0x124c(a253_0x4c74('0x4c'))],a253_0x4c74('0x77'),a252_0x124c('0x33')));await Role_1[a252_0x124c(a253_0x4c74('0x18'))][a252_0x124c(a253_0x4c74('0xd'))](_0x567d9c['id'],{'_id':_0x567d9c['id'],'guild':_0x365c66[a252_0x124c(a253_0x4c74('0x71'))]['id'],'selfAssignable':!![]},{'upsert':!![]});await _0x365c66[a252_0x124c('0x14')][a252_0x124c(a253_0x4c74('0x28'))]({'embed':{'color':tesseract_1[a252_0x124c(a253_0x4c74('0x16'))][a252_0x124c(a253_0x4c74('0x7a'))][a253_0x4c74('0x0')],'description':this[a252_0x124c('0x41')][a252_0x124c(a253_0x4c74('0x24'))][a252_0x124c(a253_0x4c74('0x3c'))](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))][a252_0x124c(a253_0x4c74('0x75'))][a252_0x124c(a253_0x4c74('0x4c'))],a252_0x124c(a253_0x4c74('0x3d')),a252_0x124c(a253_0x4c74('0x22')),_0x365c66[a252_0x124c('0x16')][a252_0x124c(a253_0x4c74('0x3b'))],_0x567d9c[a252_0x124c('0x26')]),'footer':{'text':_0x567d9c['id']}}})['catch'](()=>{});}else if(_0x45f50e[a252_0x124c('0x27')]){const _0x119ba4=this[a252_0x124c(a253_0x4c74('0x5f'))][a252_0x124c(a253_0x4c74('0xf'))][a252_0x124c(a253_0x4c74('0x46'))](_0x365c66[a253_0x4c74('0x7b')],_0x45f50e[a252_0x124c(a253_0x4c74('0x2e'))][a252_0x124c(a253_0x4c74('0x52'))]('\x20'));if(!_0x119ba4)throw new errors[(a252_0x124c(a253_0x4c74('0x17')))](errors[a252_0x124c(a253_0x4c74('0x2'))][a253_0x4c74('0x76')],this[a253_0x4c74('0x6d')][a252_0x124c(a253_0x4c74('0x24'))][a252_0x124c(a253_0x4c74('0x3c'))](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))][a252_0x124c(a253_0x4c74('0x75'))][a252_0x124c(a253_0x4c74('0x4c'))],'errors',a252_0x124c(a253_0x4c74('0x4d'))));await Role_1[a253_0x4c74('0x51')][a252_0x124c(a253_0x4c74('0xd'))](_0x119ba4['id'],{'$unset':{'selfAssignable':0x1}});await _0x365c66[a252_0x124c(a253_0x4c74('0x68'))][a252_0x124c(a253_0x4c74('0x28'))]({'embed':{'color':tesseract_1[a252_0x124c('0xe')][a252_0x124c(a253_0x4c74('0x7a'))][a252_0x124c(a253_0x4c74('0x53'))],'description':this[a252_0x124c('0x41')][a252_0x124c(a253_0x4c74('0x24'))][a253_0x4c74('0x5')](_0x365c66[a253_0x4c74('0x7b')][a252_0x124c('0x21')][a252_0x124c(a253_0x4c74('0x4c'))],a252_0x124c(a253_0x4c74('0x3d')),a252_0x124c(a253_0x4c74('0x50')),_0x365c66['author'][a253_0x4c74('0x44')],_0x119ba4[a253_0x4c74('0x56')]),'footer':{'text':_0x119ba4['id']}}})[a252_0x124c(a253_0x4c74('0x14'))](()=>{});}else{const _0x1117b8=await Role_1[a252_0x124c(a253_0x4c74('0x18'))][a253_0x4c74('0x30')]({'guild':_0x365c66[a252_0x124c(a253_0x4c74('0x71'))]['id'],'selfAssignable':!![]});if(!_0x1117b8[a253_0x4c74('0x72')]){throw new Error(this[a252_0x124c(a253_0x4c74('0x5f'))][a252_0x124c(a253_0x4c74('0x24'))][a252_0x124c(a253_0x4c74('0x3c'))](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))][a252_0x124c(a253_0x4c74('0x75'))][a253_0x4c74('0x1b')],a252_0x124c(a253_0x4c74('0x67')),a252_0x124c('0x1b')));}const _0x3e40bd=[];for(const _0x1c1f4d of _0x1117b8){if(!_0x365c66[a252_0x124c('0x11')][a253_0x4c74('0x59')][a253_0x4c74('0x40')][a252_0x124c(a253_0x4c74('0x5e'))](_0x1c1f4d[a252_0x124c(a253_0x4c74('0x4a'))])){await _0x1c1f4d[a252_0x124c('0x27')]()[a252_0x124c(a253_0x4c74('0x14'))](()=>{});}_0x3e40bd[a252_0x124c('0x10')]({'name':_0x365c66[a253_0x4c74('0x7b')][a252_0x124c('0x36')]['cache'][a252_0x124c(a253_0x4c74('0x64'))](_0x1c1f4d[a252_0x124c(a253_0x4c74('0x4a'))])[a252_0x124c(a253_0x4c74('0x73'))]||'-','value':_0x1c1f4d[a252_0x124c(a253_0x4c74('0x4a'))]});}await _0x365c66[a252_0x124c(a253_0x4c74('0x68'))][a252_0x124c(a253_0x4c74('0x28'))]({'embed':{'color':tesseract_1[a253_0x4c74('0x13')][a252_0x124c('0x6')][a252_0x124c(a253_0x4c74('0x60'))],'title':a252_0x124c(a253_0x4c74('0x66')),'description':this[a252_0x124c('0x41')][a252_0x124c(a253_0x4c74('0x24'))][a252_0x124c('0x9')](_0x365c66[a252_0x124c(a253_0x4c74('0x71'))][a252_0x124c(a253_0x4c74('0x75'))][a253_0x4c74('0x1b')],a252_0x124c(a253_0x4c74('0x3d')),a252_0x124c('0x20')),'fields':_0x3e40bd}})[a252_0x124c('0xa')](()=>{});}};}};