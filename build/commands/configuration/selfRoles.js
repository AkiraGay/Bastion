const a33_0x42f7=['0x35','0x1c','noSelfRoles','0x15','0x30','0x40','0x33','0xe','shift','0x20','language','compile','DiscordError','client','resolveRole','default','0x21','0x2f','COLORS','0x7','../../utils/errors','0x3','Constants','exports','exec','0x41','MANAGE_ROLES','0x2d','0x1d','add','channel','author','return\x20/\x22\x20+\x20this\x20+\x20\x22/','IRIS','toString','send','selfRolesList','0x3d','test','0x3c','SELF_ROLES','timeout','LIMITED_PREMIUM_MEMBERSHIP','errors','resolver','0x16','apply','selfRoles\x20--add\x20ROLE','0x2a','selfRoles\x20--remove\x20ROLE','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','0xd','ROLE_NOT_FOUND','0x1b','0x3e','getCookie','removeCookie','cookie','0x36','BASTION_ERROR_TYPE','dev','0x3f','cache','0x8','0x34','0x3a','PremiumTier','locale','0x9','constructor','name','../../utils/omnic','0xa','0x12','0x2','roleNotFound','LIMITS','0x18','premiumSelfRoles','membershipLimitSelfRoles','0x22','../../utils/constants','0x23','0x1f','push','0x2e','_id','0x27','setCookie','0x1','0x29','0x28','remove','roles','0x26','document','join','0x10','0x31','has','0x42','0x38','0x2c','0x24','0xf','countDocuments','0x6','getString','Command','replace','0x5','length','findByIdAndUpdate','0x25','selfRolesAdd','selfRoles','updateCookie','info','GOLD','find','PREMIUM_MEMBERSHIP_REQUIRED','\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}','=([^;]*)','guild','0x0','0x1a','counter','0x14','0x2b','0x13','selfRolesRemove','tag'];(function(_0x1e1a74,_0x42f79c){const _0x1a92c8=function(_0x585f9b){while(--_0x585f9b){_0x1e1a74['push'](_0x1e1a74['shift']());}};const _0x25a182=function(){const _0xf6f907={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4fdc96,_0x23563c,_0x446d4b,_0x18d00f){_0x18d00f=_0x18d00f||{};let _0xeaae6a=_0x23563c+'='+_0x446d4b;let _0xfff0c3=0x0;for(let _0x39749a=0x0,_0x3c792c=_0x4fdc96['length'];_0x39749a<_0x3c792c;_0x39749a++){const _0x4504f3=_0x4fdc96[_0x39749a];_0xeaae6a+=';\x20'+_0x4504f3;const _0x1e1dbb=_0x4fdc96[_0x4504f3];_0x4fdc96['push'](_0x1e1dbb);_0x3c792c=_0x4fdc96['length'];if(_0x1e1dbb!==!![]){_0xeaae6a+='='+_0x1e1dbb;}}_0x18d00f['cookie']=_0xeaae6a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3bd7d3,_0x22c1f6){_0x3bd7d3=_0x3bd7d3||function(_0x456303){return _0x456303;};const _0x4f2a57=_0x3bd7d3(new RegExp('(?:^|;\x20)'+_0x22c1f6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4600ec=function(_0x1ba9de,_0x433beb){_0x1ba9de(++_0x433beb);};_0x4600ec(_0x1a92c8,_0x42f79c);return _0x4f2a57?decodeURIComponent(_0x4f2a57[0x1]):undefined;}};const _0x1289f8=function(){const _0x498e6d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x498e6d['test'](_0xf6f907['removeCookie']['toString']());};_0xf6f907['updateCookie']=_0x1289f8;let _0x2db77f='';const _0x433a08=_0xf6f907['updateCookie']();if(!_0x433a08){_0xf6f907['setCookie'](['*'],'counter',0x1);}else if(_0x433a08){_0x2db77f=_0xf6f907['getCookie'](null,'counter');}else{_0xf6f907['removeCookie']();}};_0x25a182();}(a33_0x42f7,0xe2));const a33_0x1a92=function(_0x1e1a74,_0x42f79c){_0x1e1a74=_0x1e1a74-0x0;let _0x1a92c8=a33_0x42f7[_0x1e1a74];return _0x1a92c8;};const a32_0x1f48=[a33_0x1a92('0x5'),a33_0x1a92('0x4e'),'RED',a33_0x1a92('0x1'),a33_0x1a92('0x43'),a33_0x1a92('0x75'),a33_0x1a92('0x7a'),a33_0x1a92('0x28'),a33_0x1a92('0x51'),a33_0x1a92('0x5a'),a33_0x1a92('0x18'),a33_0x1a92('0x3a'),a33_0x1a92('0x77'),a33_0x1a92('0x14'),'user',a33_0x1a92('0x44'),a33_0x1a92('0x31'),a33_0x1a92('0xd'),a33_0x1a92('0x3c'),'guild',a33_0x1a92('0x25'),a33_0x1a92('0x2'),a33_0x1a92('0x71'),'BASTION_ERROR_TYPE',a33_0x1a92('0x34'),'get',a33_0x1a92('0x64'),'catch','It\x20allows\x20you\x20to\x20set\x20up\x20Self\x20Roles\x20in\x20the\x20server.\x20Self\x20Roles\x20are\x20the\x20roles\x20which\x20server\x20members\x20can\x20assign\x20(and\x20unassign)\x20to\x20themselves.','../../models/Role','locale',a33_0x1a92('0x6b'),a33_0x1a92('0x19'),a33_0x1a92('0x50'),a33_0x1a92('0x45'),a33_0x1a92('0x4c'),a33_0x1a92('0x38'),a33_0x1a92('0x68'),a33_0x1a92('0x12'),a33_0x1a92('0x6d'),a33_0x1a92('0x6c'),a33_0x1a92('0x83'),'fetchPremiumTier',a33_0x1a92('0xb'),a33_0x1a92('0x15'),a33_0x1a92('0x35'),a33_0x1a92('0x24'),'info','PLATINUM',a33_0x1a92('0x58'),a33_0x1a92('0x82'),a33_0x1a92('0x52'),a33_0x1a92('0x30'),a33_0x1a92('0xe'),'@bastion/tesseract',a33_0x1a92('0x3d'),a33_0x1a92('0x49'),'GREEN','client','LIMITS',a33_0x1a92('0x40'),'DiscordError',a33_0x1a92('0x57'),a33_0x1a92('0x55'),a33_0x1a92('0x46'),a33_0x1a92('0x7c'),'length'];(function(_0x44d527,_0x4cd550){const _0x1bae2c=function(_0x5db448){while(--_0x5db448){_0x44d527[a33_0x1a92('0x7a')](_0x44d527[a33_0x1a92('0x2e')]());}};const _0x116d01=function(){const _0x152f4d={'data':{'key':a33_0x1a92('0x5f'),'value':a33_0x1a92('0x4f')},'setCookie':function(_0x1f99eb,_0x340ec8,_0x5c484c,_0x33d0ea){_0x33d0ea=_0x33d0ea||{};let _0x10e438=_0x340ec8+'='+_0x5c484c;let _0x49bea5=0x0;for(let _0x6b7d62=0x0,_0x1092d1=_0x1f99eb[a33_0x1a92('0x11')];_0x6b7d62<_0x1092d1;_0x6b7d62++){const _0x2ee02b=_0x1f99eb[_0x6b7d62];_0x10e438+=';\x20'+_0x2ee02b;const _0x33ebd7=_0x1f99eb[_0x2ee02b];_0x1f99eb[a33_0x1a92('0x7a')](_0x33ebd7);_0x1092d1=_0x1f99eb[a33_0x1a92('0x11')];if(_0x33ebd7!==!![]){_0x10e438+='='+_0x33ebd7;}}_0x33d0ea[a33_0x1a92('0x5f')]=_0x10e438;},'removeCookie':function(){return a33_0x1a92('0x62');},'getCookie':function(_0x363b43,_0x1b944e){_0x363b43=_0x363b43||function(_0x3578c8){return _0x3578c8;};const _0x493181=_0x363b43(new RegExp('(?:^|;\x20)'+_0x1b944e[a33_0x1a92('0xf')](/([.$?*|{}()[]\/+^])/g,'$1')+a33_0x1a92('0x1c')));const _0x5a2f07=function(_0x3d0cf3,_0x103cb0){_0x3d0cf3(++_0x103cb0);};_0x5a2f07(_0x1bae2c,_0x4cd550);return _0x493181?decodeURIComponent(_0x493181[0x1]):undefined;}};const _0xbaf6e3=function(){const _0x3ea45d=new RegExp(a33_0x1a92('0x1b'));return _0x3ea45d['test'](_0x152f4d[a33_0x1a92('0x5e')][a33_0x1a92('0x48')]());};_0x152f4d[a33_0x1a92('0x16')]=_0xbaf6e3;let _0x2a5a44='';const _0x58a802=_0x152f4d[a33_0x1a92('0x16')]();if(!_0x58a802){_0x152f4d[a33_0x1a92('0x7e')](['*'],a33_0x1a92('0x20'),0x1);}else if(_0x58a802){_0x2a5a44=_0x152f4d[a33_0x1a92('0x5d')](null,a33_0x1a92('0x20'));}else{_0x152f4d[a33_0x1a92('0x5e')]();}};_0x116d01();}(a32_0x1f48,0x9e));const a32_0x3799=function(_0x5a82ef,_0x72041f){const _0x3acde5=function(){let _0x2c2b3d=!![];return function(_0x39646e,_0x211740){const _0xa0bd6=_0x2c2b3d?function(){if(_0x211740){const _0xc07c97=_0x211740[a33_0x1a92('0x54')](_0x39646e,arguments);_0x211740=null;return _0xc07c97;}}:function(){};_0x2c2b3d=![];return _0xa0bd6;};}();const _0x3ee5dc=_0x3acde5(this,function(){const _0x5385a8=function(){const _0x2b596b=_0x5385a8[a33_0x1a92('0x6b')](a33_0x1a92('0x46'))()['compile'](a33_0x1a92('0x58'));return!_0x2b596b[a33_0x1a92('0x4c')](_0x3ee5dc);};return _0x5385a8();});_0x3ee5dc();_0x5a82ef=_0x5a82ef-0x0;let _0x3bfc5c=a32_0x1f48[_0x5a82ef];return _0x3bfc5c;};const a32_0x27a375=function(){let _0x73748a=!![];return function(_0x24df2e,_0x7502da){const _0x506ac6=_0x73748a?function(){if(_0x7502da){const _0x16ae65=_0x7502da['apply'](_0x24df2e,arguments);_0x7502da=null;return _0x16ae65;}}:function(){};_0x73748a=![];return _0x506ac6;};}();const a32_0x514e34=a32_0x27a375(this,function(){const _0x13ae54=function(){const _0x155951=_0x13ae54[a32_0x3799(a33_0x1a92('0x39'))](a32_0x3799(a33_0x1a92('0x81')))()[a32_0x3799('0x3b')](a32_0x3799('0x19'));return!_0x155951[a32_0x3799('0xb')](a32_0x514e34);};return _0x13ae54();});a32_0x514e34();'use\x20strict';const tesseract_1=require(a32_0x3799('0x1e'));const Role_1=require(a32_0x3799(a33_0x1a92('0x10')));const constants=require(a32_0x3799('0x37'));const errors=require(a32_0x3799(a33_0x1a92('0x60')));const omnic=require(a32_0x3799(a33_0x1a92('0xa')));module[a32_0x3799(a33_0x1a92('0x79'))]=class SelfRoles extends tesseract_1[a32_0x3799(a33_0x1a92('0x42'))]{constructor(){super(a32_0x3799(a33_0x1a92('0x21')),{'description':a32_0x3799('0x4'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'array':[a32_0x3799(a33_0x1a92('0x37')),a32_0x3799(a33_0x1a92('0x1f'))],'string':['add',a32_0x3799('0x1a')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a32_0x3799(a33_0x1a92('0x9'))],'userPermissions':['MANAGE_ROLES'],'syntax':[a33_0x1a92('0x15'),a32_0x3799(a33_0x1a92('0x7d')),a32_0x3799(a33_0x1a92('0x0'))]});this[a33_0x1a92('0x3e')]=async(_0x4666c1,_0x463625)=>{if(_0x463625[a32_0x3799(a33_0x1a92('0x37'))]){if(constants['isPublicBastion'](this[a33_0x1a92('0x33')][a32_0x3799('0x39')])){const _0x261a60=await Role_1[a32_0x3799(a33_0x1a92('0x29'))][a32_0x3799(a33_0x1a92('0x23'))]({'guild':_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))]['id'],'selfAssignable':!![]});if(_0x261a60>=constants[a32_0x3799(a33_0x1a92('0x78'))][a33_0x1a92('0x4e')]){const _0x3da25c=await omnic[a32_0x3799(a33_0x1a92('0x6f'))](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))])[a32_0x3799(a33_0x1a92('0x3b'))](()=>{});if(_0x3da25c){if(_0x3da25c===omnic[a33_0x1a92('0x68')][a32_0x3799(a33_0x1a92('0x26'))]&&_0x261a60>=constants[a33_0x1a92('0x72')][a32_0x3799(a33_0x1a92('0x26'))][a32_0x3799('0x2c')]){throw new errors[(a32_0x3799(a33_0x1a92('0x13')))](errors[a32_0x3799(a33_0x1a92('0x6'))]['LIMITED_PREMIUM_MEMBERSHIP'],this[a32_0x3799('0x22')][a32_0x3799(a33_0x1a92('0xc'))][a32_0x3799('0x3c')](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))][a32_0x3799(a33_0x1a92('0x7b'))][a32_0x3799(a33_0x1a92('0x27'))],a32_0x3799(a33_0x1a92('0x2c')),a32_0x3799(a33_0x1a92('0x2a')),constants[a32_0x3799(a33_0x1a92('0x78'))][a32_0x3799('0x35')][a32_0x3799('0x2c')]));}else if(_0x3da25c===omnic[a32_0x3799(a33_0x1a92('0x59'))][a32_0x3799('0x18')]&&_0x261a60>=constants[a33_0x1a92('0x72')][a32_0x3799(a33_0x1a92('0x73'))][a32_0x3799(a33_0x1a92('0x8'))]){throw new errors[(a32_0x3799(a33_0x1a92('0x13')))](errors[a32_0x3799(a33_0x1a92('0x6'))][a32_0x3799(a33_0x1a92('0x6a'))],this[a32_0x3799(a33_0x1a92('0x76'))][a33_0x1a92('0x69')][a32_0x3799(a33_0x1a92('0x4d'))](_0x4666c1[a33_0x1a92('0x1d')][a32_0x3799(a33_0x1a92('0x7b'))][a32_0x3799(a33_0x1a92('0x27'))],a32_0x3799(a33_0x1a92('0x2c')),'membershipLimitSelfRoles',constants[a32_0x3799(a33_0x1a92('0x78'))][a32_0x3799(a33_0x1a92('0x73'))][a32_0x3799(a33_0x1a92('0x8'))]));}}else{throw new errors[(a33_0x1a92('0x32'))](errors[a33_0x1a92('0x61')][a33_0x1a92('0x1a')],this[a32_0x3799(a33_0x1a92('0x76'))][a33_0x1a92('0x69')][a32_0x3799(a33_0x1a92('0x4d'))](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))][a32_0x3799(a33_0x1a92('0x7b'))][a33_0x1a92('0x30')],a32_0x3799('0x33'),a33_0x1a92('0x74'),constants[a32_0x3799(a33_0x1a92('0x78'))]['SELF_ROLES']));}}}const _0x2f671f=this[a32_0x3799(a33_0x1a92('0x76'))][a32_0x3799(a33_0x1a92('0x5b'))][a32_0x3799(a33_0x1a92('0x1e'))](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))],_0x463625[a32_0x3799('0x2f')][a32_0x3799(a33_0x1a92('0x2b'))]('\x20'));if(!_0x2f671f)throw new errors[(a32_0x3799(a33_0x1a92('0x13')))](errors[a32_0x3799('0x42')][a32_0x3799(a33_0x1a92('0x66'))],this[a32_0x3799(a33_0x1a92('0x76'))][a33_0x1a92('0x69')][a32_0x3799(a33_0x1a92('0x4d'))](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))]['document'][a32_0x3799('0x1c')],a32_0x3799('0x33'),a32_0x3799('0x41')));await Role_1[a33_0x1a92('0x35')][a32_0x3799(a33_0x1a92('0x2d'))](_0x2f671f['id'],{'_id':_0x2f671f['id'],'guild':_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))]['id'],'selfAssignable':!![]},{'upsert':!![]});await _0x4666c1[a32_0x3799(a33_0x1a92('0x67'))][a32_0x3799(a33_0x1a92('0x2f'))]({'embed':{'color':tesseract_1[a32_0x3799(a33_0x1a92('0x4b'))][a33_0x1a92('0x38')][a32_0x3799(a33_0x1a92('0x36'))],'description':this[a32_0x3799(a33_0x1a92('0x76'))][a32_0x3799('0x6')][a32_0x3799(a33_0x1a92('0x4d'))](_0x4666c1[a32_0x3799('0x3e')][a32_0x3799(a33_0x1a92('0x7b'))][a32_0x3799(a33_0x1a92('0x27'))],a33_0x1a92('0x17'),a32_0x3799(a33_0x1a92('0x7')),_0x4666c1[a32_0x3799(a33_0x1a92('0x6e'))][a32_0x3799(a33_0x1a92('0x63'))],_0x2f671f[a33_0x1a92('0x6c')]),'footer':{'text':_0x2f671f['id']}}})[a32_0x3799(a33_0x1a92('0x3b'))](()=>{});}else if(_0x463625[a32_0x3799(a33_0x1a92('0x1f'))]){const _0x34107d=this[a33_0x1a92('0x33')]['resolver'][a32_0x3799(a33_0x1a92('0x1e'))](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))],_0x463625[a32_0x3799(a33_0x1a92('0x1f'))][a32_0x3799('0x40')]('\x20'));if(!_0x34107d)throw new errors[(a32_0x3799(a33_0x1a92('0x13')))](errors[a32_0x3799(a33_0x1a92('0x6'))][a32_0x3799(a33_0x1a92('0x66'))],this[a32_0x3799(a33_0x1a92('0x76'))][a32_0x3799(a33_0x1a92('0xc'))][a32_0x3799(a33_0x1a92('0x4d'))](_0x4666c1[a33_0x1a92('0x1d')][a32_0x3799(a33_0x1a92('0x7b'))][a33_0x1a92('0x30')],a32_0x3799(a33_0x1a92('0x2c')),a32_0x3799(a33_0x1a92('0x3f'))));await Role_1[a32_0x3799(a33_0x1a92('0x29'))][a32_0x3799(a33_0x1a92('0x2d'))](_0x34107d['id'],{'$unset':{'selfAssignable':0x1}});await _0x4666c1[a33_0x1a92('0x44')][a32_0x3799(a33_0x1a92('0x2f'))]({'embed':{'color':tesseract_1[a32_0x3799(a33_0x1a92('0x4b'))][a32_0x3799('0xc')][a32_0x3799(a33_0x1a92('0x41'))],'description':this[a32_0x3799('0x22')][a32_0x3799(a33_0x1a92('0xc'))][a33_0x1a92('0xd')](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))][a32_0x3799(a33_0x1a92('0x7b'))][a32_0x3799(a33_0x1a92('0x27'))],'info',a32_0x3799(a33_0x1a92('0x53')),_0x4666c1[a32_0x3799('0xa')][a32_0x3799(a33_0x1a92('0x63'))],_0x34107d[a32_0x3799('0x10')]),'footer':{'text':_0x34107d['id']}}})[a32_0x3799(a33_0x1a92('0x3b'))](()=>{});}else{const _0x4bbcee=await Role_1[a32_0x3799('0x15')][a32_0x3799(a33_0x1a92('0x65'))]({'guild':_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))]['id'],'selfAssignable':!![]});if(!_0x4bbcee[a32_0x3799(a33_0x1a92('0x56'))]){throw new Error(this[a33_0x1a92('0x33')][a32_0x3799('0x6')][a33_0x1a92('0xd')](_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))][a32_0x3799(a33_0x1a92('0x7b'))]['language'],a32_0x3799(a33_0x1a92('0x2c')),a32_0x3799('0x32')));}const _0x2a25c9=[];for(const _0x3a63c2 of _0x4bbcee){if(!_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))][a33_0x1a92('0x83')][a32_0x3799(a33_0x1a92('0x70'))][a32_0x3799(a33_0x1a92('0x22'))](_0x3a63c2[a32_0x3799(a33_0x1a92('0x80'))])){await _0x3a63c2[a32_0x3799(a33_0x1a92('0x1f'))]()[a32_0x3799('0x3')](()=>{});}_0x2a25c9[a32_0x3799(a33_0x1a92('0x4'))]({'name':_0x4666c1[a32_0x3799(a33_0x1a92('0x5c'))][a32_0x3799('0x11')][a32_0x3799(a33_0x1a92('0x70'))][a32_0x3799(a33_0x1a92('0x7f'))](_0x3a63c2[a32_0x3799('0x29')])[a32_0x3799(a33_0x1a92('0x3'))]||'-','value':_0x3a63c2['_id']});}await _0x4666c1[a32_0x3799('0x3a')][a32_0x3799('0x20')]({'embed':{'color':tesseract_1[a32_0x3799(a33_0x1a92('0x4b'))][a32_0x3799('0xc')][a33_0x1a92('0x47')],'title':'Self\x20Roles','description':this[a32_0x3799(a33_0x1a92('0x76'))][a32_0x3799(a33_0x1a92('0xc'))][a32_0x3799(a33_0x1a92('0x4d'))](_0x4666c1[a32_0x3799('0x3e')][a32_0x3799(a33_0x1a92('0x7b'))][a33_0x1a92('0x30')],a32_0x3799('0x17'),a33_0x1a92('0x4a')),'fields':_0x2a25c9}})[a32_0x3799('0x3')](()=>{});}};}};