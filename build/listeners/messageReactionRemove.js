const a166_0x2bb3=['Constants','animated','default','has','0x16','0x1a','0xf','0x1d','0x15','timeout','0xa','0x9','catch','shift','cookie','../models/Role','0x7','0x1f','0x13','0x17','toString','0x12','0xd','0x1e','exports','length','getDocument','member','0x10','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','name','push','test','0x2','message','setCookie','LISTENER_MODE','handleReactionRoles','includes','0x6','updateCookie','remove','0x0','parseEmoji','0x18','0x4','constructor','unpin','../utils/emojis','\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}','value','=([^;]*)','replace','permissionsFor','counter','MANAGE_MESSAGES','0x19','handleReactionPinning','0xe','exec','return\x20/\x22\x20+\x20this\x20+\x20\x22/','0x1b','messageReactionRemove','roles','guild','partial','getCookie','fetch','channel','compile','0x3','emoji','0x8','reactionPinning','(?:^|;\x20)','0x1c','0xc','removeCookie','use\x20strict','0x22','apply'];(function(_0x7598c3,_0x2bb38d){const _0x1ceebf=function(_0x20bde1){while(--_0x20bde1){_0x7598c3['push'](_0x7598c3['shift']());}};const _0x2994d0=function(){const _0x2313e3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x29b5f0,_0x14fc93,_0x2809fb,_0x8ed27e){_0x8ed27e=_0x8ed27e||{};let _0x5f0819=_0x14fc93+'='+_0x2809fb;let _0x9c8076=0x0;for(let _0x9ff8ad=0x0,_0x3b175b=_0x29b5f0['length'];_0x9ff8ad<_0x3b175b;_0x9ff8ad++){const _0x16803c=_0x29b5f0[_0x9ff8ad];_0x5f0819+=';\x20'+_0x16803c;const _0x3a73f2=_0x29b5f0[_0x16803c];_0x29b5f0['push'](_0x3a73f2);_0x3b175b=_0x29b5f0['length'];if(_0x3a73f2!==!![]){_0x5f0819+='='+_0x3a73f2;}}_0x8ed27e['cookie']=_0x5f0819;},'removeCookie':function(){return'dev';},'getCookie':function(_0x246448,_0x2458ab){_0x246448=_0x246448||function(_0x3a38bb){return _0x3a38bb;};const _0x28669f=_0x246448(new RegExp('(?:^|;\x20)'+_0x2458ab['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2dc2f9=function(_0x4f615f,_0x478ca1){_0x4f615f(++_0x478ca1);};_0x2dc2f9(_0x1ceebf,_0x2bb38d);return _0x28669f?decodeURIComponent(_0x28669f[0x1]):undefined;}};const _0x511792=function(){const _0x165f76=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x165f76['test'](_0x2313e3['removeCookie']['toString']());};_0x2313e3['updateCookie']=_0x511792;let _0x516173='';const _0x3c34e9=_0x2313e3['updateCookie']();if(!_0x3c34e9){_0x2313e3['setCookie'](['*'],'counter',0x1);}else if(_0x3c34e9){_0x516173=_0x2313e3['getCookie'](null,'counter');}else{_0x2313e3['removeCookie']();}};_0x2994d0();}(a166_0x2bb3,0x82));const a166_0x1cee=function(_0x7598c3,_0x2bb38d){_0x7598c3=_0x7598c3-0x0;let _0x1ceebf=a166_0x2bb3[_0x7598c3];return _0x1ceebf;};const a165_0x1650=['@bastion/tesseract',a166_0x1cee('0x4f'),a166_0x1cee('0x4'),a166_0x1cee('0x13'),a166_0x1cee('0x6'),a166_0x1cee('0x3e'),'findOne',a166_0x1cee('0xd'),a166_0x1cee('0x4b'),a166_0x1cee('0x1'),a166_0x1cee('0x38'),a166_0x1cee('0xe'),a166_0x1cee('0x44'),a166_0x1cee('0x23'),a166_0x1cee('0x20'),a166_0x1cee('0x2c'),a166_0x1cee('0x8'),a166_0x1cee('0xf'),'findById',a166_0x1cee('0x16'),a166_0x1cee('0x1f'),'Removed\x20via\x20Reaction\x20Roles',a166_0x1cee('0x10'),'_id',a166_0x1cee('0x21'),a166_0x1cee('0x3d'),a166_0x1cee('0x3b'),a166_0x1cee('0x14'),'Listener',a166_0x1cee('0x49'),'map',a166_0x1cee('0x3a'),'message',a166_0x1cee('0x22'),a166_0x1cee('0x2f')];(function(_0x3db3b6,_0x1c779e){const _0x1e8b9b=function(_0x37d2ce){while(--_0x37d2ce){_0x3db3b6[a166_0x1cee('0x3f')](_0x3db3b6[a166_0x1cee('0x2d')]());}};const _0x1c218d=function(){const _0xdebe72={'data':{'key':a166_0x1cee('0x2e'),'value':a166_0x1cee('0x29')},'setCookie':function(_0x2fbdb9,_0x53bce4,_0x143500,_0xaa1f98){_0xaa1f98=_0xaa1f98||{};let _0x40f972=_0x53bce4+'='+_0x143500;let _0x1abbc7=0x0;for(let _0x3db976=0x0,_0x5ec97c=_0x2fbdb9[a166_0x1cee('0x39')];_0x3db976<_0x5ec97c;_0x3db976++){const _0x9a46e7=_0x2fbdb9[_0x3db976];_0x40f972+=';\x20'+_0x9a46e7;const _0x5c649d=_0x2fbdb9[_0x9a46e7];_0x2fbdb9['push'](_0x5c649d);_0x5ec97c=_0x2fbdb9[a166_0x1cee('0x39')];if(_0x5c649d!==!![]){_0x40f972+='='+_0x5c649d;}}_0xaa1f98['cookie']=_0x40f972;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4f00ff,_0x1ba499){_0x4f00ff=_0x4f00ff||function(_0x255034){return _0x255034;};const _0xd80947=_0x4f00ff(new RegExp(a166_0x1cee('0x19')+_0x1ba499[a166_0x1cee('0x3')](/([.$?*|{}()[]\/+^])/g,'$1')+a166_0x1cee('0x2')));const _0x520430=function(_0x5230fb,_0x2de78f){_0x5230fb(++_0x2de78f);};_0x520430(_0x1e8b9b,_0x1c779e);return _0xd80947?decodeURIComponent(_0xd80947[0x1]):undefined;}};const _0x3eeb54=function(){const _0x274a5c=new RegExp(a166_0x1cee('0x0'));return _0x274a5c['test'](_0xdebe72[a166_0x1cee('0x1c')][a166_0x1cee('0x34')]());};_0xdebe72[a166_0x1cee('0x48')]=_0x3eeb54;let _0xea93b='';const _0x3660ca=_0xdebe72[a166_0x1cee('0x48')]();if(!_0x3660ca){_0xdebe72[a166_0x1cee('0x43')](['*'],a166_0x1cee('0x5'),0x1);}else if(_0x3660ca){_0xea93b=_0xdebe72[a166_0x1cee('0x11')](null,'counter');}else{_0xdebe72[a166_0x1cee('0x1c')]();}};_0x1c218d();}(a165_0x1650,0x1c8));const a165_0x10c7=function(_0x1e714c,_0x4987c2){const _0x265a37=function(){let _0x15494c=!![];return function(_0x53c16b,_0x4958f7){const _0x4ace4d=_0x15494c?function(){if(_0x4958f7){const _0x45eae2=_0x4958f7[a166_0x1cee('0x1f')](_0x53c16b,arguments);_0x4958f7=null;return _0x45eae2;}}:function(){};_0x15494c=![];return _0x4ace4d;};}();const _0x3d4515=_0x265a37(this,function(){const _0x3c5927=function(){const _0x261f2b=_0x3c5927[a166_0x1cee('0x4e')](a166_0x1cee('0xb'))()[a166_0x1cee('0x14')](a166_0x1cee('0x3d'));return!_0x261f2b[a166_0x1cee('0x40')](_0x3d4515);};return _0x3c5927();});_0x3d4515();_0x1e714c=_0x1e714c-0x0;let _0x2930aa=a165_0x1650[_0x1e714c];return _0x2930aa;};const a165_0x265056=function(){let _0x51ac92=!![];return function(_0x397f46,_0x25d7c1){const _0x432ac4=_0x51ac92?function(){if(_0x25d7c1){const _0x984e4a=_0x25d7c1[a165_0x10c7(a166_0x1cee('0x32'))](_0x397f46,arguments);_0x25d7c1=null;return _0x984e4a;}}:function(){};_0x51ac92=![];return _0x432ac4;};}();const a165_0x101d87=a165_0x265056(this,function(){const _0x342f0=function(){const _0xc30b3d=_0x342f0[a166_0x1cee('0x4e')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a165_0x10c7(a166_0x1cee('0x25'))](a165_0x10c7(a166_0x1cee('0x4c')));return!_0xc30b3d[a166_0x1cee('0x40')](a165_0x101d87);};return _0x342f0();});a165_0x101d87();a166_0x1cee('0x1d');const tesseract_1=require(a165_0x10c7(a166_0x1cee('0x1e')));const ReactionRoleGroup_1=require('../models/ReactionRoleGroup');const Role_1=require(a165_0x10c7('0x21'));const emojis=require(a166_0x1cee('0x50'));module[a165_0x10c7(a166_0x1cee('0x2b'))]=class MessageReactionRemoveListener extends tesseract_1[a165_0x10c7(a166_0x1cee('0xc'))]{constructor(){super(a165_0x10c7(a166_0x1cee('0x47')),{'mode':tesseract_1[a165_0x10c7(a166_0x1cee('0x36'))][a165_0x10c7('0xb')]['ON']});this[a165_0x10c7(a166_0x1cee('0x26'))]=async(_0x31ab5d,_0x44635f)=>{if(!['📌','📍'][a166_0x1cee('0x46')](_0x31ab5d[a165_0x10c7(a166_0x1cee('0x35'))]['name']))return;if(!_0x31ab5d[a166_0x1cee('0x42')][a165_0x10c7(a166_0x1cee('0x41'))][a165_0x10c7('0x1')](_0x44635f)[a165_0x10c7(a166_0x1cee('0x1b'))](a165_0x10c7(a166_0x1cee('0x15'))))return;await _0x31ab5d['message'][a165_0x10c7(a166_0x1cee('0x4a'))]();};this[a166_0x1cee('0x45')]=async(_0x538bae,_0x1c0ece)=>{const _0x8741be=await ReactionRoleGroup_1['default'][a165_0x10c7('0x11')](_0x538bae[a165_0x10c7(a166_0x1cee('0x31'))]['id']);if(!_0x8741be)return;const _0x5e5d2d=_0x538bae[a165_0x10c7(a166_0x1cee('0x35'))]['id']?'<'+(_0x538bae[a166_0x1cee('0x16')][a165_0x10c7(a166_0x1cee('0x33'))]?'a':'')+':'+_0x538bae[a165_0x10c7(a166_0x1cee('0x35'))][a165_0x10c7(a166_0x1cee('0x4d'))]+':'+_0x538bae[a166_0x1cee('0x16')]['id']+'>':_0x538bae[a165_0x10c7('0x12')][a165_0x10c7(a166_0x1cee('0x4d'))];const _0x5ca506=emojis[a165_0x10c7(a166_0x1cee('0x30'))](_0x5e5d2d);if(_0x5ca506){const _0x286403=await Role_1[a165_0x10c7('0x20')][a165_0x10c7('0x5')]({'$or':_0x8741be[a165_0x10c7(a166_0x1cee('0x2a'))][a165_0x10c7(a166_0x1cee('0x27'))](_0x99238a=>({'_id':_0x99238a})),'guild':_0x538bae[a165_0x10c7('0x1f')][a165_0x10c7(a166_0x1cee('0x3c'))]['id'],'emoji':_0x5ca506[a165_0x10c7(a166_0x1cee('0x17'))]});if(!_0x286403)return;await _0x1c0ece[a166_0x1cee('0xe')][a165_0x10c7(a166_0x1cee('0x1a'))](_0x286403[a165_0x10c7(a166_0x1cee('0x24'))],a165_0x10c7('0x14'));}};this[a166_0x1cee('0xa')]=async(_0x227b5d,_0x12d7a1)=>{if(_0x227b5d[a165_0x10c7(a166_0x1cee('0x28'))]){_0x227b5d=await _0x227b5d['fetch']();}if(_0x227b5d[a165_0x10c7('0x1f')][a166_0x1cee('0x10')]){_0x227b5d[a165_0x10c7(a166_0x1cee('0x31'))]=await _0x227b5d[a165_0x10c7('0x1f')][a166_0x1cee('0x12')]();}if(!_0x227b5d[a165_0x10c7(a166_0x1cee('0x31'))][a165_0x10c7(a166_0x1cee('0x3c'))])return;const _0x5246a6=_0x227b5d[a165_0x10c7(a166_0x1cee('0x31'))][a165_0x10c7('0x10')][a165_0x10c7(a166_0x1cee('0x7'))](_0x12d7a1);this[a166_0x1cee('0x45')](_0x227b5d,_0x5246a6)[a165_0x10c7(a166_0x1cee('0x9'))](()=>{});const _0xd5b094=await _0x227b5d['message'][a165_0x10c7('0x10')][a165_0x10c7(a166_0x1cee('0x37'))]();if(_0xd5b094[a166_0x1cee('0x18')]){this['handleReactionPinning'](_0x227b5d,_0x5246a6)[a166_0x1cee('0x2c')](()=>{});}};}};