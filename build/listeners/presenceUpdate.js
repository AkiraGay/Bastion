const a388_0x8720=['constructor','\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}','LISTENER_MODE','0x9','timeout','0x3','replace','findById','getCookie','dev','0x12','0x11','roles','0xb','counter','0xa','0xd','some','0x14','guild','member','0xc','0x1','shift','0x15','(?:^|;\x20)','exports','setCookie','0x18','updateCookie','0xe','0x19','0x7','0x1a','toString','streamerRoleId','@bastion/tesseract','catch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','0x8','0x5','0x13','0xf','size','compile','0x10','activities','exec','apply','every','0x2','cache','partial','add','cookie','../models/Guild','fetch','0x4','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','=([^;]*)','has','removeCookie','type','use\x20strict','STREAMING','length','0x0','test'];(function(_0x2a491b,_0x87202){const _0x1d6271=function(_0x17d47d){while(--_0x17d47d){_0x2a491b['push'](_0x2a491b['shift']());}};const _0x3a2634=function(){const _0x4b00e2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2523cd,_0x7293c5,_0x34edd7,_0x1a88f3){_0x1a88f3=_0x1a88f3||{};let _0x42bd08=_0x7293c5+'='+_0x34edd7;let _0x4329dc=0x0;for(let _0xd3fb68=0x0,_0x48d107=_0x2523cd['length'];_0xd3fb68<_0x48d107;_0xd3fb68++){const _0x73efcd=_0x2523cd[_0xd3fb68];_0x42bd08+=';\x20'+_0x73efcd;const _0x5541b2=_0x2523cd[_0x73efcd];_0x2523cd['push'](_0x5541b2);_0x48d107=_0x2523cd['length'];if(_0x5541b2!==!![]){_0x42bd08+='='+_0x5541b2;}}_0x1a88f3['cookie']=_0x42bd08;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2c242e,_0x466dcf){_0x2c242e=_0x2c242e||function(_0x370692){return _0x370692;};const _0x2eeef8=_0x2c242e(new RegExp('(?:^|;\x20)'+_0x466dcf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x439f9b=function(_0x1d7bfc,_0x224055){_0x1d7bfc(++_0x224055);};_0x439f9b(_0x1d6271,_0x87202);return _0x2eeef8?decodeURIComponent(_0x2eeef8[0x1]):undefined;}};const _0x51f412=function(){const _0x4e8d0c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4e8d0c['test'](_0x4b00e2['removeCookie']['toString']());};_0x4b00e2['updateCookie']=_0x51f412;let _0x2bd396='';const _0x494960=_0x4b00e2['updateCookie']();if(!_0x494960){_0x4b00e2['setCookie'](['*'],'counter',0x1);}else if(_0x494960){_0x2bd396=_0x4b00e2['getCookie'](null,'counter');}else{_0x4b00e2['removeCookie']();}};_0x3a2634();}(a388_0x8720,0x115));const a388_0x1d62=function(_0x2a491b,_0x87202){_0x2a491b=_0x2a491b-0x0;let _0x1d6271=a388_0x8720[_0x2a491b];return _0x1d6271;};const a387_0xd924=[a388_0x1d62('0x1e'),'STREAMING',a388_0x1d62('0x30'),a388_0x1d62('0x2b'),a388_0x1d62('0x2'),a388_0x1d62('0x2e'),a388_0x1d62('0x32'),a388_0x1d62('0x2f'),a388_0x1d62('0xe'),'presenceUpdate',a388_0x1d62('0xf'),'remove',a388_0x1d62('0x29'),a388_0x1d62('0x27'),a388_0x1d62('0x21'),a388_0x1d62('0x1f'),a388_0x1d62('0x33'),a388_0x1d62('0x37'),a388_0x1d62('0x35'),'some',a388_0x1d62('0x41'),'Listener','default',a388_0x1d62('0x7'),a388_0x1d62('0x39'),a388_0x1d62('0x2a'),'every'];(function(_0x25124a,_0x396c5c){const _0x2d8518=function(_0x10bec4){while(--_0x10bec4){_0x25124a['push'](_0x25124a[a388_0x1d62('0x12')]());}};const _0x300954=function(){const _0x271cd7={'data':{'key':a388_0x1d62('0x31'),'value':a388_0x1d62('0x43')},'setCookie':function(_0x354492,_0x25d507,_0xfc9de1,_0x2092d1){_0x2092d1=_0x2092d1||{};let _0x100fe0=_0x25d507+'='+_0xfc9de1;let _0x3a249e=0x0;for(let _0x4cccb5=0x0,_0x497c26=_0x354492[a388_0x1d62('0x3c')];_0x4cccb5<_0x497c26;_0x4cccb5++){const _0x19fccb=_0x354492[_0x4cccb5];_0x100fe0+=';\x20'+_0x19fccb;const _0x278793=_0x354492[_0x19fccb];_0x354492['push'](_0x278793);_0x497c26=_0x354492[a388_0x1d62('0x3c')];if(_0x278793!==!![]){_0x100fe0+='='+_0x278793;}}_0x2092d1[a388_0x1d62('0x31')]=_0x100fe0;},'removeCookie':function(){return a388_0x1d62('0x4');},'getCookie':function(_0x8c4603,_0x1cf050){_0x8c4603=_0x8c4603||function(_0x2acdcd){return _0x2acdcd;};const _0x3c5c04=_0x8c4603(new RegExp(a388_0x1d62('0x14')+_0x1cf050[a388_0x1d62('0x1')](/([.$?*|{}()[]\/+^])/g,'$1')+a388_0x1d62('0x36')));const _0x5ec51a=function(_0x2469f3,_0x37fa3c){_0x2469f3(++_0x37fa3c);};_0x5ec51a(_0x2d8518,_0x396c5c);return _0x3c5c04?decodeURIComponent(_0x3c5c04[0x1]):undefined;}};const _0x5c68e4=function(){const _0x4723f5=new RegExp(a388_0x1d62('0x40'));return _0x4723f5['test'](_0x271cd7['removeCookie'][a388_0x1d62('0x1d')]());};_0x271cd7[a388_0x1d62('0x18')]=_0x5c68e4;let _0x3c38bd='';const _0x66bcbe=_0x271cd7['updateCookie']();if(!_0x66bcbe){_0x271cd7[a388_0x1d62('0x16')](['*'],a388_0x1d62('0x9'),0x1);}else if(_0x66bcbe){_0x3c38bd=_0x271cd7[a388_0x1d62('0x3')](null,a388_0x1d62('0x9'));}else{_0x271cd7[a388_0x1d62('0x38')]();}};_0x300954();}(a387_0xd924,0x19d));const a387_0x579b=function(_0x2cfae7,_0x570baf){const _0xee9994=function(){let _0x534bd7=!![];return function(_0x2c7cde,_0x4299ca){const _0x5e9fcb=_0x534bd7?function(){if(_0x4299ca){const _0x22d698=_0x4299ca['apply'](_0x2c7cde,arguments);_0x4299ca=null;return _0x22d698;}}:function(){};_0x534bd7=![];return _0x5e9fcb;};}();const _0x4c2f3a=_0xee9994(this,function(){const _0x4fe85f=function(){const _0x501afe=_0x4fe85f['constructor'](a388_0x1d62('0x21'))()[a388_0x1d62('0x27')](a388_0x1d62('0x35'));return!_0x501afe[a388_0x1d62('0x3e')](_0x4c2f3a);};return _0x4fe85f();});_0x4c2f3a();_0x2cfae7=_0x2cfae7-0x0;let _0xe8b170=a387_0xd924[_0x2cfae7];return _0xe8b170;};const a387_0xc1a64=function(){let _0x4c7042=!![];return function(_0x529487,_0x575d27){const _0x1bd0cb=_0x4c7042?function(){if(_0x575d27){const _0x8c08c8=_0x575d27[a387_0x579b('0x16')](_0x529487,arguments);_0x575d27=null;return _0x8c08c8;}}:function(){};_0x4c7042=![];return _0x1bd0cb;};}();const a387_0x460e1a=a387_0xc1a64(this,function(){const _0xa51f31=function(){const _0x5ea9df=_0xa51f31[a388_0x1d62('0x3f')](a387_0x579b('0x6'))()[a387_0x579b(a388_0x1d62('0x23'))](a387_0x579b(a388_0x1d62('0xa')));return!_0x5ea9df[a388_0x1d62('0x3e')](a387_0x460e1a);};return _0xa51f31();});a387_0x460e1a();a388_0x1d62('0x3a');const tesseract_1=require(a387_0x579b(a388_0x1d62('0x1b')));const Guild_1=require(a387_0x579b(a388_0x1d62('0x1a')));module[a388_0x1d62('0x15')]=class PresenceListener extends tesseract_1[a387_0x579b(a388_0x1d62('0xb'))]{constructor(){super(a387_0x579b(a388_0x1d62('0x11')),{'mode':tesseract_1['Constants'][a387_0x579b(a388_0x1d62('0x10'))]['ON']});this[a387_0x579b(a388_0x1d62('0x6'))]=async(_0x29d3ca,_0x5c9053)=>{if(!_0x5c9053)return;if(!_0x5c9053[a387_0x579b(a388_0x1d62('0x3d'))])return;let _0x577242;if((!_0x29d3ca||_0x29d3ca[a387_0x579b(a388_0x1d62('0x34'))][a387_0x579b(a388_0x1d62('0x5'))](_0x551509=>_0x551509[a387_0x579b(a388_0x1d62('0x28'))]!==a387_0x579b(a388_0x1d62('0xd'))))&&_0x5c9053['activities'][a388_0x1d62('0xc')](_0x4ae986=>_0x4ae986[a388_0x1d62('0x39')]===a388_0x1d62('0x3b'))){_0x577242=!![];}else if(_0x29d3ca&&_0x29d3ca['activities'][a387_0x579b(a388_0x1d62('0x8'))](_0x319327=>_0x319327[a387_0x579b(a388_0x1d62('0x28'))]===a387_0x579b(a388_0x1d62('0xd')))&&_0x5c9053[a387_0x579b('0x4')][a388_0x1d62('0x2c')](_0x306b30=>_0x306b30[a387_0x579b(a388_0x1d62('0x28'))]!==a387_0x579b('0x14'))){_0x577242=![];}else return;if(_0x5c9053[a387_0x579b(a388_0x1d62('0x2d'))][a387_0x579b(a388_0x1d62('0x1c'))]){await _0x5c9053[a388_0x1d62('0xf')][a387_0x579b(a388_0x1d62('0x22'))]();}if(_0x5c9053[a387_0x579b('0x2')][a387_0x579b(a388_0x1d62('0x25'))][a387_0x579b(a388_0x1d62('0x17'))][a388_0x1d62('0x26')]<=0x2)return;const _0x1fde12=await Guild_1[a387_0x579b(a388_0x1d62('0x19'))][a387_0x579b('0x17')](_0x5c9053[a387_0x579b(a388_0x1d62('0x3d'))]['id']);if(!_0x1fde12[a387_0x579b(a388_0x1d62('0x24'))])return;if(!_0x5c9053['guild'][a387_0x579b(a388_0x1d62('0x25'))]['cache'][a387_0x579b(a388_0x1d62('0x42'))](_0x1fde12[a388_0x1d62('0x1e')]))return;if(_0x577242){_0x5c9053['member'][a387_0x579b(a388_0x1d62('0x25'))][a387_0x579b(a388_0x1d62('0x13'))](_0x1fde12[a387_0x579b(a388_0x1d62('0x24'))])[a388_0x1d62('0x20')](()=>{});}else{_0x5c9053[a387_0x579b(a388_0x1d62('0x2d'))][a387_0x579b('0xf')][a387_0x579b(a388_0x1d62('0x0'))](_0x1fde12['streamerRoleId'])[a388_0x1d62('0x20')](()=>{});}};}};