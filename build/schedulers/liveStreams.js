const a414_0x2d87=['test','removeCookie','credentials','../utils/constants','0\x20*/5\x20*\x20*\x20*\x20*','0x2d','setCookie','exec','title','cache','default','users','readyTimestamp','0x1','application/json','{height}','0x25','0x14','toString','{width}','join','0x28','=([^;]*)','map','0x2','0x32','0x1c','Bearer\x20','toUpperCase','exports','0x1e','json','constructor','0xc','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','0x36','0x8','language','0x13','../models/Guild','0x31','0x4','\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}','compile','0x20','guilds','get','0x17','set','0x16','dev','0x21','0x29','https://twitch.tv/','1280','0x33','0x1f','0x0','return\x20/\x22\x20+\x20this\x20+\x20\x22/','counter','TWITCH','0x24','0x12','replace','user_name','thumbnail_url','0x2b','0x2c','length','COLORS','use\x20strict','viewer_count','liveStreams','data','0x11','client','getCookie','0x5','0xe','(?:^|;\x20)','0x2e','started_at','then','size','has','0x35','0xa','0xf','channels','0xb','push','0x2f','0x1d','ðŸ”´\x20LIVE','twitchSubscriptions','0x34','0x15','timeout','includes','0x2a','twitch','&user_login=','clientId','channelId','0x1b','updateCookie','0x9','cookie','apply','0x26','0x1a','0x22'];(function(_0x21e81a,_0x2d872c){const _0x30ac88=function(_0x11f8f9){while(--_0x11f8f9){_0x21e81a['push'](_0x21e81a['shift']());}};const _0x1cf910=function(){const _0x12c252={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3b52ba,_0x4fa97e,_0xe42798,_0x1846aa){_0x1846aa=_0x1846aa||{};let _0x3ea864=_0x4fa97e+'='+_0xe42798;let _0x10bffb=0x0;for(let _0x404441=0x0,_0x1621f4=_0x3b52ba['length'];_0x404441<_0x1621f4;_0x404441++){const _0x335ad2=_0x3b52ba[_0x404441];_0x3ea864+=';\x20'+_0x335ad2;const _0x824ba9=_0x3b52ba[_0x335ad2];_0x3b52ba['push'](_0x824ba9);_0x1621f4=_0x3b52ba['length'];if(_0x824ba9!==!![]){_0x3ea864+='='+_0x824ba9;}}_0x1846aa['cookie']=_0x3ea864;},'removeCookie':function(){return'dev';},'getCookie':function(_0x51be72,_0x4a7e20){_0x51be72=_0x51be72||function(_0x3e6c17){return _0x3e6c17;};const _0x44d82b=_0x51be72(new RegExp('(?:^|;\x20)'+_0x4a7e20['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x9d2b2f=function(_0x1417f7,_0x17eb01){_0x1417f7(++_0x17eb01);};_0x9d2b2f(_0x30ac88,_0x2d872c);return _0x44d82b?decodeURIComponent(_0x44d82b[0x1]):undefined;}};const _0x535c0d=function(){const _0x179f70=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x179f70['test'](_0x12c252['removeCookie']['toString']());};_0x12c252['updateCookie']=_0x535c0d;let _0x247694='';const _0x2c35dc=_0x12c252['updateCookie']();if(!_0x2c35dc){_0x12c252['setCookie'](['*'],'counter',0x1);}else if(_0x2c35dc){_0x247694=_0x12c252['getCookie'](null,'counter');}else{_0x12c252['removeCookie']();}};_0x1cf910();}(a414_0x2d87,0xf2));const a414_0x30ac=function(_0x21e81a,_0x2d872c){_0x21e81a=_0x21e81a-0x0;let _0x30ac88=a414_0x2d87[_0x21e81a];return _0x30ac88;};const a413_0x5947=[a414_0x30ac('0x2e'),a414_0x30ac('0xa'),a414_0x30ac('0x68'),'twitchSubscriptions',a414_0x30ac('0x65'),a414_0x30ac('0x24'),a414_0x30ac('0x36'),a414_0x30ac('0x3f'),a414_0x30ac('0x28'),a414_0x30ac('0x52'),a414_0x30ac('0x2a'),a414_0x30ac('0x2'),'find','Language',a414_0x30ac('0x40'),a414_0x30ac('0x55'),a414_0x30ac('0x5a'),a414_0x30ac('0x39'),a414_0x30ac('0x60'),a414_0x30ac('0x42'),a414_0x30ac('0x5'),a414_0x30ac('0x37'),a414_0x30ac('0x53'),'Scheduler','push','https://api.twitch.tv/helix/streams/?user_login=',a414_0x30ac('0x33'),a414_0x30ac('0x1c'),a414_0x30ac('0x2d'),a414_0x30ac('0x5e'),'handleTwitchStreamers','streamers','catch',a414_0x30ac('0x32'),a414_0x30ac('0x6c'),a414_0x30ac('0x0'),a414_0x30ac('0x35'),a414_0x30ac('0xd'),a414_0x30ac('0x54'),a414_0x30ac('0x1e'),a414_0x30ac('0x15'),a414_0x30ac('0x4b'),a414_0x30ac('0x67'),a414_0x30ac('0xe'),'send','720','@bastion/tesseract','node-fetch',a414_0x30ac('0x6d'),a414_0x30ac('0x1b'),a414_0x30ac('0x69'),a414_0x30ac('0x9'),a414_0x30ac('0x2f'),'_id',a414_0x30ac('0x10')];(function(_0x461fc2,_0x58fb0f){const _0x227d4f=function(_0x454ca4){while(--_0x454ca4){_0x461fc2[a414_0x30ac('0x48')](_0x461fc2['shift']());}};const _0x255a85=function(){const _0x75d88f={'data':{'key':a414_0x30ac('0x59'),'value':a414_0x30ac('0x4f')},'setCookie':function(_0x134996,_0x577901,_0x3946a7,_0x3a3ca3){_0x3a3ca3=_0x3a3ca3||{};let _0x48802a=_0x577901+'='+_0x3946a7;let _0x9c88a3=0x0;for(let _0x3a8395=0x0,_0x54c64f=_0x134996[a414_0x30ac('0x32')];_0x3a8395<_0x54c64f;_0x3a8395++){const _0x36d011=_0x134996[_0x3a8395];_0x48802a+=';\x20'+_0x36d011;const _0x25c3f4=_0x134996[_0x36d011];_0x134996[a414_0x30ac('0x48')](_0x25c3f4);_0x54c64f=_0x134996[a414_0x30ac('0x32')];if(_0x25c3f4!==!![]){_0x48802a+='='+_0x25c3f4;}}_0x3a3ca3['cookie']=_0x48802a;},'removeCookie':function(){return a414_0x30ac('0x20');},'getCookie':function(_0x329e8b,_0x4a413b){_0x329e8b=_0x329e8b||function(_0x59c688){return _0x59c688;};const _0xa3fe24=_0x329e8b(new RegExp(a414_0x30ac('0x3d')+_0x4a413b[a414_0x30ac('0x2d')](/([.$?*|{}()[]\/+^])/g,'$1')+a414_0x30ac('0x4')));const _0x52b9c9=function(_0x21bc82,_0x2d9185){_0x21bc82(++_0x2d9185);};_0x52b9c9(_0x227d4f,_0x58fb0f);return _0xa3fe24?decodeURIComponent(_0xa3fe24[0x1]):undefined;}};const _0x2d03a1=function(){const _0x457707=new RegExp(a414_0x30ac('0x18'));return _0x457707[a414_0x30ac('0x5e')](_0x75d88f[a414_0x30ac('0x5f')][a414_0x30ac('0x0')]());};_0x75d88f['updateCookie']=_0x2d03a1;let _0x2f9f13='';const _0x5b2bd0=_0x75d88f[a414_0x30ac('0x57')]();if(!_0x5b2bd0){_0x75d88f[a414_0x30ac('0x64')](['*'],a414_0x30ac('0x29'),0x1);}else if(_0x5b2bd0){_0x2f9f13=_0x75d88f[a414_0x30ac('0x3a')](null,a414_0x30ac('0x29'));}else{_0x75d88f[a414_0x30ac('0x5f')]();}};_0x255a85();}(a413_0x5947,0x128));const a413_0xb543=function(_0x1c0a33,_0x4a1802){_0x1c0a33=_0x1c0a33-0x0;let _0x491c82=a413_0x5947[_0x1c0a33];return _0x491c82;};const a413_0x15c1e7=function(){const _0x50c73c=function(){let _0xced385=!![];return function(_0xd13c87,_0x19a67c){const _0xfbde3f=_0xced385?function(){if(_0x19a67c){const _0x309cbb=_0x19a67c[a414_0x30ac('0x5a')](_0xd13c87,arguments);_0x19a67c=null;return _0x309cbb;}}:function(){};_0xced385=![];return _0xfbde3f;};}();const _0x46fec0=_0x50c73c(this,function(){const _0x43a39d=function(){const _0x2f865b=_0x43a39d[a414_0x30ac('0xe')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a414_0x30ac('0x19')](a414_0x30ac('0x10'));return!_0x2f865b[a414_0x30ac('0x5e')](_0x46fec0);};return _0x43a39d();});_0x46fec0();let _0x12a857=!![];return function(_0x2cdb70,_0x5c81ba){const _0x3c1c78=_0x12a857?function(){if(_0x5c81ba){const _0x42e039=_0x5c81ba[a413_0xb543(a414_0x30ac('0x7'))](_0x2cdb70,arguments);_0x5c81ba=null;return _0x42e039;}}:function(){};_0x12a857=![];return _0x3c1c78;};}();const a413_0x721ee4=a413_0x15c1e7(this,function(){const _0x37d8b6=function(){const _0x3f371b=_0x37d8b6[a413_0xb543(a414_0x30ac('0x1f'))](a413_0xb543(a414_0x30ac('0x51')))()[a414_0x30ac('0x19')](a413_0xb543(a414_0x30ac('0x21')));return!_0x3f371b[a413_0xb543(a414_0x30ac('0x12'))](a413_0x721ee4);};return _0x37d8b6();});a413_0x721ee4();a414_0x30ac('0x34');const tesseract_1=require(a413_0xb543('0x19'));const node_fetch_1=require(a413_0xb543(a414_0x30ac('0x5c')));const Guild_1=require(a413_0xb543(a414_0x30ac('0x14')));const constants=require(a414_0x30ac('0x61'));module[a414_0x30ac('0xb')]=class LiveStreams extends tesseract_1[a413_0xb543(a414_0x30ac('0x6'))]{constructor(){super(a413_0xb543(a414_0x30ac('0x3')),{'cronTime':a414_0x30ac('0x62')});this[a413_0xb543('0x9')]=async(_0x38261f,_0x5c1114)=>{if(!this[a413_0xb543('0x33')][a414_0x30ac('0x6a')])return;if(!this[a413_0xb543(a414_0x30ac('0x6e'))][a413_0xb543(a414_0x30ac('0x43'))](_0x38261f))this[a413_0xb543('0x25')][a413_0xb543(a414_0x30ac('0x2c'))](_0x38261f,[]);const _0x3c0950=this[a413_0xb543(a414_0x30ac('0x6e'))][a414_0x30ac('0x1c')](_0x38261f);const _0x446165=await node_fetch_1[a413_0xb543('0x24')](a413_0xb543(a414_0x30ac('0x17'))+_0x5c1114[a414_0x30ac('0x69')][a413_0xb543(a414_0x30ac('0x63'))](a413_0xb543(a414_0x30ac('0x6b'))),{'headers':{'Accept':a413_0xb543('0xd'),'Authorization':a413_0xb543(a414_0x30ac('0xc'))+this[a413_0xb543(a414_0x30ac('0x25'))][a414_0x30ac('0x60')][a413_0xb543(a414_0x30ac('0x30'))]['accessToken'],'Client-ID':this['client'][a413_0xb543(a414_0x30ac('0x4d'))][a413_0xb543(a414_0x30ac('0x30'))][a413_0xb543(a414_0x30ac('0x38'))]}});const _0x561ce6=(await _0x446165[a413_0xb543('0x10')]())[a413_0xb543(a414_0x30ac('0x27'))];for(const _0x48b869 of _0x561ce6){if(_0x3c0950[a414_0x30ac('0x50')](_0x48b869['id']))continue;if(this[a413_0xb543(a414_0x30ac('0x25'))][a414_0x30ac('0x46')][a413_0xb543(a414_0x30ac('0x4e'))][a414_0x30ac('0x42')](_0x5c1114[a413_0xb543(a414_0x30ac('0x16'))])){await this[a413_0xb543('0x33')][a414_0x30ac('0x46')][a414_0x30ac('0x67')][a413_0xb543('0x6')](_0x5c1114[a413_0xb543('0x31')])[a413_0xb543(a414_0x30ac('0x1d'))]({'embed':{'color':constants[a413_0xb543(a414_0x30ac('0x3b'))][a413_0xb543(a414_0x30ac('0x31'))],'author':{'name':_0x48b869[a413_0xb543(a414_0x30ac('0x5d'))],'url':a414_0x30ac('0x23')+_0x48b869[a413_0xb543(a414_0x30ac('0x5d'))]},'description':_0x48b869[a414_0x30ac('0x66')],'fields':[{'name':'Viewers','value':_0x48b869[a413_0xb543(a414_0x30ac('0x45'))][a413_0xb543(a414_0x30ac('0x3c'))](),'inline':!![]},{'name':a413_0xb543(a414_0x30ac('0x49')),'value':_0x48b869[a414_0x30ac('0x13')][a413_0xb543('0x23')](),'inline':!![]}],'image':{'url':_0x48b869[a413_0xb543(a414_0x30ac('0x26'))][a413_0xb543('0x7')](a414_0x30ac('0x1'),a413_0xb543('0x27'))[a414_0x30ac('0x2d')](a413_0xb543(a414_0x30ac('0x56')),a413_0xb543('0x18'))},'footer':{'text':a413_0xb543(a414_0x30ac('0x6f'))},'timestamp':_0x48b869[a413_0xb543(a414_0x30ac('0x22'))]}})[a413_0xb543('0x30')](()=>{_0x3c0950[a413_0xb543('0x3')](_0x48b869['id']);})[a413_0xb543(a414_0x30ac('0x47'))](()=>{});}}this[a414_0x30ac('0x4c')][a413_0xb543(a414_0x30ac('0x2c'))](_0x38261f,_0x3c0950);};this[a413_0xb543(a414_0x30ac('0x5b'))]=async()=>{if(!this[a413_0xb543(a414_0x30ac('0x25'))][a413_0xb543(a414_0x30ac('0x8'))][a413_0xb543(a414_0x30ac('0x4e'))][a414_0x30ac('0x41')])return;const _0x5d029d=await Guild_1[a413_0xb543(a414_0x30ac('0x2b'))][a413_0xb543(a414_0x30ac('0x3e'))]({'$or':this[a413_0xb543(a414_0x30ac('0x25'))][a413_0xb543(a414_0x30ac('0x8'))][a414_0x30ac('0x67')][a413_0xb543(a414_0x30ac('0x11'))](_0x58fac6=>({'_id':_0x58fac6['id']})),'streamers':{'$exists':!![]}});for(const _0x13cc5b of _0x5d029d){if(_0x13cc5b[a413_0xb543('0xa')][a413_0xb543(a414_0x30ac('0x30'))]&&_0x13cc5b[a413_0xb543('0xa')][a414_0x30ac('0x52')][a413_0xb543(a414_0x30ac('0x16'))]&&_0x13cc5b[a413_0xb543(a414_0x30ac('0x44'))][a413_0xb543(a414_0x30ac('0x30'))][a413_0xb543(a414_0x30ac('0x4a'))][a413_0xb543(a414_0x30ac('0xf'))]){this[a413_0xb543(a414_0x30ac('0x58'))](_0x13cc5b[a413_0xb543(a414_0x30ac('0x1a'))],_0x13cc5b[a413_0xb543('0xa')][a414_0x30ac('0x52')]);}}};this[a414_0x30ac('0x4c')]=new Map();}};