const a108_0x3b94=['INVALID_COMMAND_SYNTAX','weaponBestType','adventuresCompleted','dateLastPlayed','test','It\x20allows\x20you\x20to\x20see\x20the\x20stats\x20of\x20any\x20Destiny\x202\x20player\x20in\x20any\x20supported\x20platform.','\x20Heroic\x20Public\x20Events\x20Completed','objectivesCompleted','channel','psn','killsDeathsAssists','toUTCString','basic','makeRequest','../../utils/errors','exec','constructor','stadia','Score','precisionKills','kills','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','profile','\x20Adventures\x20Completed\x0a','score','join','secondsPlayed','\x20Suicides','destiny2','stats','membership','mergedAllCharacters','winLossRatio','COLORS','Assists','platforms','Best\x20Weapon\x20Type','guild','heroicPublicEventsCompleted','BASTION_ERROR_TYPE','json','exports','Deaths','allMedalsEarned','../../utils/constants','toLowerCase','Kills','platform','Command','Highest\x20Light\x20Level','Last\x20played\x20on\x20','blizzard','allTime','deaths','indexOf','Combat\x20Rating','displayValue','displayName','value','KAD','highestLightLevel','suicides','teamScore','combatRating','destiny2\x20USERNAME\x20--platform\x20PLATFORM','killsDeathsRatio','Win\x20Loss\x20Ratio','includes','Destiny\x202\x20-\x20Player\x20Stats','merged','\x20/\x20','length','Extras','KDR','xbl','\x20Precision\x20Kills','keys','assists','toUpperCase','return\x20/\x22\x20+\x20this\x20+\x20\x22/','@bastion/tesseract','membershipType'];(function(_0xd13d3d,_0x3b94ac){const _0x27077d=function(_0x54ae58){while(--_0x54ae58){_0xd13d3d['push'](_0xd13d3d['shift']());}},_0x43d39a=function(){const _0x14474={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4ec0ea,_0x1e48fc,_0x334593,_0x413dee){_0x413dee=_0x413dee||{};let _0x574b5c=_0x1e48fc+'='+_0x334593,_0x157f1d=0x0;for(let _0xce3893=0x0,_0x46dc40=_0x4ec0ea['length'];_0xce3893<_0x46dc40;_0xce3893++){const _0x5c36a4=_0x4ec0ea[_0xce3893];_0x574b5c+=';\x20'+_0x5c36a4;const _0x15aa3f=_0x4ec0ea[_0x5c36a4];_0x4ec0ea['push'](_0x15aa3f),_0x46dc40=_0x4ec0ea['length'],_0x15aa3f!==!![]&&(_0x574b5c+='='+_0x15aa3f);}_0x413dee['cookie']=_0x574b5c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2565ab,_0x55145c){_0x2565ab=_0x2565ab||function(_0x28fe77){return _0x28fe77;};const _0x1a8298=_0x2565ab(new RegExp('(?:^|;\x20)'+_0x55145c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2e4523=function(_0x6be30d,_0x19d011){_0x6be30d(++_0x19d011);};return _0x2e4523(_0x27077d,_0x3b94ac),_0x1a8298?decodeURIComponent(_0x1a8298[0x1]):undefined;}},_0x292e21=function(){const _0x43f15d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x43f15d['test'](_0x14474['removeCookie']['toString']());};_0x14474['updateCookie']=_0x292e21;let _0x5448ba='';const _0x317d99=_0x14474['updateCookie']();if(!_0x317d99)_0x14474['setCookie'](['*'],'counter',0x1);else _0x317d99?_0x5448ba=_0x14474['getCookie'](null,'counter'):_0x14474['removeCookie']();};_0x43d39a();}(a108_0x3b94,0x1b9));const a108_0x2707=function(_0xd13d3d,_0x3b94ac){_0xd13d3d=_0xd13d3d-0x0;let _0x27077d=a108_0x3b94[_0xd13d3d];return _0x27077d;};const _0x221a28=a108_0x2707,a108_0x14474=function(){let _0x5448ba=!![];return function(_0x317d99,_0x4ec0ea){const _0x1e48fc=_0x5448ba?function(){if(_0x4ec0ea){const _0x334593=_0x4ec0ea['apply'](_0x317d99,arguments);return _0x4ec0ea=null,_0x334593;}}:function(){};return _0x5448ba=![],_0x1e48fc;};}(),a108_0x54ae58=a108_0x14474(this,function(){const _0x413dee=function(){const _0x11f89a=a108_0x2707,_0x574b5c=_0x413dee[_0x11f89a('0x43')](_0x11f89a('0x30'))()[_0x11f89a('0x43')](_0x11f89a('0x48'));return!_0x574b5c[_0x11f89a('0x37')](a108_0x54ae58);};return _0x413dee();});a108_0x54ae58();'use strict';const tesseract_1=require(_0x221a28('0x31')),constants=require(_0x221a28('0xd')),errors=require(_0x221a28('0x41')),omnic=require('../../utils/omnic');module[_0x221a28('0xa')]=class Destiny2Command extends tesseract_1[_0x221a28('0x11')]{constructor(){const _0x4b3149=_0x221a28;super(_0x4b3149('0x4f'),{'description':_0x4b3149('0x38'),'triggers':[],'arguments':{'alias':{'platform':['p']},'string':[_0x4b3149('0x10')]},'scope':_0x4b3149('0x6'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['destiny2\x20USERNAME',_0x4b3149('0x21')]}),this[_0x4b3149('0x42')]=async(_0x157f1d,_0xce3893)=>{const _0x483567=_0x4b3149;if(!_0xce3893['_']['length'])throw new errors['DiscordError'](errors[_0x483567('0x8')][_0x483567('0x33')],this['name']);const _0x46dc40=_0xce3893['_'][_0x483567('0x4c')]('\x20'),_0x5c36a4=_0xce3893[_0x483567('0x10')]&&this[_0x483567('0x4')][_0x483567('0x24')](_0xce3893[_0x483567('0x10')][_0x483567('0xe')]())?this['platforms'][_0x483567('0x17')](_0xce3893[_0x483567('0x10')]['toLowerCase']()):-0x1,_0x15aa3f=await omnic[_0x483567('0x40')]('/playerstats/destiny2/'+_0x5c36a4+'/'+encodeURIComponent(_0x46dc40)),_0x2565ab=await _0x15aa3f[_0x483567('0x9')]();if(!Object[_0x483567('0x2d')](_0x2565ab)[_0x483567('0x28')])throw new Error('PLAYER_DOESNT_EXIST');await _0x157f1d[_0x483567('0x3b')]['send']({'embed':{'color':constants[_0x483567('0x2')]['DESTINY_2'],'author':{'name':_0x2565ab[_0x483567('0x51')][_0x483567('0x1a')]},'title':_0x483567('0x25'),'description':_0x483567('0x13')+new Date(_0x2565ab[_0x483567('0x49')][_0x483567('0x49')]['data'][_0x483567('0x36')])[_0x483567('0x3e')](),'fields':[{'name':'Playtime','value':_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x4d')]['basic'][_0x483567('0x19')],'inline':!![]},{'name':'Highest\x20Light\x20Level','value':_0x2565ab[_0x483567('0x50')]['mergedAllCharacters'][_0x483567('0x26')][_0x483567('0x15')]['highestLightLevel'][_0x483567('0x3f')]['displayValue'],'inline':!![]},{'name':_0x483567('0x12'),'value':_0x2565ab['stats'][_0x483567('0x0')]['merged'][_0x483567('0x15')][_0x483567('0x1d')][_0x483567('0x3f')][_0x483567('0x19')],'inline':!![]},{'name':_0x483567('0x18'),'value':_0x2565ab[_0x483567('0x50')]['mergedAllCharacters'][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x20')]['basic']['displayValue'],'inline':!![]},{'name':_0x483567('0x45'),'value':_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')]['allTime'][_0x483567('0x4b')]['basic'][_0x483567('0x19')],'inline':!![]},{'name':'Team\x20Score','value':_0x2565ab[_0x483567('0x50')]['mergedAllCharacters'][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x1f')][_0x483567('0x3f')][_0x483567('0x19')],'inline':!![]},{'name':_0x483567('0xf'),'value':_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x47')][_0x483567('0x3f')]['displayValue']+'\x20/\x20'+_0x2565ab[_0x483567('0x50')][_0x483567('0x0')]['merged'][_0x483567('0x15')][_0x483567('0x46')][_0x483567('0x3f')][_0x483567('0x19')]+_0x483567('0x2c'),'inline':!![]},{'name':_0x483567('0x3'),'value':_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x2e')]['basic']['displayValue'],'inline':!![]},{'name':_0x483567('0xb'),'value':_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x16')]['basic'][_0x483567('0x19')]+_0x483567('0x27')+_0x2565ab['stats']['mergedAllCharacters'][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x1e')][_0x483567('0x3f')]['displayValue']+_0x483567('0x4e'),'inline':!![]},{'name':_0x483567('0x2a'),'value':_0x2565ab['stats'][_0x483567('0x0')]['merged']['allTime'][_0x483567('0x22')][_0x483567('0x3f')][_0x483567('0x19')],'inline':!![]},{'name':'KDA','value':_0x2565ab['stats'][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x3d')][_0x483567('0x3f')][_0x483567('0x19')],'inline':!![]},{'name':_0x483567('0x1c'),'value':((_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x47')][_0x483567('0x3f')][_0x483567('0x1b')]+_0x2565ab['stats'][_0x483567('0x0')]['merged'][_0x483567('0x15')][_0x483567('0x2e')][_0x483567('0x3f')]['value'])/_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x16')][_0x483567('0x3f')][_0x483567('0x1b')])['toFixed'](0x2),'inline':!![]},{'name':_0x483567('0x23'),'value':_0x2565ab['stats'][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x1')]['basic']['displayValue'],'inline':!![]},{'name':_0x483567('0x5'),'value':_0x2565ab[_0x483567('0x50')][_0x483567('0x0')][_0x483567('0x26')]['allTime'][_0x483567('0x34')][_0x483567('0x3f')][_0x483567('0x19')],'inline':!![]},{'name':'Total\x20Medals\x20Earned','value':_0x2565ab['stats'][_0x483567('0x0')]['merged']['allTime'][_0x483567('0xc')][_0x483567('0x3f')][_0x483567('0x19')],'inline':!![]},{'name':_0x483567('0x29'),'value':_0x2565ab['stats'][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x3a')][_0x483567('0x3f')][_0x483567('0x19')]+'\x20Objectives\x20Completed\x0a'+_0x2565ab['stats'][_0x483567('0x0')][_0x483567('0x26')][_0x483567('0x15')][_0x483567('0x35')]['basic'][_0x483567('0x19')]+_0x483567('0x4a')+_0x2565ab[_0x483567('0x50')]['mergedAllCharacters'][_0x483567('0x26')]['allTime'][_0x483567('0x7')]['basic']['displayValue']+_0x483567('0x39')}],'footer':{'text':this[_0x483567('0x4')][_0x2565ab[_0x483567('0x51')][_0x483567('0x32')]][_0x483567('0x2f')]()+'\x20â€¢\x20Powered\x20by\x20Bungie'}}});},this['platforms']=[null,_0x4b3149('0x2b'),_0x4b3149('0x3c'),'steam',_0x4b3149('0x14'),_0x4b3149('0x44')];}};