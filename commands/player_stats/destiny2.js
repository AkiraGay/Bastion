const a125_0x3402=['profile','\x20Heroic\x20Public\x20Events\x20Completed','Kills','toFixed','Highest\x20Light\x20Level','INVALID_COMMAND_SYNTAX','It\x20allows\x20you\x20to\x20see\x20the\x20stats\x20of\x20any\x20Destiny\x202\x20player\x20in\x20any\x20supported\x20platform.','teamScore','heroicPublicEventsCompleted','displayValue','stadia','includes','mergedAllCharacters','basic','Combat\x20Rating','assists','kills','Command','send','Team\x20Score','Playtime','stats','@bastion/tesseract','KAD','\x20â€¢\x20Powered\x20by\x20Bungie','channel','Score','guild','allTime','data','dateLastPlayed','objectivesCompleted','winLossRatio','../../utils/constants','exec','toUpperCase','\x20Precision\x20Kills','highestLightLevel','PLAYER_DOESNT_EXIST','KDA','blizzard','weaponBestType','COLORS','\x20Objectives\x20Completed\x0a','value','score','length','name','deaths','\x20/\x20','precisionKills','indexOf','displayName','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Total\x20Medals\x20Earned','toLowerCase','combatRating','destiny2\x20USERNAME','suicides','Last\x20played\x20on\x20','constructor','xbl','Assists','KDR','\x20Adventures\x20Completed\x0a','\x20Suicides','platform','../../utils/omnic','merged','/playerstats/destiny2/','join','platforms','secondsPlayed'];(function(_0x365c6c,_0x1c678c){const _0x34027c=function(_0x2720ca){while(--_0x2720ca){_0x365c6c['push'](_0x365c6c['shift']());}},_0x1233e1=function(){const _0x2be783={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5f423f,_0x1b2ede,_0x43fecd,_0x469f44){_0x469f44=_0x469f44||{};let _0x5afc78=_0x1b2ede+'='+_0x43fecd,_0x4240c0=0x0;for(let _0x4ea1ea=0x0,_0x3a4ab2=_0x5f423f['length'];_0x4ea1ea<_0x3a4ab2;_0x4ea1ea++){const _0x4aca4f=_0x5f423f[_0x4ea1ea];_0x5afc78+=';\x20'+_0x4aca4f;const _0x15c865=_0x5f423f[_0x4aca4f];_0x5f423f['push'](_0x15c865),_0x3a4ab2=_0x5f423f['length'],_0x15c865!==!![]&&(_0x5afc78+='='+_0x15c865);}_0x469f44['cookie']=_0x5afc78;},'removeCookie':function(){return'dev';},'getCookie':function(_0x9f3634,_0x24bd35){_0x9f3634=_0x9f3634||function(_0xb95782){return _0xb95782;};const _0x481623=_0x9f3634(new RegExp('(?:^|;\x20)'+_0x24bd35['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x542db5=function(_0x3d9ec1,_0xdcb800){_0x3d9ec1(++_0xdcb800);};return _0x542db5(_0x34027c,_0x1c678c),_0x481623?decodeURIComponent(_0x481623[0x1]):undefined;}},_0x54dda9=function(){const _0x229b5d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x229b5d['test'](_0x2be783['removeCookie']['toString']());};_0x2be783['updateCookie']=_0x54dda9;let _0x2d3cca='';const _0x1dadb1=_0x2be783['updateCookie']();if(!_0x1dadb1)_0x2be783['setCookie'](['*'],'counter',0x1);else _0x1dadb1?_0x2d3cca=_0x2be783['getCookie'](null,'counter'):_0x2be783['removeCookie']();};_0x1233e1();}(a125_0x3402,0x11d));const a125_0x1233=function(_0x365c6c,_0x1c678c){_0x365c6c=_0x365c6c-0x82;let _0x34027c=a125_0x3402[_0x365c6c];return _0x34027c;};const a125_0x5dfc65=a125_0x1233,a125_0x54dda9=function(){let _0x1dadb1=!![];return function(_0x5f423f,_0x1b2ede){const _0x43fecd=_0x1dadb1?function(){if(_0x1b2ede){const _0x469f44=_0x1b2ede['apply'](_0x5f423f,arguments);return _0x1b2ede=null,_0x469f44;}}:function(){};return _0x1dadb1=![],_0x43fecd;};}(),a125_0x2be783=a125_0x54dda9(this,function(){const _0x5afc78=function(){const _0x44e5e3=a125_0x1233,_0x4240c0=_0x5afc78['constructor'](_0x44e5e3(0xbe))()[_0x44e5e3(0xc5)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4240c0['test'](a125_0x2be783);};return _0x5afc78();});a125_0x2be783();'use strict';const tesseract_1=require(a125_0x5dfc65(0x9f)),constants=require(a125_0x5dfc65(0xaa)),errors=require('../../utils/errors'),omnic=require(a125_0x5dfc65(0x83));module['exports']=class Destiny2Command extends tesseract_1[a125_0x5dfc65(0x9a)]{constructor(){const _0x5b9ad5=a125_0x5dfc65;super('destiny2',{'description':_0x5b9ad5(0x8f),'triggers':[],'arguments':{'alias':{'platform':['p']},'string':[_0x5b9ad5(0x82)]},'scope':_0x5b9ad5(0xa4),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x5b9ad5(0xc2),'destiny2\x20USERNAME\x20--platform\x20PLATFORM']}),this[_0x5b9ad5(0xab)]=async(_0x4ea1ea,_0x3a4ab2)=>{const _0x5cd91f=_0x5b9ad5;if(!_0x3a4ab2['_']['length'])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x5cd91f(0x8e)],this[_0x5cd91f(0xb8)]);const _0x4aca4f=_0x3a4ab2['_'][_0x5cd91f(0x86)]('\x20'),_0x15c865=_0x3a4ab2[_0x5cd91f(0x82)]&&this[_0x5cd91f(0x87)][_0x5cd91f(0x94)](_0x3a4ab2[_0x5cd91f(0x82)][_0x5cd91f(0xc0)]())?this[_0x5cd91f(0x87)][_0x5cd91f(0xbc)](_0x3a4ab2[_0x5cd91f(0x82)][_0x5cd91f(0xc0)]()):-0x1,_0x9f3634=await omnic['makeRequest'](_0x5cd91f(0x85)+_0x15c865+'/'+encodeURIComponent(_0x4aca4f)),_0x24bd35=await _0x9f3634['json']();if(!Object['keys'](_0x24bd35)[_0x5cd91f(0xb7)])throw new Error(_0x5cd91f(0xaf));await _0x4ea1ea[_0x5cd91f(0xa2)][_0x5cd91f(0x9b)]({'embed':{'color':constants[_0x5cd91f(0xb3)]['DESTINY_2'],'author':{'name':_0x24bd35['membership'][_0x5cd91f(0xbd)]},'title':'Destiny\x202\x20-\x20Player\x20Stats','description':_0x5cd91f(0xc4)+new Date(_0x24bd35[_0x5cd91f(0x89)][_0x5cd91f(0x89)][_0x5cd91f(0xa6)][_0x5cd91f(0xa7)])['toUTCString'](),'fields':[{'name':_0x5cd91f(0x9d),'value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)]['merged'][_0x5cd91f(0xa5)][_0x5cd91f(0x88)][_0x5cd91f(0x96)]['displayValue'],'inline':!![]},{'name':_0x5cd91f(0x8d),'value':_0x24bd35['stats'][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xae)][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0x8d),'value':_0x24bd35['stats'][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xae)][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0x97),'value':_0x24bd35[_0x5cd91f(0x9e)]['mergedAllCharacters'][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xc1)][_0x5cd91f(0x96)]['displayValue'],'inline':!![]},{'name':_0x5cd91f(0xa3),'value':_0x24bd35['stats'][_0x5cd91f(0x95)][_0x5cd91f(0x84)]['allTime'][_0x5cd91f(0xb6)][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0x9c),'value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0x90)]['basic'][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0x8b),'value':_0x24bd35[_0x5cd91f(0x9e)]['mergedAllCharacters'][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0x99)][_0x5cd91f(0x96)]['displayValue']+'\x20/\x20'+_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xbb)][_0x5cd91f(0x96)][_0x5cd91f(0x92)]+_0x5cd91f(0xad),'inline':!![]},{'name':_0x5cd91f(0xc7),'value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0x98)][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':'Deaths','value':_0x24bd35['stats']['mergedAllCharacters'][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xb9)][_0x5cd91f(0x96)]['displayValue']+_0x5cd91f(0xba)+_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xc3)][_0x5cd91f(0x96)]['displayValue']+_0x5cd91f(0xca),'inline':!![]},{'name':_0x5cd91f(0xc8),'value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)]['merged']['allTime']['killsDeathsRatio']['basic'][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0xb0),'value':_0x24bd35['stats'][_0x5cd91f(0x95)]['merged'][_0x5cd91f(0xa5)]['killsDeathsAssists'][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0xa0),'value':((_0x24bd35['stats'][_0x5cd91f(0x95)][_0x5cd91f(0x84)]['allTime'][_0x5cd91f(0x99)]['basic']['value']+_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)]['merged']['allTime'][_0x5cd91f(0x98)][_0x5cd91f(0x96)][_0x5cd91f(0xb5)])/_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)]['merged'][_0x5cd91f(0xa5)][_0x5cd91f(0xb9)][_0x5cd91f(0x96)]['value'])[_0x5cd91f(0x8c)](0x2),'inline':!![]},{'name':'Win\x20Loss\x20Ratio','value':_0x24bd35['stats']['mergedAllCharacters'][_0x5cd91f(0x84)]['allTime'][_0x5cd91f(0xa9)][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':'Best\x20Weapon\x20Type','value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xb2)][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':_0x5cd91f(0xbf),'value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)]['merged']['allTime']['allMedalsEarned'][_0x5cd91f(0x96)][_0x5cd91f(0x92)],'inline':!![]},{'name':'Extras','value':_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)][_0x5cd91f(0xa8)][_0x5cd91f(0x96)][_0x5cd91f(0x92)]+_0x5cd91f(0xb4)+_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)][_0x5cd91f(0x84)][_0x5cd91f(0xa5)]['adventuresCompleted'][_0x5cd91f(0x96)][_0x5cd91f(0x92)]+_0x5cd91f(0xc9)+_0x24bd35[_0x5cd91f(0x9e)][_0x5cd91f(0x95)]['merged'][_0x5cd91f(0xa5)][_0x5cd91f(0x91)][_0x5cd91f(0x96)][_0x5cd91f(0x92)]+_0x5cd91f(0x8a)}],'footer':{'text':this[_0x5cd91f(0x87)][_0x24bd35['membership']['membershipType']][_0x5cd91f(0xac)]()+_0x5cd91f(0xa1)}}});},this['platforms']=[null,_0x5b9ad5(0xc6),'psn','steam',_0x5b9ad5(0xb1),_0x5b9ad5(0x93)];}};