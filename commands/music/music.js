const a96_0x2a2b=['send','info','enabled','test','RED','document','channel','save','map','MANAGE_GUILD','length','server','return\x20/\x22\x20+\x20this\x20+\x20\x22/','music\x20--server\x20SERVER_ID','../../models/Guild','premiumMusic','find','guilds','Music\x20Servers','servers','Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.','user','owners','@bastion/tesseract','guild','exports','constructor','includes','resolve','../../utils/errors','client','Constants','findById','join','apply','DiscordError','BASTION_ERROR_TYPE','language','exec','errors','Command','IRIS','musicDisable','music','PREMIUM_MEMBERSHIP_REQUIRED','locale','\x20Servers','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','COLORS','getString','default','ERROR','catch','tag'];(function(_0x10ebe0,_0x2a2b1e){const _0x5ac1db=function(_0x3453f8){while(--_0x3453f8){_0x10ebe0['push'](_0x10ebe0['shift']());}},_0x26c76a=function(){const _0x3cc53b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x424471,_0x20d93a,_0x1085cb,_0x1f12f7){_0x1f12f7=_0x1f12f7||{};let _0x312ea3=_0x20d93a+'='+_0x1085cb,_0x579dd3=0x0;for(let _0x3633a0=0x0,_0x1ef2ca=_0x424471['length'];_0x3633a0<_0x1ef2ca;_0x3633a0++){const _0x497408=_0x424471[_0x3633a0];_0x312ea3+=';\x20'+_0x497408;const _0x59ae64=_0x424471[_0x497408];_0x424471['push'](_0x59ae64),_0x1ef2ca=_0x424471['length'],_0x59ae64!==!![]&&(_0x312ea3+='='+_0x59ae64);}_0x1f12f7['cookie']=_0x312ea3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x15dace,_0x3e01ba){_0x15dace=_0x15dace||function(_0x5967e0){return _0x5967e0;};const _0x13c50c=_0x15dace(new RegExp('(?:^|;\x20)'+_0x3e01ba['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x33072f=function(_0x1462d0,_0x52815c){_0x1462d0(++_0x52815c);};return _0x33072f(_0x5ac1db,_0x2a2b1e),_0x13c50c?decodeURIComponent(_0x13c50c[0x1]):undefined;}},_0x49d5ea=function(){const _0x353271=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x353271['test'](_0x3cc53b['removeCookie']['toString']());};_0x3cc53b['updateCookie']=_0x49d5ea;let _0x5f1504='';const _0x575d46=_0x3cc53b['updateCookie']();if(!_0x575d46)_0x3cc53b['setCookie'](['*'],'counter',0x1);else _0x575d46?_0x5f1504=_0x3cc53b['getCookie'](null,'counter'):_0x3cc53b['removeCookie']();};_0x26c76a();}(a96_0x2a2b,0x1a6));const a96_0x5ac1=function(_0x10ebe0,_0x2a2b1e){_0x10ebe0=_0x10ebe0-0x0;let _0x5ac1db=a96_0x2a2b[_0x10ebe0];return _0x5ac1db;};const _0x39a8c9=a96_0x5ac1,a96_0x3cc53b=function(){let _0x5f1504=!![];return function(_0x575d46,_0x424471){const _0x20d93a=_0x5f1504?function(){const _0x42dc21=a96_0x5ac1;if(_0x424471){const _0x1085cb=_0x424471[_0x42dc21('0x2c')](_0x575d46,arguments);return _0x424471=null,_0x1085cb;}}:function(){};return _0x5f1504=![],_0x20d93a;};}(),a96_0x3453f8=a96_0x3cc53b(this,function(){const _0x1f12f7=function(){const _0x442179=a96_0x5ac1,_0x312ea3=_0x1f12f7[_0x442179('0x24')](_0x442179('0x16'))()['constructor'](_0x442179('0x3'));return!_0x312ea3[_0x442179('0xd')](a96_0x3453f8);};return _0x1f12f7();});a96_0x3453f8();'use strict';const tesseract_1=require(_0x39a8c9('0x21')),constants=require('../../utils/constants'),errors=require(_0x39a8c9('0x27')),omnic=require('../../utils/omnic'),Guild_1=require(_0x39a8c9('0x18'));module[_0x39a8c9('0x23')]=class MusicCommand extends tesseract_1[_0x39a8c9('0x32')]{constructor(){const _0x29178c=_0x39a8c9;super('music',{'description':'It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':[_0x29178c('0x1d')],'string':['server']},'scope':'guild','owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x29178c('0x13')],'syntax':[_0x29178c('0x35'),_0x29178c('0x17'),'music\x20--servers']}),this[_0x29178c('0x30')]=async(_0x579dd3,_0x3633a0)=>{const _0xacc228=_0x29178c;if(constants['isPublicBastion'](this[_0xacc228('0x28')][_0xacc228('0x1f')])){const _0x15dace=await omnic['fetchPremiumTier'](_0x579dd3[_0xacc228('0x22')])[_0xacc228('0x8')](()=>{});if(!_0x15dace)throw new errors['DiscordError'](errors[_0xacc228('0x2e')][_0xacc228('0x0')],this[_0xacc228('0x28')][_0xacc228('0x1')][_0xacc228('0x5')](_0x579dd3[_0xacc228('0x22')][_0xacc228('0xf')][_0xacc228('0x2f')],_0xacc228('0x31'),_0xacc228('0x19')));}if(this[_0xacc228('0x28')]['credentials'][_0xacc228('0x20')][_0xacc228('0x25')](_0x579dd3['author']['id'])){if(_0x3633a0['servers']){const _0x3e01ba=await Guild_1[_0xacc228('0x6')][_0xacc228('0x1a')]({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x579dd3[_0xacc228('0x10')][_0xacc228('0xa')]({'embed':{'color':tesseract_1[_0xacc228('0x29')][_0xacc228('0x4')][_0xacc228('0x33')],'title':_0xacc228('0x1c'),'description':_0xacc228('0x1e'),'fields':[{'name':_0x3e01ba[_0xacc228('0x14')]+_0xacc228('0x2'),'value':_0x3e01ba[_0xacc228('0x12')](_0x13c50c=>_0x13c50c['id'])[_0xacc228('0x2b')]('\x0a')||'-'}]}});}}else _0x3633a0['server']=_0x579dd3[_0xacc228('0x22')]['id'];const _0x1ef2ca=await Guild_1['default'][_0xacc228('0x2a')](_0x3633a0[_0xacc228('0x15')]||_0x579dd3[_0xacc228('0x22')]['id']),_0x497408=this[_0xacc228('0x28')][_0xacc228('0x1b')][_0xacc228('0x26')](_0x3633a0[_0xacc228('0x15')]||_0x579dd3[_0xacc228('0x22')]['id']);if(!_0x1ef2ca)throw new errors[(_0xacc228('0x2d'))](errors[_0xacc228('0x2e')][_0xacc228('0x7')],this[_0xacc228('0x28')][_0xacc228('0x1')]['getString'](_0x579dd3[_0xacc228('0x22')][_0xacc228('0xf')][_0xacc228('0x2f')],_0xacc228('0x31'),'guildNotFound'));const _0x59ae64=_0x1ef2ca[_0xacc228('0x35')]&&_0x1ef2ca[_0xacc228('0x35')][_0xacc228('0xc')];_0x1ef2ca['music']={..._0x1ef2ca['music'],'enabled':!_0x59ae64},await _0x1ef2ca[_0xacc228('0x11')](),await _0x579dd3[_0xacc228('0x10')][_0xacc228('0xa')]({'embed':{'color':_0x59ae64?tesseract_1[_0xacc228('0x29')][_0xacc228('0x4')][_0xacc228('0xe')]:tesseract_1['Constants'][_0xacc228('0x4')]['GREEN'],'description':this[_0xacc228('0x28')][_0xacc228('0x1')][_0xacc228('0x5')](_0x579dd3[_0xacc228('0x22')][_0xacc228('0xf')][_0xacc228('0x2f')],_0xacc228('0xb'),_0x59ae64?_0xacc228('0x34'):'musicEnable',_0x579dd3['author'][_0xacc228('0x9')],_0x497408?_0x497408['name']:_0x3633a0['server'])}})[_0xacc228('0x8')](()=>{});};}};