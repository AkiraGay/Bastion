const a112_0x3fae=['GREEN','locale','resolve','../../models/Guild','IRIS','Command','ERROR','Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.','constructor','exports','errors','COLORS','user','info','client','findById','find','It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','language','getString','Constants','map','author','music','DiscordError','save','musicDisable','join','server','servers','length','default','../../utils/errors','owners','send','music\x20--server\x20SERVER_ID','guilds','Music\x20Servers','BASTION_ERROR_TYPE','return\x20/\x22\x20+\x20this\x20+\x20\x22/','PREMIUM_MEMBERSHIP_REQUIRED','catch','document','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MANAGE_GUILD','@bastion/tesseract','isPublicBastion','exec','enabled','guildNotFound','../../utils/omnic','guild','channel'];(function(_0x4aafc4,_0x35ccb4){const _0x3fae85=function(_0x203a1b){while(--_0x203a1b){_0x4aafc4['push'](_0x4aafc4['shift']());}},_0x43c7a8=function(){const _0x368f5a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4a25aa,_0x505435,_0x2207e2,_0x25b695){_0x25b695=_0x25b695||{};let _0x37954e=_0x505435+'='+_0x2207e2,_0x34639a=0x0;for(let _0x27231a=0x0,_0x3d8934=_0x4a25aa['length'];_0x27231a<_0x3d8934;_0x27231a++){const _0x58d640=_0x4a25aa[_0x27231a];_0x37954e+=';\x20'+_0x58d640;const _0x1ca766=_0x4a25aa[_0x58d640];_0x4a25aa['push'](_0x1ca766),_0x3d8934=_0x4a25aa['length'],_0x1ca766!==!![]&&(_0x37954e+='='+_0x1ca766);}_0x25b695['cookie']=_0x37954e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x27a663,_0x5700d8){_0x27a663=_0x27a663||function(_0x5bd769){return _0x5bd769;};const _0x555d38=_0x27a663(new RegExp('(?:^|;\x20)'+_0x5700d8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x429fd4=function(_0x3495a3,_0x351bf4){_0x3495a3(++_0x351bf4);};return _0x429fd4(_0x3fae85,_0x35ccb4),_0x555d38?decodeURIComponent(_0x555d38[0x1]):undefined;}},_0x3670d1=function(){const _0x217b36=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x217b36['test'](_0x368f5a['removeCookie']['toString']());};_0x368f5a['updateCookie']=_0x3670d1;let _0x42a9a1='';const _0x37efd8=_0x368f5a['updateCookie']();if(!_0x37efd8)_0x368f5a['setCookie'](['*'],'counter',0x1);else _0x37efd8?_0x42a9a1=_0x368f5a['getCookie'](null,'counter'):_0x368f5a['removeCookie']();};_0x43c7a8();}(a112_0x3fae,0xa1));const a112_0x43c7=function(_0x4aafc4,_0x35ccb4){_0x4aafc4=_0x4aafc4-0x1da;let _0x3fae85=a112_0x3fae[_0x4aafc4];return _0x3fae85;};const a112_0x345514=a112_0x43c7,a112_0x3670d1=function(){let _0x37efd8=!![];return function(_0x4a25aa,_0x505435){const _0x2207e2=_0x37efd8?function(){if(_0x505435){const _0x25b695=_0x505435['apply'](_0x4a25aa,arguments);return _0x505435=null,_0x25b695;}}:function(){};return _0x37efd8=![],_0x2207e2;};}(),a112_0x368f5a=a112_0x3670d1(this,function(){const _0x37954e=function(){const _0x43b2a8=a112_0x43c7,_0x34639a=_0x37954e[_0x43b2a8(0x1e0)](_0x43b2a8(0x1ff))()[_0x43b2a8(0x1e0)](_0x43b2a8(0x203));return!_0x34639a['test'](a112_0x368f5a);};return _0x37954e();});a112_0x368f5a();'use strict';const tesseract_1=require(a112_0x345514(0x205)),constants=require('../../utils/constants'),errors=require(a112_0x345514(0x1f8)),omnic=require(a112_0x345514(0x20a)),Guild_1=require(a112_0x345514(0x1db));module[a112_0x345514(0x1e1)]=class MusicCommand extends tesseract_1[a112_0x345514(0x1dd)]{constructor(){const _0x3495ad=a112_0x345514;super('music',{'description':_0x3495ad(0x1e9),'triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':['servers'],'string':[_0x3495ad(0x1f4)]},'scope':_0x3495ad(0x20b),'owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x3495ad(0x204)],'syntax':[_0x3495ad(0x1ef),_0x3495ad(0x1fb),'music\x20--servers']}),this[_0x3495ad(0x207)]=async(_0x27231a,_0x3d8934)=>{const _0x4fde29=_0x3495ad;if(constants[_0x4fde29(0x206)](this[_0x4fde29(0x1e6)][_0x4fde29(0x1e4)])){const _0x5700d8=await omnic['fetchPremiumTier'](_0x27231a['guild'])['catch'](()=>{});if(!_0x5700d8)throw new errors['DiscordError'](errors[_0x4fde29(0x1fe)][_0x4fde29(0x200)],this['client'][_0x4fde29(0x20e)][_0x4fde29(0x1eb)](_0x27231a[_0x4fde29(0x20b)][_0x4fde29(0x202)][_0x4fde29(0x1ea)],'errors','premiumMusic'));}if(this[_0x4fde29(0x1e6)]['credentials'][_0x4fde29(0x1f9)]['includes'](_0x27231a['author']['id'])){if(_0x3d8934[_0x4fde29(0x1f5)]){const _0x555d38=await Guild_1['default'][_0x4fde29(0x1e8)]({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x27231a[_0x4fde29(0x20c)][_0x4fde29(0x1fa)]({'embed':{'color':tesseract_1[_0x4fde29(0x1ec)]['COLORS'][_0x4fde29(0x1dc)],'title':_0x4fde29(0x1fd),'description':_0x4fde29(0x1df),'fields':[{'name':_0x555d38[_0x4fde29(0x1f6)]+'\x20Servers','value':_0x555d38[_0x4fde29(0x1ed)](_0x429fd4=>_0x429fd4['id'])[_0x4fde29(0x1f3)]('\x0a')||'-'}]}});}}else _0x3d8934['server']=_0x27231a[_0x4fde29(0x20b)]['id'];const _0x58d640=await Guild_1[_0x4fde29(0x1f7)][_0x4fde29(0x1e7)](_0x3d8934[_0x4fde29(0x1f4)]||_0x27231a[_0x4fde29(0x20b)]['id']),_0x1ca766=this[_0x4fde29(0x1e6)][_0x4fde29(0x1fc)][_0x4fde29(0x1da)](_0x3d8934[_0x4fde29(0x1f4)]||_0x27231a[_0x4fde29(0x20b)]['id']);if(!_0x58d640)throw new errors[(_0x4fde29(0x1f0))](errors[_0x4fde29(0x1fe)][_0x4fde29(0x1de)],this[_0x4fde29(0x1e6)][_0x4fde29(0x20e)]['getString'](_0x27231a[_0x4fde29(0x20b)][_0x4fde29(0x202)][_0x4fde29(0x1ea)],_0x4fde29(0x1e2),_0x4fde29(0x209)));const _0x27a663=_0x58d640['music']&&_0x58d640[_0x4fde29(0x1ef)][_0x4fde29(0x208)];_0x58d640[_0x4fde29(0x1ef)]={..._0x58d640[_0x4fde29(0x1ef)],'enabled':!_0x27a663},await _0x58d640[_0x4fde29(0x1f1)](),await _0x27231a[_0x4fde29(0x20c)][_0x4fde29(0x1fa)]({'embed':{'color':_0x27a663?tesseract_1[_0x4fde29(0x1ec)][_0x4fde29(0x1e3)]['RED']:tesseract_1[_0x4fde29(0x1ec)][_0x4fde29(0x1e3)][_0x4fde29(0x20d)],'description':this[_0x4fde29(0x1e6)][_0x4fde29(0x20e)][_0x4fde29(0x1eb)](_0x27231a[_0x4fde29(0x20b)][_0x4fde29(0x202)][_0x4fde29(0x1ea)],_0x4fde29(0x1e5),_0x27a663?_0x4fde29(0x1f2):'musicEnable',_0x27231a[_0x4fde29(0x1ee)]['tag'],_0x1ca766?_0x1ca766['name']:_0x3d8934[_0x4fde29(0x1f4)])}})[_0x4fde29(0x201)](()=>{});};}};