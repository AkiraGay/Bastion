const a112_0x1a8f=['apply','ERROR','join','Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.','getString','guilds','info','default','guild','../../utils/errors','music\x20--servers','name','Command','GREEN','language','../../utils/omnic','errors','client','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MANAGE_GUILD','findById','user','PREMIUM_MEMBERSHIP_REQUIRED','premiumMusic','return\x20/\x22\x20+\x20this\x20+\x20\x22/','DiscordError','map','send','musicEnable','RED','constructor','includes','catch','Constants','isPublicBastion','@bastion/tesseract','exec','tag','owners','COLORS','resolve','locale','music','exports','find','document','BASTION_ERROR_TYPE','server','author','It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','../../models/Guild','fetchPremiumTier','servers','music\x20--server\x20SERVER_ID','\x20Servers','IRIS','test'];(function(_0x19ab2a,_0x41f639){const _0x1a8f81=function(_0x4e4128){while(--_0x4e4128){_0x19ab2a['push'](_0x19ab2a['shift']());}},_0x1b5d9d=function(){const _0x1d4149={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1e93d7,_0x2de777,_0x25b5d1,_0x4947f3){_0x4947f3=_0x4947f3||{};let _0x264ec8=_0x2de777+'='+_0x25b5d1,_0x499385=0x0;for(let _0x984fbe=0x0,_0x42fa70=_0x1e93d7['length'];_0x984fbe<_0x42fa70;_0x984fbe++){const _0x4ffd70=_0x1e93d7[_0x984fbe];_0x264ec8+=';\x20'+_0x4ffd70;const _0x1108d3=_0x1e93d7[_0x4ffd70];_0x1e93d7['push'](_0x1108d3),_0x42fa70=_0x1e93d7['length'],_0x1108d3!==!![]&&(_0x264ec8+='='+_0x1108d3);}_0x4947f3['cookie']=_0x264ec8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3b4f6c,_0x30f593){_0x3b4f6c=_0x3b4f6c||function(_0x39f2b6){return _0x39f2b6;};const _0x119fd5=_0x3b4f6c(new RegExp('(?:^|;\x20)'+_0x30f593['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2f7bca=function(_0x43b90a,_0x30546e){_0x43b90a(++_0x30546e);};return _0x2f7bca(_0x1a8f81,_0x41f639),_0x119fd5?decodeURIComponent(_0x119fd5[0x1]):undefined;}},_0x57734c=function(){const _0x4f69b9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4f69b9['test'](_0x1d4149['removeCookie']['toString']());};_0x1d4149['updateCookie']=_0x57734c;let _0x462097='';const _0x5c0cfc=_0x1d4149['updateCookie']();if(!_0x5c0cfc)_0x1d4149['setCookie'](['*'],'counter',0x1);else _0x5c0cfc?_0x462097=_0x1d4149['getCookie'](null,'counter'):_0x1d4149['removeCookie']();};_0x1b5d9d();}(a112_0x1a8f,0xcd));const a112_0x1b5d=function(_0x19ab2a,_0x41f639){_0x19ab2a=_0x19ab2a-0x1ec;let _0x1a8f81=a112_0x1a8f[_0x19ab2a];return _0x1a8f81;};const a112_0x12a4ac=a112_0x1b5d,a112_0x57734c=function(){let _0x5c0cfc=!![];return function(_0x1e93d7,_0x2de777){const _0x25b5d1=_0x5c0cfc?function(){const _0x532057=a112_0x1b5d;if(_0x2de777){const _0x4947f3=_0x2de777[_0x532057(0x203)](_0x1e93d7,arguments);return _0x2de777=null,_0x4947f3;}}:function(){};return _0x5c0cfc=![],_0x25b5d1;};}(),a112_0x1d4149=a112_0x57734c(this,function(){const _0x264ec8=function(){const _0xff217a=a112_0x1b5d,_0x499385=_0x264ec8[_0xff217a(0x221)](_0xff217a(0x21b))()[_0xff217a(0x221)](_0xff217a(0x215));return!_0x499385[_0xff217a(0x202)](a112_0x1d4149);};return _0x264ec8();});a112_0x1d4149();'use strict';const tesseract_1=require(a112_0x12a4ac(0x1ed)),constants=require('../../utils/constants'),errors=require(a112_0x12a4ac(0x20c)),omnic=require(a112_0x12a4ac(0x212)),Guild_1=require(a112_0x12a4ac(0x1fc));module[a112_0x12a4ac(0x1f5)]=class MusicCommand extends tesseract_1[a112_0x12a4ac(0x20f)]{constructor(){const _0x33e70f=a112_0x12a4ac;super(_0x33e70f(0x1f4),{'description':_0x33e70f(0x1fb),'triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':['servers'],'string':['server']},'scope':_0x33e70f(0x20b),'owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x33e70f(0x216)],'syntax':[_0x33e70f(0x1f4),_0x33e70f(0x1ff),_0x33e70f(0x20d)]}),this[_0x33e70f(0x1ee)]=async(_0x984fbe,_0x42fa70)=>{const _0x5ce01c=_0x33e70f;if(constants[_0x5ce01c(0x1ec)](this[_0x5ce01c(0x214)][_0x5ce01c(0x218)])){const _0x30f593=await omnic[_0x5ce01c(0x1fd)](_0x984fbe[_0x5ce01c(0x20b)])[_0x5ce01c(0x223)](()=>{});if(!_0x30f593)throw new errors['DiscordError'](errors[_0x5ce01c(0x1f8)][_0x5ce01c(0x219)],this[_0x5ce01c(0x214)][_0x5ce01c(0x1f3)][_0x5ce01c(0x207)](_0x984fbe['guild'][_0x5ce01c(0x1f7)][_0x5ce01c(0x211)],_0x5ce01c(0x213),_0x5ce01c(0x21a)));}if(this[_0x5ce01c(0x214)]['credentials'][_0x5ce01c(0x1f0)][_0x5ce01c(0x222)](_0x984fbe[_0x5ce01c(0x1fa)]['id'])){if(_0x42fa70[_0x5ce01c(0x1fe)]){const _0x119fd5=await Guild_1['default'][_0x5ce01c(0x1f6)]({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x984fbe['channel'][_0x5ce01c(0x21e)]({'embed':{'color':tesseract_1[_0x5ce01c(0x224)][_0x5ce01c(0x1f1)][_0x5ce01c(0x201)],'title':'Music\x20Servers','description':_0x5ce01c(0x206),'fields':[{'name':_0x119fd5['length']+_0x5ce01c(0x200),'value':_0x119fd5[_0x5ce01c(0x21d)](_0x2f7bca=>_0x2f7bca['id'])[_0x5ce01c(0x205)]('\x0a')||'-'}]}});}}else _0x42fa70['server']=_0x984fbe['guild']['id'];const _0x4ffd70=await Guild_1[_0x5ce01c(0x20a)][_0x5ce01c(0x217)](_0x42fa70[_0x5ce01c(0x1f9)]||_0x984fbe['guild']['id']),_0x1108d3=this[_0x5ce01c(0x214)][_0x5ce01c(0x208)][_0x5ce01c(0x1f2)](_0x42fa70[_0x5ce01c(0x1f9)]||_0x984fbe[_0x5ce01c(0x20b)]['id']);if(!_0x4ffd70)throw new errors[(_0x5ce01c(0x21c))](errors[_0x5ce01c(0x1f8)][_0x5ce01c(0x204)],this[_0x5ce01c(0x214)][_0x5ce01c(0x1f3)][_0x5ce01c(0x207)](_0x984fbe[_0x5ce01c(0x20b)][_0x5ce01c(0x1f7)][_0x5ce01c(0x211)],_0x5ce01c(0x213),'guildNotFound'));const _0x3b4f6c=_0x4ffd70[_0x5ce01c(0x1f4)]&&_0x4ffd70[_0x5ce01c(0x1f4)]['enabled'];_0x4ffd70[_0x5ce01c(0x1f4)]={..._0x4ffd70[_0x5ce01c(0x1f4)],'enabled':!_0x3b4f6c},await _0x4ffd70['save'](),await _0x984fbe['channel']['send']({'embed':{'color':_0x3b4f6c?tesseract_1[_0x5ce01c(0x224)][_0x5ce01c(0x1f1)][_0x5ce01c(0x220)]:tesseract_1[_0x5ce01c(0x224)]['COLORS'][_0x5ce01c(0x210)],'description':this['client'][_0x5ce01c(0x1f3)][_0x5ce01c(0x207)](_0x984fbe['guild'][_0x5ce01c(0x1f7)][_0x5ce01c(0x211)],_0x5ce01c(0x209),_0x3b4f6c?'musicDisable':_0x5ce01c(0x21f),_0x984fbe[_0x5ce01c(0x1fa)][_0x5ce01c(0x1ef)],_0x1108d3?_0x1108d3[_0x5ce01c(0x20e)]:_0x42fa70[_0x5ce01c(0x1f9)])}})['catch'](()=>{});};}};