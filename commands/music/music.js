const a112_0x716c=['BASTION_ERROR_TYPE','getString','musicDisable','ERROR','RED','Music\x20Servers','../../utils/constants','music','4737XMVKyQ','catch','exec','COLORS','client','servers','2MCAfbD','send','6448vgePlZ','../../models/Guild','musicEnable','1ANvUZn','server','findById','constructor','find','52611iyRKuj','includes','language','DiscordError','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','25SBViwk','MANAGE_GUILD','resolve','info','guildNotFound','It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','user','default','Constants','credentials','join','../../utils/omnic','document','name','85iGSVlg','enabled','224617yXXcCa','IRIS','9WLfJiQ','return\x20/\x22\x20+\x20this\x20+\x20\x22/','locale','388793qRQYop','fetchPremiumTier','music\x20--servers','16657xHFlsU','\x20Servers','Command','length','@bastion/tesseract','../../utils/errors','apply','Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.','591887veaGad','GREEN','guild','errors','channel','map'];const a112_0x13e8=function(_0x342829,_0xc4a5d5){_0x342829=_0x342829-0x1b5;let _0x48cbf1=a112_0x716c[_0x342829];return _0x48cbf1;};const a112_0x598365=a112_0x13e8;(function(_0x3adbce,_0x2b0d4f){const _0x4c187c=a112_0x13e8;while(!![]){try{const _0x4e5ec=-parseInt(_0x4c187c(0x1b8))+parseInt(_0x4c187c(0x1f6))*-parseInt(_0x4c187c(0x1d2))+-parseInt(_0x4c187c(0x1cd))*-parseInt(_0x4c187c(0x1f1))+parseInt(_0x4c187c(0x1d5))*parseInt(_0x4c187c(0x1bd))+parseInt(_0x4c187c(0x1eb))*parseInt(_0x4c187c(0x1cb))+parseInt(_0x4c187c(0x1f3))*parseInt(_0x4c187c(0x1cf))+-parseInt(_0x4c187c(0x1dd));if(_0x4e5ec===_0x2b0d4f)break;else _0x3adbce['push'](_0x3adbce['shift']());}catch(_0x6e715f){_0x3adbce['push'](_0x3adbce['shift']());}}}(a112_0x716c,0x478b5));const a112_0x2a353f=function(){let _0x1e6dae=!![];return function(_0x1654b7,_0x2354a6){const _0x412816=_0x1e6dae?function(){const _0x3a25eb=a112_0x13e8;if(_0x2354a6){const _0x4280f1=_0x2354a6[_0x3a25eb(0x1db)](_0x1654b7,arguments);return _0x2354a6=null,_0x4280f1;}}:function(){};return _0x1e6dae=![],_0x412816;};}(),a112_0x5425eb=a112_0x2a353f(this,function(){const _0x40ad3d=function(){const _0x534ae2=a112_0x13e8,_0xe26fdd=_0x40ad3d['constructor'](_0x534ae2(0x1d0))()[_0x534ae2(0x1b6)](_0x534ae2(0x1bc));return!_0xe26fdd['test'](a112_0x5425eb);};return _0x40ad3d();});a112_0x5425eb();'use strict';const tesseract_1=require(a112_0x598365(0x1d9)),constants=require(a112_0x598365(0x1e9)),errors=require(a112_0x598365(0x1da)),omnic=require(a112_0x598365(0x1c8)),Guild_1=require(a112_0x598365(0x1f4));module['exports']=class MusicCommand extends tesseract_1[a112_0x598365(0x1d7)]{constructor(){const _0x39e5f8=a112_0x598365;super(_0x39e5f8(0x1ea),{'description':_0x39e5f8(0x1c2),'triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':[_0x39e5f8(0x1f0)],'string':[_0x39e5f8(0x1f7)]},'scope':_0x39e5f8(0x1df),'owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x39e5f8(0x1be)],'syntax':[_0x39e5f8(0x1ea),'music\x20--server\x20SERVER_ID',_0x39e5f8(0x1d4)]}),this[_0x39e5f8(0x1ed)]=async(_0x15342d,_0x19b37d)=>{const _0x5d01bf=_0x39e5f8;if(constants['isPublicBastion'](this[_0x5d01bf(0x1ef)][_0x5d01bf(0x1c3)])){const _0x581a55=await omnic[_0x5d01bf(0x1d3)](_0x15342d['guild'])[_0x5d01bf(0x1ec)](()=>{});if(!_0x581a55)throw new errors[(_0x5d01bf(0x1bb))](errors[_0x5d01bf(0x1e3)]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client']['locale'][_0x5d01bf(0x1e4)](_0x15342d[_0x5d01bf(0x1df)][_0x5d01bf(0x1c9)][_0x5d01bf(0x1ba)],_0x5d01bf(0x1e0),'premiumMusic'));}if(this[_0x5d01bf(0x1ef)][_0x5d01bf(0x1c6)]['owners'][_0x5d01bf(0x1b9)](_0x15342d['author']['id'])){if(_0x19b37d[_0x5d01bf(0x1f0)]){const _0xb90e40=await Guild_1[_0x5d01bf(0x1c4)][_0x5d01bf(0x1b7)]({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x15342d[_0x5d01bf(0x1e1)][_0x5d01bf(0x1f2)]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x5d01bf(0x1ce)],'title':_0x5d01bf(0x1e8),'description':_0x5d01bf(0x1dc),'fields':[{'name':_0xb90e40[_0x5d01bf(0x1d8)]+_0x5d01bf(0x1d6),'value':_0xb90e40[_0x5d01bf(0x1e2)](_0x5370c3=>_0x5370c3['id'])[_0x5d01bf(0x1c7)]('\x0a')||'-'}]}});}}else _0x19b37d['server']=_0x15342d[_0x5d01bf(0x1df)]['id'];const _0x1cd404=await Guild_1[_0x5d01bf(0x1c4)][_0x5d01bf(0x1b5)](_0x19b37d[_0x5d01bf(0x1f7)]||_0x15342d[_0x5d01bf(0x1df)]['id']),_0x31cfdf=this[_0x5d01bf(0x1ef)]['guilds'][_0x5d01bf(0x1bf)](_0x19b37d[_0x5d01bf(0x1f7)]||_0x15342d[_0x5d01bf(0x1df)]['id']);if(!_0x1cd404)throw new errors['DiscordError'](errors[_0x5d01bf(0x1e3)][_0x5d01bf(0x1e6)],this[_0x5d01bf(0x1ef)][_0x5d01bf(0x1d1)][_0x5d01bf(0x1e4)](_0x15342d['guild'][_0x5d01bf(0x1c9)][_0x5d01bf(0x1ba)],_0x5d01bf(0x1e0),_0x5d01bf(0x1c1)));const _0x20cd0a=_0x1cd404[_0x5d01bf(0x1ea)]&&_0x1cd404[_0x5d01bf(0x1ea)][_0x5d01bf(0x1cc)];_0x1cd404[_0x5d01bf(0x1ea)]={..._0x1cd404[_0x5d01bf(0x1ea)],'enabled':!_0x20cd0a},await _0x1cd404['save'](),await _0x15342d['channel'][_0x5d01bf(0x1f2)]({'embed':{'color':_0x20cd0a?tesseract_1[_0x5d01bf(0x1c5)]['COLORS'][_0x5d01bf(0x1e7)]:tesseract_1[_0x5d01bf(0x1c5)][_0x5d01bf(0x1ee)][_0x5d01bf(0x1de)],'description':this[_0x5d01bf(0x1ef)]['locale']['getString'](_0x15342d[_0x5d01bf(0x1df)][_0x5d01bf(0x1c9)][_0x5d01bf(0x1ba)],_0x5d01bf(0x1c0),_0x20cd0a?_0x5d01bf(0x1e5):_0x5d01bf(0x1f5),_0x15342d['author']['tag'],_0x31cfdf?_0x31cfdf[_0x5d01bf(0x1ca)]:_0x19b37d[_0x5d01bf(0x1f7)])}})[_0x5d01bf(0x1ec)](()=>{});};}};