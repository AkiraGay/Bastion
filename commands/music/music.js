const a95_0x3ff2=['save','../../utils/omnic','tag','user','\x20Servers','../../utils/errors','../../utils/constants','locale','music\x20--server\x20SERVER_ID','client','constructor','RED','guildNotFound','musicDisable','name','musicEnable','map','ERROR','premiumMusic','document','author','owners','default','Constants','getString','credentials','errors','guild','enabled','DiscordError','BASTION_ERROR_TYPE','join','findById','return\x20/\x22\x20+\x20this\x20+\x20\x22/','catch','language','GREEN','music','exec','resolve','It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','test','@bastion/tesseract','guilds','IRIS','channel','COLORS','servers','Command','length','send','server','isPublicBastion'];(function(_0x5c4140,_0x3ff2e9){const _0xeb1554=function(_0x292424){while(--_0x292424){_0x5c4140['push'](_0x5c4140['shift']());}},_0xadb4e1=function(){const _0x51c177={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3ea127,_0x5220be,_0x3a032d,_0x437948){_0x437948=_0x437948||{};let _0x87be25=_0x5220be+'='+_0x3a032d,_0x4c8c9d=0x0;for(let _0x5d8711=0x0,_0xd9ecfc=_0x3ea127['length'];_0x5d8711<_0xd9ecfc;_0x5d8711++){const _0x2287f7=_0x3ea127[_0x5d8711];_0x87be25+=';\x20'+_0x2287f7;const _0x1aa369=_0x3ea127[_0x2287f7];_0x3ea127['push'](_0x1aa369),_0xd9ecfc=_0x3ea127['length'],_0x1aa369!==!![]&&(_0x87be25+='='+_0x1aa369);}_0x437948['cookie']=_0x87be25;},'removeCookie':function(){return'dev';},'getCookie':function(_0x48dbb4,_0x3714b1){_0x48dbb4=_0x48dbb4||function(_0x144a99){return _0x144a99;};const _0x51dce0=_0x48dbb4(new RegExp('(?:^|;\x20)'+_0x3714b1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5a2ca7=function(_0x474c21,_0x311d84){_0x474c21(++_0x311d84);};return _0x5a2ca7(_0xeb1554,_0x3ff2e9),_0x51dce0?decodeURIComponent(_0x51dce0[0x1]):undefined;}},_0x669830=function(){const _0x33a90d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x33a90d['test'](_0x51c177['removeCookie']['toString']());};_0x51c177['updateCookie']=_0x669830;let _0x5593d2='';const _0x7a191b=_0x51c177['updateCookie']();if(!_0x7a191b)_0x51c177['setCookie'](['*'],'counter',0x1);else _0x7a191b?_0x5593d2=_0x51c177['getCookie'](null,'counter'):_0x51c177['removeCookie']();};_0xadb4e1();}(a95_0x3ff2,0x175));const a95_0xeb15=function(_0x5c4140,_0x3ff2e9){_0x5c4140=_0x5c4140-0x0;let _0xeb1554=a95_0x3ff2[_0x5c4140];return _0xeb1554;};const _0x42ed75=a95_0xeb15,a95_0x51c177=function(){let _0x5593d2=!![];return function(_0x7a191b,_0x3ea127){const _0x5220be=_0x5593d2?function(){if(_0x3ea127){const _0x3a032d=_0x3ea127['apply'](_0x7a191b,arguments);return _0x3ea127=null,_0x3a032d;}}:function(){};return _0x5593d2=![],_0x5220be;};}(),a95_0x292424=a95_0x51c177(this,function(){const _0x437948=function(){const _0x1894c6=a95_0xeb15,_0x87be25=_0x437948[_0x1894c6('0x8')](_0x1894c6('0x1f'))()[_0x1894c6('0x8')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x87be25[_0x1894c6('0x27')](a95_0x292424);};return _0x437948();});a95_0x292424();'use strict';const tesseract_1=require(_0x42ed75('0x28')),constants=require(_0x42ed75('0x4')),errors=require(_0x42ed75('0x3')),omnic=require(_0x42ed75('0x34')),Guild_1=require('../../models/Guild');module['exports']=class MusicCommand extends tesseract_1[_0x42ed75('0x2e')]{constructor(){const _0x337af5=_0x42ed75;super(_0x337af5('0x23'),{'description':_0x337af5('0x26'),'triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':[_0x337af5('0x2d')],'string':[_0x337af5('0x31')]},'scope':'guild','owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x337af5('0x23'),_0x337af5('0x6'),'music\x20--servers']}),this[_0x337af5('0x24')]=async(_0x4c8c9d,_0x5d8711)=>{const _0x1db6e7=_0x337af5;if(constants[_0x1db6e7('0x32')](this[_0x1db6e7('0x7')][_0x1db6e7('0x1')])){const _0x48dbb4=await omnic['fetchPremiumTier'](_0x4c8c9d['guild'])[_0x1db6e7('0x20')](()=>{});if(!_0x48dbb4)throw new errors[(_0x1db6e7('0x1b'))](errors[_0x1db6e7('0x1c')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x1db6e7('0x7')]['locale'][_0x1db6e7('0x16')](_0x4c8c9d[_0x1db6e7('0x19')][_0x1db6e7('0x11')][_0x1db6e7('0x21')],_0x1db6e7('0x18'),_0x1db6e7('0x10')));}if(this[_0x1db6e7('0x7')][_0x1db6e7('0x17')][_0x1db6e7('0x13')]['includes'](_0x4c8c9d['author']['id'])){if(_0x5d8711[_0x1db6e7('0x2d')]){const _0x3714b1=await Guild_1[_0x1db6e7('0x14')]['find']({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x4c8c9d[_0x1db6e7('0x2b')][_0x1db6e7('0x30')]({'embed':{'color':tesseract_1[_0x1db6e7('0x15')][_0x1db6e7('0x2c')][_0x1db6e7('0x2a')],'title':'Music\x20Servers','description':'Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.','fields':[{'name':_0x3714b1[_0x1db6e7('0x2f')]+_0x1db6e7('0x2'),'value':_0x3714b1[_0x1db6e7('0xe')](_0x51dce0=>_0x51dce0['id'])[_0x1db6e7('0x1d')]('\x0a')||'-'}]}});}}else _0x5d8711[_0x1db6e7('0x31')]=_0x4c8c9d[_0x1db6e7('0x19')]['id'];const _0xd9ecfc=await Guild_1[_0x1db6e7('0x14')][_0x1db6e7('0x1e')](_0x5d8711[_0x1db6e7('0x31')]||_0x4c8c9d[_0x1db6e7('0x19')]['id']),_0x2287f7=this[_0x1db6e7('0x7')][_0x1db6e7('0x29')][_0x1db6e7('0x25')](_0x5d8711[_0x1db6e7('0x31')]||_0x4c8c9d[_0x1db6e7('0x19')]['id']);if(!_0xd9ecfc)throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x1db6e7('0xf')],this[_0x1db6e7('0x7')][_0x1db6e7('0x5')][_0x1db6e7('0x16')](_0x4c8c9d[_0x1db6e7('0x19')][_0x1db6e7('0x11')][_0x1db6e7('0x21')],_0x1db6e7('0x18'),_0x1db6e7('0xa')));const _0x1aa369=_0xd9ecfc[_0x1db6e7('0x23')]&&_0xd9ecfc[_0x1db6e7('0x23')][_0x1db6e7('0x1a')];_0xd9ecfc['music']={..._0xd9ecfc[_0x1db6e7('0x23')],'enabled':!_0x1aa369},await _0xd9ecfc[_0x1db6e7('0x33')](),await _0x4c8c9d['channel'][_0x1db6e7('0x30')]({'embed':{'color':_0x1aa369?tesseract_1[_0x1db6e7('0x15')][_0x1db6e7('0x2c')][_0x1db6e7('0x9')]:tesseract_1[_0x1db6e7('0x15')]['COLORS'][_0x1db6e7('0x22')],'description':this['client'][_0x1db6e7('0x5')][_0x1db6e7('0x16')](_0x4c8c9d[_0x1db6e7('0x19')][_0x1db6e7('0x11')][_0x1db6e7('0x21')],'info',_0x1aa369?_0x1db6e7('0xb'):_0x1db6e7('0xd'),_0x4c8c9d[_0x1db6e7('0x12')][_0x1db6e7('0x0')],_0x2287f7?_0x2287f7[_0x1db6e7('0xc')]:_0x5d8711[_0x1db6e7('0x31')])}})[_0x1db6e7('0x20')](()=>{});};}};