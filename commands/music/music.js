const a104_0x3492=['Constants','save','server','catch','music\x20--server\x20SERVER_ID','document','GREEN','DiscordError','map','COLORS','resolve','premiumMusic','locale','musicDisable','../../utils/constants','getString','musicEnable','author','ERROR','name','exec','length','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','servers','find','client','findById','BASTION_ERROR_TYPE','test','errors','music\x20--servers','enabled','guildNotFound','includes','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../utils/errors','RED','guild','\x20Servers','default','guilds','constructor','MANAGE_GUILD','owners','exports','isPublicBastion','../../utils/omnic','send','apply','info','tag','music','Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.'];(function(_0x244bdf,_0x34927a){const _0x312bda=function(_0x3fe086){while(--_0x3fe086){_0x244bdf['push'](_0x244bdf['shift']());}},_0x58fe3b=function(){const _0x4ba7de={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3867d9,_0x417cd8,_0x4582d2,_0x4bcb2a){_0x4bcb2a=_0x4bcb2a||{};let _0x4f16b1=_0x417cd8+'='+_0x4582d2,_0x46c9d1=0x0;for(let _0x8056ab=0x0,_0x11b636=_0x3867d9['length'];_0x8056ab<_0x11b636;_0x8056ab++){const _0x5329ea=_0x3867d9[_0x8056ab];_0x4f16b1+=';\x20'+_0x5329ea;const _0x3fd49b=_0x3867d9[_0x5329ea];_0x3867d9['push'](_0x3fd49b),_0x11b636=_0x3867d9['length'],_0x3fd49b!==!![]&&(_0x4f16b1+='='+_0x3fd49b);}_0x4bcb2a['cookie']=_0x4f16b1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1248a3,_0x11aa1f){_0x1248a3=_0x1248a3||function(_0x43a8d8){return _0x43a8d8;};const _0x593f04=_0x1248a3(new RegExp('(?:^|;\x20)'+_0x11aa1f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xea89f4=function(_0xb8f9d6,_0x5e109e){_0xb8f9d6(++_0x5e109e);};return _0xea89f4(_0x312bda,_0x34927a),_0x593f04?decodeURIComponent(_0x593f04[0x1]):undefined;}},_0x28767d=function(){const _0x20469e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x20469e['test'](_0x4ba7de['removeCookie']['toString']());};_0x4ba7de['updateCookie']=_0x28767d;let _0x55bc3f='';const _0x36504c=_0x4ba7de['updateCookie']();if(!_0x36504c)_0x4ba7de['setCookie'](['*'],'counter',0x1);else _0x36504c?_0x55bc3f=_0x4ba7de['getCookie'](null,'counter'):_0x4ba7de['removeCookie']();};_0x58fe3b();}(a104_0x3492,0x1ce));const a104_0x312b=function(_0x244bdf,_0x34927a){_0x244bdf=_0x244bdf-0x0;let _0x312bda=a104_0x3492[_0x244bdf];return _0x312bda;};const _0x34c061=a104_0x312b,a104_0x4ba7de=function(){let _0x55bc3f=!![];return function(_0x36504c,_0x3867d9){const _0x417cd8=_0x55bc3f?function(){const _0x2863d9=a104_0x312b;if(_0x3867d9){const _0x4582d2=_0x3867d9[_0x2863d9('0x13')](_0x36504c,arguments);return _0x3867d9=null,_0x4582d2;}}:function(){};return _0x55bc3f=![],_0x417cd8;};}(),a104_0x3fe086=a104_0x4ba7de(this,function(){const _0x4bcb2a=function(){const _0x2ea148=a104_0x312b,_0x4f16b1=_0x4bcb2a[_0x2ea148('0xc')](_0x2ea148('0x5'))()[_0x2ea148('0xc')](_0x2ea148('0x2e'));return!_0x4f16b1[_0x2ea148('0x35')](a104_0x3fe086);};return _0x4bcb2a();});a104_0x3fe086();'use strict';const tesseract_1=require('@bastion/tesseract'),constants=require(_0x34c061('0x26')),errors=require(_0x34c061('0x6')),omnic=require(_0x34c061('0x11')),Guild_1=require('../../models/Guild');module[_0x34c061('0xf')]=class MusicCommand extends tesseract_1['Command']{constructor(){const _0x3bd447=_0x34c061;super(_0x3bd447('0x16'),{'description':_0x3bd447('0x2f'),'triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':[_0x3bd447('0x30')],'string':[_0x3bd447('0x1a')]},'scope':_0x3bd447('0x8'),'owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x3bd447('0xd')],'syntax':['music',_0x3bd447('0x1c'),_0x3bd447('0x1')]}),this[_0x3bd447('0x2c')]=async(_0x46c9d1,_0x8056ab)=>{const _0x375711=_0x3bd447;if(constants[_0x375711('0x10')](this[_0x375711('0x32')]['user'])){const _0x1248a3=await omnic['fetchPremiumTier'](_0x46c9d1['guild'])[_0x375711('0x1b')](()=>{});if(!_0x1248a3)throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this['client'][_0x375711('0x24')][_0x375711('0x27')](_0x46c9d1[_0x375711('0x8')]['document']['language'],_0x375711('0x0'),_0x375711('0x23')));}if(this['client']['credentials'][_0x375711('0xe')][_0x375711('0x4')](_0x46c9d1[_0x375711('0x29')]['id'])){if(_0x8056ab['servers']){const _0x11aa1f=await Guild_1[_0x375711('0xa')][_0x375711('0x31')]({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x46c9d1['channel'][_0x375711('0x12')]({'embed':{'color':tesseract_1[_0x375711('0x18')][_0x375711('0x21')]['IRIS'],'title':'Music\x20Servers','description':_0x375711('0x17'),'fields':[{'name':_0x11aa1f[_0x375711('0x2d')]+_0x375711('0x9'),'value':_0x11aa1f[_0x375711('0x20')](_0x593f04=>_0x593f04['id'])['join']('\x0a')||'-'}]}});}}else _0x8056ab['server']=_0x46c9d1[_0x375711('0x8')]['id'];const _0x11b636=await Guild_1['default'][_0x375711('0x33')](_0x8056ab[_0x375711('0x1a')]||_0x46c9d1[_0x375711('0x8')]['id']),_0x5329ea=this['client'][_0x375711('0xb')][_0x375711('0x22')](_0x8056ab[_0x375711('0x1a')]||_0x46c9d1[_0x375711('0x8')]['id']);if(!_0x11b636)throw new errors[(_0x375711('0x1f'))](errors[_0x375711('0x34')][_0x375711('0x2a')],this['client'][_0x375711('0x24')][_0x375711('0x27')](_0x46c9d1['guild'][_0x375711('0x1d')]['language'],'errors',_0x375711('0x3')));const _0x3fd49b=_0x11b636[_0x375711('0x16')]&&_0x11b636[_0x375711('0x16')][_0x375711('0x2')];_0x11b636['music']={..._0x11b636[_0x375711('0x16')],'enabled':!_0x3fd49b},await _0x11b636[_0x375711('0x19')](),await _0x46c9d1['channel'][_0x375711('0x12')]({'embed':{'color':_0x3fd49b?tesseract_1[_0x375711('0x18')][_0x375711('0x21')][_0x375711('0x7')]:tesseract_1['Constants']['COLORS'][_0x375711('0x1e')],'description':this['client'][_0x375711('0x24')][_0x375711('0x27')](_0x46c9d1['guild'][_0x375711('0x1d')]['language'],_0x375711('0x14'),_0x3fd49b?_0x375711('0x25'):_0x375711('0x28'),_0x46c9d1[_0x375711('0x29')][_0x375711('0x15')],_0x5329ea?_0x5329ea[_0x375711('0x2b')]:_0x8056ab['server'])}})[_0x375711('0x1b')](()=>{});};}};