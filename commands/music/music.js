const a111_0x1142=['guildNotFound','../../utils/errors','channel','BASTION_ERROR_TYPE','premiumMusic','It\x20toggles\x20Bastion\x27s\x20music\x20support\x20in\x20the\x20specified\x20server.\x20Once\x20enabled,\x20you\x20can\x20use\x20all\x20music\x20commands\x20in\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20servers\x20where\x20music\x20is\x20enabled.','language','save','client','server','default','info','DiscordError','RED','guilds','resolve','author','COLORS','test','user','map','MANAGE_GUILD','music','length','constructor','music\x20--servers','exec','IRIS','ERROR','send','getString','errors','tag','catch','credentials','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../models/Guild','music\x20--server\x20SERVER_ID','GREEN','guild','join','musicDisable','findById','../../utils/omnic','owners','musicEnable','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','isPublicBastion','locale','Command','enabled','@bastion/tesseract','exports','../../utils/constants','servers','document','find','\x20Servers'];(function(_0x489e6d,_0x357886){const _0x11425f=function(_0x38cd83){while(--_0x38cd83){_0x489e6d['push'](_0x489e6d['shift']());}},_0x4a8147=function(){const _0x581f18={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5c7157,_0x236635,_0x40a1df,_0x207811){_0x207811=_0x207811||{};let _0x48e618=_0x236635+'='+_0x40a1df,_0xd1c437=0x0;for(let _0x45b572=0x0,_0x22b443=_0x5c7157['length'];_0x45b572<_0x22b443;_0x45b572++){const _0x2a4d28=_0x5c7157[_0x45b572];_0x48e618+=';\x20'+_0x2a4d28;const _0x3e071b=_0x5c7157[_0x2a4d28];_0x5c7157['push'](_0x3e071b),_0x22b443=_0x5c7157['length'],_0x3e071b!==!![]&&(_0x48e618+='='+_0x3e071b);}_0x207811['cookie']=_0x48e618;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f6b4f,_0x451caf){_0x2f6b4f=_0x2f6b4f||function(_0x50fcb2){return _0x50fcb2;};const _0x36251d=_0x2f6b4f(new RegExp('(?:^|;\x20)'+_0x451caf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x165958=function(_0x2062ca,_0x14f67b){_0x2062ca(++_0x14f67b);};return _0x165958(_0x11425f,_0x357886),_0x36251d?decodeURIComponent(_0x36251d[0x1]):undefined;}},_0x34f9e7=function(){const _0x2697ab=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2697ab['test'](_0x581f18['removeCookie']['toString']());};_0x581f18['updateCookie']=_0x34f9e7;let _0x370cf7='';const _0x142b72=_0x581f18['updateCookie']();if(!_0x142b72)_0x581f18['setCookie'](['*'],'counter',0x1);else _0x142b72?_0x370cf7=_0x581f18['getCookie'](null,'counter'):_0x581f18['removeCookie']();};_0x4a8147();}(a111_0x1142,0x1bb));const a111_0x4a81=function(_0x489e6d,_0x357886){_0x489e6d=_0x489e6d-0x1e0;let _0x11425f=a111_0x1142[_0x489e6d];return _0x11425f;};const _0x8b4bc=a111_0x4a81,a111_0x34f9e7=function(){let _0x142b72=!![];return function(_0x5c7157,_0x236635){const _0x40a1df=_0x142b72?function(){if(_0x236635){const _0x207811=_0x236635['apply'](_0x5c7157,arguments);return _0x236635=null,_0x207811;}}:function(){};return _0x142b72=![],_0x40a1df;};}(),a111_0x581f18=a111_0x34f9e7(this,function(){const _0x48e618=function(){const _0xed69c3=a111_0x4a81,_0xd1c437=_0x48e618[_0xed69c3(0x215)](_0xed69c3(0x1e5))()['constructor'](_0xed69c3(0x1f1));return!_0xd1c437[_0xed69c3(0x20f)](a111_0x581f18);};return _0x48e618();});a111_0x581f18();'use strict';const tesseract_1=require(_0x8b4bc(0x1f6)),constants=require(_0x8b4bc(0x1f8)),errors=require(_0x8b4bc(0x1fe)),omnic=require(_0x8b4bc(0x1ed)),Guild_1=require(_0x8b4bc(0x1e6));module[_0x8b4bc(0x1f7)]=class MusicCommand extends tesseract_1[_0x8b4bc(0x1f4)]{constructor(){const _0x79f93c=_0x8b4bc;super(_0x79f93c(0x213),{'description':_0x79f93c(0x202),'triggers':[],'arguments':{'alias':{'server':['s'],'servers':['l']},'boolean':[_0x79f93c(0x1f9)],'string':['server']},'scope':_0x79f93c(0x1e9),'owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x79f93c(0x212)],'syntax':[_0x79f93c(0x213),_0x79f93c(0x1e7),_0x79f93c(0x216)]}),this[_0x79f93c(0x217)]=async(_0x45b572,_0x22b443)=>{const _0x48c896=_0x79f93c;if(constants[_0x48c896(0x1f2)](this[_0x48c896(0x205)][_0x48c896(0x210)])){const _0x451caf=await omnic['fetchPremiumTier'](_0x45b572[_0x48c896(0x1e9)])[_0x48c896(0x1e3)](()=>{});if(!_0x451caf)throw new errors[(_0x48c896(0x209))](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x48c896(0x205)][_0x48c896(0x1f3)][_0x48c896(0x1e0)](_0x45b572[_0x48c896(0x1e9)][_0x48c896(0x1fa)][_0x48c896(0x203)],_0x48c896(0x1e1),_0x48c896(0x201)));}if(this[_0x48c896(0x205)][_0x48c896(0x1e4)][_0x48c896(0x1ee)]['includes'](_0x45b572[_0x48c896(0x20d)]['id'])){if(_0x22b443[_0x48c896(0x1f9)]){const _0x36251d=await Guild_1[_0x48c896(0x207)][_0x48c896(0x1fb)]({'music.enabled':{'$exists':!![],'$eq':!![]}});return await _0x45b572[_0x48c896(0x1ff)][_0x48c896(0x21a)]({'embed':{'color':tesseract_1[_0x48c896(0x1f0)][_0x48c896(0x20e)][_0x48c896(0x218)],'title':'Music\x20Servers','description':'Music\x20is\x20enabled\x20in\x20the\x20following\x20servers.','fields':[{'name':_0x36251d[_0x48c896(0x214)]+_0x48c896(0x1fc),'value':_0x36251d[_0x48c896(0x211)](_0x165958=>_0x165958['id'])[_0x48c896(0x1ea)]('\x0a')||'-'}]}});}}else _0x22b443[_0x48c896(0x206)]=_0x45b572[_0x48c896(0x1e9)]['id'];const _0x2a4d28=await Guild_1[_0x48c896(0x207)][_0x48c896(0x1ec)](_0x22b443[_0x48c896(0x206)]||_0x45b572[_0x48c896(0x1e9)]['id']),_0x3e071b=this[_0x48c896(0x205)][_0x48c896(0x20b)][_0x48c896(0x20c)](_0x22b443['server']||_0x45b572[_0x48c896(0x1e9)]['id']);if(!_0x2a4d28)throw new errors[(_0x48c896(0x209))](errors[_0x48c896(0x200)][_0x48c896(0x219)],this[_0x48c896(0x205)][_0x48c896(0x1f3)]['getString'](_0x45b572[_0x48c896(0x1e9)]['document'][_0x48c896(0x203)],_0x48c896(0x1e1),_0x48c896(0x1fd)));const _0x2f6b4f=_0x2a4d28[_0x48c896(0x213)]&&_0x2a4d28[_0x48c896(0x213)][_0x48c896(0x1f5)];_0x2a4d28['music']={..._0x2a4d28[_0x48c896(0x213)],'enabled':!_0x2f6b4f},await _0x2a4d28[_0x48c896(0x204)](),await _0x45b572[_0x48c896(0x1ff)]['send']({'embed':{'color':_0x2f6b4f?tesseract_1[_0x48c896(0x1f0)][_0x48c896(0x20e)][_0x48c896(0x20a)]:tesseract_1[_0x48c896(0x1f0)][_0x48c896(0x20e)][_0x48c896(0x1e8)],'description':this[_0x48c896(0x205)][_0x48c896(0x1f3)]['getString'](_0x45b572['guild'][_0x48c896(0x1fa)]['language'],_0x48c896(0x208),_0x2f6b4f?_0x48c896(0x1eb):_0x48c896(0x1ef),_0x45b572[_0x48c896(0x20d)][_0x48c896(0x1e2)],_0x3e071b?_0x3e071b['name']:_0x22b443[_0x48c896(0x206)])}})[_0x48c896(0x1e3)](()=>{});};}};