const a91_0x3d32=['send','dispatcher','length','isMusicMaster','constructor','compile','queue\x20--shuffle','name','channel','\x20•\x20','locale','apply','\x20of\x20','has','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Unknown\x20Artist','slice','COLORS','floor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','playing','voice','toString','items','test','pages','author','connection','streamTime','loop','queue\x20--clear','\x20•\x20Page\x20','page','exec','document','shuffle','get','It\x20allows\x20you\x20to\x20see\x20the\x20current\x20music\x20queue\x20of\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20clear,\x20or\x20shuffle\x20the\x20music\x20queue\x20as\x20well\x20as\x20remove\x20a\x20song\x20from\x20the\x20queue,\x20or\x20set\x20(and\x20unset)\x20the\x20queue\x20in\x20loop.','\x20-\x20','queue','getString','guild','../../utils/numbers','musicQueueRepeatDisable','musicDisabled','musicQueueCount','queue\x20--loop','music','Music\x20Queue','member','cache','requester','PINK','duration','language','repeat','tag','musicQueueShuffle','../../utils/constants','exports','splice','@bastion/tesseract','info','\x20/\x20','textChannel','errors','../../utils/arrays','track','Command','album','Constants','inRange','RED','remove','catch','musicQueueClean','history','users','paginate','enabled','isPublicBastion','client'];(function(_0x441ac4,_0x3d329b){const _0x5dded0=function(_0x5e3c9f){while(--_0x5e3c9f){_0x441ac4['push'](_0x441ac4['shift']());}};const _0x40f499=function(){const _0x1a9401={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2fe7b1,_0x3df665,_0x1dc290,_0x312864){_0x312864=_0x312864||{};let _0x105f8b=_0x3df665+'='+_0x1dc290;let _0x38b5e6=0x0;for(let _0x29d6e0=0x0,_0x190e8d=_0x2fe7b1['length'];_0x29d6e0<_0x190e8d;_0x29d6e0++){const _0x546382=_0x2fe7b1[_0x29d6e0];_0x105f8b+=';\x20'+_0x546382;const _0x1560a6=_0x2fe7b1[_0x546382];_0x2fe7b1['push'](_0x1560a6);_0x190e8d=_0x2fe7b1['length'];if(_0x1560a6!==!![]){_0x105f8b+='='+_0x1560a6;}}_0x312864['cookie']=_0x105f8b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x47200e,_0x431cb4){_0x47200e=_0x47200e||function(_0x53de57){return _0x53de57;};const _0x17489b=_0x47200e(new RegExp('(?:^|;\x20)'+_0x431cb4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4be591=function(_0x15c42d,_0x2fef2e){_0x15c42d(++_0x2fef2e);};_0x4be591(_0x5dded0,_0x3d329b);return _0x17489b?decodeURIComponent(_0x17489b[0x1]):undefined;}};const _0x383fd7=function(){const _0x14c267=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x14c267['test'](_0x1a9401['removeCookie']['toString']());};_0x1a9401['updateCookie']=_0x383fd7;let _0x22ba68='';const _0x1e1ec6=_0x1a9401['updateCookie']();if(!_0x1e1ec6){_0x1a9401['setCookie'](['*'],'counter',0x1);}else if(_0x1e1ec6){_0x22ba68=_0x1a9401['getCookie'](null,'counter');}else{_0x1a9401['removeCookie']();}};_0x40f499();}(a91_0x3d32,0x182));const a91_0x5dde=function(_0x441ac4,_0x3d329b){_0x441ac4=_0x441ac4-0x0;let _0x5dded0=a91_0x3d32[_0x441ac4];return _0x5dded0;};const a91_0x1a9401=function(){let _0x521180=!![];return function(_0x2eeae2,_0x5a9a74){const _0x4d0f46=_0x521180?function(){if(_0x5a9a74){const _0x5e53d5=_0x5a9a74[a91_0x5dde('0x23')](_0x2eeae2,arguments);_0x5a9a74=null;return _0x5e53d5;}}:function(){};_0x521180=![];return _0x4d0f46;};}();const a91_0x5e3c9f=a91_0x1a9401(this,function(){const _0x3f2af5=function(){const _0x45f5f1=_0x3f2af5[a91_0x5dde('0x1c')](a91_0x5dde('0x2b'))()[a91_0x5dde('0x1d')](a91_0x5dde('0x26'));return!_0x45f5f1[a91_0x5dde('0x30')](a91_0x5e3c9f);};return _0x3f2af5();});a91_0x5e3c9f();'use strict';const tesseract_1=require(a91_0x5dde('0x3'));const arrays=require(a91_0x5dde('0x8'));const constants=require(a91_0x5dde('0x0'));const numbers=require(a91_0x5dde('0x42'));const pagination=require('../../utils/pagination');module[a91_0x5dde('0x1')]=class Queue extends tesseract_1[a91_0x5dde('0xa')]{constructor(){super(a91_0x5dde('0x3f'),{'description':a91_0x5dde('0x3d'),'triggers':[],'arguments':{'alias':{'clear':['c'],'loop':['l'],'remove':['r'],'shuffle':['s']},'boolean':['clear','loop',a91_0x5dde('0x3b')],'number':[a91_0x5dde('0xf')]},'scope':a91_0x5dde('0x41'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['queue',a91_0x5dde('0x46'),a91_0x5dde('0x1e'),a91_0x5dde('0x36'),'queue\x20--remove\x2013']});this[a91_0x5dde('0x39')]=async(_0x26657d,_0x21cc1f)=>{const _0xcad95d=_0x26657d['guild'];if(!_0xcad95d['document']['music']||!_0xcad95d['document'][a91_0x5dde('0x47')][a91_0x5dde('0x15')]){return await _0x26657d['channel'][a91_0x5dde('0x18')]({'embed':{'color':tesseract_1[a91_0x5dde('0xc')][a91_0x5dde('0x29')][a91_0x5dde('0xe')],'description':this[a91_0x5dde('0x17')][a91_0x5dde('0x22')]['getString'](_0x26657d[a91_0x5dde('0x41')]['document'][a91_0x5dde('0x4e')],a91_0x5dde('0x7'),constants[a91_0x5dde('0x16')](_0x26657d[a91_0x5dde('0x32')])?'musicDisabledPublic':a91_0x5dde('0x44'))}})[a91_0x5dde('0x10')](()=>{});}if(_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x2c')]&&_0xcad95d[a91_0x5dde('0x2d')]&&_0xcad95d['voice'][a91_0x5dde('0x33')][a91_0x5dde('0x19')]){const _0x548577=_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x3f')][0x0];if(_0x21cc1f['clear']){if(!_0x26657d['member'][a91_0x5dde('0x1b')]())return;_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x3f')]=[_0x548577];_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x12')]=[];_0xcad95d[a91_0x5dde('0x47')]['textChannel'][a91_0x5dde('0x18')]({'embed':{'color':tesseract_1[a91_0x5dde('0xc')]['COLORS'][a91_0x5dde('0x4c')],'description':this[a91_0x5dde('0x17')][a91_0x5dde('0x22')][a91_0x5dde('0x40')](_0x26657d['guild'][a91_0x5dde('0x3a')][a91_0x5dde('0x4e')],a91_0x5dde('0x4'),a91_0x5dde('0x11'),_0x26657d[a91_0x5dde('0x32')]['tag'])}})[a91_0x5dde('0x10')](()=>{});}else if(_0x21cc1f[a91_0x5dde('0x35')]){_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x4f')]=!_0xcad95d[a91_0x5dde('0x47')]['repeat'];_0xcad95d['music']['textChannel'][a91_0x5dde('0x18')]({'embed':{'color':tesseract_1[a91_0x5dde('0xc')][a91_0x5dde('0x29')][a91_0x5dde('0x4c')],'description':this[a91_0x5dde('0x17')][a91_0x5dde('0x22')][a91_0x5dde('0x40')](_0x26657d[a91_0x5dde('0x41')][a91_0x5dde('0x3a')][a91_0x5dde('0x4e')],a91_0x5dde('0x4'),_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x4f')]?'musicQueueRepeatEnabled':a91_0x5dde('0x43'),_0x26657d['author'][a91_0x5dde('0x50')])}})[a91_0x5dde('0x10')](()=>{});}else if(_0x21cc1f['remove']&&_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x3f')]['length']>0x1&&numbers[a91_0x5dde('0xd')](_0x21cc1f['remove'],0x1,_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x3f')][a91_0x5dde('0x1a')]-0x1)){if(!_0x26657d['member']['isMusicMaster']()&&_0xcad95d[a91_0x5dde('0x47')]['queue'][_0x21cc1f['remove']][a91_0x5dde('0x4b')]!==_0x26657d[a91_0x5dde('0x32')]['id'])return;const _0x278ab5=_0xcad95d[a91_0x5dde('0x47')]['queue'][a91_0x5dde('0x2')](_0x21cc1f[a91_0x5dde('0xf')],0x1)[0x0];_0xcad95d[a91_0x5dde('0x47')]['textChannel'][a91_0x5dde('0x18')]({'embed':{'color':tesseract_1['Constants'][a91_0x5dde('0x29')][a91_0x5dde('0x4c')],'description':this[a91_0x5dde('0x17')]['locale'][a91_0x5dde('0x40')](_0x26657d[a91_0x5dde('0x41')][a91_0x5dde('0x3a')][a91_0x5dde('0x4e')],a91_0x5dde('0x4'),'musicQueueRemove',_0x26657d[a91_0x5dde('0x32')][a91_0x5dde('0x50')],_0x278ab5[a91_0x5dde('0x9')],this[a91_0x5dde('0x17')][a91_0x5dde('0x13')][a91_0x5dde('0x4a')][a91_0x5dde('0x25')](_0x278ab5[a91_0x5dde('0x4b')])?this[a91_0x5dde('0x17')][a91_0x5dde('0x13')][a91_0x5dde('0x4a')][a91_0x5dde('0x3c')](_0x278ab5[a91_0x5dde('0x4b')])['tag']:_0x278ab5[a91_0x5dde('0x4b')])}})['catch'](()=>{});}else if(_0x21cc1f['shuffle']){if(!_0x26657d[a91_0x5dde('0x49')][a91_0x5dde('0x1b')]())return;const _0x961e71=arrays[a91_0x5dde('0x3b')](_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x3f')][a91_0x5dde('0x28')](0x1));_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x3f')]=[_0x548577,..._0x961e71];_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x6')][a91_0x5dde('0x18')]({'embed':{'color':tesseract_1[a91_0x5dde('0xc')][a91_0x5dde('0x29')][a91_0x5dde('0x4c')],'description':this[a91_0x5dde('0x17')][a91_0x5dde('0x22')][a91_0x5dde('0x40')](_0x26657d[a91_0x5dde('0x41')][a91_0x5dde('0x3a')][a91_0x5dde('0x4e')],'info',a91_0x5dde('0x51'),_0x26657d['author'][a91_0x5dde('0x50')])}})[a91_0x5dde('0x10')](()=>{});}else{const _0x22dc80=_0xcad95d['voice'][a91_0x5dde('0x33')][a91_0x5dde('0x19')][a91_0x5dde('0x34')]-_0xcad95d[a91_0x5dde('0x2d')][a91_0x5dde('0x33')]['dispatcher']['pausedTime'];const _0x3af4d8=pagination[a91_0x5dde('0x14')](_0xcad95d['music'][a91_0x5dde('0x3f')][a91_0x5dde('0x28')](0x1),_0x21cc1f[a91_0x5dde('0x38')]);_0xcad95d[a91_0x5dde('0x47')][a91_0x5dde('0x6')]['send']({'embed':{'color':tesseract_1[a91_0x5dde('0xc')][a91_0x5dde('0x29')][a91_0x5dde('0x4c')],'title':a91_0x5dde('0x48'),'description':this[a91_0x5dde('0x17')]['locale'][a91_0x5dde('0x40')](_0x26657d[a91_0x5dde('0x41')][a91_0x5dde('0x3a')][a91_0x5dde('0x4e')],a91_0x5dde('0x4'),a91_0x5dde('0x45'),(_0xcad95d['music'][a91_0x5dde('0x3f')]['length']-0x1)[a91_0x5dde('0x2e')]()),'fields':_0x3af4d8[a91_0x5dde('0x2f')]['map']((_0x520087,_0x273130)=>({'name':'#'+(_0x273130+0x1)+a91_0x5dde('0x3e')+_0x520087['track'],'value':''+(_0x520087['artist']||a91_0x5dde('0x27'))+(_0x520087[a91_0x5dde('0xb')]&&_0x520087[a91_0x5dde('0x9')]!==_0x520087[a91_0x5dde('0xb')]?'\x20-\x20'+_0x520087[a91_0x5dde('0xb')]:'')})),'footer':{'text':_0x548577[a91_0x5dde('0x9')]+a91_0x5dde('0x21')+Math[a91_0x5dde('0x2a')](_0x22dc80/0xea60)+':'+Math[a91_0x5dde('0x2a')](_0x22dc80%0xea60/0x3e8)+a91_0x5dde('0x5')+_0x548577[a91_0x5dde('0x4d')]+a91_0x5dde('0x21')+_0xcad95d[a91_0x5dde('0x2d')][a91_0x5dde('0x33')][a91_0x5dde('0x20')][a91_0x5dde('0x1f')]+a91_0x5dde('0x37')+_0x3af4d8[a91_0x5dde('0x38')]+a91_0x5dde('0x24')+_0x3af4d8[a91_0x5dde('0x31')]}}})[a91_0x5dde('0x10')](()=>{});}}};}};