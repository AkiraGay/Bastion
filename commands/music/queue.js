const a102_0x198b=['test','pausedTime','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','clear','constructor','map','paginate','channel','textChannel','connection','guild','tag','get','language','duration','locale','isMusicMaster','RED','enabled','splice','getString','apply','isPublicBastion','It\x20allows\x20you\x20to\x20see\x20the\x20current\x20music\x20queue\x20of\x20the\x20server.\x20It\x20also\x20allows\x20you\x20to\x20clear,\x20or\x20shuffle\x20the\x20music\x20queue\x20as\x20well\x20as\x20remove\x20a\x20song\x20from\x20the\x20queue,\x20or\x20set\x20(and\x20unset)\x20the\x20queue\x20in\x20loop.','member','shuffle','client','queue\x20--remove\x2013','history','playing','info','\x20-\x20','dispatcher','voice','remove','length','repeat','requester','floor','exports','loop','\x20/\x20','Music\x20Queue','\x20of\x20','musicQueueRepeatDisable','slice','COLORS','pages','queue\x20--shuffle','catch','document','queue','author','album','Constants','music','cache','inRange','toString','items','Unknown\x20Artist','track','send','musicDisabled','queue\x20--clear','queue\x20--loop','has','page','return\x20/\x22\x20+\x20this\x20+\x20\x22/','\x20•\x20','users','../../utils/constants','PINK','exec','musicQueueCount','musicQueueRepeatEnabled'];(function(_0x417d89,_0x198b28){const _0x33e6bf=function(_0x362a0e){while(--_0x362a0e){_0x417d89['push'](_0x417d89['shift']());}},_0x359477=function(){const _0x30385b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x433d7f,_0x355979,_0x27c717,_0x56baa0){_0x56baa0=_0x56baa0||{};let _0xedac53=_0x355979+'='+_0x27c717,_0x1c5545=0x0;for(let _0x4e31a5=0x0,_0x210270=_0x433d7f['length'];_0x4e31a5<_0x210270;_0x4e31a5++){const _0xdb4047=_0x433d7f[_0x4e31a5];_0xedac53+=';\x20'+_0xdb4047;const _0x1389ec=_0x433d7f[_0xdb4047];_0x433d7f['push'](_0x1389ec),_0x210270=_0x433d7f['length'],_0x1389ec!==!![]&&(_0xedac53+='='+_0x1389ec);}_0x56baa0['cookie']=_0xedac53;},'removeCookie':function(){return'dev';},'getCookie':function(_0x352b22,_0x48aa37){_0x352b22=_0x352b22||function(_0x12f564){return _0x12f564;};const _0x49d517=_0x352b22(new RegExp('(?:^|;\x20)'+_0x48aa37['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x52c2c0=function(_0x92d06f,_0x280fcb){_0x92d06f(++_0x280fcb);};return _0x52c2c0(_0x33e6bf,_0x198b28),_0x49d517?decodeURIComponent(_0x49d517[0x1]):undefined;}},_0x365c35=function(){const _0x50aba9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x50aba9['test'](_0x30385b['removeCookie']['toString']());};_0x30385b['updateCookie']=_0x365c35;let _0x1872e3='';const _0x5b623d=_0x30385b['updateCookie']();if(!_0x5b623d)_0x30385b['setCookie'](['*'],'counter',0x1);else _0x5b623d?_0x1872e3=_0x30385b['getCookie'](null,'counter'):_0x30385b['removeCookie']();};_0x359477();}(a102_0x198b,0xd5));const a102_0x33e6=function(_0x417d89,_0x198b28){_0x417d89=_0x417d89-0x0;let _0x33e6bf=a102_0x198b[_0x417d89];return _0x33e6bf;};const _0x2d022e=a102_0x33e6,a102_0x30385b=function(){let _0x1872e3=!![];return function(_0x5b623d,_0x433d7f){const _0x355979=_0x1872e3?function(){const _0x2fc5cc=a102_0x33e6;if(_0x433d7f){const _0x27c717=_0x433d7f[_0x2fc5cc('0x24')](_0x5b623d,arguments);return _0x433d7f=null,_0x27c717;}}:function(){};return _0x1872e3=![],_0x355979;};}(),a102_0x362a0e=a102_0x30385b(this,function(){const _0x56baa0=function(){const _0x464ed7=a102_0x33e6,_0xedac53=_0x56baa0['constructor'](_0x464ed7('0x7'))()[_0x464ed7('0x13')](_0x464ed7('0x11'));return!_0xedac53[_0x464ed7('0xf')](a102_0x362a0e);};return _0x56baa0();});a102_0x362a0e();'use strict';const tesseract_1=require('@bastion/tesseract'),arrays=require('../../utils/arrays'),constants=require(_0x2d022e('0xa')),numbers=require('../../utils/numbers'),pagination=require('../../utils/pagination');module[_0x2d022e('0x36')]=class Queue extends tesseract_1['Command']{constructor(){const _0x321e9d=_0x2d022e;super(_0x321e9d('0x42'),{'description':_0x321e9d('0x26'),'triggers':[],'arguments':{'alias':{'clear':['c'],'loop':['l'],'remove':['r'],'shuffle':['s']},'boolean':['clear','loop','shuffle'],'number':[_0x321e9d('0x31')]},'scope':_0x321e9d('0x19'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x321e9d('0x42'),_0x321e9d('0x4'),_0x321e9d('0x3f'),_0x321e9d('0x3'),_0x321e9d('0x2a')]}),this[_0x321e9d('0xc')]=async(_0x1c5545,_0x4e31a5)=>{const _0x26b8e2=_0x321e9d,_0x210270=_0x1c5545[_0x26b8e2('0x19')];if(!_0x210270[_0x26b8e2('0x41')][_0x26b8e2('0x46')]||!_0x210270[_0x26b8e2('0x41')][_0x26b8e2('0x46')][_0x26b8e2('0x21')])return await _0x1c5545[_0x26b8e2('0x16')][_0x26b8e2('0x1')]({'embed':{'color':tesseract_1[_0x26b8e2('0x45')][_0x26b8e2('0x3d')][_0x26b8e2('0x20')],'description':this[_0x26b8e2('0x29')][_0x26b8e2('0x1e')][_0x26b8e2('0x23')](_0x1c5545['guild']['document']['language'],'errors',constants[_0x26b8e2('0x25')](_0x1c5545['author'])?'musicDisabledPublic':_0x26b8e2('0x2'))}})[_0x26b8e2('0x40')](()=>{});if(_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x2c')]&&_0x210270['voice']&&_0x210270[_0x26b8e2('0x30')][_0x26b8e2('0x18')][_0x26b8e2('0x2f')]){const _0xdb4047=_0x210270['music'][_0x26b8e2('0x42')][0x0];if(_0x4e31a5[_0x26b8e2('0x12')]){if(!_0x1c5545['member'][_0x26b8e2('0x1f')]())return;_0x210270[_0x26b8e2('0x46')]['queue']=[_0xdb4047],_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x2b')]=[],_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x17')][_0x26b8e2('0x1')]({'embed':{'color':tesseract_1[_0x26b8e2('0x45')][_0x26b8e2('0x3d')][_0x26b8e2('0xb')],'description':this[_0x26b8e2('0x29')][_0x26b8e2('0x1e')][_0x26b8e2('0x23')](_0x1c5545[_0x26b8e2('0x19')]['document'][_0x26b8e2('0x1c')],_0x26b8e2('0x2d'),'musicQueueClean',_0x1c5545[_0x26b8e2('0x43')]['tag'])}})['catch'](()=>{});}else{if(_0x4e31a5[_0x26b8e2('0x37')])_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x33')]=!_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x33')],_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x17')]['send']({'embed':{'color':tesseract_1[_0x26b8e2('0x45')][_0x26b8e2('0x3d')][_0x26b8e2('0xb')],'description':this[_0x26b8e2('0x29')]['locale'][_0x26b8e2('0x23')](_0x1c5545[_0x26b8e2('0x19')]['document']['language'],_0x26b8e2('0x2d'),_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x33')]?_0x26b8e2('0xe'):_0x26b8e2('0x3b'),_0x1c5545[_0x26b8e2('0x43')][_0x26b8e2('0x1a')])}})[_0x26b8e2('0x40')](()=>{});else{if(_0x4e31a5[_0x26b8e2('0x31')]&&_0x210270['music']['queue'][_0x26b8e2('0x32')]>0x1&&numbers[_0x26b8e2('0x48')](_0x4e31a5['remove'],0x1,_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x42')][_0x26b8e2('0x32')]-0x1)){if(!_0x1c5545['member'][_0x26b8e2('0x1f')]()&&_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x42')][_0x4e31a5[_0x26b8e2('0x31')]][_0x26b8e2('0x34')]!==_0x1c5545[_0x26b8e2('0x43')]['id'])return;const _0x1389ec=_0x210270[_0x26b8e2('0x46')]['queue'][_0x26b8e2('0x22')](_0x4e31a5[_0x26b8e2('0x31')],0x1)[0x0];_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x17')][_0x26b8e2('0x1')]({'embed':{'color':tesseract_1[_0x26b8e2('0x45')][_0x26b8e2('0x3d')][_0x26b8e2('0xb')],'description':this[_0x26b8e2('0x29')]['locale'][_0x26b8e2('0x23')](_0x1c5545[_0x26b8e2('0x19')][_0x26b8e2('0x41')][_0x26b8e2('0x1c')],_0x26b8e2('0x2d'),'musicQueueRemove',_0x1c5545[_0x26b8e2('0x43')][_0x26b8e2('0x1a')],_0x1389ec[_0x26b8e2('0x0')],this[_0x26b8e2('0x29')][_0x26b8e2('0x9')][_0x26b8e2('0x47')][_0x26b8e2('0x5')](_0x1389ec['requester'])?this[_0x26b8e2('0x29')][_0x26b8e2('0x9')][_0x26b8e2('0x47')][_0x26b8e2('0x1b')](_0x1389ec[_0x26b8e2('0x34')])[_0x26b8e2('0x1a')]:_0x1389ec[_0x26b8e2('0x34')])}})[_0x26b8e2('0x40')](()=>{});}else{if(_0x4e31a5[_0x26b8e2('0x28')]){if(!_0x1c5545[_0x26b8e2('0x27')]['isMusicMaster']())return;const _0x352b22=arrays[_0x26b8e2('0x28')](_0x210270['music'][_0x26b8e2('0x42')]['slice'](0x1));_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x42')]=[_0xdb4047,..._0x352b22],_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x17')]['send']({'embed':{'color':tesseract_1[_0x26b8e2('0x45')]['COLORS'][_0x26b8e2('0xb')],'description':this[_0x26b8e2('0x29')]['locale'][_0x26b8e2('0x23')](_0x1c5545['guild'][_0x26b8e2('0x41')][_0x26b8e2('0x1c')],_0x26b8e2('0x2d'),'musicQueueShuffle',_0x1c5545['author']['tag'])}})[_0x26b8e2('0x40')](()=>{});}else{const _0x48aa37=_0x210270[_0x26b8e2('0x30')][_0x26b8e2('0x18')]['dispatcher']['streamTime']-_0x210270['voice'][_0x26b8e2('0x18')][_0x26b8e2('0x2f')][_0x26b8e2('0x10')],_0x49d517=pagination[_0x26b8e2('0x15')](_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x42')][_0x26b8e2('0x3c')](0x1),_0x4e31a5[_0x26b8e2('0x6')]);_0x210270['music']['textChannel'][_0x26b8e2('0x1')]({'embed':{'color':tesseract_1[_0x26b8e2('0x45')][_0x26b8e2('0x3d')][_0x26b8e2('0xb')],'title':_0x26b8e2('0x39'),'description':this[_0x26b8e2('0x29')][_0x26b8e2('0x1e')][_0x26b8e2('0x23')](_0x1c5545[_0x26b8e2('0x19')][_0x26b8e2('0x41')]['language'],'info',_0x26b8e2('0xd'),(_0x210270[_0x26b8e2('0x46')][_0x26b8e2('0x42')][_0x26b8e2('0x32')]-0x1)[_0x26b8e2('0x49')]()),'fields':_0x49d517[_0x26b8e2('0x4a')][_0x26b8e2('0x14')]((_0x52c2c0,_0x12f564)=>({'name':'#'+(_0x12f564+0x1)+_0x26b8e2('0x2e')+_0x52c2c0['track'],'value':''+(_0x52c2c0['artist']||_0x26b8e2('0x4b'))+(_0x52c2c0[_0x26b8e2('0x44')]&&_0x52c2c0[_0x26b8e2('0x0')]!==_0x52c2c0['album']?_0x26b8e2('0x2e')+_0x52c2c0[_0x26b8e2('0x44')]:'')})),'footer':{'text':_0xdb4047['track']+_0x26b8e2('0x8')+Math[_0x26b8e2('0x35')](_0x48aa37/0xea60)+':'+Math[_0x26b8e2('0x35')](_0x48aa37%0xea60/0x3e8)+_0x26b8e2('0x38')+_0xdb4047[_0x26b8e2('0x1d')]+'\x20•\x20'+_0x210270[_0x26b8e2('0x30')][_0x26b8e2('0x18')][_0x26b8e2('0x16')]['name']+'\x20•\x20Page\x20'+_0x49d517[_0x26b8e2('0x6')]+_0x26b8e2('0x3a')+_0x49d517[_0x26b8e2('0x3e')]}}})[_0x26b8e2('0x40')](()=>{});}}}}}};}};