const a93_0x2ddf=['skipVotes','members','Constants','duration','../../utils/constants','speakable','play','--geo-bypass-country=US','return\x20/\x22\x20+\x20this\x20+\x20\x22/','promises','Logger','thumbnail','.mp3','catch','voiceChannel','name','webpage_url','textChannelId','Playing','alt_title','client','RED','ytsearch:','youtube-dl','finish','language','setMute','musicDownloadError','getString','It\x20allows\x20you\x20to\x20play\x20a\x20music\x20in\x20the\x20server,\x20from\x20the\x20given\x20queury\x20or\x20from\x20any\x20supported\x20source.','history','Artist','constructor','author','document','fulltitle','errors','--force-ipv4','rmdir','join','error','tag','joinable','setActivity','has','guild','\x20â€¢\x20','getSongInfo','queue','failed','../../utils/errors','textChannel','musicDirectory','streamEndHandler','isMusicMaster','track','musicDisabledPublic','--no-cache-dir','get','type','voice','--quiet','@bastion/tesseract','send','uploader','link','uuid','setDeaf','exec','voiceChannelId','--no-playlist','url','album','--format=bestaudio[protocol^=http]','push','music','startStreamDispatcher','--ignore-errors','--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','repeat','cache','./music/','requester','presence','noMusicChannels','COLORS','PINK','Command','artist','keepAlive','connection','href','channel','--referer=https://bastion.traction.one','Album','end','info','Added\x20to\x20Queue','--youtube-skip-dash-manifest','member','leave','title','length','shift','creator','enabled','apply','pipe','getInfo','filter','play\x20--link\x20https://www.youtube.com/watch?v=dQw4w9WgXcQ','ArgumentTypes','--no-warnings','playing','locale','unjoinable','dispatcherFinishHandler','test','INVALID_COMMAND_SYNTAX','channels','streamInfoHandler','activity','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','BASTION_ERROR_TYPE','configurations','user'];(function(_0x513d2b,_0x2ddf94){const _0x599246=function(_0x453032){while(--_0x453032){_0x513d2b['push'](_0x513d2b['shift']());}},_0x23e646=function(){const _0x4c6074={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3a806f,_0x52c31e,_0x2ab84c,_0x535e9e){_0x535e9e=_0x535e9e||{};let _0x107eda=_0x52c31e+'='+_0x2ab84c,_0x3678f7=0x0;for(let _0x2a902c=0x0,_0x41d8ac=_0x3a806f['length'];_0x2a902c<_0x41d8ac;_0x2a902c++){const _0x448d23=_0x3a806f[_0x2a902c];_0x107eda+=';\x20'+_0x448d23;const _0x41dfe9=_0x3a806f[_0x448d23];_0x3a806f['push'](_0x41dfe9),_0x41d8ac=_0x3a806f['length'],_0x41dfe9!==!![]&&(_0x107eda+='='+_0x41dfe9);}_0x535e9e['cookie']=_0x107eda;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1fedfe,_0xfdfe51){_0x1fedfe=_0x1fedfe||function(_0x7147d1){return _0x7147d1;};const _0x84a8d6=_0x1fedfe(new RegExp('(?:^|;\x20)'+_0xfdfe51['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xcb9d40=function(_0x5b8733,_0x3922a2){_0x5b8733(++_0x3922a2);};return _0xcb9d40(_0x599246,_0x2ddf94),_0x84a8d6?decodeURIComponent(_0x84a8d6[0x1]):undefined;}},_0x355d84=function(){const _0x2b66f0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2b66f0['test'](_0x4c6074['removeCookie']['toString']());};_0x4c6074['updateCookie']=_0x355d84;let _0x51746a='';const _0x2a0bc4=_0x4c6074['updateCookie']();if(!_0x2a0bc4)_0x4c6074['setCookie'](['*'],'counter',0x1);else _0x2a0bc4?_0x51746a=_0x4c6074['getCookie'](null,'counter'):_0x4c6074['removeCookie']();};_0x23e646();}(a93_0x2ddf,0x1b9));const a93_0x5992=function(_0x513d2b,_0x2ddf94){_0x513d2b=_0x513d2b-0x0;let _0x599246=a93_0x2ddf[_0x513d2b];return _0x599246;};const a93_0x2ab84c=function(){let _0x203f71=!![];return function(_0x553e7c,_0x5792a4){const _0x3dee0c=_0x203f71?function(){if(_0x5792a4){const _0x52b9a7=_0x5792a4[a93_0x5992('0x2b')](_0x553e7c,arguments);return _0x5792a4=null,_0x52b9a7;}}:function(){};return _0x203f71=![],_0x3dee0c;};}(),a93_0x52c31e=a93_0x2ab84c(this,function(){const _0x2b8d80=function(){const _0x298544=_0x2b8d80[a93_0x5992('0x5f')](a93_0x5992('0x47'))()[a93_0x5992('0x5f')](a93_0x5992('0x3b'));return!_0x298544[a93_0x5992('0x36')](a93_0x52c31e);};return _0x2b8d80();});a93_0x52c31e();'use strict';const fs=require('fs'),tesseract_1=require(a93_0x5992('0x7d')),youtube=require(a93_0x5992('0x56')),uuid_1=require(a93_0x5992('0x3')),constants=require(a93_0x5992('0x43')),errors=require(a93_0x5992('0x71'));module['exports']=class Play extends tesseract_1[a93_0x5992('0x18')]{constructor(){super(a93_0x5992('0x45'),{'description':a93_0x5992('0x5c'),'triggers':[],'arguments':{'alias':{'link':'l'},'coerce':{'link':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x30')]['URL']}},'scope':a93_0x5992('0x6c'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['play\x20Remember\x20The\x20Name\x20by\x20Ed\x20Sheeran',a93_0x5992('0x2f')]}),this[a93_0x5992('0x39')]=(_0x1cfb87,_0x23be8d)=>{const _0x39c58e=_0x23be8d['id'],_0x179c02=_0x23be8d['track']||_0x23be8d[a93_0x5992('0x26')]||_0x23be8d[a93_0x5992('0x62')]||_0x23be8d[a93_0x5992('0x52')],_0x1dfb9c=_0x23be8d[a93_0x5992('0x9')],_0xd26839=_0x23be8d['artist']||_0x23be8d[a93_0x5992('0x29')]||_0x23be8d[a93_0x5992('0x1')],_0x3f80c7=_0x23be8d[a93_0x5992('0x42')],_0x55d826=_0x23be8d[a93_0x5992('0x4a')],_0x445ed9=_0x23be8d[a93_0x5992('0x13')];_0x1cfb87[a93_0x5992('0xc')][a93_0x5992('0x6f')][a93_0x5992('0xb')]({'id':_0x39c58e,'track':_0x179c02,'album':_0x1dfb9c,'artist':_0xd26839,'duration':_0x3f80c7,'thumbnail':_0x55d826,'requester':_0x445ed9});const _0x43f4da=[];_0x1dfb9c&&_0x43f4da[a93_0x5992('0xb')]({'name':'Album','value':_0x1dfb9c,'inline':!![]}),_0xd26839&&_0x43f4da['push']({'name':a93_0x5992('0x5e'),'value':_0xd26839,'inline':!![]}),_0x1cfb87['music'][a93_0x5992('0x72')][a93_0x5992('0x0')]({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')][a93_0x5992('0x17')],'title':a93_0x5992('0x22'),'description':_0x179c02,'fields':_0x43f4da,'thumbnail':{'url':_0x55d826},'footer':{'text':(_0x1cfb87[a93_0x5992('0xc')]['queue'][a93_0x5992('0x27')]?'#'+(_0x1cfb87['music'][a93_0x5992('0x6f')][a93_0x5992('0x27')]-0x1):'Up\x20Next')+(a93_0x5992('0x6d')+_0x3f80c7+a93_0x5992('0x6d')+(_0x1cfb87['members']['cache'][a93_0x5992('0x79')](_0x445ed9)[a93_0x5992('0x3e')][a93_0x5992('0x68')]||_0x445ed9))}}})[a93_0x5992('0x4c')](()=>{});},this[a93_0x5992('0x74')]=_0x33231a=>{!_0x33231a[a93_0x5992('0xc')]['playing']&&this[a93_0x5992('0xd')](_0x33231a);},this['startStreamDispatcher']=_0x3684d1=>{if(_0x3684d1[a93_0x5992('0xc')][a93_0x5992('0x6f')]['length']){const _0x31f054=_0x3684d1['music'][a93_0x5992('0x6f')][0x0],_0x20fb3c=[];_0x31f054['album']&&_0x20fb3c[a93_0x5992('0xb')]({'name':a93_0x5992('0x1f'),'value':_0x31f054[a93_0x5992('0x9')],'inline':!![]});_0x31f054[a93_0x5992('0x19')]&&_0x20fb3c[a93_0x5992('0xb')]({'name':a93_0x5992('0x5e'),'value':_0x31f054[a93_0x5992('0x19')],'inline':!![]});_0x3684d1[a93_0x5992('0xc')][a93_0x5992('0x72')]['send']({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')][a93_0x5992('0x17')],'title':a93_0x5992('0x51'),'description':_0x31f054[a93_0x5992('0x76')],'fields':_0x20fb3c,'thumbnail':{'url':_0x31f054[a93_0x5992('0x4a')]},'footer':{'text':_0x31f054[a93_0x5992('0x42')]+a93_0x5992('0x6d')+(_0x3684d1[a93_0x5992('0x40')][a93_0x5992('0x11')]['get'](_0x31f054[a93_0x5992('0x13')])[a93_0x5992('0x3e')]['tag']||_0x31f054[a93_0x5992('0x13')])}}})[a93_0x5992('0x4c')](()=>{}),_0x3684d1[a93_0x5992('0xc')]['playing']=!![];const _0x5efaec=_0x3684d1[a93_0x5992('0x7b')]&&_0x3684d1[a93_0x5992('0x7b')][a93_0x5992('0x1b')]['play'](this[a93_0x5992('0x73')]+_0x3684d1['id']+'/'+_0x31f054['id']+a93_0x5992('0x4b'));this[a93_0x5992('0x53')][a93_0x5992('0x3d')][a93_0x5992('0xc')]&&this[a93_0x5992('0x53')][a93_0x5992('0x3d')]['music'][a93_0x5992('0x3a')]&&this[a93_0x5992('0x53')][a93_0x5992('0x3e')][a93_0x5992('0x6a')]({'name':_0x31f054['track'],'type':'LISTENING'})[a93_0x5992('0x4c')](()=>{}),_0x5efaec['on'](a93_0x5992('0x57'),()=>this[a93_0x5992('0x35')](_0x3684d1)),_0x5efaec['on'](a93_0x5992('0x67'),_0x25d7fc=>{tesseract_1[a93_0x5992('0x49')][a93_0x5992('0x67')](_0x25d7fc),this[a93_0x5992('0x35')](_0x3684d1);});}else _0x3684d1['music'][a93_0x5992('0x6f')]=[],_0x3684d1['music'][a93_0x5992('0x5d')]=[],fs[a93_0x5992('0x48')][a93_0x5992('0x65')](this[a93_0x5992('0x73')]+_0x3684d1['id'],{'recursive':!![]})[a93_0x5992('0x4c')](()=>{}),this[a93_0x5992('0x53')][a93_0x5992('0x3d')]['music']&&this[a93_0x5992('0x53')][a93_0x5992('0x3d')][a93_0x5992('0xc')][a93_0x5992('0x3a')]&&this['client'][a93_0x5992('0x3e')][a93_0x5992('0x6a')](this[a93_0x5992('0x53')][a93_0x5992('0x3d')][a93_0x5992('0x14')]instanceof Array?this[a93_0x5992('0x53')]['configurations']['presence'][0x0][a93_0x5992('0x3a')]:this[a93_0x5992('0x53')][a93_0x5992('0x3d')][a93_0x5992('0x14')]['activity'])[a93_0x5992('0x4c')](()=>{}),!_0x3684d1[a93_0x5992('0x61')][a93_0x5992('0xc')][a93_0x5992('0x1a')]&&(_0x3684d1[a93_0x5992('0x7b')]&&_0x3684d1[a93_0x5992('0x7b')][a93_0x5992('0x1d')][a93_0x5992('0x25')]()),_0x3684d1[a93_0x5992('0xc')][a93_0x5992('0x72')][a93_0x5992('0x0')]({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')][a93_0x5992('0x17')],'title':'Stopping\x20Playback'}})[a93_0x5992('0x4c')](()=>{});},this['dispatcherFinishHandler']=_0x401d71=>{_0x401d71[a93_0x5992('0xc')][a93_0x5992('0x32')]=![],_0x401d71[a93_0x5992('0xc')][a93_0x5992('0x3f')]=[],_0x401d71[a93_0x5992('0xc')]['queue'][a93_0x5992('0x27')]&&_0x401d71[a93_0x5992('0xc')]['history'][a93_0x5992('0xb')](_0x401d71[a93_0x5992('0xc')][a93_0x5992('0x6f')][a93_0x5992('0x28')]()),!_0x401d71[a93_0x5992('0xc')][a93_0x5992('0x6f')][a93_0x5992('0x27')]&&_0x401d71['music'][a93_0x5992('0x10')]&&(_0x401d71[a93_0x5992('0xc')][a93_0x5992('0x6f')]=_0x401d71[a93_0x5992('0xc')][a93_0x5992('0x5d')],_0x401d71['music'][a93_0x5992('0x5d')]=[]),this[a93_0x5992('0xd')](_0x401d71);},this[a93_0x5992('0x5')]=async(_0x2ec133,_0x4c21ec)=>{const _0x2bd7e0=_0x2ec133[a93_0x5992('0x6c')];if(!_0x2bd7e0[a93_0x5992('0x61')][a93_0x5992('0xc')]||!_0x2bd7e0['document'][a93_0x5992('0xc')][a93_0x5992('0x2a')])return await _0x2ec133['channel'][a93_0x5992('0x0')]({'embed':{'color':tesseract_1['Constants'][a93_0x5992('0x16')][a93_0x5992('0x54')],'description':this['client'][a93_0x5992('0x33')][a93_0x5992('0x5b')](_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x61')][a93_0x5992('0x58')],'errors',constants['isPublicBastion'](_0x2ec133[a93_0x5992('0x60')])?a93_0x5992('0x77'):'musicDisabled')}})[a93_0x5992('0x4c')](()=>{});const _0x54b137=_0x4c21ec['_'][a93_0x5992('0x66')]('\x20'),_0x327a13=_0x54b137[a93_0x5992('0x27')]?await this[a93_0x5992('0x6e')](_0x54b137):null,_0x49f1f8=_0x4c21ec[a93_0x5992('0x2')]?_0x4c21ec[a93_0x5992('0x2')][a93_0x5992('0x1c')]:_0x327a13?_0x327a13[a93_0x5992('0x4f')]||_0x327a13[a93_0x5992('0x8')]:null;if(!_0x49f1f8)throw new errors['DiscordError'](errors[a93_0x5992('0x3c')][a93_0x5992('0x37')],this[a93_0x5992('0x4e')]);_0x2bd7e0[a93_0x5992('0xc')]['textChannel']=_0x2ec133[a93_0x5992('0x6c')]['channels'][a93_0x5992('0x11')]['has'](_0x2bd7e0[a93_0x5992('0x61')][a93_0x5992('0xc')][a93_0x5992('0x50')])?_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x38')][a93_0x5992('0x11')][a93_0x5992('0x79')](_0x2bd7e0[a93_0x5992('0x61')]['music']['textChannelId']):_0x2ec133[a93_0x5992('0x1d')],_0x2bd7e0['music'][a93_0x5992('0x4d')]=_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x7b')]&&_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x7b')][a93_0x5992('0x1b')]?_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x7b')]['channel']:_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x38')]['cache'][a93_0x5992('0x2e')](_0x5ed055=>_0x5ed055[a93_0x5992('0x7a')]===a93_0x5992('0x7b'))[a93_0x5992('0x6b')](_0x2bd7e0[a93_0x5992('0x61')][a93_0x5992('0xc')][a93_0x5992('0x6')])?_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x38')][a93_0x5992('0x11')]['filter'](_0x376cc=>_0x376cc[a93_0x5992('0x7a')]===a93_0x5992('0x7b'))[a93_0x5992('0x79')](_0x2bd7e0[a93_0x5992('0x61')]['music']['voiceChannelId']):_0x2ec133[a93_0x5992('0x24')][a93_0x5992('0x75')]()?_0x2ec133[a93_0x5992('0x24')][a93_0x5992('0x7b')][a93_0x5992('0x1d')]:null;if(!_0x2bd7e0[a93_0x5992('0xc')][a93_0x5992('0x4d')])return await _0x2ec133[a93_0x5992('0x1d')][a93_0x5992('0x0')]({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')][a93_0x5992('0x54')],'description':this[a93_0x5992('0x53')][a93_0x5992('0x33')][a93_0x5992('0x5b')](_0x2ec133[a93_0x5992('0x6c')]['document'][a93_0x5992('0x58')],a93_0x5992('0x63'),_0x2ec133['member'][a93_0x5992('0x75')]()?'noMusicChannelsAsOwner':a93_0x5992('0x15'))}})[a93_0x5992('0x4c')](()=>{});if(!_0x2bd7e0[a93_0x5992('0xc')][a93_0x5992('0x4d')][a93_0x5992('0x69')])return await _0x2ec133['channel'][a93_0x5992('0x0')]({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')][a93_0x5992('0x54')],'description':this['client'][a93_0x5992('0x33')]['getString'](_0x2ec133['guild'][a93_0x5992('0x61')][a93_0x5992('0x58')],a93_0x5992('0x63'),a93_0x5992('0x34'),_0x2bd7e0['music'][a93_0x5992('0x4d')][a93_0x5992('0x4e')])}})[a93_0x5992('0x4c')](()=>{});if(!_0x2bd7e0['music'][a93_0x5992('0x4d')][a93_0x5992('0x44')])return await _0x2ec133[a93_0x5992('0x1d')]['send']({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')]['RED'],'description':this[a93_0x5992('0x53')][a93_0x5992('0x33')]['getString'](_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x61')][a93_0x5992('0x58')],a93_0x5992('0x63'),'unspeakable',_0x2bd7e0[a93_0x5992('0xc')][a93_0x5992('0x4d')]['name'])}})[a93_0x5992('0x4c')](()=>{});const _0x1b4ee9=await _0x2bd7e0[a93_0x5992('0xc')][a93_0x5992('0x4d')][a93_0x5992('0x66')]();_0x1b4ee9['on'](a93_0x5992('0x67'),tesseract_1['Logger'][a93_0x5992('0x67')]),_0x1b4ee9['on'](a93_0x5992('0x70'),tesseract_1[a93_0x5992('0x49')][a93_0x5992('0x67')]),_0x2ec133['guild']['me'][a93_0x5992('0x7b')][a93_0x5992('0x59')](![])[a93_0x5992('0x4c')](()=>{}),_0x2ec133[a93_0x5992('0x6c')]['me'][a93_0x5992('0x7b')][a93_0x5992('0x4')](!![])[a93_0x5992('0x4c')](()=>{});const _0x97e40e=uuid_1['v4'](),_0x3b8108=youtube(_0x49f1f8,[a93_0x5992('0xe'),a93_0x5992('0x64'),a93_0x5992('0x46'),a93_0x5992('0x7'),a93_0x5992('0x78'),'--quiet',a93_0x5992('0x31'),'--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1',a93_0x5992('0x1e'),a93_0x5992('0xa'),a93_0x5992('0x23')],{});_0x3b8108['on'](a93_0x5992('0x21'),_0x45c782=>this[a93_0x5992('0x39')](_0x2bd7e0,{..._0x45c782,'id':_0x97e40e,'requester':_0x2ec133[a93_0x5992('0x60')]['id']})),_0x3b8108['on'](a93_0x5992('0x20'),()=>this[a93_0x5992('0x74')](_0x2bd7e0)),_0x3b8108['on'](a93_0x5992('0x67'),()=>{_0x2ec133[a93_0x5992('0x1d')][a93_0x5992('0x0')]({'embed':{'color':tesseract_1[a93_0x5992('0x41')][a93_0x5992('0x16')][a93_0x5992('0x54')],'description':this[a93_0x5992('0x53')][a93_0x5992('0x33')][a93_0x5992('0x5b')](_0x2ec133[a93_0x5992('0x6c')][a93_0x5992('0x61')]['language'],a93_0x5992('0x63'),a93_0x5992('0x5a'))}})[a93_0x5992('0x4c')](()=>{});}),await fs[a93_0x5992('0x48')]['mkdir'](this[a93_0x5992('0x73')]+_0x2ec133[a93_0x5992('0x6c')]['id']+'/',{'recursive':!![]})[a93_0x5992('0x4c')](tesseract_1[a93_0x5992('0x49')]['error']),_0x3b8108[a93_0x5992('0x2c')](fs['createWriteStream'](this[a93_0x5992('0x73')]+_0x2ec133[a93_0x5992('0x6c')]['id']+'/'+_0x97e40e+a93_0x5992('0x4b')));},this[a93_0x5992('0x73')]=a93_0x5992('0x12');}[a93_0x5992('0x6e')](_0x23905b){return new Promise((_0x180e40,_0x24dd60)=>youtube[a93_0x5992('0x2d')](a93_0x5992('0x55')+_0x23905b,[a93_0x5992('0xe'),a93_0x5992('0x64'),'--geo-bypass-country=US',a93_0x5992('0x7'),a93_0x5992('0x78'),a93_0x5992('0x7c'),a93_0x5992('0x31'),a93_0x5992('0xf'),a93_0x5992('0x1e'),a93_0x5992('0xa'),a93_0x5992('0x23')],(_0x4fa6f1,_0x510e92)=>{if(_0x4fa6f1)return _0x24dd60(_0x4fa6f1);return _0x180e40(_0x510e92);}));}};