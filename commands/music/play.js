const a90_0x4899=['ArgumentTypes','--format=bestaudio[protocol^=http]','--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','youtube-dl','document','RED','link','queue','PINK','skipVotes','Stopping\x20Playback','joinable','configurations','textChannel','./music/','length','getSongInfo','channel','Command','Playing','keepAlive','info','compile','exec','--referer=https://bastion.traction.one','BASTION_ERROR_TYPE','setMute','uuid','Constants','musicDisabledPublic','member','It\x20allows\x20you\x20to\x20play\x20a\x20music\x20in\x20the\x20server,\x20from\x20the\x20given\x20queury\x20or\x20from\x20any\x20supported\x20source.','requester','--no-playlist','Album','language','streamEndHandler','url','guild','finish','musicDownloadError','COLORS','webpage_url','artist','streamInfoHandler','rmdir','getInfo','history','type','cache','.mp3','get','send','activity','dispatcherFinishHandler','title','voice','startStreamDispatcher','isMusicMaster','DiscordError','thumbnail','promises','--ignore-errors','has','../../utils/errors','tag','Up\x20Next','music','speakable','album','--force-ipv4','test','error','author','catch','presence','alt_title','INVALID_COMMAND_SYNTAX','mkdir','user','Added\x20to\x20Queue','textChannelId','end','play\x20--link\x20https://www.youtube.com/watch?v=dQw4w9WgXcQ','filter','push','LISTENING','voiceChannelId','name','URL','--no-cache-dir','../../utils/constants','client','--no-warnings','--quiet','setDeaf','href','channels','constructor','--geo-bypass-country=US','members','musicDirectory','apply','join','return\x20/\x22\x20+\x20this\x20+\x20\x22/','repeat','Logger','leave','track','noMusicChannels','@bastion/tesseract','playing','isPublicBastion','enabled','\x20•\x20','voiceChannel','Artist','--youtube-skip-dash-manifest','getString','locale','play\x20Remember\x20The\x20Name\x20by\x20Ed\x20Sheeran','play','errors'];(function(_0x456bb6,_0x4899b9){const _0x232e29=function(_0x5a2e42){while(--_0x5a2e42){_0x456bb6['push'](_0x456bb6['shift']());}};const _0x372847=function(){const _0x3e61f0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1f35f1,_0x41c185,_0x4d7feb,_0x229d5a){_0x229d5a=_0x229d5a||{};let _0x14835a=_0x41c185+'='+_0x4d7feb;let _0x40bb5e=0x0;for(let _0xf7278a=0x0,_0x1ca734=_0x1f35f1['length'];_0xf7278a<_0x1ca734;_0xf7278a++){const _0x1f8772=_0x1f35f1[_0xf7278a];_0x14835a+=';\x20'+_0x1f8772;const _0x5dd203=_0x1f35f1[_0x1f8772];_0x1f35f1['push'](_0x5dd203);_0x1ca734=_0x1f35f1['length'];if(_0x5dd203!==!![]){_0x14835a+='='+_0x5dd203;}}_0x229d5a['cookie']=_0x14835a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x112af1,_0x6b5a57){_0x112af1=_0x112af1||function(_0x208bf8){return _0x208bf8;};const _0x44a5d4=_0x112af1(new RegExp('(?:^|;\x20)'+_0x6b5a57['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x25517a=function(_0x1337de,_0x50fd6d){_0x1337de(++_0x50fd6d);};_0x25517a(_0x232e29,_0x4899b9);return _0x44a5d4?decodeURIComponent(_0x44a5d4[0x1]):undefined;}};const _0x2a160a=function(){const _0x2b36a4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2b36a4['test'](_0x3e61f0['removeCookie']['toString']());};_0x3e61f0['updateCookie']=_0x2a160a;let _0x1424b3='';const _0x209ba3=_0x3e61f0['updateCookie']();if(!_0x209ba3){_0x3e61f0['setCookie'](['*'],'counter',0x1);}else if(_0x209ba3){_0x1424b3=_0x3e61f0['getCookie'](null,'counter');}else{_0x3e61f0['removeCookie']();}};_0x372847();}(a90_0x4899,0x187));const a90_0x232e=function(_0x456bb6,_0x4899b9){_0x456bb6=_0x456bb6-0x0;let _0x232e29=a90_0x4899[_0x456bb6];return _0x232e29;};const a90_0x3e61f0=function(){let _0x298192=!![];return function(_0x267d19,_0x5a8337){const _0x3da4af=_0x298192?function(){if(_0x5a8337){const _0x263e28=_0x5a8337[a90_0x232e('0x50')](_0x267d19,arguments);_0x5a8337=null;return _0x263e28;}}:function(){};_0x298192=![];return _0x3da4af;};}();const a90_0x5a2e42=a90_0x3e61f0(this,function(){const _0x28ded6=function(){const _0x27ea56=_0x28ded6[a90_0x232e('0x4c')](a90_0x232e('0x52'))()[a90_0x232e('0x0')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x27ea56[a90_0x232e('0x31')](a90_0x5a2e42);};return _0x28ded6();});a90_0x5a2e42();'use strict';const fs=require('fs');const tesseract_1=require(a90_0x232e('0x58'));const youtube=require(a90_0x232e('0x68'));const uuid_1=require(a90_0x232e('0x5'));const constants=require(a90_0x232e('0x45'));const errors=require(a90_0x232e('0x2a'));module['exports']=class Play extends tesseract_1[a90_0x232e('0x77')]{constructor(){super(a90_0x232e('0x63'),{'description':a90_0x232e('0x9'),'triggers':[],'arguments':{'alias':{'link':'l'},'coerce':{'link':tesseract_1[a90_0x232e('0x6')][a90_0x232e('0x65')][a90_0x232e('0x43')]}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a90_0x232e('0x62'),a90_0x232e('0x3d')]});this['streamInfoHandler']=(_0x34e2eb,_0x381f5)=>{const _0x394b4d=_0x381f5['id'];const _0x53eb85=_0x381f5['track']||_0x381f5[a90_0x232e('0x21')]||_0x381f5['fulltitle']||_0x381f5[a90_0x232e('0x36')];const _0x11949d=_0x381f5['album'];const _0x334898=_0x381f5['artist']||_0x381f5['creator']||_0x381f5['uploader'];const _0x539992=_0x381f5['duration'];const _0x49e66f=_0x381f5[a90_0x232e('0x26')];const _0x65f626=_0x381f5[a90_0x232e('0xa')];_0x34e2eb['music'][a90_0x232e('0x6c')]['push']({'id':_0x394b4d,'track':_0x53eb85,'album':_0x11949d,'artist':_0x334898,'duration':_0x539992,'thumbnail':_0x49e66f,'requester':_0x65f626});const _0x3631ef=[];if(_0x11949d){_0x3631ef[a90_0x232e('0x3f')]({'name':a90_0x232e('0xc'),'value':_0x11949d,'inline':!![]});}if(_0x334898){_0x3631ef[a90_0x232e('0x3f')]({'name':a90_0x232e('0x5e'),'value':_0x334898,'inline':!![]});}_0x34e2eb['music']['textChannel']['send']({'embed':{'color':tesseract_1[a90_0x232e('0x6')][a90_0x232e('0x13')][a90_0x232e('0x6d')],'title':a90_0x232e('0x3a'),'description':_0x53eb85,'fields':_0x3631ef,'thumbnail':{'url':_0x49e66f},'footer':{'text':(_0x34e2eb['music'][a90_0x232e('0x6c')][a90_0x232e('0x74')]?'#'+(_0x34e2eb[a90_0x232e('0x2d')]['queue']['length']-0x1):a90_0x232e('0x2c'))+('\x20•\x20'+_0x539992+'\x20•\x20'+(_0x34e2eb[a90_0x232e('0x4e')][a90_0x232e('0x1b')][a90_0x232e('0x1d')](_0x65f626)[a90_0x232e('0x39')][a90_0x232e('0x2b')]||_0x65f626))}}})[a90_0x232e('0x34')](()=>{});};this['streamEndHandler']=_0x1af4b9=>{if(!_0x1af4b9[a90_0x232e('0x2d')][a90_0x232e('0x59')]){this[a90_0x232e('0x23')](_0x1af4b9);}};this[a90_0x232e('0x23')]=_0x1bfbed=>{if(_0x1bfbed[a90_0x232e('0x2d')][a90_0x232e('0x6c')]['length']){const _0x2699ba=_0x1bfbed['music']['queue'][0x0];const _0x1324a6=[];if(_0x2699ba[a90_0x232e('0x2f')]){_0x1324a6[a90_0x232e('0x3f')]({'name':'Album','value':_0x2699ba[a90_0x232e('0x2f')],'inline':!![]});}if(_0x2699ba[a90_0x232e('0x15')]){_0x1324a6[a90_0x232e('0x3f')]({'name':a90_0x232e('0x5e'),'value':_0x2699ba[a90_0x232e('0x15')],'inline':!![]});}_0x1bfbed[a90_0x232e('0x2d')]['textChannel'][a90_0x232e('0x1e')]({'embed':{'color':tesseract_1[a90_0x232e('0x6')][a90_0x232e('0x13')][a90_0x232e('0x6d')],'title':a90_0x232e('0x78'),'description':_0x2699ba[a90_0x232e('0x56')],'fields':_0x1324a6,'thumbnail':{'url':_0x2699ba[a90_0x232e('0x26')]},'footer':{'text':_0x2699ba['duration']+a90_0x232e('0x5c')+(_0x1bfbed[a90_0x232e('0x4e')][a90_0x232e('0x1b')]['get'](_0x2699ba[a90_0x232e('0xa')])[a90_0x232e('0x39')][a90_0x232e('0x2b')]||_0x2699ba[a90_0x232e('0xa')])}}})[a90_0x232e('0x34')](()=>{});_0x1bfbed[a90_0x232e('0x2d')][a90_0x232e('0x59')]=!![];const _0x5d720c=_0x1bfbed[a90_0x232e('0x22')]&&_0x1bfbed[a90_0x232e('0x22')]['connection'][a90_0x232e('0x63')](this[a90_0x232e('0x4f')]+_0x1bfbed['id']+'/'+_0x2699ba['id']+'.mp3');this['client'][a90_0x232e('0x39')]['setActivity']({'name':_0x2699ba[a90_0x232e('0x56')],'type':a90_0x232e('0x40')})[a90_0x232e('0x34')](()=>{});_0x5d720c['on'](a90_0x232e('0x11'),()=>this['dispatcherFinishHandler'](_0x1bfbed));_0x5d720c['on']('error',_0x48c6c2=>{tesseract_1['Logger'][a90_0x232e('0x32')](_0x48c6c2);this[a90_0x232e('0x20')](_0x1bfbed);});}else{_0x1bfbed[a90_0x232e('0x2d')]['queue']=[];_0x1bfbed['music'][a90_0x232e('0x19')]=[];fs[a90_0x232e('0x27')][a90_0x232e('0x17')](this[a90_0x232e('0x4f')]+_0x1bfbed['id'],{'recursive':!![]})['catch'](()=>{});this[a90_0x232e('0x46')]['user']['setActivity'](this[a90_0x232e('0x46')][a90_0x232e('0x71')][a90_0x232e('0x35')][a90_0x232e('0x1f')])['catch'](()=>{});if(!_0x1bfbed[a90_0x232e('0x69')][a90_0x232e('0x2d')][a90_0x232e('0x79')]){_0x1bfbed[a90_0x232e('0x22')]&&_0x1bfbed['voice'][a90_0x232e('0x76')][a90_0x232e('0x55')]();}_0x1bfbed['music'][a90_0x232e('0x72')]['send']({'embed':{'color':tesseract_1[a90_0x232e('0x6')][a90_0x232e('0x13')][a90_0x232e('0x6d')],'title':a90_0x232e('0x6f')}})['catch'](()=>{});}};this[a90_0x232e('0x20')]=_0x3faf1e=>{_0x3faf1e[a90_0x232e('0x2d')][a90_0x232e('0x59')]=![];_0x3faf1e[a90_0x232e('0x2d')][a90_0x232e('0x6e')]=[];if(_0x3faf1e[a90_0x232e('0x2d')][a90_0x232e('0x6c')][a90_0x232e('0x74')]){_0x3faf1e[a90_0x232e('0x2d')][a90_0x232e('0x19')]['push'](_0x3faf1e['music'][a90_0x232e('0x6c')]['shift']());}if(!_0x3faf1e[a90_0x232e('0x2d')][a90_0x232e('0x6c')][a90_0x232e('0x74')]&&_0x3faf1e[a90_0x232e('0x2d')][a90_0x232e('0x53')]){_0x3faf1e['music'][a90_0x232e('0x6c')]=_0x3faf1e[a90_0x232e('0x2d')]['history'];_0x3faf1e['music'][a90_0x232e('0x19')]=[];}this['startStreamDispatcher'](_0x3faf1e);};this[a90_0x232e('0x1')]=async(_0x1583b4,_0x3afdae)=>{const _0x4617cb=_0x1583b4[a90_0x232e('0x10')];if(!_0x4617cb['document'][a90_0x232e('0x2d')]||!_0x4617cb[a90_0x232e('0x69')]['music'][a90_0x232e('0x5b')]){return await _0x1583b4[a90_0x232e('0x76')][a90_0x232e('0x1e')]({'embed':{'color':tesseract_1[a90_0x232e('0x6')]['COLORS']['RED'],'description':this['client'][a90_0x232e('0x61')][a90_0x232e('0x60')](_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x69')]['language'],a90_0x232e('0x64'),constants[a90_0x232e('0x5a')](_0x1583b4[a90_0x232e('0x33')])?a90_0x232e('0x7'):'musicDisabled')}})[a90_0x232e('0x34')](()=>{});}const _0xa01d9e=_0x3afdae['_']['join']('\x20');const _0x13959f=_0xa01d9e[a90_0x232e('0x74')]?await this[a90_0x232e('0x75')](_0xa01d9e):null;const _0x10040c=_0x3afdae['link']?_0x3afdae[a90_0x232e('0x6b')][a90_0x232e('0x4a')]:_0x13959f?_0x13959f[a90_0x232e('0x14')]||_0x13959f[a90_0x232e('0xf')]:null;if(!_0x10040c)throw new errors[(a90_0x232e('0x25'))](errors[a90_0x232e('0x3')][a90_0x232e('0x37')],this[a90_0x232e('0x42')]);_0x4617cb['music'][a90_0x232e('0x72')]=_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x4b')][a90_0x232e('0x1b')]['has'](_0x4617cb[a90_0x232e('0x69')][a90_0x232e('0x2d')][a90_0x232e('0x3b')])?_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x4b')][a90_0x232e('0x1b')][a90_0x232e('0x1d')](_0x4617cb['document'][a90_0x232e('0x2d')][a90_0x232e('0x3b')]):_0x1583b4[a90_0x232e('0x76')];_0x4617cb[a90_0x232e('0x2d')]['voiceChannel']=_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x22')]&&_0x1583b4[a90_0x232e('0x10')]['voice']['connection']?_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x22')][a90_0x232e('0x76')]:_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x4b')]['cache'][a90_0x232e('0x3e')](_0x52e489=>_0x52e489['type']===a90_0x232e('0x22'))[a90_0x232e('0x29')](_0x4617cb[a90_0x232e('0x69')]['music'][a90_0x232e('0x41')])?_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x4b')][a90_0x232e('0x1b')][a90_0x232e('0x3e')](_0x12a5a9=>_0x12a5a9[a90_0x232e('0x1a')]===a90_0x232e('0x22'))[a90_0x232e('0x1d')](_0x4617cb[a90_0x232e('0x69')][a90_0x232e('0x2d')][a90_0x232e('0x41')]):_0x1583b4[a90_0x232e('0x8')][a90_0x232e('0x24')]()?_0x1583b4['member'][a90_0x232e('0x22')]['channel']:null;if(!_0x4617cb[a90_0x232e('0x2d')]['voiceChannel']){return await _0x1583b4[a90_0x232e('0x76')][a90_0x232e('0x1e')]({'embed':{'color':tesseract_1[a90_0x232e('0x6')][a90_0x232e('0x13')][a90_0x232e('0x6a')],'description':this[a90_0x232e('0x46')][a90_0x232e('0x61')][a90_0x232e('0x60')](_0x1583b4[a90_0x232e('0x10')]['document'][a90_0x232e('0xd')],a90_0x232e('0x64'),_0x1583b4[a90_0x232e('0x8')][a90_0x232e('0x24')]()?'noMusicChannelsAsOwner':a90_0x232e('0x57'))}})['catch'](()=>{});}if(!_0x4617cb[a90_0x232e('0x2d')]['voiceChannel'][a90_0x232e('0x70')]){return await _0x1583b4[a90_0x232e('0x76')][a90_0x232e('0x1e')]({'embed':{'color':tesseract_1[a90_0x232e('0x6')]['COLORS'][a90_0x232e('0x6a')],'description':this['client'][a90_0x232e('0x61')][a90_0x232e('0x60')](_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x69')][a90_0x232e('0xd')],a90_0x232e('0x64'),'unjoinable',_0x4617cb[a90_0x232e('0x2d')][a90_0x232e('0x5d')][a90_0x232e('0x42')])}})[a90_0x232e('0x34')](()=>{});}if(!_0x4617cb[a90_0x232e('0x2d')][a90_0x232e('0x5d')][a90_0x232e('0x2e')]){return await _0x1583b4[a90_0x232e('0x76')][a90_0x232e('0x1e')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a90_0x232e('0x6a')],'description':this[a90_0x232e('0x46')][a90_0x232e('0x61')][a90_0x232e('0x60')](_0x1583b4['guild'][a90_0x232e('0x69')][a90_0x232e('0xd')],'errors','unspeakable',_0x4617cb[a90_0x232e('0x2d')][a90_0x232e('0x5d')]['name'])}})['catch'](()=>{});}const _0x22dbb6=await _0x4617cb[a90_0x232e('0x2d')][a90_0x232e('0x5d')][a90_0x232e('0x51')]();_0x22dbb6['on']('error',tesseract_1[a90_0x232e('0x54')][a90_0x232e('0x32')]);_0x22dbb6['on']('failed',tesseract_1[a90_0x232e('0x54')][a90_0x232e('0x32')]);_0x1583b4[a90_0x232e('0x10')]['me']['voice'][a90_0x232e('0x4')](![])[a90_0x232e('0x34')](()=>{});_0x1583b4[a90_0x232e('0x10')]['me'][a90_0x232e('0x22')][a90_0x232e('0x49')](!![])[a90_0x232e('0x34')](()=>{});const _0x5dec73=uuid_1['v4']();const _0x560cb9=youtube(_0x10040c,[a90_0x232e('0x28'),a90_0x232e('0x30'),a90_0x232e('0x4d'),a90_0x232e('0xb'),a90_0x232e('0x44'),a90_0x232e('0x48'),a90_0x232e('0x47'),a90_0x232e('0x67'),a90_0x232e('0x2'),'--format=bestaudio[protocol^=http]',a90_0x232e('0x5f')],{});_0x560cb9['on'](a90_0x232e('0x7a'),_0x38f1e0=>this[a90_0x232e('0x16')](_0x4617cb,{..._0x38f1e0,'id':_0x5dec73,'requester':_0x1583b4[a90_0x232e('0x33')]['id']}));_0x560cb9['on'](a90_0x232e('0x3c'),()=>this[a90_0x232e('0xe')](_0x4617cb));_0x560cb9['on'](a90_0x232e('0x32'),()=>{_0x1583b4[a90_0x232e('0x76')][a90_0x232e('0x1e')]({'embed':{'color':tesseract_1[a90_0x232e('0x6')][a90_0x232e('0x13')]['RED'],'description':this[a90_0x232e('0x46')][a90_0x232e('0x61')][a90_0x232e('0x60')](_0x1583b4[a90_0x232e('0x10')][a90_0x232e('0x69')][a90_0x232e('0xd')],'errors',a90_0x232e('0x12'))}})[a90_0x232e('0x34')](()=>{});});await fs[a90_0x232e('0x27')][a90_0x232e('0x38')](this['musicDirectory']+_0x1583b4[a90_0x232e('0x10')]['id']+'/',{'recursive':!![]})[a90_0x232e('0x34')](tesseract_1[a90_0x232e('0x54')][a90_0x232e('0x32')]);_0x560cb9['pipe'](fs['createWriteStream'](this[a90_0x232e('0x4f')]+_0x1583b4[a90_0x232e('0x10')]['id']+'/'+_0x5dec73+a90_0x232e('0x1c')));};this['musicDirectory']=a90_0x232e('0x73');}[a90_0x232e('0x75')](_0x577cf5){return new Promise((_0x48c6a8,_0x4b08f3)=>youtube[a90_0x232e('0x18')]('ytsearch:'+_0x577cf5,[a90_0x232e('0x28'),a90_0x232e('0x30'),a90_0x232e('0x4d'),'--no-playlist',a90_0x232e('0x44'),a90_0x232e('0x48'),a90_0x232e('0x47'),a90_0x232e('0x67'),a90_0x232e('0x2'),a90_0x232e('0x66'),a90_0x232e('0x5f')],(_0x3986ad,_0x41402a)=>{if(_0x3986ad)return _0x4b08f3(_0x3986ad);return _0x48c6a8(_0x41402a);}));}};