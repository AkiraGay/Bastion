const a90_0x2886=['play\x20Remember\x20The\x20Name\x20by\x20Ed\x20Sheeran','tag','Up\x20Next','voiceChannel','get','ytsearch:','setMute','name','URL','url','Constants','send','end','uploader','noMusicChannels','dispatcherFinishHandler','isPublicBastion','document','href','PINK','musicDisabled','isMusicMaster','presence','connection','musicDirectory','--no-playlist','ArgumentTypes','Added\x20to\x20Queue','--format=bestaudio[protocol^=http]','locale','play','shift','.mp3','textChannelId','--ignore-errors','startStreamDispatcher','artist','fulltitle','user','promises','It\x20allows\x20you\x20to\x20play\x20a\x20music\x20in\x20the\x20server,\x20from\x20the\x20given\x20queury\x20or\x20from\x20any\x20supported\x20source.','COLORS','members','./music/','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','author','../../utils/constants','finish','uuid','Album','streamEndHandler','setDeaf','failed','--no-cache-dir','title','textChannel','link','Artist','getSongInfo','@bastion/tesseract','speakable','skipVotes','webpage_url','guild','error','test','../../utils/errors','apply','activity','track','language','compile','keepAlive','voiceChannelId','filter','RED','history','setActivity','channels','play\x20--link\x20https://www.youtube.com/watch?v=dQw4w9WgXcQ','exports','--youtube-skip-dash-manifest','type','getString','errors','client','member','unspeakable','length','constructor','channel','--no-warnings','streamInfoHandler','joinable','youtube-dl','thumbnail','rmdir','BASTION_ERROR_TYPE','join','info','DiscordError','alt_title','--geo-bypass-country=US','--referer=https://bastion.traction.one','album','has','LISTENING','catch','voice','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Logger','mkdir','unjoinable','--quiet','queue','getInfo','leave','music','requester','pipe','cache','push','--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','\x20•\x20','Playing','repeat'];(function(_0x1f1837,_0x2886ef){const _0xcbb882=function(_0x179c37){while(--_0x179c37){_0x1f1837['push'](_0x1f1837['shift']());}};const _0x193a42=function(){const _0x5a4287={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x43b3e2,_0x45af71,_0x47709e,_0x2e7caa){_0x2e7caa=_0x2e7caa||{};let _0x1e21d0=_0x45af71+'='+_0x47709e;let _0x1b4d48=0x0;for(let _0x2a3ad4=0x0,_0x11e81a=_0x43b3e2['length'];_0x2a3ad4<_0x11e81a;_0x2a3ad4++){const _0x15de72=_0x43b3e2[_0x2a3ad4];_0x1e21d0+=';\x20'+_0x15de72;const _0x4611e0=_0x43b3e2[_0x15de72];_0x43b3e2['push'](_0x4611e0);_0x11e81a=_0x43b3e2['length'];if(_0x4611e0!==!![]){_0x1e21d0+='='+_0x4611e0;}}_0x2e7caa['cookie']=_0x1e21d0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5ad637,_0x1c06d7){_0x5ad637=_0x5ad637||function(_0x33f768){return _0x33f768;};const _0x2a302e=_0x5ad637(new RegExp('(?:^|;\x20)'+_0x1c06d7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x46391d=function(_0x440e54,_0x539722){_0x440e54(++_0x539722);};_0x46391d(_0xcbb882,_0x2886ef);return _0x2a302e?decodeURIComponent(_0x2a302e[0x1]):undefined;}};const _0x52bac5=function(){const _0x294fd6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x294fd6['test'](_0x5a4287['removeCookie']['toString']());};_0x5a4287['updateCookie']=_0x52bac5;let _0x3cf837='';const _0x13d23c=_0x5a4287['updateCookie']();if(!_0x13d23c){_0x5a4287['setCookie'](['*'],'counter',0x1);}else if(_0x13d23c){_0x3cf837=_0x5a4287['getCookie'](null,'counter');}else{_0x5a4287['removeCookie']();}};_0x193a42();}(a90_0x2886,0x6c));const a90_0xcbb8=function(_0x1f1837,_0x2886ef){_0x1f1837=_0x1f1837-0x0;let _0xcbb882=a90_0x2886[_0x1f1837];return _0xcbb882;};const a90_0x5a4287=function(){let _0x4304c3=!![];return function(_0x1d04c7,_0x5b577f){const _0x54ffbe=_0x4304c3?function(){if(_0x5b577f){const _0x35530f=_0x5b577f[a90_0xcbb8('0x55')](_0x1d04c7,arguments);_0x5b577f=null;return _0x35530f;}}:function(){};_0x4304c3=![];return _0x54ffbe;};}();const a90_0x179c37=a90_0x5a4287(this,function(){const _0x2d3594=function(){const _0x3caa1=_0x2d3594[a90_0xcbb8('0x6b')](a90_0xcbb8('0x1'))()[a90_0xcbb8('0x59')](a90_0xcbb8('0x3e'));return!_0x3caa1[a90_0xcbb8('0x53')](a90_0x179c37);};return _0x2d3594();});a90_0x179c37();'use strict';const fs=require('fs');const tesseract_1=require(a90_0xcbb8('0x4d'));const youtube=require(a90_0xcbb8('0x70'));const uuid_1=require(a90_0xcbb8('0x42'));const constants=require(a90_0xcbb8('0x40'));const errors=require(a90_0xcbb8('0x54'));module[a90_0xcbb8('0x62')]=class Play extends tesseract_1['Command']{constructor(){super(a90_0xcbb8('0x30'),{'description':a90_0xcbb8('0x3a'),'triggers':[],'arguments':{'alias':{'link':'l'},'coerce':{'link':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x2c')][a90_0xcbb8('0x1a')]}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a90_0xcbb8('0x12'),a90_0xcbb8('0x61')]});this[a90_0xcbb8('0x6e')]=(_0x582d5c,_0x25d773)=>{const _0x28c9a2=_0x25d773['id'];const _0x131654=_0x25d773['track']||_0x25d773[a90_0xcbb8('0x48')]||_0x25d773[a90_0xcbb8('0x37')]||_0x25d773[a90_0xcbb8('0x77')];const _0x3de29a=_0x25d773[a90_0xcbb8('0x7a')];const _0x22d1c6=_0x25d773[a90_0xcbb8('0x36')]||_0x25d773['creator']||_0x25d773[a90_0xcbb8('0x1f')];const _0x4646a1=_0x25d773['duration'];const _0x2d983c=_0x25d773[a90_0xcbb8('0x71')];const _0x17708f=_0x25d773['requester'];_0x582d5c['music'][a90_0xcbb8('0x6')]['push']({'id':_0x28c9a2,'track':_0x131654,'album':_0x3de29a,'artist':_0x22d1c6,'duration':_0x4646a1,'thumbnail':_0x2d983c,'requester':_0x17708f});const _0x50cc92=[];if(_0x3de29a){_0x50cc92[a90_0xcbb8('0xd')]({'name':a90_0xcbb8('0x43'),'value':_0x3de29a,'inline':!![]});}if(_0x22d1c6){_0x50cc92[a90_0xcbb8('0xd')]({'name':a90_0xcbb8('0x4b'),'value':_0x22d1c6,'inline':!![]});}_0x582d5c['music']['textChannel'][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x3b')][a90_0xcbb8('0x25')],'title':a90_0xcbb8('0x2d'),'description':_0x131654,'fields':_0x50cc92,'thumbnail':{'url':_0x2d983c},'footer':{'text':(_0x582d5c['music']['queue'][a90_0xcbb8('0x6a')]?'#'+(_0x582d5c[a90_0xcbb8('0x9')]['queue']['length']-0x1):a90_0xcbb8('0x14'))+(a90_0xcbb8('0xf')+_0x4646a1+a90_0xcbb8('0xf')+(_0x582d5c[a90_0xcbb8('0x3c')][a90_0xcbb8('0xc')][a90_0xcbb8('0x16')](_0x17708f)[a90_0xcbb8('0x38')][a90_0xcbb8('0x13')]||_0x17708f))}}})[a90_0xcbb8('0x7d')](()=>{});};this[a90_0xcbb8('0x44')]=_0x484bb6=>{if(!_0x484bb6[a90_0xcbb8('0x9')]['playing']){this[a90_0xcbb8('0x35')](_0x484bb6);}};this[a90_0xcbb8('0x35')]=_0x26d3d3=>{if(_0x26d3d3['music'][a90_0xcbb8('0x6')][a90_0xcbb8('0x6a')]){const _0x14f1e3=_0x26d3d3['music'][a90_0xcbb8('0x6')][0x0];const _0x3f771d=[];if(_0x14f1e3[a90_0xcbb8('0x7a')]){_0x3f771d['push']({'name':a90_0xcbb8('0x43'),'value':_0x14f1e3[a90_0xcbb8('0x7a')],'inline':!![]});}if(_0x14f1e3['artist']){_0x3f771d[a90_0xcbb8('0xd')]({'name':a90_0xcbb8('0x4b'),'value':_0x14f1e3[a90_0xcbb8('0x36')],'inline':!![]});}_0x26d3d3[a90_0xcbb8('0x9')][a90_0xcbb8('0x49')][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x3b')][a90_0xcbb8('0x25')],'title':a90_0xcbb8('0x10'),'description':_0x14f1e3[a90_0xcbb8('0x57')],'fields':_0x3f771d,'thumbnail':{'url':_0x14f1e3[a90_0xcbb8('0x71')]},'footer':{'text':_0x14f1e3['duration']+'\x20•\x20'+(_0x26d3d3[a90_0xcbb8('0x3c')][a90_0xcbb8('0xc')][a90_0xcbb8('0x16')](_0x14f1e3[a90_0xcbb8('0xa')])[a90_0xcbb8('0x38')][a90_0xcbb8('0x13')]||_0x14f1e3[a90_0xcbb8('0xa')])}}})['catch'](()=>{});_0x26d3d3['music']['playing']=!![];const _0x12c6b7=_0x26d3d3[a90_0xcbb8('0x0')]&&_0x26d3d3[a90_0xcbb8('0x0')][a90_0xcbb8('0x29')][a90_0xcbb8('0x30')](this['musicDirectory']+_0x26d3d3['id']+'/'+_0x14f1e3['id']+'.mp3');this[a90_0xcbb8('0x67')][a90_0xcbb8('0x38')]['setActivity']({'name':_0x14f1e3[a90_0xcbb8('0x57')],'type':a90_0xcbb8('0x7c')})['catch'](()=>{});_0x12c6b7['on'](a90_0xcbb8('0x41'),()=>this['dispatcherFinishHandler'](_0x26d3d3));_0x12c6b7['on'](a90_0xcbb8('0x52'),_0x33f1e1=>{tesseract_1[a90_0xcbb8('0x2')][a90_0xcbb8('0x52')](_0x33f1e1);this[a90_0xcbb8('0x21')](_0x26d3d3);});}else{_0x26d3d3[a90_0xcbb8('0x9')]['queue']=[];_0x26d3d3[a90_0xcbb8('0x9')][a90_0xcbb8('0x5e')]=[];fs[a90_0xcbb8('0x39')][a90_0xcbb8('0x72')](this[a90_0xcbb8('0x2a')]+_0x26d3d3['id'],{'recursive':!![]})[a90_0xcbb8('0x7d')](()=>{});this[a90_0xcbb8('0x67')][a90_0xcbb8('0x38')][a90_0xcbb8('0x5f')](this[a90_0xcbb8('0x67')]['configurations'][a90_0xcbb8('0x28')][a90_0xcbb8('0x56')])[a90_0xcbb8('0x7d')](()=>{});if(!_0x26d3d3[a90_0xcbb8('0x23')]['music'][a90_0xcbb8('0x5a')]){_0x26d3d3[a90_0xcbb8('0x0')]&&_0x26d3d3[a90_0xcbb8('0x0')]['channel'][a90_0xcbb8('0x8')]();}_0x26d3d3['music'][a90_0xcbb8('0x49')][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x3b')][a90_0xcbb8('0x25')],'title':'Stopping\x20Playback'}})[a90_0xcbb8('0x7d')](()=>{});}};this[a90_0xcbb8('0x21')]=_0x483b1c=>{_0x483b1c[a90_0xcbb8('0x9')]['playing']=![];_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x4f')]=[];if(_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x6')][a90_0xcbb8('0x6a')]){_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x5e')][a90_0xcbb8('0xd')](_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x6')][a90_0xcbb8('0x31')]());}if(!_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x6')][a90_0xcbb8('0x6a')]&&_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x11')]){_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x6')]=_0x483b1c['music']['history'];_0x483b1c[a90_0xcbb8('0x9')][a90_0xcbb8('0x5e')]=[];}this[a90_0xcbb8('0x35')](_0x483b1c);};this['exec']=async(_0x4bed96,_0x4de1c8)=>{const _0x22e36f=_0x4bed96[a90_0xcbb8('0x51')];if(!_0x22e36f[a90_0xcbb8('0x23')][a90_0xcbb8('0x9')]||!_0x22e36f[a90_0xcbb8('0x23')][a90_0xcbb8('0x9')]['enabled']){return await _0x4bed96[a90_0xcbb8('0x6c')][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x3b')][a90_0xcbb8('0x5d')],'description':this[a90_0xcbb8('0x67')]['locale'][a90_0xcbb8('0x65')](_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x23')][a90_0xcbb8('0x58')],a90_0xcbb8('0x66'),constants[a90_0xcbb8('0x22')](_0x4bed96[a90_0xcbb8('0x3f')])?'musicDisabledPublic':a90_0xcbb8('0x26'))}})[a90_0xcbb8('0x7d')](()=>{});}const _0x24ff2c=_0x4de1c8['_']['join']('\x20');const _0x3022ca=_0x24ff2c[a90_0xcbb8('0x6a')]?await this[a90_0xcbb8('0x4c')](_0x24ff2c):null;const _0x1e3580=_0x4de1c8[a90_0xcbb8('0x4a')]?_0x4de1c8[a90_0xcbb8('0x4a')][a90_0xcbb8('0x24')]:_0x3022ca?_0x3022ca[a90_0xcbb8('0x50')]||_0x3022ca[a90_0xcbb8('0x1b')]:null;if(!_0x1e3580)throw new errors[(a90_0xcbb8('0x76'))](errors[a90_0xcbb8('0x73')]['INVALID_COMMAND_SYNTAX'],this[a90_0xcbb8('0x19')]);_0x22e36f[a90_0xcbb8('0x9')][a90_0xcbb8('0x49')]=_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x60')][a90_0xcbb8('0xc')][a90_0xcbb8('0x7b')](_0x22e36f[a90_0xcbb8('0x23')]['music']['textChannelId'])?_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x60')]['cache'][a90_0xcbb8('0x16')](_0x22e36f[a90_0xcbb8('0x23')]['music'][a90_0xcbb8('0x33')]):_0x4bed96[a90_0xcbb8('0x6c')];_0x22e36f['music'][a90_0xcbb8('0x15')]=_0x4bed96['guild'][a90_0xcbb8('0x0')]&&_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x0')]['connection']?_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x0')][a90_0xcbb8('0x6c')]:_0x4bed96['guild'][a90_0xcbb8('0x60')][a90_0xcbb8('0xc')][a90_0xcbb8('0x5c')](_0x8d1ca2=>_0x8d1ca2[a90_0xcbb8('0x64')]==='voice')['has'](_0x22e36f[a90_0xcbb8('0x23')][a90_0xcbb8('0x9')]['voiceChannelId'])?_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x60')][a90_0xcbb8('0xc')]['filter'](_0x4564e6=>_0x4564e6[a90_0xcbb8('0x64')]===a90_0xcbb8('0x0'))['get'](_0x22e36f[a90_0xcbb8('0x23')][a90_0xcbb8('0x9')][a90_0xcbb8('0x5b')]):_0x4bed96['member']['isMusicMaster']()?_0x4bed96[a90_0xcbb8('0x68')]['voice'][a90_0xcbb8('0x6c')]:null;if(!_0x22e36f[a90_0xcbb8('0x9')][a90_0xcbb8('0x15')]){return await _0x4bed96['channel'][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x3b')][a90_0xcbb8('0x5d')],'description':this['client']['locale'][a90_0xcbb8('0x65')](_0x4bed96[a90_0xcbb8('0x51')]['document'][a90_0xcbb8('0x58')],'errors',_0x4bed96[a90_0xcbb8('0x68')][a90_0xcbb8('0x27')]()?'noMusicChannelsAsOwner':a90_0xcbb8('0x20'))}})['catch'](()=>{});}if(!_0x22e36f['music'][a90_0xcbb8('0x15')][a90_0xcbb8('0x6f')]){return await _0x4bed96[a90_0xcbb8('0x6c')][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')][a90_0xcbb8('0x3b')][a90_0xcbb8('0x5d')],'description':this[a90_0xcbb8('0x67')][a90_0xcbb8('0x2f')][a90_0xcbb8('0x65')](_0x4bed96[a90_0xcbb8('0x51')][a90_0xcbb8('0x23')]['language'],a90_0xcbb8('0x66'),a90_0xcbb8('0x4'),_0x22e36f['music'][a90_0xcbb8('0x15')][a90_0xcbb8('0x19')])}})[a90_0xcbb8('0x7d')](()=>{});}if(!_0x22e36f[a90_0xcbb8('0x9')][a90_0xcbb8('0x15')][a90_0xcbb8('0x4e')]){return await _0x4bed96[a90_0xcbb8('0x6c')][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1[a90_0xcbb8('0x1c')]['COLORS'][a90_0xcbb8('0x5d')],'description':this['client'][a90_0xcbb8('0x2f')]['getString'](_0x4bed96['guild'][a90_0xcbb8('0x23')][a90_0xcbb8('0x58')],a90_0xcbb8('0x66'),a90_0xcbb8('0x69'),_0x22e36f[a90_0xcbb8('0x9')][a90_0xcbb8('0x15')]['name'])}})[a90_0xcbb8('0x7d')](()=>{});}const _0x5d394e=await _0x22e36f[a90_0xcbb8('0x9')][a90_0xcbb8('0x15')][a90_0xcbb8('0x74')]();_0x5d394e['on']('error',tesseract_1[a90_0xcbb8('0x2')][a90_0xcbb8('0x52')]);_0x5d394e['on'](a90_0xcbb8('0x46'),tesseract_1[a90_0xcbb8('0x2')][a90_0xcbb8('0x52')]);_0x4bed96[a90_0xcbb8('0x51')]['me'][a90_0xcbb8('0x0')][a90_0xcbb8('0x18')](![])[a90_0xcbb8('0x7d')](()=>{});_0x4bed96['guild']['me']['voice'][a90_0xcbb8('0x45')](!![])['catch'](()=>{});const _0x22beba=uuid_1['v4']();const _0x3c98e4=youtube(_0x1e3580,['--ignore-errors',a90_0xcbb8('0x78'),a90_0xcbb8('0x2b'),a90_0xcbb8('0x47'),'--quiet',a90_0xcbb8('0x6d'),a90_0xcbb8('0xe'),a90_0xcbb8('0x79'),a90_0xcbb8('0x2e'),a90_0xcbb8('0x63')],{});_0x3c98e4['on'](a90_0xcbb8('0x75'),_0x287ff8=>this[a90_0xcbb8('0x6e')](_0x22e36f,{..._0x287ff8,'id':_0x22beba,'requester':_0x4bed96[a90_0xcbb8('0x3f')]['id']}));_0x3c98e4['on'](a90_0xcbb8('0x1e'),()=>this['streamEndHandler'](_0x22e36f));_0x3c98e4['on']('error',()=>{_0x4bed96[a90_0xcbb8('0x6c')][a90_0xcbb8('0x1d')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a90_0xcbb8('0x5d')],'description':this[a90_0xcbb8('0x67')]['locale'][a90_0xcbb8('0x65')](_0x4bed96['guild'][a90_0xcbb8('0x23')][a90_0xcbb8('0x58')],a90_0xcbb8('0x66'),'musicDownloadError')}})['catch'](()=>{});});await fs[a90_0xcbb8('0x39')][a90_0xcbb8('0x3')](this[a90_0xcbb8('0x2a')]+_0x4bed96['guild']['id']+'/',{'recursive':!![]})['catch'](tesseract_1['Logger'][a90_0xcbb8('0x52')]);_0x3c98e4[a90_0xcbb8('0xb')](fs['createWriteStream'](this[a90_0xcbb8('0x2a')]+_0x4bed96[a90_0xcbb8('0x51')]['id']+'/'+_0x22beba+a90_0xcbb8('0x32')));};this[a90_0xcbb8('0x2a')]=a90_0xcbb8('0x3d');}[a90_0xcbb8('0x4c')](_0x53ab29){return new Promise((_0x16249e,_0x20e11c)=>youtube[a90_0xcbb8('0x7')](a90_0xcbb8('0x17')+_0x53ab29,[a90_0xcbb8('0x34'),a90_0xcbb8('0x78'),a90_0xcbb8('0x2b'),a90_0xcbb8('0x47'),a90_0xcbb8('0x5'),a90_0xcbb8('0x6d'),'--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','--referer=https://bastion.traction.one',a90_0xcbb8('0x2e'),a90_0xcbb8('0x63')],(_0x14f32a,_0x3e1184)=>{if(_0x14f32a)return _0x20e11c(_0x14f32a);return _0x16249e(_0x3e1184);}));}};