const a90_0x48c9=['leave','DiscordError','requester','--no-playlist','tag','channels','push','--format=bestaudio[protocol^=http]','--quiet','length','musicDirectory','fulltitle','textChannel','document','pipe','joinable','info','user','--ignore-errors','streamEndHandler','configurations','compile','href','music','type','./music/','playing','--force-ipv4','Stopping\x20Playback','channel','unspeakable','setMute','../../utils/errors','Up\x20Next','getSongInfo','album','artist','webpage_url','--youtube-skip-dash-manifest','thumbnail','It\x20allows\x20you\x20to\x20play\x20a\x20music\x20in\x20the\x20server,\x20from\x20the\x20given\x20queury\x20or\x20from\x20any\x20supported\x20source.','Artist','skipVotes','../../utils/constants','url','RED','presence','shift','--referer=https://bastion.traction.one','--no-warnings','link','Command','members','voiceChannel','streamInfoHandler','mkdir','isPublicBastion','catch','error','musicDisabledPublic','duration','filter','failed','musicDisabled','--no-cache-dir','cache','getString','errors','LISTENING','finish','.mp3','voice','--geo-bypass-country=US','locale','getInfo','rmdir','author','noMusicChannels','exports','constructor','youtube-dl','URL','textChannelId','member','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','join','promises','return\x20/\x22\x20+\x20this\x20+\x20\x22/','dispatcherFinishHandler','createWriteStream','musicDownloadError','voiceChannelId','client','Playing','startStreamDispatcher','PINK','Logger','queue','setActivity','uuid','INVALID_COMMAND_SYNTAX','speakable','ArgumentTypes','get','--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','send','play\x20Remember\x20The\x20Name\x20by\x20Ed\x20Sheeran','track','Constants','Album','enabled','history','COLORS','play','creator','connection','@bastion/tesseract','language','guild','name','play\x20--link\x20https://www.youtube.com/watch?v=dQw4w9WgXcQ','exec','repeat','noMusicChannelsAsOwner','\x20•\x20'];(function(_0x4bacf0,_0x48c954){const _0x1b4fa4=function(_0x149c68){while(--_0x149c68){_0x4bacf0['push'](_0x4bacf0['shift']());}};const _0x41e807=function(){const _0x24f5d6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x42d5a4,_0x2a62c4,_0x3c185e,_0x50c975){_0x50c975=_0x50c975||{};let _0x1767a8=_0x2a62c4+'='+_0x3c185e;let _0x1f8f21=0x0;for(let _0x364635=0x0,_0x91f634=_0x42d5a4['length'];_0x364635<_0x91f634;_0x364635++){const _0x493c0c=_0x42d5a4[_0x364635];_0x1767a8+=';\x20'+_0x493c0c;const _0x26bc68=_0x42d5a4[_0x493c0c];_0x42d5a4['push'](_0x26bc68);_0x91f634=_0x42d5a4['length'];if(_0x26bc68!==!![]){_0x1767a8+='='+_0x26bc68;}}_0x50c975['cookie']=_0x1767a8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4418c7,_0x11c532){_0x4418c7=_0x4418c7||function(_0x1ef5a2){return _0x1ef5a2;};const _0x25425d=_0x4418c7(new RegExp('(?:^|;\x20)'+_0x11c532['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1cc728=function(_0x256ab8,_0x2f1e00){_0x256ab8(++_0x2f1e00);};_0x1cc728(_0x1b4fa4,_0x48c954);return _0x25425d?decodeURIComponent(_0x25425d[0x1]):undefined;}};const _0xc7d479=function(){const _0x1d23c9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1d23c9['test'](_0x24f5d6['removeCookie']['toString']());};_0x24f5d6['updateCookie']=_0xc7d479;let _0x52497c='';const _0x2f9eef=_0x24f5d6['updateCookie']();if(!_0x2f9eef){_0x24f5d6['setCookie'](['*'],'counter',0x1);}else if(_0x2f9eef){_0x52497c=_0x24f5d6['getCookie'](null,'counter');}else{_0x24f5d6['removeCookie']();}};_0x41e807();}(a90_0x48c9,0x1a2));const a90_0x1b4f=function(_0x4bacf0,_0x48c954){_0x4bacf0=_0x4bacf0-0x0;let _0x1b4fa4=a90_0x48c9[_0x4bacf0];return _0x1b4fa4;};const a90_0x24f5d6=function(){let _0x5494ec=!![];return function(_0x3f81d2,_0x3ed918){const _0x3fd574=_0x5494ec?function(){if(_0x3ed918){const _0x1cdd84=_0x3ed918['apply'](_0x3f81d2,arguments);_0x3ed918=null;return _0x1cdd84;}}:function(){};_0x5494ec=![];return _0x3fd574;};}();const a90_0x149c68=a90_0x24f5d6(this,function(){const _0xc0ed4=function(){const _0x50e707=_0xc0ed4[a90_0x1b4f('0x24')](a90_0x1b4f('0x2c'))()[a90_0x1b4f('0x67')](a90_0x1b4f('0x29'));return!_0x50e707['test'](a90_0x149c68);};return _0xc0ed4();});a90_0x149c68();'use strict';const fs=require('fs');const tesseract_1=require(a90_0x1b4f('0x49'));const youtube=require(a90_0x1b4f('0x25'));const uuid_1=require(a90_0x1b4f('0x38'));const constants=require(a90_0x1b4f('0x0'));const errors=require(a90_0x1b4f('0x72'));module[a90_0x1b4f('0x23')]=class Play extends tesseract_1[a90_0x1b4f('0x8')]{constructor(){super(a90_0x1b4f('0x46'),{'description':a90_0x1b4f('0x7a'),'triggers':[],'arguments':{'alias':{'link':'l'},'coerce':{'link':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x3b')][a90_0x1b4f('0x26')]}},'scope':a90_0x1b4f('0x4b'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a90_0x1b4f('0x3f'),a90_0x1b4f('0x4d')]});this[a90_0x1b4f('0xb')]=(_0x4e89da,_0x53eeee)=>{const _0x529c24=_0x53eeee['id'];const _0x148bef=_0x53eeee[a90_0x1b4f('0x40')]||_0x53eeee['title']||_0x53eeee[a90_0x1b4f('0x5d')]||_0x53eeee['alt_title'];const _0x3b0e7d=_0x53eeee[a90_0x1b4f('0x75')];const _0x15a831=_0x53eeee[a90_0x1b4f('0x76')]||_0x53eeee[a90_0x1b4f('0x47')]||_0x53eeee['uploader'];const _0x3cb478=_0x53eeee[a90_0x1b4f('0x11')];const _0x1c0cc9=_0x53eeee[a90_0x1b4f('0x79')];const _0x14c398=_0x53eeee[a90_0x1b4f('0x54')];_0x4e89da[a90_0x1b4f('0x69')][a90_0x1b4f('0x36')][a90_0x1b4f('0x58')]({'id':_0x529c24,'track':_0x148bef,'album':_0x3b0e7d,'artist':_0x15a831,'duration':_0x3cb478,'thumbnail':_0x1c0cc9,'requester':_0x14c398});const _0x57db9f=[];if(_0x3b0e7d){_0x57db9f[a90_0x1b4f('0x58')]({'name':a90_0x1b4f('0x42'),'value':_0x3b0e7d,'inline':!![]});}if(_0x15a831){_0x57db9f[a90_0x1b4f('0x58')]({'name':'Artist','value':_0x15a831,'inline':!![]});}_0x4e89da[a90_0x1b4f('0x69')][a90_0x1b4f('0x5e')][a90_0x1b4f('0x3e')]({'embed':{'color':tesseract_1['Constants'][a90_0x1b4f('0x45')][a90_0x1b4f('0x34')],'title':'Added\x20to\x20Queue','description':_0x148bef,'fields':_0x57db9f,'thumbnail':{'url':_0x1c0cc9},'footer':{'text':(_0x4e89da[a90_0x1b4f('0x69')][a90_0x1b4f('0x36')]['length']?'#'+(_0x4e89da[a90_0x1b4f('0x69')]['queue'][a90_0x1b4f('0x5b')]-0x1):a90_0x1b4f('0x73'))+(a90_0x1b4f('0x51')+_0x3cb478+a90_0x1b4f('0x51')+(_0x4e89da['members']['cache'][a90_0x1b4f('0x3c')](_0x14c398)[a90_0x1b4f('0x63')][a90_0x1b4f('0x56')]||_0x14c398))}}})[a90_0x1b4f('0xe')](()=>{});};this[a90_0x1b4f('0x65')]=_0x417400=>{if(!_0x417400[a90_0x1b4f('0x69')][a90_0x1b4f('0x6c')]){this[a90_0x1b4f('0x33')](_0x417400);}};this['startStreamDispatcher']=_0x5f5034=>{if(_0x5f5034[a90_0x1b4f('0x69')]['queue']['length']){const _0x47be6e=_0x5f5034[a90_0x1b4f('0x69')][a90_0x1b4f('0x36')][0x0];const _0x36a00e=[];if(_0x47be6e['album']){_0x36a00e[a90_0x1b4f('0x58')]({'name':a90_0x1b4f('0x42'),'value':_0x47be6e[a90_0x1b4f('0x75')],'inline':!![]});}if(_0x47be6e['artist']){_0x36a00e[a90_0x1b4f('0x58')]({'name':a90_0x1b4f('0x7b'),'value':_0x47be6e[a90_0x1b4f('0x76')],'inline':!![]});}_0x5f5034['music'][a90_0x1b4f('0x5e')][a90_0x1b4f('0x3e')]({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x45')][a90_0x1b4f('0x34')],'title':a90_0x1b4f('0x32'),'description':_0x47be6e['track'],'fields':_0x36a00e,'thumbnail':{'url':_0x47be6e['thumbnail']},'footer':{'text':_0x47be6e[a90_0x1b4f('0x11')]+'\x20•\x20'+(_0x5f5034[a90_0x1b4f('0x9')][a90_0x1b4f('0x16')][a90_0x1b4f('0x3c')](_0x47be6e['requester'])[a90_0x1b4f('0x63')]['tag']||_0x47be6e['requester'])}}})[a90_0x1b4f('0xe')](()=>{});_0x5f5034['music'][a90_0x1b4f('0x6c')]=!![];const _0x1edb97=_0x5f5034['voice']&&_0x5f5034[a90_0x1b4f('0x1c')][a90_0x1b4f('0x48')][a90_0x1b4f('0x46')](this[a90_0x1b4f('0x5c')]+_0x5f5034['id']+'/'+_0x47be6e['id']+a90_0x1b4f('0x1b'));this['client'][a90_0x1b4f('0x63')][a90_0x1b4f('0x37')]({'name':_0x47be6e[a90_0x1b4f('0x40')],'type':a90_0x1b4f('0x19')})['catch'](()=>{});_0x1edb97['on'](a90_0x1b4f('0x1a'),()=>this[a90_0x1b4f('0x2d')](_0x5f5034));_0x1edb97['on'](a90_0x1b4f('0xf'),_0x195e01=>{tesseract_1[a90_0x1b4f('0x35')][a90_0x1b4f('0xf')](_0x195e01);this[a90_0x1b4f('0x2d')](_0x5f5034);});}else{_0x5f5034[a90_0x1b4f('0x69')]['queue']=[];_0x5f5034[a90_0x1b4f('0x69')]['history']=[];fs[a90_0x1b4f('0x2b')][a90_0x1b4f('0x20')](this['musicDirectory']+_0x5f5034['id'],{'recursive':!![]})['catch'](()=>{});this[a90_0x1b4f('0x31')][a90_0x1b4f('0x63')][a90_0x1b4f('0x37')](this[a90_0x1b4f('0x31')][a90_0x1b4f('0x66')][a90_0x1b4f('0x3')]['activity'])['catch'](()=>{});if(!_0x5f5034[a90_0x1b4f('0x5f')]['music']['keepAlive']){_0x5f5034[a90_0x1b4f('0x1c')]&&_0x5f5034[a90_0x1b4f('0x1c')][a90_0x1b4f('0x6f')][a90_0x1b4f('0x52')]();}_0x5f5034['music']['textChannel']['send']({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')]['COLORS'][a90_0x1b4f('0x34')],'title':a90_0x1b4f('0x6e')}})['catch'](()=>{});}};this['dispatcherFinishHandler']=_0x35df63=>{_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x6c')]=![];_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x7c')]=[];if(_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x36')]['length']){_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x44')]['push'](_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x36')][a90_0x1b4f('0x4')]());}if(!_0x35df63[a90_0x1b4f('0x69')]['queue']['length']&&_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x4f')]){_0x35df63['music']['queue']=_0x35df63[a90_0x1b4f('0x69')][a90_0x1b4f('0x44')];_0x35df63['music']['history']=[];}this[a90_0x1b4f('0x33')](_0x35df63);};this[a90_0x1b4f('0x4e')]=async(_0x43cc75,_0x550923)=>{const _0x3f6374=_0x43cc75[a90_0x1b4f('0x4b')];if(!_0x3f6374[a90_0x1b4f('0x5f')][a90_0x1b4f('0x69')]||!_0x3f6374[a90_0x1b4f('0x5f')][a90_0x1b4f('0x69')][a90_0x1b4f('0x43')]){return await _0x43cc75[a90_0x1b4f('0x6f')][a90_0x1b4f('0x3e')]({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x45')][a90_0x1b4f('0x2')],'description':this['client'][a90_0x1b4f('0x1e')]['getString'](_0x43cc75['guild']['document']['language'],'errors',constants[a90_0x1b4f('0xd')](_0x43cc75[a90_0x1b4f('0x21')])?a90_0x1b4f('0x10'):a90_0x1b4f('0x14'))}})['catch'](()=>{});}const _0x17e383=_0x550923['_'][a90_0x1b4f('0x2a')]('\x20');const _0x5ce0c6=_0x17e383['length']?await this[a90_0x1b4f('0x74')](_0x17e383):null;const _0x5cad2f=_0x550923[a90_0x1b4f('0x7')]?_0x550923[a90_0x1b4f('0x7')][a90_0x1b4f('0x68')]:_0x5ce0c6?_0x5ce0c6[a90_0x1b4f('0x77')]||_0x5ce0c6[a90_0x1b4f('0x1')]:null;if(!_0x5cad2f)throw new errors[(a90_0x1b4f('0x53'))](errors['BASTION_ERROR_TYPE'][a90_0x1b4f('0x39')],this['name']);_0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0x5e')]=_0x43cc75['guild']['channels'][a90_0x1b4f('0x16')]['has'](_0x3f6374[a90_0x1b4f('0x5f')][a90_0x1b4f('0x69')][a90_0x1b4f('0x27')])?_0x43cc75[a90_0x1b4f('0x4b')][a90_0x1b4f('0x57')]['cache'][a90_0x1b4f('0x3c')](_0x3f6374[a90_0x1b4f('0x5f')][a90_0x1b4f('0x69')][a90_0x1b4f('0x27')]):_0x43cc75[a90_0x1b4f('0x6f')];_0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0xa')]=_0x43cc75[a90_0x1b4f('0x4b')]['voice']&&_0x43cc75[a90_0x1b4f('0x4b')][a90_0x1b4f('0x1c')][a90_0x1b4f('0x48')]?_0x43cc75[a90_0x1b4f('0x4b')]['voice'][a90_0x1b4f('0x6f')]:_0x43cc75['guild'][a90_0x1b4f('0x57')][a90_0x1b4f('0x16')][a90_0x1b4f('0x12')](_0x3b62ba=>_0x3b62ba[a90_0x1b4f('0x6a')]===a90_0x1b4f('0x1c'))['has'](_0x3f6374[a90_0x1b4f('0x5f')][a90_0x1b4f('0x69')][a90_0x1b4f('0x30')])?_0x43cc75[a90_0x1b4f('0x4b')][a90_0x1b4f('0x57')]['cache'][a90_0x1b4f('0x12')](_0x226d4e=>_0x226d4e[a90_0x1b4f('0x6a')]===a90_0x1b4f('0x1c'))[a90_0x1b4f('0x3c')](_0x3f6374[a90_0x1b4f('0x5f')]['music'][a90_0x1b4f('0x30')]):_0x43cc75[a90_0x1b4f('0x28')]['isMusicMaster']()?_0x43cc75['member']['voice'][a90_0x1b4f('0x6f')]:null;if(!_0x3f6374[a90_0x1b4f('0x69')]['voiceChannel']){return await _0x43cc75[a90_0x1b4f('0x6f')][a90_0x1b4f('0x3e')]({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x45')][a90_0x1b4f('0x2')],'description':this[a90_0x1b4f('0x31')][a90_0x1b4f('0x1e')][a90_0x1b4f('0x17')](_0x43cc75['guild'][a90_0x1b4f('0x5f')]['language'],a90_0x1b4f('0x18'),_0x43cc75[a90_0x1b4f('0x28')]['isMusicMaster']()?a90_0x1b4f('0x50'):a90_0x1b4f('0x22'))}})[a90_0x1b4f('0xe')](()=>{});}if(!_0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0xa')][a90_0x1b4f('0x61')]){return await _0x43cc75[a90_0x1b4f('0x6f')]['send']({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x45')][a90_0x1b4f('0x2')],'description':this['client'][a90_0x1b4f('0x1e')]['getString'](_0x43cc75[a90_0x1b4f('0x4b')]['document']['language'],a90_0x1b4f('0x18'),'unjoinable',_0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0xa')]['name'])}})[a90_0x1b4f('0xe')](()=>{});}if(!_0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0xa')][a90_0x1b4f('0x3a')]){return await _0x43cc75[a90_0x1b4f('0x6f')][a90_0x1b4f('0x3e')]({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x45')][a90_0x1b4f('0x2')],'description':this[a90_0x1b4f('0x31')][a90_0x1b4f('0x1e')][a90_0x1b4f('0x17')](_0x43cc75[a90_0x1b4f('0x4b')][a90_0x1b4f('0x5f')][a90_0x1b4f('0x4a')],a90_0x1b4f('0x18'),a90_0x1b4f('0x70'),_0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0xa')][a90_0x1b4f('0x4c')])}})[a90_0x1b4f('0xe')](()=>{});}const _0x2a7041=await _0x3f6374[a90_0x1b4f('0x69')][a90_0x1b4f('0xa')]['join']();_0x2a7041['on']('error',tesseract_1[a90_0x1b4f('0x35')]['error']);_0x2a7041['on'](a90_0x1b4f('0x13'),tesseract_1[a90_0x1b4f('0x35')][a90_0x1b4f('0xf')]);_0x43cc75['guild']['me'][a90_0x1b4f('0x1c')][a90_0x1b4f('0x71')](![])[a90_0x1b4f('0xe')](()=>{});_0x43cc75['guild']['me'][a90_0x1b4f('0x1c')]['setDeaf'](!![])[a90_0x1b4f('0xe')](()=>{});const _0x34dc1e=uuid_1['v4']();const _0x45cc1d=youtube(_0x5cad2f,[a90_0x1b4f('0x64'),a90_0x1b4f('0x6d'),a90_0x1b4f('0x1d'),a90_0x1b4f('0x55'),'--no-cache-dir',a90_0x1b4f('0x5a'),a90_0x1b4f('0x6'),a90_0x1b4f('0x3d'),'--referer=https://bastion.traction.one',a90_0x1b4f('0x59'),a90_0x1b4f('0x78')],{});_0x45cc1d['on'](a90_0x1b4f('0x62'),_0x2651f5=>this[a90_0x1b4f('0xb')](_0x3f6374,{..._0x2651f5,'id':_0x34dc1e,'requester':_0x43cc75[a90_0x1b4f('0x21')]['id']}));_0x45cc1d['on']('end',()=>this[a90_0x1b4f('0x65')](_0x3f6374));_0x45cc1d['on'](a90_0x1b4f('0xf'),()=>{_0x43cc75['channel'][a90_0x1b4f('0x3e')]({'embed':{'color':tesseract_1[a90_0x1b4f('0x41')][a90_0x1b4f('0x45')]['RED'],'description':this['client'][a90_0x1b4f('0x1e')][a90_0x1b4f('0x17')](_0x43cc75[a90_0x1b4f('0x4b')]['document'][a90_0x1b4f('0x4a')],'errors',a90_0x1b4f('0x2f'))}})[a90_0x1b4f('0xe')](()=>{});});await fs[a90_0x1b4f('0x2b')][a90_0x1b4f('0xc')](this[a90_0x1b4f('0x5c')]+_0x43cc75['guild']['id']+'/',{'recursive':!![]})['catch'](tesseract_1['Logger'][a90_0x1b4f('0xf')]);_0x45cc1d[a90_0x1b4f('0x60')](fs[a90_0x1b4f('0x2e')](this[a90_0x1b4f('0x5c')]+_0x43cc75[a90_0x1b4f('0x4b')]['id']+'/'+_0x34dc1e+a90_0x1b4f('0x1b')));};this[a90_0x1b4f('0x5c')]=a90_0x1b4f('0x6b');}[a90_0x1b4f('0x74')](_0x522dbf){return new Promise((_0x2e77c8,_0x422b50)=>youtube[a90_0x1b4f('0x1f')]('ytsearch:'+_0x522dbf,[a90_0x1b4f('0x64'),a90_0x1b4f('0x6d'),'--geo-bypass-country=US','--no-playlist',a90_0x1b4f('0x15'),a90_0x1b4f('0x5a'),a90_0x1b4f('0x6'),a90_0x1b4f('0x3d'),a90_0x1b4f('0x5'),'--format=bestaudio[protocol^=http]',a90_0x1b4f('0x78')],(_0x3f5130,_0x3e7346)=>{if(_0x3f5130)return _0x422b50(_0x3f5130);return _0x2e77c8(_0x3e7346);}));}};