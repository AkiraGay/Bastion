const a96_0x4d88=['user','ArgumentTypes','Added\x20to\x20Queue','repeat','../../utils/constants','link','musicDownloadError','textChannel','finish','album','author','get','textChannelId','dispatcherFinishHandler','end','voiceChannelId','setActivity','Playing','duration','guild','musicDirectory','title','voiceChannel','It\x20allows\x20you\x20to\x20play\x20a\x20music\x20in\x20the\x20server,\x20from\x20the\x20given\x20queury\x20or\x20from\x20any\x20supported\x20source.','constructor','member','createWriteStream','document','Constants','uploader','playing','connection','.mp3','members','enabled','--no-cache-dir','tag','activity','COLORS','getInfo','RED','return\x20/\x22\x20+\x20this\x20+\x20\x22/','info','name','speakable','rmdir','configurations','URL','track','INVALID_COMMAND_SYNTAX','Album','unjoinable','play\x20Remember\x20The\x20Name\x20by\x20Ed\x20Sheeran','ytsearch:','--format=bestaudio[protocol^=http]','failed','--no-warnings','noMusicChannelsAsOwner','pipe','music','isPublicBastion','type','../../utils/errors','--youtube-skip-dash-manifest','join','youtube-dl','exports','play\x20--link\x20https://www.youtube.com/watch?v=dQw4w9WgXcQ','voice','--no-playlist','streamInfoHandler','mkdir','length','--geo-bypass-country=US','getString','LISTENING','setDeaf','requester','musicDisabled','exec','musicDisabledPublic','play','webpage_url','catch','push','test','DiscordError','PINK','isMusicMaster','leave','queue','channels','language','href','--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','--ignore-errors','client','presence','--referer=https://bastion.traction.one','@bastion/tesseract','artist','Logger','thumbnail','history','has','streamEndHandler','--force-ipv4','skipVotes','Up\x20Next','filter','startStreamDispatcher','error','errors','channel','./music/','promises','--quiet','locale','\x20â€¢\x20','setMute','Artist','cache','send'];(function(_0x792ad9,_0x4d8849){const _0x3c86f7=function(_0x1da637){while(--_0x1da637){_0x792ad9['push'](_0x792ad9['shift']());}},_0xf9f4be=function(){const _0x59be8f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5f2516,_0x134d3c,_0x43a4c3,_0xdafca0){_0xdafca0=_0xdafca0||{};let _0x4dd076=_0x134d3c+'='+_0x43a4c3,_0x145a30=0x0;for(let _0x319a3c=0x0,_0x39aba6=_0x5f2516['length'];_0x319a3c<_0x39aba6;_0x319a3c++){const _0x5c785b=_0x5f2516[_0x319a3c];_0x4dd076+=';\x20'+_0x5c785b;const _0x369de9=_0x5f2516[_0x5c785b];_0x5f2516['push'](_0x369de9),_0x39aba6=_0x5f2516['length'],_0x369de9!==!![]&&(_0x4dd076+='='+_0x369de9);}_0xdafca0['cookie']=_0x4dd076;},'removeCookie':function(){return'dev';},'getCookie':function(_0x39b264,_0xf39afe){_0x39b264=_0x39b264||function(_0x9721e7){return _0x9721e7;};const _0x5bbaed=_0x39b264(new RegExp('(?:^|;\x20)'+_0xf39afe['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4770dd=function(_0x3acc82,_0x4f766d){_0x3acc82(++_0x4f766d);};return _0x4770dd(_0x3c86f7,_0x4d8849),_0x5bbaed?decodeURIComponent(_0x5bbaed[0x1]):undefined;}},_0x4b61b1=function(){const _0x41a46b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x41a46b['test'](_0x59be8f['removeCookie']['toString']());};_0x59be8f['updateCookie']=_0x4b61b1;let _0x47ee00='';const _0x7dd5bb=_0x59be8f['updateCookie']();if(!_0x7dd5bb)_0x59be8f['setCookie'](['*'],'counter',0x1);else _0x7dd5bb?_0x47ee00=_0x59be8f['getCookie'](null,'counter'):_0x59be8f['removeCookie']();};_0xf9f4be();}(a96_0x4d88,0x83));const a96_0x3c86=function(_0x792ad9,_0x4d8849){_0x792ad9=_0x792ad9-0x0;let _0x3c86f7=a96_0x4d88[_0x792ad9];return _0x3c86f7;};const a96_0x43a4c3=function(){let _0xef87ec=!![];return function(_0x5ecddb,_0xd51169){const _0x13ebc1=_0xef87ec?function(){if(_0xd51169){const _0x26de6d=_0xd51169['apply'](_0x5ecddb,arguments);return _0xd51169=null,_0x26de6d;}}:function(){};return _0xef87ec=![],_0x13ebc1;};}(),a96_0x134d3c=a96_0x43a4c3(this,function(){const _0x1ed35c=function(){const _0x33f912=_0x1ed35c[a96_0x3c86('0x10')](a96_0x3c86('0x21'))()[a96_0x3c86('0x10')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x33f912[a96_0x3c86('0x4d')](a96_0x134d3c);};return _0x1ed35c();});a96_0x134d3c();'use strict';const fs=require('fs'),tesseract_1=require(a96_0x3c86('0x5b')),youtube=require(a96_0x3c86('0x39')),uuid_1=require('uuid'),constants=require(a96_0x3c86('0x77')),errors=require(a96_0x3c86('0x36'));module[a96_0x3c86('0x3a')]=class Play extends tesseract_1['Command']{constructor(){super(a96_0x3c86('0x49'),{'description':a96_0x3c86('0xf'),'triggers':[],'arguments':{'alias':{'link':'l'},'coerce':{'link':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x74')][a96_0x3c86('0x27')]}},'scope':a96_0x3c86('0xb'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a96_0x3c86('0x2c'),a96_0x3c86('0x3b')]}),this[a96_0x3c86('0x3e')]=(_0x5162c9,_0x2c2b64)=>{const _0x38d4c4=_0x2c2b64['id'],_0x1082b3=_0x2c2b64[a96_0x3c86('0x28')]||_0x2c2b64[a96_0x3c86('0xd')]||_0x2c2b64['fulltitle']||_0x2c2b64['alt_title'],_0xa97ad6=_0x2c2b64[a96_0x3c86('0x1')],_0x2a1bde=_0x2c2b64['artist']||_0x2c2b64['creator']||_0x2c2b64[a96_0x3c86('0x15')],_0x225870=_0x2c2b64['duration'],_0x15eaa9=_0x2c2b64['thumbnail'],_0x330107=_0x2c2b64[a96_0x3c86('0x45')];_0x5162c9[a96_0x3c86('0x33')][a96_0x3c86('0x52')][a96_0x3c86('0x4c')]({'id':_0x38d4c4,'track':_0x1082b3,'album':_0xa97ad6,'artist':_0x2a1bde,'duration':_0x225870,'thumbnail':_0x15eaa9,'requester':_0x330107});const _0x15f332=[];_0xa97ad6&&_0x15f332[a96_0x3c86('0x4c')]({'name':a96_0x3c86('0x2a'),'value':_0xa97ad6,'inline':!![]}),_0x2a1bde&&_0x15f332['push']({'name':'Artist','value':_0x2a1bde,'inline':!![]}),_0x5162c9[a96_0x3c86('0x33')][a96_0x3c86('0x7a')]['send']({'embed':{'color':tesseract_1['Constants'][a96_0x3c86('0x1e')][a96_0x3c86('0x4f')],'title':a96_0x3c86('0x75'),'description':_0x1082b3,'fields':_0x15f332,'thumbnail':{'url':_0x15eaa9},'footer':{'text':(_0x5162c9[a96_0x3c86('0x33')][a96_0x3c86('0x52')][a96_0x3c86('0x40')]?'#'+(_0x5162c9[a96_0x3c86('0x33')][a96_0x3c86('0x52')][a96_0x3c86('0x40')]-0x1):a96_0x3c86('0x64'))+(a96_0x3c86('0x6e')+_0x225870+a96_0x3c86('0x6e')+(_0x5162c9[a96_0x3c86('0x19')][a96_0x3c86('0x71')]['get'](_0x330107)[a96_0x3c86('0x73')][a96_0x3c86('0x1c')]||_0x330107))}}})[a96_0x3c86('0x4b')](()=>{});},this[a96_0x3c86('0x61')]=_0x4f7ee5=>{!_0x4f7ee5[a96_0x3c86('0x33')][a96_0x3c86('0x16')]&&this[a96_0x3c86('0x66')](_0x4f7ee5);},this['startStreamDispatcher']=_0xd8d398=>{if(_0xd8d398[a96_0x3c86('0x33')][a96_0x3c86('0x52')][a96_0x3c86('0x40')]){const _0x421f7a=_0xd8d398[a96_0x3c86('0x33')]['queue'][0x0],_0x25ff10=[];_0x421f7a[a96_0x3c86('0x1')]&&_0x25ff10[a96_0x3c86('0x4c')]({'name':'Album','value':_0x421f7a[a96_0x3c86('0x1')],'inline':!![]});_0x421f7a[a96_0x3c86('0x5c')]&&_0x25ff10[a96_0x3c86('0x4c')]({'name':a96_0x3c86('0x70'),'value':_0x421f7a[a96_0x3c86('0x5c')],'inline':!![]});_0xd8d398[a96_0x3c86('0x33')]['textChannel'][a96_0x3c86('0x72')]({'embed':{'color':tesseract_1['Constants'][a96_0x3c86('0x1e')]['PINK'],'title':a96_0x3c86('0x9'),'description':_0x421f7a[a96_0x3c86('0x28')],'fields':_0x25ff10,'thumbnail':{'url':_0x421f7a[a96_0x3c86('0x5e')]},'footer':{'text':_0x421f7a[a96_0x3c86('0xa')]+a96_0x3c86('0x6e')+(_0xd8d398[a96_0x3c86('0x19')][a96_0x3c86('0x71')][a96_0x3c86('0x3')](_0x421f7a['requester'])[a96_0x3c86('0x73')]['tag']||_0x421f7a['requester'])}}})[a96_0x3c86('0x4b')](()=>{}),_0xd8d398[a96_0x3c86('0x33')][a96_0x3c86('0x16')]=!![];const _0x7556c7=_0xd8d398[a96_0x3c86('0x3c')]&&_0xd8d398['voice'][a96_0x3c86('0x17')]['play'](this[a96_0x3c86('0xc')]+_0xd8d398['id']+'/'+_0x421f7a['id']+a96_0x3c86('0x18'));this[a96_0x3c86('0x58')]['configurations'][a96_0x3c86('0x33')]&&this[a96_0x3c86('0x58')][a96_0x3c86('0x26')][a96_0x3c86('0x33')][a96_0x3c86('0x1d')]&&this[a96_0x3c86('0x58')]['user'][a96_0x3c86('0x8')]({'name':_0x421f7a[a96_0x3c86('0x28')],'type':a96_0x3c86('0x43')})[a96_0x3c86('0x4b')](()=>{}),_0x7556c7['on'](a96_0x3c86('0x0'),()=>this['dispatcherFinishHandler'](_0xd8d398)),_0x7556c7['on'](a96_0x3c86('0x67'),_0x2daa41=>{tesseract_1[a96_0x3c86('0x5d')][a96_0x3c86('0x67')](_0x2daa41),this[a96_0x3c86('0x5')](_0xd8d398);});}else _0xd8d398[a96_0x3c86('0x33')][a96_0x3c86('0x52')]=[],_0xd8d398[a96_0x3c86('0x33')][a96_0x3c86('0x5f')]=[],fs[a96_0x3c86('0x6b')][a96_0x3c86('0x25')](this[a96_0x3c86('0xc')]+_0xd8d398['id'],{'recursive':!![]})['catch'](()=>{}),this[a96_0x3c86('0x58')][a96_0x3c86('0x26')][a96_0x3c86('0x33')]&&this[a96_0x3c86('0x58')]['configurations'][a96_0x3c86('0x33')]['activity']&&this[a96_0x3c86('0x58')]['user'][a96_0x3c86('0x8')](this['client']['configurations']['presence']instanceof Array?this[a96_0x3c86('0x58')]['configurations']['presence'][0x0][a96_0x3c86('0x1d')]:this[a96_0x3c86('0x58')][a96_0x3c86('0x26')][a96_0x3c86('0x59')][a96_0x3c86('0x1d')])[a96_0x3c86('0x4b')](()=>{}),!_0xd8d398['document']['music']['keepAlive']&&(_0xd8d398[a96_0x3c86('0x3c')]&&_0xd8d398[a96_0x3c86('0x3c')][a96_0x3c86('0x69')][a96_0x3c86('0x51')]()),_0xd8d398[a96_0x3c86('0x33')][a96_0x3c86('0x7a')][a96_0x3c86('0x72')]({'embed':{'color':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x1e')][a96_0x3c86('0x4f')],'title':'Stopping\x20Playback'}})[a96_0x3c86('0x4b')](()=>{});},this[a96_0x3c86('0x5')]=_0x338f0a=>{_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x16')]=![],_0x338f0a['music'][a96_0x3c86('0x63')]=[],_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x52')][a96_0x3c86('0x40')]&&_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x5f')][a96_0x3c86('0x4c')](_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x52')]['shift']()),!_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x52')]['length']&&_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x76')]&&(_0x338f0a['music']['queue']=_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x5f')],_0x338f0a[a96_0x3c86('0x33')][a96_0x3c86('0x5f')]=[]),this[a96_0x3c86('0x66')](_0x338f0a);},this[a96_0x3c86('0x47')]=async(_0x7d9621,_0x2cde82)=>{const _0x8d3c6f=_0x7d9621[a96_0x3c86('0xb')];if(!_0x8d3c6f['document'][a96_0x3c86('0x33')]||!_0x8d3c6f[a96_0x3c86('0x13')][a96_0x3c86('0x33')][a96_0x3c86('0x1a')])return await _0x7d9621[a96_0x3c86('0x69')][a96_0x3c86('0x72')]({'embed':{'color':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x1e')]['RED'],'description':this[a96_0x3c86('0x58')][a96_0x3c86('0x6d')][a96_0x3c86('0x42')](_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x13')][a96_0x3c86('0x54')],a96_0x3c86('0x68'),constants[a96_0x3c86('0x34')](_0x7d9621[a96_0x3c86('0x2')])?a96_0x3c86('0x48'):a96_0x3c86('0x46'))}})[a96_0x3c86('0x4b')](()=>{});const _0x4593b2=_0x2cde82['_'][a96_0x3c86('0x38')]('\x20'),_0x374dc1=_0x4593b2['length']?await this['getSongInfo'](_0x4593b2):null,_0x4459a5=_0x2cde82[a96_0x3c86('0x78')]?_0x2cde82[a96_0x3c86('0x78')][a96_0x3c86('0x55')]:_0x374dc1?_0x374dc1[a96_0x3c86('0x4a')]||_0x374dc1['url']:null;if(!_0x4459a5)throw new errors[(a96_0x3c86('0x4e'))](errors['BASTION_ERROR_TYPE'][a96_0x3c86('0x29')],this[a96_0x3c86('0x23')]);_0x8d3c6f[a96_0x3c86('0x33')]['textChannel']=_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x53')][a96_0x3c86('0x71')][a96_0x3c86('0x60')](_0x8d3c6f[a96_0x3c86('0x13')][a96_0x3c86('0x33')]['textChannelId'])?_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x53')][a96_0x3c86('0x71')]['get'](_0x8d3c6f[a96_0x3c86('0x13')][a96_0x3c86('0x33')][a96_0x3c86('0x4')]):_0x7d9621[a96_0x3c86('0x69')],_0x8d3c6f[a96_0x3c86('0x33')][a96_0x3c86('0xe')]=_0x7d9621[a96_0x3c86('0xb')]['voice']&&_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x3c')][a96_0x3c86('0x17')]?_0x7d9621['guild'][a96_0x3c86('0x3c')][a96_0x3c86('0x69')]:_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x53')][a96_0x3c86('0x71')][a96_0x3c86('0x65')](_0x4f1e2c=>_0x4f1e2c[a96_0x3c86('0x35')]===a96_0x3c86('0x3c'))['has'](_0x8d3c6f[a96_0x3c86('0x13')][a96_0x3c86('0x33')][a96_0x3c86('0x7')])?_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x53')][a96_0x3c86('0x71')][a96_0x3c86('0x65')](_0xc2a75a=>_0xc2a75a['type']===a96_0x3c86('0x3c'))[a96_0x3c86('0x3')](_0x8d3c6f[a96_0x3c86('0x13')][a96_0x3c86('0x33')][a96_0x3c86('0x7')]):_0x7d9621[a96_0x3c86('0x11')][a96_0x3c86('0x50')]()?_0x7d9621[a96_0x3c86('0x11')][a96_0x3c86('0x3c')][a96_0x3c86('0x69')]:null;if(!_0x8d3c6f['music']['voiceChannel'])return await _0x7d9621[a96_0x3c86('0x69')][a96_0x3c86('0x72')]({'embed':{'color':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x1e')]['RED'],'description':this[a96_0x3c86('0x58')][a96_0x3c86('0x6d')][a96_0x3c86('0x42')](_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x13')][a96_0x3c86('0x54')],a96_0x3c86('0x68'),_0x7d9621['member'][a96_0x3c86('0x50')]()?a96_0x3c86('0x31'):'noMusicChannels')}})[a96_0x3c86('0x4b')](()=>{});if(!_0x8d3c6f[a96_0x3c86('0x33')][a96_0x3c86('0xe')]['joinable'])return await _0x7d9621[a96_0x3c86('0x69')][a96_0x3c86('0x72')]({'embed':{'color':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x1e')][a96_0x3c86('0x20')],'description':this['client'][a96_0x3c86('0x6d')][a96_0x3c86('0x42')](_0x7d9621[a96_0x3c86('0xb')][a96_0x3c86('0x13')]['language'],a96_0x3c86('0x68'),a96_0x3c86('0x2b'),_0x8d3c6f['music']['voiceChannel'][a96_0x3c86('0x23')])}})[a96_0x3c86('0x4b')](()=>{});if(!_0x8d3c6f[a96_0x3c86('0x33')][a96_0x3c86('0xe')][a96_0x3c86('0x24')])return await _0x7d9621['channel'][a96_0x3c86('0x72')]({'embed':{'color':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x1e')]['RED'],'description':this['client'][a96_0x3c86('0x6d')]['getString'](_0x7d9621['guild']['document'][a96_0x3c86('0x54')],a96_0x3c86('0x68'),'unspeakable',_0x8d3c6f['music'][a96_0x3c86('0xe')][a96_0x3c86('0x23')])}})[a96_0x3c86('0x4b')](()=>{});const _0x526c2c=await _0x8d3c6f['music'][a96_0x3c86('0xe')][a96_0x3c86('0x38')]();_0x526c2c['on'](a96_0x3c86('0x67'),tesseract_1[a96_0x3c86('0x5d')]['error']),_0x526c2c['on'](a96_0x3c86('0x2f'),tesseract_1[a96_0x3c86('0x5d')][a96_0x3c86('0x67')]),_0x7d9621[a96_0x3c86('0xb')]['me'][a96_0x3c86('0x3c')][a96_0x3c86('0x6f')](![])['catch'](()=>{}),_0x7d9621[a96_0x3c86('0xb')]['me'][a96_0x3c86('0x3c')][a96_0x3c86('0x44')](!![])['catch'](()=>{});const _0xc847b3=uuid_1['v4'](),_0xc58a47=youtube(_0x4459a5,[a96_0x3c86('0x57'),a96_0x3c86('0x62'),a96_0x3c86('0x41'),a96_0x3c86('0x3d'),a96_0x3c86('0x1b'),a96_0x3c86('0x6c'),a96_0x3c86('0x30'),a96_0x3c86('0x56'),a96_0x3c86('0x5a'),a96_0x3c86('0x2e'),a96_0x3c86('0x37')],{});_0xc58a47['on'](a96_0x3c86('0x22'),_0x183336=>this[a96_0x3c86('0x3e')](_0x8d3c6f,{..._0x183336,'id':_0xc847b3,'requester':_0x7d9621[a96_0x3c86('0x2')]['id']})),_0xc58a47['on'](a96_0x3c86('0x6'),()=>this[a96_0x3c86('0x61')](_0x8d3c6f)),_0xc58a47['on'](a96_0x3c86('0x67'),()=>{_0x7d9621[a96_0x3c86('0x69')]['send']({'embed':{'color':tesseract_1[a96_0x3c86('0x14')][a96_0x3c86('0x1e')][a96_0x3c86('0x20')],'description':this[a96_0x3c86('0x58')][a96_0x3c86('0x6d')]['getString'](_0x7d9621['guild'][a96_0x3c86('0x13')][a96_0x3c86('0x54')],a96_0x3c86('0x68'),a96_0x3c86('0x79'))}})[a96_0x3c86('0x4b')](()=>{});}),await fs[a96_0x3c86('0x6b')][a96_0x3c86('0x3f')](this[a96_0x3c86('0xc')]+_0x7d9621[a96_0x3c86('0xb')]['id']+'/',{'recursive':!![]})[a96_0x3c86('0x4b')](tesseract_1['Logger']['error']),_0xc58a47[a96_0x3c86('0x32')](fs[a96_0x3c86('0x12')](this[a96_0x3c86('0xc')]+_0x7d9621['guild']['id']+'/'+_0xc847b3+'.mp3'));},this[a96_0x3c86('0xc')]=a96_0x3c86('0x6a');}['getSongInfo'](_0x2e982a){return new Promise((_0xa2fec,_0x454b65)=>youtube[a96_0x3c86('0x1f')](a96_0x3c86('0x2d')+_0x2e982a,[a96_0x3c86('0x57'),'--force-ipv4','--geo-bypass-country=US',a96_0x3c86('0x3d'),a96_0x3c86('0x1b'),a96_0x3c86('0x6c'),'--no-warnings',a96_0x3c86('0x56'),a96_0x3c86('0x5a'),'--format=bestaudio[protocol^=http]','--youtube-skip-dash-manifest'],(_0x24b9d8,_0x59541a)=>{if(_0x24b9d8)return _0x454b65(_0x24b9d8);return _0xa2fec(_0x59541a);}));}};