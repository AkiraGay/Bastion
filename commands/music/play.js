const a95_0x4384=['isMusicMaster','ArgumentTypes','href','Constants','artist','unjoinable','exports','test','../../utils/errors','client','--youtube-skip-dash-manifest','setMute','unspeakable','finish','play','filter','ytsearch:','streamInfoHandler','uploader','youtube-dl','--force-ipv4','activity','--format=bestaudio[protocol^=http]','play\x20Remember\x20The\x20Name\x20by\x20Ed\x20Sheeran','music','error','URL','--referer=https://bastion.traction.one','send','requester','getSongInfo','member','voiceChannelId','speakable','author','playing','info','url','streamEndHandler','RED','musicDisabled','Command','--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','language','textChannelId','exec','Playing','album','presence','cache','promises','webpage_url','rmdir','enabled','history','apply','PINK','channel','connection','tag','title','constructor','--no-warnings','skipVotes','creator','link','get','setActivity','@bastion/tesseract','join','configurations','length','push','dispatcherFinishHandler','musicDirectory','\x20•\x20','--quiet','channels','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','catch','type','getString','repeat','uuid','document','../../utils/constants','voice','duration','members','Added\x20to\x20Queue','alt_title','LISTENING','play\x20--link\x20https://www.youtube.com/watch?v=dQw4w9WgXcQ','--no-playlist','INVALID_COMMAND_SYNTAX','thumbnail','errors','locale','COLORS','./music/','name','musicDownloadError','isPublicBastion','Artist','BASTION_ERROR_TYPE','Logger','textChannel','startStreamDispatcher','track','--ignore-errors','queue','--geo-bypass-country=US','pipe','Album','has','guild','end','--no-cache-dir','return\x20/\x22\x20+\x20this\x20+\x20\x22/','voiceChannel','.mp3','Stopping\x20Playback'];(function(_0xd4e26f,_0x438415){const _0x37d7f5=function(_0x46d97e){while(--_0x46d97e){_0xd4e26f['push'](_0xd4e26f['shift']());}},_0x4dbfa1=function(){const _0x19fda4={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5da33c,_0x1fd1c0,_0x5d04f2,_0x1cc576){_0x1cc576=_0x1cc576||{};let _0x133158=_0x1fd1c0+'='+_0x5d04f2,_0x28e3ff=0x0;for(let _0x2f2e28=0x0,_0x5de756=_0x5da33c['length'];_0x2f2e28<_0x5de756;_0x2f2e28++){const _0x40fc86=_0x5da33c[_0x2f2e28];_0x133158+=';\x20'+_0x40fc86;const _0x351169=_0x5da33c[_0x40fc86];_0x5da33c['push'](_0x351169),_0x5de756=_0x5da33c['length'],_0x351169!==!![]&&(_0x133158+='='+_0x351169);}_0x1cc576['cookie']=_0x133158;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3e8975,_0x69ffde){_0x3e8975=_0x3e8975||function(_0x19bfa8){return _0x19bfa8;};const _0xc86576=_0x3e8975(new RegExp('(?:^|;\x20)'+_0x69ffde['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x122aa7=function(_0xdb4eb2,_0x389bf7){_0xdb4eb2(++_0x389bf7);};return _0x122aa7(_0x37d7f5,_0x438415),_0xc86576?decodeURIComponent(_0xc86576[0x1]):undefined;}},_0x2bbc75=function(){const _0x204770=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x204770['test'](_0x19fda4['removeCookie']['toString']());};_0x19fda4['updateCookie']=_0x2bbc75;let _0x4f66da='';const _0x1aece4=_0x19fda4['updateCookie']();if(!_0x1aece4)_0x19fda4['setCookie'](['*'],'counter',0x1);else _0x1aece4?_0x4f66da=_0x19fda4['getCookie'](null,'counter'):_0x19fda4['removeCookie']();};_0x4dbfa1();}(a95_0x4384,0x9b));const a95_0x37d7=function(_0xd4e26f,_0x438415){_0xd4e26f=_0xd4e26f-0x0;let _0x37d7f5=a95_0x4384[_0xd4e26f];return _0x37d7f5;};const a95_0x5d04f2=function(){let _0x177437=!![];return function(_0x1a0af8,_0x293441){const _0x589433=_0x177437?function(){if(_0x293441){const _0x2c7b55=_0x293441[a95_0x37d7('0x16')](_0x1a0af8,arguments);return _0x293441=null,_0x2c7b55;}}:function(){};return _0x177437=![],_0x589433;};}(),a95_0x1fd1c0=a95_0x5d04f2(this,function(){const _0x2748b1=function(){const _0x41de98=_0x2748b1[a95_0x37d7('0x1c')](a95_0x37d7('0x55'))()['constructor'](a95_0x37d7('0x2d'));return!_0x41de98[a95_0x37d7('0x60')](a95_0x1fd1c0);};return _0x2748b1();});a95_0x1fd1c0();'use strict';const fs=require('fs'),tesseract_1=require(a95_0x37d7('0x23')),youtube=require(a95_0x37d7('0x6c')),uuid_1=require(a95_0x37d7('0x32')),constants=require(a95_0x37d7('0x34')),errors=require(a95_0x37d7('0x61'));module[a95_0x37d7('0x5f')]=class Play extends tesseract_1[a95_0x37d7('0x8')]{constructor(){super(a95_0x37d7('0x67'),{'description':'It\x20allows\x20you\x20to\x20play\x20a\x20music\x20in\x20the\x20server,\x20from\x20the\x20given\x20queury\x20or\x20from\x20any\x20supported\x20source.','triggers':[],'arguments':{'alias':{'link':'l'},'coerce':{'link':tesseract_1[a95_0x37d7('0x5c')][a95_0x37d7('0x5a')][a95_0x37d7('0x73')]}},'scope':a95_0x37d7('0x52'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a95_0x37d7('0x70'),a95_0x37d7('0x3b')]}),this[a95_0x37d7('0x6a')]=(_0x1da4ba,_0x203d59)=>{const _0x1fb248=_0x203d59['id'],_0x2048a7=_0x203d59['track']||_0x203d59[a95_0x37d7('0x1b')]||_0x203d59['fulltitle']||_0x203d59[a95_0x37d7('0x39')],_0x33598c=_0x203d59[a95_0x37d7('0xe')],_0x154cfa=_0x203d59[a95_0x37d7('0x5d')]||_0x203d59[a95_0x37d7('0x1f')]||_0x203d59[a95_0x37d7('0x6b')],_0x4549c4=_0x203d59[a95_0x37d7('0x36')],_0x39df4a=_0x203d59[a95_0x37d7('0x3e')],_0x5304ab=_0x203d59[a95_0x37d7('0x76')];_0x1da4ba[a95_0x37d7('0x71')]['queue'][a95_0x37d7('0x27')]({'id':_0x1fb248,'track':_0x2048a7,'album':_0x33598c,'artist':_0x154cfa,'duration':_0x4549c4,'thumbnail':_0x39df4a,'requester':_0x5304ab});const _0x457975=[];_0x33598c&&_0x457975[a95_0x37d7('0x27')]({'name':a95_0x37d7('0x50'),'value':_0x33598c,'inline':!![]}),_0x154cfa&&_0x457975[a95_0x37d7('0x27')]({'name':a95_0x37d7('0x46'),'value':_0x154cfa,'inline':!![]}),_0x1da4ba['music'][a95_0x37d7('0x49')][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1[a95_0x37d7('0x5c')][a95_0x37d7('0x41')]['PINK'],'title':a95_0x37d7('0x38'),'description':_0x2048a7,'fields':_0x457975,'thumbnail':{'url':_0x39df4a},'footer':{'text':(_0x1da4ba[a95_0x37d7('0x71')][a95_0x37d7('0x4d')]['length']?'#'+(_0x1da4ba[a95_0x37d7('0x71')]['queue'][a95_0x37d7('0x26')]-0x1):'Up\x20Next')+(a95_0x37d7('0x2a')+_0x4549c4+a95_0x37d7('0x2a')+(_0x1da4ba['members'][a95_0x37d7('0x10')][a95_0x37d7('0x21')](_0x5304ab)['user']['tag']||_0x5304ab))}}})['catch'](()=>{});},this[a95_0x37d7('0x5')]=_0x1a9aca=>{!_0x1a9aca[a95_0x37d7('0x71')][a95_0x37d7('0x2')]&&this[a95_0x37d7('0x4a')](_0x1a9aca);},this[a95_0x37d7('0x4a')]=_0x1ab960=>{if(_0x1ab960[a95_0x37d7('0x71')][a95_0x37d7('0x4d')][a95_0x37d7('0x26')]){const _0x17a5f1=_0x1ab960[a95_0x37d7('0x71')]['queue'][0x0],_0x3064e9=[];_0x17a5f1[a95_0x37d7('0xe')]&&_0x3064e9['push']({'name':a95_0x37d7('0x50'),'value':_0x17a5f1['album'],'inline':!![]});_0x17a5f1[a95_0x37d7('0x5d')]&&_0x3064e9[a95_0x37d7('0x27')]({'name':a95_0x37d7('0x46'),'value':_0x17a5f1['artist'],'inline':!![]});_0x1ab960['music'][a95_0x37d7('0x49')][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1['Constants'][a95_0x37d7('0x41')][a95_0x37d7('0x17')],'title':a95_0x37d7('0xd'),'description':_0x17a5f1[a95_0x37d7('0x4b')],'fields':_0x3064e9,'thumbnail':{'url':_0x17a5f1[a95_0x37d7('0x3e')]},'footer':{'text':_0x17a5f1[a95_0x37d7('0x36')]+'\x20•\x20'+(_0x1ab960[a95_0x37d7('0x37')][a95_0x37d7('0x10')]['get'](_0x17a5f1[a95_0x37d7('0x76')])['user'][a95_0x37d7('0x1a')]||_0x17a5f1[a95_0x37d7('0x76')])}}})[a95_0x37d7('0x2e')](()=>{}),_0x1ab960[a95_0x37d7('0x71')][a95_0x37d7('0x2')]=!![];const _0x1626e3=_0x1ab960[a95_0x37d7('0x35')]&&_0x1ab960[a95_0x37d7('0x35')][a95_0x37d7('0x19')][a95_0x37d7('0x67')](this[a95_0x37d7('0x29')]+_0x1ab960['id']+'/'+_0x17a5f1['id']+a95_0x37d7('0x57'));this[a95_0x37d7('0x62')][a95_0x37d7('0x25')]['music']&&this[a95_0x37d7('0x62')][a95_0x37d7('0x25')]['music']['activity']&&this['client']['user'][a95_0x37d7('0x22')]({'name':_0x17a5f1[a95_0x37d7('0x4b')],'type':a95_0x37d7('0x3a')})['catch'](()=>{}),_0x1626e3['on'](a95_0x37d7('0x66'),()=>this[a95_0x37d7('0x28')](_0x1ab960)),_0x1626e3['on'](a95_0x37d7('0x72'),_0x4e69ce=>{tesseract_1[a95_0x37d7('0x48')][a95_0x37d7('0x72')](_0x4e69ce),this[a95_0x37d7('0x28')](_0x1ab960);});}else _0x1ab960['music']['queue']=[],_0x1ab960[a95_0x37d7('0x71')][a95_0x37d7('0x15')]=[],fs[a95_0x37d7('0x11')][a95_0x37d7('0x13')](this['musicDirectory']+_0x1ab960['id'],{'recursive':!![]})[a95_0x37d7('0x2e')](()=>{}),this[a95_0x37d7('0x62')][a95_0x37d7('0x25')][a95_0x37d7('0x71')]&&this[a95_0x37d7('0x62')]['configurations'][a95_0x37d7('0x71')][a95_0x37d7('0x6e')]&&this[a95_0x37d7('0x62')]['user'][a95_0x37d7('0x22')](this[a95_0x37d7('0x62')][a95_0x37d7('0x25')][a95_0x37d7('0xf')]instanceof Array?this[a95_0x37d7('0x62')][a95_0x37d7('0x25')]['presence'][0x0]['activity']:this[a95_0x37d7('0x62')][a95_0x37d7('0x25')]['presence'][a95_0x37d7('0x6e')])[a95_0x37d7('0x2e')](()=>{}),!_0x1ab960[a95_0x37d7('0x33')][a95_0x37d7('0x71')]['keepAlive']&&(_0x1ab960[a95_0x37d7('0x35')]&&_0x1ab960[a95_0x37d7('0x35')][a95_0x37d7('0x18')]['leave']()),_0x1ab960[a95_0x37d7('0x71')]['textChannel']['send']({'embed':{'color':tesseract_1[a95_0x37d7('0x5c')][a95_0x37d7('0x41')]['PINK'],'title':a95_0x37d7('0x58')}})[a95_0x37d7('0x2e')](()=>{});},this['dispatcherFinishHandler']=_0x59aabf=>{_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x2')]=![],_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x1e')]=[],_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x4d')][a95_0x37d7('0x26')]&&_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x15')]['push'](_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x4d')]['shift']()),!_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x4d')][a95_0x37d7('0x26')]&&_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x31')]&&(_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x4d')]=_0x59aabf[a95_0x37d7('0x71')][a95_0x37d7('0x15')],_0x59aabf['music'][a95_0x37d7('0x15')]=[]),this[a95_0x37d7('0x4a')](_0x59aabf);},this[a95_0x37d7('0xc')]=async(_0x56fbf8,_0x59d867)=>{const _0x29ef97=_0x56fbf8['guild'];if(!_0x29ef97[a95_0x37d7('0x33')]['music']||!_0x29ef97[a95_0x37d7('0x33')]['music'][a95_0x37d7('0x14')])return await _0x56fbf8[a95_0x37d7('0x18')][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1[a95_0x37d7('0x5c')][a95_0x37d7('0x41')][a95_0x37d7('0x6')],'description':this[a95_0x37d7('0x62')][a95_0x37d7('0x40')][a95_0x37d7('0x30')](_0x56fbf8[a95_0x37d7('0x52')]['document'][a95_0x37d7('0xa')],a95_0x37d7('0x3f'),constants[a95_0x37d7('0x45')](_0x56fbf8[a95_0x37d7('0x1')])?'musicDisabledPublic':a95_0x37d7('0x7'))}})[a95_0x37d7('0x2e')](()=>{});const _0x5d937a=_0x59d867['_'][a95_0x37d7('0x24')]('\x20'),_0x19395a=_0x5d937a[a95_0x37d7('0x26')]?await this[a95_0x37d7('0x77')](_0x5d937a):null,_0x546752=_0x59d867[a95_0x37d7('0x20')]?_0x59d867[a95_0x37d7('0x20')][a95_0x37d7('0x5b')]:_0x19395a?_0x19395a[a95_0x37d7('0x12')]||_0x19395a[a95_0x37d7('0x4')]:null;if(!_0x546752)throw new errors['DiscordError'](errors[a95_0x37d7('0x47')][a95_0x37d7('0x3d')],this['name']);_0x29ef97[a95_0x37d7('0x71')][a95_0x37d7('0x49')]=_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x2c')][a95_0x37d7('0x10')][a95_0x37d7('0x51')](_0x29ef97[a95_0x37d7('0x33')]['music'][a95_0x37d7('0xb')])?_0x56fbf8['guild'][a95_0x37d7('0x2c')][a95_0x37d7('0x10')][a95_0x37d7('0x21')](_0x29ef97['document'][a95_0x37d7('0x71')]['textChannelId']):_0x56fbf8[a95_0x37d7('0x18')],_0x29ef97[a95_0x37d7('0x71')]['voiceChannel']=_0x56fbf8['guild'][a95_0x37d7('0x35')]&&_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x35')]['connection']?_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x35')][a95_0x37d7('0x18')]:_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x2c')][a95_0x37d7('0x10')][a95_0x37d7('0x68')](_0x852c73=>_0x852c73[a95_0x37d7('0x2f')]==='voice')[a95_0x37d7('0x51')](_0x29ef97[a95_0x37d7('0x33')][a95_0x37d7('0x71')][a95_0x37d7('0x79')])?_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x2c')][a95_0x37d7('0x10')][a95_0x37d7('0x68')](_0x1df43b=>_0x1df43b[a95_0x37d7('0x2f')]===a95_0x37d7('0x35'))[a95_0x37d7('0x21')](_0x29ef97['document'][a95_0x37d7('0x71')]['voiceChannelId']):_0x56fbf8[a95_0x37d7('0x78')][a95_0x37d7('0x59')]()?_0x56fbf8[a95_0x37d7('0x78')][a95_0x37d7('0x35')]['channel']:null;if(!_0x29ef97[a95_0x37d7('0x71')][a95_0x37d7('0x56')])return await _0x56fbf8[a95_0x37d7('0x18')][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1[a95_0x37d7('0x5c')][a95_0x37d7('0x41')][a95_0x37d7('0x6')],'description':this[a95_0x37d7('0x62')]['locale'][a95_0x37d7('0x30')](_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x33')][a95_0x37d7('0xa')],a95_0x37d7('0x3f'),_0x56fbf8[a95_0x37d7('0x78')]['isMusicMaster']()?'noMusicChannelsAsOwner':'noMusicChannels')}})[a95_0x37d7('0x2e')](()=>{});if(!_0x29ef97['music']['voiceChannel']['joinable'])return await _0x56fbf8['channel'][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1[a95_0x37d7('0x5c')][a95_0x37d7('0x41')][a95_0x37d7('0x6')],'description':this[a95_0x37d7('0x62')]['locale'][a95_0x37d7('0x30')](_0x56fbf8['guild'][a95_0x37d7('0x33')][a95_0x37d7('0xa')],a95_0x37d7('0x3f'),a95_0x37d7('0x5e'),_0x29ef97['music'][a95_0x37d7('0x56')]['name'])}})['catch'](()=>{});if(!_0x29ef97['music']['voiceChannel'][a95_0x37d7('0x0')])return await _0x56fbf8[a95_0x37d7('0x18')][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a95_0x37d7('0x6')],'description':this[a95_0x37d7('0x62')]['locale'][a95_0x37d7('0x30')](_0x56fbf8[a95_0x37d7('0x52')][a95_0x37d7('0x33')][a95_0x37d7('0xa')],a95_0x37d7('0x3f'),a95_0x37d7('0x65'),_0x29ef97[a95_0x37d7('0x71')][a95_0x37d7('0x56')][a95_0x37d7('0x43')])}})[a95_0x37d7('0x2e')](()=>{});const _0x2f6cab=await _0x29ef97[a95_0x37d7('0x71')]['voiceChannel'][a95_0x37d7('0x24')]();_0x2f6cab['on'](a95_0x37d7('0x72'),tesseract_1[a95_0x37d7('0x48')][a95_0x37d7('0x72')]),_0x2f6cab['on']('failed',tesseract_1[a95_0x37d7('0x48')][a95_0x37d7('0x72')]),_0x56fbf8[a95_0x37d7('0x52')]['me'][a95_0x37d7('0x35')][a95_0x37d7('0x64')](![])['catch'](()=>{}),_0x56fbf8[a95_0x37d7('0x52')]['me'][a95_0x37d7('0x35')]['setDeaf'](!![])[a95_0x37d7('0x2e')](()=>{});const _0x5bf249=uuid_1['v4'](),_0x373dae=youtube(_0x546752,[a95_0x37d7('0x4c'),a95_0x37d7('0x6d'),'--geo-bypass-country=US',a95_0x37d7('0x3c'),a95_0x37d7('0x54'),a95_0x37d7('0x2b'),'--no-warnings',a95_0x37d7('0x9'),a95_0x37d7('0x74'),a95_0x37d7('0x6f'),a95_0x37d7('0x63')],{});_0x373dae['on'](a95_0x37d7('0x3'),_0x24bc19=>this[a95_0x37d7('0x6a')](_0x29ef97,{..._0x24bc19,'id':_0x5bf249,'requester':_0x56fbf8[a95_0x37d7('0x1')]['id']})),_0x373dae['on'](a95_0x37d7('0x53'),()=>this['streamEndHandler'](_0x29ef97)),_0x373dae['on'](a95_0x37d7('0x72'),()=>{_0x56fbf8[a95_0x37d7('0x18')][a95_0x37d7('0x75')]({'embed':{'color':tesseract_1[a95_0x37d7('0x5c')]['COLORS']['RED'],'description':this[a95_0x37d7('0x62')][a95_0x37d7('0x40')][a95_0x37d7('0x30')](_0x56fbf8[a95_0x37d7('0x52')]['document'][a95_0x37d7('0xa')],a95_0x37d7('0x3f'),a95_0x37d7('0x44'))}})[a95_0x37d7('0x2e')](()=>{});}),await fs[a95_0x37d7('0x11')]['mkdir'](this['musicDirectory']+_0x56fbf8['guild']['id']+'/',{'recursive':!![]})[a95_0x37d7('0x2e')](tesseract_1[a95_0x37d7('0x48')][a95_0x37d7('0x72')]),_0x373dae[a95_0x37d7('0x4f')](fs['createWriteStream'](this[a95_0x37d7('0x29')]+_0x56fbf8['guild']['id']+'/'+_0x5bf249+a95_0x37d7('0x57')));},this[a95_0x37d7('0x29')]=a95_0x37d7('0x42');}['getSongInfo'](_0x533af6){return new Promise((_0x5209f9,_0x55d311)=>youtube['getInfo'](a95_0x37d7('0x69')+_0x533af6,['--ignore-errors',a95_0x37d7('0x6d'),a95_0x37d7('0x4e'),a95_0x37d7('0x3c'),a95_0x37d7('0x54'),a95_0x37d7('0x2b'),a95_0x37d7('0x1d'),'--user-agent=Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_0)\x20AppleWebKit/604.1\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.4\x20Safari/604.1','--referer=https://bastion.traction.one',a95_0x37d7('0x6f'),a95_0x37d7('0x63')],(_0x319c9e,_0x85eeb3)=>{if(_0x319c9e)return _0x55d311(_0x319c9e);return _0x5209f9(_0x85eeb3);}));}};