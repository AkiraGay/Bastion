const a55_0x4898=['\x20minutes\x20to\x20make\x20your\x20submission.','size','\x20won\x20with\x20','Constants','end','deletable','\x20minutes.','values','Command','Submissions','length','COLORS','keys','split','client','handleSubmissionEnd','handleSubmission','map','SOMEWHAT_DARK','send','**\x20-\x20','handleVotingEnd','handleVoting','author','users','createMessageCollector','content','exports','\x20started\x20an\x20acrophobia\x20game\x20in\x20this\x20channel.\x20Create\x20a\x20coherent\x20or\x20humorous\x20sentence\x20for\x20the\x20acronym\x20**','Acrophobia','games','**.','join','return\x20/\x22\x20+\x20this\x20+\x20\x22/','set','get','../../utils/numbers','parseInt','floor','ABCDEFGHIJKLMNOPQRSTUVWXYZ','exec','channel','\x20votes\x20for\x20the\x20backronym\x20','INDIGO','toUpperCase','has','user','\x20made\x20for\x20the\x20acronym.','cache','You\x20have\x20got\x20','tag','includes','votes','delete','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','push','RED','collect','apply','acrophobia','catch','guild','Game\x20Ended','It\x20allows\x20you\x20to\x20play\x20the\x20Acrophobia\x20game\x20with\x20your\x20fellow\x20server\x20members.\x20Bastion\x20generates\x20a\x20random\x20acronym\x20and\x20players\x20compete\x20by\x20racing\x20to\x20create\x20the\x20most\x20coherent\x20or\x20humorous\x20sentence\x20that\x20fits\x20the\x20acronym\x20-\x20a\x20backronym.\x20After\x20the\x20submissions\x20are\x20over,\x20in\x20the\x20specified\x20amount\x20of\x20time,\x20everyone\x20then\x20votes\x20anonymously\x20for\x20their\x20favorite\x20answer.\x20The\x20most\x20popular\x20backronym\x20wins.','constructor','only\x20one\x20submission\x20was'];(function(_0x582445,_0x4898e5){const _0x13ad75=function(_0x557391){while(--_0x557391){_0x582445['push'](_0x582445['shift']());}},_0x3833c2=function(){const _0x51a05c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a7332,_0x28c913,_0x5c2e33,_0x240a9d){_0x240a9d=_0x240a9d||{};let _0x4ee302=_0x28c913+'='+_0x5c2e33,_0x2cac00=0x0;for(let _0x4b9512=0x0,_0x300c6a=_0x2a7332['length'];_0x4b9512<_0x300c6a;_0x4b9512++){const _0x3ad23e=_0x2a7332[_0x4b9512];_0x4ee302+=';\x20'+_0x3ad23e;const _0x40b766=_0x2a7332[_0x3ad23e];_0x2a7332['push'](_0x40b766),_0x300c6a=_0x2a7332['length'],_0x40b766!==!![]&&(_0x4ee302+='='+_0x40b766);}_0x240a9d['cookie']=_0x4ee302;},'removeCookie':function(){return'dev';},'getCookie':function(_0x28088e,_0x36c34d){_0x28088e=_0x28088e||function(_0x3a2cc0){return _0x3a2cc0;};const _0x511744=_0x28088e(new RegExp('(?:^|;\x20)'+_0x36c34d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x35922e=function(_0x41373b,_0x309d09){_0x41373b(++_0x309d09);};return _0x35922e(_0x13ad75,_0x4898e5),_0x511744?decodeURIComponent(_0x511744[0x1]):undefined;}},_0x5a14d7=function(){const _0x31c78a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x31c78a['test'](_0x51a05c['removeCookie']['toString']());};_0x51a05c['updateCookie']=_0x5a14d7;let _0x41daa4='';const _0x44b633=_0x51a05c['updateCookie']();if(!_0x44b633)_0x51a05c['setCookie'](['*'],'counter',0x1);else _0x44b633?_0x41daa4=_0x51a05c['getCookie'](null,'counter'):_0x51a05c['removeCookie']();};_0x3833c2();}(a55_0x4898,0x94));const a55_0x13ad=function(_0x582445,_0x4898e5){_0x582445=_0x582445-0x0;let _0x13ad75=a55_0x4898[_0x582445];return _0x13ad75;};const _0x4fa871=a55_0x13ad,a55_0x51a05c=function(){let _0x41daa4=!![];return function(_0x44b633,_0x2a7332){const _0x28c913=_0x41daa4?function(){const _0x2ac05d=a55_0x13ad;if(_0x2a7332){const _0x5c2e33=_0x2a7332[_0x2ac05d('0x2a')](_0x44b633,arguments);return _0x2a7332=null,_0x5c2e33;}}:function(){};return _0x41daa4=![],_0x28c913;};}(),a55_0x557391=a55_0x51a05c(this,function(){const _0x240a9d=function(){const _0x11545a=a55_0x13ad,_0x4ee302=_0x240a9d[_0x11545a('0x30')](_0x11545a('0x11'))()['constructor'](_0x11545a('0x26'));return!_0x4ee302['test'](a55_0x557391);};return _0x240a9d();});a55_0x557391();'use strict';const tesseract_1=require('@bastion/tesseract'),numbers=require(_0x4fa871('0x14'));module[_0x4fa871('0xb')]=class AcrophobiaCommand extends tesseract_1[_0x4fa871('0x3a')]{constructor(){const _0x325170=_0x4fa871;super(_0x325170('0x2b'),{'description':_0x325170('0x2f'),'triggers':[],'arguments':{},'scope':_0x325170('0x2d'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[]}),this['handleVoting']=_0x2cac00=>{const _0x58b905=_0x325170;this[_0x58b905('0xe')][_0x58b905('0x13')](_0x2cac00['channel']['id'])[_0x58b905('0x24')][_0x58b905('0x27')](_0x2cac00[_0x58b905('0x7')]['id']),_0x2cac00[_0x58b905('0x37')]&&_0x2cac00['delete']()[_0x58b905('0x2c')](()=>{});},this['handleVotingEnd']=(_0x4b9512,_0x300c6a,_0x3ad23e)=>{const _0x3c024a=_0x325170;this['games'][_0x3c024a('0x25')](_0x4b9512[_0x3c024a('0x19')]['id']);if(_0x3ad23e[_0x3c024a('0x33')]===0x0)return _0x4b9512[_0x3c024a('0x19')][_0x3c024a('0x3')]({'embed':{'color':tesseract_1['Constants']['COLORS']['RED'],'author':{'name':_0x3c024a('0xd')},'title':_0x3c024a('0x2e'),'description':'Unfortunately,\x20no\x20votes\x20were\x20given\x20to\x20any\x20of\x20the\x20submissions.'}})[_0x3c024a('0x2c')](()=>{});const _0x40b766={};for(const _0x511744 of _0x3ad23e[_0x3c024a('0x39')]()){_0x40b766[_0x511744[_0x3c024a('0xa')]]=_0x40b766[_0x511744[_0x3c024a('0xa')]]?_0x40b766[_0x511744[_0x3c024a('0xa')]]+0x1:0x1;}const _0x28088e=+Object[_0x3c024a('0x3e')](_0x40b766)['reduce']((_0x35922e,_0x3a2cc0)=>{return _0x40b766[_0x35922e]>_0x40b766[_0x3a2cc0]?_0x35922e:_0x3a2cc0;})-0x1,_0x36c34d=this[_0x3c024a('0x40')][_0x3c024a('0x8')]['cache'][_0x3c024a('0x1d')](_0x300c6a[_0x28088e][_0x3c024a('0x1e')])?this[_0x3c024a('0x40')][_0x3c024a('0x8')][_0x3c024a('0x20')][_0x3c024a('0x13')](_0x300c6a[_0x28088e]['user'])['tag']:_0x300c6a[_0x28088e]['user'];_0x4b9512['channel']['send']({'embed':{'color':tesseract_1[_0x3c024a('0x35')][_0x3c024a('0x3d')][_0x3c024a('0x2')],'author':{'name':_0x3c024a('0xd')},'title':_0x3c024a('0x2e'),'description':_0x36c34d+_0x3c024a('0x34')+_0x40b766[_0x28088e]+_0x3c024a('0x1a')+_0x300c6a[_0x28088e]['backronym']+'.'}})[_0x3c024a('0x2c')](()=>{});},this[_0x325170('0x0')]=_0x41373b=>{const _0x40c5a5=_0x325170;_0x41373b[_0x40c5a5('0x37')]&&_0x41373b[_0x40c5a5('0x25')]()[_0x40c5a5('0x2c')](()=>{});},this[_0x325170('0x41')]=async(_0x309d09,_0x31c78a)=>{const _0x1fafb0=_0x325170;try{if(_0x31c78a[_0x1fafb0('0x33')]<0x2)return this[_0x1fafb0('0xe')][_0x1fafb0('0x25')](_0x309d09['channel']['id']),_0x309d09[_0x1fafb0('0x19')][_0x1fafb0('0x3')]({'embed':{'color':tesseract_1[_0x1fafb0('0x35')][_0x1fafb0('0x3d')][_0x1fafb0('0x28')],'author':{'name':_0x1fafb0('0xd')},'title':'Game\x20Ended','description':'Unfortunately,\x20'+(_0x31c78a[_0x1fafb0('0x33')]===0x0?'no\x20submissions\x20were':_0x1fafb0('0x31'))+_0x1fafb0('0x1f')}})[_0x1fafb0('0x2c')](()=>{});const _0x412f66=0x2,_0x245fa8=[..._0x31c78a[_0x1fafb0('0x39')]()][_0x1fafb0('0x1')](_0x5031a2=>({'backronym':_0x5031a2[_0x1fafb0('0xa')],'user':_0x5031a2[_0x1fafb0('0x7')]['id']}));await _0x309d09['channel'][_0x1fafb0('0x3')]({'embed':{'color':tesseract_1[_0x1fafb0('0x35')]['COLORS'][_0x1fafb0('0x1b')],'author':{'name':_0x1fafb0('0xd')},'title':_0x1fafb0('0x3b'),'description':_0x245fa8[_0x1fafb0('0x1')]((_0x42b58d,_0x4a3e0a)=>'**#'+(_0x4a3e0a+0x1)+_0x1fafb0('0x4')+_0x42b58d['backronym'])[_0x1fafb0('0x10')]('\x0a'),'footer':{'text':'Vote\x20by\x20typing\x20the\x20corresponding\x20number\x20of\x20your\x20favorite\x20backronym.\x20Voting\x20closes\x20in\x20'+_0x412f66+_0x1fafb0('0x38')}}});const _0x33d992=_0x309d09['channel']['createMessageCollector'](_0x24e246=>!_0x24e246[_0x1fafb0('0x7')]['bot']&&Number[_0x1fafb0('0x15')](_0x24e246[_0x1fafb0('0xa')])>0x0&&Number[_0x1fafb0('0x15')](_0x24e246[_0x1fafb0('0xa')])<=_0x245fa8[_0x1fafb0('0x3c')]&&!(this['games'][_0x1fafb0('0x1d')](_0x309d09['channel']['id'])&&this[_0x1fafb0('0xe')]['get'](_0x309d09[_0x1fafb0('0x19')]['id'])[_0x1fafb0('0x24')][_0x1fafb0('0x23')](_0x24e246[_0x1fafb0('0x7')]['id'])),{'time':_0x412f66*0xea60});_0x33d992['on'](_0x1fafb0('0x29'),this[_0x1fafb0('0x6')]),_0x33d992['on'](_0x1fafb0('0x36'),_0x44db72=>this[_0x1fafb0('0x5')](_0x309d09,_0x245fa8,_0x44db72));}catch{this[_0x1fafb0('0xe')][_0x1fafb0('0x25')](_0x309d09[_0x1fafb0('0x19')]['id']);}},this[_0x325170('0x18')]=async _0x1efa3a=>{const _0xa738c7=_0x325170,_0x7ac1ba=0x2,_0x326173=numbers['getRandomInt'](0x3,0x7),_0x3892e7=_0xa738c7('0x17')['split'](''),_0x16c2c6=[];for(let _0x1cbbd5=0x0;_0x1cbbd5<_0x326173;_0x1cbbd5++){_0x16c2c6[_0xa738c7('0x27')](_0x3892e7[Math[_0xa738c7('0x16')](Math['random']()*_0x3892e7[_0xa738c7('0x3c')])]);}const _0x5d39eb=await _0x1efa3a[_0xa738c7('0x19')][_0xa738c7('0x3')]({'embed':{'color':tesseract_1[_0xa738c7('0x35')][_0xa738c7('0x3d')]['INDIGO'],'title':_0xa738c7('0xd'),'description':_0x1efa3a[_0xa738c7('0x7')][_0xa738c7('0x22')]+_0xa738c7('0xc')+_0x16c2c6['join']('\x20')+_0xa738c7('0xf'),'footer':{'text':_0xa738c7('0x21')+_0x7ac1ba+_0xa738c7('0x32')}}});this[_0xa738c7('0xe')][_0xa738c7('0x12')](_0x1efa3a[_0xa738c7('0x19')]['id'],{'votes':[]});const _0x4bb99f=_0x1efa3a[_0xa738c7('0x19')][_0xa738c7('0x9')](_0x2ac804=>!_0x2ac804[_0xa738c7('0x7')]['bot']&&_0x2ac804['content'][_0xa738c7('0x3c')]>0x2*_0x16c2c6['length']&&_0x2ac804[_0xa738c7('0xa')][_0xa738c7('0x3f')]('\x20')[_0xa738c7('0x3c')]===_0x326173&&_0x2ac804[_0xa738c7('0xa')][_0xa738c7('0x3f')]('\x20')[_0xa738c7('0x1')](_0x5cb600=>_0x5cb600[0x0])[_0xa738c7('0x10')]('')[_0xa738c7('0x1c')]()===_0x16c2c6['join'](''),{'time':_0x7ac1ba*0xea60,'max':0x19});_0x4bb99f['on']('collect',this[_0xa738c7('0x0')]),_0x4bb99f['on'](_0xa738c7('0x36'),_0x52d3f7=>this[_0xa738c7('0x41')](_0x5d39eb,_0x52d3f7));},this['games']=new Map();}};