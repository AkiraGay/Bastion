function a34_0x1b08(_0x4b95dd,_0x1cb52f){const _0x72d291=a34_0x1ec0();return a34_0x1b08=function(_0x5b887b,_0x8344a3){_0x5b887b=_0x5b887b-0x145;let _0x1ec0ea=_0x72d291[_0x5b887b];return _0x1ec0ea;},a34_0x1b08(_0x4b95dd,_0x1cb52f);}const a34_0x1a7452=a34_0x1b08;(function(_0x2e59ed,_0x3c1c4a){const _0x345277=a34_0x1b08,_0x5789cb=_0x2e59ed();while(!![]){try{const _0x1ac3dc=parseInt(_0x345277(0x16e))/0x1+parseInt(_0x345277(0x180))/0x2+parseInt(_0x345277(0x18f))/0x3*(-parseInt(_0x345277(0x168))/0x4)+-parseInt(_0x345277(0x158))/0x5*(-parseInt(_0x345277(0x16d))/0x6)+-parseInt(_0x345277(0x154))/0x7+parseInt(_0x345277(0x156))/0x8*(parseInt(_0x345277(0x15b))/0x9)+parseInt(_0x345277(0x15a))/0xa*(-parseInt(_0x345277(0x160))/0xb);if(_0x1ac3dc===_0x3c1c4a)break;else _0x5789cb['push'](_0x5789cb['shift']());}catch(_0x4aec20){_0x5789cb['push'](_0x5789cb['shift']());}}}(a34_0x1ec0,0x6099e));const a34_0x8344a3=(function(){let _0x453e13=!![];return function(_0x786aec,_0x1b664d){const _0x40342d=_0x453e13?function(){if(_0x1b664d){const _0x3895a1=_0x1b664d['apply'](_0x786aec,arguments);return _0x1b664d=null,_0x3895a1;}}:function(){};return _0x453e13=![],_0x40342d;};}()),a34_0x5b887b=a34_0x8344a3(this,function(){const _0x4bacb4=a34_0x1b08;return a34_0x5b887b['toString']()[_0x4bacb4(0x187)](_0x4bacb4(0x172))['toString']()[_0x4bacb4(0x173)](a34_0x5b887b)[_0x4bacb4(0x187)](_0x4bacb4(0x172));});a34_0x5b887b();'use strict';function a34_0x1ec0(){const _0x1fb70a=['13140RlDiGd','3258nkGmMB','isPublicBastion','noSelfRoles','selfRolesList','length','5577VWizBy','Command','cache','../../utils/omnic','ROLE_NOT_FOUND','selfRolesRemove','roleNotFound','LIMITED_PREMIUM_MEMBERSHIP','12ynsYDp','getString','tag','It\x20allows\x20you\x20to\x20set\x20up\x20Self\x20Roles\x20in\x20the\x20server.\x20Self\x20Roles\x20are\x20the\x20roles\x20which\x20server\x20members\x20can\x20assign\x20(and\x20unassign)\x20to\x20themselves.','name','2279598qkWSXJ','179613VZweBo','DiscordError','info','channel','(((.+)+)+)+$','constructor','MANAGE_ROLES','document','PLATINUM','premiumSelfRoles','roles','selfRoles','../../models/Role','exports','author','add','GOLD','membershipLimitSelfRoles','1105916dCynsv','find','user','client','catch','language','remove','search','default','has','LIMITS','errors','locale','RED','PREMIUM_MEMBERSHIP_REQUIRED','258480RmYYyl','send','SELF_ROLES','@bastion/tesseract','IRIS','GREEN','resolver','Self\x20Roles','COLORS','../../utils/errors','_id','PremiumTier','push','join','fetchPremiumTier','selfRoles\x20--add\x20ROLE','exec','BASTION_ERROR_TYPE','resolveRole','1645483gxUBIt','guild','1392dQRUvT','selfRolesAdd','10xcqpSX','Constants'];a34_0x1ec0=function(){return _0x1fb70a;};return a34_0x1ec0();}const tesseract_1=require(a34_0x1a7452(0x192)),Role_1=require(a34_0x1a7452(0x17a)),constants=require('../../utils/constants'),errors=require(a34_0x1a7452(0x14a)),omnic=require(a34_0x1a7452(0x163));module[a34_0x1a7452(0x17b)]=class SelfRoles extends tesseract_1[a34_0x1a7452(0x161)]{constructor(){const _0x3c8bd2=a34_0x1a7452;super(_0x3c8bd2(0x179),{'description':_0x3c8bd2(0x16b),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'array':[_0x3c8bd2(0x17d),_0x3c8bd2(0x186)],'string':[_0x3c8bd2(0x17d),_0x3c8bd2(0x186)]},'scope':_0x3c8bd2(0x155),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x3c8bd2(0x174)],'userPermissions':['MANAGE_ROLES'],'syntax':[_0x3c8bd2(0x179),_0x3c8bd2(0x150),'selfRoles\x20--remove\x20ROLE']});}[a34_0x1a7452(0x151)]=async(_0x44e073,_0x349469)=>{const _0x53da82=a34_0x1a7452;if(_0x349469[_0x53da82(0x17d)]){if(constants[_0x53da82(0x15c)](this[_0x53da82(0x183)][_0x53da82(0x182)])){const _0x5068eb=await Role_1['default']['countDocuments']({'guild':_0x44e073['guild']['id'],'selfAssignable':!![]});if(_0x5068eb>=constants[_0x53da82(0x18a)][_0x53da82(0x191)]){const _0xc1f9d5=await omnic[_0x53da82(0x14f)](_0x44e073[_0x53da82(0x155)])[_0x53da82(0x184)](()=>{});if(_0xc1f9d5){if(_0xc1f9d5===omnic[_0x53da82(0x14c)][_0x53da82(0x17e)]&&_0x5068eb>=constants[_0x53da82(0x18a)][_0x53da82(0x17e)][_0x53da82(0x191)])throw new errors[(_0x53da82(0x16f))](errors[_0x53da82(0x152)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x53da82(0x183)][_0x53da82(0x18c)]['getString'](_0x44e073[_0x53da82(0x155)][_0x53da82(0x175)][_0x53da82(0x185)],_0x53da82(0x18b),'membershipLimitSelfRoles',constants[_0x53da82(0x18a)][_0x53da82(0x17e)]['SELF_ROLES']));else{if(_0xc1f9d5===omnic[_0x53da82(0x14c)][_0x53da82(0x176)]&&_0x5068eb>=constants['LIMITS'][_0x53da82(0x176)][_0x53da82(0x191)])throw new errors[(_0x53da82(0x16f))](errors[_0x53da82(0x152)][_0x53da82(0x167)],this[_0x53da82(0x183)][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073[_0x53da82(0x155)][_0x53da82(0x175)][_0x53da82(0x185)],_0x53da82(0x18b),_0x53da82(0x17f),constants[_0x53da82(0x18a)][_0x53da82(0x176)]['SELF_ROLES']));}}else throw new errors[(_0x53da82(0x16f))](errors['BASTION_ERROR_TYPE'][_0x53da82(0x18e)],this[_0x53da82(0x183)][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073['guild'][_0x53da82(0x175)][_0x53da82(0x185)],'errors',_0x53da82(0x177),constants[_0x53da82(0x18a)][_0x53da82(0x191)]));}}const _0x4f8fda=this[_0x53da82(0x183)][_0x53da82(0x147)]['resolveRole'](_0x44e073[_0x53da82(0x155)],_0x349469[_0x53da82(0x17d)][_0x53da82(0x14e)]('\x20'));if(!_0x4f8fda)throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x53da82(0x164)],this[_0x53da82(0x183)][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073[_0x53da82(0x155)][_0x53da82(0x175)][_0x53da82(0x185)],'errors',_0x53da82(0x166)));await Role_1[_0x53da82(0x188)]['findByIdAndUpdate'](_0x4f8fda['id'],{'_id':_0x4f8fda['id'],'guild':_0x44e073[_0x53da82(0x155)]['id'],'selfAssignable':!![]},{'upsert':!![]}),await _0x44e073[_0x53da82(0x171)][_0x53da82(0x190)]({'embed':{'color':tesseract_1['Constants'][_0x53da82(0x149)][_0x53da82(0x146)],'description':this[_0x53da82(0x183)][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073['guild'][_0x53da82(0x175)][_0x53da82(0x185)],_0x53da82(0x170),_0x53da82(0x157),_0x44e073[_0x53da82(0x17c)][_0x53da82(0x16a)],_0x4f8fda[_0x53da82(0x16c)]),'footer':{'text':_0x4f8fda['id']}}})[_0x53da82(0x184)](()=>{});}else{if(_0x349469[_0x53da82(0x186)]){const _0x50d4cc=this['client'][_0x53da82(0x147)][_0x53da82(0x153)](_0x44e073[_0x53da82(0x155)],_0x349469[_0x53da82(0x186)][_0x53da82(0x14e)]('\x20'));if(!_0x50d4cc)throw new errors['DiscordError'](errors[_0x53da82(0x152)][_0x53da82(0x164)],this[_0x53da82(0x183)][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073[_0x53da82(0x155)][_0x53da82(0x175)][_0x53da82(0x185)],_0x53da82(0x18b),'roleNotFound'));await Role_1[_0x53da82(0x188)]['findByIdAndUpdate'](_0x50d4cc['id'],{'$unset':{'selfAssignable':0x1}}),await _0x44e073[_0x53da82(0x171)]['send']({'embed':{'color':tesseract_1[_0x53da82(0x159)]['COLORS'][_0x53da82(0x18d)],'description':this['client'][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073[_0x53da82(0x155)][_0x53da82(0x175)][_0x53da82(0x185)],'info',_0x53da82(0x165),_0x44e073[_0x53da82(0x17c)]['tag'],_0x50d4cc[_0x53da82(0x16c)]),'footer':{'text':_0x50d4cc['id']}}})['catch'](()=>{});}else{const _0x5233ea=await Role_1[_0x53da82(0x188)][_0x53da82(0x181)]({'guild':_0x44e073['guild']['id'],'selfAssignable':!![]});if(!_0x5233ea[_0x53da82(0x15f)])throw new Error(this[_0x53da82(0x183)][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073[_0x53da82(0x155)][_0x53da82(0x175)][_0x53da82(0x185)],_0x53da82(0x18b),_0x53da82(0x15d)));const _0x12de92=[];for(const _0x4d72b5 of _0x5233ea){!_0x44e073[_0x53da82(0x155)][_0x53da82(0x178)][_0x53da82(0x162)][_0x53da82(0x189)](_0x4d72b5['_id'])&&await _0x4d72b5[_0x53da82(0x186)]()[_0x53da82(0x184)](()=>{}),_0x12de92[_0x53da82(0x14d)]({'name':_0x44e073[_0x53da82(0x155)][_0x53da82(0x178)][_0x53da82(0x162)]['get'](_0x4d72b5[_0x53da82(0x14b)])[_0x53da82(0x16c)]||'-','value':_0x4d72b5[_0x53da82(0x14b)]});}await _0x44e073['channel'][_0x53da82(0x190)]({'embed':{'color':tesseract_1[_0x53da82(0x159)][_0x53da82(0x149)][_0x53da82(0x145)],'title':_0x53da82(0x148),'description':this['client'][_0x53da82(0x18c)][_0x53da82(0x169)](_0x44e073['guild'][_0x53da82(0x175)][_0x53da82(0x185)],_0x53da82(0x170),_0x53da82(0x15e)),'fields':_0x12de92}})['catch'](()=>{});}}};};