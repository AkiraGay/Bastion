const a16_0x5e33=['tag','noAutoRoles','\x20/\x20BOTS','push','autoRoles\x20--remove\x20ROLE','_id','autoRolesList','Constants','GOLD','resolveRole','autoRoles\x20--add\x20ROLE\x20--user','toUpperCase','send','errors','author','For\x20Bots','Command','toString','guild','findByIdAndUpdate','PREMIUM_MEMBERSHIP_REQUIRED','LIMITS','forUsers','fetchPremiumTier','document','\x20/\x20HUMANS','LIMITED_PREMIUM_MEMBERSHIP','test','bot','../../utils/constants','../../models/Role','PremiumTier','resolver','DiscordError','locale','roleNotFound','exports','AUTO_ROLES','BASTION_ERROR_TYPE','roles','client','For\x20Humans','has','add','autoRoles\x20--add\x20ROLE\x20--bot','catch','premiumAutoRoles','@bastion/tesseract','language','membershipLimitAutoRoles','MANAGE_ROLES','user','channel','remove','../../utils/errors','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','name','../../utils/omnic','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','forBots','autoAssignable','default','RED','PLATINUM','getString','ROLE_NOT_FOUND','find','get','info','COLORS','join'];(function(_0x26e5fd,_0x5e339f){const _0x239d46=function(_0x384608){while(--_0x384608){_0x26e5fd['push'](_0x26e5fd['shift']());}};const _0x3e3d1d=function(){const _0x327892={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x47ab8a,_0x4f6abb,_0x6267a9,_0xef25b6){_0xef25b6=_0xef25b6||{};let _0x3eee98=_0x4f6abb+'='+_0x6267a9;let _0x15efcf=0x0;for(let _0x136e64=0x0,_0x137812=_0x47ab8a['length'];_0x136e64<_0x137812;_0x136e64++){const _0x40be77=_0x47ab8a[_0x136e64];_0x3eee98+=';\x20'+_0x40be77;const _0x31a594=_0x47ab8a[_0x40be77];_0x47ab8a['push'](_0x31a594);_0x137812=_0x47ab8a['length'];if(_0x31a594!==!![]){_0x3eee98+='='+_0x31a594;}}_0xef25b6['cookie']=_0x3eee98;},'removeCookie':function(){return'dev';},'getCookie':function(_0x418d9f,_0x4d1a95){_0x418d9f=_0x418d9f||function(_0x407656){return _0x407656;};const _0x232f1e=_0x418d9f(new RegExp('(?:^|;\x20)'+_0x4d1a95['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5e42e2=function(_0x4b924f,_0x1978f7){_0x4b924f(++_0x1978f7);};_0x5e42e2(_0x239d46,_0x5e339f);return _0x232f1e?decodeURIComponent(_0x232f1e[0x1]):undefined;}};const _0x2dafa2=function(){const _0x2103dc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2103dc['test'](_0x327892['removeCookie']['toString']());};_0x327892['updateCookie']=_0x2dafa2;let _0x48ebef='';const _0x4dbc96=_0x327892['updateCookie']();if(!_0x4dbc96){_0x327892['setCookie'](['*'],'counter',0x1);}else if(_0x4dbc96){_0x48ebef=_0x327892['getCookie'](null,'counter');}else{_0x327892['removeCookie']();}};_0x3e3d1d();}(a16_0x5e33,0x107));const a16_0x239d=function(_0x26e5fd,_0x5e339f){_0x26e5fd=_0x26e5fd-0x0;let _0x239d46=a16_0x5e33[_0x26e5fd];return _0x239d46;};const a16_0x327892=function(){let _0x2d1c38=!![];return function(_0x515a8b,_0x1ddef0){const _0x5407a5=_0x2d1c38?function(){if(_0x1ddef0){const _0x52d7b1=_0x1ddef0['apply'](_0x515a8b,arguments);_0x1ddef0=null;return _0x52d7b1;}}:function(){};_0x2d1c38=![];return _0x5407a5;};}();const a16_0x384608=a16_0x327892(this,function(){const _0xe575e1=function(){const _0x41411a=_0xe575e1['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a16_0x239d('0x8'));return!_0x41411a[a16_0x239d('0x30')](a16_0x384608);};return _0xe575e1();});a16_0x384608();'use strict';const tesseract_1=require(a16_0x239d('0x44'));const Role_1=require(a16_0x239d('0x33'));const constants=require(a16_0x239d('0x32'));const errors=require(a16_0x239d('0x4'));const omnic=require(a16_0x239d('0x7'));module[a16_0x239d('0x39')]=class AutoRoles extends tesseract_1[a16_0x239d('0x25')]{constructor(){super('autoRoles',{'description':a16_0x239d('0x5'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':['add',a16_0x239d('0x3')],'boolean':['bot',a16_0x239d('0x1')],'string':[a16_0x239d('0x40'),a16_0x239d('0x3')]},'scope':a16_0x239d('0x27'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a16_0x239d('0x0')],'userPermissions':[a16_0x239d('0x0')],'syntax':['autoRoles','autoRoles\x20--add\x20ROLE',a16_0x239d('0x41'),a16_0x239d('0x1f'),a16_0x239d('0x19')]});this['exec']=async(_0x1cac4d,_0x203afd)=>{if(_0x203afd[a16_0x239d('0x40')]){if(constants['isPublicBastion'](this[a16_0x239d('0x3d')][a16_0x239d('0x1')])){const _0x4ed285=await Role_1[a16_0x239d('0xb')]['countDocuments']({'guild':_0x1cac4d[a16_0x239d('0x27')]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x4ed285>=constants['LIMITS'][a16_0x239d('0x3a')]){const _0x4c9463=await omnic[a16_0x239d('0x2c')](_0x1cac4d[a16_0x239d('0x27')])['catch'](()=>{});if(_0x4c9463){if(_0x4c9463===omnic[a16_0x239d('0x34')][a16_0x239d('0x1d')]&&_0x4ed285>=constants[a16_0x239d('0x2a')][a16_0x239d('0x1d')][a16_0x239d('0x3a')]){throw new errors[(a16_0x239d('0x36'))](errors[a16_0x239d('0x3b')][a16_0x239d('0x2f')],this[a16_0x239d('0x3d')]['locale']['getString'](_0x1cac4d[a16_0x239d('0x27')][a16_0x239d('0x2d')]['language'],a16_0x239d('0x22'),a16_0x239d('0x46'),constants['LIMITS'][a16_0x239d('0x1d')][a16_0x239d('0x3a')]));}else if(_0x4c9463===omnic[a16_0x239d('0x34')][a16_0x239d('0xd')]&&_0x4ed285>=constants[a16_0x239d('0x2a')][a16_0x239d('0xd')][a16_0x239d('0x3a')]){throw new errors['DiscordError'](errors[a16_0x239d('0x3b')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a16_0x239d('0x3d')][a16_0x239d('0x37')][a16_0x239d('0xe')](_0x1cac4d[a16_0x239d('0x27')]['document'][a16_0x239d('0x45')],a16_0x239d('0x22'),'membershipLimitAutoRoles',constants[a16_0x239d('0x2a')]['PLATINUM'][a16_0x239d('0x3a')]));}}else{throw new errors[(a16_0x239d('0x36'))](errors[a16_0x239d('0x3b')][a16_0x239d('0x29')],this[a16_0x239d('0x3d')][a16_0x239d('0x37')]['getString'](_0x1cac4d[a16_0x239d('0x27')][a16_0x239d('0x2d')][a16_0x239d('0x45')],a16_0x239d('0x22'),a16_0x239d('0x43'),constants['LIMITS'][a16_0x239d('0x3a')]));}}}const _0x36472d=this[a16_0x239d('0x3d')][a16_0x239d('0x35')]['resolveRole'](_0x1cac4d[a16_0x239d('0x27')],_0x203afd[a16_0x239d('0x40')][a16_0x239d('0x14')]('\x20'));if(!_0x36472d)throw new errors['DiscordError'](errors[a16_0x239d('0x3b')]['ROLE_NOT_FOUND'],this[a16_0x239d('0x3d')][a16_0x239d('0x37')][a16_0x239d('0xe')](_0x1cac4d['guild'][a16_0x239d('0x2d')][a16_0x239d('0x45')],a16_0x239d('0x22'),a16_0x239d('0x38')));const _0x448e14=!(Number(_0x203afd[a16_0x239d('0x31')])^Number(_0x203afd['user']))||_0x203afd[a16_0x239d('0x31')]||![];const _0x3677c3=!(Number(_0x203afd['bot'])^Number(_0x203afd[a16_0x239d('0x1')]))||_0x203afd[a16_0x239d('0x1')]||![];await Role_1[a16_0x239d('0xb')][a16_0x239d('0x28')](_0x36472d['id'],{'_id':_0x36472d['id'],'guild':_0x1cac4d[a16_0x239d('0x27')]['id'],'autoAssignable':{'forBots':_0x448e14,'forUsers':_0x3677c3}},{'upsert':!![]});await _0x1cac4d['channel'][a16_0x239d('0x21')]({'embed':{'color':tesseract_1[a16_0x239d('0x1c')][a16_0x239d('0x13')]['GREEN'],'description':this[a16_0x239d('0x3d')][a16_0x239d('0x37')]['getString'](_0x1cac4d[a16_0x239d('0x27')][a16_0x239d('0x2d')][a16_0x239d('0x45')],a16_0x239d('0x12'),'autoRolesAdd',_0x1cac4d[a16_0x239d('0x23')]['tag'],_0x36472d[a16_0x239d('0x6')]),'fields':[{'name':a16_0x239d('0x24'),'value':_0x448e14[a16_0x239d('0x26')]()[a16_0x239d('0x20')](),'inline':!![]},{'name':a16_0x239d('0x3e'),'value':_0x3677c3['toString']()[a16_0x239d('0x20')](),'inline':!![]}],'footer':{'text':_0x36472d['id']}}})[a16_0x239d('0x42')](()=>{});}else if(_0x203afd['remove']){const _0x29c2b0=this[a16_0x239d('0x3d')][a16_0x239d('0x35')][a16_0x239d('0x1e')](_0x1cac4d[a16_0x239d('0x27')],_0x203afd[a16_0x239d('0x3')]['join']('\x20'));if(!_0x29c2b0)throw new errors['DiscordError'](errors[a16_0x239d('0x3b')][a16_0x239d('0xf')],this['client'][a16_0x239d('0x37')][a16_0x239d('0xe')](_0x1cac4d[a16_0x239d('0x27')]['document'][a16_0x239d('0x45')],a16_0x239d('0x22'),a16_0x239d('0x38')));await Role_1[a16_0x239d('0xb')][a16_0x239d('0x28')](_0x29c2b0['id'],{'$unset':{'autoAssignable':0x1}});await _0x1cac4d[a16_0x239d('0x2')][a16_0x239d('0x21')]({'embed':{'color':tesseract_1[a16_0x239d('0x1c')][a16_0x239d('0x13')][a16_0x239d('0xc')],'description':this['client'][a16_0x239d('0x37')][a16_0x239d('0xe')](_0x1cac4d['guild'][a16_0x239d('0x2d')]['language'],'info','autoRolesRemove',_0x1cac4d[a16_0x239d('0x23')][a16_0x239d('0x15')],_0x29c2b0[a16_0x239d('0x6')]),'footer':{'text':_0x29c2b0['id']}}})[a16_0x239d('0x42')](()=>{});}else{const _0x1463f7=await Role_1[a16_0x239d('0xb')][a16_0x239d('0x10')]({'guild':_0x1cac4d[a16_0x239d('0x27')]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x1463f7['length']){throw new Error(this[a16_0x239d('0x3d')][a16_0x239d('0x37')][a16_0x239d('0xe')](_0x1cac4d[a16_0x239d('0x27')][a16_0x239d('0x2d')][a16_0x239d('0x45')],a16_0x239d('0x22'),a16_0x239d('0x16')));}const _0x36384f=[];for(const _0x24dd5 of _0x1463f7){if(!_0x1cac4d['guild'][a16_0x239d('0x3c')]['cache'][a16_0x239d('0x3f')](_0x24dd5['_id'])){await _0x24dd5[a16_0x239d('0x3')]()['catch'](()=>{});}_0x36384f[a16_0x239d('0x18')]({'name':_0x1cac4d[a16_0x239d('0x27')][a16_0x239d('0x3c')]['cache'][a16_0x239d('0x11')](_0x24dd5[a16_0x239d('0x1a')])['name']||'-','value':_0x24dd5[a16_0x239d('0x1a')]+(Number(_0x24dd5[a16_0x239d('0xa')][a16_0x239d('0x9')])^Number(_0x24dd5['autoAssignable'][a16_0x239d('0x2b')])&&_0x24dd5['autoAssignable'][a16_0x239d('0x9')]?a16_0x239d('0x17'):'')+(Number(_0x24dd5['autoAssignable']['forBots'])^Number(_0x24dd5[a16_0x239d('0xa')]['forUsers'])&&_0x24dd5['autoAssignable'][a16_0x239d('0x2b')]?a16_0x239d('0x2e'):'')});}await _0x1cac4d[a16_0x239d('0x2')]['send']({'embed':{'color':tesseract_1[a16_0x239d('0x1c')][a16_0x239d('0x13')]['IRIS'],'title':'Auto\x20Roles','description':this['client'][a16_0x239d('0x37')][a16_0x239d('0xe')](_0x1cac4d[a16_0x239d('0x27')][a16_0x239d('0x2d')][a16_0x239d('0x45')],a16_0x239d('0x12'),a16_0x239d('0x1b')),'fields':_0x36384f}})[a16_0x239d('0x42')](()=>{});}};}};