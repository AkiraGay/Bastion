const a16_0x1517=['errors','AUTO_ROLES','_id','PremiumTier','GOLD','../../models/Role','length','toString','locale','autoRoles','../../utils/errors','isPublicBastion','document','apply','author','test','roleNotFound','MANAGE_ROLES','forBots','noAutoRoles','../../utils/constants','forUsers','catch','membershipLimitAutoRoles','autoRolesList','guild','Command','channel','toUpperCase','For\x20Bots','tag','autoRolesAdd','For\x20Humans','\x20/\x20HUMANS','findByIdAndUpdate','default','autoRoles\x20--add\x20ROLE\x20--bot','PLATINUM','COLORS','BASTION_ERROR_TYPE','IRIS','info','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Constants','resolver','add','get','push','autoRoles\x20--add\x20ROLE','exec','resolveRole','constructor','client','bot','getString','join','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','../../utils/omnic','name','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','roles','ROLE_NOT_FOUND','DiscordError','compile','exports','@bastion/tesseract','\x20/\x20BOTS','user','send','language','fetchPremiumTier','autoAssignable','LIMITS','countDocuments','remove'];(function(_0x52b37b,_0x15172a){const _0x19f1c3=function(_0x28c733){while(--_0x28c733){_0x52b37b['push'](_0x52b37b['shift']());}};const _0x237865=function(){const _0x5a384a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x15f0d7,_0x250803,_0x118910,_0x1004ee){_0x1004ee=_0x1004ee||{};let _0x12f059=_0x250803+'='+_0x118910;let _0x29353c=0x0;for(let _0xf67ba6=0x0,_0x33f216=_0x15f0d7['length'];_0xf67ba6<_0x33f216;_0xf67ba6++){const _0x2cd725=_0x15f0d7[_0xf67ba6];_0x12f059+=';\x20'+_0x2cd725;const _0x12fd2a=_0x15f0d7[_0x2cd725];_0x15f0d7['push'](_0x12fd2a);_0x33f216=_0x15f0d7['length'];if(_0x12fd2a!==!![]){_0x12f059+='='+_0x12fd2a;}}_0x1004ee['cookie']=_0x12f059;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2bcd92,_0x17c5ec){_0x2bcd92=_0x2bcd92||function(_0x4f7789){return _0x4f7789;};const _0x2d6932=_0x2bcd92(new RegExp('(?:^|;\x20)'+_0x17c5ec['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4aa935=function(_0x43a31e,_0x4bf22d){_0x43a31e(++_0x4bf22d);};_0x4aa935(_0x19f1c3,_0x15172a);return _0x2d6932?decodeURIComponent(_0x2d6932[0x1]):undefined;}};const _0x41f91c=function(){const _0x216cfe=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x216cfe['test'](_0x5a384a['removeCookie']['toString']());};_0x5a384a['updateCookie']=_0x41f91c;let _0x43af1b='';const _0x456c50=_0x5a384a['updateCookie']();if(!_0x456c50){_0x5a384a['setCookie'](['*'],'counter',0x1);}else if(_0x456c50){_0x43af1b=_0x5a384a['getCookie'](null,'counter');}else{_0x5a384a['removeCookie']();}};_0x237865();}(a16_0x1517,0x1bf));const a16_0x19f1=function(_0x52b37b,_0x15172a){_0x52b37b=_0x52b37b-0x0;let _0x19f1c3=a16_0x1517[_0x52b37b];return _0x19f1c3;};const a16_0x5a384a=function(){let _0x2769bb=!![];return function(_0x295a6b,_0x549acb){const _0x38c87a=_0x2769bb?function(){if(_0x549acb){const _0x30d8de=_0x549acb[a16_0x19f1('0x10')](_0x295a6b,arguments);_0x549acb=null;return _0x30d8de;}}:function(){};_0x2769bb=![];return _0x38c87a;};}();const a16_0x28c733=a16_0x5a384a(this,function(){const _0x1ed47d=function(){const _0x1ab912=_0x1ed47d[a16_0x19f1('0x36')](a16_0x19f1('0x2d'))()[a16_0x19f1('0x42')](a16_0x19f1('0x3e'));return!_0x1ab912[a16_0x19f1('0x12')](a16_0x28c733);};return _0x1ed47d();});a16_0x28c733();'use strict';const tesseract_1=require(a16_0x19f1('0x44'));const Role_1=require(a16_0x19f1('0x8'));const constants=require(a16_0x19f1('0x17'));const errors=require(a16_0x19f1('0xd'));const omnic=require(a16_0x19f1('0x3c'));module[a16_0x19f1('0x43')]=class AutoRoles extends tesseract_1[a16_0x19f1('0x1d')]{constructor(){super(a16_0x19f1('0xc'),{'description':a16_0x19f1('0x3b'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':['add','remove'],'boolean':[a16_0x19f1('0x38'),'user'],'string':[a16_0x19f1('0x30'),a16_0x19f1('0x2')]},'scope':a16_0x19f1('0x1c'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a16_0x19f1('0x14')],'userPermissions':['MANAGE_ROLES'],'syntax':['autoRoles',a16_0x19f1('0x33'),a16_0x19f1('0x27'),'autoRoles\x20--add\x20ROLE\x20--user','autoRoles\x20--remove\x20ROLE']});this[a16_0x19f1('0x34')]=async(_0x3f2d95,_0x13a447)=>{if(_0x13a447[a16_0x19f1('0x30')]){if(constants[a16_0x19f1('0xe')](this[a16_0x19f1('0x37')][a16_0x19f1('0x46')])){const _0x3d7e5c=await Role_1[a16_0x19f1('0x26')][a16_0x19f1('0x1')]({'guild':_0x3f2d95[a16_0x19f1('0x1c')]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x3d7e5c>=constants[a16_0x19f1('0x0')][a16_0x19f1('0x4')]){const _0x1c298e=await omnic[a16_0x19f1('0x49')](_0x3f2d95[a16_0x19f1('0x1c')])[a16_0x19f1('0x19')](()=>{});if(_0x1c298e){if(_0x1c298e===omnic[a16_0x19f1('0x6')][a16_0x19f1('0x7')]&&_0x3d7e5c>=constants[a16_0x19f1('0x0')][a16_0x19f1('0x7')][a16_0x19f1('0x4')]){throw new errors[(a16_0x19f1('0x41'))](errors[a16_0x19f1('0x2a')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a16_0x19f1('0x37')][a16_0x19f1('0xb')]['getString'](_0x3f2d95[a16_0x19f1('0x1c')][a16_0x19f1('0xf')][a16_0x19f1('0x48')],a16_0x19f1('0x3'),a16_0x19f1('0x1a'),constants['LIMITS'][a16_0x19f1('0x7')][a16_0x19f1('0x4')]));}else if(_0x1c298e===omnic[a16_0x19f1('0x6')]['PLATINUM']&&_0x3d7e5c>=constants[a16_0x19f1('0x0')][a16_0x19f1('0x28')][a16_0x19f1('0x4')]){throw new errors[(a16_0x19f1('0x41'))](errors[a16_0x19f1('0x2a')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a16_0x19f1('0x37')][a16_0x19f1('0xb')]['getString'](_0x3f2d95[a16_0x19f1('0x1c')][a16_0x19f1('0xf')][a16_0x19f1('0x48')],a16_0x19f1('0x3'),a16_0x19f1('0x1a'),constants[a16_0x19f1('0x0')][a16_0x19f1('0x28')][a16_0x19f1('0x4')]));}}else{throw new errors['DiscordError'](errors[a16_0x19f1('0x2a')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a16_0x19f1('0x37')][a16_0x19f1('0xb')][a16_0x19f1('0x39')](_0x3f2d95[a16_0x19f1('0x1c')]['document']['language'],a16_0x19f1('0x3'),'premiumAutoRoles',constants[a16_0x19f1('0x0')][a16_0x19f1('0x4')]));}}}const _0x3f1b20=this[a16_0x19f1('0x37')][a16_0x19f1('0x2f')][a16_0x19f1('0x35')](_0x3f2d95[a16_0x19f1('0x1c')],_0x13a447['add'][a16_0x19f1('0x3a')]('\x20'));if(!_0x3f1b20)throw new errors[(a16_0x19f1('0x41'))](errors[a16_0x19f1('0x2a')][a16_0x19f1('0x40')],this[a16_0x19f1('0x37')][a16_0x19f1('0xb')]['getString'](_0x3f2d95['guild'][a16_0x19f1('0xf')]['language'],a16_0x19f1('0x3'),a16_0x19f1('0x13')));const _0xad1be0=!(Number(_0x13a447[a16_0x19f1('0x38')])^Number(_0x13a447[a16_0x19f1('0x46')]))||_0x13a447['bot']||![];const _0x4209a1=!(Number(_0x13a447[a16_0x19f1('0x38')])^Number(_0x13a447[a16_0x19f1('0x46')]))||_0x13a447[a16_0x19f1('0x46')]||![];await Role_1['default'][a16_0x19f1('0x25')](_0x3f1b20['id'],{'_id':_0x3f1b20['id'],'guild':_0x3f2d95['guild']['id'],'autoAssignable':{'forBots':_0xad1be0,'forUsers':_0x4209a1}},{'upsert':!![]});await _0x3f2d95['channel'][a16_0x19f1('0x47')]({'embed':{'color':tesseract_1[a16_0x19f1('0x2e')][a16_0x19f1('0x29')]['GREEN'],'description':this[a16_0x19f1('0x37')][a16_0x19f1('0xb')][a16_0x19f1('0x39')](_0x3f2d95['guild'][a16_0x19f1('0xf')][a16_0x19f1('0x48')],a16_0x19f1('0x2c'),a16_0x19f1('0x22'),_0x3f2d95[a16_0x19f1('0x11')][a16_0x19f1('0x21')],_0x3f1b20[a16_0x19f1('0x3d')]),'fields':[{'name':a16_0x19f1('0x20'),'value':_0xad1be0[a16_0x19f1('0xa')]()['toUpperCase'](),'inline':!![]},{'name':a16_0x19f1('0x23'),'value':_0x4209a1[a16_0x19f1('0xa')]()[a16_0x19f1('0x1f')](),'inline':!![]}],'footer':{'text':_0x3f1b20['id']}}})[a16_0x19f1('0x19')](()=>{});}else if(_0x13a447[a16_0x19f1('0x2')]){const _0x3e26aa=this['client'][a16_0x19f1('0x2f')][a16_0x19f1('0x35')](_0x3f2d95[a16_0x19f1('0x1c')],_0x13a447[a16_0x19f1('0x2')][a16_0x19f1('0x3a')]('\x20'));if(!_0x3e26aa)throw new errors[(a16_0x19f1('0x41'))](errors['BASTION_ERROR_TYPE']['ROLE_NOT_FOUND'],this[a16_0x19f1('0x37')][a16_0x19f1('0xb')][a16_0x19f1('0x39')](_0x3f2d95['guild'][a16_0x19f1('0xf')]['language'],a16_0x19f1('0x3'),'roleNotFound'));await Role_1[a16_0x19f1('0x26')]['findByIdAndUpdate'](_0x3e26aa['id'],{'$unset':{'autoAssignable':0x1}});await _0x3f2d95[a16_0x19f1('0x1e')][a16_0x19f1('0x47')]({'embed':{'color':tesseract_1[a16_0x19f1('0x2e')][a16_0x19f1('0x29')]['RED'],'description':this[a16_0x19f1('0x37')]['locale'][a16_0x19f1('0x39')](_0x3f2d95[a16_0x19f1('0x1c')]['document'][a16_0x19f1('0x48')],a16_0x19f1('0x2c'),'autoRolesRemove',_0x3f2d95['author'][a16_0x19f1('0x21')],_0x3e26aa[a16_0x19f1('0x3d')]),'footer':{'text':_0x3e26aa['id']}}})[a16_0x19f1('0x19')](()=>{});}else{const _0x39e3f9=await Role_1[a16_0x19f1('0x26')]['find']({'guild':_0x3f2d95[a16_0x19f1('0x1c')]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x39e3f9[a16_0x19f1('0x9')]){throw new Error(this[a16_0x19f1('0x37')]['locale'][a16_0x19f1('0x39')](_0x3f2d95['guild'][a16_0x19f1('0xf')][a16_0x19f1('0x48')],'errors',a16_0x19f1('0x16')));}const _0x38c104=[];for(const _0x34ff62 of _0x39e3f9){if(!_0x3f2d95[a16_0x19f1('0x1c')]['roles']['cache']['has'](_0x34ff62[a16_0x19f1('0x5')])){await _0x34ff62['remove']()[a16_0x19f1('0x19')](()=>{});}_0x38c104[a16_0x19f1('0x32')]({'name':_0x3f2d95[a16_0x19f1('0x1c')][a16_0x19f1('0x3f')]['cache'][a16_0x19f1('0x31')](_0x34ff62[a16_0x19f1('0x5')])['name']||'-','value':_0x34ff62[a16_0x19f1('0x5')]+(Number(_0x34ff62[a16_0x19f1('0x4a')]['forBots'])^Number(_0x34ff62[a16_0x19f1('0x4a')][a16_0x19f1('0x18')])&&_0x34ff62['autoAssignable']['forBots']?a16_0x19f1('0x45'):'')+(Number(_0x34ff62[a16_0x19f1('0x4a')][a16_0x19f1('0x15')])^Number(_0x34ff62[a16_0x19f1('0x4a')][a16_0x19f1('0x18')])&&_0x34ff62[a16_0x19f1('0x4a')][a16_0x19f1('0x18')]?a16_0x19f1('0x24'):'')});}await _0x3f2d95['channel'][a16_0x19f1('0x47')]({'embed':{'color':tesseract_1[a16_0x19f1('0x2e')][a16_0x19f1('0x29')][a16_0x19f1('0x2b')],'title':'Auto\x20Roles','description':this[a16_0x19f1('0x37')][a16_0x19f1('0xb')][a16_0x19f1('0x39')](_0x3f2d95[a16_0x19f1('0x1c')][a16_0x19f1('0xf')][a16_0x19f1('0x48')],'info',a16_0x19f1('0x1b')),'fields':_0x38c104}})[a16_0x19f1('0x19')](()=>{});}};}};