const a18_0x440b=['exports','resolver','Constants','isPublicBastion','getString','../../utils/omnic','@bastion/tesseract','PREMIUM_MEMBERSHIP_REQUIRED','RED','autoRolesRemove','BASTION_ERROR_TYPE','name','document','PLATINUM','toUpperCase','catch','countDocuments','add','errors','roleNotFound','For\x20Bots','bot','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','guild','LIMITED_PREMIUM_MEMBERSHIP','author','locale','PremiumTier','toString','COLORS','noAutoRoles','autoRoles\x20--remove\x20ROLE','length','autoRolesList','exec','MANAGE_ROLES','remove','autoRolesAdd','GREEN','default','AUTO_ROLES','client','ROLE_NOT_FOUND','user','roles','LIMITS','language','premiumAutoRoles','channel','info','\x20/\x20BOTS','resolveRole','cache','constructor','forBots','DiscordError','../../utils/errors','forUsers','has','../../utils/constants','membershipLimitAutoRoles','autoAssignable','tag','send','_id','For\x20Humans','GOLD','test','push','../../models/Role','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','findByIdAndUpdate','join'];(function(_0x2b307f,_0xc0dd8f){const _0x440b51=function(_0x31d2d5){while(--_0x31d2d5){_0x2b307f['push'](_0x2b307f['shift']());}},_0x461950=function(){const _0x19f15f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x312eac,_0x3bc5b5,_0x2148f5,_0x701906){_0x701906=_0x701906||{};let _0x2ffb59=_0x3bc5b5+'='+_0x2148f5,_0xa75922=0x0;for(let _0x39f8ad=0x0,_0x28c50b=_0x312eac['length'];_0x39f8ad<_0x28c50b;_0x39f8ad++){const _0x28c8b3=_0x312eac[_0x39f8ad];_0x2ffb59+=';\x20'+_0x28c8b3;const _0x4f77a0=_0x312eac[_0x28c8b3];_0x312eac['push'](_0x4f77a0),_0x28c50b=_0x312eac['length'],_0x4f77a0!==!![]&&(_0x2ffb59+='='+_0x4f77a0);}_0x701906['cookie']=_0x2ffb59;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4508fa,_0x1c49bf){_0x4508fa=_0x4508fa||function(_0x3d31cb){return _0x3d31cb;};const _0x1f4ce8=_0x4508fa(new RegExp('(?:^|;\x20)'+_0x1c49bf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x257604=function(_0x23e2a6,_0x246f27){_0x23e2a6(++_0x246f27);};return _0x257604(_0x440b51,_0xc0dd8f),_0x1f4ce8?decodeURIComponent(_0x1f4ce8[0x1]):undefined;}},_0x516058=function(){const _0x5d48aa=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5d48aa['test'](_0x19f15f['removeCookie']['toString']());};_0x19f15f['updateCookie']=_0x516058;let _0x4d4266='';const _0x450324=_0x19f15f['updateCookie']();if(!_0x450324)_0x19f15f['setCookie'](['*'],'counter',0x1);else _0x450324?_0x4d4266=_0x19f15f['getCookie'](null,'counter'):_0x19f15f['removeCookie']();};_0x461950();}(a18_0x440b,0xb9));const a18_0x4619=function(_0x2b307f,_0xc0dd8f){_0x2b307f=_0x2b307f-0xa7;let _0x440b51=a18_0x440b[_0x2b307f];return _0x440b51;};const _0x4dd3f4=a18_0x4619,a18_0x516058=function(){let _0x450324=!![];return function(_0x312eac,_0x3bc5b5){const _0x2148f5=_0x450324?function(){if(_0x3bc5b5){const _0x701906=_0x3bc5b5['apply'](_0x312eac,arguments);return _0x3bc5b5=null,_0x701906;}}:function(){};return _0x450324=![],_0x2148f5;};}(),a18_0x19f15f=a18_0x516058(this,function(){const _0x2ffb59=function(){const _0x4eb40c=a18_0x4619,_0xa75922=_0x2ffb59[_0x4eb40c(0xb5)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x4eb40c(0xb5)](_0x4eb40c(0xdf));return!_0xa75922[_0x4eb40c(0xc3)](a18_0x19f15f);};return _0x2ffb59();});a18_0x19f15f();'use strict';const tesseract_1=require(_0x4dd3f4(0xcf)),Role_1=require(_0x4dd3f4(0xc5)),constants=require(_0x4dd3f4(0xbb)),errors=require(_0x4dd3f4(0xb8)),omnic=require(_0x4dd3f4(0xce));module[_0x4dd3f4(0xc9)]=class AutoRoles extends tesseract_1['Command']{constructor(){const _0x2d0737=_0x4dd3f4;super('autoRoles',{'description':_0x2d0737(0xc6),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[_0x2d0737(0xda),'remove'],'boolean':[_0x2d0737(0xde),'user'],'string':[_0x2d0737(0xda),_0x2d0737(0xed)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x2d0737(0xec)],'userPermissions':[_0x2d0737(0xec)],'syntax':['autoRoles','autoRoles\x20--add\x20ROLE','autoRoles\x20--add\x20ROLE\x20--bot','autoRoles\x20--add\x20ROLE\x20--user',_0x2d0737(0xe8)]}),this[_0x2d0737(0xeb)]=async(_0x39f8ad,_0x28c50b)=>{const _0x4b2631=_0x2d0737;if(_0x28c50b[_0x4b2631(0xda)]){if(constants[_0x4b2631(0xcc)](this['client']['user'])){const _0x1c49bf=await Role_1[_0x4b2631(0xa7)][_0x4b2631(0xd9)]({'guild':_0x39f8ad[_0x4b2631(0xe0)]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x1c49bf>=constants['LIMITS'][_0x4b2631(0xa8)]){const _0x1f4ce8=await omnic['fetchPremiumTier'](_0x39f8ad[_0x4b2631(0xe0)])['catch'](()=>{});if(_0x1f4ce8){if(_0x1f4ce8===omnic[_0x4b2631(0xe4)][_0x4b2631(0xc2)]&&_0x1c49bf>=constants[_0x4b2631(0xad)][_0x4b2631(0xc2)]['AUTO_ROLES'])throw new errors[(_0x4b2631(0xb7))](errors[_0x4b2631(0xd3)][_0x4b2631(0xe1)],this['client'][_0x4b2631(0xe3)]['getString'](_0x39f8ad[_0x4b2631(0xe0)]['document'][_0x4b2631(0xae)],_0x4b2631(0xdb),'membershipLimitAutoRoles',constants[_0x4b2631(0xad)][_0x4b2631(0xc2)][_0x4b2631(0xa8)]));else{if(_0x1f4ce8===omnic[_0x4b2631(0xe4)][_0x4b2631(0xd6)]&&_0x1c49bf>=constants['LIMITS'][_0x4b2631(0xd6)][_0x4b2631(0xa8)])throw new errors[(_0x4b2631(0xb7))](errors[_0x4b2631(0xd3)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x4b2631(0xa9)][_0x4b2631(0xe3)]['getString'](_0x39f8ad['guild'][_0x4b2631(0xd5)][_0x4b2631(0xae)],'errors',_0x4b2631(0xbc),constants[_0x4b2631(0xad)][_0x4b2631(0xd6)]['AUTO_ROLES']));}}else throw new errors[(_0x4b2631(0xb7))](errors[_0x4b2631(0xd3)][_0x4b2631(0xd0)],this[_0x4b2631(0xa9)][_0x4b2631(0xe3)][_0x4b2631(0xcd)](_0x39f8ad[_0x4b2631(0xe0)]['document'][_0x4b2631(0xae)],'errors',_0x4b2631(0xaf),constants[_0x4b2631(0xad)][_0x4b2631(0xa8)]));}}const _0x28c8b3=this['client'][_0x4b2631(0xca)]['resolveRole'](_0x39f8ad[_0x4b2631(0xe0)],_0x28c50b[_0x4b2631(0xda)]['join']('\x20'));if(!_0x28c8b3)throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['ROLE_NOT_FOUND'],this['client'][_0x4b2631(0xe3)][_0x4b2631(0xcd)](_0x39f8ad[_0x4b2631(0xe0)]['document'][_0x4b2631(0xae)],_0x4b2631(0xdb),_0x4b2631(0xdc)));const _0x4f77a0=!(Number(_0x28c50b['bot'])^Number(_0x28c50b['user']))||_0x28c50b[_0x4b2631(0xde)]||![],_0x4508fa=!(Number(_0x28c50b[_0x4b2631(0xde)])^Number(_0x28c50b[_0x4b2631(0xab)]))||_0x28c50b['user']||![];await Role_1['default'][_0x4b2631(0xc7)](_0x28c8b3['id'],{'_id':_0x28c8b3['id'],'guild':_0x39f8ad[_0x4b2631(0xe0)]['id'],'autoAssignable':{'forBots':_0x4f77a0,'forUsers':_0x4508fa}},{'upsert':!![]}),await _0x39f8ad[_0x4b2631(0xb0)][_0x4b2631(0xbf)]({'embed':{'color':tesseract_1[_0x4b2631(0xcb)][_0x4b2631(0xe6)][_0x4b2631(0xef)],'description':this[_0x4b2631(0xa9)][_0x4b2631(0xe3)]['getString'](_0x39f8ad[_0x4b2631(0xe0)][_0x4b2631(0xd5)][_0x4b2631(0xae)],'info',_0x4b2631(0xee),_0x39f8ad['author'][_0x4b2631(0xbe)],_0x28c8b3[_0x4b2631(0xd4)]),'fields':[{'name':_0x4b2631(0xdd),'value':_0x4f77a0[_0x4b2631(0xe5)]()[_0x4b2631(0xd7)](),'inline':!![]},{'name':_0x4b2631(0xc1),'value':_0x4508fa[_0x4b2631(0xe5)]()['toUpperCase'](),'inline':!![]}],'footer':{'text':_0x28c8b3['id']}}})[_0x4b2631(0xd8)](()=>{});}else{if(_0x28c50b[_0x4b2631(0xed)]){const _0x257604=this['client'][_0x4b2631(0xca)][_0x4b2631(0xb3)](_0x39f8ad['guild'],_0x28c50b['remove'][_0x4b2631(0xc8)]('\x20'));if(!_0x257604)throw new errors[(_0x4b2631(0xb7))](errors[_0x4b2631(0xd3)][_0x4b2631(0xaa)],this[_0x4b2631(0xa9)][_0x4b2631(0xe3)][_0x4b2631(0xcd)](_0x39f8ad[_0x4b2631(0xe0)]['document']['language'],'errors',_0x4b2631(0xdc)));await Role_1[_0x4b2631(0xa7)][_0x4b2631(0xc7)](_0x257604['id'],{'$unset':{'autoAssignable':0x1}}),await _0x39f8ad['channel']['send']({'embed':{'color':tesseract_1[_0x4b2631(0xcb)][_0x4b2631(0xe6)][_0x4b2631(0xd1)],'description':this['client'][_0x4b2631(0xe3)]['getString'](_0x39f8ad[_0x4b2631(0xe0)][_0x4b2631(0xd5)][_0x4b2631(0xae)],_0x4b2631(0xb1),_0x4b2631(0xd2),_0x39f8ad[_0x4b2631(0xe2)][_0x4b2631(0xbe)],_0x257604[_0x4b2631(0xd4)]),'footer':{'text':_0x257604['id']}}})['catch'](()=>{});}else{const _0x3d31cb=await Role_1[_0x4b2631(0xa7)]['find']({'guild':_0x39f8ad[_0x4b2631(0xe0)]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x3d31cb[_0x4b2631(0xe9)])throw new Error(this[_0x4b2631(0xa9)]['locale']['getString'](_0x39f8ad['guild'][_0x4b2631(0xd5)][_0x4b2631(0xae)],_0x4b2631(0xdb),_0x4b2631(0xe7)));const _0x23e2a6=[];for(const _0x246f27 of _0x3d31cb){!_0x39f8ad[_0x4b2631(0xe0)][_0x4b2631(0xac)][_0x4b2631(0xb4)][_0x4b2631(0xba)](_0x246f27[_0x4b2631(0xc0)])&&await _0x246f27['remove']()['catch'](()=>{}),_0x23e2a6[_0x4b2631(0xc4)]({'name':_0x39f8ad[_0x4b2631(0xe0)][_0x4b2631(0xac)][_0x4b2631(0xb4)]['get'](_0x246f27['_id'])[_0x4b2631(0xd4)]||'-','value':_0x246f27[_0x4b2631(0xc0)]+(Number(_0x246f27['autoAssignable'][_0x4b2631(0xb6)])^Number(_0x246f27[_0x4b2631(0xbd)][_0x4b2631(0xb9)])&&_0x246f27[_0x4b2631(0xbd)][_0x4b2631(0xb6)]?_0x4b2631(0xb2):'')+(Number(_0x246f27['autoAssignable']['forBots'])^Number(_0x246f27['autoAssignable']['forUsers'])&&_0x246f27[_0x4b2631(0xbd)][_0x4b2631(0xb9)]?'\x20/\x20HUMANS':'')});}await _0x39f8ad[_0x4b2631(0xb0)]['send']({'embed':{'color':tesseract_1[_0x4b2631(0xcb)][_0x4b2631(0xe6)]['IRIS'],'title':'Auto\x20Roles','description':this[_0x4b2631(0xa9)][_0x4b2631(0xe3)][_0x4b2631(0xcd)](_0x39f8ad[_0x4b2631(0xe0)]['document'][_0x4b2631(0xae)],_0x4b2631(0xb1),_0x4b2631(0xea)),'fields':_0x23e2a6}})['catch'](()=>{});}}};}};