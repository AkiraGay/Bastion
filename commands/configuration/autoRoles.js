const a18_0x1d77=['test','autoRolesRemove','language','autoRoles\x20--add\x20ROLE\x20--bot','length','cache','resolver','errors','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','get','default','Constants','MANAGE_ROLES','_id','../../utils/errors','autoRoles\x20--add\x20ROLE','Auto\x20Roles','isPublicBastion','findByIdAndUpdate','exports','autoRoles\x20--remove\x20ROLE','name','PREMIUM_MEMBERSHIP_REQUIRED','countDocuments','\x20/\x20HUMANS','client','For\x20Bots','ROLE_NOT_FOUND','has','user','COLORS','author','@bastion/tesseract','toUpperCase','PLATINUM','autoRoles\x20--add\x20ROLE\x20--user','DiscordError','remove','getString','For\x20Humans','find','GOLD','tag','add','AUTO_ROLES','bot','noAutoRoles','roleNotFound','LIMITED_PREMIUM_MEMBERSHIP','autoRolesAdd','constructor','forUsers','membershipLimitAutoRoles','../../utils/omnic','IRIS','premiumAutoRoles','apply','roles','return\x20/\x22\x20+\x20this\x20+\x20\x22/','document','BASTION_ERROR_TYPE','send','locale','forBots','autoAssignable','LIMITS','autoRoles','../../utils/constants','channel','info','push','resolveRole','../../models/Role','catch','toString','guild','PremiumTier'];(function(_0x54cf12,_0x99b779){const _0x1d7731=function(_0x5bfa73){while(--_0x5bfa73){_0x54cf12['push'](_0x54cf12['shift']());}},_0x156ac4=function(){const _0xb0e701={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x20d4b1,_0x2786c8,_0x34fa4f,_0x595938){_0x595938=_0x595938||{};let _0x2fc564=_0x2786c8+'='+_0x34fa4f,_0x210e5d=0x0;for(let _0x44647b=0x0,_0x54f674=_0x20d4b1['length'];_0x44647b<_0x54f674;_0x44647b++){const _0x518c4b=_0x20d4b1[_0x44647b];_0x2fc564+=';\x20'+_0x518c4b;const _0x346106=_0x20d4b1[_0x518c4b];_0x20d4b1['push'](_0x346106),_0x54f674=_0x20d4b1['length'],_0x346106!==!![]&&(_0x2fc564+='='+_0x346106);}_0x595938['cookie']=_0x2fc564;},'removeCookie':function(){return'dev';},'getCookie':function(_0xadfa1,_0x349232){_0xadfa1=_0xadfa1||function(_0x4ae4c2){return _0x4ae4c2;};const _0x421443=_0xadfa1(new RegExp('(?:^|;\x20)'+_0x349232['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1a7a81=function(_0x129b5e,_0xb081bb){_0x129b5e(++_0xb081bb);};return _0x1a7a81(_0x1d7731,_0x99b779),_0x421443?decodeURIComponent(_0x421443[0x1]):undefined;}},_0x5cf0a3=function(){const _0x129278=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x129278['test'](_0xb0e701['removeCookie']['toString']());};_0xb0e701['updateCookie']=_0x5cf0a3;let _0x44412a='';const _0x86ca2b=_0xb0e701['updateCookie']();if(!_0x86ca2b)_0xb0e701['setCookie'](['*'],'counter',0x1);else _0x86ca2b?_0x44412a=_0xb0e701['getCookie'](null,'counter'):_0xb0e701['removeCookie']();};_0x156ac4();}(a18_0x1d77,0x193));const a18_0x156a=function(_0x54cf12,_0x99b779){_0x54cf12=_0x54cf12-0x115;let _0x1d7731=a18_0x1d77[_0x54cf12];return _0x1d7731;};const a18_0x1cc4e4=a18_0x156a,a18_0x5cf0a3=function(){let _0x86ca2b=!![];return function(_0x20d4b1,_0x2786c8){const _0x34fa4f=_0x86ca2b?function(){const _0x563762=a18_0x156a;if(_0x2786c8){const _0x595938=_0x2786c8[_0x563762(0x13b)](_0x20d4b1,arguments);return _0x2786c8=null,_0x595938;}}:function(){};return _0x86ca2b=![],_0x34fa4f;};}(),a18_0xb0e701=a18_0x5cf0a3(this,function(){const _0x2fc564=function(){const _0x5ed330=a18_0x156a,_0x210e5d=_0x2fc564[_0x5ed330(0x135)](_0x5ed330(0x13d))()[_0x5ed330(0x135)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x210e5d[_0x5ed330(0x150)](a18_0xb0e701);};return _0x2fc564();});a18_0xb0e701();'use strict';const tesseract_1=require(a18_0x1cc4e4(0x123)),Role_1=require(a18_0x1cc4e4(0x14b)),constants=require(a18_0x1cc4e4(0x146)),errors=require(a18_0x1cc4e4(0x15e)),omnic=require(a18_0x1cc4e4(0x138));module[a18_0x1cc4e4(0x116)]=class AutoRoles extends tesseract_1['Command']{constructor(){const _0x4a14e3=a18_0x1cc4e4;super(_0x4a14e3(0x145),{'description':_0x4a14e3(0x158),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[_0x4a14e3(0x12e),_0x4a14e3(0x128)],'boolean':['bot',_0x4a14e3(0x120)],'string':[_0x4a14e3(0x12e),'remove']},'scope':_0x4a14e3(0x14e),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x4a14e3(0x15c)],'userPermissions':['MANAGE_ROLES'],'syntax':[_0x4a14e3(0x145),_0x4a14e3(0x15f),_0x4a14e3(0x153),_0x4a14e3(0x126),_0x4a14e3(0x117)]}),this['exec']=async(_0x44647b,_0x54f674)=>{const _0x3a4bb5=_0x4a14e3;if(_0x54f674['add']){if(constants[_0x3a4bb5(0x161)](this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x120)])){const _0x349232=await Role_1[_0x3a4bb5(0x15a)][_0x3a4bb5(0x11a)]({'guild':_0x44647b[_0x3a4bb5(0x14e)]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x349232>=constants['LIMITS'][_0x3a4bb5(0x12f)]){const _0x421443=await omnic['fetchPremiumTier'](_0x44647b[_0x3a4bb5(0x14e)])[_0x3a4bb5(0x14c)](()=>{});if(_0x421443){if(_0x421443===omnic[_0x3a4bb5(0x14f)][_0x3a4bb5(0x12c)]&&_0x349232>=constants[_0x3a4bb5(0x144)][_0x3a4bb5(0x12c)][_0x3a4bb5(0x12f)])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x3a4bb5(0x133)],this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)][_0x3a4bb5(0x129)](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x157),_0x3a4bb5(0x137),constants[_0x3a4bb5(0x144)][_0x3a4bb5(0x12c)][_0x3a4bb5(0x12f)]));else{if(_0x421443===omnic['PremiumTier'][_0x3a4bb5(0x125)]&&_0x349232>=constants[_0x3a4bb5(0x144)]['PLATINUM'][_0x3a4bb5(0x12f)])throw new errors[(_0x3a4bb5(0x127))](errors[_0x3a4bb5(0x13f)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x3a4bb5(0x11c)]['locale'][_0x3a4bb5(0x129)](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x157),_0x3a4bb5(0x137),constants[_0x3a4bb5(0x144)][_0x3a4bb5(0x125)][_0x3a4bb5(0x12f)]));}}else throw new errors[(_0x3a4bb5(0x127))](errors[_0x3a4bb5(0x13f)][_0x3a4bb5(0x119)],this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)][_0x3a4bb5(0x129)](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x157),_0x3a4bb5(0x13a),constants[_0x3a4bb5(0x144)][_0x3a4bb5(0x12f)]));}}const _0x518c4b=this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x156)][_0x3a4bb5(0x14a)](_0x44647b[_0x3a4bb5(0x14e)],_0x54f674[_0x3a4bb5(0x12e)]['join']('\x20'));if(!_0x518c4b)throw new errors[(_0x3a4bb5(0x127))](errors[_0x3a4bb5(0x13f)][_0x3a4bb5(0x11e)],this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)]['getString'](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x157),_0x3a4bb5(0x132)));const _0x346106=!(Number(_0x54f674[_0x3a4bb5(0x130)])^Number(_0x54f674[_0x3a4bb5(0x120)]))||_0x54f674[_0x3a4bb5(0x130)]||![],_0xadfa1=!(Number(_0x54f674[_0x3a4bb5(0x130)])^Number(_0x54f674[_0x3a4bb5(0x120)]))||_0x54f674[_0x3a4bb5(0x120)]||![];await Role_1[_0x3a4bb5(0x15a)][_0x3a4bb5(0x115)](_0x518c4b['id'],{'_id':_0x518c4b['id'],'guild':_0x44647b[_0x3a4bb5(0x14e)]['id'],'autoAssignable':{'forBots':_0x346106,'forUsers':_0xadfa1}},{'upsert':!![]}),await _0x44647b['channel'][_0x3a4bb5(0x140)]({'embed':{'color':tesseract_1[_0x3a4bb5(0x15b)][_0x3a4bb5(0x121)]['GREEN'],'description':this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)][_0x3a4bb5(0x129)](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],'info',_0x3a4bb5(0x134),_0x44647b[_0x3a4bb5(0x122)]['tag'],_0x518c4b['name']),'fields':[{'name':_0x3a4bb5(0x11d),'value':_0x346106[_0x3a4bb5(0x14d)]()[_0x3a4bb5(0x124)](),'inline':!![]},{'name':_0x3a4bb5(0x12a),'value':_0xadfa1[_0x3a4bb5(0x14d)]()[_0x3a4bb5(0x124)](),'inline':!![]}],'footer':{'text':_0x518c4b['id']}}})[_0x3a4bb5(0x14c)](()=>{});}else{if(_0x54f674[_0x3a4bb5(0x128)]){const _0x1a7a81=this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x156)]['resolveRole'](_0x44647b[_0x3a4bb5(0x14e)],_0x54f674[_0x3a4bb5(0x128)]['join']('\x20'));if(!_0x1a7a81)throw new errors[(_0x3a4bb5(0x127))](errors['BASTION_ERROR_TYPE'][_0x3a4bb5(0x11e)],this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)]['getString'](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x157),_0x3a4bb5(0x132)));await Role_1[_0x3a4bb5(0x15a)][_0x3a4bb5(0x115)](_0x1a7a81['id'],{'$unset':{'autoAssignable':0x1}}),await _0x44647b[_0x3a4bb5(0x147)]['send']({'embed':{'color':tesseract_1[_0x3a4bb5(0x15b)][_0x3a4bb5(0x121)]['RED'],'description':this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)][_0x3a4bb5(0x129)](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x148),_0x3a4bb5(0x151),_0x44647b[_0x3a4bb5(0x122)][_0x3a4bb5(0x12d)],_0x1a7a81['name']),'footer':{'text':_0x1a7a81['id']}}})[_0x3a4bb5(0x14c)](()=>{});}else{const _0x4ae4c2=await Role_1[_0x3a4bb5(0x15a)][_0x3a4bb5(0x12b)]({'guild':_0x44647b[_0x3a4bb5(0x14e)]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x4ae4c2[_0x3a4bb5(0x154)])throw new Error(this['client']['locale'][_0x3a4bb5(0x129)](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x157),_0x3a4bb5(0x131)));const _0x129b5e=[];for(const _0xb081bb of _0x4ae4c2){!_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13c)]['cache'][_0x3a4bb5(0x11f)](_0xb081bb[_0x3a4bb5(0x15d)])&&await _0xb081bb[_0x3a4bb5(0x128)]()['catch'](()=>{}),_0x129b5e[_0x3a4bb5(0x149)]({'name':_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13c)][_0x3a4bb5(0x155)][_0x3a4bb5(0x159)](_0xb081bb[_0x3a4bb5(0x15d)])[_0x3a4bb5(0x118)]||'-','value':_0xb081bb[_0x3a4bb5(0x15d)]+(Number(_0xb081bb[_0x3a4bb5(0x143)][_0x3a4bb5(0x142)])^Number(_0xb081bb[_0x3a4bb5(0x143)][_0x3a4bb5(0x136)])&&_0xb081bb[_0x3a4bb5(0x143)][_0x3a4bb5(0x142)]?'\x20/\x20BOTS':'')+(Number(_0xb081bb[_0x3a4bb5(0x143)][_0x3a4bb5(0x142)])^Number(_0xb081bb[_0x3a4bb5(0x143)][_0x3a4bb5(0x136)])&&_0xb081bb['autoAssignable']['forUsers']?_0x3a4bb5(0x11b):'')});}await _0x44647b[_0x3a4bb5(0x147)][_0x3a4bb5(0x140)]({'embed':{'color':tesseract_1[_0x3a4bb5(0x15b)][_0x3a4bb5(0x121)][_0x3a4bb5(0x139)],'title':_0x3a4bb5(0x160),'description':this[_0x3a4bb5(0x11c)][_0x3a4bb5(0x141)]['getString'](_0x44647b[_0x3a4bb5(0x14e)][_0x3a4bb5(0x13e)][_0x3a4bb5(0x152)],_0x3a4bb5(0x148),'autoRolesList'),'fields':_0x129b5e}})['catch'](()=>{});}}};}};