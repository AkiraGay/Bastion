const a16_0x1618=['document','LIMITS','fetchPremiumTier','COLORS','locale','PLATINUM','cache','MANAGE_ROLES','apply','GOLD','join','DiscordError','find','exec','bot','autoRoles\x20--remove\x20ROLE','getString','remove','author','send','roles','default','GREEN','resolver','forUsers','isPublicBastion','exports','forBots','toUpperCase','\x20/\x20BOTS','autoRolesAdd','test','Command','autoRoles\x20--add\x20ROLE\x20--user','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','_id','countDocuments','PremiumTier','../../utils/omnic','toString','errors','add','constructor','push','name','membershipLimitAutoRoles','autoRoles','guild','LIMITED_PREMIUM_MEMBERSHIP','user','language','return\x20/\x22\x20+\x20this\x20+\x20\x22/','noAutoRoles','tag','catch','AUTO_ROLES','roleNotFound','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Constants','resolveRole','RED','client','autoRolesList','findByIdAndUpdate','autoRolesRemove','info','PREMIUM_MEMBERSHIP_REQUIRED','has','BASTION_ERROR_TYPE','autoRoles\x20--add\x20ROLE\x20--bot','ROLE_NOT_FOUND','autoAssignable','channel'];(function(_0x122a05,_0x161879){const _0x40298f=function(_0x59f24b){while(--_0x59f24b){_0x122a05['push'](_0x122a05['shift']());}},_0x542aa5=function(){const _0x4a3366={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x526e4d,_0x2fea64,_0x578495,_0x570227){_0x570227=_0x570227||{};let _0x16016e=_0x2fea64+'='+_0x578495,_0x3001f0=0x0;for(let _0x190069=0x0,_0x65e017=_0x526e4d['length'];_0x190069<_0x65e017;_0x190069++){const _0x3fbd60=_0x526e4d[_0x190069];_0x16016e+=';\x20'+_0x3fbd60;const _0x22cd9f=_0x526e4d[_0x3fbd60];_0x526e4d['push'](_0x22cd9f),_0x65e017=_0x526e4d['length'],_0x22cd9f!==!![]&&(_0x16016e+='='+_0x22cd9f);}_0x570227['cookie']=_0x16016e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x590d5c,_0x550b4c){_0x590d5c=_0x590d5c||function(_0x290816){return _0x290816;};const _0x48386f=_0x590d5c(new RegExp('(?:^|;\x20)'+_0x550b4c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x56bfd7=function(_0xd63e13,_0x30a6d8){_0xd63e13(++_0x30a6d8);};return _0x56bfd7(_0x40298f,_0x161879),_0x48386f?decodeURIComponent(_0x48386f[0x1]):undefined;}},_0xb6f27f=function(){const _0x2841da=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2841da['test'](_0x4a3366['removeCookie']['toString']());};_0x4a3366['updateCookie']=_0xb6f27f;let _0x53252e='';const _0x554a44=_0x4a3366['updateCookie']();if(!_0x554a44)_0x4a3366['setCookie'](['*'],'counter',0x1);else _0x554a44?_0x53252e=_0x4a3366['getCookie'](null,'counter'):_0x4a3366['removeCookie']();};_0x542aa5();}(a16_0x1618,0xb0));const a16_0x4029=function(_0x122a05,_0x161879){_0x122a05=_0x122a05-0x0;let _0x40298f=a16_0x1618[_0x122a05];return _0x40298f;};const a16_0x578495=function(){let _0x1f5189=!![];return function(_0x5c3e4b,_0x5e7f7d){const _0x1de3eb=_0x1f5189?function(){if(_0x5e7f7d){const _0x291f64=_0x5e7f7d[a16_0x4029('0x33')](_0x5c3e4b,arguments);return _0x5e7f7d=null,_0x291f64;}}:function(){};return _0x1f5189=![],_0x1de3eb;};}(),a16_0x2fea64=a16_0x578495(this,function(){const _0x357651=function(){const _0x201eb3=_0x357651[a16_0x4029('0xc')](a16_0x4029('0x15'))()[a16_0x4029('0xc')](a16_0x4029('0x1b'));return!_0x201eb3[a16_0x4029('0x1')](a16_0x2fea64);};return _0x357651();});a16_0x2fea64();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require('../../models/Role'),constants=require('../../utils/constants'),errors=require('../../utils/errors'),omnic=require(a16_0x4029('0x8'));module[a16_0x4029('0x45')]=class AutoRoles extends tesseract_1[a16_0x4029('0x2')]{constructor(){super(a16_0x4029('0x10'),{'description':a16_0x4029('0x4'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[a16_0x4029('0xb'),'remove'],'boolean':[a16_0x4029('0x39'),a16_0x4029('0x13')],'string':[a16_0x4029('0xb'),'remove']},'scope':a16_0x4029('0x11'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a16_0x4029('0x32')],'userPermissions':[a16_0x4029('0x32')],'syntax':[a16_0x4029('0x10'),'autoRoles\x20--add\x20ROLE',a16_0x4029('0x27'),a16_0x4029('0x3'),a16_0x4029('0x3a')]}),this[a16_0x4029('0x38')]=async(_0x8334e9,_0x1ea222)=>{if(_0x1ea222[a16_0x4029('0xb')]){if(constants[a16_0x4029('0x44')](this[a16_0x4029('0x1f')][a16_0x4029('0x13')])){const _0x500b37=await Role_1[a16_0x4029('0x40')][a16_0x4029('0x6')]({'guild':_0x8334e9[a16_0x4029('0x11')]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x500b37>=constants[a16_0x4029('0x2c')][a16_0x4029('0x19')]){const _0x350076=await omnic[a16_0x4029('0x2d')](_0x8334e9[a16_0x4029('0x11')])[a16_0x4029('0x18')](()=>{});if(_0x350076){if(_0x350076===omnic[a16_0x4029('0x7')]['GOLD']&&_0x500b37>=constants[a16_0x4029('0x2c')][a16_0x4029('0x34')][a16_0x4029('0x19')])throw new errors[(a16_0x4029('0x36'))](errors[a16_0x4029('0x26')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a16_0x4029('0x1f')][a16_0x4029('0x2f')]['getString'](_0x8334e9['guild'][a16_0x4029('0x2b')][a16_0x4029('0x14')],a16_0x4029('0xa'),a16_0x4029('0xf'),constants['LIMITS'][a16_0x4029('0x34')][a16_0x4029('0x19')]));else{if(_0x350076===omnic[a16_0x4029('0x7')][a16_0x4029('0x30')]&&_0x500b37>=constants[a16_0x4029('0x2c')][a16_0x4029('0x30')][a16_0x4029('0x19')])throw new errors[(a16_0x4029('0x36'))](errors['BASTION_ERROR_TYPE'][a16_0x4029('0x12')],this['client'][a16_0x4029('0x2f')][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')][a16_0x4029('0x2b')][a16_0x4029('0x14')],a16_0x4029('0xa'),a16_0x4029('0xf'),constants['LIMITS'][a16_0x4029('0x30')][a16_0x4029('0x19')]));}}else throw new errors[(a16_0x4029('0x36'))](errors[a16_0x4029('0x26')][a16_0x4029('0x24')],this[a16_0x4029('0x1f')]['locale'][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')]['document']['language'],'errors','premiumAutoRoles',constants['LIMITS'][a16_0x4029('0x19')]));}}const _0x3eab29=this[a16_0x4029('0x1f')][a16_0x4029('0x42')][a16_0x4029('0x1d')](_0x8334e9['guild'],_0x1ea222['add'][a16_0x4029('0x35')]('\x20'));if(!_0x3eab29)throw new errors['DiscordError'](errors[a16_0x4029('0x26')]['ROLE_NOT_FOUND'],this[a16_0x4029('0x1f')][a16_0x4029('0x2f')][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')]['document']['language'],'errors',a16_0x4029('0x1a')));const _0x4d88a5=!(Number(_0x1ea222[a16_0x4029('0x39')])^Number(_0x1ea222[a16_0x4029('0x13')]))||_0x1ea222[a16_0x4029('0x39')]||![],_0x440131=!(Number(_0x1ea222[a16_0x4029('0x39')])^Number(_0x1ea222[a16_0x4029('0x13')]))||_0x1ea222[a16_0x4029('0x13')]||![];await Role_1[a16_0x4029('0x40')][a16_0x4029('0x21')](_0x3eab29['id'],{'_id':_0x3eab29['id'],'guild':_0x8334e9[a16_0x4029('0x11')]['id'],'autoAssignable':{'forBots':_0x4d88a5,'forUsers':_0x440131}},{'upsert':!![]}),await _0x8334e9[a16_0x4029('0x2a')][a16_0x4029('0x3e')]({'embed':{'color':tesseract_1[a16_0x4029('0x1c')]['COLORS'][a16_0x4029('0x41')],'description':this[a16_0x4029('0x1f')][a16_0x4029('0x2f')][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')][a16_0x4029('0x2b')]['language'],a16_0x4029('0x23'),a16_0x4029('0x0'),_0x8334e9[a16_0x4029('0x3d')][a16_0x4029('0x17')],_0x3eab29[a16_0x4029('0xe')]),'fields':[{'name':'For\x20Bots','value':_0x4d88a5[a16_0x4029('0x9')]()[a16_0x4029('0x47')](),'inline':!![]},{'name':'For\x20Humans','value':_0x440131[a16_0x4029('0x9')]()['toUpperCase'](),'inline':!![]}],'footer':{'text':_0x3eab29['id']}}})[a16_0x4029('0x18')](()=>{});}else{if(_0x1ea222['remove']){const _0x1673fd=this['client']['resolver'][a16_0x4029('0x1d')](_0x8334e9[a16_0x4029('0x11')],_0x1ea222[a16_0x4029('0x3c')]['join']('\x20'));if(!_0x1673fd)throw new errors[(a16_0x4029('0x36'))](errors[a16_0x4029('0x26')][a16_0x4029('0x28')],this['client'][a16_0x4029('0x2f')][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')][a16_0x4029('0x2b')][a16_0x4029('0x14')],a16_0x4029('0xa'),'roleNotFound'));await Role_1[a16_0x4029('0x40')]['findByIdAndUpdate'](_0x1673fd['id'],{'$unset':{'autoAssignable':0x1}}),await _0x8334e9['channel']['send']({'embed':{'color':tesseract_1['Constants'][a16_0x4029('0x2e')][a16_0x4029('0x1e')],'description':this[a16_0x4029('0x1f')]['locale'][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')]['document'][a16_0x4029('0x14')],a16_0x4029('0x23'),a16_0x4029('0x22'),_0x8334e9['author'][a16_0x4029('0x17')],_0x1673fd[a16_0x4029('0xe')]),'footer':{'text':_0x1673fd['id']}}})[a16_0x4029('0x18')](()=>{});}else{const _0x317c14=await Role_1[a16_0x4029('0x40')][a16_0x4029('0x37')]({'guild':_0x8334e9[a16_0x4029('0x11')]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x317c14['length'])throw new Error(this['client'][a16_0x4029('0x2f')][a16_0x4029('0x3b')](_0x8334e9[a16_0x4029('0x11')][a16_0x4029('0x2b')][a16_0x4029('0x14')],a16_0x4029('0xa'),a16_0x4029('0x16')));const _0x1e864f=[];for(const _0x365112 of _0x317c14){!_0x8334e9[a16_0x4029('0x11')]['roles'][a16_0x4029('0x31')][a16_0x4029('0x25')](_0x365112[a16_0x4029('0x5')])&&await _0x365112['remove']()[a16_0x4029('0x18')](()=>{}),_0x1e864f[a16_0x4029('0xd')]({'name':_0x8334e9[a16_0x4029('0x11')][a16_0x4029('0x3f')][a16_0x4029('0x31')]['get'](_0x365112[a16_0x4029('0x5')])[a16_0x4029('0xe')]||'-','value':_0x365112[a16_0x4029('0x5')]+(Number(_0x365112[a16_0x4029('0x29')][a16_0x4029('0x46')])^Number(_0x365112[a16_0x4029('0x29')][a16_0x4029('0x43')])&&_0x365112[a16_0x4029('0x29')][a16_0x4029('0x46')]?a16_0x4029('0x48'):'')+(Number(_0x365112[a16_0x4029('0x29')][a16_0x4029('0x46')])^Number(_0x365112[a16_0x4029('0x29')][a16_0x4029('0x43')])&&_0x365112[a16_0x4029('0x29')][a16_0x4029('0x43')]?'\x20/\x20HUMANS':'')});}await _0x8334e9[a16_0x4029('0x2a')]['send']({'embed':{'color':tesseract_1[a16_0x4029('0x1c')][a16_0x4029('0x2e')]['IRIS'],'title':'Auto\x20Roles','description':this[a16_0x4029('0x1f')]['locale']['getString'](_0x8334e9['guild'][a16_0x4029('0x2b')][a16_0x4029('0x14')],'info',a16_0x4029('0x20')),'fields':_0x1e864f}})[a16_0x4029('0x18')](()=>{});}}};}};