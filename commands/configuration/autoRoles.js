const a18_0x7545=['DiscordError','remove','catch','forUsers','autoAssignable','noAutoRoles','For\x20Humans','_id','get','MANAGE_ROLES','user','ROLE_NOT_FOUND','channel','Auto\x20Roles','author','findByIdAndUpdate','../../utils/omnic','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','premiumAutoRoles','COLORS','length','push','language','getString','../../models/Role','autoRolesAdd','exec','../../utils/errors','GREEN','Command','@bastion/tesseract','exports','BASTION_ERROR_TYPE','client','document','GOLD','PLATINUM','guild','autoRoles','isPublicBastion','apply','autoRoles\x20--remove\x20ROLE','Constants','resolver','IRIS','cache','resolveRole','has','autoRolesRemove','send','toUpperCase','autoRoles\x20--add\x20ROLE','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','add','roles','errors','join','countDocuments','PremiumTier','For\x20Bots','autoRolesList','find','roleNotFound','bot','tag','RED','fetchPremiumTier','\x20/\x20BOTS','info','name','constructor','autoRoles\x20--add\x20ROLE\x20--user','forBots','LIMITS','default','toString','LIMITED_PREMIUM_MEMBERSHIP','AUTO_ROLES','locale','return\x20/\x22\x20+\x20this\x20+\x20\x22/','test'];(function(_0x34f234,_0x1b6416){const _0x754584=function(_0x19e2b9){while(--_0x19e2b9){_0x34f234['push'](_0x34f234['shift']());}},_0x3eb24f=function(){const _0x57c7c9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5b5e6b,_0x4d80d8,_0x35c18a,_0x11e5c3){_0x11e5c3=_0x11e5c3||{};let _0x3a7406=_0x4d80d8+'='+_0x35c18a,_0x3a50f9=0x0;for(let _0x4658ee=0x0,_0x471c15=_0x5b5e6b['length'];_0x4658ee<_0x471c15;_0x4658ee++){const _0x5896df=_0x5b5e6b[_0x4658ee];_0x3a7406+=';\x20'+_0x5896df;const _0x2ce36f=_0x5b5e6b[_0x5896df];_0x5b5e6b['push'](_0x2ce36f),_0x471c15=_0x5b5e6b['length'],_0x2ce36f!==!![]&&(_0x3a7406+='='+_0x2ce36f);}_0x11e5c3['cookie']=_0x3a7406;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5a7492,_0x3cb340){_0x5a7492=_0x5a7492||function(_0x316bed){return _0x316bed;};const _0x3994dd=_0x5a7492(new RegExp('(?:^|;\x20)'+_0x3cb340['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2e11d0=function(_0x143ef8,_0x1684da){_0x143ef8(++_0x1684da);};return _0x2e11d0(_0x754584,_0x1b6416),_0x3994dd?decodeURIComponent(_0x3994dd[0x1]):undefined;}},_0x3632dc=function(){const _0x75534a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x75534a['test'](_0x57c7c9['removeCookie']['toString']());};_0x57c7c9['updateCookie']=_0x3632dc;let _0x8500d1='';const _0x5360a7=_0x57c7c9['updateCookie']();if(!_0x5360a7)_0x57c7c9['setCookie'](['*'],'counter',0x1);else _0x5360a7?_0x8500d1=_0x57c7c9['getCookie'](null,'counter'):_0x57c7c9['removeCookie']();};_0x3eb24f();}(a18_0x7545,0x163));const a18_0x3eb2=function(_0x34f234,_0x1b6416){_0x34f234=_0x34f234-0xd6;let _0x754584=a18_0x7545[_0x34f234];return _0x754584;};const a18_0x5f2bed=a18_0x3eb2,a18_0x3632dc=function(){let _0x5360a7=!![];return function(_0x5b5e6b,_0x4d80d8){const _0x35c18a=_0x5360a7?function(){const _0x1bfeed=a18_0x3eb2;if(_0x4d80d8){const _0x11e5c3=_0x4d80d8[_0x1bfeed(0xdf)](_0x5b5e6b,arguments);return _0x4d80d8=null,_0x11e5c3;}}:function(){};return _0x5360a7=![],_0x35c18a;};}(),a18_0x57c7c9=a18_0x3632dc(this,function(){const _0x3a7406=function(){const _0x4e5b7c=a18_0x3eb2,_0x3a50f9=_0x3a7406['constructor'](_0x4e5b7c(0x106))()[_0x4e5b7c(0xfd)](_0x4e5b7c(0x119));return!_0x3a50f9[_0x4e5b7c(0x107)](a18_0x57c7c9);};return _0x3a7406();});a18_0x57c7c9();'use strict';const tesseract_1=require(a18_0x5f2bed(0x126)),Role_1=require(a18_0x5f2bed(0x120)),constants=require('../../utils/constants'),errors=require(a18_0x5f2bed(0x123)),omnic=require(a18_0x5f2bed(0x118));module[a18_0x5f2bed(0xd6)]=class AutoRoles extends tesseract_1[a18_0x5f2bed(0x125)]{constructor(){const _0x69ad92=a18_0x5f2bed;super(_0x69ad92(0xdd),{'description':_0x69ad92(0xeb),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[_0x69ad92(0xec),_0x69ad92(0x109)],'boolean':['bot',_0x69ad92(0x112)],'string':['add','remove']},'scope':_0x69ad92(0xdc),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[_0x69ad92(0x111)],'syntax':[_0x69ad92(0xdd),_0x69ad92(0xea),'autoRoles\x20--add\x20ROLE\x20--bot',_0x69ad92(0xfe),_0x69ad92(0xe0)]}),this[_0x69ad92(0x122)]=async(_0x4658ee,_0x471c15)=>{const _0x244020=_0x69ad92;if(_0x471c15[_0x244020(0xec)]){if(constants[_0x244020(0xde)](this['client']['user'])){const _0x3cb340=await Role_1[_0x244020(0x101)][_0x244020(0xf0)]({'guild':_0x4658ee['guild']['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x3cb340>=constants[_0x244020(0x100)][_0x244020(0x104)]){const _0x3994dd=await omnic[_0x244020(0xf9)](_0x4658ee[_0x244020(0xdc)])['catch'](()=>{});if(_0x3994dd){if(_0x3994dd===omnic[_0x244020(0xf1)][_0x244020(0xda)]&&_0x3cb340>=constants[_0x244020(0x100)][_0x244020(0xda)][_0x244020(0x104)])throw new errors[(_0x244020(0x108))](errors['BASTION_ERROR_TYPE'][_0x244020(0x103)],this['client'][_0x244020(0x105)][_0x244020(0x11f)](_0x4658ee[_0x244020(0xdc)][_0x244020(0xd9)]['language'],_0x244020(0xee),'membershipLimitAutoRoles',constants[_0x244020(0x100)]['GOLD'][_0x244020(0x104)]));else{if(_0x3994dd===omnic[_0x244020(0xf1)][_0x244020(0xdb)]&&_0x3cb340>=constants[_0x244020(0x100)][_0x244020(0xdb)][_0x244020(0x104)])throw new errors[(_0x244020(0x108))](errors[_0x244020(0xd7)][_0x244020(0x103)],this['client'][_0x244020(0x105)][_0x244020(0x11f)](_0x4658ee['guild'][_0x244020(0xd9)][_0x244020(0x11e)],'errors','membershipLimitAutoRoles',constants[_0x244020(0x100)][_0x244020(0xdb)][_0x244020(0x104)]));}}else throw new errors[(_0x244020(0x108))](errors[_0x244020(0xd7)]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x244020(0xd8)][_0x244020(0x105)]['getString'](_0x4658ee[_0x244020(0xdc)]['document'][_0x244020(0x11e)],'errors',_0x244020(0x11a),constants[_0x244020(0x100)][_0x244020(0x104)]));}}const _0x5896df=this[_0x244020(0xd8)][_0x244020(0xe2)][_0x244020(0xe5)](_0x4658ee[_0x244020(0xdc)],_0x471c15[_0x244020(0xec)][_0x244020(0xef)]('\x20'));if(!_0x5896df)throw new errors[(_0x244020(0x108))](errors['BASTION_ERROR_TYPE'][_0x244020(0x113)],this[_0x244020(0xd8)][_0x244020(0x105)]['getString'](_0x4658ee[_0x244020(0xdc)][_0x244020(0xd9)]['language'],_0x244020(0xee),_0x244020(0xf5)));const _0x2ce36f=!(Number(_0x471c15[_0x244020(0xf6)])^Number(_0x471c15[_0x244020(0x112)]))||_0x471c15[_0x244020(0xf6)]||![],_0x5a7492=!(Number(_0x471c15[_0x244020(0xf6)])^Number(_0x471c15[_0x244020(0x112)]))||_0x471c15[_0x244020(0x112)]||![];await Role_1[_0x244020(0x101)][_0x244020(0x117)](_0x5896df['id'],{'_id':_0x5896df['id'],'guild':_0x4658ee['guild']['id'],'autoAssignable':{'forBots':_0x2ce36f,'forUsers':_0x5a7492}},{'upsert':!![]}),await _0x4658ee[_0x244020(0x114)][_0x244020(0xe8)]({'embed':{'color':tesseract_1[_0x244020(0xe1)][_0x244020(0x11b)][_0x244020(0x124)],'description':this[_0x244020(0xd8)][_0x244020(0x105)][_0x244020(0x11f)](_0x4658ee[_0x244020(0xdc)][_0x244020(0xd9)]['language'],_0x244020(0xfb),_0x244020(0x121),_0x4658ee[_0x244020(0x116)][_0x244020(0xf7)],_0x5896df[_0x244020(0xfc)]),'fields':[{'name':_0x244020(0xf2),'value':_0x2ce36f['toString']()[_0x244020(0xe9)](),'inline':!![]},{'name':_0x244020(0x10e),'value':_0x5a7492[_0x244020(0x102)]()[_0x244020(0xe9)](),'inline':!![]}],'footer':{'text':_0x5896df['id']}}})[_0x244020(0x10a)](()=>{});}else{if(_0x471c15['remove']){const _0x2e11d0=this[_0x244020(0xd8)][_0x244020(0xe2)][_0x244020(0xe5)](_0x4658ee['guild'],_0x471c15[_0x244020(0x109)]['join']('\x20'));if(!_0x2e11d0)throw new errors[(_0x244020(0x108))](errors[_0x244020(0xd7)][_0x244020(0x113)],this[_0x244020(0xd8)]['locale'][_0x244020(0x11f)](_0x4658ee['guild'][_0x244020(0xd9)][_0x244020(0x11e)],_0x244020(0xee),_0x244020(0xf5)));await Role_1[_0x244020(0x101)][_0x244020(0x117)](_0x2e11d0['id'],{'$unset':{'autoAssignable':0x1}}),await _0x4658ee[_0x244020(0x114)][_0x244020(0xe8)]({'embed':{'color':tesseract_1[_0x244020(0xe1)]['COLORS'][_0x244020(0xf8)],'description':this[_0x244020(0xd8)][_0x244020(0x105)][_0x244020(0x11f)](_0x4658ee[_0x244020(0xdc)]['document'][_0x244020(0x11e)],'info',_0x244020(0xe7),_0x4658ee[_0x244020(0x116)][_0x244020(0xf7)],_0x2e11d0[_0x244020(0xfc)]),'footer':{'text':_0x2e11d0['id']}}})[_0x244020(0x10a)](()=>{});}else{const _0x316bed=await Role_1[_0x244020(0x101)][_0x244020(0xf4)]({'guild':_0x4658ee[_0x244020(0xdc)]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x316bed[_0x244020(0x11c)])throw new Error(this[_0x244020(0xd8)][_0x244020(0x105)][_0x244020(0x11f)](_0x4658ee[_0x244020(0xdc)][_0x244020(0xd9)]['language'],'errors',_0x244020(0x10d)));const _0x143ef8=[];for(const _0x1684da of _0x316bed){!_0x4658ee[_0x244020(0xdc)][_0x244020(0xed)]['cache'][_0x244020(0xe6)](_0x1684da[_0x244020(0x10f)])&&await _0x1684da['remove']()['catch'](()=>{}),_0x143ef8[_0x244020(0x11d)]({'name':_0x4658ee[_0x244020(0xdc)][_0x244020(0xed)][_0x244020(0xe4)][_0x244020(0x110)](_0x1684da[_0x244020(0x10f)])[_0x244020(0xfc)]||'-','value':_0x1684da['_id']+(Number(_0x1684da[_0x244020(0x10c)][_0x244020(0xff)])^Number(_0x1684da['autoAssignable']['forUsers'])&&_0x1684da[_0x244020(0x10c)][_0x244020(0xff)]?_0x244020(0xfa):'')+(Number(_0x1684da[_0x244020(0x10c)]['forBots'])^Number(_0x1684da[_0x244020(0x10c)]['forUsers'])&&_0x1684da['autoAssignable'][_0x244020(0x10b)]?'\x20/\x20HUMANS':'')});}await _0x4658ee[_0x244020(0x114)]['send']({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x244020(0xe3)],'title':_0x244020(0x115),'description':this['client'][_0x244020(0x105)][_0x244020(0x11f)](_0x4658ee[_0x244020(0xdc)][_0x244020(0xd9)]['language'],_0x244020(0xfb),_0x244020(0xf3)),'fields':_0x143ef8}})['catch'](()=>{});}}};}};