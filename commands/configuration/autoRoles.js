const a16_0x2e26=['COLORS','tag','language','autoRoles','exec','push','PLATINUM','constructor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','forUsers','roles','default','author','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','DiscordError','document','client','guild','Constants','autoRolesAdd','roleNotFound','info','findByIdAndUpdate','resolveRole','toString','apply','catch','user','../../utils/constants','resolver','For\x20Bots','\x20/\x20BOTS','ROLE_NOT_FOUND','countDocuments','autoRoles\x20--remove\x20ROLE','return\x20/\x22\x20+\x20this\x20+\x20\x22/','cache','remove','channel','isPublicBastion','membershipLimitAutoRoles','../../utils/omnic','join','GREEN','noAutoRoles','LIMITS','GOLD','autoRoles\x20--add\x20ROLE\x20--bot','autoAssignable','forBots','_id','get','../../utils/errors','autoRolesRemove','locale','name','autoRoles\x20--add\x20ROLE','\x20/\x20HUMANS','fetchPremiumTier','toUpperCase','add','send','@bastion/tesseract','has','MANAGE_ROLES','AUTO_ROLES','premiumAutoRoles','errors','bot','getString','BASTION_ERROR_TYPE','PremiumTier'];(function(_0x5edb2d,_0x2e26e6){const _0x2d004b=function(_0x15ebef){while(--_0x15ebef){_0x5edb2d['push'](_0x5edb2d['shift']());}},_0x49463f=function(){const _0x4283d7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3dc087,_0x25e03b,_0x27d2c2,_0x4345f7){_0x4345f7=_0x4345f7||{};let _0x405ef2=_0x25e03b+'='+_0x27d2c2,_0x1dad80=0x0;for(let _0xdda457=0x0,_0xd039c7=_0x3dc087['length'];_0xdda457<_0xd039c7;_0xdda457++){const _0x36d5a2=_0x3dc087[_0xdda457];_0x405ef2+=';\x20'+_0x36d5a2;const _0x52d6ac=_0x3dc087[_0x36d5a2];_0x3dc087['push'](_0x52d6ac),_0xd039c7=_0x3dc087['length'],_0x52d6ac!==!![]&&(_0x405ef2+='='+_0x52d6ac);}_0x4345f7['cookie']=_0x405ef2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x22f5fa,_0x5d5d8b){_0x22f5fa=_0x22f5fa||function(_0x693a49){return _0x693a49;};const _0x34dd2a=_0x22f5fa(new RegExp('(?:^|;\x20)'+_0x5d5d8b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3e379e=function(_0x53b0ba,_0x4e4861){_0x53b0ba(++_0x4e4861);};return _0x3e379e(_0x2d004b,_0x2e26e6),_0x34dd2a?decodeURIComponent(_0x34dd2a[0x1]):undefined;}},_0x5a61ee=function(){const _0x6b0ccc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x6b0ccc['test'](_0x4283d7['removeCookie']['toString']());};_0x4283d7['updateCookie']=_0x5a61ee;let _0x238342='';const _0x16ba10=_0x4283d7['updateCookie']();if(!_0x16ba10)_0x4283d7['setCookie'](['*'],'counter',0x1);else _0x16ba10?_0x238342=_0x4283d7['getCookie'](null,'counter'):_0x4283d7['removeCookie']();};_0x49463f();}(a16_0x2e26,0x1f2));const a16_0x2d00=function(_0x5edb2d,_0x2e26e6){_0x5edb2d=_0x5edb2d-0x0;let _0x2d004b=a16_0x2e26[_0x5edb2d];return _0x2d004b;};const a16_0x27d2c2=function(){let _0x238016=!![];return function(_0x2d7d91,_0x4fe85e){const _0x43074d=_0x238016?function(){if(_0x4fe85e){const _0x5d0199=_0x4fe85e[a16_0x2d00('0x1f')](_0x2d7d91,arguments);return _0x4fe85e=null,_0x5d0199;}}:function(){};return _0x238016=![],_0x43074d;};}(),a16_0x25e03b=a16_0x27d2c2(this,function(){const _0x4c9d0d=function(){const _0x3c1f73=_0x4c9d0d[a16_0x2d00('0xd')](a16_0x2d00('0x29'))()[a16_0x2d00('0xd')](a16_0x2d00('0xe'));return!_0x3c1f73['test'](a16_0x25e03b);};return _0x4c9d0d();});a16_0x25e03b();'use strict';const tesseract_1=require(a16_0x2d00('0x44')),Role_1=require('../../models/Role'),constants=require(a16_0x2d00('0x22')),errors=require(a16_0x2d00('0x3a')),omnic=require(a16_0x2d00('0x2f'));module['exports']=class AutoRoles extends tesseract_1['Command']{constructor(){super(a16_0x2d00('0x9'),{'description':a16_0x2d00('0x13'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[a16_0x2d00('0x42'),a16_0x2d00('0x2b')],'boolean':[a16_0x2d00('0x2'),a16_0x2d00('0x21')],'string':['add',a16_0x2d00('0x2b')]},'scope':a16_0x2d00('0x17'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a16_0x2d00('0x46')],'userPermissions':['MANAGE_ROLES'],'syntax':[a16_0x2d00('0x9'),a16_0x2d00('0x3e'),a16_0x2d00('0x35'),'autoRoles\x20--add\x20ROLE\x20--user',a16_0x2d00('0x28')]}),this[a16_0x2d00('0xa')]=async(_0x561a41,_0x5c04c0)=>{if(_0x5c04c0[a16_0x2d00('0x42')]){if(constants[a16_0x2d00('0x2d')](this[a16_0x2d00('0x16')]['user'])){const _0x3441e4=await Role_1[a16_0x2d00('0x11')][a16_0x2d00('0x27')]({'guild':_0x561a41[a16_0x2d00('0x17')]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x3441e4>=constants[a16_0x2d00('0x33')][a16_0x2d00('0x47')]){const _0x2d73cd=await omnic[a16_0x2d00('0x40')](_0x561a41['guild'])['catch'](()=>{});if(_0x2d73cd){if(_0x2d73cd===omnic[a16_0x2d00('0x5')]['GOLD']&&_0x3441e4>=constants[a16_0x2d00('0x33')][a16_0x2d00('0x34')][a16_0x2d00('0x47')])throw new errors[(a16_0x2d00('0x14'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a16_0x2d00('0x16')][a16_0x2d00('0x3c')][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')]['document'][a16_0x2d00('0x8')],a16_0x2d00('0x1'),'membershipLimitAutoRoles',constants[a16_0x2d00('0x33')][a16_0x2d00('0x34')]['AUTO_ROLES']));else{if(_0x2d73cd===omnic[a16_0x2d00('0x5')]['PLATINUM']&&_0x3441e4>=constants['LIMITS'][a16_0x2d00('0xc')][a16_0x2d00('0x47')])throw new errors[(a16_0x2d00('0x14'))](errors[a16_0x2d00('0x4')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a16_0x2d00('0x3c')]['getString'](_0x561a41[a16_0x2d00('0x17')]['document'][a16_0x2d00('0x8')],a16_0x2d00('0x1'),a16_0x2d00('0x2e'),constants[a16_0x2d00('0x33')][a16_0x2d00('0xc')]['AUTO_ROLES']));}}else throw new errors[(a16_0x2d00('0x14'))](errors[a16_0x2d00('0x4')]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client']['locale'][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')]['document'][a16_0x2d00('0x8')],a16_0x2d00('0x1'),a16_0x2d00('0x0'),constants[a16_0x2d00('0x33')][a16_0x2d00('0x47')]));}}const _0x304b24=this[a16_0x2d00('0x16')][a16_0x2d00('0x23')][a16_0x2d00('0x1d')](_0x561a41[a16_0x2d00('0x17')],_0x5c04c0[a16_0x2d00('0x42')][a16_0x2d00('0x30')]('\x20'));if(!_0x304b24)throw new errors[(a16_0x2d00('0x14'))](errors[a16_0x2d00('0x4')][a16_0x2d00('0x26')],this[a16_0x2d00('0x16')][a16_0x2d00('0x3c')][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')]['document'][a16_0x2d00('0x8')],a16_0x2d00('0x1'),'roleNotFound'));const _0x62f789=!(Number(_0x5c04c0[a16_0x2d00('0x2')])^Number(_0x5c04c0[a16_0x2d00('0x21')]))||_0x5c04c0['bot']||![],_0x373b12=!(Number(_0x5c04c0[a16_0x2d00('0x2')])^Number(_0x5c04c0[a16_0x2d00('0x21')]))||_0x5c04c0['user']||![];await Role_1['default'][a16_0x2d00('0x1c')](_0x304b24['id'],{'_id':_0x304b24['id'],'guild':_0x561a41[a16_0x2d00('0x17')]['id'],'autoAssignable':{'forBots':_0x62f789,'forUsers':_0x373b12}},{'upsert':!![]}),await _0x561a41[a16_0x2d00('0x2c')][a16_0x2d00('0x43')]({'embed':{'color':tesseract_1[a16_0x2d00('0x18')]['COLORS'][a16_0x2d00('0x31')],'description':this[a16_0x2d00('0x16')][a16_0x2d00('0x3c')]['getString'](_0x561a41[a16_0x2d00('0x17')][a16_0x2d00('0x15')][a16_0x2d00('0x8')],a16_0x2d00('0x1b'),a16_0x2d00('0x19'),_0x561a41[a16_0x2d00('0x12')][a16_0x2d00('0x7')],_0x304b24[a16_0x2d00('0x3d')]),'fields':[{'name':a16_0x2d00('0x24'),'value':_0x62f789['toString']()[a16_0x2d00('0x41')](),'inline':!![]},{'name':'For\x20Humans','value':_0x373b12[a16_0x2d00('0x1e')]()['toUpperCase'](),'inline':!![]}],'footer':{'text':_0x304b24['id']}}})['catch'](()=>{});}else{if(_0x5c04c0['remove']){const _0x3f5265=this['client']['resolver'][a16_0x2d00('0x1d')](_0x561a41[a16_0x2d00('0x17')],_0x5c04c0[a16_0x2d00('0x2b')][a16_0x2d00('0x30')]('\x20'));if(!_0x3f5265)throw new errors[(a16_0x2d00('0x14'))](errors[a16_0x2d00('0x4')][a16_0x2d00('0x26')],this[a16_0x2d00('0x16')][a16_0x2d00('0x3c')][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')][a16_0x2d00('0x15')][a16_0x2d00('0x8')],a16_0x2d00('0x1'),a16_0x2d00('0x1a')));await Role_1[a16_0x2d00('0x11')]['findByIdAndUpdate'](_0x3f5265['id'],{'$unset':{'autoAssignable':0x1}}),await _0x561a41['channel'][a16_0x2d00('0x43')]({'embed':{'color':tesseract_1[a16_0x2d00('0x18')]['COLORS']['RED'],'description':this[a16_0x2d00('0x16')]['locale'][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')][a16_0x2d00('0x15')]['language'],a16_0x2d00('0x1b'),a16_0x2d00('0x3b'),_0x561a41[a16_0x2d00('0x12')][a16_0x2d00('0x7')],_0x3f5265[a16_0x2d00('0x3d')]),'footer':{'text':_0x3f5265['id']}}})['catch'](()=>{});}else{const _0x276750=await Role_1[a16_0x2d00('0x11')]['find']({'guild':_0x561a41[a16_0x2d00('0x17')]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x276750['length'])throw new Error(this[a16_0x2d00('0x16')][a16_0x2d00('0x3c')][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')]['document']['language'],a16_0x2d00('0x1'),a16_0x2d00('0x32')));const _0x125a6b=[];for(const _0x182189 of _0x276750){!_0x561a41[a16_0x2d00('0x17')][a16_0x2d00('0x10')][a16_0x2d00('0x2a')][a16_0x2d00('0x45')](_0x182189['_id'])&&await _0x182189[a16_0x2d00('0x2b')]()[a16_0x2d00('0x20')](()=>{}),_0x125a6b[a16_0x2d00('0xb')]({'name':_0x561a41[a16_0x2d00('0x17')][a16_0x2d00('0x10')][a16_0x2d00('0x2a')][a16_0x2d00('0x39')](_0x182189['_id'])[a16_0x2d00('0x3d')]||'-','value':_0x182189[a16_0x2d00('0x38')]+(Number(_0x182189[a16_0x2d00('0x36')][a16_0x2d00('0x37')])^Number(_0x182189['autoAssignable'][a16_0x2d00('0xf')])&&_0x182189[a16_0x2d00('0x36')]['forBots']?a16_0x2d00('0x25'):'')+(Number(_0x182189[a16_0x2d00('0x36')][a16_0x2d00('0x37')])^Number(_0x182189[a16_0x2d00('0x36')][a16_0x2d00('0xf')])&&_0x182189['autoAssignable']['forUsers']?a16_0x2d00('0x3f'):'')});}await _0x561a41['channel'][a16_0x2d00('0x43')]({'embed':{'color':tesseract_1[a16_0x2d00('0x18')][a16_0x2d00('0x6')]['IRIS'],'title':'Auto\x20Roles','description':this[a16_0x2d00('0x16')][a16_0x2d00('0x3c')][a16_0x2d00('0x3')](_0x561a41[a16_0x2d00('0x17')][a16_0x2d00('0x15')][a16_0x2d00('0x8')],'info','autoRolesList'),'fields':_0x125a6b}})[a16_0x2d00('0x20')](()=>{});}}};}};