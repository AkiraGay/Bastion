const a16_0x7c7d=['autoRolesAdd','tag','Auto\x20Roles','resolver','autoRoles\x20--add\x20ROLE\x20--bot','For\x20Bots','COLORS','PLATINUM','info','Constants','\x20/\x20BOTS','LIMITED_PREMIUM_MEMBERSHIP','Command','autoAssignable','user','toUpperCase','For\x20Humans','exec','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','GREEN','locale','bot','BASTION_ERROR_TYPE','DiscordError','../../utils/omnic','../../utils/errors','default','language','get','GOLD','MANAGE_ROLES','guild','autoRoles\x20--remove\x20ROLE','roles','AUTO_ROLES','name','resolveRole','LIMITS','send','constructor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','remove','autoRolesRemove','author','catch','fetchPremiumTier','../../utils/constants','exports','../../models/Role','noAutoRoles','errors','_id','\x20/\x20HUMANS','apply','findByIdAndUpdate','forBots','autoRoles\x20--add\x20ROLE','cache','getString','toString','join','roleNotFound','RED','document','ROLE_NOT_FOUND','add','@bastion/tesseract','autoRoles\x20--add\x20ROLE\x20--user','channel','client','forUsers','autoRolesList'];(function(_0x932ab5,_0x7c7df5){const _0x21f01c=function(_0x35bb6d){while(--_0x35bb6d){_0x932ab5['push'](_0x932ab5['shift']());}},_0x346ec8=function(){const _0x3b6a85={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2c920e,_0xc3ca6b,_0x45a18d,_0x2bb0d0){_0x2bb0d0=_0x2bb0d0||{};let _0x2892e8=_0xc3ca6b+'='+_0x45a18d,_0x34a71f=0x0;for(let _0x28eca7=0x0,_0x13d1d2=_0x2c920e['length'];_0x28eca7<_0x13d1d2;_0x28eca7++){const _0x4780b6=_0x2c920e[_0x28eca7];_0x2892e8+=';\x20'+_0x4780b6;const _0x31db22=_0x2c920e[_0x4780b6];_0x2c920e['push'](_0x31db22),_0x13d1d2=_0x2c920e['length'],_0x31db22!==!![]&&(_0x2892e8+='='+_0x31db22);}_0x2bb0d0['cookie']=_0x2892e8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x301635,_0x441ef1){_0x301635=_0x301635||function(_0x79dae8){return _0x79dae8;};const _0x2c629b=_0x301635(new RegExp('(?:^|;\x20)'+_0x441ef1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2aa8c5=function(_0xf8c9c4,_0x3eb052){_0xf8c9c4(++_0x3eb052);};return _0x2aa8c5(_0x21f01c,_0x7c7df5),_0x2c629b?decodeURIComponent(_0x2c629b[0x1]):undefined;}},_0x248bf7=function(){const _0x348c7f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x348c7f['test'](_0x3b6a85['removeCookie']['toString']());};_0x3b6a85['updateCookie']=_0x248bf7;let _0x5db318='';const _0x759e9f=_0x3b6a85['updateCookie']();if(!_0x759e9f)_0x3b6a85['setCookie'](['*'],'counter',0x1);else _0x759e9f?_0x5db318=_0x3b6a85['getCookie'](null,'counter'):_0x3b6a85['removeCookie']();};_0x346ec8();}(a16_0x7c7d,0x8a));const a16_0x21f0=function(_0x932ab5,_0x7c7df5){_0x932ab5=_0x932ab5-0x0;let _0x21f01c=a16_0x7c7d[_0x932ab5];return _0x21f01c;};const a16_0x3b6a85=function(){let _0x5db318=!![];return function(_0x759e9f,_0x2c920e){const _0xc3ca6b=_0x5db318?function(){if(_0x2c920e){const _0x45a18d=_0x2c920e[a16_0x21f0('0x3b')](_0x759e9f,arguments);return _0x2c920e=null,_0x45a18d;}}:function(){};return _0x5db318=![],_0xc3ca6b;};}(),a16_0x35bb6d=a16_0x3b6a85(this,function(){const _0x2bb0d0=function(){const _0x2892e8=_0x2bb0d0[a16_0x21f0('0x2d')](a16_0x21f0('0x2e'))()[a16_0x21f0('0x2d')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2892e8['test'](a16_0x35bb6d);};return _0x2bb0d0();});a16_0x35bb6d();'use strict';const tesseract_1=require(a16_0x21f0('0x0')),Role_1=require(a16_0x21f0('0x36')),constants=require(a16_0x21f0('0x34')),errors=require(a16_0x21f0('0x1f')),omnic=require(a16_0x21f0('0x1e'));module[a16_0x21f0('0x35')]=class AutoRoles extends tesseract_1[a16_0x21f0('0x12')]{constructor(){super('autoRoles',{'description':a16_0x21f0('0x18'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[a16_0x21f0('0x47'),'remove'],'boolean':[a16_0x21f0('0x1b'),a16_0x21f0('0x14')],'string':[a16_0x21f0('0x47'),'remove']},'scope':a16_0x21f0('0x25'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a16_0x21f0('0x24')],'userPermissions':[a16_0x21f0('0x24')],'syntax':['autoRoles',a16_0x21f0('0x3e'),a16_0x21f0('0xa'),a16_0x21f0('0x1'),a16_0x21f0('0x26')]}),this[a16_0x21f0('0x17')]=async(_0x34a71f,_0x28eca7)=>{if(_0x28eca7[a16_0x21f0('0x47')]){if(constants['isPublicBastion'](this[a16_0x21f0('0x3')][a16_0x21f0('0x14')])){const _0x301635=await Role_1[a16_0x21f0('0x20')]['countDocuments']({'guild':_0x34a71f[a16_0x21f0('0x25')]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x301635>=constants['LIMITS'][a16_0x21f0('0x28')]){const _0x441ef1=await omnic[a16_0x21f0('0x33')](_0x34a71f[a16_0x21f0('0x25')])[a16_0x21f0('0x32')](()=>{});if(_0x441ef1){if(_0x441ef1===omnic['PremiumTier'][a16_0x21f0('0x23')]&&_0x301635>=constants['LIMITS'][a16_0x21f0('0x23')][a16_0x21f0('0x28')])throw new errors['DiscordError'](errors[a16_0x21f0('0x1c')][a16_0x21f0('0x11')],this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')]['document']['language'],'errors','membershipLimitAutoRoles',constants['LIMITS'][a16_0x21f0('0x23')]['AUTO_ROLES']));else{if(_0x441ef1===omnic['PremiumTier'][a16_0x21f0('0xd')]&&_0x301635>=constants[a16_0x21f0('0x2b')][a16_0x21f0('0xd')][a16_0x21f0('0x28')])throw new errors[(a16_0x21f0('0x1d'))](errors[a16_0x21f0('0x1c')][a16_0x21f0('0x11')],this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x45')][a16_0x21f0('0x21')],a16_0x21f0('0x38'),'membershipLimitAutoRoles',constants[a16_0x21f0('0x2b')]['PLATINUM'][a16_0x21f0('0x28')]));}}else throw new errors[(a16_0x21f0('0x1d'))](errors[a16_0x21f0('0x1c')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x45')][a16_0x21f0('0x21')],a16_0x21f0('0x38'),'premiumAutoRoles',constants['LIMITS'][a16_0x21f0('0x28')]));}}const _0x13d1d2=this['client'][a16_0x21f0('0x9')][a16_0x21f0('0x2a')](_0x34a71f[a16_0x21f0('0x25')],_0x28eca7[a16_0x21f0('0x47')][a16_0x21f0('0x42')]('\x20'));if(!_0x13d1d2)throw new errors[(a16_0x21f0('0x1d'))](errors[a16_0x21f0('0x1c')][a16_0x21f0('0x46')],this['client'][a16_0x21f0('0x1a')]['getString'](_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x45')]['language'],a16_0x21f0('0x38'),a16_0x21f0('0x43')));const _0x4780b6=!(Number(_0x28eca7[a16_0x21f0('0x1b')])^Number(_0x28eca7[a16_0x21f0('0x14')]))||_0x28eca7['bot']||![],_0x31db22=!(Number(_0x28eca7['bot'])^Number(_0x28eca7['user']))||_0x28eca7[a16_0x21f0('0x14')]||![];await Role_1['default'][a16_0x21f0('0x3c')](_0x13d1d2['id'],{'_id':_0x13d1d2['id'],'guild':_0x34a71f[a16_0x21f0('0x25')]['id'],'autoAssignable':{'forBots':_0x4780b6,'forUsers':_0x31db22}},{'upsert':!![]}),await _0x34a71f[a16_0x21f0('0x2')]['send']({'embed':{'color':tesseract_1[a16_0x21f0('0xf')]['COLORS'][a16_0x21f0('0x19')],'description':this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x45')][a16_0x21f0('0x21')],a16_0x21f0('0xe'),a16_0x21f0('0x6'),_0x34a71f[a16_0x21f0('0x31')][a16_0x21f0('0x7')],_0x13d1d2['name']),'fields':[{'name':a16_0x21f0('0xb'),'value':_0x4780b6[a16_0x21f0('0x41')]()[a16_0x21f0('0x15')](),'inline':!![]},{'name':a16_0x21f0('0x16'),'value':_0x31db22[a16_0x21f0('0x41')]()[a16_0x21f0('0x15')](),'inline':!![]}],'footer':{'text':_0x13d1d2['id']}}})['catch'](()=>{});}else{if(_0x28eca7['remove']){const _0x2c629b=this[a16_0x21f0('0x3')][a16_0x21f0('0x9')][a16_0x21f0('0x2a')](_0x34a71f[a16_0x21f0('0x25')],_0x28eca7[a16_0x21f0('0x2f')]['join']('\x20'));if(!_0x2c629b)throw new errors['DiscordError'](errors[a16_0x21f0('0x1c')][a16_0x21f0('0x46')],this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x45')]['language'],a16_0x21f0('0x38'),a16_0x21f0('0x43')));await Role_1[a16_0x21f0('0x20')][a16_0x21f0('0x3c')](_0x2c629b['id'],{'$unset':{'autoAssignable':0x1}}),await _0x34a71f[a16_0x21f0('0x2')][a16_0x21f0('0x2c')]({'embed':{'color':tesseract_1[a16_0x21f0('0xf')]['COLORS'][a16_0x21f0('0x44')],'description':this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')]['document'][a16_0x21f0('0x21')],'info',a16_0x21f0('0x30'),_0x34a71f['author']['tag'],_0x2c629b[a16_0x21f0('0x29')]),'footer':{'text':_0x2c629b['id']}}})[a16_0x21f0('0x32')](()=>{});}else{const _0x2aa8c5=await Role_1[a16_0x21f0('0x20')]['find']({'guild':_0x34a71f[a16_0x21f0('0x25')]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x2aa8c5['length'])throw new Error(this[a16_0x21f0('0x3')]['locale'][a16_0x21f0('0x40')](_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x45')]['language'],a16_0x21f0('0x38'),a16_0x21f0('0x37')));const _0x79dae8=[];for(const _0xf8c9c4 of _0x2aa8c5){!_0x34a71f[a16_0x21f0('0x25')][a16_0x21f0('0x27')][a16_0x21f0('0x3f')]['has'](_0xf8c9c4[a16_0x21f0('0x39')])&&await _0xf8c9c4['remove']()[a16_0x21f0('0x32')](()=>{}),_0x79dae8['push']({'name':_0x34a71f['guild'][a16_0x21f0('0x27')][a16_0x21f0('0x3f')][a16_0x21f0('0x22')](_0xf8c9c4[a16_0x21f0('0x39')])[a16_0x21f0('0x29')]||'-','value':_0xf8c9c4[a16_0x21f0('0x39')]+(Number(_0xf8c9c4['autoAssignable']['forBots'])^Number(_0xf8c9c4[a16_0x21f0('0x13')][a16_0x21f0('0x4')])&&_0xf8c9c4['autoAssignable'][a16_0x21f0('0x3d')]?a16_0x21f0('0x10'):'')+(Number(_0xf8c9c4[a16_0x21f0('0x13')][a16_0x21f0('0x3d')])^Number(_0xf8c9c4[a16_0x21f0('0x13')][a16_0x21f0('0x4')])&&_0xf8c9c4[a16_0x21f0('0x13')][a16_0x21f0('0x4')]?a16_0x21f0('0x3a'):'')});}await _0x34a71f[a16_0x21f0('0x2')][a16_0x21f0('0x2c')]({'embed':{'color':tesseract_1['Constants'][a16_0x21f0('0xc')]['IRIS'],'title':a16_0x21f0('0x8'),'description':this[a16_0x21f0('0x3')][a16_0x21f0('0x1a')][a16_0x21f0('0x40')](_0x34a71f['guild'][a16_0x21f0('0x45')][a16_0x21f0('0x21')],'info',a16_0x21f0('0x5')),'fields':_0x79dae8}})[a16_0x21f0('0x32')](()=>{});}}};}};