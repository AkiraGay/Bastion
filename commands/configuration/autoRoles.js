const a16_0x23a1=['noAutoRoles','LIMITS','bot','push','premiumAutoRoles','autoRoles\x20--add\x20ROLE\x20--user','name','exports','RED','document','AUTO_ROLES','autoAssignable','find','toUpperCase','test','\x20/\x20HUMANS','resolver','roleNotFound','COLORS','catch','fetchPremiumTier','client','../../utils/omnic','language','compile','autoRoles\x20--add\x20ROLE','PremiumTier','tag','PLATINUM','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','user','autoRoles\x20--add\x20ROLE\x20--bot','guild','info','resolveRole','\x20/\x20BOTS','author','autoRolesAdd','countDocuments','DiscordError','forUsers','getString','For\x20Bots','locale','MANAGE_ROLES','cache','autoRolesRemove','forBots','membershipLimitAutoRoles','autoRoles\x20--remove\x20ROLE','GREEN','BASTION_ERROR_TYPE','channel','For\x20Humans','roles','toString','constructor','../../models/Role','autoRolesList','has','PREMIUM_MEMBERSHIP_REQUIRED','../../utils/errors','join','_id','IRIS','errors','GOLD','remove','Command','add','ROLE_NOT_FOUND','send','Constants','default','LIMITED_PREMIUM_MEMBERSHIP'];(function(_0x45cfa5,_0x23a1de){const _0x41a0bb=function(_0x4bd608){while(--_0x4bd608){_0x45cfa5['push'](_0x45cfa5['shift']());}};const _0x53c193=function(){const _0x10aec3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4c3ba8,_0x2109f4,_0x4067bb,_0x33530d){_0x33530d=_0x33530d||{};let _0x55fd72=_0x2109f4+'='+_0x4067bb;let _0x25ad91=0x0;for(let _0x538e1b=0x0,_0x263cc7=_0x4c3ba8['length'];_0x538e1b<_0x263cc7;_0x538e1b++){const _0x3ea328=_0x4c3ba8[_0x538e1b];_0x55fd72+=';\x20'+_0x3ea328;const _0x386110=_0x4c3ba8[_0x3ea328];_0x4c3ba8['push'](_0x386110);_0x263cc7=_0x4c3ba8['length'];if(_0x386110!==!![]){_0x55fd72+='='+_0x386110;}}_0x33530d['cookie']=_0x55fd72;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1f052c,_0x5a2580){_0x1f052c=_0x1f052c||function(_0x185e52){return _0x185e52;};const _0x59b957=_0x1f052c(new RegExp('(?:^|;\x20)'+_0x5a2580['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x386968=function(_0x48189f,_0x596a3f){_0x48189f(++_0x596a3f);};_0x386968(_0x41a0bb,_0x23a1de);return _0x59b957?decodeURIComponent(_0x59b957[0x1]):undefined;}};const _0x4e17c8=function(){const _0x40170d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x40170d['test'](_0x10aec3['removeCookie']['toString']());};_0x10aec3['updateCookie']=_0x4e17c8;let _0x4dbfe5='';const _0x3a3af4=_0x10aec3['updateCookie']();if(!_0x3a3af4){_0x10aec3['setCookie'](['*'],'counter',0x1);}else if(_0x3a3af4){_0x4dbfe5=_0x10aec3['getCookie'](null,'counter');}else{_0x10aec3['removeCookie']();}};_0x53c193();}(a16_0x23a1,0x189));const a16_0x41a0=function(_0x45cfa5,_0x23a1de){_0x45cfa5=_0x45cfa5-0x0;let _0x41a0bb=a16_0x23a1[_0x45cfa5];return _0x41a0bb;};const a16_0x10aec3=function(){let _0x34a089=!![];return function(_0x569d16,_0x2a54fd){const _0x34cf07=_0x34a089?function(){if(_0x2a54fd){const _0x4a7d16=_0x2a54fd['apply'](_0x569d16,arguments);_0x2a54fd=null;return _0x4a7d16;}}:function(){};_0x34a089=![];return _0x34cf07;};}();const a16_0x4bd608=a16_0x10aec3(this,function(){const _0x2419ac=function(){const _0x3acd9f=_0x2419ac[a16_0x41a0('0x26')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a16_0x41a0('0x6')](a16_0x41a0('0xb'));return!_0x3acd9f[a16_0x41a0('0x47')](a16_0x4bd608);};return _0x2419ac();});a16_0x4bd608();'use strict';const tesseract_1=require('@bastion/tesseract');const Role_1=require(a16_0x41a0('0x27'));const constants=require('../../utils/constants');const errors=require(a16_0x41a0('0x2b'));const omnic=require(a16_0x41a0('0x4'));module[a16_0x41a0('0x40')]=class AutoRoles extends tesseract_1[a16_0x41a0('0x32')]{constructor(){super('autoRoles',{'description':'It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[a16_0x41a0('0x33'),a16_0x41a0('0x31')],'boolean':['bot',a16_0x41a0('0xc')],'string':[a16_0x41a0('0x33'),'remove']},'scope':a16_0x41a0('0xe'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a16_0x41a0('0x1a')],'userPermissions':['MANAGE_ROLES'],'syntax':['autoRoles',a16_0x41a0('0x7'),a16_0x41a0('0xd'),a16_0x41a0('0x3e'),a16_0x41a0('0x1f')]});this['exec']=async(_0x33e121,_0x2ae8e9)=>{if(_0x2ae8e9[a16_0x41a0('0x33')]){if(constants['isPublicBastion'](this[a16_0x41a0('0x3')][a16_0x41a0('0xc')])){const _0x466b99=await Role_1[a16_0x41a0('0x37')][a16_0x41a0('0x14')]({'guild':_0x33e121['guild']['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x466b99>=constants[a16_0x41a0('0x3a')][a16_0x41a0('0x43')]){const _0x58cbde=await omnic[a16_0x41a0('0x2')](_0x33e121[a16_0x41a0('0xe')])['catch'](()=>{});if(_0x58cbde){if(_0x58cbde===omnic['PremiumTier'][a16_0x41a0('0x30')]&&_0x466b99>=constants[a16_0x41a0('0x3a')][a16_0x41a0('0x30')][a16_0x41a0('0x43')]){throw new errors['DiscordError'](errors[a16_0x41a0('0x21')][a16_0x41a0('0x38')],this[a16_0x41a0('0x3')][a16_0x41a0('0x19')][a16_0x41a0('0x17')](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')][a16_0x41a0('0x5')],a16_0x41a0('0x2f'),'membershipLimitAutoRoles',constants[a16_0x41a0('0x3a')][a16_0x41a0('0x30')][a16_0x41a0('0x43')]));}else if(_0x58cbde===omnic[a16_0x41a0('0x8')][a16_0x41a0('0xa')]&&_0x466b99>=constants[a16_0x41a0('0x3a')]['PLATINUM']['AUTO_ROLES']){throw new errors[(a16_0x41a0('0x15'))](errors[a16_0x41a0('0x21')][a16_0x41a0('0x38')],this[a16_0x41a0('0x3')]['locale'][a16_0x41a0('0x17')](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')][a16_0x41a0('0x5')],'errors',a16_0x41a0('0x1e'),constants[a16_0x41a0('0x3a')][a16_0x41a0('0xa')][a16_0x41a0('0x43')]));}}else{throw new errors[(a16_0x41a0('0x15'))](errors[a16_0x41a0('0x21')][a16_0x41a0('0x2a')],this[a16_0x41a0('0x3')][a16_0x41a0('0x19')]['getString'](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')][a16_0x41a0('0x5')],'errors',a16_0x41a0('0x3d'),constants['LIMITS']['AUTO_ROLES']));}}}const _0x2b7a88=this[a16_0x41a0('0x3')][a16_0x41a0('0x49')][a16_0x41a0('0x10')](_0x33e121[a16_0x41a0('0xe')],_0x2ae8e9['add'][a16_0x41a0('0x2c')]('\x20'));if(!_0x2b7a88)throw new errors[(a16_0x41a0('0x15'))](errors['BASTION_ERROR_TYPE'][a16_0x41a0('0x34')],this[a16_0x41a0('0x3')][a16_0x41a0('0x19')][a16_0x41a0('0x17')](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')][a16_0x41a0('0x5')],a16_0x41a0('0x2f'),'roleNotFound'));const _0x1176f9=!(Number(_0x2ae8e9['bot'])^Number(_0x2ae8e9[a16_0x41a0('0xc')]))||_0x2ae8e9[a16_0x41a0('0x3b')]||![];const _0x592048=!(Number(_0x2ae8e9[a16_0x41a0('0x3b')])^Number(_0x2ae8e9[a16_0x41a0('0xc')]))||_0x2ae8e9[a16_0x41a0('0xc')]||![];await Role_1[a16_0x41a0('0x37')]['findByIdAndUpdate'](_0x2b7a88['id'],{'_id':_0x2b7a88['id'],'guild':_0x33e121[a16_0x41a0('0xe')]['id'],'autoAssignable':{'forBots':_0x1176f9,'forUsers':_0x592048}},{'upsert':!![]});await _0x33e121['channel']['send']({'embed':{'color':tesseract_1[a16_0x41a0('0x36')]['COLORS'][a16_0x41a0('0x20')],'description':this[a16_0x41a0('0x3')][a16_0x41a0('0x19')][a16_0x41a0('0x17')](_0x33e121[a16_0x41a0('0xe')]['document']['language'],a16_0x41a0('0xf'),a16_0x41a0('0x13'),_0x33e121[a16_0x41a0('0x12')]['tag'],_0x2b7a88[a16_0x41a0('0x3f')]),'fields':[{'name':a16_0x41a0('0x18'),'value':_0x1176f9['toString']()[a16_0x41a0('0x46')](),'inline':!![]},{'name':a16_0x41a0('0x23'),'value':_0x592048[a16_0x41a0('0x25')]()[a16_0x41a0('0x46')](),'inline':!![]}],'footer':{'text':_0x2b7a88['id']}}})[a16_0x41a0('0x1')](()=>{});}else if(_0x2ae8e9['remove']){const _0x4e7bd=this['client']['resolver'][a16_0x41a0('0x10')](_0x33e121[a16_0x41a0('0xe')],_0x2ae8e9['remove'][a16_0x41a0('0x2c')]('\x20'));if(!_0x4e7bd)throw new errors[(a16_0x41a0('0x15'))](errors[a16_0x41a0('0x21')]['ROLE_NOT_FOUND'],this[a16_0x41a0('0x3')][a16_0x41a0('0x19')][a16_0x41a0('0x17')](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')][a16_0x41a0('0x5')],a16_0x41a0('0x2f'),a16_0x41a0('0x4a')));await Role_1[a16_0x41a0('0x37')]['findByIdAndUpdate'](_0x4e7bd['id'],{'$unset':{'autoAssignable':0x1}});await _0x33e121[a16_0x41a0('0x22')][a16_0x41a0('0x35')]({'embed':{'color':tesseract_1[a16_0x41a0('0x36')][a16_0x41a0('0x0')][a16_0x41a0('0x41')],'description':this['client'][a16_0x41a0('0x19')][a16_0x41a0('0x17')](_0x33e121['guild']['document']['language'],a16_0x41a0('0xf'),a16_0x41a0('0x1c'),_0x33e121['author'][a16_0x41a0('0x9')],_0x4e7bd['name']),'footer':{'text':_0x4e7bd['id']}}})['catch'](()=>{});}else{const _0x866d93=await Role_1[a16_0x41a0('0x37')][a16_0x41a0('0x45')]({'guild':_0x33e121['guild']['id'],'autoAssignable':{'$exists':!![]}});if(!_0x866d93['length']){throw new Error(this[a16_0x41a0('0x3')][a16_0x41a0('0x19')][a16_0x41a0('0x17')](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')]['language'],a16_0x41a0('0x2f'),a16_0x41a0('0x39')));}const _0x22e916=[];for(const _0x2e5e2c of _0x866d93){if(!_0x33e121[a16_0x41a0('0xe')]['roles']['cache'][a16_0x41a0('0x29')](_0x2e5e2c[a16_0x41a0('0x2d')])){await _0x2e5e2c[a16_0x41a0('0x31')]()[a16_0x41a0('0x1')](()=>{});}_0x22e916[a16_0x41a0('0x3c')]({'name':_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x24')][a16_0x41a0('0x1b')]['get'](_0x2e5e2c['_id'])['name']||'-','value':_0x2e5e2c['_id']+(Number(_0x2e5e2c[a16_0x41a0('0x44')][a16_0x41a0('0x1d')])^Number(_0x2e5e2c[a16_0x41a0('0x44')][a16_0x41a0('0x16')])&&_0x2e5e2c[a16_0x41a0('0x44')][a16_0x41a0('0x1d')]?a16_0x41a0('0x11'):'')+(Number(_0x2e5e2c[a16_0x41a0('0x44')][a16_0x41a0('0x1d')])^Number(_0x2e5e2c[a16_0x41a0('0x44')][a16_0x41a0('0x16')])&&_0x2e5e2c[a16_0x41a0('0x44')][a16_0x41a0('0x16')]?a16_0x41a0('0x48'):'')});}await _0x33e121[a16_0x41a0('0x22')][a16_0x41a0('0x35')]({'embed':{'color':tesseract_1[a16_0x41a0('0x36')]['COLORS'][a16_0x41a0('0x2e')],'title':'Auto\x20Roles','description':this[a16_0x41a0('0x3')][a16_0x41a0('0x19')]['getString'](_0x33e121[a16_0x41a0('0xe')][a16_0x41a0('0x42')][a16_0x41a0('0x5')],a16_0x41a0('0xf'),a16_0x41a0('0x28')),'fields':_0x22e916}})[a16_0x41a0('0x1')](()=>{});}};}};