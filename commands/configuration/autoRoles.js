const a16_0x57f2=['apply','DiscordError','push','language','errors','roleNotFound','../../utils/errors','exports','default','remove','autoRoles\x20--add\x20ROLE\x20--user','name','../../utils/constants','@bastion/tesseract','has','constructor','RED','user','document','channel','length','autoRoles\x20--add\x20ROLE\x20--bot','join','\x20/\x20HUMANS','send','add','resolver','PremiumTier','LIMITS','autoRolesAdd','Constants','isPublicBastion','catch','Auto\x20Roles','toString','GOLD','exec','MANAGE_ROLES','guild','BASTION_ERROR_TYPE','ROLE_NOT_FOUND','get','autoRolesList','author','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','find','getString','../../utils/omnic','For\x20Bots','premiumAutoRoles','cache','return\x20/\x22\x20+\x20this\x20+\x20\x22/','bot','membershipLimitAutoRoles','info','For\x20Humans','Command','_id','../../models/Role','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','locale','LIMITED_PREMIUM_MEMBERSHIP','roles','test','findByIdAndUpdate','autoRoles\x20--add\x20ROLE','forBots','autoRoles','toUpperCase','autoAssignable','COLORS','PLATINUM','autoRolesRemove','forUsers','noAutoRoles','AUTO_ROLES','client','resolveRole'];(function(_0x4c05c6,_0x57f2be){const _0xf58fb0=function(_0x1bd1a1){while(--_0x1bd1a1){_0x4c05c6['push'](_0x4c05c6['shift']());}},_0x2e0638=function(){const _0x3627a2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x11450b,_0x341161,_0x37236d,_0x1816a1){_0x1816a1=_0x1816a1||{};let _0x4ee2b5=_0x341161+'='+_0x37236d,_0xb384bd=0x0;for(let _0x462db5=0x0,_0x56972b=_0x11450b['length'];_0x462db5<_0x56972b;_0x462db5++){const _0x3671ef=_0x11450b[_0x462db5];_0x4ee2b5+=';\x20'+_0x3671ef;const _0x2927cd=_0x11450b[_0x3671ef];_0x11450b['push'](_0x2927cd),_0x56972b=_0x11450b['length'],_0x2927cd!==!![]&&(_0x4ee2b5+='='+_0x2927cd);}_0x1816a1['cookie']=_0x4ee2b5;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19b2f3,_0x4b0afe){_0x19b2f3=_0x19b2f3||function(_0x5db9d2){return _0x5db9d2;};const _0x497680=_0x19b2f3(new RegExp('(?:^|;\x20)'+_0x4b0afe['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1c363a=function(_0xeffeaa,_0x11a56d){_0xeffeaa(++_0x11a56d);};return _0x1c363a(_0xf58fb0,_0x57f2be),_0x497680?decodeURIComponent(_0x497680[0x1]):undefined;}},_0x4b83d8=function(){const _0x3cef31=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3cef31['test'](_0x3627a2['removeCookie']['toString']());};_0x3627a2['updateCookie']=_0x4b83d8;let _0x4d4552='';const _0x16488b=_0x3627a2['updateCookie']();if(!_0x16488b)_0x3627a2['setCookie'](['*'],'counter',0x1);else _0x16488b?_0x4d4552=_0x3627a2['getCookie'](null,'counter'):_0x3627a2['removeCookie']();};_0x2e0638();}(a16_0x57f2,0x1a3));const a16_0xf58f=function(_0x4c05c6,_0x57f2be){_0x4c05c6=_0x4c05c6-0x0;let _0xf58fb0=a16_0x57f2[_0x4c05c6];return _0xf58fb0;};const a16_0x3627a2=function(){let _0x4d4552=!![];return function(_0x16488b,_0x11450b){const _0x341161=_0x4d4552?function(){if(_0x11450b){const _0x37236d=_0x11450b[a16_0xf58f('0x31')](_0x16488b,arguments);return _0x11450b=null,_0x37236d;}}:function(){};return _0x4d4552=![],_0x341161;};}(),a16_0x1bd1a1=a16_0x3627a2(this,function(){const _0x1816a1=function(){const _0x4ee2b5=_0x1816a1[a16_0xf58f('0x40')](a16_0xf58f('0x16'))()[a16_0xf58f('0x40')](a16_0xf58f('0x1e'));return!_0x4ee2b5[a16_0xf58f('0x22')](a16_0x1bd1a1);};return _0x1816a1();});a16_0x1bd1a1();'use strict';const tesseract_1=require(a16_0xf58f('0x3e')),Role_1=require(a16_0xf58f('0x1d')),constants=require(a16_0xf58f('0x3d')),errors=require(a16_0xf58f('0x37')),omnic=require(a16_0xf58f('0x12'));module[a16_0xf58f('0x38')]=class AutoRoles extends tesseract_1[a16_0xf58f('0x1b')]{constructor(){super(a16_0xf58f('0x26'),{'description':a16_0xf58f('0xf'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[a16_0xf58f('0x4a'),'remove'],'boolean':[a16_0xf58f('0x17'),'user'],'string':[a16_0xf58f('0x4a'),a16_0xf58f('0x3a')]},'scope':a16_0xf58f('0x9'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[a16_0xf58f('0x8')],'syntax':[a16_0xf58f('0x26'),a16_0xf58f('0x24'),a16_0xf58f('0x46'),a16_0xf58f('0x3b'),'autoRoles\x20--remove\x20ROLE']}),this[a16_0xf58f('0x7')]=async(_0xb384bd,_0x462db5)=>{if(_0x462db5[a16_0xf58f('0x4a')]){if(constants[a16_0xf58f('0x2')](this[a16_0xf58f('0x2f')]['user'])){const _0x19b2f3=await Role_1['default']['countDocuments']({'guild':_0xb384bd[a16_0xf58f('0x9')]['id'],'autoAssignable':{'$exists':!![],'$ne':null}});if(_0x19b2f3>=constants['LIMITS'][a16_0xf58f('0x2e')]){const _0x4b0afe=await omnic['fetchPremiumTier'](_0xb384bd[a16_0xf58f('0x9')])[a16_0xf58f('0x3')](()=>{});if(_0x4b0afe){if(_0x4b0afe===omnic[a16_0xf58f('0x4c')][a16_0xf58f('0x6')]&&_0x19b2f3>=constants[a16_0xf58f('0x4d')][a16_0xf58f('0x6')][a16_0xf58f('0x2e')])throw new errors[(a16_0xf58f('0x32'))](errors[a16_0xf58f('0xa')][a16_0xf58f('0x20')],this[a16_0xf58f('0x2f')][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd[a16_0xf58f('0x9')][a16_0xf58f('0x43')][a16_0xf58f('0x34')],a16_0xf58f('0x35'),a16_0xf58f('0x18'),constants[a16_0xf58f('0x4d')]['GOLD']['AUTO_ROLES']));else{if(_0x4b0afe===omnic[a16_0xf58f('0x4c')][a16_0xf58f('0x2a')]&&_0x19b2f3>=constants[a16_0xf58f('0x4d')][a16_0xf58f('0x2a')]['AUTO_ROLES'])throw new errors[(a16_0xf58f('0x32'))](errors[a16_0xf58f('0xa')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd['guild']['document'][a16_0xf58f('0x34')],'errors',a16_0xf58f('0x18'),constants[a16_0xf58f('0x4d')][a16_0xf58f('0x2a')][a16_0xf58f('0x2e')]));}}else throw new errors[(a16_0xf58f('0x32'))](errors[a16_0xf58f('0xa')]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client'][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd[a16_0xf58f('0x9')][a16_0xf58f('0x43')][a16_0xf58f('0x34')],'errors',a16_0xf58f('0x14'),constants['LIMITS'][a16_0xf58f('0x2e')]));}}const _0x56972b=this['client'][a16_0xf58f('0x4b')][a16_0xf58f('0x30')](_0xb384bd[a16_0xf58f('0x9')],_0x462db5['add'][a16_0xf58f('0x47')]('\x20'));if(!_0x56972b)throw new errors[(a16_0xf58f('0x32'))](errors[a16_0xf58f('0xa')][a16_0xf58f('0xb')],this[a16_0xf58f('0x2f')][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd[a16_0xf58f('0x9')]['document'][a16_0xf58f('0x34')],a16_0xf58f('0x35'),'roleNotFound'));const _0x3671ef=!(Number(_0x462db5[a16_0xf58f('0x17')])^Number(_0x462db5[a16_0xf58f('0x42')]))||_0x462db5[a16_0xf58f('0x17')]||![],_0x2927cd=!(Number(_0x462db5['bot'])^Number(_0x462db5[a16_0xf58f('0x42')]))||_0x462db5[a16_0xf58f('0x42')]||![];await Role_1[a16_0xf58f('0x39')][a16_0xf58f('0x23')](_0x56972b['id'],{'_id':_0x56972b['id'],'guild':_0xb384bd[a16_0xf58f('0x9')]['id'],'autoAssignable':{'forBots':_0x3671ef,'forUsers':_0x2927cd}},{'upsert':!![]}),await _0xb384bd[a16_0xf58f('0x44')][a16_0xf58f('0x49')]({'embed':{'color':tesseract_1[a16_0xf58f('0x1')][a16_0xf58f('0x29')]['GREEN'],'description':this[a16_0xf58f('0x2f')][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd['guild'][a16_0xf58f('0x43')]['language'],a16_0xf58f('0x19'),a16_0xf58f('0x0'),_0xb384bd['author']['tag'],_0x56972b[a16_0xf58f('0x3c')]),'fields':[{'name':a16_0xf58f('0x13'),'value':_0x3671ef[a16_0xf58f('0x5')]()[a16_0xf58f('0x27')](),'inline':!![]},{'name':a16_0xf58f('0x1a'),'value':_0x2927cd[a16_0xf58f('0x5')]()['toUpperCase'](),'inline':!![]}],'footer':{'text':_0x56972b['id']}}})[a16_0xf58f('0x3')](()=>{});}else{if(_0x462db5[a16_0xf58f('0x3a')]){const _0x497680=this['client'][a16_0xf58f('0x4b')]['resolveRole'](_0xb384bd[a16_0xf58f('0x9')],_0x462db5[a16_0xf58f('0x3a')][a16_0xf58f('0x47')]('\x20'));if(!_0x497680)throw new errors['DiscordError'](errors[a16_0xf58f('0xa')][a16_0xf58f('0xb')],this[a16_0xf58f('0x2f')][a16_0xf58f('0x1f')]['getString'](_0xb384bd['guild']['document'][a16_0xf58f('0x34')],a16_0xf58f('0x35'),a16_0xf58f('0x36')));await Role_1[a16_0xf58f('0x39')]['findByIdAndUpdate'](_0x497680['id'],{'$unset':{'autoAssignable':0x1}}),await _0xb384bd[a16_0xf58f('0x44')][a16_0xf58f('0x49')]({'embed':{'color':tesseract_1[a16_0xf58f('0x1')]['COLORS'][a16_0xf58f('0x41')],'description':this[a16_0xf58f('0x2f')][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd[a16_0xf58f('0x9')]['document'][a16_0xf58f('0x34')],a16_0xf58f('0x19'),a16_0xf58f('0x2b'),_0xb384bd[a16_0xf58f('0xe')]['tag'],_0x497680[a16_0xf58f('0x3c')]),'footer':{'text':_0x497680['id']}}})[a16_0xf58f('0x3')](()=>{});}else{const _0x1c363a=await Role_1[a16_0xf58f('0x39')][a16_0xf58f('0x10')]({'guild':_0xb384bd[a16_0xf58f('0x9')]['id'],'autoAssignable':{'$exists':!![]}});if(!_0x1c363a[a16_0xf58f('0x45')])throw new Error(this[a16_0xf58f('0x2f')][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd[a16_0xf58f('0x9')][a16_0xf58f('0x43')][a16_0xf58f('0x34')],a16_0xf58f('0x35'),a16_0xf58f('0x2d')));const _0x5db9d2=[];for(const _0xeffeaa of _0x1c363a){!_0xb384bd[a16_0xf58f('0x9')][a16_0xf58f('0x21')][a16_0xf58f('0x15')][a16_0xf58f('0x3f')](_0xeffeaa[a16_0xf58f('0x1c')])&&await _0xeffeaa[a16_0xf58f('0x3a')]()[a16_0xf58f('0x3')](()=>{}),_0x5db9d2[a16_0xf58f('0x33')]({'name':_0xb384bd[a16_0xf58f('0x9')]['roles']['cache'][a16_0xf58f('0xc')](_0xeffeaa[a16_0xf58f('0x1c')])[a16_0xf58f('0x3c')]||'-','value':_0xeffeaa['_id']+(Number(_0xeffeaa[a16_0xf58f('0x28')]['forBots'])^Number(_0xeffeaa['autoAssignable'][a16_0xf58f('0x2c')])&&_0xeffeaa[a16_0xf58f('0x28')][a16_0xf58f('0x25')]?'\x20/\x20BOTS':'')+(Number(_0xeffeaa['autoAssignable']['forBots'])^Number(_0xeffeaa[a16_0xf58f('0x28')]['forUsers'])&&_0xeffeaa['autoAssignable'][a16_0xf58f('0x2c')]?a16_0xf58f('0x48'):'')});}await _0xb384bd[a16_0xf58f('0x44')]['send']({'embed':{'color':tesseract_1[a16_0xf58f('0x1')][a16_0xf58f('0x29')]['IRIS'],'title':a16_0xf58f('0x4'),'description':this['client'][a16_0xf58f('0x1f')][a16_0xf58f('0x11')](_0xb384bd[a16_0xf58f('0x9')][a16_0xf58f('0x43')]['language'],'info',a16_0xf58f('0xd')),'fields':_0x5db9d2}})[a16_0xf58f('0x3')](()=>{});}}};}};