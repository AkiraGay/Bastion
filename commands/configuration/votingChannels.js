const a40_0x16cf=['votingChannels\x20--remove','add','GOLD','guild','votingChannels','GREEN','user','apply','Constants','findByIdAndUpdate','DiscordError','length','votingChannelsAdd','errors','default','LIMITED_PREMIUM_MEMBERSHIP','membershipLimitVotingChannels','Command','countDocuments','cache','exec','@bastion/tesseract','push','_id','PLATINUM','locale','test','BASTION_ERROR_TYPE','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','MANAGE_GUILD','VOTING_CHANNELS','join','catch','getString','send','constructor','PREMIUM_MEMBERSHIP_REQUIRED','language','info','name','../../utils/errors','has','channel','LIMITS','get','client','RED','votingChannels\x20--add','../../utils/omnic','channels','votingChannelsRemove','premiumVotingChannels','isPublicBastion','Voting\x20Channels','document','../../models/TextChannel','PremiumTier','\x20Voting\x20Channels','tag','COLORS','author'];(function(_0x82eb18,_0x16cf3f){const _0x5bbf93=function(_0x42c4cf){while(--_0x42c4cf){_0x82eb18['push'](_0x82eb18['shift']());}},_0x122eb7=function(){const _0x1b4502={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x152557,_0xfb73bd,_0x2c9112,_0x269383){_0x269383=_0x269383||{};let _0x124725=_0xfb73bd+'='+_0x2c9112,_0x24f7ac=0x0;for(let _0x4a6e1b=0x0,_0x4bb288=_0x152557['length'];_0x4a6e1b<_0x4bb288;_0x4a6e1b++){const _0x54cdd0=_0x152557[_0x4a6e1b];_0x124725+=';\x20'+_0x54cdd0;const _0x472094=_0x152557[_0x54cdd0];_0x152557['push'](_0x472094),_0x4bb288=_0x152557['length'],_0x472094!==!![]&&(_0x124725+='='+_0x472094);}_0x269383['cookie']=_0x124725;},'removeCookie':function(){return'dev';},'getCookie':function(_0x43cead,_0x1f2a0c){_0x43cead=_0x43cead||function(_0x133493){return _0x133493;};const _0x59908e=_0x43cead(new RegExp('(?:^|;\x20)'+_0x1f2a0c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x22a5e0=function(_0x5064ac,_0x303a61){_0x5064ac(++_0x303a61);};return _0x22a5e0(_0x5bbf93,_0x16cf3f),_0x59908e?decodeURIComponent(_0x59908e[0x1]):undefined;}},_0x1f5b6d=function(){const _0x1e2902=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e2902['test'](_0x1b4502['removeCookie']['toString']());};_0x1b4502['updateCookie']=_0x1f5b6d;let _0xe76e64='';const _0x4ebb55=_0x1b4502['updateCookie']();if(!_0x4ebb55)_0x1b4502['setCookie'](['*'],'counter',0x1);else _0x4ebb55?_0xe76e64=_0x1b4502['getCookie'](null,'counter'):_0x1b4502['removeCookie']();};_0x122eb7();}(a40_0x16cf,0x86));const a40_0x5bbf=function(_0x82eb18,_0x16cf3f){_0x82eb18=_0x82eb18-0x0;let _0x5bbf93=a40_0x16cf[_0x82eb18];return _0x5bbf93;};const a40_0x2c9112=function(){let _0x240128=!![];return function(_0x570be9,_0xa707b3){const _0x6372=_0x240128?function(){if(_0xa707b3){const _0x553fdd=_0xa707b3[a40_0x5bbf('0x38')](_0x570be9,arguments);return _0xa707b3=null,_0x553fdd;}}:function(){};return _0x240128=![],_0x6372;};}(),a40_0xfb73bd=a40_0x2c9112(this,function(){const _0x433222=function(){const _0xbfb356=_0x433222[a40_0x5bbf('0x17')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xbfb356[a40_0x5bbf('0xe')](a40_0xfb73bd);};return _0x433222();});a40_0xfb73bd();'use strict';const tesseract_1=require(a40_0x5bbf('0x9')),TextChannel_1=require(a40_0x5bbf('0x2b')),constants=require('../../utils/constants'),errors=require(a40_0x5bbf('0x1c')),omnic=require(a40_0x5bbf('0x24'));module['exports']=class Announcements extends tesseract_1[a40_0x5bbf('0x5')]{constructor(){super(a40_0x5bbf('0x35'),{'description':a40_0x5bbf('0x10'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x5bbf('0x32'),'remove']},'scope':a40_0x5bbf('0x34'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x5bbf('0x11')],'syntax':[a40_0x5bbf('0x35'),a40_0x5bbf('0x23'),a40_0x5bbf('0x31')]}),this[a40_0x5bbf('0x8')]=async(_0x541f64,_0x1ab16e)=>{if(_0x1ab16e[a40_0x5bbf('0x32')]){if(constants[a40_0x5bbf('0x28')](this[a40_0x5bbf('0x21')][a40_0x5bbf('0x37')])){const _0x4a6852=await TextChannel_1[a40_0x5bbf('0x2')][a40_0x5bbf('0x6')]({'guild':_0x541f64[a40_0x5bbf('0x34')]['id'],'voting':!![]});if(_0x4a6852>=constants['LIMITS'][a40_0x5bbf('0x12')]){const _0x1dcc52=await omnic['fetchPremiumTier'](_0x541f64[a40_0x5bbf('0x34')])[a40_0x5bbf('0x14')](()=>{});if(_0x1dcc52){if(_0x1dcc52===omnic['PremiumTier'][a40_0x5bbf('0x33')]&&_0x4a6852>=constants[a40_0x5bbf('0x1f')][a40_0x5bbf('0x33')][a40_0x5bbf('0x12')])throw new errors[(a40_0x5bbf('0x3b'))](errors[a40_0x5bbf('0xf')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a40_0x5bbf('0x21')]['locale'][a40_0x5bbf('0x15')](_0x541f64[a40_0x5bbf('0x34')]['document'][a40_0x5bbf('0x19')],a40_0x5bbf('0x1'),'membershipLimitVotingChannels',constants[a40_0x5bbf('0x1f')]['GOLD']['VOTING_CHANNELS']));else{if(_0x1dcc52===omnic[a40_0x5bbf('0x2c')]['PLATINUM']&&_0x4a6852>=constants['LIMITS'][a40_0x5bbf('0xc')][a40_0x5bbf('0x12')])throw new errors[(a40_0x5bbf('0x3b'))](errors[a40_0x5bbf('0xf')][a40_0x5bbf('0x3')],this[a40_0x5bbf('0x21')][a40_0x5bbf('0xd')][a40_0x5bbf('0x15')](_0x541f64[a40_0x5bbf('0x34')][a40_0x5bbf('0x2a')]['language'],a40_0x5bbf('0x1'),a40_0x5bbf('0x4'),constants['LIMITS'][a40_0x5bbf('0xc')][a40_0x5bbf('0x12')]));}}else throw new errors[(a40_0x5bbf('0x3b'))](errors[a40_0x5bbf('0xf')][a40_0x5bbf('0x18')],this[a40_0x5bbf('0x21')][a40_0x5bbf('0xd')][a40_0x5bbf('0x15')](_0x541f64[a40_0x5bbf('0x34')][a40_0x5bbf('0x2a')][a40_0x5bbf('0x19')],a40_0x5bbf('0x1'),a40_0x5bbf('0x27'),constants[a40_0x5bbf('0x1f')][a40_0x5bbf('0x12')]));}}return await TextChannel_1[a40_0x5bbf('0x2')]['findByIdAndUpdate'](_0x541f64['channel']['id'],{'_id':_0x541f64['channel']['id'],'guild':_0x541f64[a40_0x5bbf('0x34')]['id'],'voting':!![]},{'upsert':!![]}),await _0x541f64[a40_0x5bbf('0x1e')][a40_0x5bbf('0x16')]({'embed':{'color':tesseract_1[a40_0x5bbf('0x39')][a40_0x5bbf('0x2f')][a40_0x5bbf('0x36')],'description':this[a40_0x5bbf('0x21')][a40_0x5bbf('0xd')][a40_0x5bbf('0x15')](_0x541f64[a40_0x5bbf('0x34')]['document']['language'],'info',a40_0x5bbf('0x0'),_0x541f64[a40_0x5bbf('0x30')]['tag'])}})[a40_0x5bbf('0x14')](()=>{});}if(_0x1ab16e['remove'])return await TextChannel_1[a40_0x5bbf('0x2')][a40_0x5bbf('0x3a')](_0x541f64['channel']['id'],{'_id':_0x541f64[a40_0x5bbf('0x1e')]['id'],'guild':_0x541f64[a40_0x5bbf('0x34')]['id'],'$unset':{'voting':0x1}}),await _0x541f64['channel'][a40_0x5bbf('0x16')]({'embed':{'color':tesseract_1[a40_0x5bbf('0x39')][a40_0x5bbf('0x2f')][a40_0x5bbf('0x22')],'description':this['client'][a40_0x5bbf('0xd')][a40_0x5bbf('0x15')](_0x541f64[a40_0x5bbf('0x34')][a40_0x5bbf('0x2a')]['language'],'info',a40_0x5bbf('0x26'),_0x541f64['author'][a40_0x5bbf('0x2e')])}})[a40_0x5bbf('0x14')](()=>{});const _0x5678ad=await TextChannel_1[a40_0x5bbf('0x2')]['find']({'guild':_0x541f64[a40_0x5bbf('0x34')]['id'],'voting':!![]}),_0x3dd3ce=[];for(const _0x952ab of _0x5678ad){_0x541f64[a40_0x5bbf('0x34')]['channels'][a40_0x5bbf('0x7')][a40_0x5bbf('0x1d')](_0x952ab[a40_0x5bbf('0xb')])?_0x3dd3ce[a40_0x5bbf('0xa')](_0x541f64[a40_0x5bbf('0x34')][a40_0x5bbf('0x25')][a40_0x5bbf('0x7')][a40_0x5bbf('0x20')](_0x952ab[a40_0x5bbf('0xb')])[a40_0x5bbf('0x1b')]+'\x20/\x20'+_0x952ab['_id']):await _0x952ab['remove']()['catch'](()=>{});}await _0x541f64[a40_0x5bbf('0x1e')][a40_0x5bbf('0x16')]({'embed':{'color':tesseract_1[a40_0x5bbf('0x39')][a40_0x5bbf('0x2f')]['IRIS'],'title':a40_0x5bbf('0x29'),'description':this[a40_0x5bbf('0x21')]['locale'][a40_0x5bbf('0x15')](_0x541f64['guild'][a40_0x5bbf('0x2a')][a40_0x5bbf('0x19')],a40_0x5bbf('0x1a'),a40_0x5bbf('0x35')),'fields':[{'name':(_0x3dd3ce['length']?_0x3dd3ce[a40_0x5bbf('0x3c')]:'No')+a40_0x5bbf('0x2d'),'value':_0x3dd3ce[a40_0x5bbf('0x13')]('\x0a\x0a')||'-'}]}})[a40_0x5bbf('0x14')](()=>{});};}};