const a43_0x5a45=['^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','document','GOLD','membershipLimitVotingChannels','Constants','send','cache','RED','exec','findByIdAndUpdate','votingChannels\x20--add','catch','errors','BASTION_ERROR_TYPE','_id','countDocuments','PREMIUM_MEMBERSHIP_REQUIRED','apply','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','LIMITS','channel','LIMITED_PREMIUM_MEMBERSHIP','test','PremiumTier','MANAGE_GUILD','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Command','locale','add','client','find','has','constructor','tag','DiscordError','language','author','length','exports','\x20Voting\x20Channels','PLATINUM','votingChannelsRemove','votingChannelsAdd','votingChannels','\x20/\x20','push','user','get','guild','default','votingChannels\x20--remove','isPublicBastion','premiumVotingChannels','VOTING_CHANNELS','../../models/TextChannel','info','remove','../../utils/errors','@bastion/tesseract','../../utils/omnic','name','COLORS','getString'];(function(_0x5edc88,_0xc647cc){const _0x5a45e0=function(_0x44bf5c){while(--_0x44bf5c){_0x5edc88['push'](_0x5edc88['shift']());}},_0x264971=function(){const _0x431449={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1610c9,_0x4d3585,_0x4f27ec,_0x4c0315){_0x4c0315=_0x4c0315||{};let _0x29dc5e=_0x4d3585+'='+_0x4f27ec,_0x167300=0x0;for(let _0xcccad9=0x0,_0x3db5af=_0x1610c9['length'];_0xcccad9<_0x3db5af;_0xcccad9++){const _0x31235d=_0x1610c9[_0xcccad9];_0x29dc5e+=';\x20'+_0x31235d;const _0x646bdf=_0x1610c9[_0x31235d];_0x1610c9['push'](_0x646bdf),_0x3db5af=_0x1610c9['length'],_0x646bdf!==!![]&&(_0x29dc5e+='='+_0x646bdf);}_0x4c0315['cookie']=_0x29dc5e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3afc73,_0x516838){_0x3afc73=_0x3afc73||function(_0x55d425){return _0x55d425;};const _0x4bf54f=_0x3afc73(new RegExp('(?:^|;\x20)'+_0x516838['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x30006b=function(_0x42dc8d,_0x3c2f0c){_0x42dc8d(++_0x3c2f0c);};return _0x30006b(_0x5a45e0,_0xc647cc),_0x4bf54f?decodeURIComponent(_0x4bf54f[0x1]):undefined;}},_0x2e5b5b=function(){const _0x3bc16a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3bc16a['test'](_0x431449['removeCookie']['toString']());};_0x431449['updateCookie']=_0x2e5b5b;let _0x83337f='';const _0x1a3fa6=_0x431449['updateCookie']();if(!_0x1a3fa6)_0x431449['setCookie'](['*'],'counter',0x1);else _0x1a3fa6?_0x83337f=_0x431449['getCookie'](null,'counter'):_0x431449['removeCookie']();};_0x264971();}(a43_0x5a45,0xc7));const a43_0x2649=function(_0x5edc88,_0xc647cc){_0x5edc88=_0x5edc88-0xd9;let _0x5a45e0=a43_0x5a45[_0x5edc88];return _0x5a45e0;};const a43_0xd95299=a43_0x2649,a43_0x2e5b5b=function(){let _0x1a3fa6=!![];return function(_0x1610c9,_0x4d3585){const _0x4f27ec=_0x1a3fa6?function(){const _0xe9ce0e=a43_0x2649;if(_0x4d3585){const _0x4c0315=_0x4d3585[_0xe9ce0e(0xe0)](_0x1610c9,arguments);return _0x4d3585=null,_0x4c0315;}}:function(){};return _0x1a3fa6=![],_0x4f27ec;};}(),a43_0x431449=a43_0x2e5b5b(this,function(){const _0x29dc5e=function(){const _0x2278d5=a43_0x2649,_0x167300=_0x29dc5e[_0x2278d5(0xef)](_0x2278d5(0xe8))()[_0x2278d5(0xef)](_0x2278d5(0x10e));return!_0x167300[_0x2278d5(0xe5)](a43_0x431449);};return _0x29dc5e();});a43_0x431449();'use strict';const tesseract_1=require(a43_0xd95299(0x109)),TextChannel_1=require(a43_0xd95299(0x105)),constants=require('../../utils/constants'),errors=require(a43_0xd95299(0x108)),omnic=require(a43_0xd95299(0x10a));module[a43_0xd95299(0xf5)]=class Announcements extends tesseract_1[a43_0xd95299(0xe9)]{constructor(){const _0x370ca8=a43_0xd95299;super(_0x370ca8(0xfa),{'description':_0x370ca8(0xe1),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[_0x370ca8(0xeb),_0x370ca8(0x107)]},'scope':_0x370ca8(0xff),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x370ca8(0xe7)],'syntax':[_0x370ca8(0xfa),_0x370ca8(0xd9),_0x370ca8(0x101)]}),this[_0x370ca8(0x116)]=async(_0xcccad9,_0x3db5af)=>{const _0x56c22d=_0x370ca8;if(_0x3db5af[_0x56c22d(0xeb)]){if(constants[_0x56c22d(0x102)](this[_0x56c22d(0xec)][_0x56c22d(0xfd)])){const _0x3afc73=await TextChannel_1[_0x56c22d(0x100)][_0x56c22d(0xde)]({'guild':_0xcccad9[_0x56c22d(0xff)]['id'],'voting':!![]});if(_0x3afc73>=constants['LIMITS'][_0x56c22d(0x104)]){const _0x516838=await omnic['fetchPremiumTier'](_0xcccad9['guild'])[_0x56c22d(0xda)](()=>{});if(_0x516838){if(_0x516838===omnic[_0x56c22d(0xe6)]['GOLD']&&_0x3afc73>=constants[_0x56c22d(0xe2)][_0x56c22d(0x110)][_0x56c22d(0x104)])throw new errors[(_0x56c22d(0xf1))](errors[_0x56c22d(0xdc)][_0x56c22d(0xe4)],this[_0x56c22d(0xec)][_0x56c22d(0xea)][_0x56c22d(0x10d)](_0xcccad9['guild'][_0x56c22d(0x10f)][_0x56c22d(0xf2)],_0x56c22d(0xdb),_0x56c22d(0x111),constants['LIMITS']['GOLD']['VOTING_CHANNELS']));else{if(_0x516838===omnic[_0x56c22d(0xe6)][_0x56c22d(0xf7)]&&_0x3afc73>=constants['LIMITS']['PLATINUM'][_0x56c22d(0x104)])throw new errors[(_0x56c22d(0xf1))](errors['BASTION_ERROR_TYPE'][_0x56c22d(0xe4)],this[_0x56c22d(0xec)][_0x56c22d(0xea)][_0x56c22d(0x10d)](_0xcccad9['guild']['document']['language'],_0x56c22d(0xdb),_0x56c22d(0x111),constants[_0x56c22d(0xe2)][_0x56c22d(0xf7)][_0x56c22d(0x104)]));}}else throw new errors['DiscordError'](errors[_0x56c22d(0xdc)][_0x56c22d(0xdf)],this['client']['locale']['getString'](_0xcccad9[_0x56c22d(0xff)][_0x56c22d(0x10f)]['language'],'errors',_0x56c22d(0x103),constants[_0x56c22d(0xe2)]['VOTING_CHANNELS']));}}return await TextChannel_1[_0x56c22d(0x100)][_0x56c22d(0x117)](_0xcccad9[_0x56c22d(0xe3)]['id'],{'_id':_0xcccad9[_0x56c22d(0xe3)]['id'],'guild':_0xcccad9[_0x56c22d(0xff)]['id'],'voting':!![]},{'upsert':!![]}),await _0xcccad9[_0x56c22d(0xe3)][_0x56c22d(0x113)]({'embed':{'color':tesseract_1['Constants'][_0x56c22d(0x10c)]['GREEN'],'description':this['client'][_0x56c22d(0xea)][_0x56c22d(0x10d)](_0xcccad9[_0x56c22d(0xff)]['document']['language'],_0x56c22d(0x106),_0x56c22d(0xf9),_0xcccad9[_0x56c22d(0xf3)][_0x56c22d(0xf0)])}})[_0x56c22d(0xda)](()=>{});}if(_0x3db5af[_0x56c22d(0x107)])return await TextChannel_1[_0x56c22d(0x100)]['findByIdAndUpdate'](_0xcccad9['channel']['id'],{'_id':_0xcccad9[_0x56c22d(0xe3)]['id'],'guild':_0xcccad9[_0x56c22d(0xff)]['id'],'$unset':{'voting':0x1}}),await _0xcccad9[_0x56c22d(0xe3)][_0x56c22d(0x113)]({'embed':{'color':tesseract_1[_0x56c22d(0x112)][_0x56c22d(0x10c)][_0x56c22d(0x115)],'description':this[_0x56c22d(0xec)][_0x56c22d(0xea)][_0x56c22d(0x10d)](_0xcccad9['guild'][_0x56c22d(0x10f)][_0x56c22d(0xf2)],_0x56c22d(0x106),_0x56c22d(0xf8),_0xcccad9[_0x56c22d(0xf3)][_0x56c22d(0xf0)])}})[_0x56c22d(0xda)](()=>{});const _0x31235d=await TextChannel_1[_0x56c22d(0x100)][_0x56c22d(0xed)]({'guild':_0xcccad9[_0x56c22d(0xff)]['id'],'voting':!![]}),_0x646bdf=[];for(const _0x4bf54f of _0x31235d){_0xcccad9[_0x56c22d(0xff)]['channels'][_0x56c22d(0x114)][_0x56c22d(0xee)](_0x4bf54f['_id'])?_0x646bdf[_0x56c22d(0xfc)](_0xcccad9['guild']['channels'][_0x56c22d(0x114)][_0x56c22d(0xfe)](_0x4bf54f[_0x56c22d(0xdd)])[_0x56c22d(0x10b)]+_0x56c22d(0xfb)+_0x4bf54f[_0x56c22d(0xdd)]):await _0x4bf54f[_0x56c22d(0x107)]()[_0x56c22d(0xda)](()=>{});}await _0xcccad9[_0x56c22d(0xe3)][_0x56c22d(0x113)]({'embed':{'color':tesseract_1[_0x56c22d(0x112)][_0x56c22d(0x10c)]['IRIS'],'title':'Voting\x20Channels','description':this['client'][_0x56c22d(0xea)][_0x56c22d(0x10d)](_0xcccad9[_0x56c22d(0xff)]['document'][_0x56c22d(0xf2)],'info',_0x56c22d(0xfa)),'fields':[{'name':(_0x646bdf[_0x56c22d(0xf4)]?_0x646bdf['length']:'No')+_0x56c22d(0xf6),'value':_0x646bdf['join']('\x0a\x0a')||'-'}]}})[_0x56c22d(0xda)](()=>{});};}};