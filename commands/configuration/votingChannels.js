const a40_0x12df=['findByIdAndUpdate','author','../../utils/constants','votingChannelsAdd','LIMITS','exec','PREMIUM_MEMBERSHIP_REQUIRED','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channels','../../utils/omnic','IRIS','guild','test','\x20Voting\x20Channels','document','join','cache','RED','votingChannelsRemove','MANAGE_GUILD','DiscordError','GREEN','exports','LIMITED_PREMIUM_MEMBERSHIP','send','find','add','info','PLATINUM','votingChannels','COLORS','remove','default','channel','BASTION_ERROR_TYPE','constructor','length','membershipLimitVotingChannels','client','errors','getString','../../models/TextChannel','has','_id','fetchPremiumTier','language','countDocuments','get','catch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','votingChannels\x20--remove','@bastion/tesseract','Voting\x20Channels','GOLD','push','votingChannels\x20--add','VOTING_CHANNELS','locale','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.'];(function(_0x2e5fe0,_0x12df2b){const _0x4b5865=function(_0x4331f7){while(--_0x4331f7){_0x2e5fe0['push'](_0x2e5fe0['shift']());}},_0x1d74fe=function(){const _0x21fa65={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3ad5ba,_0x12cf1e,_0x4af22f,_0x39a909){_0x39a909=_0x39a909||{};let _0x5b9e75=_0x12cf1e+'='+_0x4af22f,_0x6c150d=0x0;for(let _0xad2e4c=0x0,_0x5a90c1=_0x3ad5ba['length'];_0xad2e4c<_0x5a90c1;_0xad2e4c++){const _0x14a8a1=_0x3ad5ba[_0xad2e4c];_0x5b9e75+=';\x20'+_0x14a8a1;const _0x407a4f=_0x3ad5ba[_0x14a8a1];_0x3ad5ba['push'](_0x407a4f),_0x5a90c1=_0x3ad5ba['length'],_0x407a4f!==!![]&&(_0x5b9e75+='='+_0x407a4f);}_0x39a909['cookie']=_0x5b9e75;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1f3301,_0x2ad2cd){_0x1f3301=_0x1f3301||function(_0x4076db){return _0x4076db;};const _0x18b22c=_0x1f3301(new RegExp('(?:^|;\x20)'+_0x2ad2cd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4f58c3=function(_0x1e9c8d,_0x5aa087){_0x1e9c8d(++_0x5aa087);};return _0x4f58c3(_0x4b5865,_0x12df2b),_0x18b22c?decodeURIComponent(_0x18b22c[0x1]):undefined;}},_0x42b117=function(){const _0x4528ec=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4528ec['test'](_0x21fa65['removeCookie']['toString']());};_0x21fa65['updateCookie']=_0x42b117;let _0x1c4c0a='';const _0x5eda21=_0x21fa65['updateCookie']();if(!_0x5eda21)_0x21fa65['setCookie'](['*'],'counter',0x1);else _0x5eda21?_0x1c4c0a=_0x21fa65['getCookie'](null,'counter'):_0x21fa65['removeCookie']();};_0x1d74fe();}(a40_0x12df,0x126));const a40_0x4b58=function(_0x2e5fe0,_0x12df2b){_0x2e5fe0=_0x2e5fe0-0x0;let _0x4b5865=a40_0x12df[_0x2e5fe0];return _0x4b5865;};const a40_0x4af22f=function(){let _0x2791f0=!![];return function(_0x3768b9,_0x1e1659){const _0x746fd5=_0x2791f0?function(){if(_0x1e1659){const _0x3eb399=_0x1e1659['apply'](_0x3768b9,arguments);return _0x1e1659=null,_0x3eb399;}}:function(){};return _0x2791f0=![],_0x746fd5;};}(),a40_0x12cf1e=a40_0x4af22f(this,function(){const _0x40dbc1=function(){const _0x18d6f5=_0x40dbc1[a40_0x4b58('0x2a')](a40_0x4b58('0x38'))()['constructor'](a40_0x4b58('0xe'));return!_0x18d6f5[a40_0x4b58('0x13')](a40_0x12cf1e);};return _0x40dbc1();});a40_0x12cf1e();'use strict';const tesseract_1=require(a40_0x4b58('0x3a')),TextChannel_1=require(a40_0x4b58('0x30')),constants=require(a40_0x4b58('0x8')),errors=require('../../utils/errors'),omnic=require(a40_0x4b58('0x10'));module[a40_0x4b58('0x1d')]=class Announcements extends tesseract_1['Command']{constructor(){super(a40_0x4b58('0x24'),{'description':a40_0x4b58('0x5'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x4b58('0x21'),a40_0x4b58('0x26')]},'scope':a40_0x4b58('0x12'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x4b58('0x1a')],'syntax':[a40_0x4b58('0x24'),a40_0x4b58('0x2'),a40_0x4b58('0x39')]}),this[a40_0x4b58('0xb')]=async(_0x4f5751,_0x4bb347)=>{if(_0x4bb347[a40_0x4b58('0x21')]){if(constants['isPublicBastion'](this[a40_0x4b58('0x2d')]['user'])){const _0x40d3f3=await TextChannel_1['default'][a40_0x4b58('0x35')]({'guild':_0x4f5751[a40_0x4b58('0x12')]['id'],'voting':!![]});if(_0x40d3f3>=constants[a40_0x4b58('0xa')]['VOTING_CHANNELS']){const _0x23ef87=await omnic[a40_0x4b58('0x33')](_0x4f5751[a40_0x4b58('0x12')])[a40_0x4b58('0x37')](()=>{});if(_0x23ef87){if(_0x23ef87===omnic['PremiumTier'][a40_0x4b58('0x0')]&&_0x40d3f3>=constants[a40_0x4b58('0xa')]['GOLD'][a40_0x4b58('0x3')])throw new errors['DiscordError'](errors[a40_0x4b58('0x29')][a40_0x4b58('0x1e')],this['client'][a40_0x4b58('0x4')][a40_0x4b58('0x2f')](_0x4f5751[a40_0x4b58('0x12')][a40_0x4b58('0x15')][a40_0x4b58('0x34')],a40_0x4b58('0x2e'),a40_0x4b58('0x2c'),constants[a40_0x4b58('0xa')]['GOLD'][a40_0x4b58('0x3')]));else{if(_0x23ef87===omnic['PremiumTier'][a40_0x4b58('0x23')]&&_0x40d3f3>=constants['LIMITS'][a40_0x4b58('0x23')][a40_0x4b58('0x3')])throw new errors[(a40_0x4b58('0x1b'))](errors[a40_0x4b58('0x29')][a40_0x4b58('0x1e')],this['client'][a40_0x4b58('0x4')]['getString'](_0x4f5751[a40_0x4b58('0x12')][a40_0x4b58('0x15')][a40_0x4b58('0x34')],a40_0x4b58('0x2e'),a40_0x4b58('0x2c'),constants['LIMITS']['PLATINUM'][a40_0x4b58('0x3')]));}}else throw new errors[(a40_0x4b58('0x1b'))](errors['BASTION_ERROR_TYPE'][a40_0x4b58('0xc')],this[a40_0x4b58('0x2d')][a40_0x4b58('0x4')][a40_0x4b58('0x2f')](_0x4f5751[a40_0x4b58('0x12')]['document'][a40_0x4b58('0x34')],'errors','premiumVotingChannels',constants['LIMITS'][a40_0x4b58('0x3')]));}}return await TextChannel_1[a40_0x4b58('0x27')][a40_0x4b58('0x6')](_0x4f5751['channel']['id'],{'_id':_0x4f5751[a40_0x4b58('0x28')]['id'],'guild':_0x4f5751[a40_0x4b58('0x12')]['id'],'voting':!![]},{'upsert':!![]}),await _0x4f5751[a40_0x4b58('0x28')][a40_0x4b58('0x1f')]({'embed':{'color':tesseract_1[a40_0x4b58('0xd')][a40_0x4b58('0x25')][a40_0x4b58('0x1c')],'description':this[a40_0x4b58('0x2d')][a40_0x4b58('0x4')][a40_0x4b58('0x2f')](_0x4f5751[a40_0x4b58('0x12')][a40_0x4b58('0x15')][a40_0x4b58('0x34')],a40_0x4b58('0x22'),a40_0x4b58('0x9'),_0x4f5751[a40_0x4b58('0x7')]['tag'])}})['catch'](()=>{});}if(_0x4bb347[a40_0x4b58('0x26')])return await TextChannel_1[a40_0x4b58('0x27')][a40_0x4b58('0x6')](_0x4f5751['channel']['id'],{'_id':_0x4f5751['channel']['id'],'guild':_0x4f5751[a40_0x4b58('0x12')]['id'],'$unset':{'voting':0x1}}),await _0x4f5751[a40_0x4b58('0x28')]['send']({'embed':{'color':tesseract_1[a40_0x4b58('0xd')]['COLORS'][a40_0x4b58('0x18')],'description':this[a40_0x4b58('0x2d')][a40_0x4b58('0x4')][a40_0x4b58('0x2f')](_0x4f5751['guild'][a40_0x4b58('0x15')][a40_0x4b58('0x34')],a40_0x4b58('0x22'),a40_0x4b58('0x19'),_0x4f5751[a40_0x4b58('0x7')]['tag'])}})['catch'](()=>{});const _0x54287d=await TextChannel_1[a40_0x4b58('0x27')][a40_0x4b58('0x20')]({'guild':_0x4f5751[a40_0x4b58('0x12')]['id'],'voting':!![]}),_0x1459dc=[];for(const _0x9b4273 of _0x54287d){_0x4f5751[a40_0x4b58('0x12')][a40_0x4b58('0xf')][a40_0x4b58('0x17')][a40_0x4b58('0x31')](_0x9b4273['_id'])?_0x1459dc[a40_0x4b58('0x1')](_0x4f5751[a40_0x4b58('0x12')][a40_0x4b58('0xf')]['cache'][a40_0x4b58('0x36')](_0x9b4273[a40_0x4b58('0x32')])['name']+'\x20/\x20'+_0x9b4273['_id']):await _0x9b4273[a40_0x4b58('0x26')]()[a40_0x4b58('0x37')](()=>{});}await _0x4f5751[a40_0x4b58('0x28')][a40_0x4b58('0x1f')]({'embed':{'color':tesseract_1[a40_0x4b58('0xd')]['COLORS'][a40_0x4b58('0x11')],'title':a40_0x4b58('0x3b'),'description':this[a40_0x4b58('0x2d')][a40_0x4b58('0x4')][a40_0x4b58('0x2f')](_0x4f5751[a40_0x4b58('0x12')][a40_0x4b58('0x15')][a40_0x4b58('0x34')],'info',a40_0x4b58('0x24')),'fields':[{'name':(_0x1459dc['length']?_0x1459dc[a40_0x4b58('0x2b')]:'No')+a40_0x4b58('0x14'),'value':_0x1459dc[a40_0x4b58('0x16')]('\x0a\x0a')||'-'}]}})[a40_0x4b58('0x37')](()=>{});};}};