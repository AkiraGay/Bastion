const a43_0x499f=['69463oPYVKI','cache','DiscordError','isPublicBastion','add','185797OUCmHN','PREMIUM_MEMBERSHIP_REQUIRED','votingChannelsAdd','has','getString','Constants','document','channel','votingChannelsRemove','guild','info','464797bCPdVI','../../utils/constants','fetchPremiumTier','COLORS','author','channels','GOLD','1ucLyoT','\x20/\x20','errors','../../utils/errors','test','send','VOTING_CHANNELS','push','locale','44841znUiYP','LIMITED_PREMIUM_MEMBERSHIP','../../utils/omnic','return\x20/\x22\x20+\x20this\x20+\x20\x22/','votingChannels\x20--remove','LIMITS','PremiumTier','votingChannels','Voting\x20Channels','client','catch','2nziHxB','tag','Command','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GREEN','68261ZVAlNT','\x20Voting\x20Channels','user','find','6DqyAbI','../../models/TextChannel','get','name','PLATINUM','_id','exports','language','constructor','countDocuments','membershipLimitVotingChannels','remove','455502MYUxtq','length','default','8rYtcam','join','premiumVotingChannels','@bastion/tesseract','17828vUixRf','BASTION_ERROR_TYPE'];const a43_0x4f77=function(_0x39f832,_0x2746bb){_0x39f832=_0x39f832-0x168;let _0x11af2b=a43_0x499f[_0x39f832];return _0x11af2b;};const a43_0xbc6002=a43_0x4f77;(function(_0x124fee,_0x1e75ad){const _0x13416f=a43_0x4f77;while(!![]){try{const _0x3747df=parseInt(_0x13416f(0x16d))+parseInt(_0x13416f(0x18d))*parseInt(_0x13416f(0x17b))+-parseInt(_0x13416f(0x176))*parseInt(_0x13416f(0x1a1))+-parseInt(_0x13416f(0x196))*-parseInt(_0x13416f(0x1aa))+-parseInt(_0x13416f(0x174))*-parseInt(_0x13416f(0x170))+parseInt(_0x13416f(0x1a6))+-parseInt(_0x13416f(0x186));if(_0x3747df===_0x1e75ad)break;else _0x124fee['push'](_0x124fee['shift']());}catch(_0x2b55a3){_0x124fee['push'](_0x124fee['shift']());}}}(a43_0x499f,0x7e583));const a43_0x4befb3=function(){let _0x43f763=!![];return function(_0x46e6f5,_0xd204ec){const _0x344dc5=_0x43f763?function(){if(_0xd204ec){const _0x4fd425=_0xd204ec['apply'](_0x46e6f5,arguments);return _0xd204ec=null,_0x4fd425;}}:function(){};return _0x43f763=![],_0x344dc5;};}(),a43_0x3d0183=a43_0x4befb3(this,function(){const _0x23fa4a=function(){const _0x216e75=a43_0x4f77,_0x42a2ac=_0x23fa4a[_0x216e75(0x169)](_0x216e75(0x199))()[_0x216e75(0x169)](_0x216e75(0x1a4));return!_0x42a2ac[_0x216e75(0x191)](a43_0x3d0183);};return _0x23fa4a();});a43_0x3d0183();'use strict';const tesseract_1=require(a43_0xbc6002(0x173)),TextChannel_1=require(a43_0xbc6002(0x1ab)),constants=require(a43_0xbc6002(0x187)),errors=require(a43_0xbc6002(0x190)),omnic=require(a43_0xbc6002(0x198));module[a43_0xbc6002(0x1b0)]=class Announcements extends tesseract_1[a43_0xbc6002(0x1a3)]{constructor(){const _0x9e331b=a43_0xbc6002;super('votingChannels',{'description':'It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[_0x9e331b(0x17a),_0x9e331b(0x16c)]},'scope':_0x9e331b(0x184),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x9e331b(0x19d),'votingChannels\x20--add',_0x9e331b(0x19a)]}),this['exec']=async(_0x14e5a1,_0x589459)=>{const _0x212ecd=_0x9e331b;if(_0x589459[_0x212ecd(0x17a)]){if(constants[_0x212ecd(0x179)](this[_0x212ecd(0x19f)][_0x212ecd(0x1a8)])){const _0x1f20a7=await TextChannel_1[_0x212ecd(0x16f)][_0x212ecd(0x16a)]({'guild':_0x14e5a1['guild']['id'],'voting':!![]});if(_0x1f20a7>=constants['LIMITS']['VOTING_CHANNELS']){const _0x498612=await omnic[_0x212ecd(0x188)](_0x14e5a1['guild'])[_0x212ecd(0x1a0)](()=>{});if(_0x498612){if(_0x498612===omnic[_0x212ecd(0x19c)][_0x212ecd(0x18c)]&&_0x1f20a7>=constants[_0x212ecd(0x19b)][_0x212ecd(0x18c)][_0x212ecd(0x193)])throw new errors[(_0x212ecd(0x178))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][_0x212ecd(0x195)][_0x212ecd(0x17f)](_0x14e5a1[_0x212ecd(0x184)][_0x212ecd(0x181)][_0x212ecd(0x168)],_0x212ecd(0x18f),_0x212ecd(0x16b),constants[_0x212ecd(0x19b)][_0x212ecd(0x18c)][_0x212ecd(0x193)]));else{if(_0x498612===omnic[_0x212ecd(0x19c)][_0x212ecd(0x1ae)]&&_0x1f20a7>=constants['LIMITS'][_0x212ecd(0x1ae)][_0x212ecd(0x193)])throw new errors[(_0x212ecd(0x178))](errors['BASTION_ERROR_TYPE'][_0x212ecd(0x197)],this[_0x212ecd(0x19f)][_0x212ecd(0x195)][_0x212ecd(0x17f)](_0x14e5a1[_0x212ecd(0x184)]['document'][_0x212ecd(0x168)],_0x212ecd(0x18f),_0x212ecd(0x16b),constants['LIMITS']['PLATINUM'][_0x212ecd(0x193)]));}}else throw new errors[(_0x212ecd(0x178))](errors[_0x212ecd(0x175)][_0x212ecd(0x17c)],this[_0x212ecd(0x19f)][_0x212ecd(0x195)]['getString'](_0x14e5a1[_0x212ecd(0x184)][_0x212ecd(0x181)][_0x212ecd(0x168)],_0x212ecd(0x18f),_0x212ecd(0x172),constants[_0x212ecd(0x19b)][_0x212ecd(0x193)]));}}return await TextChannel_1[_0x212ecd(0x16f)]['findByIdAndUpdate'](_0x14e5a1[_0x212ecd(0x182)]['id'],{'_id':_0x14e5a1['channel']['id'],'guild':_0x14e5a1[_0x212ecd(0x184)]['id'],'voting':!![]},{'upsert':!![]}),await _0x14e5a1[_0x212ecd(0x182)][_0x212ecd(0x192)]({'embed':{'color':tesseract_1[_0x212ecd(0x180)][_0x212ecd(0x189)][_0x212ecd(0x1a5)],'description':this[_0x212ecd(0x19f)][_0x212ecd(0x195)][_0x212ecd(0x17f)](_0x14e5a1[_0x212ecd(0x184)][_0x212ecd(0x181)]['language'],_0x212ecd(0x185),_0x212ecd(0x17d),_0x14e5a1['author'][_0x212ecd(0x1a2)])}})[_0x212ecd(0x1a0)](()=>{});}if(_0x589459[_0x212ecd(0x16c)])return await TextChannel_1[_0x212ecd(0x16f)]['findByIdAndUpdate'](_0x14e5a1[_0x212ecd(0x182)]['id'],{'_id':_0x14e5a1[_0x212ecd(0x182)]['id'],'guild':_0x14e5a1['guild']['id'],'$unset':{'voting':0x1}}),await _0x14e5a1[_0x212ecd(0x182)][_0x212ecd(0x192)]({'embed':{'color':tesseract_1[_0x212ecd(0x180)]['COLORS']['RED'],'description':this[_0x212ecd(0x19f)]['locale'][_0x212ecd(0x17f)](_0x14e5a1[_0x212ecd(0x184)]['document'][_0x212ecd(0x168)],_0x212ecd(0x185),_0x212ecd(0x183),_0x14e5a1[_0x212ecd(0x18a)][_0x212ecd(0x1a2)])}})['catch'](()=>{});const _0x3f12f0=await TextChannel_1[_0x212ecd(0x16f)][_0x212ecd(0x1a9)]({'guild':_0x14e5a1[_0x212ecd(0x184)]['id'],'voting':!![]}),_0x26132f=[];for(const _0x1920c2 of _0x3f12f0){_0x14e5a1[_0x212ecd(0x184)][_0x212ecd(0x18b)][_0x212ecd(0x177)][_0x212ecd(0x17e)](_0x1920c2[_0x212ecd(0x1af)])?_0x26132f[_0x212ecd(0x194)](_0x14e5a1[_0x212ecd(0x184)][_0x212ecd(0x18b)][_0x212ecd(0x177)][_0x212ecd(0x1ac)](_0x1920c2[_0x212ecd(0x1af)])[_0x212ecd(0x1ad)]+_0x212ecd(0x18e)+_0x1920c2['_id']):await _0x1920c2[_0x212ecd(0x16c)]()[_0x212ecd(0x1a0)](()=>{});}await _0x14e5a1['channel'][_0x212ecd(0x192)]({'embed':{'color':tesseract_1[_0x212ecd(0x180)][_0x212ecd(0x189)]['IRIS'],'title':_0x212ecd(0x19e),'description':this['client'][_0x212ecd(0x195)][_0x212ecd(0x17f)](_0x14e5a1[_0x212ecd(0x184)]['document'][_0x212ecd(0x168)],'info',_0x212ecd(0x19d)),'fields':[{'name':(_0x26132f[_0x212ecd(0x16e)]?_0x26132f[_0x212ecd(0x16e)]:'No')+_0x212ecd(0x1a7),'value':_0x26132f[_0x212ecd(0x171)]('\x0a\x0a')||'-'}]}})[_0x212ecd(0x1a0)](()=>{});};}};