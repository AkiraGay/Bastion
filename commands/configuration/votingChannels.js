const a43_0x5820=['name','LIMITS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','VOTING_CHANNELS','exports','constructor','client','../../utils/omnic','catch','votingChannels\x20--remove','membershipLimitVotingChannels','PremiumTier','default','channel','push','exec','\x20Voting\x20Channels','find','GREEN','PLATINUM','isPublicBastion','document','GOLD','locale','language','return\x20/\x22\x20+\x20this\x20+\x20\x22/','remove','@bastion/tesseract','\x20/\x20','IRIS','tag','_id','votingChannels','send','PREMIUM_MEMBERSHIP_REQUIRED','errors','author','getString','COLORS','info','../../utils/errors','length','premiumVotingChannels','BASTION_ERROR_TYPE','cache','user','LIMITED_PREMIUM_MEMBERSHIP','add','join','votingChannels\x20--add','RED','../../utils/constants','countDocuments','guild','votingChannelsRemove','votingChannelsAdd','findByIdAndUpdate','get','test','channels','DiscordError'];(function(_0x53f394,_0x2dc386){const _0x5820e7=function(_0x27eed2){while(--_0x27eed2){_0x53f394['push'](_0x53f394['shift']());}},_0x2f7ea8=function(){const _0x31ddee={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x48e03b,_0x7373f2,_0x4fc5ad,_0x6bd3f6){_0x6bd3f6=_0x6bd3f6||{};let _0x1cf53f=_0x7373f2+'='+_0x4fc5ad,_0x20d171=0x0;for(let _0x47e39e=0x0,_0x25e111=_0x48e03b['length'];_0x47e39e<_0x25e111;_0x47e39e++){const _0x3b65c8=_0x48e03b[_0x47e39e];_0x1cf53f+=';\x20'+_0x3b65c8;const _0x1c379a=_0x48e03b[_0x3b65c8];_0x48e03b['push'](_0x1c379a),_0x25e111=_0x48e03b['length'],_0x1c379a!==!![]&&(_0x1cf53f+='='+_0x1c379a);}_0x6bd3f6['cookie']=_0x1cf53f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5bf2d1,_0x14ade6){_0x5bf2d1=_0x5bf2d1||function(_0x121aa9){return _0x121aa9;};const _0x21d27e=_0x5bf2d1(new RegExp('(?:^|;\x20)'+_0x14ade6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5e4745=function(_0x52ea8f,_0x616f1d){_0x52ea8f(++_0x616f1d);};return _0x5e4745(_0x5820e7,_0x2dc386),_0x21d27e?decodeURIComponent(_0x21d27e[0x1]):undefined;}},_0x3ced29=function(){const _0x24f4e4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x24f4e4['test'](_0x31ddee['removeCookie']['toString']());};_0x31ddee['updateCookie']=_0x3ced29;let _0x9172ec='';const _0x305234=_0x31ddee['updateCookie']();if(!_0x305234)_0x31ddee['setCookie'](['*'],'counter',0x1);else _0x305234?_0x9172ec=_0x31ddee['getCookie'](null,'counter'):_0x31ddee['removeCookie']();};_0x2f7ea8();}(a43_0x5820,0x1c3));const a43_0x2f7e=function(_0x53f394,_0x2dc386){_0x53f394=_0x53f394-0x91;let _0x5820e7=a43_0x5820[_0x53f394];return _0x5820e7;};const _0x5c3288=a43_0x2f7e,a43_0x3ced29=function(){let _0x305234=!![];return function(_0x48e03b,_0x7373f2){const _0x4fc5ad=_0x305234?function(){if(_0x7373f2){const _0x6bd3f6=_0x7373f2['apply'](_0x48e03b,arguments);return _0x7373f2=null,_0x6bd3f6;}}:function(){};return _0x305234=![],_0x4fc5ad;};}(),a43_0x31ddee=a43_0x3ced29(this,function(){const _0x1cf53f=function(){const _0x295a33=a43_0x2f7e,_0x20d171=_0x1cf53f[_0x295a33(0xbb)](_0x295a33(0x92))()[_0x295a33(0xbb)](_0x295a33(0xb8));return!_0x20d171[_0x295a33(0xb3)](a43_0x31ddee);};return _0x1cf53f();});a43_0x31ddee();'use strict';const tesseract_1=require(_0x5c3288(0x94)),TextChannel_1=require('../../models/TextChannel'),constants=require(_0x5c3288(0xac)),errors=require(_0x5c3288(0xa1)),omnic=require(_0x5c3288(0xbd));module[_0x5c3288(0xba)]=class Announcements extends tesseract_1['Command']{constructor(){const _0x195341=_0x5c3288;super(_0x195341(0x99),{'description':'It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[_0x195341(0xa8),'remove']},'scope':_0x195341(0xae),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x195341(0x99),_0x195341(0xaa),_0x195341(0xbf)]}),this[_0x195341(0xc5)]=async(_0x47e39e,_0x25e111)=>{const _0x41eb7f=_0x195341;if(_0x25e111[_0x41eb7f(0xa8)]){if(constants[_0x41eb7f(0xca)](this[_0x41eb7f(0xbc)][_0x41eb7f(0xa6)])){const _0x5bf2d1=await TextChannel_1[_0x41eb7f(0xc2)][_0x41eb7f(0xad)]({'guild':_0x47e39e[_0x41eb7f(0xae)]['id'],'voting':!![]});if(_0x5bf2d1>=constants[_0x41eb7f(0xb7)]['VOTING_CHANNELS']){const _0x14ade6=await omnic['fetchPremiumTier'](_0x47e39e[_0x41eb7f(0xae)])[_0x41eb7f(0xbe)](()=>{});if(_0x14ade6){if(_0x14ade6===omnic[_0x41eb7f(0xc1)][_0x41eb7f(0xcc)]&&_0x5bf2d1>=constants[_0x41eb7f(0xb7)][_0x41eb7f(0xcc)][_0x41eb7f(0xb9)])throw new errors[(_0x41eb7f(0xb5))](errors[_0x41eb7f(0xa4)][_0x41eb7f(0xa7)],this[_0x41eb7f(0xbc)][_0x41eb7f(0xcd)][_0x41eb7f(0x9e)](_0x47e39e[_0x41eb7f(0xae)]['document'][_0x41eb7f(0x91)],_0x41eb7f(0x9c),_0x41eb7f(0xc0),constants[_0x41eb7f(0xb7)][_0x41eb7f(0xcc)][_0x41eb7f(0xb9)]));else{if(_0x14ade6===omnic[_0x41eb7f(0xc1)][_0x41eb7f(0xc9)]&&_0x5bf2d1>=constants[_0x41eb7f(0xb7)][_0x41eb7f(0xc9)]['VOTING_CHANNELS'])throw new errors['DiscordError'](errors[_0x41eb7f(0xa4)][_0x41eb7f(0xa7)],this[_0x41eb7f(0xbc)][_0x41eb7f(0xcd)]['getString'](_0x47e39e[_0x41eb7f(0xae)]['document'][_0x41eb7f(0x91)],_0x41eb7f(0x9c),_0x41eb7f(0xc0),constants[_0x41eb7f(0xb7)][_0x41eb7f(0xc9)][_0x41eb7f(0xb9)]));}}else throw new errors[(_0x41eb7f(0xb5))](errors[_0x41eb7f(0xa4)][_0x41eb7f(0x9b)],this['client']['locale'][_0x41eb7f(0x9e)](_0x47e39e[_0x41eb7f(0xae)][_0x41eb7f(0xcb)][_0x41eb7f(0x91)],_0x41eb7f(0x9c),_0x41eb7f(0xa3),constants[_0x41eb7f(0xb7)][_0x41eb7f(0xb9)]));}}return await TextChannel_1[_0x41eb7f(0xc2)]['findByIdAndUpdate'](_0x47e39e['channel']['id'],{'_id':_0x47e39e[_0x41eb7f(0xc3)]['id'],'guild':_0x47e39e[_0x41eb7f(0xae)]['id'],'voting':!![]},{'upsert':!![]}),await _0x47e39e[_0x41eb7f(0xc3)][_0x41eb7f(0x9a)]({'embed':{'color':tesseract_1['Constants'][_0x41eb7f(0x9f)][_0x41eb7f(0xc8)],'description':this[_0x41eb7f(0xbc)][_0x41eb7f(0xcd)][_0x41eb7f(0x9e)](_0x47e39e['guild']['document'][_0x41eb7f(0x91)],_0x41eb7f(0xa0),_0x41eb7f(0xb0),_0x47e39e[_0x41eb7f(0x9d)][_0x41eb7f(0x97)])}})[_0x41eb7f(0xbe)](()=>{});}if(_0x25e111[_0x41eb7f(0x93)])return await TextChannel_1[_0x41eb7f(0xc2)][_0x41eb7f(0xb1)](_0x47e39e[_0x41eb7f(0xc3)]['id'],{'_id':_0x47e39e[_0x41eb7f(0xc3)]['id'],'guild':_0x47e39e[_0x41eb7f(0xae)]['id'],'$unset':{'voting':0x1}}),await _0x47e39e[_0x41eb7f(0xc3)]['send']({'embed':{'color':tesseract_1['Constants'][_0x41eb7f(0x9f)][_0x41eb7f(0xab)],'description':this['client']['locale'][_0x41eb7f(0x9e)](_0x47e39e[_0x41eb7f(0xae)][_0x41eb7f(0xcb)][_0x41eb7f(0x91)],_0x41eb7f(0xa0),_0x41eb7f(0xaf),_0x47e39e[_0x41eb7f(0x9d)][_0x41eb7f(0x97)])}})[_0x41eb7f(0xbe)](()=>{});const _0x3b65c8=await TextChannel_1[_0x41eb7f(0xc2)][_0x41eb7f(0xc7)]({'guild':_0x47e39e[_0x41eb7f(0xae)]['id'],'voting':!![]}),_0x1c379a=[];for(const _0x21d27e of _0x3b65c8){_0x47e39e[_0x41eb7f(0xae)][_0x41eb7f(0xb4)][_0x41eb7f(0xa5)]['has'](_0x21d27e[_0x41eb7f(0x98)])?_0x1c379a[_0x41eb7f(0xc4)](_0x47e39e[_0x41eb7f(0xae)][_0x41eb7f(0xb4)]['cache'][_0x41eb7f(0xb2)](_0x21d27e[_0x41eb7f(0x98)])[_0x41eb7f(0xb6)]+_0x41eb7f(0x95)+_0x21d27e[_0x41eb7f(0x98)]):await _0x21d27e[_0x41eb7f(0x93)]()[_0x41eb7f(0xbe)](()=>{});}await _0x47e39e[_0x41eb7f(0xc3)][_0x41eb7f(0x9a)]({'embed':{'color':tesseract_1['Constants'][_0x41eb7f(0x9f)][_0x41eb7f(0x96)],'title':'Voting\x20Channels','description':this['client']['locale']['getString'](_0x47e39e[_0x41eb7f(0xae)][_0x41eb7f(0xcb)][_0x41eb7f(0x91)],_0x41eb7f(0xa0),_0x41eb7f(0x99)),'fields':[{'name':(_0x1c379a[_0x41eb7f(0xa2)]?_0x1c379a[_0x41eb7f(0xa2)]:'No')+_0x41eb7f(0xc6),'value':_0x1c379a[_0x41eb7f(0xa9)]('\x0a\x0a')||'-'}]}})['catch'](()=>{});};}};