const a40_0x5e52=['test','GREEN','VOTING_CHANNELS','LIMITED_PREMIUM_MEMBERSHIP','info','Voting\x20Channels','GOLD','join','fetchPremiumTier','push','author','channels','constructor','COLORS','../../utils/errors','default','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','has','votingChannelsRemove','find','getString','compile','findByIdAndUpdate','exports','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','votingChannelsAdd','apply','BASTION_ERROR_TYPE','add','errors','tag','premiumVotingChannels','remove','PLATINUM','DiscordError','votingChannels\x20--add','isPublicBastion','PREMIUM_MEMBERSHIP_REQUIRED','LIMITS','catch','guild','client','name','membershipLimitVotingChannels','locale','_id','PremiumTier','Constants','document','cache','length','../../utils/omnic','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../utils/constants','IRIS','user','channel','\x20Voting\x20Channels','votingChannels','../../models/TextChannel','send','language'];(function(_0x28f454,_0x5e52a5){const _0x3caf46=function(_0x7f0ee8){while(--_0x7f0ee8){_0x28f454['push'](_0x28f454['shift']());}};const _0x3142e3=function(){const _0x13a5ee={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1932cd,_0x4199e7,_0x13fcca,_0x92e813){_0x92e813=_0x92e813||{};let _0x51dd59=_0x4199e7+'='+_0x13fcca;let _0x1679a=0x0;for(let _0x6a6001=0x0,_0x1b77b2=_0x1932cd['length'];_0x6a6001<_0x1b77b2;_0x6a6001++){const _0x2f4cf1=_0x1932cd[_0x6a6001];_0x51dd59+=';\x20'+_0x2f4cf1;const _0x1cc3df=_0x1932cd[_0x2f4cf1];_0x1932cd['push'](_0x1cc3df);_0x1b77b2=_0x1932cd['length'];if(_0x1cc3df!==!![]){_0x51dd59+='='+_0x1cc3df;}}_0x92e813['cookie']=_0x51dd59;},'removeCookie':function(){return'dev';},'getCookie':function(_0x54e55f,_0x3001b9){_0x54e55f=_0x54e55f||function(_0x30b435){return _0x30b435;};const _0xea25df=_0x54e55f(new RegExp('(?:^|;\x20)'+_0x3001b9['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2e63d5=function(_0x4db4da,_0x4ff209){_0x4db4da(++_0x4ff209);};_0x2e63d5(_0x3caf46,_0x5e52a5);return _0xea25df?decodeURIComponent(_0xea25df[0x1]):undefined;}};const _0x4486a4=function(){const _0xe9853c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xe9853c['test'](_0x13a5ee['removeCookie']['toString']());};_0x13a5ee['updateCookie']=_0x4486a4;let _0x46fe02='';const _0x3958ed=_0x13a5ee['updateCookie']();if(!_0x3958ed){_0x13a5ee['setCookie'](['*'],'counter',0x1);}else if(_0x3958ed){_0x46fe02=_0x13a5ee['getCookie'](null,'counter');}else{_0x13a5ee['removeCookie']();}};_0x3142e3();}(a40_0x5e52,0x110));const a40_0x3caf=function(_0x28f454,_0x5e52a5){_0x28f454=_0x28f454-0x0;let _0x3caf46=a40_0x5e52[_0x28f454];return _0x3caf46;};const a40_0x13a5ee=function(){let _0x1dc5b8=!![];return function(_0x36ab2,_0x3dbdf3){const _0x1e82d7=_0x1dc5b8?function(){if(_0x3dbdf3){const _0x1e6eba=_0x3dbdf3[a40_0x3caf('0x2')](_0x36ab2,arguments);_0x3dbdf3=null;return _0x1e6eba;}}:function(){};_0x1dc5b8=![];return _0x1e82d7;};}();const a40_0x7f0ee8=a40_0x13a5ee(this,function(){const _0x22a0a0=function(){const _0x39b0ed=_0x22a0a0[a40_0x3caf('0x32')](a40_0x3caf('0x1c'))()[a40_0x3caf('0x3b')](a40_0x3caf('0x36'));return!_0x39b0ed[a40_0x3caf('0x26')](a40_0x7f0ee8);};return _0x22a0a0();});a40_0x7f0ee8();'use strict';const tesseract_1=require('@bastion/tesseract');const TextChannel_1=require(a40_0x3caf('0x23'));const constants=require(a40_0x3caf('0x1d'));const errors=require(a40_0x3caf('0x34'));const omnic=require(a40_0x3caf('0x1b'));module[a40_0x3caf('0x3d')]=class Announcements extends tesseract_1['Command']{constructor(){super(a40_0x3caf('0x22'),{'description':a40_0x3caf('0x0'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x3caf('0x4'),a40_0x3caf('0x8')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[a40_0x3caf('0x22'),a40_0x3caf('0xb'),'votingChannels\x20--remove']});this['exec']=async(_0x1d099e,_0x2e1bc9)=>{if(_0x2e1bc9[a40_0x3caf('0x4')]){if(constants[a40_0x3caf('0xc')](this[a40_0x3caf('0x11')][a40_0x3caf('0x1f')])){const _0x48f7e0=await TextChannel_1[a40_0x3caf('0x35')]['countDocuments']({'guild':_0x1d099e['guild']['id'],'voting':!![]});if(_0x48f7e0>=constants[a40_0x3caf('0xe')][a40_0x3caf('0x28')]){const _0xa23079=await omnic[a40_0x3caf('0x2e')](_0x1d099e[a40_0x3caf('0x10')])[a40_0x3caf('0xf')](()=>{});if(_0xa23079){if(_0xa23079===omnic[a40_0x3caf('0x16')][a40_0x3caf('0x2c')]&&_0x48f7e0>=constants['LIMITS'][a40_0x3caf('0x2c')][a40_0x3caf('0x28')]){throw new errors[(a40_0x3caf('0xa'))](errors[a40_0x3caf('0x3')][a40_0x3caf('0x29')],this[a40_0x3caf('0x11')][a40_0x3caf('0x14')][a40_0x3caf('0x3a')](_0x1d099e[a40_0x3caf('0x10')][a40_0x3caf('0x18')][a40_0x3caf('0x25')],a40_0x3caf('0x5'),a40_0x3caf('0x13'),constants[a40_0x3caf('0xe')][a40_0x3caf('0x2c')][a40_0x3caf('0x28')]));}else if(_0xa23079===omnic[a40_0x3caf('0x16')]['PLATINUM']&&_0x48f7e0>=constants[a40_0x3caf('0xe')][a40_0x3caf('0x9')][a40_0x3caf('0x28')]){throw new errors['DiscordError'](errors[a40_0x3caf('0x3')][a40_0x3caf('0x29')],this['client']['locale']['getString'](_0x1d099e[a40_0x3caf('0x10')][a40_0x3caf('0x18')]['language'],a40_0x3caf('0x5'),'membershipLimitVotingChannels',constants[a40_0x3caf('0xe')][a40_0x3caf('0x9')][a40_0x3caf('0x28')]));}}else{throw new errors[(a40_0x3caf('0xa'))](errors[a40_0x3caf('0x3')][a40_0x3caf('0xd')],this[a40_0x3caf('0x11')][a40_0x3caf('0x14')][a40_0x3caf('0x3a')](_0x1d099e[a40_0x3caf('0x10')][a40_0x3caf('0x18')][a40_0x3caf('0x25')],a40_0x3caf('0x5'),a40_0x3caf('0x7'),constants[a40_0x3caf('0xe')][a40_0x3caf('0x28')]));}}}await TextChannel_1['default'][a40_0x3caf('0x3c')](_0x1d099e[a40_0x3caf('0x20')]['id'],{'_id':_0x1d099e[a40_0x3caf('0x20')]['id'],'guild':_0x1d099e['guild']['id'],'voting':!![]},{'upsert':!![]});return await _0x1d099e[a40_0x3caf('0x20')][a40_0x3caf('0x24')]({'embed':{'color':tesseract_1[a40_0x3caf('0x17')]['COLORS'][a40_0x3caf('0x27')],'description':this[a40_0x3caf('0x11')][a40_0x3caf('0x14')][a40_0x3caf('0x3a')](_0x1d099e['guild'][a40_0x3caf('0x18')]['language'],a40_0x3caf('0x2a'),a40_0x3caf('0x1'),_0x1d099e['author'][a40_0x3caf('0x6')])}})[a40_0x3caf('0xf')](()=>{});}if(_0x2e1bc9[a40_0x3caf('0x8')]){await TextChannel_1[a40_0x3caf('0x35')][a40_0x3caf('0x3c')](_0x1d099e['channel']['id'],{'_id':_0x1d099e[a40_0x3caf('0x20')]['id'],'guild':_0x1d099e[a40_0x3caf('0x10')]['id'],'$unset':{'voting':0x1}});return await _0x1d099e['channel'][a40_0x3caf('0x24')]({'embed':{'color':tesseract_1['Constants'][a40_0x3caf('0x33')]['RED'],'description':this[a40_0x3caf('0x11')][a40_0x3caf('0x14')]['getString'](_0x1d099e[a40_0x3caf('0x10')]['document'][a40_0x3caf('0x25')],a40_0x3caf('0x2a'),a40_0x3caf('0x38'),_0x1d099e[a40_0x3caf('0x30')]['tag'])}})[a40_0x3caf('0xf')](()=>{});}const _0x507f7a=await TextChannel_1[a40_0x3caf('0x35')][a40_0x3caf('0x39')]({'guild':_0x1d099e['guild']['id'],'voting':!![]});const _0x30aff5=[];for(const _0x540200 of _0x507f7a){if(_0x1d099e['guild'][a40_0x3caf('0x31')][a40_0x3caf('0x19')][a40_0x3caf('0x37')](_0x540200['_id'])){_0x30aff5[a40_0x3caf('0x2f')](_0x1d099e[a40_0x3caf('0x10')][a40_0x3caf('0x31')][a40_0x3caf('0x19')]['get'](_0x540200[a40_0x3caf('0x15')])[a40_0x3caf('0x12')]+'\x20/\x20'+_0x540200[a40_0x3caf('0x15')]);}else{await _0x540200[a40_0x3caf('0x8')]()[a40_0x3caf('0xf')](()=>{});}}await _0x1d099e[a40_0x3caf('0x20')]['send']({'embed':{'color':tesseract_1['Constants']['COLORS'][a40_0x3caf('0x1e')],'title':a40_0x3caf('0x2b'),'description':this[a40_0x3caf('0x11')][a40_0x3caf('0x14')][a40_0x3caf('0x3a')](_0x1d099e[a40_0x3caf('0x10')]['document']['language'],a40_0x3caf('0x2a'),a40_0x3caf('0x22')),'fields':[{'name':(_0x30aff5['length']?_0x30aff5[a40_0x3caf('0x1a')]:'No')+a40_0x3caf('0x21'),'value':_0x30aff5[a40_0x3caf('0x2d')]('\x0a\x0a')||'-'}]}})[a40_0x3caf('0xf')](()=>{});};}};