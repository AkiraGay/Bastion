const a40_0x55e2=['BASTION_ERROR_TYPE','user','PLATINUM','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','votingChannels\x20--add','fetchPremiumTier','../../models/TextChannel','catch','errors','push','length','LIMITED_PREMIUM_MEMBERSHIP','premiumVotingChannels','countDocuments','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','locale','cache','VOTING_CHANNELS','isPublicBastion','channels','get','client','votingChannels\x20--remove','@bastion/tesseract','send','document','info','MANAGE_GUILD','../../utils/errors','GOLD','Command','../../utils/constants','DiscordError','exec','has','RED','default','\x20/\x20','apply','PremiumTier','remove','LIMITS','votingChannelsAdd','guild','author','language','join','COLORS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','tag','channel','name','constructor','getString','add','findByIdAndUpdate','Voting\x20Channels','votingChannels','PREMIUM_MEMBERSHIP_REQUIRED','find','exports','Constants','_id'];(function(_0x2356a5,_0x55e21a){const _0x5ed2ff=function(_0x4ff21d){while(--_0x4ff21d){_0x2356a5['push'](_0x2356a5['shift']());}};const _0x5a6877=function(){const _0x257a76={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5ed321,_0x55f883,_0x2873ab,_0x573aa9){_0x573aa9=_0x573aa9||{};let _0x13c9ad=_0x55f883+'='+_0x2873ab;let _0x2ec743=0x0;for(let _0x28ebf6=0x0,_0x46eed3=_0x5ed321['length'];_0x28ebf6<_0x46eed3;_0x28ebf6++){const _0x4bf476=_0x5ed321[_0x28ebf6];_0x13c9ad+=';\x20'+_0x4bf476;const _0x129ebe=_0x5ed321[_0x4bf476];_0x5ed321['push'](_0x129ebe);_0x46eed3=_0x5ed321['length'];if(_0x129ebe!==!![]){_0x13c9ad+='='+_0x129ebe;}}_0x573aa9['cookie']=_0x13c9ad;},'removeCookie':function(){return'dev';},'getCookie':function(_0x10d5af,_0x27f06f){_0x10d5af=_0x10d5af||function(_0x457b6c){return _0x457b6c;};const _0x40b345=_0x10d5af(new RegExp('(?:^|;\x20)'+_0x27f06f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3867cd=function(_0x576f84,_0xf9ca83){_0x576f84(++_0xf9ca83);};_0x3867cd(_0x5ed2ff,_0x55e21a);return _0x40b345?decodeURIComponent(_0x40b345[0x1]):undefined;}};const _0x191caa=function(){const _0x400bcf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x400bcf['test'](_0x257a76['removeCookie']['toString']());};_0x257a76['updateCookie']=_0x191caa;let _0x40fce7='';const _0x2410e4=_0x257a76['updateCookie']();if(!_0x2410e4){_0x257a76['setCookie'](['*'],'counter',0x1);}else if(_0x2410e4){_0x40fce7=_0x257a76['getCookie'](null,'counter');}else{_0x257a76['removeCookie']();}};_0x5a6877();}(a40_0x55e2,0xf8));const a40_0x5ed2=function(_0x2356a5,_0x55e21a){_0x2356a5=_0x2356a5-0x0;let _0x5ed2ff=a40_0x55e2[_0x2356a5];return _0x5ed2ff;};const a40_0x257a76=function(){let _0x107f18=!![];return function(_0x3c84c1,_0x4c8e61){const _0x2c7723=_0x107f18?function(){if(_0x4c8e61){const _0x55379f=_0x4c8e61[a40_0x5ed2('0x2a')](_0x3c84c1,arguments);_0x4c8e61=null;return _0x55379f;}}:function(){};_0x107f18=![];return _0x2c7723;};}();const a40_0x4ff21d=a40_0x257a76(this,function(){const _0x28c82f=function(){const _0x5a2be2=_0x28c82f[a40_0x5ed2('0x38')](a40_0x5ed2('0x34'))()['compile'](a40_0x5ed2('0x7'));return!_0x5a2be2['test'](a40_0x4ff21d);};return _0x28c82f();});a40_0x4ff21d();'use strict';const tesseract_1=require(a40_0x5ed2('0x1b'));const TextChannel_1=require(a40_0x5ed2('0xa'));const constants=require(a40_0x5ed2('0x23'));const errors=require(a40_0x5ed2('0x20'));const omnic=require('../../utils/omnic');module[a40_0x5ed2('0x1')]=class Announcements extends tesseract_1[a40_0x5ed2('0x22')]{constructor(){super(a40_0x5ed2('0x3d'),{'description':a40_0x5ed2('0x12'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x5ed2('0x3a'),a40_0x5ed2('0x2c')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x5ed2('0x1f')],'syntax':[a40_0x5ed2('0x3d'),a40_0x5ed2('0x8'),a40_0x5ed2('0x1a')]});this[a40_0x5ed2('0x25')]=async(_0x2a1633,_0x146a29)=>{if(_0x146a29[a40_0x5ed2('0x3a')]){if(constants[a40_0x5ed2('0x16')](this[a40_0x5ed2('0x19')][a40_0x5ed2('0x5')])){const _0xf539a9=await TextChannel_1[a40_0x5ed2('0x28')][a40_0x5ed2('0x11')]({'guild':_0x2a1633['guild']['id'],'voting':!![]});if(_0xf539a9>=constants[a40_0x5ed2('0x2d')][a40_0x5ed2('0x15')]){const _0x54cba8=await omnic[a40_0x5ed2('0x9')](_0x2a1633[a40_0x5ed2('0x2f')])[a40_0x5ed2('0xb')](()=>{});if(_0x54cba8){if(_0x54cba8===omnic['PremiumTier'][a40_0x5ed2('0x21')]&&_0xf539a9>=constants[a40_0x5ed2('0x2d')][a40_0x5ed2('0x21')][a40_0x5ed2('0x15')]){throw new errors['DiscordError'](errors[a40_0x5ed2('0x4')][a40_0x5ed2('0xf')],this[a40_0x5ed2('0x19')][a40_0x5ed2('0x13')][a40_0x5ed2('0x39')](_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x1d')][a40_0x5ed2('0x31')],a40_0x5ed2('0xc'),'membershipLimitVotingChannels',constants[a40_0x5ed2('0x2d')][a40_0x5ed2('0x21')][a40_0x5ed2('0x15')]));}else if(_0x54cba8===omnic[a40_0x5ed2('0x2b')][a40_0x5ed2('0x6')]&&_0xf539a9>=constants[a40_0x5ed2('0x2d')][a40_0x5ed2('0x6')][a40_0x5ed2('0x15')]){throw new errors[(a40_0x5ed2('0x24'))](errors['BASTION_ERROR_TYPE'][a40_0x5ed2('0xf')],this['client'][a40_0x5ed2('0x13')][a40_0x5ed2('0x39')](_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x1d')][a40_0x5ed2('0x31')],a40_0x5ed2('0xc'),'membershipLimitVotingChannels',constants['LIMITS'][a40_0x5ed2('0x6')][a40_0x5ed2('0x15')]));}}else{throw new errors[(a40_0x5ed2('0x24'))](errors['BASTION_ERROR_TYPE'][a40_0x5ed2('0x3e')],this[a40_0x5ed2('0x19')]['locale'][a40_0x5ed2('0x39')](_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x1d')][a40_0x5ed2('0x31')],a40_0x5ed2('0xc'),a40_0x5ed2('0x10'),constants[a40_0x5ed2('0x2d')]['VOTING_CHANNELS']));}}}await TextChannel_1['default'][a40_0x5ed2('0x3b')](_0x2a1633[a40_0x5ed2('0x36')]['id'],{'_id':_0x2a1633['channel']['id'],'guild':_0x2a1633[a40_0x5ed2('0x2f')]['id'],'voting':!![]},{'upsert':!![]});return await _0x2a1633[a40_0x5ed2('0x36')][a40_0x5ed2('0x1c')]({'embed':{'color':tesseract_1[a40_0x5ed2('0x2')][a40_0x5ed2('0x33')]['GREEN'],'description':this[a40_0x5ed2('0x19')]['locale'][a40_0x5ed2('0x39')](_0x2a1633['guild'][a40_0x5ed2('0x1d')][a40_0x5ed2('0x31')],a40_0x5ed2('0x1e'),a40_0x5ed2('0x2e'),_0x2a1633[a40_0x5ed2('0x30')]['tag'])}})[a40_0x5ed2('0xb')](()=>{});}if(_0x146a29[a40_0x5ed2('0x2c')]){await TextChannel_1['default'][a40_0x5ed2('0x3b')](_0x2a1633[a40_0x5ed2('0x36')]['id'],{'_id':_0x2a1633['channel']['id'],'guild':_0x2a1633[a40_0x5ed2('0x2f')]['id'],'$unset':{'voting':0x1}});return await _0x2a1633[a40_0x5ed2('0x36')][a40_0x5ed2('0x1c')]({'embed':{'color':tesseract_1[a40_0x5ed2('0x2')]['COLORS'][a40_0x5ed2('0x27')],'description':this[a40_0x5ed2('0x19')][a40_0x5ed2('0x13')]['getString'](_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x1d')]['language'],a40_0x5ed2('0x1e'),'votingChannelsRemove',_0x2a1633[a40_0x5ed2('0x30')][a40_0x5ed2('0x35')])}})[a40_0x5ed2('0xb')](()=>{});}const _0x2ae948=await TextChannel_1[a40_0x5ed2('0x28')][a40_0x5ed2('0x0')]({'guild':_0x2a1633[a40_0x5ed2('0x2f')]['id'],'voting':!![]});const _0x983427=[];for(const _0x2ca19a of _0x2ae948){if(_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x17')][a40_0x5ed2('0x14')][a40_0x5ed2('0x26')](_0x2ca19a[a40_0x5ed2('0x3')])){_0x983427[a40_0x5ed2('0xd')](_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x17')][a40_0x5ed2('0x14')][a40_0x5ed2('0x18')](_0x2ca19a[a40_0x5ed2('0x3')])[a40_0x5ed2('0x37')]+a40_0x5ed2('0x29')+_0x2ca19a['_id']);}else{await _0x2ca19a['remove']()['catch'](()=>{});}}await _0x2a1633[a40_0x5ed2('0x36')][a40_0x5ed2('0x1c')]({'embed':{'color':tesseract_1[a40_0x5ed2('0x2')]['COLORS']['IRIS'],'title':a40_0x5ed2('0x3c'),'description':this[a40_0x5ed2('0x19')][a40_0x5ed2('0x13')][a40_0x5ed2('0x39')](_0x2a1633[a40_0x5ed2('0x2f')][a40_0x5ed2('0x1d')][a40_0x5ed2('0x31')],a40_0x5ed2('0x1e'),'votingChannels'),'fields':[{'name':(_0x983427[a40_0x5ed2('0xe')]?_0x983427[a40_0x5ed2('0xe')]:'No')+'\x20Voting\x20Channels','value':_0x983427[a40_0x5ed2('0x32')]('\x0a\x0a')||'-'}]}})[a40_0x5ed2('0xb')](()=>{});};}};