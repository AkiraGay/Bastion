const a42_0x4311=['\x20Voting\x20Channels','test','apply','send','length','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','cache','RED','push','LIMITS','getString','PLATINUM','findByIdAndUpdate','votingChannels','user','info','PremiumTier','PREMIUM_MEMBERSHIP_REQUIRED','join','channels','constructor','COLORS','guild','\x20/\x20','locale','../../utils/constants','membershipLimitVotingChannels','../../utils/errors','Voting\x20Channels','author','find','votingChannelsRemove','get','countDocuments','votingChannels\x20--remove','_id','../../models/TextChannel','remove','add','exec','VOTING_CHANNELS','catch','DiscordError','client','@bastion/tesseract','isPublicBastion','language','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Command','../../utils/omnic','BASTION_ERROR_TYPE','errors','name','fetchPremiumTier','document','GOLD','default','votingChannels\x20--add','channel','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0xc8fc79,_0x431170){const _0x250c5d=function(_0x1df880){while(--_0x1df880){_0xc8fc79['push'](_0xc8fc79['shift']());}},_0x4617d7=function(){const _0x20576b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x375506,_0x46ef39,_0x1dcfd3,_0x5ee584){_0x5ee584=_0x5ee584||{};let _0x49bce4=_0x46ef39+'='+_0x1dcfd3,_0x172ee5=0x0;for(let _0x3dad67=0x0,_0x11ca5d=_0x375506['length'];_0x3dad67<_0x11ca5d;_0x3dad67++){const _0x517714=_0x375506[_0x3dad67];_0x49bce4+=';\x20'+_0x517714;const _0x169df8=_0x375506[_0x517714];_0x375506['push'](_0x169df8),_0x11ca5d=_0x375506['length'],_0x169df8!==!![]&&(_0x49bce4+='='+_0x169df8);}_0x5ee584['cookie']=_0x49bce4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x36c523,_0x203faa){_0x36c523=_0x36c523||function(_0x496f1a){return _0x496f1a;};const _0x378e60=_0x36c523(new RegExp('(?:^|;\x20)'+_0x203faa['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x138a6a=function(_0x1ecd31,_0x438122){_0x1ecd31(++_0x438122);};return _0x138a6a(_0x250c5d,_0x431170),_0x378e60?decodeURIComponent(_0x378e60[0x1]):undefined;}},_0x3376e6=function(){const _0x45d445=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x45d445['test'](_0x20576b['removeCookie']['toString']());};_0x20576b['updateCookie']=_0x3376e6;let _0x47ce48='';const _0x17f6a5=_0x20576b['updateCookie']();if(!_0x17f6a5)_0x20576b['setCookie'](['*'],'counter',0x1);else _0x17f6a5?_0x47ce48=_0x20576b['getCookie'](null,'counter'):_0x20576b['removeCookie']();};_0x4617d7();}(a42_0x4311,0xb7));const a42_0x250c=function(_0xc8fc79,_0x431170){_0xc8fc79=_0xc8fc79-0x0;let _0x250c5d=a42_0x4311[_0xc8fc79];return _0x250c5d;};const _0x4cbfac=a42_0x250c,a42_0x20576b=function(){let _0x47ce48=!![];return function(_0x17f6a5,_0x375506){const _0x46ef39=_0x47ce48?function(){const _0x30a93d=a42_0x250c;if(_0x375506){const _0x1dcfd3=_0x375506[_0x30a93d('0x3b')](_0x17f6a5,arguments);return _0x375506=null,_0x1dcfd3;}}:function(){};return _0x47ce48=![],_0x46ef39;};}(),a42_0x1df880=a42_0x20576b(this,function(){const _0x5ee584=function(){const _0x3a8fca=a42_0x250c,_0x49bce4=_0x5ee584['constructor'](_0x3a8fca('0x38'))()[_0x3a8fca('0x11')](_0x3a8fca('0x2c'));return!_0x49bce4[_0x3a8fca('0x3a')](a42_0x1df880);};return _0x5ee584();});a42_0x1df880();'use strict';const tesseract_1=require(_0x4cbfac('0x29')),TextChannel_1=require(_0x4cbfac('0x21')),constants=require(_0x4cbfac('0x16')),errors=require(_0x4cbfac('0x18')),omnic=require(_0x4cbfac('0x2e'));module['exports']=class Announcements extends tesseract_1[_0x4cbfac('0x2d')]{constructor(){const _0x531a8b=_0x4cbfac;super(_0x531a8b('0xa'),{'description':_0x531a8b('0x2'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[_0x531a8b('0x23'),_0x531a8b('0x22')]},'scope':_0x531a8b('0x13'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x531a8b('0xa'),_0x531a8b('0x36'),_0x531a8b('0x1f')]}),this[_0x531a8b('0x24')]=async(_0x172ee5,_0x3dad67)=>{const _0x5c3488=_0x531a8b;if(_0x3dad67[_0x5c3488('0x23')]){if(constants[_0x5c3488('0x2a')](this[_0x5c3488('0x28')][_0x5c3488('0xb')])){const _0x169df8=await TextChannel_1[_0x5c3488('0x35')][_0x5c3488('0x1e')]({'guild':_0x172ee5[_0x5c3488('0x13')]['id'],'voting':!![]});if(_0x169df8>=constants[_0x5c3488('0x6')]['VOTING_CHANNELS']){const _0x36c523=await omnic[_0x5c3488('0x32')](_0x172ee5[_0x5c3488('0x13')])[_0x5c3488('0x26')](()=>{});if(_0x36c523){if(_0x36c523===omnic[_0x5c3488('0xd')][_0x5c3488('0x34')]&&_0x169df8>=constants['LIMITS'][_0x5c3488('0x34')][_0x5c3488('0x25')])throw new errors[(_0x5c3488('0x27'))](errors[_0x5c3488('0x2f')]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x5c3488('0x28')][_0x5c3488('0x15')][_0x5c3488('0x7')](_0x172ee5[_0x5c3488('0x13')]['document'][_0x5c3488('0x2b')],_0x5c3488('0x30'),_0x5c3488('0x17'),constants['LIMITS'][_0x5c3488('0x34')][_0x5c3488('0x25')]));else{if(_0x36c523===omnic[_0x5c3488('0xd')][_0x5c3488('0x8')]&&_0x169df8>=constants[_0x5c3488('0x6')]['PLATINUM'][_0x5c3488('0x25')])throw new errors[(_0x5c3488('0x27'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x5c3488('0x28')][_0x5c3488('0x15')][_0x5c3488('0x7')](_0x172ee5[_0x5c3488('0x13')][_0x5c3488('0x33')][_0x5c3488('0x2b')],_0x5c3488('0x30'),_0x5c3488('0x17'),constants['LIMITS'][_0x5c3488('0x8')]['VOTING_CHANNELS']));}}else throw new errors[(_0x5c3488('0x27'))](errors[_0x5c3488('0x2f')][_0x5c3488('0xe')],this[_0x5c3488('0x28')][_0x5c3488('0x15')][_0x5c3488('0x7')](_0x172ee5[_0x5c3488('0x13')]['document'][_0x5c3488('0x2b')],_0x5c3488('0x30'),'premiumVotingChannels',constants['LIMITS']['VOTING_CHANNELS']));}}return await TextChannel_1[_0x5c3488('0x35')][_0x5c3488('0x9')](_0x172ee5[_0x5c3488('0x37')]['id'],{'_id':_0x172ee5['channel']['id'],'guild':_0x172ee5['guild']['id'],'voting':!![]},{'upsert':!![]}),await _0x172ee5[_0x5c3488('0x37')][_0x5c3488('0x0')]({'embed':{'color':tesseract_1['Constants'][_0x5c3488('0x12')]['GREEN'],'description':this[_0x5c3488('0x28')]['locale'][_0x5c3488('0x7')](_0x172ee5[_0x5c3488('0x13')][_0x5c3488('0x33')][_0x5c3488('0x2b')],_0x5c3488('0xc'),'votingChannelsAdd',_0x172ee5['author']['tag'])}})[_0x5c3488('0x26')](()=>{});}if(_0x3dad67[_0x5c3488('0x22')])return await TextChannel_1['default'][_0x5c3488('0x9')](_0x172ee5[_0x5c3488('0x37')]['id'],{'_id':_0x172ee5[_0x5c3488('0x37')]['id'],'guild':_0x172ee5[_0x5c3488('0x13')]['id'],'$unset':{'voting':0x1}}),await _0x172ee5['channel']['send']({'embed':{'color':tesseract_1['Constants'][_0x5c3488('0x12')][_0x5c3488('0x4')],'description':this[_0x5c3488('0x28')][_0x5c3488('0x15')][_0x5c3488('0x7')](_0x172ee5[_0x5c3488('0x13')][_0x5c3488('0x33')][_0x5c3488('0x2b')],_0x5c3488('0xc'),_0x5c3488('0x1c'),_0x172ee5[_0x5c3488('0x1a')]['tag'])}})[_0x5c3488('0x26')](()=>{});const _0x11ca5d=await TextChannel_1[_0x5c3488('0x35')][_0x5c3488('0x1b')]({'guild':_0x172ee5['guild']['id'],'voting':!![]}),_0x517714=[];for(const _0x203faa of _0x11ca5d){_0x172ee5['guild']['channels'][_0x5c3488('0x3')]['has'](_0x203faa[_0x5c3488('0x20')])?_0x517714[_0x5c3488('0x5')](_0x172ee5[_0x5c3488('0x13')][_0x5c3488('0x10')]['cache'][_0x5c3488('0x1d')](_0x203faa[_0x5c3488('0x20')])[_0x5c3488('0x31')]+_0x5c3488('0x14')+_0x203faa[_0x5c3488('0x20')]):await _0x203faa[_0x5c3488('0x22')]()[_0x5c3488('0x26')](()=>{});}await _0x172ee5[_0x5c3488('0x37')]['send']({'embed':{'color':tesseract_1['Constants'][_0x5c3488('0x12')]['IRIS'],'title':_0x5c3488('0x19'),'description':this[_0x5c3488('0x28')][_0x5c3488('0x15')][_0x5c3488('0x7')](_0x172ee5[_0x5c3488('0x13')][_0x5c3488('0x33')][_0x5c3488('0x2b')],_0x5c3488('0xc'),_0x5c3488('0xa')),'fields':[{'name':(_0x517714[_0x5c3488('0x1')]?_0x517714['length']:'No')+_0x5c3488('0x39'),'value':_0x517714[_0x5c3488('0xf')]('\x0a\x0a')||'-'}]}})['catch'](()=>{});};}};