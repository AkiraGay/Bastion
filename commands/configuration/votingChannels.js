const a40_0x2b45=['PremiumTier','votingChannelsRemove','membershipLimitVotingChannels','_id','remove','constructor','client','user','IRIS','@bastion/tesseract','countDocuments','test','GOLD','channels','\x20Voting\x20Channels','PLATINUM','\x20/\x20','BASTION_ERROR_TYPE','Voting\x20Channels','../../utils/constants','send','default','push','LIMITED_PREMIUM_MEMBERSHIP','channel','findByIdAndUpdate','Constants','votingChannels','DiscordError','GREEN','language','guild','votingChannelsAdd','locale','COLORS','premiumVotingChannels','find','info','exports','errors','author','LIMITS','catch','document','MANAGE_GUILD','VOTING_CHANNELS','tag','length','compile','exec','add','apply','Command','name','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','return\x20/\x22\x20+\x20this\x20+\x20\x22/','PREMIUM_MEMBERSHIP_REQUIRED','fetchPremiumTier','votingChannels\x20--add','getString','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}'];(function(_0x202cf3,_0x2b4550){const _0x1ed248=function(_0x1402c4){while(--_0x1402c4){_0x202cf3['push'](_0x202cf3['shift']());}};const _0x507530=function(){const _0x15696e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x20f26b,_0x3c699f,_0x188829,_0x1edc9e){_0x1edc9e=_0x1edc9e||{};let _0x3883e3=_0x3c699f+'='+_0x188829;let _0x4c1487=0x0;for(let _0x1a4c52=0x0,_0x593f54=_0x20f26b['length'];_0x1a4c52<_0x593f54;_0x1a4c52++){const _0x4da433=_0x20f26b[_0x1a4c52];_0x3883e3+=';\x20'+_0x4da433;const _0x3097f5=_0x20f26b[_0x4da433];_0x20f26b['push'](_0x3097f5);_0x593f54=_0x20f26b['length'];if(_0x3097f5!==!![]){_0x3883e3+='='+_0x3097f5;}}_0x1edc9e['cookie']=_0x3883e3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x41f61b,_0x4249b8){_0x41f61b=_0x41f61b||function(_0x443506){return _0x443506;};const _0x17df55=_0x41f61b(new RegExp('(?:^|;\x20)'+_0x4249b8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x291b26=function(_0x4fd69a,_0x3f8e14){_0x4fd69a(++_0x3f8e14);};_0x291b26(_0x1ed248,_0x2b4550);return _0x17df55?decodeURIComponent(_0x17df55[0x1]):undefined;}};const _0x5f486d=function(){const _0x642990=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x642990['test'](_0x15696e['removeCookie']['toString']());};_0x15696e['updateCookie']=_0x5f486d;let _0x4628f0='';const _0x56afa4=_0x15696e['updateCookie']();if(!_0x56afa4){_0x15696e['setCookie'](['*'],'counter',0x1);}else if(_0x56afa4){_0x4628f0=_0x15696e['getCookie'](null,'counter');}else{_0x15696e['removeCookie']();}};_0x507530();}(a40_0x2b45,0xeb));const a40_0x1ed2=function(_0x202cf3,_0x2b4550){_0x202cf3=_0x202cf3-0x0;let _0x1ed248=a40_0x2b45[_0x202cf3];return _0x1ed248;};const a40_0x15696e=function(){let _0x3066c1=!![];return function(_0x3c83e2,_0x3511e0){const _0x467f58=_0x3066c1?function(){if(_0x3511e0){const _0x2e57fa=_0x3511e0[a40_0x1ed2('0x3c')](_0x3c83e2,arguments);_0x3511e0=null;return _0x2e57fa;}}:function(){};_0x3066c1=![];return _0x467f58;};}();const a40_0x1402c4=a40_0x15696e(this,function(){const _0x3889ca=function(){const _0x59639e=_0x3889ca[a40_0x1ed2('0xe')](a40_0x1ed2('0x3'))()[a40_0x1ed2('0x39')](a40_0x1ed2('0x8'));return!_0x59639e[a40_0x1ed2('0x14')](a40_0x1402c4);};return _0x3889ca();});a40_0x1402c4();'use strict';const tesseract_1=require(a40_0x1ed2('0x12'));const TextChannel_1=require('../../models/TextChannel');const constants=require(a40_0x1ed2('0x1c'));const errors=require('../../utils/errors');const omnic=require('../../utils/omnic');module[a40_0x1ed2('0x2f')]=class Announcements extends tesseract_1[a40_0x1ed2('0x0')]{constructor(){super(a40_0x1ed2('0x24'),{'description':a40_0x1ed2('0x2'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x1ed2('0x3b'),a40_0x1ed2('0xd')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x1ed2('0x35')],'syntax':[a40_0x1ed2('0x24'),a40_0x1ed2('0x6'),'votingChannels\x20--remove']});this[a40_0x1ed2('0x3a')]=async(_0x2a1a35,_0x188691)=>{if(_0x188691['add']){if(constants['isPublicBastion'](this[a40_0x1ed2('0xf')][a40_0x1ed2('0x10')])){const _0x1f8855=await TextChannel_1['default'][a40_0x1ed2('0x13')]({'guild':_0x2a1a35[a40_0x1ed2('0x28')]['id'],'voting':!![]});if(_0x1f8855>=constants['LIMITS'][a40_0x1ed2('0x36')]){const _0x54bf9e=await omnic[a40_0x1ed2('0x5')](_0x2a1a35[a40_0x1ed2('0x28')])[a40_0x1ed2('0x33')](()=>{});if(_0x54bf9e){if(_0x54bf9e===omnic[a40_0x1ed2('0x9')][a40_0x1ed2('0x15')]&&_0x1f8855>=constants[a40_0x1ed2('0x32')][a40_0x1ed2('0x15')][a40_0x1ed2('0x36')]){throw new errors[(a40_0x1ed2('0x25'))](errors[a40_0x1ed2('0x1a')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a40_0x1ed2('0xf')][a40_0x1ed2('0x2a')]['getString'](_0x2a1a35['guild'][a40_0x1ed2('0x34')][a40_0x1ed2('0x27')],a40_0x1ed2('0x30'),a40_0x1ed2('0xb'),constants['LIMITS']['GOLD'][a40_0x1ed2('0x36')]));}else if(_0x54bf9e===omnic[a40_0x1ed2('0x9')][a40_0x1ed2('0x18')]&&_0x1f8855>=constants['LIMITS']['PLATINUM']['VOTING_CHANNELS']){throw new errors[(a40_0x1ed2('0x25'))](errors[a40_0x1ed2('0x1a')][a40_0x1ed2('0x20')],this[a40_0x1ed2('0xf')][a40_0x1ed2('0x2a')][a40_0x1ed2('0x7')](_0x2a1a35[a40_0x1ed2('0x28')][a40_0x1ed2('0x34')][a40_0x1ed2('0x27')],a40_0x1ed2('0x30'),'membershipLimitVotingChannels',constants[a40_0x1ed2('0x32')]['PLATINUM']['VOTING_CHANNELS']));}}else{throw new errors[(a40_0x1ed2('0x25'))](errors[a40_0x1ed2('0x1a')][a40_0x1ed2('0x4')],this[a40_0x1ed2('0xf')][a40_0x1ed2('0x2a')][a40_0x1ed2('0x7')](_0x2a1a35[a40_0x1ed2('0x28')]['document'][a40_0x1ed2('0x27')],'errors',a40_0x1ed2('0x2c'),constants[a40_0x1ed2('0x32')][a40_0x1ed2('0x36')]));}}}await TextChannel_1['default'][a40_0x1ed2('0x22')](_0x2a1a35[a40_0x1ed2('0x21')]['id'],{'_id':_0x2a1a35[a40_0x1ed2('0x21')]['id'],'guild':_0x2a1a35[a40_0x1ed2('0x28')]['id'],'voting':!![]},{'upsert':!![]});return await _0x2a1a35[a40_0x1ed2('0x21')][a40_0x1ed2('0x1d')]({'embed':{'color':tesseract_1['Constants'][a40_0x1ed2('0x2b')][a40_0x1ed2('0x26')],'description':this['client']['locale'][a40_0x1ed2('0x7')](_0x2a1a35[a40_0x1ed2('0x28')][a40_0x1ed2('0x34')]['language'],a40_0x1ed2('0x2e'),a40_0x1ed2('0x29'),_0x2a1a35[a40_0x1ed2('0x31')][a40_0x1ed2('0x37')])}})['catch'](()=>{});}if(_0x188691[a40_0x1ed2('0xd')]){await TextChannel_1[a40_0x1ed2('0x1e')][a40_0x1ed2('0x22')](_0x2a1a35[a40_0x1ed2('0x21')]['id'],{'_id':_0x2a1a35['channel']['id'],'guild':_0x2a1a35[a40_0x1ed2('0x28')]['id'],'$unset':{'voting':0x1}});return await _0x2a1a35[a40_0x1ed2('0x21')][a40_0x1ed2('0x1d')]({'embed':{'color':tesseract_1[a40_0x1ed2('0x23')][a40_0x1ed2('0x2b')]['RED'],'description':this['client'][a40_0x1ed2('0x2a')]['getString'](_0x2a1a35[a40_0x1ed2('0x28')][a40_0x1ed2('0x34')]['language'],a40_0x1ed2('0x2e'),a40_0x1ed2('0xa'),_0x2a1a35[a40_0x1ed2('0x31')][a40_0x1ed2('0x37')])}})['catch'](()=>{});}const _0x487656=await TextChannel_1[a40_0x1ed2('0x1e')][a40_0x1ed2('0x2d')]({'guild':_0x2a1a35[a40_0x1ed2('0x28')]['id'],'voting':!![]});const _0x374f4a=[];for(const _0x313461 of _0x487656){if(_0x2a1a35[a40_0x1ed2('0x28')]['channels']['cache']['has'](_0x313461[a40_0x1ed2('0xc')])){_0x374f4a[a40_0x1ed2('0x1f')](_0x2a1a35[a40_0x1ed2('0x28')][a40_0x1ed2('0x16')]['cache']['get'](_0x313461[a40_0x1ed2('0xc')])[a40_0x1ed2('0x1')]+a40_0x1ed2('0x19')+_0x313461[a40_0x1ed2('0xc')]);}else{await _0x313461[a40_0x1ed2('0xd')]()[a40_0x1ed2('0x33')](()=>{});}}await _0x2a1a35['channel'][a40_0x1ed2('0x1d')]({'embed':{'color':tesseract_1[a40_0x1ed2('0x23')][a40_0x1ed2('0x2b')][a40_0x1ed2('0x11')],'title':a40_0x1ed2('0x1b'),'description':this[a40_0x1ed2('0xf')][a40_0x1ed2('0x2a')][a40_0x1ed2('0x7')](_0x2a1a35[a40_0x1ed2('0x28')][a40_0x1ed2('0x34')][a40_0x1ed2('0x27')],'info','votingChannels'),'fields':[{'name':(_0x374f4a[a40_0x1ed2('0x38')]?_0x374f4a[a40_0x1ed2('0x38')]:'No')+a40_0x1ed2('0x17'),'value':_0x374f4a['join']('\x0a\x0a')||'-'}]}})[a40_0x1ed2('0x33')](()=>{});};}};