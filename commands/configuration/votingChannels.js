const a42_0x3cb3=['votingChannels','premiumVotingChannels','locale','guild','test','channels','../../utils/constants','cache','PLATINUM','LIMITS','_id','length','catch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','\x20Voting\x20Channels','remove','membershipLimitVotingChannels','apply','findByIdAndUpdate','constructor','errors','get','votingChannelsRemove','send','Constants','@bastion/tesseract','exec','language','GOLD','channel','countDocuments','PREMIUM_MEMBERSHIP_REQUIRED','IRIS','VOTING_CHANNELS','LIMITED_PREMIUM_MEMBERSHIP','DiscordError','author','getString','client','PremiumTier','default','document','exports','fetchPremiumTier','COLORS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','find','isPublicBastion','BASTION_ERROR_TYPE','tag','push','votingChannels\x20--add','join','votingChannelsAdd','add','name','info'];(function(_0x2471b7,_0x3cb3b3){const _0x4a53e9=function(_0x2f2463){while(--_0x2f2463){_0x2471b7['push'](_0x2471b7['shift']());}},_0x412620=function(){const _0x4d7b15={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3a81ed,_0x2f1e10,_0x44dfab,_0x4137e5){_0x4137e5=_0x4137e5||{};let _0x4250f0=_0x2f1e10+'='+_0x44dfab,_0x342e89=0x0;for(let _0x9639bf=0x0,_0x292312=_0x3a81ed['length'];_0x9639bf<_0x292312;_0x9639bf++){const _0x7a3103=_0x3a81ed[_0x9639bf];_0x4250f0+=';\x20'+_0x7a3103;const _0x8c41b8=_0x3a81ed[_0x7a3103];_0x3a81ed['push'](_0x8c41b8),_0x292312=_0x3a81ed['length'],_0x8c41b8!==!![]&&(_0x4250f0+='='+_0x8c41b8);}_0x4137e5['cookie']=_0x4250f0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3b971e,_0x5a3ee4){_0x3b971e=_0x3b971e||function(_0x1ad858){return _0x1ad858;};const _0xa621b0=_0x3b971e(new RegExp('(?:^|;\x20)'+_0x5a3ee4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2e2f32=function(_0x13f3af,_0x1907c5){_0x13f3af(++_0x1907c5);};return _0x2e2f32(_0x4a53e9,_0x3cb3b3),_0xa621b0?decodeURIComponent(_0xa621b0[0x1]):undefined;}},_0x3b2343=function(){const _0x1fd3ee=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1fd3ee['test'](_0x4d7b15['removeCookie']['toString']());};_0x4d7b15['updateCookie']=_0x3b2343;let _0xea0a8b='';const _0x1408a8=_0x4d7b15['updateCookie']();if(!_0x1408a8)_0x4d7b15['setCookie'](['*'],'counter',0x1);else _0x1408a8?_0xea0a8b=_0x4d7b15['getCookie'](null,'counter'):_0x4d7b15['removeCookie']();};_0x412620();}(a42_0x3cb3,0xf1));const a42_0x4a53=function(_0x2471b7,_0x3cb3b3){_0x2471b7=_0x2471b7-0x0;let _0x4a53e9=a42_0x3cb3[_0x2471b7];return _0x4a53e9;};const _0x4b1067=a42_0x4a53,a42_0x4d7b15=function(){let _0xea0a8b=!![];return function(_0x1408a8,_0x3a81ed){const _0x2f1e10=_0xea0a8b?function(){const _0x1ac718=a42_0x4a53;if(_0x3a81ed){const _0x44dfab=_0x3a81ed[_0x1ac718('0x4')](_0x1408a8,arguments);return _0x3a81ed=null,_0x44dfab;}}:function(){};return _0xea0a8b=![],_0x2f1e10;};}(),a42_0x2f2463=a42_0x4d7b15(this,function(){const _0x4137e5=function(){const _0x4fd5a4=a42_0x4a53,_0x4250f0=_0x4137e5[_0x4fd5a4('0x6')](_0x4fd5a4('0x0'))()['constructor'](_0x4fd5a4('0x20'));return!_0x4250f0[_0x4fd5a4('0x30')](a42_0x2f2463);};return _0x4137e5();});a42_0x2f2463();'use strict';const tesseract_1=require(_0x4b1067('0xc')),TextChannel_1=require('../../models/TextChannel'),constants=require(_0x4b1067('0x32')),errors=require('../../utils/errors'),omnic=require('../../utils/omnic');module[_0x4b1067('0x1d')]=class Announcements extends tesseract_1['Command']{constructor(){const _0x2dbdc7=_0x4b1067;super(_0x2dbdc7('0x2c'),{'description':'It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[_0x2dbdc7('0x29'),_0x2dbdc7('0x2')]},'scope':_0x2dbdc7('0x2f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x2dbdc7('0x2c'),_0x2dbdc7('0x26'),'votingChannels\x20--remove']}),this[_0x2dbdc7('0xd')]=async(_0x342e89,_0x9639bf)=>{const _0x51dec5=_0x2dbdc7;if(_0x9639bf[_0x51dec5('0x29')]){if(constants[_0x51dec5('0x22')](this['client']['user'])){const _0x8c41b8=await TextChannel_1['default'][_0x51dec5('0x11')]({'guild':_0x342e89[_0x51dec5('0x2f')]['id'],'voting':!![]});if(_0x8c41b8>=constants[_0x51dec5('0x35')][_0x51dec5('0x14')]){const _0x3b971e=await omnic[_0x51dec5('0x1e')](_0x342e89[_0x51dec5('0x2f')])[_0x51dec5('0x38')](()=>{});if(_0x3b971e){if(_0x3b971e===omnic[_0x51dec5('0x1a')][_0x51dec5('0xf')]&&_0x8c41b8>=constants[_0x51dec5('0x35')]['GOLD']['VOTING_CHANNELS'])throw new errors[(_0x51dec5('0x16'))](errors[_0x51dec5('0x23')]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x51dec5('0x19')][_0x51dec5('0x2e')][_0x51dec5('0x18')](_0x342e89[_0x51dec5('0x2f')][_0x51dec5('0x1c')][_0x51dec5('0xe')],'errors','membershipLimitVotingChannels',constants['LIMITS'][_0x51dec5('0xf')]['VOTING_CHANNELS']));else{if(_0x3b971e===omnic[_0x51dec5('0x1a')][_0x51dec5('0x34')]&&_0x8c41b8>=constants['LIMITS'][_0x51dec5('0x34')][_0x51dec5('0x14')])throw new errors['DiscordError'](errors[_0x51dec5('0x23')][_0x51dec5('0x15')],this[_0x51dec5('0x19')][_0x51dec5('0x2e')][_0x51dec5('0x18')](_0x342e89[_0x51dec5('0x2f')]['document'][_0x51dec5('0xe')],_0x51dec5('0x7'),_0x51dec5('0x3'),constants[_0x51dec5('0x35')][_0x51dec5('0x34')]['VOTING_CHANNELS']));}}else throw new errors['DiscordError'](errors[_0x51dec5('0x23')][_0x51dec5('0x12')],this[_0x51dec5('0x19')]['locale'][_0x51dec5('0x18')](_0x342e89[_0x51dec5('0x2f')]['document'][_0x51dec5('0xe')],_0x51dec5('0x7'),_0x51dec5('0x2d'),constants[_0x51dec5('0x35')][_0x51dec5('0x14')]));}}return await TextChannel_1[_0x51dec5('0x1b')]['findByIdAndUpdate'](_0x342e89['channel']['id'],{'_id':_0x342e89['channel']['id'],'guild':_0x342e89['guild']['id'],'voting':!![]},{'upsert':!![]}),await _0x342e89['channel'][_0x51dec5('0xa')]({'embed':{'color':tesseract_1['Constants'][_0x51dec5('0x1f')]['GREEN'],'description':this[_0x51dec5('0x19')][_0x51dec5('0x2e')]['getString'](_0x342e89[_0x51dec5('0x2f')]['document'][_0x51dec5('0xe')],_0x51dec5('0x2b'),_0x51dec5('0x28'),_0x342e89[_0x51dec5('0x17')][_0x51dec5('0x24')])}})[_0x51dec5('0x38')](()=>{});}if(_0x9639bf[_0x51dec5('0x2')])return await TextChannel_1[_0x51dec5('0x1b')][_0x51dec5('0x5')](_0x342e89['channel']['id'],{'_id':_0x342e89['channel']['id'],'guild':_0x342e89[_0x51dec5('0x2f')]['id'],'$unset':{'voting':0x1}}),await _0x342e89[_0x51dec5('0x10')][_0x51dec5('0xa')]({'embed':{'color':tesseract_1[_0x51dec5('0xb')]['COLORS']['RED'],'description':this[_0x51dec5('0x19')][_0x51dec5('0x2e')][_0x51dec5('0x18')](_0x342e89['guild']['document'][_0x51dec5('0xe')],_0x51dec5('0x2b'),_0x51dec5('0x9'),_0x342e89[_0x51dec5('0x17')][_0x51dec5('0x24')])}})[_0x51dec5('0x38')](()=>{});const _0x292312=await TextChannel_1[_0x51dec5('0x1b')][_0x51dec5('0x21')]({'guild':_0x342e89['guild']['id'],'voting':!![]}),_0x7a3103=[];for(const _0x5a3ee4 of _0x292312){_0x342e89[_0x51dec5('0x2f')]['channels']['cache']['has'](_0x5a3ee4[_0x51dec5('0x36')])?_0x7a3103[_0x51dec5('0x25')](_0x342e89['guild'][_0x51dec5('0x31')][_0x51dec5('0x33')][_0x51dec5('0x8')](_0x5a3ee4[_0x51dec5('0x36')])[_0x51dec5('0x2a')]+'\x20/\x20'+_0x5a3ee4[_0x51dec5('0x36')]):await _0x5a3ee4[_0x51dec5('0x2')]()[_0x51dec5('0x38')](()=>{});}await _0x342e89[_0x51dec5('0x10')]['send']({'embed':{'color':tesseract_1[_0x51dec5('0xb')][_0x51dec5('0x1f')][_0x51dec5('0x13')],'title':'Voting\x20Channels','description':this[_0x51dec5('0x19')][_0x51dec5('0x2e')][_0x51dec5('0x18')](_0x342e89[_0x51dec5('0x2f')][_0x51dec5('0x1c')][_0x51dec5('0xe')],'info',_0x51dec5('0x2c')),'fields':[{'name':(_0x7a3103['length']?_0x7a3103[_0x51dec5('0x37')]:'No')+_0x51dec5('0x1'),'value':_0x7a3103[_0x51dec5('0x27')]('\x0a\x0a')||'-'}]}})['catch'](()=>{});};}};