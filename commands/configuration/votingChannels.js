const a40_0x183c=['PremiumTier','guild','votingChannels\x20--add','GOLD','constructor','membershipLimitVotingChannels','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','LIMITS','isPublicBastion','_id','compile','Constants','GREEN','add','remove','PLATINUM','info','countDocuments','IRIS','test','has','errors','user','votingChannelsAdd','votingChannels\x20--remove','tag','MANAGE_GUILD','get','document','BASTION_ERROR_TYPE','votingChannels','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','language','client','RED','author','fetchPremiumTier','send','../../models/TextChannel','DiscordError','join','name','push','exports','\x20/\x20','exec','channels','locale','@bastion/tesseract','VOTING_CHANNELS','PREMIUM_MEMBERSHIP_REQUIRED','premiumVotingChannels','../../utils/errors','LIMITED_PREMIUM_MEMBERSHIP','cache','channel','findByIdAndUpdate','COLORS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','find','catch','getString','../../utils/omnic','votingChannelsRemove','default'];(function(_0x1692e7,_0x183c24){const _0x8c0a15=function(_0x1440f4){while(--_0x1440f4){_0x1692e7['push'](_0x1692e7['shift']());}};const _0x1aabe9=function(){const _0x430ff8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x42402e,_0x2f120d,_0x3cfbc4,_0x3d320f){_0x3d320f=_0x3d320f||{};let _0x471e58=_0x2f120d+'='+_0x3cfbc4;let _0x16377f=0x0;for(let _0x56dab8=0x0,_0x20357d=_0x42402e['length'];_0x56dab8<_0x20357d;_0x56dab8++){const _0x122a99=_0x42402e[_0x56dab8];_0x471e58+=';\x20'+_0x122a99;const _0x25c680=_0x42402e[_0x122a99];_0x42402e['push'](_0x25c680);_0x20357d=_0x42402e['length'];if(_0x25c680!==!![]){_0x471e58+='='+_0x25c680;}}_0x3d320f['cookie']=_0x471e58;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5c9a21,_0x2ef478){_0x5c9a21=_0x5c9a21||function(_0x88ff05){return _0x88ff05;};const _0x477cb4=_0x5c9a21(new RegExp('(?:^|;\x20)'+_0x2ef478['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x29eb6d=function(_0x3da451,_0x451653){_0x3da451(++_0x451653);};_0x29eb6d(_0x8c0a15,_0x183c24);return _0x477cb4?decodeURIComponent(_0x477cb4[0x1]):undefined;}};const _0x628844=function(){const _0x4f374c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4f374c['test'](_0x430ff8['removeCookie']['toString']());};_0x430ff8['updateCookie']=_0x628844;let _0x52c4ec='';const _0x1e5484=_0x430ff8['updateCookie']();if(!_0x1e5484){_0x430ff8['setCookie'](['*'],'counter',0x1);}else if(_0x1e5484){_0x52c4ec=_0x430ff8['getCookie'](null,'counter');}else{_0x430ff8['removeCookie']();}};_0x1aabe9();}(a40_0x183c,0x69));const a40_0x8c0a=function(_0x1692e7,_0x183c24){_0x1692e7=_0x1692e7-0x0;let _0x8c0a15=a40_0x183c[_0x1692e7];return _0x8c0a15;};const a40_0x430ff8=function(){let _0x2e91f5=!![];return function(_0x39e102,_0x13782b){const _0x4257e9=_0x2e91f5?function(){if(_0x13782b){const _0x2a21a7=_0x13782b['apply'](_0x39e102,arguments);_0x13782b=null;return _0x2a21a7;}}:function(){};_0x2e91f5=![];return _0x4257e9;};}();const a40_0x1440f4=a40_0x430ff8(this,function(){const _0x10b507=function(){const _0x3d27c8=_0x10b507[a40_0x8c0a('0x1f')](a40_0x8c0a('0x21'))()[a40_0x8c0a('0x26')](a40_0x8c0a('0x14'));return!_0x3d27c8[a40_0x8c0a('0x2f')](a40_0x1440f4);};return _0x10b507();});a40_0x1440f4();'use strict';const tesseract_1=require(a40_0x8c0a('0xa'));const TextChannel_1=require(a40_0x8c0a('0x0'));const constants=require('../../utils/constants');const errors=require(a40_0x8c0a('0xe'));const omnic=require(a40_0x8c0a('0x18'));module[a40_0x8c0a('0x5')]=class Announcements extends tesseract_1['Command']{constructor(){super(a40_0x8c0a('0x3a'),{'description':a40_0x8c0a('0x3b'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x8c0a('0x29'),a40_0x8c0a('0x2a')]},'scope':a40_0x8c0a('0x1c'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x8c0a('0x36')],'syntax':['votingChannels',a40_0x8c0a('0x1d'),a40_0x8c0a('0x34')]});this[a40_0x8c0a('0x7')]=async(_0x9f958d,_0x29c1e0)=>{if(_0x29c1e0[a40_0x8c0a('0x29')]){if(constants[a40_0x8c0a('0x24')](this[a40_0x8c0a('0x3d')][a40_0x8c0a('0x32')])){const _0x2abcd3=await TextChannel_1[a40_0x8c0a('0x1a')][a40_0x8c0a('0x2d')]({'guild':_0x9f958d[a40_0x8c0a('0x1c')]['id'],'voting':!![]});if(_0x2abcd3>=constants[a40_0x8c0a('0x23')][a40_0x8c0a('0xb')]){const _0x284ca7=await omnic[a40_0x8c0a('0x40')](_0x9f958d['guild'])['catch'](()=>{});if(_0x284ca7){if(_0x284ca7===omnic[a40_0x8c0a('0x1b')]['GOLD']&&_0x2abcd3>=constants[a40_0x8c0a('0x23')][a40_0x8c0a('0x1e')]['VOTING_CHANNELS']){throw new errors[(a40_0x8c0a('0x1'))](errors['BASTION_ERROR_TYPE'][a40_0x8c0a('0xf')],this[a40_0x8c0a('0x3d')][a40_0x8c0a('0x9')][a40_0x8c0a('0x17')](_0x9f958d[a40_0x8c0a('0x1c')]['document'][a40_0x8c0a('0x3c')],a40_0x8c0a('0x31'),'membershipLimitVotingChannels',constants[a40_0x8c0a('0x23')][a40_0x8c0a('0x1e')]['VOTING_CHANNELS']));}else if(_0x284ca7===omnic[a40_0x8c0a('0x1b')][a40_0x8c0a('0x2b')]&&_0x2abcd3>=constants[a40_0x8c0a('0x23')]['PLATINUM'][a40_0x8c0a('0xb')]){throw new errors[(a40_0x8c0a('0x1'))](errors[a40_0x8c0a('0x39')][a40_0x8c0a('0xf')],this[a40_0x8c0a('0x3d')][a40_0x8c0a('0x9')][a40_0x8c0a('0x17')](_0x9f958d[a40_0x8c0a('0x1c')][a40_0x8c0a('0x38')][a40_0x8c0a('0x3c')],'errors',a40_0x8c0a('0x20'),constants['LIMITS'][a40_0x8c0a('0x2b')][a40_0x8c0a('0xb')]));}}else{throw new errors['DiscordError'](errors[a40_0x8c0a('0x39')][a40_0x8c0a('0xc')],this[a40_0x8c0a('0x3d')][a40_0x8c0a('0x9')][a40_0x8c0a('0x17')](_0x9f958d[a40_0x8c0a('0x1c')][a40_0x8c0a('0x38')][a40_0x8c0a('0x3c')],a40_0x8c0a('0x31'),a40_0x8c0a('0xd'),constants[a40_0x8c0a('0x23')][a40_0x8c0a('0xb')]));}}}await TextChannel_1[a40_0x8c0a('0x1a')][a40_0x8c0a('0x12')](_0x9f958d['channel']['id'],{'_id':_0x9f958d[a40_0x8c0a('0x11')]['id'],'guild':_0x9f958d[a40_0x8c0a('0x1c')]['id'],'voting':!![]},{'upsert':!![]});return await _0x9f958d[a40_0x8c0a('0x11')][a40_0x8c0a('0x41')]({'embed':{'color':tesseract_1[a40_0x8c0a('0x27')][a40_0x8c0a('0x13')][a40_0x8c0a('0x28')],'description':this[a40_0x8c0a('0x3d')][a40_0x8c0a('0x9')][a40_0x8c0a('0x17')](_0x9f958d[a40_0x8c0a('0x1c')][a40_0x8c0a('0x38')][a40_0x8c0a('0x3c')],a40_0x8c0a('0x2c'),a40_0x8c0a('0x33'),_0x9f958d[a40_0x8c0a('0x3f')][a40_0x8c0a('0x35')])}})[a40_0x8c0a('0x16')](()=>{});}if(_0x29c1e0['remove']){await TextChannel_1[a40_0x8c0a('0x1a')][a40_0x8c0a('0x12')](_0x9f958d[a40_0x8c0a('0x11')]['id'],{'_id':_0x9f958d['channel']['id'],'guild':_0x9f958d['guild']['id'],'$unset':{'voting':0x1}});return await _0x9f958d[a40_0x8c0a('0x11')][a40_0x8c0a('0x41')]({'embed':{'color':tesseract_1['Constants'][a40_0x8c0a('0x13')][a40_0x8c0a('0x3e')],'description':this['client']['locale'][a40_0x8c0a('0x17')](_0x9f958d[a40_0x8c0a('0x1c')][a40_0x8c0a('0x38')]['language'],a40_0x8c0a('0x2c'),a40_0x8c0a('0x19'),_0x9f958d[a40_0x8c0a('0x3f')]['tag'])}})[a40_0x8c0a('0x16')](()=>{});}const _0x229915=await TextChannel_1[a40_0x8c0a('0x1a')][a40_0x8c0a('0x15')]({'guild':_0x9f958d['guild']['id'],'voting':!![]});const _0x1b8477=[];for(const _0x1740fc of _0x229915){if(_0x9f958d['guild'][a40_0x8c0a('0x8')][a40_0x8c0a('0x10')][a40_0x8c0a('0x30')](_0x1740fc[a40_0x8c0a('0x25')])){_0x1b8477[a40_0x8c0a('0x4')](_0x9f958d[a40_0x8c0a('0x1c')][a40_0x8c0a('0x8')][a40_0x8c0a('0x10')][a40_0x8c0a('0x37')](_0x1740fc['_id'])[a40_0x8c0a('0x3')]+a40_0x8c0a('0x6')+_0x1740fc[a40_0x8c0a('0x25')]);}else{await _0x1740fc[a40_0x8c0a('0x2a')]()['catch'](()=>{});}}await _0x9f958d[a40_0x8c0a('0x11')][a40_0x8c0a('0x41')]({'embed':{'color':tesseract_1[a40_0x8c0a('0x27')]['COLORS'][a40_0x8c0a('0x2e')],'title':'Voting\x20Channels','description':this[a40_0x8c0a('0x3d')][a40_0x8c0a('0x9')]['getString'](_0x9f958d[a40_0x8c0a('0x1c')][a40_0x8c0a('0x38')][a40_0x8c0a('0x3c')],a40_0x8c0a('0x2c'),'votingChannels'),'fields':[{'name':(_0x1b8477[a40_0x8c0a('0x22')]?_0x1b8477[a40_0x8c0a('0x22')]:'No')+'\x20Voting\x20Channels','value':_0x1b8477[a40_0x8c0a('0x2')]('\x0a\x0a')||'-'}]}})[a40_0x8c0a('0x16')](()=>{});};}};