const a42_0x41ae=['Constants','send','return\x20/\x22\x20+\x20this\x20+\x20\x22/','_id','GOLD','../../models/TextChannel','get','length','catch','apply','getString','guild','default','\x20/\x20','votingChannels','votingChannelsRemove','countDocuments','IRIS','author','../../utils/constants','exports','info','MANAGE_GUILD','remove','BASTION_ERROR_TYPE','document','PREMIUM_MEMBERSHIP_REQUIRED','PremiumTier','VOTING_CHANNELS','membershipLimitVotingChannels','channel','push','locale','find','LIMITS','cache','channels','language','RED','DiscordError','Command','constructor','fetchPremiumTier','PLATINUM','../../utils/omnic','findByIdAndUpdate','votingChannels\x20--remove','@bastion/tesseract','join','votingChannelsAdd','LIMITED_PREMIUM_MEMBERSHIP','user','Voting\x20Channels','has','client','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','exec'];(function(_0x5dc388,_0x41aea8){const _0x4025a8=function(_0x104960){while(--_0x104960){_0x5dc388['push'](_0x5dc388['shift']());}},_0xee291=function(){const _0x49d369={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1173fb,_0x16fb9e,_0x139746,_0x3e0150){_0x3e0150=_0x3e0150||{};let _0x338654=_0x16fb9e+'='+_0x139746,_0x5d33d1=0x0;for(let _0x22d082=0x0,_0x464b2b=_0x1173fb['length'];_0x22d082<_0x464b2b;_0x22d082++){const _0x5845de=_0x1173fb[_0x22d082];_0x338654+=';\x20'+_0x5845de;const _0x2af6a6=_0x1173fb[_0x5845de];_0x1173fb['push'](_0x2af6a6),_0x464b2b=_0x1173fb['length'],_0x2af6a6!==!![]&&(_0x338654+='='+_0x2af6a6);}_0x3e0150['cookie']=_0x338654;},'removeCookie':function(){return'dev';},'getCookie':function(_0x248fae,_0x1f445c){_0x248fae=_0x248fae||function(_0x26729f){return _0x26729f;};const _0x342d01=_0x248fae(new RegExp('(?:^|;\x20)'+_0x1f445c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x27dd67=function(_0x4132ad,_0x1b6ed5){_0x4132ad(++_0x1b6ed5);};return _0x27dd67(_0x4025a8,_0x41aea8),_0x342d01?decodeURIComponent(_0x342d01[0x1]):undefined;}},_0x1a5157=function(){const _0x28ecd3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x28ecd3['test'](_0x49d369['removeCookie']['toString']());};_0x49d369['updateCookie']=_0x1a5157;let _0xf5a1db='';const _0x4387cc=_0x49d369['updateCookie']();if(!_0x4387cc)_0x49d369['setCookie'](['*'],'counter',0x1);else _0x4387cc?_0xf5a1db=_0x49d369['getCookie'](null,'counter'):_0x49d369['removeCookie']();};_0xee291();}(a42_0x41ae,0x192));const a42_0x4025=function(_0x5dc388,_0x41aea8){_0x5dc388=_0x5dc388-0x0;let _0x4025a8=a42_0x41ae[_0x5dc388];return _0x4025a8;};const _0x527bdf=a42_0x4025,a42_0x49d369=function(){let _0xf5a1db=!![];return function(_0x4387cc,_0x1173fb){const _0x16fb9e=_0xf5a1db?function(){const _0x1fb85a=a42_0x4025;if(_0x1173fb){const _0x139746=_0x1173fb[_0x1fb85a('0x6')](_0x4387cc,arguments);return _0x1173fb=null,_0x139746;}}:function(){};return _0xf5a1db=![],_0x16fb9e;};}(),a42_0x104960=a42_0x49d369(this,function(){const _0x3e0150=function(){const _0x185961=a42_0x4025,_0x338654=_0x3e0150[_0x185961('0x26')](_0x185961('0x38'))()[_0x185961('0x26')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x338654['test'](a42_0x104960);};return _0x3e0150();});a42_0x104960();'use strict';const tesseract_1=require(_0x527bdf('0x2c')),TextChannel_1=require(_0x527bdf('0x2')),constants=require(_0x527bdf('0x10')),errors=require('../../utils/errors'),omnic=require(_0x527bdf('0x29'));module[_0x527bdf('0x11')]=class Announcements extends tesseract_1[_0x527bdf('0x25')]{constructor(){const _0x5b02c4=_0x527bdf;super(_0x5b02c4('0xb'),{'description':_0x5b02c4('0x34'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':['add',_0x5b02c4('0x14')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x5b02c4('0x13')],'syntax':[_0x5b02c4('0xb'),'votingChannels\x20--add',_0x5b02c4('0x2b')]}),this[_0x5b02c4('0x35')]=async(_0x5d33d1,_0x22d082)=>{const _0x7c4b09=_0x5b02c4;if(_0x22d082['add']){if(constants['isPublicBastion'](this['client'][_0x7c4b09('0x30')])){const _0x2af6a6=await TextChannel_1[_0x7c4b09('0x9')][_0x7c4b09('0xd')]({'guild':_0x5d33d1[_0x7c4b09('0x8')]['id'],'voting':!![]});if(_0x2af6a6>=constants[_0x7c4b09('0x1f')][_0x7c4b09('0x19')]){const _0x248fae=await omnic[_0x7c4b09('0x27')](_0x5d33d1[_0x7c4b09('0x8')])['catch'](()=>{});if(_0x248fae){if(_0x248fae===omnic[_0x7c4b09('0x18')][_0x7c4b09('0x1')]&&_0x2af6a6>=constants['LIMITS'][_0x7c4b09('0x1')][_0x7c4b09('0x19')])throw new errors[(_0x7c4b09('0x24'))](errors[_0x7c4b09('0x15')][_0x7c4b09('0x2f')],this[_0x7c4b09('0x33')]['locale'][_0x7c4b09('0x7')](_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x16')][_0x7c4b09('0x22')],'errors',_0x7c4b09('0x1a'),constants[_0x7c4b09('0x1f')]['GOLD'][_0x7c4b09('0x19')]));else{if(_0x248fae===omnic['PremiumTier']['PLATINUM']&&_0x2af6a6>=constants[_0x7c4b09('0x1f')][_0x7c4b09('0x28')][_0x7c4b09('0x19')])throw new errors[(_0x7c4b09('0x24'))](errors['BASTION_ERROR_TYPE'][_0x7c4b09('0x2f')],this[_0x7c4b09('0x33')][_0x7c4b09('0x1d')][_0x7c4b09('0x7')](_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x16')][_0x7c4b09('0x22')],'errors',_0x7c4b09('0x1a'),constants['LIMITS']['PLATINUM'][_0x7c4b09('0x19')]));}}else throw new errors[(_0x7c4b09('0x24'))](errors[_0x7c4b09('0x15')][_0x7c4b09('0x17')],this[_0x7c4b09('0x33')][_0x7c4b09('0x1d')][_0x7c4b09('0x7')](_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x16')]['language'],'errors','premiumVotingChannels',constants[_0x7c4b09('0x1f')][_0x7c4b09('0x19')]));}}return await TextChannel_1['default'][_0x7c4b09('0x2a')](_0x5d33d1['channel']['id'],{'_id':_0x5d33d1[_0x7c4b09('0x1b')]['id'],'guild':_0x5d33d1[_0x7c4b09('0x8')]['id'],'voting':!![]},{'upsert':!![]}),await _0x5d33d1[_0x7c4b09('0x1b')][_0x7c4b09('0x37')]({'embed':{'color':tesseract_1[_0x7c4b09('0x36')]['COLORS']['GREEN'],'description':this[_0x7c4b09('0x33')]['locale'][_0x7c4b09('0x7')](_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x16')][_0x7c4b09('0x22')],_0x7c4b09('0x12'),_0x7c4b09('0x2e'),_0x5d33d1[_0x7c4b09('0xf')]['tag'])}})[_0x7c4b09('0x5')](()=>{});}if(_0x22d082[_0x7c4b09('0x14')])return await TextChannel_1[_0x7c4b09('0x9')][_0x7c4b09('0x2a')](_0x5d33d1[_0x7c4b09('0x1b')]['id'],{'_id':_0x5d33d1[_0x7c4b09('0x1b')]['id'],'guild':_0x5d33d1[_0x7c4b09('0x8')]['id'],'$unset':{'voting':0x1}}),await _0x5d33d1['channel'][_0x7c4b09('0x37')]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x7c4b09('0x23')],'description':this[_0x7c4b09('0x33')][_0x7c4b09('0x1d')][_0x7c4b09('0x7')](_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x16')][_0x7c4b09('0x22')],_0x7c4b09('0x12'),_0x7c4b09('0xc'),_0x5d33d1['author']['tag'])}})[_0x7c4b09('0x5')](()=>{});const _0x464b2b=await TextChannel_1[_0x7c4b09('0x9')][_0x7c4b09('0x1e')]({'guild':_0x5d33d1['guild']['id'],'voting':!![]}),_0x5845de=[];for(const _0x1f445c of _0x464b2b){_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x21')][_0x7c4b09('0x20')][_0x7c4b09('0x32')](_0x1f445c[_0x7c4b09('0x0')])?_0x5845de[_0x7c4b09('0x1c')](_0x5d33d1['guild'][_0x7c4b09('0x21')][_0x7c4b09('0x20')][_0x7c4b09('0x3')](_0x1f445c[_0x7c4b09('0x0')])['name']+_0x7c4b09('0xa')+_0x1f445c[_0x7c4b09('0x0')]):await _0x1f445c[_0x7c4b09('0x14')]()['catch'](()=>{});}await _0x5d33d1[_0x7c4b09('0x1b')][_0x7c4b09('0x37')]({'embed':{'color':tesseract_1[_0x7c4b09('0x36')]['COLORS'][_0x7c4b09('0xe')],'title':_0x7c4b09('0x31'),'description':this[_0x7c4b09('0x33')]['locale']['getString'](_0x5d33d1[_0x7c4b09('0x8')][_0x7c4b09('0x16')][_0x7c4b09('0x22')],_0x7c4b09('0x12'),'votingChannels'),'fields':[{'name':(_0x5845de[_0x7c4b09('0x4')]?_0x5845de['length']:'No')+'\x20Voting\x20Channels','value':_0x5845de[_0x7c4b09('0x2d')]('\x0a\x0a')||'-'}]}})[_0x7c4b09('0x5')](()=>{});};}};