const a40_0x453d=['test','../../models/TextChannel','fetchPremiumTier','DiscordError','exports','PremiumTier','\x20Voting\x20Channels','votingChannels\x20--remove','cache','errors','LIMITS','info','RED','../../utils/errors','GOLD','COLORS','PREMIUM_MEMBERSHIP_REQUIRED','push','locale','author','compile','IRIS','has','client','join','channels','\x20/\x20','add','length','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','votingChannelsRemove','VOTING_CHANNELS','channel','votingChannels','exec','../../utils/omnic','Constants','name','guild','votingChannels\x20--add','votingChannelsAdd','BASTION_ERROR_TYPE','getString','LIMITED_PREMIUM_MEMBERSHIP','document','return\x20/\x22\x20+\x20this\x20+\x20\x22/','_id','premiumVotingChannels','PLATINUM','../../utils/constants','findByIdAndUpdate','default','send','catch','membershipLimitVotingChannels','language','@bastion/tesseract','remove','Command','constructor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','find'];(function(_0x3b34d3,_0x453de6){const _0x43259a=function(_0x442a63){while(--_0x442a63){_0x3b34d3['push'](_0x3b34d3['shift']());}};const _0x45cd93=function(){const _0x15dfc5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4d5e9b,_0x120d82,_0xac6a75,_0x342f41){_0x342f41=_0x342f41||{};let _0x28c837=_0x120d82+'='+_0xac6a75;let _0xc2c81d=0x0;for(let _0x363bfb=0x0,_0x1ed175=_0x4d5e9b['length'];_0x363bfb<_0x1ed175;_0x363bfb++){const _0x333efd=_0x4d5e9b[_0x363bfb];_0x28c837+=';\x20'+_0x333efd;const _0x163466=_0x4d5e9b[_0x333efd];_0x4d5e9b['push'](_0x163466);_0x1ed175=_0x4d5e9b['length'];if(_0x163466!==!![]){_0x28c837+='='+_0x163466;}}_0x342f41['cookie']=_0x28c837;},'removeCookie':function(){return'dev';},'getCookie':function(_0x42b965,_0x4634a7){_0x42b965=_0x42b965||function(_0x2c90f2){return _0x2c90f2;};const _0x114bdd=_0x42b965(new RegExp('(?:^|;\x20)'+_0x4634a7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1c6fb1=function(_0x557d28,_0x5e7e48){_0x557d28(++_0x5e7e48);};_0x1c6fb1(_0x43259a,_0x453de6);return _0x114bdd?decodeURIComponent(_0x114bdd[0x1]):undefined;}};const _0x221024=function(){const _0x15aaac=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x15aaac['test'](_0x15dfc5['removeCookie']['toString']());};_0x15dfc5['updateCookie']=_0x221024;let _0x51bddd='';const _0x28fa78=_0x15dfc5['updateCookie']();if(!_0x28fa78){_0x15dfc5['setCookie'](['*'],'counter',0x1);}else if(_0x28fa78){_0x51bddd=_0x15dfc5['getCookie'](null,'counter');}else{_0x15dfc5['removeCookie']();}};_0x45cd93();}(a40_0x453d,0x73));const a40_0x4325=function(_0x3b34d3,_0x453de6){_0x3b34d3=_0x3b34d3-0x0;let _0x43259a=a40_0x453d[_0x3b34d3];return _0x43259a;};const a40_0x15dfc5=function(){let _0xd081d5=!![];return function(_0x17cf76,_0x28f69d){const _0x37fea3=_0xd081d5?function(){if(_0x28f69d){const _0x1250ad=_0x28f69d['apply'](_0x17cf76,arguments);_0x28f69d=null;return _0x1250ad;}}:function(){};_0xd081d5=![];return _0x37fea3;};}();const a40_0x442a63=a40_0x15dfc5(this,function(){const _0x1fac95=function(){const _0x5eae18=_0x1fac95[a40_0x4325('0x6')](a40_0x4325('0x36'))()[a40_0x4325('0x1d')](a40_0x4325('0x7'));return!_0x5eae18[a40_0x4325('0x9')](a40_0x442a63);};return _0x1fac95();});a40_0x442a63();'use strict';const tesseract_1=require(a40_0x4325('0x3'));const TextChannel_1=require(a40_0x4325('0xa'));const constants=require(a40_0x4325('0x3a'));const errors=require(a40_0x4325('0x16'));const omnic=require(a40_0x4325('0x2c'));module[a40_0x4325('0xd')]=class Announcements extends tesseract_1[a40_0x4325('0x5')]{constructor(){super(a40_0x4325('0x2a'),{'description':a40_0x4325('0x26'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x4325('0x24'),a40_0x4325('0x4')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[a40_0x4325('0x2a'),a40_0x4325('0x30'),a40_0x4325('0x10')]});this[a40_0x4325('0x2b')]=async(_0x157f53,_0x32fe5b)=>{if(_0x32fe5b['add']){if(constants['isPublicBastion'](this[a40_0x4325('0x20')]['user'])){const _0x598f83=await TextChannel_1['default']['countDocuments']({'guild':_0x157f53[a40_0x4325('0x2f')]['id'],'voting':!![]});if(_0x598f83>=constants[a40_0x4325('0x13')][a40_0x4325('0x28')]){const _0x2cb045=await omnic[a40_0x4325('0xb')](_0x157f53[a40_0x4325('0x2f')])[a40_0x4325('0x0')](()=>{});if(_0x2cb045){if(_0x2cb045===omnic[a40_0x4325('0xe')][a40_0x4325('0x17')]&&_0x598f83>=constants['LIMITS'][a40_0x4325('0x17')][a40_0x4325('0x28')]){throw new errors[(a40_0x4325('0xc'))](errors[a40_0x4325('0x32')][a40_0x4325('0x34')],this[a40_0x4325('0x20')][a40_0x4325('0x1b')][a40_0x4325('0x33')](_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x35')][a40_0x4325('0x2')],a40_0x4325('0x12'),'membershipLimitVotingChannels',constants['LIMITS'][a40_0x4325('0x17')][a40_0x4325('0x28')]));}else if(_0x2cb045===omnic[a40_0x4325('0xe')][a40_0x4325('0x39')]&&_0x598f83>=constants[a40_0x4325('0x13')]['PLATINUM'][a40_0x4325('0x28')]){throw new errors['DiscordError'](errors[a40_0x4325('0x32')][a40_0x4325('0x34')],this[a40_0x4325('0x20')][a40_0x4325('0x1b')][a40_0x4325('0x33')](_0x157f53['guild']['document'][a40_0x4325('0x2')],'errors',a40_0x4325('0x1'),constants[a40_0x4325('0x13')][a40_0x4325('0x39')]['VOTING_CHANNELS']));}}else{throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a40_0x4325('0x19')],this[a40_0x4325('0x20')][a40_0x4325('0x1b')][a40_0x4325('0x33')](_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x35')][a40_0x4325('0x2')],'errors',a40_0x4325('0x38'),constants[a40_0x4325('0x13')]['VOTING_CHANNELS']));}}}await TextChannel_1[a40_0x4325('0x3c')][a40_0x4325('0x3b')](_0x157f53[a40_0x4325('0x29')]['id'],{'_id':_0x157f53[a40_0x4325('0x29')]['id'],'guild':_0x157f53['guild']['id'],'voting':!![]},{'upsert':!![]});return await _0x157f53[a40_0x4325('0x29')][a40_0x4325('0x3d')]({'embed':{'color':tesseract_1[a40_0x4325('0x2d')]['COLORS']['GREEN'],'description':this[a40_0x4325('0x20')][a40_0x4325('0x1b')][a40_0x4325('0x33')](_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x35')]['language'],a40_0x4325('0x14'),a40_0x4325('0x31'),_0x157f53[a40_0x4325('0x1c')]['tag'])}})['catch'](()=>{});}if(_0x32fe5b[a40_0x4325('0x4')]){await TextChannel_1[a40_0x4325('0x3c')][a40_0x4325('0x3b')](_0x157f53[a40_0x4325('0x29')]['id'],{'_id':_0x157f53[a40_0x4325('0x29')]['id'],'guild':_0x157f53[a40_0x4325('0x2f')]['id'],'$unset':{'voting':0x1}});return await _0x157f53[a40_0x4325('0x29')][a40_0x4325('0x3d')]({'embed':{'color':tesseract_1[a40_0x4325('0x2d')][a40_0x4325('0x18')][a40_0x4325('0x15')],'description':this[a40_0x4325('0x20')]['locale'][a40_0x4325('0x33')](_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x35')][a40_0x4325('0x2')],a40_0x4325('0x14'),a40_0x4325('0x27'),_0x157f53['author']['tag'])}})[a40_0x4325('0x0')](()=>{});}const _0x564864=await TextChannel_1[a40_0x4325('0x3c')][a40_0x4325('0x8')]({'guild':_0x157f53[a40_0x4325('0x2f')]['id'],'voting':!![]});const _0x354ee6=[];for(const _0x326d70 of _0x564864){if(_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x22')][a40_0x4325('0x11')][a40_0x4325('0x1f')](_0x326d70[a40_0x4325('0x37')])){_0x354ee6[a40_0x4325('0x1a')](_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x22')][a40_0x4325('0x11')]['get'](_0x326d70[a40_0x4325('0x37')])[a40_0x4325('0x2e')]+a40_0x4325('0x23')+_0x326d70[a40_0x4325('0x37')]);}else{await _0x326d70[a40_0x4325('0x4')]()[a40_0x4325('0x0')](()=>{});}}await _0x157f53[a40_0x4325('0x29')][a40_0x4325('0x3d')]({'embed':{'color':tesseract_1[a40_0x4325('0x2d')]['COLORS'][a40_0x4325('0x1e')],'title':'Voting\x20Channels','description':this[a40_0x4325('0x20')][a40_0x4325('0x1b')][a40_0x4325('0x33')](_0x157f53[a40_0x4325('0x2f')][a40_0x4325('0x35')][a40_0x4325('0x2')],a40_0x4325('0x14'),a40_0x4325('0x2a')),'fields':[{'name':(_0x354ee6[a40_0x4325('0x25')]?_0x354ee6[a40_0x4325('0x25')]:'No')+a40_0x4325('0xf'),'value':_0x354ee6[a40_0x4325('0x21')]('\x0a\x0a')||'-'}]}})[a40_0x4325('0x0')](()=>{});};}};