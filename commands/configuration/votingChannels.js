const a260_0x5ed7=['^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','constructor','getString','PremiumTier','votingChannels','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','test','votingChannels\x20--add','votingChannelsAdd','default','COLORS','find','votingChannels\x20--remove','RED','info','findByIdAndUpdate','return\x20/\x22\x20+\x20this\x20+\x20\x22/','tag','author','add','channel','document','Command','remove','length','../../utils/errors','exec','_id','name','../../models/TextChannel','@bastion/tesseract','Constants','VOTING_CHANNELS','fetchPremiumTier','isPublicBastion','membershipLimitVotingChannels','language','\x20Voting\x20Channels','LIMITS','MANAGE_GUILD','join','GREEN','PLATINUM','locale','client','user','Voting\x20Channels','IRIS','errors','LIMITED_PREMIUM_MEMBERSHIP','channels','votingChannelsRemove','has','cache','get','catch','countDocuments','send','guild','BASTION_ERROR_TYPE','\x20/\x20','apply','DiscordError'];(function(_0x57b324,_0x5ed71b){const _0x48e2e2=function(_0x3dc9d0){while(--_0x3dc9d0){_0x57b324['push'](_0x57b324['shift']());}};const _0x4c1b2a=function(){const _0x637ca5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1db046,_0x4c4728,_0x15bfd3,_0x50cdc5){_0x50cdc5=_0x50cdc5||{};let _0x447095=_0x4c4728+'='+_0x15bfd3;let _0x378aa3=0x0;for(let _0x5f4877=0x0,_0x35577b=_0x1db046['length'];_0x5f4877<_0x35577b;_0x5f4877++){const _0x4fee0d=_0x1db046[_0x5f4877];_0x447095+=';\x20'+_0x4fee0d;const _0x4cd1ae=_0x1db046[_0x4fee0d];_0x1db046['push'](_0x4cd1ae);_0x35577b=_0x1db046['length'];if(_0x4cd1ae!==!![]){_0x447095+='='+_0x4cd1ae;}}_0x50cdc5['cookie']=_0x447095;},'removeCookie':function(){return'dev';},'getCookie':function(_0xe66e0e,_0x2e175f){_0xe66e0e=_0xe66e0e||function(_0x226f19){return _0x226f19;};const _0x42c33a=_0xe66e0e(new RegExp('(?:^|;\x20)'+_0x2e175f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x59087e=function(_0x354b81,_0x1a2935){_0x354b81(++_0x1a2935);};_0x59087e(_0x48e2e2,_0x5ed71b);return _0x42c33a?decodeURIComponent(_0x42c33a[0x1]):undefined;}};const _0x22d5ae=function(){const _0x55e2d5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x55e2d5['test'](_0x637ca5['removeCookie']['toString']());};_0x637ca5['updateCookie']=_0x22d5ae;let _0xe32a28='';const _0x29d1a2=_0x637ca5['updateCookie']();if(!_0x29d1a2){_0x637ca5['setCookie'](['*'],'counter',0x1);}else if(_0x29d1a2){_0xe32a28=_0x637ca5['getCookie'](null,'counter');}else{_0x637ca5['removeCookie']();}};_0x4c1b2a();}(a260_0x5ed7,0x7b));const a260_0x48e2=function(_0x57b324,_0x5ed71b){_0x57b324=_0x57b324-0x0;let _0x48e2e2=a260_0x5ed7[_0x57b324];return _0x48e2e2;};const a260_0x637ca5=function(){let _0x8799af=!![];return function(_0x3f4a0a,_0x105e6e){const _0x50f75b=_0x8799af?function(){if(_0x105e6e){const _0xe35857=_0x105e6e[a260_0x48e2('0x1')](_0x3f4a0a,arguments);_0x105e6e=null;return _0xe35857;}}:function(){};_0x8799af=![];return _0x50f75b;};}();const a260_0x3dc9d0=a260_0x637ca5(this,function(){const _0x472f68=function(){const _0x5130a2=_0x472f68[a260_0x48e2('0x4')](a260_0x48e2('0x13'))()['compile'](a260_0x48e2('0x3'));return!_0x5130a2[a260_0x48e2('0x9')](a260_0x3dc9d0);};return _0x472f68();});a260_0x3dc9d0();'use strict';const tesseract_1=require(a260_0x48e2('0x21'));const TextChannel_1=require(a260_0x48e2('0x20'));const constants=require('../../utils/constants');const errors=require(a260_0x48e2('0x1c'));const omnic=require('../../utils/omnic');module['exports']=class Announcements extends tesseract_1[a260_0x48e2('0x19')]{constructor(){super(a260_0x48e2('0x7'),{'description':a260_0x48e2('0x8'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':['add',a260_0x48e2('0x1a')]},'scope':a260_0x48e2('0x3d'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a260_0x48e2('0x2a')],'syntax':['votingChannels',a260_0x48e2('0xa'),a260_0x48e2('0xf')]});this[a260_0x48e2('0x1d')]=async(_0x5be814,_0x32688f)=>{if(_0x32688f[a260_0x48e2('0x16')]){if(constants[a260_0x48e2('0x25')](this[a260_0x48e2('0x2f')][a260_0x48e2('0x30')])){const _0x1d21ca=await TextChannel_1[a260_0x48e2('0xc')][a260_0x48e2('0x3b')]({'guild':_0x5be814[a260_0x48e2('0x3d')]['id'],'voting':!![]});if(_0x1d21ca>=constants[a260_0x48e2('0x29')]['VOTING_CHANNELS']){const _0x286e75=await omnic[a260_0x48e2('0x24')](_0x5be814['guild'])[a260_0x48e2('0x3a')](()=>{});if(_0x286e75){if(_0x286e75===omnic[a260_0x48e2('0x6')]['GOLD']&&_0x1d21ca>=constants[a260_0x48e2('0x29')]['GOLD'][a260_0x48e2('0x23')]){throw new errors[(a260_0x48e2('0x2'))](errors[a260_0x48e2('0x3e')][a260_0x48e2('0x34')],this['client'][a260_0x48e2('0x2e')]['getString'](_0x5be814['guild'][a260_0x48e2('0x18')][a260_0x48e2('0x27')],'errors','membershipLimitVotingChannels',constants[a260_0x48e2('0x29')]['GOLD'][a260_0x48e2('0x23')]));}else if(_0x286e75===omnic[a260_0x48e2('0x6')][a260_0x48e2('0x2d')]&&_0x1d21ca>=constants[a260_0x48e2('0x29')][a260_0x48e2('0x2d')][a260_0x48e2('0x23')]){throw new errors[(a260_0x48e2('0x2'))](errors[a260_0x48e2('0x3e')][a260_0x48e2('0x34')],this['client'][a260_0x48e2('0x2e')][a260_0x48e2('0x5')](_0x5be814[a260_0x48e2('0x3d')][a260_0x48e2('0x18')][a260_0x48e2('0x27')],a260_0x48e2('0x33'),a260_0x48e2('0x26'),constants[a260_0x48e2('0x29')][a260_0x48e2('0x2d')][a260_0x48e2('0x23')]));}}else{throw new errors[(a260_0x48e2('0x2'))](errors[a260_0x48e2('0x3e')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a260_0x48e2('0x2f')][a260_0x48e2('0x2e')][a260_0x48e2('0x5')](_0x5be814['guild'][a260_0x48e2('0x18')][a260_0x48e2('0x27')],a260_0x48e2('0x33'),'premiumVotingChannels',constants[a260_0x48e2('0x29')][a260_0x48e2('0x23')]));}}}await TextChannel_1['default'][a260_0x48e2('0x12')](_0x5be814['channel']['id'],{'_id':_0x5be814[a260_0x48e2('0x17')]['id'],'guild':_0x5be814[a260_0x48e2('0x3d')]['id'],'voting':!![]},{'upsert':!![]});return await _0x5be814[a260_0x48e2('0x17')][a260_0x48e2('0x3c')]({'embed':{'color':tesseract_1[a260_0x48e2('0x22')][a260_0x48e2('0xd')][a260_0x48e2('0x2c')],'description':this[a260_0x48e2('0x2f')][a260_0x48e2('0x2e')][a260_0x48e2('0x5')](_0x5be814[a260_0x48e2('0x3d')][a260_0x48e2('0x18')][a260_0x48e2('0x27')],'info',a260_0x48e2('0xb'),_0x5be814[a260_0x48e2('0x15')][a260_0x48e2('0x14')])}})[a260_0x48e2('0x3a')](()=>{});}if(_0x32688f[a260_0x48e2('0x1a')]){await TextChannel_1[a260_0x48e2('0xc')][a260_0x48e2('0x12')](_0x5be814[a260_0x48e2('0x17')]['id'],{'_id':_0x5be814[a260_0x48e2('0x17')]['id'],'guild':_0x5be814['guild']['id'],'$unset':{'voting':0x1}});return await _0x5be814[a260_0x48e2('0x17')][a260_0x48e2('0x3c')]({'embed':{'color':tesseract_1['Constants'][a260_0x48e2('0xd')][a260_0x48e2('0x10')],'description':this[a260_0x48e2('0x2f')][a260_0x48e2('0x2e')][a260_0x48e2('0x5')](_0x5be814[a260_0x48e2('0x3d')]['document'][a260_0x48e2('0x27')],a260_0x48e2('0x11'),a260_0x48e2('0x36'),_0x5be814[a260_0x48e2('0x15')]['tag'])}})[a260_0x48e2('0x3a')](()=>{});}const _0x12c0c2=await TextChannel_1['default'][a260_0x48e2('0xe')]({'guild':_0x5be814['guild']['id'],'voting':!![]});const _0x5ec314=[];for(const _0x259066 of _0x12c0c2){if(_0x5be814[a260_0x48e2('0x3d')]['channels']['cache'][a260_0x48e2('0x37')](_0x259066[a260_0x48e2('0x1e')])){_0x5ec314['push'](_0x5be814[a260_0x48e2('0x3d')][a260_0x48e2('0x35')][a260_0x48e2('0x38')][a260_0x48e2('0x39')](_0x259066['_id'])[a260_0x48e2('0x1f')]+a260_0x48e2('0x0')+_0x259066[a260_0x48e2('0x1e')]);}else{await _0x259066[a260_0x48e2('0x1a')]()[a260_0x48e2('0x3a')](()=>{});}}await _0x5be814[a260_0x48e2('0x17')][a260_0x48e2('0x3c')]({'embed':{'color':tesseract_1[a260_0x48e2('0x22')][a260_0x48e2('0xd')][a260_0x48e2('0x32')],'title':a260_0x48e2('0x31'),'description':this[a260_0x48e2('0x2f')][a260_0x48e2('0x2e')][a260_0x48e2('0x5')](_0x5be814[a260_0x48e2('0x3d')][a260_0x48e2('0x18')][a260_0x48e2('0x27')],a260_0x48e2('0x11'),a260_0x48e2('0x7')),'fields':[{'name':(_0x5ec314[a260_0x48e2('0x1b')]?_0x5ec314[a260_0x48e2('0x1b')]:'No')+a260_0x48e2('0x28'),'value':_0x5ec314[a260_0x48e2('0x2b')]('\x0a\x0a')||'-'}]}})[a260_0x48e2('0x3a')](()=>{});};}};