const a40_0x31ae=['membershipLimitVotingChannels','Command','user','find','name','compile','get','_id','votingChannels\x20--add','errors','add','exec','LIMITED_PREMIUM_MEMBERSHIP','PREMIUM_MEMBERSHIP_REQUIRED','DiscordError','locale','guild','join','countDocuments','votingChannels\x20--remove','BASTION_ERROR_TYPE','RED','isPublicBastion','findByIdAndUpdate','client','tag','\x20Voting\x20Channels','remove','COLORS','fetchPremiumTier','send','../../utils/omnic','PLATINUM','cache','channel','MANAGE_GUILD','../../models/TextChannel','@bastion/tesseract','catch','has','author','premiumVotingChannels','push','constructor','Constants','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','info','getString','length','default','PremiumTier','votingChannelsAdd','GOLD','../../utils/errors','language','VOTING_CHANNELS','document','votingChannels','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','LIMITS'];(function(_0x447217,_0x31ae1c){const _0x188fea=function(_0x4b8a97){while(--_0x4b8a97){_0x447217['push'](_0x447217['shift']());}};const _0x29c3ba=function(){const _0x43a00d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xbf99fd,_0x2c6e10,_0x159a3a,_0x5c7a21){_0x5c7a21=_0x5c7a21||{};let _0x107c8b=_0x2c6e10+'='+_0x159a3a;let _0xce684f=0x0;for(let _0x4c02ef=0x0,_0x866ade=_0xbf99fd['length'];_0x4c02ef<_0x866ade;_0x4c02ef++){const _0x18d8b2=_0xbf99fd[_0x4c02ef];_0x107c8b+=';\x20'+_0x18d8b2;const _0xb9c608=_0xbf99fd[_0x18d8b2];_0xbf99fd['push'](_0xb9c608);_0x866ade=_0xbf99fd['length'];if(_0xb9c608!==!![]){_0x107c8b+='='+_0xb9c608;}}_0x5c7a21['cookie']=_0x107c8b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x14fe66,_0xb811ae){_0x14fe66=_0x14fe66||function(_0x5efad4){return _0x5efad4;};const _0x4eadb9=_0x14fe66(new RegExp('(?:^|;\x20)'+_0xb811ae['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x328ec8=function(_0x549ecc,_0x27d489){_0x549ecc(++_0x27d489);};_0x328ec8(_0x188fea,_0x31ae1c);return _0x4eadb9?decodeURIComponent(_0x4eadb9[0x1]):undefined;}};const _0x30a7f8=function(){const _0x5bbaec=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5bbaec['test'](_0x43a00d['removeCookie']['toString']());};_0x43a00d['updateCookie']=_0x30a7f8;let _0x5a3e0e='';const _0x1b8a7d=_0x43a00d['updateCookie']();if(!_0x1b8a7d){_0x43a00d['setCookie'](['*'],'counter',0x1);}else if(_0x1b8a7d){_0x5a3e0e=_0x43a00d['getCookie'](null,'counter');}else{_0x43a00d['removeCookie']();}};_0x29c3ba();}(a40_0x31ae,0x183));const a40_0x188f=function(_0x447217,_0x31ae1c){_0x447217=_0x447217-0x0;let _0x188fea=a40_0x31ae[_0x447217];return _0x188fea;};const a40_0x43a00d=function(){let _0x3aa30c=!![];return function(_0x14e1c8,_0x50b586){const _0x4566ff=_0x3aa30c?function(){if(_0x50b586){const _0x17fdf3=_0x50b586['apply'](_0x14e1c8,arguments);_0x50b586=null;return _0x17fdf3;}}:function(){};_0x3aa30c=![];return _0x4566ff;};}();const a40_0x4b8a97=a40_0x43a00d(this,function(){const _0x164ca6=function(){const _0x4138bb=_0x164ca6[a40_0x188f('0x16')](a40_0x188f('0x19'))()[a40_0x188f('0x2d')](a40_0x188f('0x26'));return!_0x4138bb['test'](a40_0x4b8a97);};return _0x164ca6();});a40_0x4b8a97();'use strict';const tesseract_1=require(a40_0x188f('0x10'));const TextChannel_1=require(a40_0x188f('0xf'));const constants=require('../../utils/constants');const errors=require(a40_0x188f('0x21'));const omnic=require(a40_0x188f('0xa'));module[a40_0x188f('0x18')]=class Announcements extends tesseract_1[a40_0x188f('0x29')]{constructor(){super(a40_0x188f('0x25'),{'description':'It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x188f('0x32'),'remove']},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x188f('0xe')],'syntax':['votingChannels',a40_0x188f('0x30'),a40_0x188f('0x3b')]});this[a40_0x188f('0x33')]=async(_0x2089b5,_0x33243c)=>{if(_0x33243c[a40_0x188f('0x32')]){if(constants[a40_0x188f('0x1')](this['client'][a40_0x188f('0x2a')])){const _0x3b586f=await TextChannel_1[a40_0x188f('0x1d')][a40_0x188f('0x3a')]({'guild':_0x2089b5['guild']['id'],'voting':!![]});if(_0x3b586f>=constants[a40_0x188f('0x27')]['VOTING_CHANNELS']){const _0x1d8117=await omnic[a40_0x188f('0x8')](_0x2089b5[a40_0x188f('0x38')])[a40_0x188f('0x11')](()=>{});if(_0x1d8117){if(_0x1d8117===omnic[a40_0x188f('0x1e')][a40_0x188f('0x20')]&&_0x3b586f>=constants[a40_0x188f('0x27')][a40_0x188f('0x20')][a40_0x188f('0x23')]){throw new errors[(a40_0x188f('0x36'))](errors[a40_0x188f('0x3c')][a40_0x188f('0x34')],this[a40_0x188f('0x3')][a40_0x188f('0x37')][a40_0x188f('0x1b')](_0x2089b5['guild'][a40_0x188f('0x24')][a40_0x188f('0x22')],a40_0x188f('0x31'),'membershipLimitVotingChannels',constants[a40_0x188f('0x27')]['GOLD'][a40_0x188f('0x23')]));}else if(_0x1d8117===omnic[a40_0x188f('0x1e')][a40_0x188f('0xb')]&&_0x3b586f>=constants[a40_0x188f('0x27')]['PLATINUM']['VOTING_CHANNELS']){throw new errors[(a40_0x188f('0x36'))](errors[a40_0x188f('0x3c')][a40_0x188f('0x34')],this[a40_0x188f('0x3')]['locale'][a40_0x188f('0x1b')](_0x2089b5['guild']['document'][a40_0x188f('0x22')],a40_0x188f('0x31'),a40_0x188f('0x28'),constants[a40_0x188f('0x27')][a40_0x188f('0xb')][a40_0x188f('0x23')]));}}else{throw new errors[(a40_0x188f('0x36'))](errors[a40_0x188f('0x3c')][a40_0x188f('0x35')],this[a40_0x188f('0x3')][a40_0x188f('0x37')][a40_0x188f('0x1b')](_0x2089b5['guild'][a40_0x188f('0x24')][a40_0x188f('0x22')],a40_0x188f('0x31'),a40_0x188f('0x14'),constants[a40_0x188f('0x27')][a40_0x188f('0x23')]));}}}await TextChannel_1[a40_0x188f('0x1d')][a40_0x188f('0x2')](_0x2089b5['channel']['id'],{'_id':_0x2089b5[a40_0x188f('0xd')]['id'],'guild':_0x2089b5[a40_0x188f('0x38')]['id'],'voting':!![]},{'upsert':!![]});return await _0x2089b5[a40_0x188f('0xd')][a40_0x188f('0x9')]({'embed':{'color':tesseract_1['Constants'][a40_0x188f('0x7')]['GREEN'],'description':this[a40_0x188f('0x3')]['locale']['getString'](_0x2089b5[a40_0x188f('0x38')][a40_0x188f('0x24')][a40_0x188f('0x22')],a40_0x188f('0x1a'),a40_0x188f('0x1f'),_0x2089b5[a40_0x188f('0x13')][a40_0x188f('0x4')])}})[a40_0x188f('0x11')](()=>{});}if(_0x33243c[a40_0x188f('0x6')]){await TextChannel_1['default'][a40_0x188f('0x2')](_0x2089b5[a40_0x188f('0xd')]['id'],{'_id':_0x2089b5['channel']['id'],'guild':_0x2089b5[a40_0x188f('0x38')]['id'],'$unset':{'voting':0x1}});return await _0x2089b5[a40_0x188f('0xd')]['send']({'embed':{'color':tesseract_1[a40_0x188f('0x17')][a40_0x188f('0x7')][a40_0x188f('0x0')],'description':this['client'][a40_0x188f('0x37')]['getString'](_0x2089b5[a40_0x188f('0x38')]['document'][a40_0x188f('0x22')],a40_0x188f('0x1a'),'votingChannelsRemove',_0x2089b5[a40_0x188f('0x13')][a40_0x188f('0x4')])}})['catch'](()=>{});}const _0x598d84=await TextChannel_1[a40_0x188f('0x1d')][a40_0x188f('0x2b')]({'guild':_0x2089b5[a40_0x188f('0x38')]['id'],'voting':!![]});const _0xb5260d=[];for(const _0x232b08 of _0x598d84){if(_0x2089b5[a40_0x188f('0x38')]['channels'][a40_0x188f('0xc')][a40_0x188f('0x12')](_0x232b08[a40_0x188f('0x2f')])){_0xb5260d[a40_0x188f('0x15')](_0x2089b5[a40_0x188f('0x38')]['channels'][a40_0x188f('0xc')][a40_0x188f('0x2e')](_0x232b08['_id'])[a40_0x188f('0x2c')]+'\x20/\x20'+_0x232b08[a40_0x188f('0x2f')]);}else{await _0x232b08[a40_0x188f('0x6')]()['catch'](()=>{});}}await _0x2089b5[a40_0x188f('0xd')]['send']({'embed':{'color':tesseract_1[a40_0x188f('0x17')][a40_0x188f('0x7')]['IRIS'],'title':'Voting\x20Channels','description':this[a40_0x188f('0x3')][a40_0x188f('0x37')][a40_0x188f('0x1b')](_0x2089b5[a40_0x188f('0x38')][a40_0x188f('0x24')][a40_0x188f('0x22')],a40_0x188f('0x1a'),'votingChannels'),'fields':[{'name':(_0xb5260d[a40_0x188f('0x1c')]?_0xb5260d['length']:'No')+a40_0x188f('0x5'),'value':_0xb5260d[a40_0x188f('0x39')]('\x0a\x0a')||'-'}]}})[a40_0x188f('0x11')](()=>{});};}};