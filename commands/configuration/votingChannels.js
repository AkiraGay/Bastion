const a41_0x3057=['DiscordError','name','get','countDocuments','../../utils/omnic','../../models/TextChannel','guild','BASTION_ERROR_TYPE','channel','PremiumTier','test','constructor','join','channels','VOTING_CHANNELS','errors','\x20Voting\x20Channels','length','getString','RED','COLORS','GREEN','author','PLATINUM','votingChannels','catch','document','../../utils/errors','apply','language','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','LIMITED_PREMIUM_MEMBERSHIP','Command','\x20/\x20','Voting\x20Channels','default','info','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','push','votingChannels\x20--add','user','tag','find','client','Constants','isPublicBastion','membershipLimitVotingChannels','cache','IRIS','send','PREMIUM_MEMBERSHIP_REQUIRED','add','LIMITS','_id','has','votingChannelsAdd','remove','votingChannelsRemove','fetchPremiumTier','findByIdAndUpdate','locale','GOLD'];(function(_0x4e3329,_0x305758){const _0x2677b0=function(_0x23e01b){while(--_0x23e01b){_0x4e3329['push'](_0x4e3329['shift']());}},_0x2987cc=function(){const _0x2d498b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2e2dcc,_0x362a38,_0x18e08d,_0x206f18){_0x206f18=_0x206f18||{};let _0x14e224=_0x362a38+'='+_0x18e08d,_0xb179fa=0x0;for(let _0x1af067=0x0,_0x44d530=_0x2e2dcc['length'];_0x1af067<_0x44d530;_0x1af067++){const _0x2f1441=_0x2e2dcc[_0x1af067];_0x14e224+=';\x20'+_0x2f1441;const _0x35f80c=_0x2e2dcc[_0x2f1441];_0x2e2dcc['push'](_0x35f80c),_0x44d530=_0x2e2dcc['length'],_0x35f80c!==!![]&&(_0x14e224+='='+_0x35f80c);}_0x206f18['cookie']=_0x14e224;},'removeCookie':function(){return'dev';},'getCookie':function(_0x173105,_0x162fec){_0x173105=_0x173105||function(_0x46e3d7){return _0x46e3d7;};const _0x2e228d=_0x173105(new RegExp('(?:^|;\x20)'+_0x162fec['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x24d06a=function(_0x300502,_0x5d2c7d){_0x300502(++_0x5d2c7d);};return _0x24d06a(_0x2677b0,_0x305758),_0x2e228d?decodeURIComponent(_0x2e228d[0x1]):undefined;}},_0x290168=function(){const _0x45593c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x45593c['test'](_0x2d498b['removeCookie']['toString']());};_0x2d498b['updateCookie']=_0x290168;let _0x1c991b='';const _0x1cea93=_0x2d498b['updateCookie']();if(!_0x1cea93)_0x2d498b['setCookie'](['*'],'counter',0x1);else _0x1cea93?_0x1c991b=_0x2d498b['getCookie'](null,'counter'):_0x2d498b['removeCookie']();};_0x2987cc();}(a41_0x3057,0x1ac));const a41_0x2677=function(_0x4e3329,_0x305758){_0x4e3329=_0x4e3329-0x0;let _0x2677b0=a41_0x3057[_0x4e3329];return _0x2677b0;};const a41_0x2d498b=function(){let _0x1c991b=!![];return function(_0x1cea93,_0x2e2dcc){const _0x362a38=_0x1c991b?function(){if(_0x2e2dcc){const _0x18e08d=_0x2e2dcc[a41_0x2677('0x22')](_0x1cea93,arguments);return _0x2e2dcc=null,_0x18e08d;}}:function(){};return _0x1c991b=![],_0x362a38;};}(),a41_0x23e01b=a41_0x2d498b(this,function(){const _0x206f18=function(){const _0x14e224=_0x206f18[a41_0x2677('0x11')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a41_0x2677('0x11')](a41_0x2677('0x2b'));return!_0x14e224[a41_0x2677('0x10')](a41_0x23e01b);};return _0x206f18();});a41_0x23e01b();'use strict';const tesseract_1=require('@bastion/tesseract'),TextChannel_1=require(a41_0x2677('0xb')),constants=require('../../utils/constants'),errors=require(a41_0x2677('0x21')),omnic=require(a41_0x2677('0xa'));module['exports']=class Announcements extends tesseract_1[a41_0x2677('0x26')]{constructor(){super('votingChannels',{'description':a41_0x2677('0x24'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a41_0x2677('0x39'),a41_0x2677('0x0')]},'scope':a41_0x2677('0xc'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[a41_0x2677('0x1e'),a41_0x2677('0x2d'),'votingChannels\x20--remove']}),this['exec']=async(_0xb179fa,_0x1af067)=>{if(_0x1af067['add']){if(constants[a41_0x2677('0x33')](this['client'][a41_0x2677('0x2e')])){const _0x35f80c=await TextChannel_1[a41_0x2677('0x29')][a41_0x2677('0x9')]({'guild':_0xb179fa[a41_0x2677('0xc')]['id'],'voting':!![]});if(_0x35f80c>=constants[a41_0x2677('0x3a')]['VOTING_CHANNELS']){const _0x173105=await omnic[a41_0x2677('0x2')](_0xb179fa[a41_0x2677('0xc')])[a41_0x2677('0x1f')](()=>{});if(_0x173105){if(_0x173105===omnic[a41_0x2677('0xf')][a41_0x2677('0x5')]&&_0x35f80c>=constants[a41_0x2677('0x3a')][a41_0x2677('0x5')][a41_0x2677('0x14')])throw new errors['DiscordError'](errors[a41_0x2677('0xd')][a41_0x2677('0x25')],this[a41_0x2677('0x31')]['locale']['getString'](_0xb179fa[a41_0x2677('0xc')][a41_0x2677('0x20')][a41_0x2677('0x23')],a41_0x2677('0x15'),'membershipLimitVotingChannels',constants['LIMITS']['GOLD'][a41_0x2677('0x14')]));else{if(_0x173105===omnic['PremiumTier'][a41_0x2677('0x1d')]&&_0x35f80c>=constants[a41_0x2677('0x3a')][a41_0x2677('0x1d')][a41_0x2677('0x14')])throw new errors[(a41_0x2677('0x6'))](errors[a41_0x2677('0xd')][a41_0x2677('0x25')],this[a41_0x2677('0x31')][a41_0x2677('0x4')][a41_0x2677('0x18')](_0xb179fa[a41_0x2677('0xc')][a41_0x2677('0x20')][a41_0x2677('0x23')],a41_0x2677('0x15'),a41_0x2677('0x34'),constants['LIMITS'][a41_0x2677('0x1d')]['VOTING_CHANNELS']));}}else throw new errors[(a41_0x2677('0x6'))](errors[a41_0x2677('0xd')][a41_0x2677('0x38')],this[a41_0x2677('0x31')][a41_0x2677('0x4')][a41_0x2677('0x18')](_0xb179fa[a41_0x2677('0xc')]['document'][a41_0x2677('0x23')],a41_0x2677('0x15'),'premiumVotingChannels',constants['LIMITS'][a41_0x2677('0x14')]));}}return await TextChannel_1[a41_0x2677('0x29')][a41_0x2677('0x3')](_0xb179fa[a41_0x2677('0xe')]['id'],{'_id':_0xb179fa[a41_0x2677('0xe')]['id'],'guild':_0xb179fa[a41_0x2677('0xc')]['id'],'voting':!![]},{'upsert':!![]}),await _0xb179fa[a41_0x2677('0xe')][a41_0x2677('0x37')]({'embed':{'color':tesseract_1[a41_0x2677('0x32')][a41_0x2677('0x1a')][a41_0x2677('0x1b')],'description':this['client'][a41_0x2677('0x4')][a41_0x2677('0x18')](_0xb179fa[a41_0x2677('0xc')][a41_0x2677('0x20')][a41_0x2677('0x23')],a41_0x2677('0x2a'),a41_0x2677('0x3d'),_0xb179fa[a41_0x2677('0x1c')]['tag'])}})['catch'](()=>{});}if(_0x1af067['remove'])return await TextChannel_1[a41_0x2677('0x29')][a41_0x2677('0x3')](_0xb179fa[a41_0x2677('0xe')]['id'],{'_id':_0xb179fa[a41_0x2677('0xe')]['id'],'guild':_0xb179fa[a41_0x2677('0xc')]['id'],'$unset':{'voting':0x1}}),await _0xb179fa['channel'][a41_0x2677('0x37')]({'embed':{'color':tesseract_1[a41_0x2677('0x32')][a41_0x2677('0x1a')][a41_0x2677('0x19')],'description':this['client'][a41_0x2677('0x4')][a41_0x2677('0x18')](_0xb179fa[a41_0x2677('0xc')]['document'][a41_0x2677('0x23')],a41_0x2677('0x2a'),a41_0x2677('0x1'),_0xb179fa[a41_0x2677('0x1c')][a41_0x2677('0x2f')])}})[a41_0x2677('0x1f')](()=>{});const _0x44d530=await TextChannel_1[a41_0x2677('0x29')][a41_0x2677('0x30')]({'guild':_0xb179fa[a41_0x2677('0xc')]['id'],'voting':!![]}),_0x2f1441=[];for(const _0x162fec of _0x44d530){_0xb179fa['guild']['channels'][a41_0x2677('0x35')][a41_0x2677('0x3c')](_0x162fec[a41_0x2677('0x3b')])?_0x2f1441[a41_0x2677('0x2c')](_0xb179fa[a41_0x2677('0xc')][a41_0x2677('0x13')][a41_0x2677('0x35')][a41_0x2677('0x8')](_0x162fec[a41_0x2677('0x3b')])[a41_0x2677('0x7')]+a41_0x2677('0x27')+_0x162fec[a41_0x2677('0x3b')]):await _0x162fec[a41_0x2677('0x0')]()[a41_0x2677('0x1f')](()=>{});}await _0xb179fa[a41_0x2677('0xe')]['send']({'embed':{'color':tesseract_1[a41_0x2677('0x32')][a41_0x2677('0x1a')][a41_0x2677('0x36')],'title':a41_0x2677('0x28'),'description':this[a41_0x2677('0x31')][a41_0x2677('0x4')][a41_0x2677('0x18')](_0xb179fa[a41_0x2677('0xc')][a41_0x2677('0x20')][a41_0x2677('0x23')],'info',a41_0x2677('0x1e')),'fields':[{'name':(_0x2f1441['length']?_0x2f1441[a41_0x2677('0x17')]:'No')+a41_0x2677('0x16'),'value':_0x2f1441[a41_0x2677('0x12')]('\x0a\x0a')||'-'}]}})[a41_0x2677('0x1f')](()=>{});};}};