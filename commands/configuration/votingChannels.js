const a43_0x2fb373=a43_0x5d18;function a43_0x5d18(_0x3c1728,_0x2d6268){const _0x4d2334=a43_0x3d5e();return a43_0x5d18=function(_0x54b4f7,_0x1622b2){_0x54b4f7=_0x54b4f7-0x18a;let _0x3d5eb5=_0x4d2334[_0x54b4f7];return _0x3d5eb5;},a43_0x5d18(_0x3c1728,_0x2d6268);}(function(_0x3a7c0f,_0x5da6da){const _0x3ae16a=a43_0x5d18,_0x1050e5=_0x3a7c0f();while(!![]){try{const _0x1b0ce2=-parseInt(_0x3ae16a(0x19d))/0x1*(-parseInt(_0x3ae16a(0x198))/0x2)+parseInt(_0x3ae16a(0x1bd))/0x3+-parseInt(_0x3ae16a(0x195))/0x4+parseInt(_0x3ae16a(0x1bf))/0x5*(-parseInt(_0x3ae16a(0x1c2))/0x6)+-parseInt(_0x3ae16a(0x1a0))/0x7*(parseInt(_0x3ae16a(0x18c))/0x8)+parseInt(_0x3ae16a(0x1ce))/0x9*(-parseInt(_0x3ae16a(0x19e))/0xa)+parseInt(_0x3ae16a(0x1b8))/0xb*(parseInt(_0x3ae16a(0x1ae))/0xc);if(_0x1b0ce2===_0x5da6da)break;else _0x1050e5['push'](_0x1050e5['shift']());}catch(_0x3a3709){_0x1050e5['push'](_0x1050e5['shift']());}}}(a43_0x3d5e,0x5c8ec));const a43_0x1622b2=(function(){let _0x1f2a24=!![];return function(_0xc04daa,_0x585560){const _0x4e0407=_0x1f2a24?function(){if(_0x585560){const _0x43818e=_0x585560['apply'](_0xc04daa,arguments);return _0x585560=null,_0x43818e;}}:function(){};return _0x1f2a24=![],_0x4e0407;};}()),a43_0x54b4f7=a43_0x1622b2(this,function(){const _0x376f60=a43_0x5d18;return a43_0x54b4f7[_0x376f60(0x1a1)]()[_0x376f60(0x1a3)](_0x376f60(0x19c))[_0x376f60(0x1a1)]()[_0x376f60(0x1b1)](a43_0x54b4f7)[_0x376f60(0x1a3)](_0x376f60(0x19c));});a43_0x54b4f7();'use strict';const tesseract_1=require('@bastion/tesseract'),TextChannel_1=require('../../models/TextChannel'),constants=require(a43_0x2fb373(0x1c8)),errors=require(a43_0x2fb373(0x1cd)),omnic=require(a43_0x2fb373(0x1cb));module['exports']=class Announcements extends tesseract_1[a43_0x2fb373(0x1ca)]{constructor(){const _0x560ab9=a43_0x2fb373;super('votingChannels',{'description':_0x560ab9(0x18f),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[_0x560ab9(0x19f),_0x560ab9(0x1cf)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x560ab9(0x197),_0x560ab9(0x19b),_0x560ab9(0x1c7)]});}[a43_0x2fb373(0x1ba)]=async(_0xf52660,_0x10a67c)=>{const _0x5e69b9=a43_0x2fb373;if(_0x10a67c[_0x5e69b9(0x19f)]){if(constants[_0x5e69b9(0x1cc)](this[_0x5e69b9(0x1c0)][_0x5e69b9(0x18e)])){const _0x631abd=await TextChannel_1[_0x5e69b9(0x1a9)][_0x5e69b9(0x1d0)]({'guild':_0xf52660[_0x5e69b9(0x1a4)]['id'],'voting':!![]});if(_0x631abd>=constants[_0x5e69b9(0x1bb)]['VOTING_CHANNELS']){const _0x370783=await omnic[_0x5e69b9(0x18b)](_0xf52660[_0x5e69b9(0x1a4)])[_0x5e69b9(0x1b6)](()=>{});if(_0x370783){if(_0x370783===omnic['PremiumTier'][_0x5e69b9(0x1c4)]&&_0x631abd>=constants[_0x5e69b9(0x1bb)][_0x5e69b9(0x1c4)][_0x5e69b9(0x1a8)])throw new errors[(_0x5e69b9(0x1c5))](errors['BASTION_ERROR_TYPE'][_0x5e69b9(0x1ac)],this[_0x5e69b9(0x1c0)]['locale']['getString'](_0xf52660[_0x5e69b9(0x1a4)][_0x5e69b9(0x190)][_0x5e69b9(0x1b2)],_0x5e69b9(0x1c6),_0x5e69b9(0x1c3),constants[_0x5e69b9(0x1bb)][_0x5e69b9(0x1c4)][_0x5e69b9(0x1a8)]));else{if(_0x370783===omnic[_0x5e69b9(0x1a5)][_0x5e69b9(0x1a6)]&&_0x631abd>=constants[_0x5e69b9(0x1bb)][_0x5e69b9(0x1a6)][_0x5e69b9(0x1a8)])throw new errors[(_0x5e69b9(0x1c5))](errors[_0x5e69b9(0x1b3)][_0x5e69b9(0x1ac)],this[_0x5e69b9(0x1c0)]['locale'][_0x5e69b9(0x1af)](_0xf52660[_0x5e69b9(0x1a4)]['document'][_0x5e69b9(0x1b2)],_0x5e69b9(0x1c6),'membershipLimitVotingChannels',constants[_0x5e69b9(0x1bb)][_0x5e69b9(0x1a6)][_0x5e69b9(0x1a8)]));}}else throw new errors['DiscordError'](errors[_0x5e69b9(0x1b3)][_0x5e69b9(0x193)],this[_0x5e69b9(0x1c0)][_0x5e69b9(0x199)]['getString'](_0xf52660[_0x5e69b9(0x1a4)][_0x5e69b9(0x190)]['language'],_0x5e69b9(0x1c6),'premiumVotingChannels',constants['LIMITS'][_0x5e69b9(0x1a8)]));}}return await TextChannel_1[_0x5e69b9(0x1a9)][_0x5e69b9(0x194)](_0xf52660['channel']['id'],{'_id':_0xf52660[_0x5e69b9(0x1be)]['id'],'guild':_0xf52660['guild']['id'],'voting':!![]},{'upsert':!![]}),await _0xf52660[_0x5e69b9(0x1be)][_0x5e69b9(0x196)]({'embed':{'color':tesseract_1[_0x5e69b9(0x1c1)][_0x5e69b9(0x1bc)][_0x5e69b9(0x1a7)],'description':this[_0x5e69b9(0x1c0)][_0x5e69b9(0x199)]['getString'](_0xf52660[_0x5e69b9(0x1a4)][_0x5e69b9(0x190)][_0x5e69b9(0x1b2)],_0x5e69b9(0x1ad),'votingChannelsAdd',_0xf52660[_0x5e69b9(0x1b5)][_0x5e69b9(0x19a)])}})['catch'](()=>{});}if(_0x10a67c['remove'])return await TextChannel_1[_0x5e69b9(0x1a9)][_0x5e69b9(0x194)](_0xf52660[_0x5e69b9(0x1be)]['id'],{'_id':_0xf52660[_0x5e69b9(0x1be)]['id'],'guild':_0xf52660[_0x5e69b9(0x1a4)]['id'],'$unset':{'voting':0x1}}),await _0xf52660[_0x5e69b9(0x1be)]['send']({'embed':{'color':tesseract_1[_0x5e69b9(0x1c1)][_0x5e69b9(0x1bc)][_0x5e69b9(0x18a)],'description':this[_0x5e69b9(0x1c0)]['locale'][_0x5e69b9(0x1af)](_0xf52660[_0x5e69b9(0x1a4)]['document']['language'],'info',_0x5e69b9(0x192),_0xf52660['author'][_0x5e69b9(0x19a)])}})[_0x5e69b9(0x1b6)](()=>{});const _0x2033dd=await TextChannel_1[_0x5e69b9(0x1a9)][_0x5e69b9(0x191)]({'guild':_0xf52660[_0x5e69b9(0x1a4)]['id'],'voting':!![]}),_0xc0f308=[];for(const _0x4af2a7 of _0x2033dd){_0xf52660[_0x5e69b9(0x1a4)][_0x5e69b9(0x1b7)][_0x5e69b9(0x1b4)]['has'](_0x4af2a7[_0x5e69b9(0x18d)])?_0xc0f308['push'](_0xf52660[_0x5e69b9(0x1a4)][_0x5e69b9(0x1b7)][_0x5e69b9(0x1b4)][_0x5e69b9(0x1b0)](_0x4af2a7['_id'])[_0x5e69b9(0x1a2)]+_0x5e69b9(0x1ab)+_0x4af2a7[_0x5e69b9(0x18d)]):await _0x4af2a7[_0x5e69b9(0x1cf)]()[_0x5e69b9(0x1b6)](()=>{});}await _0xf52660[_0x5e69b9(0x1be)]['send']({'embed':{'color':tesseract_1[_0x5e69b9(0x1c1)]['COLORS'][_0x5e69b9(0x1c9)],'title':_0x5e69b9(0x1b9),'description':this[_0x5e69b9(0x1c0)][_0x5e69b9(0x199)][_0x5e69b9(0x1af)](_0xf52660[_0x5e69b9(0x1a4)][_0x5e69b9(0x190)][_0x5e69b9(0x1b2)],'info',_0x5e69b9(0x197)),'fields':[{'name':(_0xc0f308['length']?_0xc0f308['length']:'No')+'\x20Voting\x20Channels','value':_0xc0f308[_0x5e69b9(0x1aa)]('\x0a\x0a')||'-'}]}})[_0x5e69b9(0x1b6)](()=>{});};};function a43_0x3d5e(){const _0x5bef3e=['locale','tag','votingChannels\x20--add','(((.+)+)+)+$','1VPpmSl','3062370xEHdzh','add','17549xyKhAM','toString','name','search','guild','PremiumTier','PLATINUM','GREEN','VOTING_CHANNELS','default','join','\x20/\x20','LIMITED_PREMIUM_MEMBERSHIP','info','624792vfLCTT','getString','get','constructor','language','BASTION_ERROR_TYPE','cache','author','catch','channels','209ySyIyf','Voting\x20Channels','exec','LIMITS','COLORS','394578KMoUAf','channel','287165YvWqZo','client','Constants','48ZObuAA','membershipLimitVotingChannels','GOLD','DiscordError','errors','votingChannels\x20--remove','../../utils/constants','IRIS','Command','../../utils/omnic','isPublicBastion','../../utils/errors','9WzEGjM','remove','countDocuments','RED','fetchPremiumTier','104AsUtEk','_id','user','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','document','find','votingChannelsRemove','PREMIUM_MEMBERSHIP_REQUIRED','findByIdAndUpdate','1952668bUoHka','send','votingChannels','1089590apXfiE'];a43_0x3d5e=function(){return _0x5bef3e;};return a43_0x3d5e();}