const a40_0x2361=['user','errors','language','votingChannels\x20--add','length','push','cache','PREMIUM_MEMBERSHIP_REQUIRED','fetchPremiumTier','IRIS','MANAGE_GUILD','votingChannels','join','COLORS','../../utils/omnic','votingChannelsAdd','tag','PLATINUM','Constants','default','LIMITED_PREMIUM_MEMBERSHIP','GREEN','membershipLimitVotingChannels','catch','../../models/TextChannel','remove','Voting\x20Channels','test','@bastion/tesseract','LIMITS','get','votingChannels\x20--remove','client','channel','\x20/\x20','isPublicBastion','../../utils/constants','find','VOTING_CHANNELS','send','\x20Voting\x20Channels','author','findByIdAndUpdate','channels','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','name','exports','premiumVotingChannels','DiscordError','GOLD','locale','add','info','_id','getString','document','has','../../utils/errors','guild','PremiumTier','BASTION_ERROR_TYPE'];(function(_0x28c4c6,_0x236175){const _0x125bed=function(_0x553ec2){while(--_0x553ec2){_0x28c4c6['push'](_0x28c4c6['shift']());}},_0x7abe1f=function(){const _0x5047b8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x515aab,_0x3b6886,_0x386a21,_0x462b86){_0x462b86=_0x462b86||{};let _0x4c59f7=_0x3b6886+'='+_0x386a21,_0x49eb67=0x0;for(let _0x50c83e=0x0,_0x516dd5=_0x515aab['length'];_0x50c83e<_0x516dd5;_0x50c83e++){const _0x2a6fac=_0x515aab[_0x50c83e];_0x4c59f7+=';\x20'+_0x2a6fac;const _0x33869b=_0x515aab[_0x2a6fac];_0x515aab['push'](_0x33869b),_0x516dd5=_0x515aab['length'],_0x33869b!==!![]&&(_0x4c59f7+='='+_0x33869b);}_0x462b86['cookie']=_0x4c59f7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1d6bd5,_0xf3a46f){_0x1d6bd5=_0x1d6bd5||function(_0x44d2ab){return _0x44d2ab;};const _0x265888=_0x1d6bd5(new RegExp('(?:^|;\x20)'+_0xf3a46f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x28be9e=function(_0x1bb62f,_0x591f12){_0x1bb62f(++_0x591f12);};return _0x28be9e(_0x125bed,_0x236175),_0x265888?decodeURIComponent(_0x265888[0x1]):undefined;}},_0x3ae4e9=function(){const _0x5af3f0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5af3f0['test'](_0x5047b8['removeCookie']['toString']());};_0x5047b8['updateCookie']=_0x3ae4e9;let _0x5f39ca='';const _0x5145b3=_0x5047b8['updateCookie']();if(!_0x5145b3)_0x5047b8['setCookie'](['*'],'counter',0x1);else _0x5145b3?_0x5f39ca=_0x5047b8['getCookie'](null,'counter'):_0x5047b8['removeCookie']();};_0x7abe1f();}(a40_0x2361,0x10f));const a40_0x125b=function(_0x28c4c6,_0x236175){_0x28c4c6=_0x28c4c6-0x0;let _0x125bed=a40_0x2361[_0x28c4c6];return _0x125bed;};const a40_0x386a21=function(){let _0x18de09=!![];return function(_0x6a09ca,_0x5e86ef){const _0x164dbd=_0x18de09?function(){if(_0x5e86ef){const _0x328807=_0x5e86ef['apply'](_0x6a09ca,arguments);return _0x5e86ef=null,_0x328807;}}:function(){};return _0x18de09=![],_0x164dbd;};}(),a40_0x3b6886=a40_0x386a21(this,function(){const _0x457b20=function(){const _0x17049a=_0x457b20['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](a40_0x125b('0x11'));return!_0x17049a[a40_0x125b('0x0')](a40_0x3b6886);};return _0x457b20();});a40_0x3b6886();'use strict';const tesseract_1=require(a40_0x125b('0x1')),TextChannel_1=require(a40_0x125b('0x3a')),constants=require(a40_0x125b('0x9')),errors=require(a40_0x125b('0x1e')),omnic=require(a40_0x125b('0x30'));module[a40_0x125b('0x13')]=class Announcements extends tesseract_1['Command']{constructor(){super('votingChannels',{'description':'It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':['add',a40_0x125b('0x3b')]},'scope':a40_0x125b('0x1f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x125b('0x2c')],'syntax':[a40_0x125b('0x2d'),a40_0x125b('0x25'),a40_0x125b('0x4')]}),this['exec']=async(_0x3e96c9,_0x4ab752)=>{if(_0x4ab752[a40_0x125b('0x18')]){if(constants[a40_0x125b('0x8')](this[a40_0x125b('0x5')][a40_0x125b('0x22')])){const _0x4140ab=await TextChannel_1[a40_0x125b('0x35')]['countDocuments']({'guild':_0x3e96c9[a40_0x125b('0x1f')]['id'],'voting':!![]});if(_0x4140ab>=constants[a40_0x125b('0x2')]['VOTING_CHANNELS']){const _0x34870f=await omnic[a40_0x125b('0x2a')](_0x3e96c9[a40_0x125b('0x1f')])[a40_0x125b('0x39')](()=>{});if(_0x34870f){if(_0x34870f===omnic[a40_0x125b('0x20')][a40_0x125b('0x16')]&&_0x4140ab>=constants['LIMITS'][a40_0x125b('0x16')][a40_0x125b('0xb')])throw new errors[(a40_0x125b('0x15'))](errors[a40_0x125b('0x21')][a40_0x125b('0x36')],this[a40_0x125b('0x5')][a40_0x125b('0x17')][a40_0x125b('0x1b')](_0x3e96c9[a40_0x125b('0x1f')][a40_0x125b('0x1c')][a40_0x125b('0x24')],a40_0x125b('0x23'),'membershipLimitVotingChannels',constants[a40_0x125b('0x2')][a40_0x125b('0x16')][a40_0x125b('0xb')]));else{if(_0x34870f===omnic[a40_0x125b('0x20')][a40_0x125b('0x33')]&&_0x4140ab>=constants[a40_0x125b('0x2')][a40_0x125b('0x33')][a40_0x125b('0xb')])throw new errors['DiscordError'](errors[a40_0x125b('0x21')][a40_0x125b('0x36')],this[a40_0x125b('0x5')][a40_0x125b('0x17')]['getString'](_0x3e96c9[a40_0x125b('0x1f')]['document'][a40_0x125b('0x24')],a40_0x125b('0x23'),a40_0x125b('0x38'),constants[a40_0x125b('0x2')]['PLATINUM'][a40_0x125b('0xb')]));}}else throw new errors['DiscordError'](errors[a40_0x125b('0x21')][a40_0x125b('0x29')],this['client'][a40_0x125b('0x17')]['getString'](_0x3e96c9[a40_0x125b('0x1f')][a40_0x125b('0x1c')][a40_0x125b('0x24')],a40_0x125b('0x23'),a40_0x125b('0x14'),constants['LIMITS'][a40_0x125b('0xb')]));}}return await TextChannel_1[a40_0x125b('0x35')][a40_0x125b('0xf')](_0x3e96c9[a40_0x125b('0x6')]['id'],{'_id':_0x3e96c9['channel']['id'],'guild':_0x3e96c9[a40_0x125b('0x1f')]['id'],'voting':!![]},{'upsert':!![]}),await _0x3e96c9[a40_0x125b('0x6')][a40_0x125b('0xc')]({'embed':{'color':tesseract_1[a40_0x125b('0x34')][a40_0x125b('0x2f')][a40_0x125b('0x37')],'description':this[a40_0x125b('0x5')][a40_0x125b('0x17')]['getString'](_0x3e96c9['guild'][a40_0x125b('0x1c')][a40_0x125b('0x24')],a40_0x125b('0x19'),a40_0x125b('0x31'),_0x3e96c9[a40_0x125b('0xe')][a40_0x125b('0x32')])}})[a40_0x125b('0x39')](()=>{});}if(_0x4ab752[a40_0x125b('0x3b')])return await TextChannel_1[a40_0x125b('0x35')][a40_0x125b('0xf')](_0x3e96c9[a40_0x125b('0x6')]['id'],{'_id':_0x3e96c9[a40_0x125b('0x6')]['id'],'guild':_0x3e96c9[a40_0x125b('0x1f')]['id'],'$unset':{'voting':0x1}}),await _0x3e96c9[a40_0x125b('0x6')][a40_0x125b('0xc')]({'embed':{'color':tesseract_1[a40_0x125b('0x34')][a40_0x125b('0x2f')]['RED'],'description':this['client'][a40_0x125b('0x17')][a40_0x125b('0x1b')](_0x3e96c9['guild'][a40_0x125b('0x1c')]['language'],a40_0x125b('0x19'),'votingChannelsRemove',_0x3e96c9[a40_0x125b('0xe')][a40_0x125b('0x32')])}})[a40_0x125b('0x39')](()=>{});const _0xfe6440=await TextChannel_1[a40_0x125b('0x35')][a40_0x125b('0xa')]({'guild':_0x3e96c9[a40_0x125b('0x1f')]['id'],'voting':!![]}),_0x5893cf=[];for(const _0x4faf7a of _0xfe6440){_0x3e96c9[a40_0x125b('0x1f')][a40_0x125b('0x10')][a40_0x125b('0x28')][a40_0x125b('0x1d')](_0x4faf7a[a40_0x125b('0x1a')])?_0x5893cf[a40_0x125b('0x27')](_0x3e96c9[a40_0x125b('0x1f')][a40_0x125b('0x10')][a40_0x125b('0x28')][a40_0x125b('0x3')](_0x4faf7a[a40_0x125b('0x1a')])[a40_0x125b('0x12')]+a40_0x125b('0x7')+_0x4faf7a[a40_0x125b('0x1a')]):await _0x4faf7a[a40_0x125b('0x3b')]()['catch'](()=>{});}await _0x3e96c9[a40_0x125b('0x6')][a40_0x125b('0xc')]({'embed':{'color':tesseract_1[a40_0x125b('0x34')][a40_0x125b('0x2f')][a40_0x125b('0x2b')],'title':a40_0x125b('0x3c'),'description':this['client']['locale']['getString'](_0x3e96c9['guild'][a40_0x125b('0x1c')][a40_0x125b('0x24')],'info',a40_0x125b('0x2d')),'fields':[{'name':(_0x5893cf[a40_0x125b('0x26')]?_0x5893cf[a40_0x125b('0x26')]:'No')+a40_0x125b('0xd'),'value':_0x5893cf[a40_0x125b('0x2e')]('\x0a\x0a')||'-'}]}})[a40_0x125b('0x39')](()=>{});};}};