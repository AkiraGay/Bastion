const a40_0x365f=['BASTION_ERROR_TYPE','PLATINUM','COLORS','MANAGE_GUILD','PremiumTier','\x20Voting\x20Channels','author','add','client','fetchPremiumTier','\x20/\x20','join','document','GOLD','DiscordError','Command','@bastion/tesseract','locale','find','tag','getString','VOTING_CHANNELS','exports','send','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','findByIdAndUpdate','language','push','IRIS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','get','LIMITED_PREMIUM_MEMBERSHIP','isPublicBastion','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','../../models/TextChannel','premiumVotingChannels','channels','cache','remove','_id','../../utils/constants','votingChannels','membershipLimitVotingChannels','info','name','guild','length','countDocuments','Constants','exec','channel','catch','user','errors','LIMITS','votingChannels\x20--add','constructor','default','votingChannelsAdd','../../utils/omnic','has','apply'];(function(_0x1e3feb,_0x365fb4){const _0x4e9d17=function(_0x7bfec0){while(--_0x7bfec0){_0x1e3feb['push'](_0x1e3feb['shift']());}};const _0x2ec9fb=function(){const _0x164a8d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2b7891,_0x5e7151,_0x37ee6e,_0x4d8823){_0x4d8823=_0x4d8823||{};let _0x385cd0=_0x5e7151+'='+_0x37ee6e;let _0x2d71b1=0x0;for(let _0x24e7e1=0x0,_0x583987=_0x2b7891['length'];_0x24e7e1<_0x583987;_0x24e7e1++){const _0x5764af=_0x2b7891[_0x24e7e1];_0x385cd0+=';\x20'+_0x5764af;const _0x3373f1=_0x2b7891[_0x5764af];_0x2b7891['push'](_0x3373f1);_0x583987=_0x2b7891['length'];if(_0x3373f1!==!![]){_0x385cd0+='='+_0x3373f1;}}_0x4d8823['cookie']=_0x385cd0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2b3b5f,_0x57c521){_0x2b3b5f=_0x2b3b5f||function(_0x1bccc2){return _0x1bccc2;};const _0x1c590f=_0x2b3b5f(new RegExp('(?:^|;\x20)'+_0x57c521['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x55cc7b=function(_0x310ec1,_0x986a4e){_0x310ec1(++_0x986a4e);};_0x55cc7b(_0x4e9d17,_0x365fb4);return _0x1c590f?decodeURIComponent(_0x1c590f[0x1]):undefined;}};const _0x160ada=function(){const _0x1d8831=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1d8831['test'](_0x164a8d['removeCookie']['toString']());};_0x164a8d['updateCookie']=_0x160ada;let _0x48c5c2='';const _0x447cda=_0x164a8d['updateCookie']();if(!_0x447cda){_0x164a8d['setCookie'](['*'],'counter',0x1);}else if(_0x447cda){_0x48c5c2=_0x164a8d['getCookie'](null,'counter');}else{_0x164a8d['removeCookie']();}};_0x2ec9fb();}(a40_0x365f,0xe3));const a40_0x4e9d=function(_0x1e3feb,_0x365fb4){_0x1e3feb=_0x1e3feb-0x0;let _0x4e9d17=a40_0x365f[_0x1e3feb];return _0x4e9d17;};const a40_0x164a8d=function(){let _0x44476c=!![];return function(_0x1d30af,_0x59615a){const _0x490e51=_0x44476c?function(){if(_0x59615a){const _0x43ab41=_0x59615a[a40_0x4e9d('0x14')](_0x1d30af,arguments);_0x59615a=null;return _0x43ab41;}}:function(){};_0x44476c=![];return _0x490e51;};}();const a40_0x7bfec0=a40_0x164a8d(this,function(){const _0x164395=function(){const _0x18b9f2=_0x164395[a40_0x4e9d('0xf')](a40_0x4e9d('0x32'))()['compile'](a40_0x4e9d('0x2d'));return!_0x18b9f2['test'](a40_0x7bfec0);};return _0x164395();});a40_0x7bfec0();'use strict';const tesseract_1=require(a40_0x4e9d('0x25'));const TextChannel_1=require(a40_0x4e9d('0x37'));const constants=require(a40_0x4e9d('0x3d'));const errors=require('../../utils/errors');const omnic=require(a40_0x4e9d('0x12'));module[a40_0x4e9d('0x2b')]=class Announcements extends tesseract_1[a40_0x4e9d('0x24')]{constructor(){super('votingChannels',{'description':a40_0x4e9d('0x36'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x4e9d('0x1c'),a40_0x4e9d('0x3b')]},'scope':a40_0x4e9d('0x4'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x4e9d('0x18')],'syntax':[a40_0x4e9d('0x0'),a40_0x4e9d('0xe'),'votingChannels\x20--remove']});this[a40_0x4e9d('0x8')]=async(_0xd96117,_0x356009)=>{if(_0x356009[a40_0x4e9d('0x1c')]){if(constants[a40_0x4e9d('0x35')](this[a40_0x4e9d('0x1d')][a40_0x4e9d('0xb')])){const _0x29b828=await TextChannel_1[a40_0x4e9d('0x10')][a40_0x4e9d('0x6')]({'guild':_0xd96117[a40_0x4e9d('0x4')]['id'],'voting':!![]});if(_0x29b828>=constants[a40_0x4e9d('0xd')][a40_0x4e9d('0x2a')]){const _0x2814c8=await omnic[a40_0x4e9d('0x1e')](_0xd96117[a40_0x4e9d('0x4')])[a40_0x4e9d('0xa')](()=>{});if(_0x2814c8){if(_0x2814c8===omnic[a40_0x4e9d('0x19')][a40_0x4e9d('0x22')]&&_0x29b828>=constants[a40_0x4e9d('0xd')]['GOLD'][a40_0x4e9d('0x2a')]){throw new errors[(a40_0x4e9d('0x23'))](errors['BASTION_ERROR_TYPE'][a40_0x4e9d('0x34')],this[a40_0x4e9d('0x1d')][a40_0x4e9d('0x26')][a40_0x4e9d('0x29')](_0xd96117[a40_0x4e9d('0x4')][a40_0x4e9d('0x21')]['language'],a40_0x4e9d('0xc'),a40_0x4e9d('0x1'),constants['LIMITS'][a40_0x4e9d('0x22')][a40_0x4e9d('0x2a')]));}else if(_0x2814c8===omnic[a40_0x4e9d('0x19')][a40_0x4e9d('0x16')]&&_0x29b828>=constants[a40_0x4e9d('0xd')][a40_0x4e9d('0x16')]['VOTING_CHANNELS']){throw new errors['DiscordError'](errors[a40_0x4e9d('0x15')][a40_0x4e9d('0x34')],this['client']['locale'][a40_0x4e9d('0x29')](_0xd96117[a40_0x4e9d('0x4')][a40_0x4e9d('0x21')]['language'],a40_0x4e9d('0xc'),a40_0x4e9d('0x1'),constants['LIMITS'][a40_0x4e9d('0x16')][a40_0x4e9d('0x2a')]));}}else{throw new errors[(a40_0x4e9d('0x23'))](errors[a40_0x4e9d('0x15')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a40_0x4e9d('0x1d')]['locale'][a40_0x4e9d('0x29')](_0xd96117['guild'][a40_0x4e9d('0x21')][a40_0x4e9d('0x2f')],a40_0x4e9d('0xc'),a40_0x4e9d('0x38'),constants[a40_0x4e9d('0xd')][a40_0x4e9d('0x2a')]));}}}await TextChannel_1[a40_0x4e9d('0x10')][a40_0x4e9d('0x2e')](_0xd96117['channel']['id'],{'_id':_0xd96117[a40_0x4e9d('0x9')]['id'],'guild':_0xd96117[a40_0x4e9d('0x4')]['id'],'voting':!![]},{'upsert':!![]});return await _0xd96117[a40_0x4e9d('0x9')]['send']({'embed':{'color':tesseract_1[a40_0x4e9d('0x7')][a40_0x4e9d('0x17')]['GREEN'],'description':this[a40_0x4e9d('0x1d')][a40_0x4e9d('0x26')][a40_0x4e9d('0x29')](_0xd96117[a40_0x4e9d('0x4')][a40_0x4e9d('0x21')][a40_0x4e9d('0x2f')],a40_0x4e9d('0x2'),a40_0x4e9d('0x11'),_0xd96117[a40_0x4e9d('0x1b')][a40_0x4e9d('0x28')])}})[a40_0x4e9d('0xa')](()=>{});}if(_0x356009[a40_0x4e9d('0x3b')]){await TextChannel_1[a40_0x4e9d('0x10')][a40_0x4e9d('0x2e')](_0xd96117['channel']['id'],{'_id':_0xd96117['channel']['id'],'guild':_0xd96117['guild']['id'],'$unset':{'voting':0x1}});return await _0xd96117[a40_0x4e9d('0x9')][a40_0x4e9d('0x2c')]({'embed':{'color':tesseract_1[a40_0x4e9d('0x7')][a40_0x4e9d('0x17')]['RED'],'description':this['client'][a40_0x4e9d('0x26')]['getString'](_0xd96117[a40_0x4e9d('0x4')][a40_0x4e9d('0x21')][a40_0x4e9d('0x2f')],'info','votingChannelsRemove',_0xd96117[a40_0x4e9d('0x1b')]['tag'])}})[a40_0x4e9d('0xa')](()=>{});}const _0x9d238f=await TextChannel_1[a40_0x4e9d('0x10')][a40_0x4e9d('0x27')]({'guild':_0xd96117[a40_0x4e9d('0x4')]['id'],'voting':!![]});const _0x608edc=[];for(const _0x31e0b4 of _0x9d238f){if(_0xd96117[a40_0x4e9d('0x4')][a40_0x4e9d('0x39')][a40_0x4e9d('0x3a')][a40_0x4e9d('0x13')](_0x31e0b4[a40_0x4e9d('0x3c')])){_0x608edc[a40_0x4e9d('0x30')](_0xd96117['guild']['channels'][a40_0x4e9d('0x3a')][a40_0x4e9d('0x33')](_0x31e0b4['_id'])[a40_0x4e9d('0x3')]+a40_0x4e9d('0x1f')+_0x31e0b4['_id']);}else{await _0x31e0b4[a40_0x4e9d('0x3b')]()[a40_0x4e9d('0xa')](()=>{});}}await _0xd96117[a40_0x4e9d('0x9')][a40_0x4e9d('0x2c')]({'embed':{'color':tesseract_1[a40_0x4e9d('0x7')]['COLORS'][a40_0x4e9d('0x31')],'title':'Voting\x20Channels','description':this[a40_0x4e9d('0x1d')][a40_0x4e9d('0x26')][a40_0x4e9d('0x29')](_0xd96117[a40_0x4e9d('0x4')][a40_0x4e9d('0x21')][a40_0x4e9d('0x2f')],a40_0x4e9d('0x2'),'votingChannels'),'fields':[{'name':(_0x608edc[a40_0x4e9d('0x5')]?_0x608edc[a40_0x4e9d('0x5')]:'No')+a40_0x4e9d('0x1a'),'value':_0x608edc[a40_0x4e9d('0x20')]('\x0a\x0a')||'-'}]}})['catch'](()=>{});};}};