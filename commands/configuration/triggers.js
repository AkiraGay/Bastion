const a40_0xf27c=['author','GOLD','reaction','default','TRIGGERS','channel','@bastion/tesseract','find','constructor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','956242QundrY','136314LhvHYS','trigger','triggersAdd','triggers\x20--delete\x20PATTERN','responseReaction','LIMITS','fetchPremiumTier','../../utils/constants','exec','send','countDocuments','BASTION_ERROR_TYPE','IRIS','catch','responseMessage','premiumTriggers','length','map','language','1ASiEpD','MANAGE_GUILD','triggersClear','guild','PREMIUM_MEMBERSHIP_REQUIRED','Constants','../../models/Trigger','document','1238827YhSVEV','join','isPublicBastion','apply','1veOFSb','info','clear','Response\x20Message','membershipLimitTriggers','223129mGyQoz','../../utils/emojis','delete','errors','client','COLORS','510876qlfAFv','Message\x20Response','```','tag','user','PremiumTier','LIMITED_PREMIUM_MEMBERSHIP','stringify','../../utils/embeds','DiscordError','Reaction\x20Response','../../utils/omnic','RED','PLATINUM','locale','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','push','exports','deleteMany','669149OAEBsP','generateBastionEmbed','pattern','triggersRemove','457517XgzlQf','Trigger','21kjZDpG','triggers\x20--clear','getString','Command','triggers','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];const a40_0x58d6=function(_0x50aa4d,_0x162291){_0x50aa4d=_0x50aa4d-0x71;let _0x522bee=a40_0xf27c[_0x50aa4d];return _0x522bee;};const a40_0xfff3cb=a40_0x58d6;(function(_0x4bf19e,_0x47452a){const _0x4bf862=a40_0x58d6;while(!![]){try{const _0x39a868=parseInt(_0x4bf862(0x7b))+parseInt(_0x4bf862(0x92))+parseInt(_0x4bf862(0xa4))+parseInt(_0x4bf862(0x8e))+-parseInt(_0x4bf862(0xc4))*parseInt(_0x4bf862(0x75))+parseInt(_0x4bf862(0xc0))*parseInt(_0x4bf862(0xb8))+parseInt(_0x4bf862(0xa5))*-parseInt(_0x4bf862(0x94));if(_0x39a868===_0x47452a)break;else _0x4bf19e['push'](_0x4bf19e['shift']());}catch(_0x47899e){_0x4bf19e['push'](_0x4bf19e['shift']());}}}(a40_0xf27c,0xb6588));const a40_0x562268=function(){let _0x3ac51d=!![];return function(_0x75a474,_0x25e991){const _0x532a02=_0x3ac51d?function(){const _0x197982=a40_0x58d6;if(_0x25e991){const _0x50b959=_0x25e991[_0x197982(0xc3)](_0x75a474,arguments);return _0x25e991=null,_0x50b959;}}:function(){};return _0x3ac51d=![],_0x532a02;};}(),a40_0x20d143=a40_0x562268(this,function(){const _0x5d55fc=function(){const _0x55c63a=a40_0x58d6,_0xe133f2=_0x5d55fc[_0x55c63a(0xa2)](_0x55c63a(0x99))()[_0x55c63a(0xa2)](_0x55c63a(0xa3));return!_0xe133f2['test'](a40_0x20d143);};return _0x5d55fc();});a40_0x20d143();'use strict';const tesseract_1=require(a40_0xfff3cb(0xa0)),Trigger_1=require(a40_0xfff3cb(0xbe)),constants=require(a40_0xfff3cb(0xac)),embeds=require(a40_0xfff3cb(0x83)),emojis=require(a40_0xfff3cb(0x76)),errors=require('../../utils/errors'),omnic=require(a40_0xfff3cb(0x86));module[a40_0xfff3cb(0x8c)]=class MessageFilterCommand extends tesseract_1[a40_0xfff3cb(0x97)]{constructor(){const _0xdb17d2=a40_0xfff3cb;super(_0xdb17d2(0x98),{'description':_0xdb17d2(0x8a),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[_0xdb17d2(0x72)],'array':[_0xdb17d2(0x77),'pattern'],'string':[_0xdb17d2(0x77),_0xdb17d2(0x90),_0xdb17d2(0x9c)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0xdb17d2(0xb9)],'syntax':[_0xdb17d2(0x98),'triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI',_0xdb17d2(0xa8),_0xdb17d2(0x95)]}),this[_0xdb17d2(0xad)]=async(_0x19d1de,_0x5b57b8)=>{const _0x237a7c=_0xdb17d2;if(_0x5b57b8[_0x237a7c(0x72)])return await Trigger_1[_0x237a7c(0x9d)][_0x237a7c(0x8d)]({'guild':_0x19d1de['guild']['id']}),await _0x19d1de[_0x237a7c(0x9f)][_0x237a7c(0xae)]({'embed':{'color':tesseract_1[_0x237a7c(0xbd)]['COLORS'][_0x237a7c(0x87)],'description':this[_0x237a7c(0x79)][_0x237a7c(0x89)][_0x237a7c(0x96)](_0x19d1de[_0x237a7c(0xbb)]['document']['language'],_0x237a7c(0x71),_0x237a7c(0xba),_0x19d1de[_0x237a7c(0x9a)][_0x237a7c(0x7e)])}})[_0x237a7c(0xb2)](()=>{});if(_0x5b57b8['delete']&&_0x5b57b8[_0x237a7c(0x77)][_0x237a7c(0xb5)]){const _0x378668=_0x5b57b8[_0x237a7c(0x77)][_0x237a7c(0xc1)]('\x20');return await Trigger_1[_0x237a7c(0x9d)]['deleteMany']({'guild':_0x19d1de['guild']['id'],'trigger':_0x378668}),await _0x19d1de[_0x237a7c(0x9f)]['send']({'embed':{'color':tesseract_1['Constants'][_0x237a7c(0x7a)]['RED'],'description':this[_0x237a7c(0x79)]['locale']['getString'](_0x19d1de[_0x237a7c(0xbb)]['document'][_0x237a7c(0xb7)],_0x237a7c(0x71),_0x237a7c(0x91),_0x19d1de[_0x237a7c(0x9a)]['tag'],_0x378668)}})[_0x237a7c(0xb2)](()=>{});}if(_0x5b57b8['pattern']&&_0x5b57b8[_0x237a7c(0x90)][_0x237a7c(0xb5)]&&(_0x5b57b8['_'][_0x237a7c(0xb5)]||_0x5b57b8['reaction'])){if(constants[_0x237a7c(0xc2)](this[_0x237a7c(0x79)][_0x237a7c(0x7f)])){const _0x4ad74b=await Trigger_1[_0x237a7c(0x9d)][_0x237a7c(0xaf)]({'guild':_0x19d1de['guild']['id']});if(_0x4ad74b>=constants[_0x237a7c(0xaa)][_0x237a7c(0x9e)]){const _0x199beb=await omnic[_0x237a7c(0xab)](_0x19d1de[_0x237a7c(0xbb)])[_0x237a7c(0xb2)](()=>{});if(_0x199beb){if(_0x199beb===omnic[_0x237a7c(0x80)][_0x237a7c(0x9b)]&&_0x4ad74b>=constants[_0x237a7c(0xaa)][_0x237a7c(0x9b)][_0x237a7c(0x9e)])throw new errors[(_0x237a7c(0x84))](errors[_0x237a7c(0xb0)][_0x237a7c(0x81)],this[_0x237a7c(0x79)][_0x237a7c(0x89)]['getString'](_0x19d1de[_0x237a7c(0xbb)][_0x237a7c(0xbf)]['language'],_0x237a7c(0x78),_0x237a7c(0x74),constants[_0x237a7c(0xaa)][_0x237a7c(0x9b)][_0x237a7c(0x9e)]));else{if(_0x199beb===omnic[_0x237a7c(0x80)][_0x237a7c(0x88)]&&_0x4ad74b>=constants['LIMITS'][_0x237a7c(0x88)]['TRIGGERS'])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x237a7c(0x81)],this[_0x237a7c(0x79)][_0x237a7c(0x89)]['getString'](_0x19d1de[_0x237a7c(0xbb)]['document'][_0x237a7c(0xb7)],'errors',_0x237a7c(0x74),constants[_0x237a7c(0xaa)]['PLATINUM']['TRIGGERS']));}}else throw new errors[(_0x237a7c(0x84))](errors[_0x237a7c(0xb0)][_0x237a7c(0xbc)],this['client']['locale'][_0x237a7c(0x96)](_0x19d1de['guild']['document'][_0x237a7c(0xb7)],_0x237a7c(0x78),_0x237a7c(0xb4),constants[_0x237a7c(0xaa)][_0x237a7c(0x9e)]));}}const _0x219abc=_0x5b57b8['pattern'][_0x237a7c(0xc1)]('\x20'),_0x2263ab=[{'name':_0x237a7c(0x93),'value':_0x219abc,'inline':!![]}];let _0x148c86;_0x5b57b8['_'][_0x237a7c(0xb5)]&&(_0x148c86=embeds[_0x237a7c(0x8f)](_0x5b57b8['_']['join']('\x20')),_0x2263ab[_0x237a7c(0x8b)]({'name':_0x237a7c(0x73),'value':'```json\x0a'+JSON[_0x237a7c(0x82)](_0x148c86)+_0x237a7c(0x7d)}));let _0xa6f5c9;if(_0x5b57b8[_0x237a7c(0x9c)]){const _0x15b1a9=emojis['parseEmoji'](_0x5b57b8[_0x237a7c(0x9c)]);_0x15b1a9&&(_0xa6f5c9=_0x15b1a9['value'],_0x2263ab['push']({'name':'Response\x20Reaction','value':_0x5b57b8[_0x237a7c(0x9c)]}));}return await Trigger_1[_0x237a7c(0x9d)]['create']({'guild':_0x19d1de['guild']['id'],'trigger':_0x219abc,'responseMessage':_0x148c86,'responseReaction':_0xa6f5c9}),await _0x19d1de[_0x237a7c(0x9f)][_0x237a7c(0xae)]({'embed':{'color':tesseract_1[_0x237a7c(0xbd)][_0x237a7c(0x7a)]['GREEN'],'description':this[_0x237a7c(0x79)]['locale'][_0x237a7c(0x96)](_0x19d1de[_0x237a7c(0xbb)][_0x237a7c(0xbf)]['language'],_0x237a7c(0x71),_0x237a7c(0xa7),_0x19d1de[_0x237a7c(0x9a)][_0x237a7c(0x7e)]),'fields':_0x2263ab}})[_0x237a7c(0xb2)](()=>{});}const _0x4e3bce=await Trigger_1[_0x237a7c(0x9d)][_0x237a7c(0xa1)]({'guild':_0x19d1de[_0x237a7c(0xbb)]['id']});return await _0x19d1de[_0x237a7c(0x9f)][_0x237a7c(0xae)]({'embed':{'color':tesseract_1[_0x237a7c(0xbd)][_0x237a7c(0x7a)][_0x237a7c(0xb1)],'description':this[_0x237a7c(0x79)][_0x237a7c(0x89)][_0x237a7c(0x96)](_0x19d1de[_0x237a7c(0xbb)][_0x237a7c(0xbf)][_0x237a7c(0xb7)],_0x237a7c(0x71),'triggersList'),'fields':_0x4e3bce[_0x237a7c(0xb6)](_0x4a65ab=>({'name':_0x4a65ab[_0x237a7c(0xa6)],'value':(_0x4a65ab[_0x237a7c(0xb3)]?_0x237a7c(0x7c):'')+'\x0a'+(_0x4a65ab[_0x237a7c(0xa9)]?_0x237a7c(0x85):'')}))}})['catch'](()=>{});};}};