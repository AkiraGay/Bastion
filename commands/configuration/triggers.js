const a38_0x29d8=['deleteMany','length','../../utils/constants','send','map','value','stringify','GOLD','../../models/Trigger','parseEmoji','triggers\x20--clear','getString','delete','PREMIUM_MEMBERSHIP_REQUIRED','clear','triggers','DiscordError','fetchPremiumTier','triggersClear','trigger','../../utils/omnic','triggersList','author','catch','client','errors','locale','BASTION_ERROR_TYPE','Constants','tag','../../utils/embeds','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','PremiumTier','user','LIMITED_PREMIUM_MEMBERSHIP','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','TRIGGERS','premiumTriggers','@bastion/tesseract','Response\x20Reaction','generateBastionEmbed','LIMITS','Response\x20Message','../../utils/emojis','responseReaction','RED','triggersAdd','constructor','push','info','document','default','channel','PLATINUM','exports','reaction','COLORS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','language','membershipLimitTriggers','find','guild','responseMessage','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','create','Command','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','triggersRemove','GREEN','test','join','pattern','apply'];(function(_0xf4c9ad,_0x29d8ee){const _0x31418d=function(_0x49a418){while(--_0x49a418){_0xf4c9ad['push'](_0xf4c9ad['shift']());}},_0x44ea69=function(){const _0x4c5a68={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5148d3,_0xadd339,_0x5c0157,_0x45332a){_0x45332a=_0x45332a||{};let _0x31516b=_0xadd339+'='+_0x5c0157,_0x50c2d4=0x0;for(let _0x5a41a9=0x0,_0xc6d672=_0x5148d3['length'];_0x5a41a9<_0xc6d672;_0x5a41a9++){const _0x57567e=_0x5148d3[_0x5a41a9];_0x31516b+=';\x20'+_0x57567e;const _0x3f3d1b=_0x5148d3[_0x57567e];_0x5148d3['push'](_0x3f3d1b),_0xc6d672=_0x5148d3['length'],_0x3f3d1b!==!![]&&(_0x31516b+='='+_0x3f3d1b);}_0x45332a['cookie']=_0x31516b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x317a54,_0x7c81da){_0x317a54=_0x317a54||function(_0x1a5aa9){return _0x1a5aa9;};const _0x42aa22=_0x317a54(new RegExp('(?:^|;\x20)'+_0x7c81da['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3d3f63=function(_0x37b353,_0xe17efe){_0x37b353(++_0xe17efe);};return _0x3d3f63(_0x31418d,_0x29d8ee),_0x42aa22?decodeURIComponent(_0x42aa22[0x1]):undefined;}},_0x180584=function(){const _0x3fc7ce=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3fc7ce['test'](_0x4c5a68['removeCookie']['toString']());};_0x4c5a68['updateCookie']=_0x180584;let _0x2de4c5='';const _0x84e6d=_0x4c5a68['updateCookie']();if(!_0x84e6d)_0x4c5a68['setCookie'](['*'],'counter',0x1);else _0x84e6d?_0x2de4c5=_0x4c5a68['getCookie'](null,'counter'):_0x4c5a68['removeCookie']();};_0x44ea69();}(a38_0x29d8,0xa4));const a38_0x3141=function(_0xf4c9ad,_0x29d8ee){_0xf4c9ad=_0xf4c9ad-0x0;let _0x31418d=a38_0x29d8[_0xf4c9ad];return _0x31418d;};const a38_0x4c5a68=function(){let _0x2de4c5=!![];return function(_0x84e6d,_0x5148d3){const _0xadd339=_0x2de4c5?function(){if(_0x5148d3){const _0x5c0157=_0x5148d3[a38_0x3141('0x36')](_0x84e6d,arguments);return _0x5148d3=null,_0x5c0157;}}:function(){};return _0x2de4c5=![],_0xadd339;};}(),a38_0x49a418=a38_0x4c5a68(this,function(){const _0x45332a=function(){const _0x31516b=_0x45332a[a38_0x3141('0x1d')](a38_0x3141('0x27'))()['constructor'](a38_0x3141('0x2d'));return!_0x31516b[a38_0x3141('0x33')](a38_0x49a418);};return _0x45332a();});a38_0x49a418();'use strict';const tesseract_1=require(a38_0x3141('0x14')),Trigger_1=require(a38_0x3141('0x3f')),constants=require(a38_0x3141('0x39')),embeds=require(a38_0x3141('0xc')),emojis=require(a38_0x3141('0x19')),errors=require('../../utils/errors'),omnic=require(a38_0x3141('0x2'));module[a38_0x3141('0x24')]=class MessageFilterCommand extends tesseract_1[a38_0x3141('0x2f')]{constructor(){super(a38_0x3141('0x46'),{'description':a38_0x3141('0xd'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a38_0x3141('0x45')],'array':[a38_0x3141('0x43'),a38_0x3141('0x35')],'string':['delete','pattern','reaction']},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':['triggers',a38_0x3141('0x11'),a38_0x3141('0x30'),'triggers\x20--delete\x20PATTERN',a38_0x3141('0x41')]}),this['exec']=async(_0x50c2d4,_0x5a41a9)=>{if(_0x5a41a9[a38_0x3141('0x45')])return await Trigger_1[a38_0x3141('0x21')][a38_0x3141('0x37')]({'guild':_0x50c2d4[a38_0x3141('0x2b')]['id']}),await _0x50c2d4[a38_0x3141('0x22')][a38_0x3141('0x3a')]({'embed':{'color':tesseract_1[a38_0x3141('0xa')][a38_0x3141('0x26')]['RED'],'description':this[a38_0x3141('0x6')][a38_0x3141('0x8')]['getString'](_0x50c2d4[a38_0x3141('0x2b')][a38_0x3141('0x20')][a38_0x3141('0x28')],a38_0x3141('0x1f'),a38_0x3141('0x0'),_0x50c2d4[a38_0x3141('0x4')][a38_0x3141('0xb')])}})['catch'](()=>{});if(_0x5a41a9[a38_0x3141('0x43')]&&_0x5a41a9[a38_0x3141('0x43')][a38_0x3141('0x38')]){const _0x57567e=_0x5a41a9[a38_0x3141('0x43')][a38_0x3141('0x34')]('\x20');return await Trigger_1['default'][a38_0x3141('0x37')]({'guild':_0x50c2d4['guild']['id'],'trigger':_0x57567e}),await _0x50c2d4[a38_0x3141('0x22')][a38_0x3141('0x3a')]({'embed':{'color':tesseract_1['Constants'][a38_0x3141('0x26')][a38_0x3141('0x1b')],'description':this[a38_0x3141('0x6')]['locale'][a38_0x3141('0x42')](_0x50c2d4[a38_0x3141('0x2b')][a38_0x3141('0x20')]['language'],a38_0x3141('0x1f'),a38_0x3141('0x31'),_0x50c2d4[a38_0x3141('0x4')][a38_0x3141('0xb')],_0x57567e)}})[a38_0x3141('0x5')](()=>{});}if(_0x5a41a9[a38_0x3141('0x35')]&&_0x5a41a9[a38_0x3141('0x35')]['length']&&(_0x5a41a9['_'][a38_0x3141('0x38')]||_0x5a41a9[a38_0x3141('0x25')])){if(constants['isPublicBastion'](this[a38_0x3141('0x6')][a38_0x3141('0xf')])){const _0x3d3f63=await Trigger_1[a38_0x3141('0x21')]['countDocuments']({'guild':_0x50c2d4[a38_0x3141('0x2b')]['id']});if(_0x3d3f63>=constants[a38_0x3141('0x17')][a38_0x3141('0x12')]){const _0x1a5aa9=await omnic[a38_0x3141('0x48')](_0x50c2d4[a38_0x3141('0x2b')])[a38_0x3141('0x5')](()=>{});if(_0x1a5aa9){if(_0x1a5aa9===omnic[a38_0x3141('0xe')][a38_0x3141('0x3e')]&&_0x3d3f63>=constants[a38_0x3141('0x17')]['GOLD'][a38_0x3141('0x12')])throw new errors[(a38_0x3141('0x47'))](errors[a38_0x3141('0x9')][a38_0x3141('0x10')],this[a38_0x3141('0x6')][a38_0x3141('0x8')][a38_0x3141('0x42')](_0x50c2d4[a38_0x3141('0x2b')][a38_0x3141('0x20')][a38_0x3141('0x28')],a38_0x3141('0x7'),a38_0x3141('0x29'),constants['LIMITS'][a38_0x3141('0x3e')][a38_0x3141('0x12')]));else{if(_0x1a5aa9===omnic[a38_0x3141('0xe')][a38_0x3141('0x23')]&&_0x3d3f63>=constants[a38_0x3141('0x17')][a38_0x3141('0x23')][a38_0x3141('0x12')])throw new errors['DiscordError'](errors[a38_0x3141('0x9')][a38_0x3141('0x10')],this['client']['locale']['getString'](_0x50c2d4[a38_0x3141('0x2b')][a38_0x3141('0x20')][a38_0x3141('0x28')],a38_0x3141('0x7'),'membershipLimitTriggers',constants[a38_0x3141('0x17')][a38_0x3141('0x23')][a38_0x3141('0x12')]));}}else throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a38_0x3141('0x44')],this[a38_0x3141('0x6')][a38_0x3141('0x8')][a38_0x3141('0x42')](_0x50c2d4[a38_0x3141('0x2b')][a38_0x3141('0x20')][a38_0x3141('0x28')],a38_0x3141('0x7'),a38_0x3141('0x13'),constants[a38_0x3141('0x17')][a38_0x3141('0x12')]));}}const _0x3f3d1b=_0x5a41a9[a38_0x3141('0x35')]['join']('\x20'),_0x317a54=[{'name':'Trigger','value':_0x3f3d1b,'inline':!![]}];let _0x7c81da;_0x5a41a9['_']['length']&&(_0x7c81da=embeds[a38_0x3141('0x16')](_0x5a41a9['_'][a38_0x3141('0x34')]('\x20')),_0x317a54['push']({'name':a38_0x3141('0x18'),'value':'```json\x0a'+JSON[a38_0x3141('0x3d')](_0x7c81da)+'```'}));let _0x42aa22;if(_0x5a41a9[a38_0x3141('0x25')]){const _0x37b353=emojis[a38_0x3141('0x40')](_0x5a41a9['reaction']);_0x37b353&&(_0x42aa22=_0x37b353[a38_0x3141('0x3c')],_0x317a54[a38_0x3141('0x1e')]({'name':a38_0x3141('0x15'),'value':_0x5a41a9[a38_0x3141('0x25')]}));}return await Trigger_1[a38_0x3141('0x21')][a38_0x3141('0x2e')]({'guild':_0x50c2d4[a38_0x3141('0x2b')]['id'],'trigger':_0x3f3d1b,'responseMessage':_0x7c81da,'responseReaction':_0x42aa22}),await _0x50c2d4[a38_0x3141('0x22')]['send']({'embed':{'color':tesseract_1[a38_0x3141('0xa')][a38_0x3141('0x26')][a38_0x3141('0x32')],'description':this[a38_0x3141('0x6')][a38_0x3141('0x8')][a38_0x3141('0x42')](_0x50c2d4['guild'][a38_0x3141('0x20')][a38_0x3141('0x28')],a38_0x3141('0x1f'),a38_0x3141('0x1c'),_0x50c2d4[a38_0x3141('0x4')][a38_0x3141('0xb')]),'fields':_0x317a54}})[a38_0x3141('0x5')](()=>{});}const _0xc6d672=await Trigger_1[a38_0x3141('0x21')][a38_0x3141('0x2a')]({'guild':_0x50c2d4['guild']['id']});return await _0x50c2d4[a38_0x3141('0x22')][a38_0x3141('0x3a')]({'embed':{'color':tesseract_1['Constants']['COLORS']['IRIS'],'description':this[a38_0x3141('0x6')]['locale'][a38_0x3141('0x42')](_0x50c2d4[a38_0x3141('0x2b')]['document'][a38_0x3141('0x28')],a38_0x3141('0x1f'),a38_0x3141('0x3')),'fields':_0xc6d672[a38_0x3141('0x3b')](_0xe17efe=>({'name':_0xe17efe[a38_0x3141('0x1')],'value':(_0xe17efe[a38_0x3141('0x2c')]?'Message\x20Response':'')+'\x0a'+(_0xe17efe[a38_0x3141('0x1a')]?'Reaction\x20Response':'')}))}})['catch'](()=>{});};}};