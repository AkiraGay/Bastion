const a38_0x3fa4=['membershipLimitTriggers','pattern','../../utils/embeds','reaction','fetchPremiumTier','send','trigger','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','tag','countDocuments','length','test','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','stringify','getString','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','generateBastionEmbed','language','errors','../../utils/errors','GREEN','triggersList','Response\x20Reaction','IRIS','PremiumTier','../../utils/omnic','```json\x0a','constructor','PLATINUM','default','triggers\x20--clear','LIMITED_PREMIUM_MEMBERSHIP','triggers','deleteMany','isPublicBastion','exec','responseReaction','BASTION_ERROR_TYPE','GOLD','@bastion/tesseract','../../models/Trigger','premiumTriggers','clear','../../utils/constants','Constants','author','find','MANAGE_GUILD','PREMIUM_MEMBERSHIP_REQUIRED','create','user','info','document','Reaction\x20Response','triggersClear','guild','return\x20/\x22\x20+\x20this\x20+\x20\x22/','catch','locale','join','triggersRemove','delete','client','Response\x20Message','exports','push','DiscordError','parseEmoji','triggersAdd','TRIGGERS','LIMITS','COLORS','channel','apply','```'];(function(_0x18debe,_0x3fa491){const _0x467329=function(_0x333995){while(--_0x333995){_0x18debe['push'](_0x18debe['shift']());}},_0x553274=function(){const _0x4ebae3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x146850,_0x15edd8,_0x35aeb1,_0x592fad){_0x592fad=_0x592fad||{};let _0xf4d518=_0x15edd8+'='+_0x35aeb1,_0x45c79d=0x0;for(let _0x283f88=0x0,_0x21267e=_0x146850['length'];_0x283f88<_0x21267e;_0x283f88++){const _0xcdc033=_0x146850[_0x283f88];_0xf4d518+=';\x20'+_0xcdc033;const _0x2640a0=_0x146850[_0xcdc033];_0x146850['push'](_0x2640a0),_0x21267e=_0x146850['length'],_0x2640a0!==!![]&&(_0xf4d518+='='+_0x2640a0);}_0x592fad['cookie']=_0xf4d518;},'removeCookie':function(){return'dev';},'getCookie':function(_0xa0a92e,_0x16ef00){_0xa0a92e=_0xa0a92e||function(_0x534552){return _0x534552;};const _0x253a12=_0xa0a92e(new RegExp('(?:^|;\x20)'+_0x16ef00['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x9264ab=function(_0x285aba,_0x446d31){_0x285aba(++_0x446d31);};return _0x9264ab(_0x467329,_0x3fa491),_0x253a12?decodeURIComponent(_0x253a12[0x1]):undefined;}},_0x77ffa5=function(){const _0x2787cd=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2787cd['test'](_0x4ebae3['removeCookie']['toString']());};_0x4ebae3['updateCookie']=_0x77ffa5;let _0x435598='';const _0x1e6e69=_0x4ebae3['updateCookie']();if(!_0x1e6e69)_0x4ebae3['setCookie'](['*'],'counter',0x1);else _0x1e6e69?_0x435598=_0x4ebae3['getCookie'](null,'counter'):_0x4ebae3['removeCookie']();};_0x553274();}(a38_0x3fa4,0xcc));const a38_0x4673=function(_0x18debe,_0x3fa491){_0x18debe=_0x18debe-0x0;let _0x467329=a38_0x3fa4[_0x18debe];return _0x467329;};const a38_0x35aeb1=function(){let _0x115da2=!![];return function(_0x505aea,_0x125e6a){const _0x965c43=_0x115da2?function(){if(_0x125e6a){const _0x153d85=_0x125e6a[a38_0x4673('0x13')](_0x505aea,arguments);return _0x125e6a=null,_0x153d85;}}:function(){};return _0x115da2=![],_0x965c43;};}(),a38_0x15edd8=a38_0x35aeb1(this,function(){const _0x321c46=function(){const _0x4b9b79=_0x321c46[a38_0x4673('0x30')](a38_0x4673('0x2'))()[a38_0x4673('0x30')](a38_0x4673('0x24'));return!_0x4b9b79[a38_0x4673('0x20')](a38_0x15edd8);};return _0x321c46();});a38_0x15edd8();'use strict';const tesseract_1=require(a38_0x4673('0x3c')),Trigger_1=require(a38_0x4673('0x3d')),constants=require(a38_0x4673('0x40')),embeds=require(a38_0x4673('0x17')),emojis=require('../../utils/emojis'),errors=require(a38_0x4673('0x28')),omnic=require(a38_0x4673('0x2e'));module[a38_0x4673('0xa')]=class MessageFilterCommand extends tesseract_1['Command']{constructor(){super(a38_0x4673('0x35'),{'description':'It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':['clear'],'array':[a38_0x4673('0x7'),'pattern'],'string':[a38_0x4673('0x7'),a38_0x4673('0x16'),a38_0x4673('0x18')]},'scope':a38_0x4673('0x1'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0x4673('0x44')],'syntax':['triggers',a38_0x4673('0x1c'),a38_0x4673('0x21'),'triggers\x20--delete\x20PATTERN',a38_0x4673('0x33')]}),this[a38_0x4673('0x38')]=async(_0x4b1a5f,_0x2481ec)=>{if(_0x2481ec[a38_0x4673('0x3f')])return await Trigger_1[a38_0x4673('0x32')][a38_0x4673('0x36')]({'guild':_0x4b1a5f[a38_0x4673('0x1')]['id']}),await _0x4b1a5f[a38_0x4673('0x12')]['send']({'embed':{'color':tesseract_1[a38_0x4673('0x41')][a38_0x4673('0x11')]['RED'],'description':this[a38_0x4673('0x8')]['locale']['getString'](_0x4b1a5f[a38_0x4673('0x1')][a38_0x4673('0x49')][a38_0x4673('0x26')],a38_0x4673('0x48'),a38_0x4673('0x0'),_0x4b1a5f[a38_0x4673('0x42')][a38_0x4673('0x1d')])}})[a38_0x4673('0x3')](()=>{});if(_0x2481ec[a38_0x4673('0x7')]&&_0x2481ec[a38_0x4673('0x7')]['length']){const _0x1e8b6e=_0x2481ec['delete'][a38_0x4673('0x5')]('\x20');return await Trigger_1['default'][a38_0x4673('0x36')]({'guild':_0x4b1a5f['guild']['id'],'trigger':_0x1e8b6e}),await _0x4b1a5f['channel'][a38_0x4673('0x1a')]({'embed':{'color':tesseract_1[a38_0x4673('0x41')][a38_0x4673('0x11')]['RED'],'description':this[a38_0x4673('0x8')][a38_0x4673('0x4')]['getString'](_0x4b1a5f[a38_0x4673('0x1')][a38_0x4673('0x49')]['language'],'info',a38_0x4673('0x6'),_0x4b1a5f[a38_0x4673('0x42')][a38_0x4673('0x1d')],_0x1e8b6e)}})[a38_0x4673('0x3')](()=>{});}if(_0x2481ec[a38_0x4673('0x16')]&&_0x2481ec[a38_0x4673('0x16')][a38_0x4673('0x1f')]&&(_0x2481ec['_'][a38_0x4673('0x1f')]||_0x2481ec['reaction'])){if(constants[a38_0x4673('0x37')](this['client'][a38_0x4673('0x47')])){const _0x3ed337=await Trigger_1[a38_0x4673('0x32')][a38_0x4673('0x1e')]({'guild':_0x4b1a5f[a38_0x4673('0x1')]['id']});if(_0x3ed337>=constants[a38_0x4673('0x10')][a38_0x4673('0xf')]){const _0x6d89e4=await omnic[a38_0x4673('0x19')](_0x4b1a5f[a38_0x4673('0x1')])[a38_0x4673('0x3')](()=>{});if(_0x6d89e4){if(_0x6d89e4===omnic[a38_0x4673('0x2d')][a38_0x4673('0x3b')]&&_0x3ed337>=constants[a38_0x4673('0x10')]['GOLD'][a38_0x4673('0xf')])throw new errors[(a38_0x4673('0xc'))](errors['BASTION_ERROR_TYPE'][a38_0x4673('0x34')],this[a38_0x4673('0x8')][a38_0x4673('0x4')]['getString'](_0x4b1a5f[a38_0x4673('0x1')][a38_0x4673('0x49')]['language'],a38_0x4673('0x27'),a38_0x4673('0x15'),constants[a38_0x4673('0x10')][a38_0x4673('0x3b')]['TRIGGERS']));else{if(_0x6d89e4===omnic[a38_0x4673('0x2d')][a38_0x4673('0x31')]&&_0x3ed337>=constants['LIMITS'][a38_0x4673('0x31')][a38_0x4673('0xf')])throw new errors[(a38_0x4673('0xc'))](errors['BASTION_ERROR_TYPE'][a38_0x4673('0x34')],this[a38_0x4673('0x8')][a38_0x4673('0x4')]['getString'](_0x4b1a5f[a38_0x4673('0x1')]['document'][a38_0x4673('0x26')],a38_0x4673('0x27'),'membershipLimitTriggers',constants['LIMITS']['PLATINUM'][a38_0x4673('0xf')]));}}else throw new errors[(a38_0x4673('0xc'))](errors[a38_0x4673('0x3a')][a38_0x4673('0x45')],this[a38_0x4673('0x8')][a38_0x4673('0x4')]['getString'](_0x4b1a5f[a38_0x4673('0x1')][a38_0x4673('0x49')][a38_0x4673('0x26')],a38_0x4673('0x27'),a38_0x4673('0x3e'),constants['LIMITS']['TRIGGERS']));}}const _0x3d0fe2=_0x2481ec[a38_0x4673('0x16')][a38_0x4673('0x5')]('\x20'),_0x4273ad=[{'name':'Trigger','value':_0x3d0fe2,'inline':!![]}];let _0x192be1;_0x2481ec['_'][a38_0x4673('0x1f')]&&(_0x192be1=embeds[a38_0x4673('0x25')](_0x2481ec['_'][a38_0x4673('0x5')]('\x20')),_0x4273ad[a38_0x4673('0xb')]({'name':a38_0x4673('0x9'),'value':a38_0x4673('0x2f')+JSON[a38_0x4673('0x22')](_0x192be1)+a38_0x4673('0x14')}));let _0x1c25e4;if(_0x2481ec[a38_0x4673('0x18')]){const _0x306d5a=emojis[a38_0x4673('0xd')](_0x2481ec[a38_0x4673('0x18')]);_0x306d5a&&(_0x1c25e4=_0x306d5a['value'],_0x4273ad['push']({'name':a38_0x4673('0x2b'),'value':_0x2481ec[a38_0x4673('0x18')]}));}return await Trigger_1[a38_0x4673('0x32')][a38_0x4673('0x46')]({'guild':_0x4b1a5f[a38_0x4673('0x1')]['id'],'trigger':_0x3d0fe2,'responseMessage':_0x192be1,'responseReaction':_0x1c25e4}),await _0x4b1a5f[a38_0x4673('0x12')][a38_0x4673('0x1a')]({'embed':{'color':tesseract_1[a38_0x4673('0x41')]['COLORS'][a38_0x4673('0x29')],'description':this[a38_0x4673('0x8')]['locale'][a38_0x4673('0x23')](_0x4b1a5f[a38_0x4673('0x1')][a38_0x4673('0x49')][a38_0x4673('0x26')],'info',a38_0x4673('0xe'),_0x4b1a5f['author'][a38_0x4673('0x1d')]),'fields':_0x4273ad}})[a38_0x4673('0x3')](()=>{});}const _0x4e22b6=await Trigger_1[a38_0x4673('0x32')][a38_0x4673('0x43')]({'guild':_0x4b1a5f['guild']['id']});return await _0x4b1a5f['channel'][a38_0x4673('0x1a')]({'embed':{'color':tesseract_1[a38_0x4673('0x41')]['COLORS'][a38_0x4673('0x2c')],'description':this[a38_0x4673('0x8')][a38_0x4673('0x4')][a38_0x4673('0x23')](_0x4b1a5f[a38_0x4673('0x1')][a38_0x4673('0x49')][a38_0x4673('0x26')],'info',a38_0x4673('0x2a')),'fields':_0x4e22b6['map'](_0x1973df=>({'name':_0x1973df[a38_0x4673('0x1b')],'value':(_0x1973df['responseMessage']?'Message\x20Response':'')+'\x0a'+(_0x1973df[a38_0x4673('0x39')]?a38_0x4673('0x4a'):'')}))}})[a38_0x4673('0x3')](()=>{});};}};