const a38_0x4da4=['constructor','catch','find','triggersAdd','LIMITS','triggers\x20--delete\x20PATTERN','user','TRIGGERS','length','@bastion/tesseract','apply','stringify','isPublicBastion','join','triggersClear','clear','return\x20/\x22\x20+\x20this\x20+\x20\x22/','send','responseReaction','delete','GREEN','Response\x20Message','pattern','COLORS','triggersList','document','author','../../utils/emojis','deleteMany','locale','tag','channel','../../utils/omnic','RED','membershipLimitTriggers','../../utils/constants','Constants','value','fetchPremiumTier','../../utils/embeds','parseEmoji','Command','getString','map','Response\x20Reaction','create','```json\x0a','generateBastionEmbed','IRIS','triggers','DiscordError','MANAGE_GUILD','GOLD','Message\x20Response','triggers\x20--clear','test','client','triggersRemove','BASTION_ERROR_TYPE','language','LIMITED_PREMIUM_MEMBERSHIP','guild','exports','errors','PremiumTier','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','push','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','info','PLATINUM','Trigger','responseMessage','../../utils/errors','PREMIUM_MEMBERSHIP_REQUIRED','trigger','reaction','default'];(function(_0x4b20f7,_0x4da408){const _0x4d4124=function(_0x2b4239){while(--_0x2b4239){_0x4b20f7['push'](_0x4b20f7['shift']());}},_0x1a2f5b=function(){const _0x46cc42={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xbbb215,_0x423d2d,_0x3f751f,_0x220d1a){_0x220d1a=_0x220d1a||{};let _0x8a5008=_0x423d2d+'='+_0x3f751f,_0xcc1a44=0x0;for(let _0x3991a8=0x0,_0x48cfe9=_0xbbb215['length'];_0x3991a8<_0x48cfe9;_0x3991a8++){const _0x4862b9=_0xbbb215[_0x3991a8];_0x8a5008+=';\x20'+_0x4862b9;const _0xd30ee6=_0xbbb215[_0x4862b9];_0xbbb215['push'](_0xd30ee6),_0x48cfe9=_0xbbb215['length'],_0xd30ee6!==!![]&&(_0x8a5008+='='+_0xd30ee6);}_0x220d1a['cookie']=_0x8a5008;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2fd7b5,_0x512d58){_0x2fd7b5=_0x2fd7b5||function(_0x201397){return _0x201397;};const _0x444e99=_0x2fd7b5(new RegExp('(?:^|;\x20)'+_0x512d58['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x173a07=function(_0x1ada2d,_0x15b5e1){_0x1ada2d(++_0x15b5e1);};return _0x173a07(_0x4d4124,_0x4da408),_0x444e99?decodeURIComponent(_0x444e99[0x1]):undefined;}},_0x2d1d09=function(){const _0x323c0d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x323c0d['test'](_0x46cc42['removeCookie']['toString']());};_0x46cc42['updateCookie']=_0x2d1d09;let _0x108ce1='';const _0x1152b6=_0x46cc42['updateCookie']();if(!_0x1152b6)_0x46cc42['setCookie'](['*'],'counter',0x1);else _0x1152b6?_0x108ce1=_0x46cc42['getCookie'](null,'counter'):_0x46cc42['removeCookie']();};_0x1a2f5b();}(a38_0x4da4,0x19f));const a38_0x4d41=function(_0x4b20f7,_0x4da408){_0x4b20f7=_0x4b20f7-0x0;let _0x4d4124=a38_0x4da4[_0x4b20f7];return _0x4d4124;};const a38_0x3f751f=function(){let _0x1dae9a=!![];return function(_0x31eca8,_0xec4106){const _0x567812=_0x1dae9a?function(){if(_0xec4106){const _0x39c7df=_0xec4106[a38_0x4d41('0x39')](_0x31eca8,arguments);return _0xec4106=null,_0x39c7df;}}:function(){};return _0x1dae9a=![],_0x567812;};}(),a38_0x423d2d=a38_0x3f751f(this,function(){const _0x3822c2=function(){const _0x17ec81=_0x3822c2[a38_0x4d41('0x2f')](a38_0x4d41('0x3f'))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x17ec81[a38_0x4d41('0x19')](a38_0x423d2d);};return _0x3822c2();});a38_0x423d2d();'use strict';const tesseract_1=require(a38_0x4d41('0x38')),Trigger_1=require('../../models/Trigger'),constants=require(a38_0x4d41('0x5')),embeds=require(a38_0x4d41('0x9')),emojis=require(a38_0x4d41('0x4a')),errors=require(a38_0x4d41('0x2a')),omnic=require(a38_0x4d41('0x2'));module[a38_0x4d41('0x20')]=class MessageFilterCommand extends tesseract_1[a38_0x4d41('0xb')]{constructor(){super(a38_0x4d41('0x13'),{'description':a38_0x4d41('0x25'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a38_0x4d41('0x3e')],'array':[a38_0x4d41('0x42'),a38_0x4d41('0x45')],'string':['delete','pattern','reaction']},'scope':a38_0x4d41('0x1f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0x4d41('0x15')],'syntax':[a38_0x4d41('0x13'),a38_0x4d41('0x23'),'triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI',a38_0x4d41('0x34'),a38_0x4d41('0x18')]}),this['exec']=async(_0x3ec85a,_0x57b213)=>{if(_0x57b213['clear'])return await Trigger_1['default'][a38_0x4d41('0x4b')]({'guild':_0x3ec85a[a38_0x4d41('0x1f')]['id']}),await _0x3ec85a['channel'][a38_0x4d41('0x40')]({'embed':{'color':tesseract_1[a38_0x4d41('0x6')][a38_0x4d41('0x46')][a38_0x4d41('0x3')],'description':this['client'][a38_0x4d41('0x4c')][a38_0x4d41('0xc')](_0x3ec85a[a38_0x4d41('0x1f')]['document'][a38_0x4d41('0x1d')],'info',a38_0x4d41('0x3d'),_0x3ec85a[a38_0x4d41('0x49')]['tag'])}})['catch'](()=>{});if(_0x57b213[a38_0x4d41('0x42')]&&_0x57b213[a38_0x4d41('0x42')]['length']){const _0x23c5a1=_0x57b213['delete']['join']('\x20');return await Trigger_1[a38_0x4d41('0x2e')][a38_0x4d41('0x4b')]({'guild':_0x3ec85a[a38_0x4d41('0x1f')]['id'],'trigger':_0x23c5a1}),await _0x3ec85a['channel']['send']({'embed':{'color':tesseract_1[a38_0x4d41('0x6')][a38_0x4d41('0x46')]['RED'],'description':this[a38_0x4d41('0x1a')][a38_0x4d41('0x4c')][a38_0x4d41('0xc')](_0x3ec85a[a38_0x4d41('0x1f')]['document'][a38_0x4d41('0x1d')],a38_0x4d41('0x26'),a38_0x4d41('0x1b'),_0x3ec85a['author'][a38_0x4d41('0x0')],_0x23c5a1)}})['catch'](()=>{});}if(_0x57b213['pattern']&&_0x57b213[a38_0x4d41('0x45')]['length']&&(_0x57b213['_']['length']||_0x57b213[a38_0x4d41('0x2d')])){if(constants[a38_0x4d41('0x3b')](this[a38_0x4d41('0x1a')][a38_0x4d41('0x35')])){const _0x28672d=await Trigger_1['default']['countDocuments']({'guild':_0x3ec85a['guild']['id']});if(_0x28672d>=constants[a38_0x4d41('0x33')][a38_0x4d41('0x36')]){const _0x5c9d36=await omnic[a38_0x4d41('0x8')](_0x3ec85a['guild'])[a38_0x4d41('0x30')](()=>{});if(_0x5c9d36){if(_0x5c9d36===omnic['PremiumTier'][a38_0x4d41('0x16')]&&_0x28672d>=constants['LIMITS']['GOLD'][a38_0x4d41('0x36')])throw new errors[(a38_0x4d41('0x14'))](errors['BASTION_ERROR_TYPE'][a38_0x4d41('0x1e')],this[a38_0x4d41('0x1a')][a38_0x4d41('0x4c')][a38_0x4d41('0xc')](_0x3ec85a['guild'][a38_0x4d41('0x48')][a38_0x4d41('0x1d')],a38_0x4d41('0x21'),a38_0x4d41('0x4'),constants[a38_0x4d41('0x33')][a38_0x4d41('0x16')][a38_0x4d41('0x36')]));else{if(_0x5c9d36===omnic[a38_0x4d41('0x22')][a38_0x4d41('0x27')]&&_0x28672d>=constants['LIMITS'][a38_0x4d41('0x27')][a38_0x4d41('0x36')])throw new errors[(a38_0x4d41('0x14'))](errors[a38_0x4d41('0x1c')][a38_0x4d41('0x1e')],this[a38_0x4d41('0x1a')][a38_0x4d41('0x4c')]['getString'](_0x3ec85a[a38_0x4d41('0x1f')][a38_0x4d41('0x48')][a38_0x4d41('0x1d')],a38_0x4d41('0x21'),a38_0x4d41('0x4'),constants['LIMITS'][a38_0x4d41('0x27')][a38_0x4d41('0x36')]));}}else throw new errors[(a38_0x4d41('0x14'))](errors[a38_0x4d41('0x1c')][a38_0x4d41('0x2b')],this[a38_0x4d41('0x1a')][a38_0x4d41('0x4c')]['getString'](_0x3ec85a[a38_0x4d41('0x1f')][a38_0x4d41('0x48')][a38_0x4d41('0x1d')],a38_0x4d41('0x21'),'premiumTriggers',constants[a38_0x4d41('0x33')]['TRIGGERS']));}}const _0x447092=_0x57b213[a38_0x4d41('0x45')][a38_0x4d41('0x3c')]('\x20'),_0x1669d3=[{'name':a38_0x4d41('0x28'),'value':_0x447092,'inline':!![]}];let _0x430a9a;_0x57b213['_'][a38_0x4d41('0x37')]&&(_0x430a9a=embeds[a38_0x4d41('0x11')](_0x57b213['_'][a38_0x4d41('0x3c')]('\x20')),_0x1669d3[a38_0x4d41('0x24')]({'name':a38_0x4d41('0x44'),'value':a38_0x4d41('0x10')+JSON[a38_0x4d41('0x3a')](_0x430a9a)+'```'}));let _0x140ee7;if(_0x57b213[a38_0x4d41('0x2d')]){const _0x1f98ba=emojis[a38_0x4d41('0xa')](_0x57b213[a38_0x4d41('0x2d')]);_0x1f98ba&&(_0x140ee7=_0x1f98ba[a38_0x4d41('0x7')],_0x1669d3[a38_0x4d41('0x24')]({'name':a38_0x4d41('0xe'),'value':_0x57b213['reaction']}));}return await Trigger_1[a38_0x4d41('0x2e')][a38_0x4d41('0xf')]({'guild':_0x3ec85a[a38_0x4d41('0x1f')]['id'],'trigger':_0x447092,'responseMessage':_0x430a9a,'responseReaction':_0x140ee7}),await _0x3ec85a[a38_0x4d41('0x1')]['send']({'embed':{'color':tesseract_1[a38_0x4d41('0x6')][a38_0x4d41('0x46')][a38_0x4d41('0x43')],'description':this[a38_0x4d41('0x1a')][a38_0x4d41('0x4c')]['getString'](_0x3ec85a[a38_0x4d41('0x1f')][a38_0x4d41('0x48')]['language'],a38_0x4d41('0x26'),a38_0x4d41('0x32'),_0x3ec85a[a38_0x4d41('0x49')][a38_0x4d41('0x0')]),'fields':_0x1669d3}})[a38_0x4d41('0x30')](()=>{});}const _0x4c788a=await Trigger_1[a38_0x4d41('0x2e')][a38_0x4d41('0x31')]({'guild':_0x3ec85a[a38_0x4d41('0x1f')]['id']});return await _0x3ec85a[a38_0x4d41('0x1')][a38_0x4d41('0x40')]({'embed':{'color':tesseract_1['Constants'][a38_0x4d41('0x46')][a38_0x4d41('0x12')],'description':this[a38_0x4d41('0x1a')]['locale']['getString'](_0x3ec85a[a38_0x4d41('0x1f')][a38_0x4d41('0x48')]['language'],a38_0x4d41('0x26'),a38_0x4d41('0x47')),'fields':_0x4c788a[a38_0x4d41('0xd')](_0x3e1a5d=>({'name':_0x3e1a5d[a38_0x4d41('0x2c')],'value':(_0x3e1a5d[a38_0x4d41('0x29')]?a38_0x4d41('0x17'):'')+'\x0a'+(_0x3e1a5d[a38_0x4d41('0x41')]?'Reaction\x20Response':'')}))}})[a38_0x4d41('0x30')](()=>{});};}};