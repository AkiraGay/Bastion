const a38_0xc1c6=['client','Message\x20Response','send','default','exports','create','LIMITED_PREMIUM_MEMBERSHIP','pattern','GREEN','COLORS','Trigger','../../utils/constants','LIMITS','premiumTriggers','length','BASTION_ERROR_TYPE','value','DiscordError','map','PremiumTier','../../utils/omnic','generateBastionEmbed','```json\x0a','find','parseEmoji','RED','Response\x20Reaction','delete','responseMessage','push','stringify','user','../../models/Trigger','locale','channel','triggersRemove','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','responseReaction','../../utils/errors','Constants','compile','language','author','```','reaction','guild','clear','MANAGE_GUILD','catch','triggers','Command','countDocuments','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apply','isPublicBastion','triggersClear','PREMIUM_MEMBERSHIP_REQUIRED','getString','triggers\x20--clear','join','../../utils/emojis','TRIGGERS','tag','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','info','GOLD','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','test','document','deleteMany','errors','PLATINUM','IRIS','membershipLimitTriggers'];(function(_0x3590c5,_0xc1c691){const _0x47efbd=function(_0x703043){while(--_0x703043){_0x3590c5['push'](_0x3590c5['shift']());}};const _0x39999d=function(){const _0x31e52c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x435770,_0x3f6f5f,_0x19f434,_0x66ab0d){_0x66ab0d=_0x66ab0d||{};let _0x503239=_0x3f6f5f+'='+_0x19f434;let _0x1719b5=0x0;for(let _0x39755a=0x0,_0x5556fb=_0x435770['length'];_0x39755a<_0x5556fb;_0x39755a++){const _0x359382=_0x435770[_0x39755a];_0x503239+=';\x20'+_0x359382;const _0x30372e=_0x435770[_0x359382];_0x435770['push'](_0x30372e);_0x5556fb=_0x435770['length'];if(_0x30372e!==!![]){_0x503239+='='+_0x30372e;}}_0x66ab0d['cookie']=_0x503239;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3cdfae,_0x5fface){_0x3cdfae=_0x3cdfae||function(_0x42fa00){return _0x42fa00;};const _0x20d694=_0x3cdfae(new RegExp('(?:^|;\x20)'+_0x5fface['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x226f5c=function(_0x22e14a,_0x82647e){_0x22e14a(++_0x82647e);};_0x226f5c(_0x47efbd,_0xc1c691);return _0x20d694?decodeURIComponent(_0x20d694[0x1]):undefined;}};const _0x1a893c=function(){const _0x1557b5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1557b5['test'](_0x31e52c['removeCookie']['toString']());};_0x31e52c['updateCookie']=_0x1a893c;let _0x214e8d='';const _0x48b95b=_0x31e52c['updateCookie']();if(!_0x48b95b){_0x31e52c['setCookie'](['*'],'counter',0x1);}else if(_0x48b95b){_0x214e8d=_0x31e52c['getCookie'](null,'counter');}else{_0x31e52c['removeCookie']();}};_0x39999d();}(a38_0xc1c6,0x145));const a38_0x47ef=function(_0x3590c5,_0xc1c691){_0x3590c5=_0x3590c5-0x0;let _0x47efbd=a38_0xc1c6[_0x3590c5];return _0x47efbd;};const a38_0x31e52c=function(){let _0xf68351=!![];return function(_0xdb526d,_0xe80b7c){const _0x509bb6=_0xf68351?function(){if(_0xe80b7c){const _0xe799ab=_0xe80b7c[a38_0x47ef('0x1c')](_0xdb526d,arguments);_0xe80b7c=null;return _0xe799ab;}}:function(){};_0xf68351=![];return _0x509bb6;};}();const a38_0x703043=a38_0x31e52c(this,function(){const _0xf0b5bb=function(){const _0x3826e9=_0xf0b5bb['constructor'](a38_0x47ef('0x1b'))()[a38_0x47ef('0xf')](a38_0x47ef('0x2a'));return!_0x3826e9[a38_0x47ef('0x2b')](a38_0x703043);};return _0xf0b5bb();});a38_0x703043();'use strict';const tesseract_1=require('@bastion/tesseract');const Trigger_1=require(a38_0x47ef('0x7'));const constants=require(a38_0x47ef('0x3d'));const embeds=require('../../utils/embeds');const emojis=require(a38_0x47ef('0x23'));const errors=require(a38_0x47ef('0xd'));const omnic=require(a38_0x47ef('0x46'));module[a38_0x47ef('0x36')]=class MessageFilterCommand extends tesseract_1[a38_0x47ef('0x19')]{constructor(){super(a38_0x47ef('0x18'),{'description':a38_0x47ef('0xb'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a38_0x47ef('0x15')],'array':[a38_0x47ef('0x2'),a38_0x47ef('0x39')],'string':[a38_0x47ef('0x2'),a38_0x47ef('0x39'),a38_0x47ef('0x13')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0x47ef('0x16')],'syntax':[a38_0x47ef('0x18'),a38_0x47ef('0x26'),a38_0x47ef('0x29'),a38_0x47ef('0x21')]});this['exec']=async(_0xc9b9b0,_0x510a44)=>{if(_0x510a44[a38_0x47ef('0x15')]){await Trigger_1[a38_0x47ef('0x35')][a38_0x47ef('0x2d')]({'guild':_0xc9b9b0[a38_0x47ef('0x14')]['id']});return await _0xc9b9b0[a38_0x47ef('0x9')]['send']({'embed':{'color':tesseract_1[a38_0x47ef('0xe')]['COLORS'][a38_0x47ef('0x0')],'description':this[a38_0x47ef('0x32')][a38_0x47ef('0x8')][a38_0x47ef('0x20')](_0xc9b9b0[a38_0x47ef('0x14')][a38_0x47ef('0x2c')][a38_0x47ef('0x10')],a38_0x47ef('0x27'),a38_0x47ef('0x1e'),_0xc9b9b0[a38_0x47ef('0x11')][a38_0x47ef('0x25')])}})[a38_0x47ef('0x17')](()=>{});}if(_0x510a44[a38_0x47ef('0x2')]&&_0x510a44[a38_0x47ef('0x2')]['length']){const _0x4d6fe3=_0x510a44[a38_0x47ef('0x2')][a38_0x47ef('0x22')]('\x20');await Trigger_1[a38_0x47ef('0x35')][a38_0x47ef('0x2d')]({'guild':_0xc9b9b0[a38_0x47ef('0x14')]['id'],'trigger':_0x4d6fe3});return await _0xc9b9b0[a38_0x47ef('0x9')][a38_0x47ef('0x34')]({'embed':{'color':tesseract_1[a38_0x47ef('0xe')][a38_0x47ef('0x3b')][a38_0x47ef('0x0')],'description':this[a38_0x47ef('0x32')]['locale'][a38_0x47ef('0x20')](_0xc9b9b0[a38_0x47ef('0x14')]['document'][a38_0x47ef('0x10')],a38_0x47ef('0x27'),a38_0x47ef('0xa'),_0xc9b9b0[a38_0x47ef('0x11')][a38_0x47ef('0x25')],_0x4d6fe3)}})['catch'](()=>{});}if(_0x510a44[a38_0x47ef('0x39')]&&_0x510a44['pattern'][a38_0x47ef('0x40')]&&(_0x510a44['_'][a38_0x47ef('0x40')]||_0x510a44[a38_0x47ef('0x13')])){if(constants[a38_0x47ef('0x1d')](this[a38_0x47ef('0x32')][a38_0x47ef('0x6')])){const _0x567d4b=await Trigger_1['default'][a38_0x47ef('0x1a')]({'guild':_0xc9b9b0[a38_0x47ef('0x14')]['id']});if(_0x567d4b>=constants[a38_0x47ef('0x3e')][a38_0x47ef('0x24')]){const _0x367c9c=await omnic['fetchPremiumTier'](_0xc9b9b0['guild'])[a38_0x47ef('0x17')](()=>{});if(_0x367c9c){if(_0x367c9c===omnic['PremiumTier'][a38_0x47ef('0x28')]&&_0x567d4b>=constants['LIMITS'][a38_0x47ef('0x28')][a38_0x47ef('0x24')]){throw new errors[(a38_0x47ef('0x43'))](errors[a38_0x47ef('0x41')][a38_0x47ef('0x38')],this[a38_0x47ef('0x32')][a38_0x47ef('0x8')][a38_0x47ef('0x20')](_0xc9b9b0[a38_0x47ef('0x14')][a38_0x47ef('0x2c')][a38_0x47ef('0x10')],a38_0x47ef('0x2e'),a38_0x47ef('0x31'),constants[a38_0x47ef('0x3e')][a38_0x47ef('0x28')][a38_0x47ef('0x24')]));}else if(_0x367c9c===omnic[a38_0x47ef('0x45')][a38_0x47ef('0x2f')]&&_0x567d4b>=constants['LIMITS']['PLATINUM'][a38_0x47ef('0x24')]){throw new errors[(a38_0x47ef('0x43'))](errors[a38_0x47ef('0x41')][a38_0x47ef('0x38')],this[a38_0x47ef('0x32')][a38_0x47ef('0x8')][a38_0x47ef('0x20')](_0xc9b9b0[a38_0x47ef('0x14')][a38_0x47ef('0x2c')][a38_0x47ef('0x10')],'errors',a38_0x47ef('0x31'),constants[a38_0x47ef('0x3e')][a38_0x47ef('0x2f')]['TRIGGERS']));}}else{throw new errors[(a38_0x47ef('0x43'))](errors[a38_0x47ef('0x41')][a38_0x47ef('0x1f')],this[a38_0x47ef('0x32')][a38_0x47ef('0x8')][a38_0x47ef('0x20')](_0xc9b9b0[a38_0x47ef('0x14')][a38_0x47ef('0x2c')][a38_0x47ef('0x10')],a38_0x47ef('0x2e'),a38_0x47ef('0x3f'),constants[a38_0x47ef('0x3e')][a38_0x47ef('0x24')]));}}}const _0x769f33=_0x510a44['pattern'][a38_0x47ef('0x22')]('\x20');const _0x40157c=[{'name':a38_0x47ef('0x3c'),'value':_0x769f33,'inline':!![]}];let _0x342a53;if(_0x510a44['_'][a38_0x47ef('0x40')]){_0x342a53=embeds[a38_0x47ef('0x47')](JSON['parse'](_0x510a44['_'][a38_0x47ef('0x22')]('\x20')));_0x40157c['push']({'name':'Response\x20Message','value':a38_0x47ef('0x48')+JSON[a38_0x47ef('0x5')](_0x342a53)+a38_0x47ef('0x12')});}let _0x5854e1;if(_0x510a44[a38_0x47ef('0x13')]){const _0x68c2a9=emojis[a38_0x47ef('0x4a')](_0x510a44[a38_0x47ef('0x13')]);if(_0x68c2a9){_0x5854e1=_0x68c2a9[a38_0x47ef('0x42')];_0x40157c[a38_0x47ef('0x4')]({'name':a38_0x47ef('0x1'),'value':_0x510a44[a38_0x47ef('0x13')]});}}await Trigger_1[a38_0x47ef('0x35')][a38_0x47ef('0x37')]({'guild':_0xc9b9b0[a38_0x47ef('0x14')]['id'],'trigger':_0x769f33,'responseMessage':_0x342a53,'responseReaction':_0x5854e1});return await _0xc9b9b0[a38_0x47ef('0x9')][a38_0x47ef('0x34')]({'embed':{'color':tesseract_1['Constants'][a38_0x47ef('0x3b')][a38_0x47ef('0x3a')],'description':this[a38_0x47ef('0x32')][a38_0x47ef('0x8')]['getString'](_0xc9b9b0[a38_0x47ef('0x14')]['document']['language'],a38_0x47ef('0x27'),'triggersAdd',_0xc9b9b0[a38_0x47ef('0x11')][a38_0x47ef('0x25')]),'fields':_0x40157c}})[a38_0x47ef('0x17')](()=>{});}const _0x561137=await Trigger_1[a38_0x47ef('0x35')][a38_0x47ef('0x49')]({'guild':_0xc9b9b0[a38_0x47ef('0x14')]['id']});return await _0xc9b9b0['channel'][a38_0x47ef('0x34')]({'embed':{'color':tesseract_1[a38_0x47ef('0xe')]['COLORS'][a38_0x47ef('0x30')],'description':this[a38_0x47ef('0x32')][a38_0x47ef('0x8')][a38_0x47ef('0x20')](_0xc9b9b0['guild'][a38_0x47ef('0x2c')][a38_0x47ef('0x10')],a38_0x47ef('0x27'),'triggersList'),'fields':_0x561137[a38_0x47ef('0x44')](_0x33b1d1=>({'name':_0x33b1d1['trigger'],'value':(_0x33b1d1[a38_0x47ef('0x3')]?a38_0x47ef('0x33'):'')+'\x0a'+(_0x33b1d1[a38_0x47ef('0xc')]?'Reaction\x20Response':'')}))}})[a38_0x47ef('0x17')](()=>{});};}};