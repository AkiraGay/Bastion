const a258_0x17c4=['default','../../models/Trigger','create','author','push','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','responseReaction','triggers\x20--delete\x20PATTERN','DiscordError','../../utils/constants','LIMITS','../../utils/embeds','client','test','document','```json\x0a','COLORS','join','Command','IRIS','trigger','LIMITED_PREMIUM_MEMBERSHIP','TRIGGERS','exec','Constants','isPublicBastion','GOLD','constructor','stringify','PREMIUM_MEMBERSHIP_REQUIRED','fetchPremiumTier','Response\x20Reaction','Trigger','send','responseMessage','exports','../../utils/omnic','length','reaction','return\x20/\x22\x20+\x20this\x20+\x20\x22/','```','GREEN','PremiumTier','catch','membershipLimitTriggers','locale','BASTION_ERROR_TYPE','map','deleteMany','triggers','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','generateBastionEmbed','@bastion/tesseract','clear','../../utils/errors','tag','premiumTriggers','countDocuments','pattern','channel','delete','guild','info','Message\x20Response','apply','language','RED','PLATINUM','getString','triggersAdd','triggers\x20--clear','MANAGE_GUILD','parseEmoji'];(function(_0x3ea227,_0x17c4bb){const _0xb09ee6=function(_0x2545b2){while(--_0x2545b2){_0x3ea227['push'](_0x3ea227['shift']());}};const _0x18c2bf=function(){const _0x3e6718={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xfd66b9,_0x56293d,_0x34169d,_0x3b45de){_0x3b45de=_0x3b45de||{};let _0x15d48b=_0x56293d+'='+_0x34169d;let _0xd5c4b8=0x0;for(let _0x2ff7e3=0x0,_0x1a3864=_0xfd66b9['length'];_0x2ff7e3<_0x1a3864;_0x2ff7e3++){const _0x4f1805=_0xfd66b9[_0x2ff7e3];_0x15d48b+=';\x20'+_0x4f1805;const _0x5d8f21=_0xfd66b9[_0x4f1805];_0xfd66b9['push'](_0x5d8f21);_0x1a3864=_0xfd66b9['length'];if(_0x5d8f21!==!![]){_0x15d48b+='='+_0x5d8f21;}}_0x3b45de['cookie']=_0x15d48b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x643d03,_0x1ad13a){_0x643d03=_0x643d03||function(_0x5e4629){return _0x5e4629;};const _0x3c455=_0x643d03(new RegExp('(?:^|;\x20)'+_0x1ad13a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x43ade5=function(_0x1ff794,_0x20762d){_0x1ff794(++_0x20762d);};_0x43ade5(_0xb09ee6,_0x17c4bb);return _0x3c455?decodeURIComponent(_0x3c455[0x1]):undefined;}};const _0x1c4b14=function(){const _0x1e3675=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e3675['test'](_0x3e6718['removeCookie']['toString']());};_0x3e6718['updateCookie']=_0x1c4b14;let _0x21667c='';const _0x39fdc6=_0x3e6718['updateCookie']();if(!_0x39fdc6){_0x3e6718['setCookie'](['*'],'counter',0x1);}else if(_0x39fdc6){_0x21667c=_0x3e6718['getCookie'](null,'counter');}else{_0x3e6718['removeCookie']();}};_0x18c2bf();}(a258_0x17c4,0x16b));const a258_0xb09e=function(_0x3ea227,_0x17c4bb){_0x3ea227=_0x3ea227-0x0;let _0xb09ee6=a258_0x17c4[_0x3ea227];return _0xb09ee6;};const a258_0x3e6718=function(){let _0x81b715=!![];return function(_0x2cab89,_0x48df26){const _0x59e848=_0x81b715?function(){if(_0x48df26){const _0x22c513=_0x48df26[a258_0xb09e('0x42')](_0x2cab89,arguments);_0x48df26=null;return _0x22c513;}}:function(){};_0x81b715=![];return _0x59e848;};}();const a258_0x2545b2=a258_0x3e6718(this,function(){const _0x51a9a5=function(){const _0x467728=_0x51a9a5[a258_0xb09e('0x1d')](a258_0xb09e('0x29'))()['compile'](a258_0xb09e('0x34'));return!_0x467728[a258_0xb09e('0xf')](a258_0x2545b2);};return _0x51a9a5();});a258_0x2545b2();'use strict';const tesseract_1=require(a258_0xb09e('0x36'));const Trigger_1=require(a258_0xb09e('0x3'));const constants=require(a258_0xb09e('0xb'));const embeds=require(a258_0xb09e('0xd'));const emojis=require('../../utils/emojis');const errors=require(a258_0xb09e('0x38'));const omnic=require(a258_0xb09e('0x26'));module[a258_0xb09e('0x25')]=class MessageFilterCommand extends tesseract_1[a258_0xb09e('0x14')]{constructor(){super(a258_0xb09e('0x33'),{'description':'It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a258_0xb09e('0x37')],'array':[a258_0xb09e('0x3e'),a258_0xb09e('0x3c')],'string':[a258_0xb09e('0x3e'),a258_0xb09e('0x3c'),a258_0xb09e('0x28')]},'scope':a258_0xb09e('0x3f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a258_0xb09e('0x0')],'syntax':['triggers',a258_0xb09e('0x7'),'triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI',a258_0xb09e('0x9'),a258_0xb09e('0x48')]});this[a258_0xb09e('0x19')]=async(_0xeb0783,_0x1a86cf)=>{if(_0x1a86cf[a258_0xb09e('0x37')]){await Trigger_1[a258_0xb09e('0x2')][a258_0xb09e('0x32')]({'guild':_0xeb0783[a258_0xb09e('0x3f')]['id']});return await _0xeb0783[a258_0xb09e('0x3d')][a258_0xb09e('0x23')]({'embed':{'color':tesseract_1[a258_0xb09e('0x1a')]['COLORS'][a258_0xb09e('0x44')],'description':this['client'][a258_0xb09e('0x2f')]['getString'](_0xeb0783['guild']['document']['language'],a258_0xb09e('0x40'),'triggersClear',_0xeb0783[a258_0xb09e('0x5')][a258_0xb09e('0x39')])}})[a258_0xb09e('0x2d')](()=>{});}if(_0x1a86cf[a258_0xb09e('0x3e')]&&_0x1a86cf[a258_0xb09e('0x3e')][a258_0xb09e('0x27')]){const _0x1d492d=_0x1a86cf['delete'][a258_0xb09e('0x13')]('\x20');await Trigger_1[a258_0xb09e('0x2')][a258_0xb09e('0x32')]({'guild':_0xeb0783[a258_0xb09e('0x3f')]['id'],'trigger':_0x1d492d});return await _0xeb0783[a258_0xb09e('0x3d')]['send']({'embed':{'color':tesseract_1[a258_0xb09e('0x1a')][a258_0xb09e('0x12')][a258_0xb09e('0x44')],'description':this['client']['locale'][a258_0xb09e('0x46')](_0xeb0783['guild']['document'][a258_0xb09e('0x43')],a258_0xb09e('0x40'),'triggersRemove',_0xeb0783[a258_0xb09e('0x5')][a258_0xb09e('0x39')],_0x1d492d)}})[a258_0xb09e('0x2d')](()=>{});}if(_0x1a86cf[a258_0xb09e('0x3c')]&&_0x1a86cf[a258_0xb09e('0x3c')]['length']&&(_0x1a86cf['_'][a258_0xb09e('0x27')]||_0x1a86cf[a258_0xb09e('0x28')])){if(constants[a258_0xb09e('0x1b')](this[a258_0xb09e('0xe')]['user'])){const _0x178c64=await Trigger_1[a258_0xb09e('0x2')][a258_0xb09e('0x3b')]({'guild':_0xeb0783[a258_0xb09e('0x3f')]['id']});if(_0x178c64>=constants[a258_0xb09e('0xc')]['TRIGGERS']){const _0x37a961=await omnic[a258_0xb09e('0x20')](_0xeb0783[a258_0xb09e('0x3f')])[a258_0xb09e('0x2d')](()=>{});if(_0x37a961){if(_0x37a961===omnic[a258_0xb09e('0x2c')][a258_0xb09e('0x1c')]&&_0x178c64>=constants[a258_0xb09e('0xc')]['GOLD'][a258_0xb09e('0x18')]){throw new errors[(a258_0xb09e('0xa'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a258_0xb09e('0xe')][a258_0xb09e('0x2f')]['getString'](_0xeb0783['guild'][a258_0xb09e('0x10')]['language'],'errors',a258_0xb09e('0x2e'),constants[a258_0xb09e('0xc')][a258_0xb09e('0x1c')][a258_0xb09e('0x18')]));}else if(_0x37a961===omnic[a258_0xb09e('0x2c')][a258_0xb09e('0x45')]&&_0x178c64>=constants['LIMITS'][a258_0xb09e('0x45')]['TRIGGERS']){throw new errors[(a258_0xb09e('0xa'))](errors[a258_0xb09e('0x30')][a258_0xb09e('0x17')],this[a258_0xb09e('0xe')][a258_0xb09e('0x2f')][a258_0xb09e('0x46')](_0xeb0783[a258_0xb09e('0x3f')][a258_0xb09e('0x10')][a258_0xb09e('0x43')],'errors',a258_0xb09e('0x2e'),constants[a258_0xb09e('0xc')]['PLATINUM'][a258_0xb09e('0x18')]));}}else{throw new errors[(a258_0xb09e('0xa'))](errors[a258_0xb09e('0x30')][a258_0xb09e('0x1f')],this[a258_0xb09e('0xe')][a258_0xb09e('0x2f')]['getString'](_0xeb0783[a258_0xb09e('0x3f')]['document'][a258_0xb09e('0x43')],'errors',a258_0xb09e('0x3a'),constants[a258_0xb09e('0xc')][a258_0xb09e('0x18')]));}}}const _0x221e8c=_0x1a86cf['pattern']['join']('\x20');const _0x3c3765=[{'name':a258_0xb09e('0x22'),'value':_0x221e8c,'inline':!![]}];let _0x59a4c6;if(_0x1a86cf['_'][a258_0xb09e('0x27')]){_0x59a4c6=embeds[a258_0xb09e('0x35')](_0x1a86cf['_'][a258_0xb09e('0x13')]('\x20'));_0x3c3765[a258_0xb09e('0x6')]({'name':'Response\x20Message','value':a258_0xb09e('0x11')+JSON[a258_0xb09e('0x1e')](_0x59a4c6)+a258_0xb09e('0x2a')});}let _0x1fd268;if(_0x1a86cf['reaction']){const _0xec5a09=emojis[a258_0xb09e('0x1')](_0x1a86cf[a258_0xb09e('0x28')]);if(_0xec5a09){_0x1fd268=_0xec5a09['value'];_0x3c3765[a258_0xb09e('0x6')]({'name':a258_0xb09e('0x21'),'value':_0x1a86cf['reaction']});}}await Trigger_1[a258_0xb09e('0x2')][a258_0xb09e('0x4')]({'guild':_0xeb0783[a258_0xb09e('0x3f')]['id'],'trigger':_0x221e8c,'responseMessage':_0x59a4c6,'responseReaction':_0x1fd268});return await _0xeb0783[a258_0xb09e('0x3d')]['send']({'embed':{'color':tesseract_1[a258_0xb09e('0x1a')]['COLORS'][a258_0xb09e('0x2b')],'description':this['client']['locale'][a258_0xb09e('0x46')](_0xeb0783['guild'][a258_0xb09e('0x10')][a258_0xb09e('0x43')],a258_0xb09e('0x40'),a258_0xb09e('0x47'),_0xeb0783[a258_0xb09e('0x5')][a258_0xb09e('0x39')]),'fields':_0x3c3765}})[a258_0xb09e('0x2d')](()=>{});}const _0x271d37=await Trigger_1[a258_0xb09e('0x2')]['find']({'guild':_0xeb0783[a258_0xb09e('0x3f')]['id']});return await _0xeb0783[a258_0xb09e('0x3d')][a258_0xb09e('0x23')]({'embed':{'color':tesseract_1[a258_0xb09e('0x1a')][a258_0xb09e('0x12')][a258_0xb09e('0x15')],'description':this['client'][a258_0xb09e('0x2f')][a258_0xb09e('0x46')](_0xeb0783[a258_0xb09e('0x3f')]['document'][a258_0xb09e('0x43')],a258_0xb09e('0x40'),'triggersList'),'fields':_0x271d37[a258_0xb09e('0x31')](_0x4848dd=>({'name':_0x4848dd[a258_0xb09e('0x16')],'value':(_0x4848dd[a258_0xb09e('0x24')]?a258_0xb09e('0x41'):'')+'\x0a'+(_0x4848dd[a258_0xb09e('0x8')]?'Reaction\x20Response':'')}))}})[a258_0xb09e('0x2d')](()=>{});};}};