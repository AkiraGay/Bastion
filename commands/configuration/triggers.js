const a38_0x3f2f=['constructor','length','send','COLORS','deleteMany','tag','stringify','../../utils/constants','BASTION_ERROR_TYPE','language','triggers\x20--delete\x20PATTERN','triggers\x20--clear','find','triggersAdd','info','apply','PLATINUM','GREEN','clear','responseReaction','push','client','../../utils/errors','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','exports','catch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','generateBastionEmbed','@bastion/tesseract','channel','test','Reaction\x20Response','document','delete','LIMITS','triggersRemove','default','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','RED','```','isPublicBastion','value','PremiumTier','trigger','IRIS','compile','Trigger','pattern','Message\x20Response','GOLD','reaction','guild','countDocuments','author','map','triggersClear','triggers','locale','parseEmoji','../../models/Trigger','TRIGGERS','getString','triggersList','Command','errors','../../utils/omnic','join','responseMessage','membershipLimitTriggers','../../utils/emojis','DiscordError','Constants','MANAGE_GUILD','premiumTriggers','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','LIMITED_PREMIUM_MEMBERSHIP'];(function(_0x5a0d51,_0x3f2fc3){const _0x453f07=function(_0x52d5f8){while(--_0x52d5f8){_0x5a0d51['push'](_0x5a0d51['shift']());}};const _0x3a00b0=function(){const _0x22262e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x433def,_0x387489,_0x4688ce,_0x4ee0d0){_0x4ee0d0=_0x4ee0d0||{};let _0x391f3b=_0x387489+'='+_0x4688ce;let _0x238be1=0x0;for(let _0x422bb7=0x0,_0x58829f=_0x433def['length'];_0x422bb7<_0x58829f;_0x422bb7++){const _0x8b5902=_0x433def[_0x422bb7];_0x391f3b+=';\x20'+_0x8b5902;const _0x29ccc0=_0x433def[_0x8b5902];_0x433def['push'](_0x29ccc0);_0x58829f=_0x433def['length'];if(_0x29ccc0!==!![]){_0x391f3b+='='+_0x29ccc0;}}_0x4ee0d0['cookie']=_0x391f3b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x46939b,_0x41deae){_0x46939b=_0x46939b||function(_0x328b4f){return _0x328b4f;};const _0x1295b8=_0x46939b(new RegExp('(?:^|;\x20)'+_0x41deae['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4a57c2=function(_0x58fb06,_0x4a6954){_0x58fb06(++_0x4a6954);};_0x4a57c2(_0x453f07,_0x3f2fc3);return _0x1295b8?decodeURIComponent(_0x1295b8[0x1]):undefined;}};const _0x5115cc=function(){const _0x2a80a8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2a80a8['test'](_0x22262e['removeCookie']['toString']());};_0x22262e['updateCookie']=_0x5115cc;let _0xd7999a='';const _0x8655c9=_0x22262e['updateCookie']();if(!_0x8655c9){_0x22262e['setCookie'](['*'],'counter',0x1);}else if(_0x8655c9){_0xd7999a=_0x22262e['getCookie'](null,'counter');}else{_0x22262e['removeCookie']();}};_0x3a00b0();}(a38_0x3f2f,0x1de));const a38_0x453f=function(_0x5a0d51,_0x3f2fc3){_0x5a0d51=_0x5a0d51-0x0;let _0x453f07=a38_0x3f2f[_0x5a0d51];return _0x453f07;};const a38_0x22262e=function(){let _0xb292e0=!![];return function(_0x110049,_0x3fabd6){const _0x229373=_0xb292e0?function(){if(_0x3fabd6){const _0x505c73=_0x3fabd6[a38_0x453f('0x45')](_0x110049,arguments);_0x3fabd6=null;return _0x505c73;}}:function(){};_0xb292e0=![];return _0x229373;};}();const a38_0x52d5f8=a38_0x22262e(this,function(){const _0x2306db=function(){const _0xbf58e6=_0x2306db[a38_0x453f('0x36')](a38_0x453f('0x4'))()[a38_0x453f('0x17')](a38_0x453f('0x1'));return!_0xbf58e6[a38_0x453f('0x8')](a38_0x52d5f8);};return _0x2306db();});a38_0x52d5f8();'use strict';const tesseract_1=require(a38_0x453f('0x6'));const Trigger_1=require(a38_0x453f('0x25'));const constants=require(a38_0x453f('0x3d'));const embeds=require('../../utils/embeds');const emojis=require(a38_0x453f('0x2f'));const errors=require(a38_0x453f('0x0'));const omnic=require(a38_0x453f('0x2b'));module[a38_0x453f('0x2')]=class MessageFilterCommand extends tesseract_1[a38_0x453f('0x29')]{constructor(){super('triggers',{'description':a38_0x453f('0xf'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':['clear'],'array':['delete',a38_0x453f('0x19')],'string':[a38_0x453f('0xb'),a38_0x453f('0x19'),a38_0x453f('0x1c')]},'scope':a38_0x453f('0x1d'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0x453f('0x32')],'syntax':[a38_0x453f('0x22'),'triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE',a38_0x453f('0x34'),a38_0x453f('0x40'),a38_0x453f('0x41')]});this['exec']=async(_0x4074e6,_0x52b241)=>{if(_0x52b241[a38_0x453f('0x48')]){await Trigger_1['default'][a38_0x453f('0x3a')]({'guild':_0x4074e6['guild']['id']});return await _0x4074e6[a38_0x453f('0x7')][a38_0x453f('0x38')]({'embed':{'color':tesseract_1['Constants'][a38_0x453f('0x39')][a38_0x453f('0x10')],'description':this[a38_0x453f('0x4b')][a38_0x453f('0x23')]['getString'](_0x4074e6[a38_0x453f('0x1d')][a38_0x453f('0xa')][a38_0x453f('0x3f')],a38_0x453f('0x44'),a38_0x453f('0x21'),_0x4074e6['author'][a38_0x453f('0x3b')])}})[a38_0x453f('0x3')](()=>{});}if(_0x52b241[a38_0x453f('0xb')]&&_0x52b241[a38_0x453f('0xb')][a38_0x453f('0x37')]){const _0x3349de=_0x52b241['delete'][a38_0x453f('0x2c')]('\x20');await Trigger_1[a38_0x453f('0xe')][a38_0x453f('0x3a')]({'guild':_0x4074e6[a38_0x453f('0x1d')]['id'],'trigger':_0x3349de});return await _0x4074e6[a38_0x453f('0x7')][a38_0x453f('0x38')]({'embed':{'color':tesseract_1[a38_0x453f('0x31')]['COLORS'][a38_0x453f('0x10')],'description':this[a38_0x453f('0x4b')]['locale'][a38_0x453f('0x27')](_0x4074e6[a38_0x453f('0x1d')][a38_0x453f('0xa')]['language'],a38_0x453f('0x44'),a38_0x453f('0xd'),_0x4074e6[a38_0x453f('0x1f')][a38_0x453f('0x3b')],_0x3349de)}})['catch'](()=>{});}if(_0x52b241[a38_0x453f('0x19')]&&_0x52b241[a38_0x453f('0x19')][a38_0x453f('0x37')]&&(_0x52b241['_'][a38_0x453f('0x37')]||_0x52b241[a38_0x453f('0x1c')])){if(constants[a38_0x453f('0x12')](this['client']['user'])){const _0x47df64=await Trigger_1[a38_0x453f('0xe')][a38_0x453f('0x1e')]({'guild':_0x4074e6[a38_0x453f('0x1d')]['id']});if(_0x47df64>=constants[a38_0x453f('0xc')][a38_0x453f('0x26')]){const _0x3d70f6=await omnic['fetchPremiumTier'](_0x4074e6[a38_0x453f('0x1d')])['catch'](()=>{});if(_0x3d70f6){if(_0x3d70f6===omnic[a38_0x453f('0x14')][a38_0x453f('0x1b')]&&_0x47df64>=constants[a38_0x453f('0xc')][a38_0x453f('0x1b')][a38_0x453f('0x26')]){throw new errors[(a38_0x453f('0x30'))](errors[a38_0x453f('0x3e')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a38_0x453f('0x4b')][a38_0x453f('0x23')]['getString'](_0x4074e6[a38_0x453f('0x1d')]['document'][a38_0x453f('0x3f')],a38_0x453f('0x2a'),a38_0x453f('0x2e'),constants[a38_0x453f('0xc')][a38_0x453f('0x1b')][a38_0x453f('0x26')]));}else if(_0x3d70f6===omnic['PremiumTier']['PLATINUM']&&_0x47df64>=constants['LIMITS'][a38_0x453f('0x46')]['TRIGGERS']){throw new errors[(a38_0x453f('0x30'))](errors['BASTION_ERROR_TYPE'][a38_0x453f('0x35')],this[a38_0x453f('0x4b')][a38_0x453f('0x23')][a38_0x453f('0x27')](_0x4074e6[a38_0x453f('0x1d')][a38_0x453f('0xa')][a38_0x453f('0x3f')],a38_0x453f('0x2a'),a38_0x453f('0x2e'),constants[a38_0x453f('0xc')][a38_0x453f('0x46')][a38_0x453f('0x26')]));}}else{throw new errors[(a38_0x453f('0x30'))](errors[a38_0x453f('0x3e')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a38_0x453f('0x4b')]['locale'][a38_0x453f('0x27')](_0x4074e6['guild'][a38_0x453f('0xa')]['language'],a38_0x453f('0x2a'),a38_0x453f('0x33'),constants[a38_0x453f('0xc')][a38_0x453f('0x26')]));}}}const _0x13187f=_0x52b241[a38_0x453f('0x19')][a38_0x453f('0x2c')]('\x20');const _0x511151=[{'name':a38_0x453f('0x18'),'value':_0x13187f,'inline':!![]}];let _0x4503e4;if(_0x52b241['_'][a38_0x453f('0x37')]){_0x4503e4=embeds[a38_0x453f('0x5')](_0x52b241['_'][a38_0x453f('0x2c')]('\x20'));_0x511151[a38_0x453f('0x4a')]({'name':'Response\x20Message','value':'```json\x0a'+JSON[a38_0x453f('0x3c')](_0x4503e4)+a38_0x453f('0x11')});}let _0x23bbdb;if(_0x52b241[a38_0x453f('0x1c')]){const _0x4892b7=emojis[a38_0x453f('0x24')](_0x52b241[a38_0x453f('0x1c')]);if(_0x4892b7){_0x23bbdb=_0x4892b7[a38_0x453f('0x13')];_0x511151[a38_0x453f('0x4a')]({'name':'Response\x20Reaction','value':_0x52b241['reaction']});}}await Trigger_1[a38_0x453f('0xe')]['create']({'guild':_0x4074e6[a38_0x453f('0x1d')]['id'],'trigger':_0x13187f,'responseMessage':_0x4503e4,'responseReaction':_0x23bbdb});return await _0x4074e6[a38_0x453f('0x7')][a38_0x453f('0x38')]({'embed':{'color':tesseract_1[a38_0x453f('0x31')][a38_0x453f('0x39')][a38_0x453f('0x47')],'description':this[a38_0x453f('0x4b')][a38_0x453f('0x23')][a38_0x453f('0x27')](_0x4074e6['guild'][a38_0x453f('0xa')]['language'],a38_0x453f('0x44'),a38_0x453f('0x43'),_0x4074e6[a38_0x453f('0x1f')]['tag']),'fields':_0x511151}})[a38_0x453f('0x3')](()=>{});}const _0x308812=await Trigger_1[a38_0x453f('0xe')][a38_0x453f('0x42')]({'guild':_0x4074e6[a38_0x453f('0x1d')]['id']});return await _0x4074e6['channel'][a38_0x453f('0x38')]({'embed':{'color':tesseract_1['Constants'][a38_0x453f('0x39')][a38_0x453f('0x16')],'description':this[a38_0x453f('0x4b')][a38_0x453f('0x23')]['getString'](_0x4074e6[a38_0x453f('0x1d')][a38_0x453f('0xa')][a38_0x453f('0x3f')],a38_0x453f('0x44'),a38_0x453f('0x28')),'fields':_0x308812[a38_0x453f('0x20')](_0x5e4370=>({'name':_0x5e4370[a38_0x453f('0x15')],'value':(_0x5e4370[a38_0x453f('0x2d')]?a38_0x453f('0x1a'):'')+'\x0a'+(_0x5e4370[a38_0x453f('0x49')]?a38_0x453f('0x9'):'')}))}})[a38_0x453f('0x3')](()=>{});};}};