const a40_0x55a2=['PREMIUM_MEMBERSHIP_REQUIRED','COLORS','Trigger','DiscordError','```','send','catch','trigger','Reaction\x20Response','language','countDocuments','../../models/Trigger','premiumTriggers','Message\x20Response','clear','../../utils/embeds','GOLD','isPublicBastion','getString','deleteMany','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','constructor','errors','join','exec','Constants','pattern','author','PLATINUM','client','GREEN','triggers\x20--delete\x20PATTERN','TRIGGERS','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','BASTION_ERROR_TYPE','create','RED','test','MANAGE_GUILD','parseEmoji','reaction','locale','triggersAdd','Response\x20Message','IRIS','document','default','stringify','find','triggers\x20--clear','info','guild','value','../../utils/omnic','Response\x20Reaction','responseReaction','LIMITS','length','user','triggersClear','PremiumTier','map','responseMessage','push','Command','tag','@bastion/tesseract','triggers','delete','membershipLimitTriggers','LIMITED_PREMIUM_MEMBERSHIP','channel'];(function(_0x5a8258,_0x523910){const _0x55a2f2=function(_0x42c552){while(--_0x42c552){_0x5a8258['push'](_0x5a8258['shift']());}},_0x4fe6ab=function(){const _0x482d64={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4ba621,_0x295ea9,_0x1c5a74,_0x2dd2b6){_0x2dd2b6=_0x2dd2b6||{};let _0x385a15=_0x295ea9+'='+_0x1c5a74,_0x2b19ff=0x0;for(let _0x3dc18b=0x0,_0x39ccf7=_0x4ba621['length'];_0x3dc18b<_0x39ccf7;_0x3dc18b++){const _0x198007=_0x4ba621[_0x3dc18b];_0x385a15+=';\x20'+_0x198007;const _0x1dd78b=_0x4ba621[_0x198007];_0x4ba621['push'](_0x1dd78b),_0x39ccf7=_0x4ba621['length'],_0x1dd78b!==!![]&&(_0x385a15+='='+_0x1dd78b);}_0x2dd2b6['cookie']=_0x385a15;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4b83af,_0x9bb9c6){_0x4b83af=_0x4b83af||function(_0x19414f){return _0x19414f;};const _0x2ac689=_0x4b83af(new RegExp('(?:^|;\x20)'+_0x9bb9c6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2b2f26=function(_0x91caed,_0x37e291){_0x91caed(++_0x37e291);};return _0x2b2f26(_0x55a2f2,_0x523910),_0x2ac689?decodeURIComponent(_0x2ac689[0x1]):undefined;}},_0x4b5500=function(){const _0x125fdf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x125fdf['test'](_0x482d64['removeCookie']['toString']());};_0x482d64['updateCookie']=_0x4b5500;let _0x1e918d='';const _0x21d501=_0x482d64['updateCookie']();if(!_0x21d501)_0x482d64['setCookie'](['*'],'counter',0x1);else _0x21d501?_0x1e918d=_0x482d64['getCookie'](null,'counter'):_0x482d64['removeCookie']();};_0x4fe6ab();}(a40_0x55a2,0x7e));const a40_0x4fe6=function(_0x5a8258,_0x523910){_0x5a8258=_0x5a8258-0x138;let _0x55a2f2=a40_0x55a2[_0x5a8258];return _0x55a2f2;};const a40_0x36e65c=a40_0x4fe6,a40_0x4b5500=function(){let _0x21d501=!![];return function(_0x4ba621,_0x295ea9){const _0x1c5a74=_0x21d501?function(){if(_0x295ea9){const _0x2dd2b6=_0x295ea9['apply'](_0x4ba621,arguments);return _0x295ea9=null,_0x2dd2b6;}}:function(){};return _0x21d501=![],_0x1c5a74;};}(),a40_0x482d64=a40_0x4b5500(this,function(){const _0x385a15=function(){const _0xdbbb63=a40_0x4fe6,_0x2b19ff=_0x385a15[_0xdbbb63(0x162)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0xdbbb63(0x162)](_0xdbbb63(0x160));return!_0x2b19ff[_0xdbbb63(0x172)](a40_0x482d64);};return _0x385a15();});a40_0x482d64();'use strict';const tesseract_1=require(a40_0x36e65c(0x146)),Trigger_1=require(a40_0x36e65c(0x157)),constants=require('../../utils/constants'),embeds=require(a40_0x36e65c(0x15b)),emojis=require('../../utils/emojis'),errors=require('../../utils/errors'),omnic=require(a40_0x36e65c(0x139));module['exports']=class MessageFilterCommand extends tesseract_1[a40_0x36e65c(0x144)]{constructor(){const _0x27f707=a40_0x36e65c;super(_0x27f707(0x147),{'description':'It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[_0x27f707(0x15a)],'array':[_0x27f707(0x148),'pattern'],'string':[_0x27f707(0x148),_0x27f707(0x167),_0x27f707(0x175)]},'scope':_0x27f707(0x180),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x27f707(0x173)],'syntax':[_0x27f707(0x147),_0x27f707(0x161),_0x27f707(0x16e),_0x27f707(0x16c),_0x27f707(0x17e)]}),this[_0x27f707(0x165)]=async(_0x3dc18b,_0x39ccf7)=>{const _0x38181f=_0x27f707;if(_0x39ccf7[_0x38181f(0x15a)])return await Trigger_1[_0x38181f(0x17b)][_0x38181f(0x15f)]({'guild':_0x3dc18b[_0x38181f(0x180)]['id']}),await _0x3dc18b[_0x38181f(0x14b)][_0x38181f(0x151)]({'embed':{'color':tesseract_1[_0x38181f(0x166)][_0x38181f(0x14d)][_0x38181f(0x171)],'description':this[_0x38181f(0x16a)]['locale']['getString'](_0x3dc18b[_0x38181f(0x180)]['document'][_0x38181f(0x155)],'info',_0x38181f(0x13f),_0x3dc18b[_0x38181f(0x168)]['tag'])}})[_0x38181f(0x152)](()=>{});if(_0x39ccf7['delete']&&_0x39ccf7[_0x38181f(0x148)][_0x38181f(0x13d)]){const _0x1dd78b=_0x39ccf7['delete'][_0x38181f(0x164)]('\x20');return await Trigger_1[_0x38181f(0x17b)][_0x38181f(0x15f)]({'guild':_0x3dc18b['guild']['id'],'trigger':_0x1dd78b}),await _0x3dc18b[_0x38181f(0x14b)][_0x38181f(0x151)]({'embed':{'color':tesseract_1[_0x38181f(0x166)][_0x38181f(0x14d)][_0x38181f(0x171)],'description':this[_0x38181f(0x16a)][_0x38181f(0x176)][_0x38181f(0x15e)](_0x3dc18b[_0x38181f(0x180)][_0x38181f(0x17a)][_0x38181f(0x155)],'info','triggersRemove',_0x3dc18b[_0x38181f(0x168)][_0x38181f(0x145)],_0x1dd78b)}})[_0x38181f(0x152)](()=>{});}if(_0x39ccf7['pattern']&&_0x39ccf7['pattern'][_0x38181f(0x13d)]&&(_0x39ccf7['_'][_0x38181f(0x13d)]||_0x39ccf7[_0x38181f(0x175)])){if(constants[_0x38181f(0x15d)](this['client'][_0x38181f(0x13e)])){const _0x19414f=await Trigger_1[_0x38181f(0x17b)][_0x38181f(0x156)]({'guild':_0x3dc18b[_0x38181f(0x180)]['id']});if(_0x19414f>=constants[_0x38181f(0x13c)][_0x38181f(0x16d)]){const _0x91caed=await omnic['fetchPremiumTier'](_0x3dc18b[_0x38181f(0x180)])[_0x38181f(0x152)](()=>{});if(_0x91caed){if(_0x91caed===omnic[_0x38181f(0x140)][_0x38181f(0x15c)]&&_0x19414f>=constants['LIMITS'][_0x38181f(0x15c)]['TRIGGERS'])throw new errors[(_0x38181f(0x14f))](errors[_0x38181f(0x16f)][_0x38181f(0x14a)],this[_0x38181f(0x16a)][_0x38181f(0x176)][_0x38181f(0x15e)](_0x3dc18b[_0x38181f(0x180)][_0x38181f(0x17a)][_0x38181f(0x155)],'errors','membershipLimitTriggers',constants['LIMITS']['GOLD'][_0x38181f(0x16d)]));else{if(_0x91caed===omnic[_0x38181f(0x140)]['PLATINUM']&&_0x19414f>=constants[_0x38181f(0x13c)][_0x38181f(0x169)][_0x38181f(0x16d)])throw new errors[(_0x38181f(0x14f))](errors[_0x38181f(0x16f)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x38181f(0x16a)][_0x38181f(0x176)][_0x38181f(0x15e)](_0x3dc18b[_0x38181f(0x180)][_0x38181f(0x17a)][_0x38181f(0x155)],_0x38181f(0x163),_0x38181f(0x149),constants['LIMITS'][_0x38181f(0x169)][_0x38181f(0x16d)]));}}else throw new errors[(_0x38181f(0x14f))](errors[_0x38181f(0x16f)][_0x38181f(0x14c)],this[_0x38181f(0x16a)][_0x38181f(0x176)]['getString'](_0x3dc18b[_0x38181f(0x180)]['document']['language'],'errors',_0x38181f(0x158),constants[_0x38181f(0x13c)][_0x38181f(0x16d)]));}}const _0x4b83af=_0x39ccf7[_0x38181f(0x167)]['join']('\x20'),_0x9bb9c6=[{'name':_0x38181f(0x14e),'value':_0x4b83af,'inline':!![]}];let _0x2ac689;_0x39ccf7['_'][_0x38181f(0x13d)]&&(_0x2ac689=embeds['generateBastionEmbed'](_0x39ccf7['_'][_0x38181f(0x164)]('\x20')),_0x9bb9c6[_0x38181f(0x143)]({'name':_0x38181f(0x178),'value':'```json\x0a'+JSON[_0x38181f(0x17c)](_0x2ac689)+_0x38181f(0x150)}));let _0x2b2f26;if(_0x39ccf7[_0x38181f(0x175)]){const _0x37e291=emojis[_0x38181f(0x174)](_0x39ccf7[_0x38181f(0x175)]);_0x37e291&&(_0x2b2f26=_0x37e291[_0x38181f(0x138)],_0x9bb9c6[_0x38181f(0x143)]({'name':_0x38181f(0x13a),'value':_0x39ccf7['reaction']}));}return await Trigger_1[_0x38181f(0x17b)][_0x38181f(0x170)]({'guild':_0x3dc18b[_0x38181f(0x180)]['id'],'trigger':_0x4b83af,'responseMessage':_0x2ac689,'responseReaction':_0x2b2f26}),await _0x3dc18b['channel'][_0x38181f(0x151)]({'embed':{'color':tesseract_1[_0x38181f(0x166)][_0x38181f(0x14d)][_0x38181f(0x16b)],'description':this[_0x38181f(0x16a)][_0x38181f(0x176)][_0x38181f(0x15e)](_0x3dc18b[_0x38181f(0x180)][_0x38181f(0x17a)][_0x38181f(0x155)],'info',_0x38181f(0x177),_0x3dc18b[_0x38181f(0x168)]['tag']),'fields':_0x9bb9c6}})[_0x38181f(0x152)](()=>{});}const _0x198007=await Trigger_1[_0x38181f(0x17b)][_0x38181f(0x17d)]({'guild':_0x3dc18b['guild']['id']});return await _0x3dc18b['channel'][_0x38181f(0x151)]({'embed':{'color':tesseract_1['Constants'][_0x38181f(0x14d)][_0x38181f(0x179)],'description':this[_0x38181f(0x16a)][_0x38181f(0x176)]['getString'](_0x3dc18b[_0x38181f(0x180)][_0x38181f(0x17a)][_0x38181f(0x155)],_0x38181f(0x17f),'triggersList'),'fields':_0x198007[_0x38181f(0x141)](_0x125fdf=>({'name':_0x125fdf[_0x38181f(0x153)],'value':(_0x125fdf[_0x38181f(0x142)]?_0x38181f(0x159):'')+'\x0a'+(_0x125fdf[_0x38181f(0x13b)]?_0x38181f(0x154):'')}))}})[_0x38181f(0x152)](()=>{});};}};