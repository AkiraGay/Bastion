const a39_0x4785=['TRIGGERS','triggersList','stringify','PremiumTier','default','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','tag','IRIS','guild','errors','DiscordError','membershipLimitTriggers','apply','return\x20/\x22\x20+\x20this\x20+\x20\x22/','triggers','create','author','LIMITS','join','exec','triggersRemove','Constants','clear','responseMessage','COLORS','RED','Command','triggers\x20--clear','../../utils/constants','push','test','GOLD','```json\x0a','PREMIUM_MEMBERSHIP_REQUIRED','../../utils/emojis','find','language','../../utils/omnic','user','pattern','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','constructor','deleteMany','Response\x20Message','client','triggersClear','PLATINUM','triggersAdd','delete','../../models/Trigger','catch','Response\x20Reaction','LIMITED_PREMIUM_MEMBERSHIP','channel','document','exports','generateBastionEmbed','../../utils/errors','info','Message\x20Response','locale','value','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','getString','BASTION_ERROR_TYPE','countDocuments','length','trigger','fetchPremiumTier','send','map','Trigger','MANAGE_GUILD','```','Reaction\x20Response','reaction','GREEN'];(function(_0x25db11,_0x478579){const _0x7046ff=function(_0xc99c7c){while(--_0xc99c7c){_0x25db11['push'](_0x25db11['shift']());}},_0x56d964=function(){const _0x33e241={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x23b1c1,_0x5c16d3,_0x548c21,_0x21482b){_0x21482b=_0x21482b||{};let _0x1b45ec=_0x5c16d3+'='+_0x548c21,_0x10d4b9=0x0;for(let _0x512cac=0x0,_0x1fe80b=_0x23b1c1['length'];_0x512cac<_0x1fe80b;_0x512cac++){const _0x2721e9=_0x23b1c1[_0x512cac];_0x1b45ec+=';\x20'+_0x2721e9;const _0x11c5e8=_0x23b1c1[_0x2721e9];_0x23b1c1['push'](_0x11c5e8),_0x1fe80b=_0x23b1c1['length'],_0x11c5e8!==!![]&&(_0x1b45ec+='='+_0x11c5e8);}_0x21482b['cookie']=_0x1b45ec;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3ba159,_0x4cb1c3){_0x3ba159=_0x3ba159||function(_0x4e0d86){return _0x4e0d86;};const _0x5ffd4e=_0x3ba159(new RegExp('(?:^|;\x20)'+_0x4cb1c3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4fe7d7=function(_0x5e21d6,_0x24a781){_0x5e21d6(++_0x24a781);};return _0x4fe7d7(_0x7046ff,_0x478579),_0x5ffd4e?decodeURIComponent(_0x5ffd4e[0x1]):undefined;}},_0x5b662d=function(){const _0x39429e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x39429e['test'](_0x33e241['removeCookie']['toString']());};_0x33e241['updateCookie']=_0x5b662d;let _0x5b2d57='';const _0x470f24=_0x33e241['updateCookie']();if(!_0x470f24)_0x33e241['setCookie'](['*'],'counter',0x1);else _0x470f24?_0x5b2d57=_0x33e241['getCookie'](null,'counter'):_0x33e241['removeCookie']();};_0x56d964();}(a39_0x4785,0x16a));const a39_0x7046=function(_0x25db11,_0x478579){_0x25db11=_0x25db11-0x0;let _0x7046ff=a39_0x4785[_0x25db11];return _0x7046ff;};const _0x1cb8f9=a39_0x7046,a39_0x33e241=function(){let _0x5b2d57=!![];return function(_0x470f24,_0x23b1c1){const _0x5c16d3=_0x5b2d57?function(){const _0x52b2d8=a39_0x7046;if(_0x23b1c1){const _0x548c21=_0x23b1c1[_0x52b2d8('0x23')](_0x470f24,arguments);return _0x23b1c1=null,_0x548c21;}}:function(){};return _0x5b2d57=![],_0x5c16d3;};}(),a39_0xc99c7c=a39_0x33e241(this,function(){const _0x21482b=function(){const _0x7f4cbe=a39_0x7046,_0x1b45ec=_0x21482b[_0x7f4cbe('0x40')](_0x7f4cbe('0x24'))()[_0x7f4cbe('0x40')](_0x7f4cbe('0x1c'));return!_0x1b45ec[_0x7f4cbe('0x35')](a39_0xc99c7c);};return _0x21482b();});a39_0xc99c7c();'use strict';const tesseract_1=require('@bastion/tesseract'),Trigger_1=require(_0x1cb8f9('0x48')),constants=require(_0x1cb8f9('0x33')),embeds=require('../../utils/embeds'),emojis=require(_0x1cb8f9('0x39')),errors=require(_0x1cb8f9('0x3')),omnic=require(_0x1cb8f9('0x3c'));module[_0x1cb8f9('0x1')]=class MessageFilterCommand extends tesseract_1[_0x1cb8f9('0x31')]{constructor(){const _0x28b843=_0x1cb8f9;super(_0x28b843('0x25'),{'description':_0x28b843('0x8'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[_0x28b843('0x2d')],'array':[_0x28b843('0x47'),_0x28b843('0x3e')],'string':['delete',_0x28b843('0x3e'),_0x28b843('0x15')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x28b843('0x12')],'syntax':[_0x28b843('0x25'),_0x28b843('0x3f'),'triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','triggers\x20--delete\x20PATTERN',_0x28b843('0x32')]}),this[_0x28b843('0x2a')]=async(_0x10d4b9,_0x512cac)=>{const _0x114fa1=_0x28b843;if(_0x512cac['clear'])return await Trigger_1[_0x114fa1('0x1b')][_0x114fa1('0x41')]({'guild':_0x10d4b9['guild']['id']}),await _0x10d4b9[_0x114fa1('0x4c')]['send']({'embed':{'color':tesseract_1[_0x114fa1('0x2c')][_0x114fa1('0x2f')]['RED'],'description':this[_0x114fa1('0x43')][_0x114fa1('0x6')][_0x114fa1('0x9')](_0x10d4b9[_0x114fa1('0x1f')][_0x114fa1('0x0')][_0x114fa1('0x3b')],_0x114fa1('0x4'),_0x114fa1('0x44'),_0x10d4b9[_0x114fa1('0x27')]['tag'])}})['catch'](()=>{});if(_0x512cac[_0x114fa1('0x47')]&&_0x512cac['delete'][_0x114fa1('0xc')]){const _0x2721e9=_0x512cac[_0x114fa1('0x47')][_0x114fa1('0x29')]('\x20');return await Trigger_1[_0x114fa1('0x1b')][_0x114fa1('0x41')]({'guild':_0x10d4b9[_0x114fa1('0x1f')]['id'],'trigger':_0x2721e9}),await _0x10d4b9['channel'][_0x114fa1('0xf')]({'embed':{'color':tesseract_1[_0x114fa1('0x2c')][_0x114fa1('0x2f')][_0x114fa1('0x30')],'description':this['client'][_0x114fa1('0x6')][_0x114fa1('0x9')](_0x10d4b9[_0x114fa1('0x1f')][_0x114fa1('0x0')]['language'],_0x114fa1('0x4'),_0x114fa1('0x2b'),_0x10d4b9[_0x114fa1('0x27')][_0x114fa1('0x1d')],_0x2721e9)}})[_0x114fa1('0x49')](()=>{});}if(_0x512cac[_0x114fa1('0x3e')]&&_0x512cac[_0x114fa1('0x3e')][_0x114fa1('0xc')]&&(_0x512cac['_']['length']||_0x512cac[_0x114fa1('0x15')])){if(constants['isPublicBastion'](this[_0x114fa1('0x43')][_0x114fa1('0x3d')])){const _0x4fe7d7=await Trigger_1[_0x114fa1('0x1b')][_0x114fa1('0xb')]({'guild':_0x10d4b9[_0x114fa1('0x1f')]['id']});if(_0x4fe7d7>=constants[_0x114fa1('0x28')]['TRIGGERS']){const _0x4e0d86=await omnic[_0x114fa1('0xe')](_0x10d4b9[_0x114fa1('0x1f')])[_0x114fa1('0x49')](()=>{});if(_0x4e0d86){if(_0x4e0d86===omnic[_0x114fa1('0x1a')][_0x114fa1('0x36')]&&_0x4fe7d7>=constants[_0x114fa1('0x28')][_0x114fa1('0x36')][_0x114fa1('0x17')])throw new errors['DiscordError'](errors[_0x114fa1('0xa')][_0x114fa1('0x4b')],this[_0x114fa1('0x43')][_0x114fa1('0x6')][_0x114fa1('0x9')](_0x10d4b9['guild'][_0x114fa1('0x0')][_0x114fa1('0x3b')],_0x114fa1('0x20'),'membershipLimitTriggers',constants['LIMITS'][_0x114fa1('0x36')][_0x114fa1('0x17')]));else{if(_0x4e0d86===omnic[_0x114fa1('0x1a')][_0x114fa1('0x45')]&&_0x4fe7d7>=constants[_0x114fa1('0x28')][_0x114fa1('0x45')][_0x114fa1('0x17')])throw new errors[(_0x114fa1('0x21'))](errors[_0x114fa1('0xa')]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x114fa1('0x43')][_0x114fa1('0x6')][_0x114fa1('0x9')](_0x10d4b9[_0x114fa1('0x1f')][_0x114fa1('0x0')][_0x114fa1('0x3b')],_0x114fa1('0x20'),_0x114fa1('0x22'),constants['LIMITS'][_0x114fa1('0x45')][_0x114fa1('0x17')]));}}else throw new errors[(_0x114fa1('0x21'))](errors['BASTION_ERROR_TYPE'][_0x114fa1('0x38')],this[_0x114fa1('0x43')][_0x114fa1('0x6')][_0x114fa1('0x9')](_0x10d4b9[_0x114fa1('0x1f')][_0x114fa1('0x0')][_0x114fa1('0x3b')],_0x114fa1('0x20'),'premiumTriggers',constants[_0x114fa1('0x28')][_0x114fa1('0x17')]));}}const _0x11c5e8=_0x512cac[_0x114fa1('0x3e')]['join']('\x20'),_0x3ba159=[{'name':_0x114fa1('0x11'),'value':_0x11c5e8,'inline':!![]}];let _0x4cb1c3;_0x512cac['_'][_0x114fa1('0xc')]&&(_0x4cb1c3=embeds[_0x114fa1('0x2')](_0x512cac['_'][_0x114fa1('0x29')]('\x20')),_0x3ba159['push']({'name':_0x114fa1('0x42'),'value':_0x114fa1('0x37')+JSON[_0x114fa1('0x19')](_0x4cb1c3)+_0x114fa1('0x13')}));let _0x5ffd4e;if(_0x512cac['reaction']){const _0x5e21d6=emojis['parseEmoji'](_0x512cac['reaction']);_0x5e21d6&&(_0x5ffd4e=_0x5e21d6[_0x114fa1('0x7')],_0x3ba159[_0x114fa1('0x34')]({'name':_0x114fa1('0x4a'),'value':_0x512cac['reaction']}));}return await Trigger_1[_0x114fa1('0x1b')][_0x114fa1('0x26')]({'guild':_0x10d4b9[_0x114fa1('0x1f')]['id'],'trigger':_0x11c5e8,'responseMessage':_0x4cb1c3,'responseReaction':_0x5ffd4e}),await _0x10d4b9[_0x114fa1('0x4c')][_0x114fa1('0xf')]({'embed':{'color':tesseract_1[_0x114fa1('0x2c')][_0x114fa1('0x2f')][_0x114fa1('0x16')],'description':this[_0x114fa1('0x43')][_0x114fa1('0x6')][_0x114fa1('0x9')](_0x10d4b9['guild'][_0x114fa1('0x0')][_0x114fa1('0x3b')],_0x114fa1('0x4'),_0x114fa1('0x46'),_0x10d4b9['author'][_0x114fa1('0x1d')]),'fields':_0x3ba159}})[_0x114fa1('0x49')](()=>{});}const _0x1fe80b=await Trigger_1[_0x114fa1('0x1b')][_0x114fa1('0x3a')]({'guild':_0x10d4b9[_0x114fa1('0x1f')]['id']});return await _0x10d4b9['channel'][_0x114fa1('0xf')]({'embed':{'color':tesseract_1[_0x114fa1('0x2c')]['COLORS'][_0x114fa1('0x1e')],'description':this['client']['locale'][_0x114fa1('0x9')](_0x10d4b9[_0x114fa1('0x1f')][_0x114fa1('0x0')][_0x114fa1('0x3b')],_0x114fa1('0x4'),_0x114fa1('0x18')),'fields':_0x1fe80b[_0x114fa1('0x10')](_0x24a781=>({'name':_0x24a781[_0x114fa1('0xd')],'value':(_0x24a781[_0x114fa1('0x2e')]?_0x114fa1('0x5'):'')+'\x0a'+(_0x24a781['responseReaction']?_0x114fa1('0x14'):'')}))}})[_0x114fa1('0x49')](()=>{});};}};