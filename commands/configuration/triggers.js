const a40_0x5b89=['deleteMany','constructor','../../models/Trigger','stringify','length','LIMITED_PREMIUM_MEMBERSHIP','client','tag','fetchPremiumTier','default','DiscordError','Response\x20Message','push','Command','```','test','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','responseMessage','author','create','triggersList','channel','Reaction\x20Response','Constants','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','../../utils/emojis','```json\x0a','guild','PLATINUM','triggersRemove','Message\x20Response','GREEN','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','reaction','COLORS','responseReaction','delete','isPublicBastion','pattern','triggers\x20--delete\x20PATTERN','trigger','Response\x20Reaction','locale','user','catch','RED','PremiumTier','IRIS','BASTION_ERROR_TYPE','GOLD','info','getString','language','send','errors','join','exports','parseEmoji','premiumTriggers','membershipLimitTriggers','LIMITS','value','document','triggers','return\x20/\x22\x20+\x20this\x20+\x20\x22/','generateBastionEmbed','MANAGE_GUILD','TRIGGERS','../../utils/constants'];(function(_0x272067,_0x183fc1){const _0x5b892f=function(_0x296282){while(--_0x296282){_0x272067['push'](_0x272067['shift']());}},_0x9331e6=function(){const _0x4afb86={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x29ef42,_0x59e8fc,_0x5af2f6,_0x2a3149){_0x2a3149=_0x2a3149||{};let _0x3d2ef0=_0x59e8fc+'='+_0x5af2f6,_0x32a4af=0x0;for(let _0x1cf278=0x0,_0x1bbfcf=_0x29ef42['length'];_0x1cf278<_0x1bbfcf;_0x1cf278++){const _0x4fc964=_0x29ef42[_0x1cf278];_0x3d2ef0+=';\x20'+_0x4fc964;const _0x5964c0=_0x29ef42[_0x4fc964];_0x29ef42['push'](_0x5964c0),_0x1bbfcf=_0x29ef42['length'],_0x5964c0!==!![]&&(_0x3d2ef0+='='+_0x5964c0);}_0x2a3149['cookie']=_0x3d2ef0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3ee912,_0x3cda75){_0x3ee912=_0x3ee912||function(_0x3ef351){return _0x3ef351;};const _0xb22e9c=_0x3ee912(new RegExp('(?:^|;\x20)'+_0x3cda75['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x392df6=function(_0x1655ae,_0x34517e){_0x1655ae(++_0x34517e);};return _0x392df6(_0x5b892f,_0x183fc1),_0xb22e9c?decodeURIComponent(_0xb22e9c[0x1]):undefined;}},_0x285c5f=function(){const _0x59c1b4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x59c1b4['test'](_0x4afb86['removeCookie']['toString']());};_0x4afb86['updateCookie']=_0x285c5f;let _0x28d383='';const _0x5aebc5=_0x4afb86['updateCookie']();if(!_0x5aebc5)_0x4afb86['setCookie'](['*'],'counter',0x1);else _0x5aebc5?_0x28d383=_0x4afb86['getCookie'](null,'counter'):_0x4afb86['removeCookie']();};_0x9331e6();}(a40_0x5b89,0x1d4));const a40_0x9331=function(_0x272067,_0x183fc1){_0x272067=_0x272067-0x1e7;let _0x5b892f=a40_0x5b89[_0x272067];return _0x5b892f;};const _0x2f76c9=a40_0x9331,a40_0x285c5f=function(){let _0x5aebc5=!![];return function(_0x29ef42,_0x59e8fc){const _0x5af2f6=_0x5aebc5?function(){if(_0x59e8fc){const _0x2a3149=_0x59e8fc['apply'](_0x29ef42,arguments);return _0x59e8fc=null,_0x2a3149;}}:function(){};return _0x5aebc5=![],_0x5af2f6;};}(),a40_0x4afb86=a40_0x285c5f(this,function(){const _0x3d2ef0=function(){const _0x5df857=a40_0x9331,_0x32a4af=_0x3d2ef0['constructor'](_0x5df857(0x1f1))()[_0x5df857(0x1f7)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x32a4af[_0x5df857(0x205)](a40_0x4afb86);};return _0x3d2ef0();});a40_0x4afb86();'use strict';const tesseract_1=require('@bastion/tesseract'),Trigger_1=require(_0x2f76c9(0x1f8)),constants=require(_0x2f76c9(0x1f5)),embeds=require('../../utils/embeds'),emojis=require(_0x2f76c9(0x20f)),errors=require('../../utils/errors'),omnic=require('../../utils/omnic');module[_0x2f76c9(0x1e9)]=class MessageFilterCommand extends tesseract_1[_0x2f76c9(0x203)]{constructor(){const _0x3ef425=_0x2f76c9;super(_0x3ef425(0x1f0),{'description':_0x3ef425(0x206),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':['clear'],'array':['delete',_0x3ef425(0x21c)],'string':[_0x3ef425(0x21a),_0x3ef425(0x21c),_0x3ef425(0x217)]},'scope':_0x3ef425(0x211),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x3ef425(0x1f3)],'syntax':[_0x3ef425(0x1f0),_0x3ef425(0x216),_0x3ef425(0x20e),_0x3ef425(0x21d),'triggers\x20--clear']}),this['exec']=async(_0x1cf278,_0x1bbfcf)=>{const _0x2c7304=_0x3ef425;if(_0x1bbfcf['clear'])return await Trigger_1[_0x2c7304(0x1ff)][_0x2c7304(0x1f6)]({'guild':_0x1cf278['guild']['id']}),await _0x1cf278[_0x2c7304(0x20b)][_0x2c7304(0x22b)]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x2c7304(0x223)],'description':this[_0x2c7304(0x1fc)][_0x2c7304(0x220)]['getString'](_0x1cf278[_0x2c7304(0x211)]['document']['language'],_0x2c7304(0x228),'triggersClear',_0x1cf278['author']['tag'])}})[_0x2c7304(0x222)](()=>{});if(_0x1bbfcf[_0x2c7304(0x21a)]&&_0x1bbfcf['delete'][_0x2c7304(0x1fa)]){const _0x5964c0=_0x1bbfcf[_0x2c7304(0x21a)][_0x2c7304(0x1e8)]('\x20');return await Trigger_1['default'][_0x2c7304(0x1f6)]({'guild':_0x1cf278[_0x2c7304(0x211)]['id'],'trigger':_0x5964c0}),await _0x1cf278[_0x2c7304(0x20b)]['send']({'embed':{'color':tesseract_1[_0x2c7304(0x20d)]['COLORS']['RED'],'description':this[_0x2c7304(0x1fc)][_0x2c7304(0x220)][_0x2c7304(0x229)](_0x1cf278[_0x2c7304(0x211)][_0x2c7304(0x1ef)][_0x2c7304(0x22a)],'info',_0x2c7304(0x213),_0x1cf278[_0x2c7304(0x208)][_0x2c7304(0x1fd)],_0x5964c0)}})[_0x2c7304(0x222)](()=>{});}if(_0x1bbfcf[_0x2c7304(0x21c)]&&_0x1bbfcf[_0x2c7304(0x21c)][_0x2c7304(0x1fa)]&&(_0x1bbfcf['_'][_0x2c7304(0x1fa)]||_0x1bbfcf[_0x2c7304(0x217)])){if(constants[_0x2c7304(0x21b)](this[_0x2c7304(0x1fc)][_0x2c7304(0x221)])){const _0x3ef351=await Trigger_1[_0x2c7304(0x1ff)]['countDocuments']({'guild':_0x1cf278[_0x2c7304(0x211)]['id']});if(_0x3ef351>=constants[_0x2c7304(0x1ed)][_0x2c7304(0x1f4)]){const _0x1655ae=await omnic[_0x2c7304(0x1fe)](_0x1cf278[_0x2c7304(0x211)])[_0x2c7304(0x222)](()=>{});if(_0x1655ae){if(_0x1655ae===omnic[_0x2c7304(0x224)]['GOLD']&&_0x3ef351>=constants['LIMITS']['GOLD'][_0x2c7304(0x1f4)])throw new errors[(_0x2c7304(0x200))](errors[_0x2c7304(0x226)][_0x2c7304(0x1fb)],this[_0x2c7304(0x1fc)][_0x2c7304(0x220)][_0x2c7304(0x229)](_0x1cf278[_0x2c7304(0x211)][_0x2c7304(0x1ef)][_0x2c7304(0x22a)],_0x2c7304(0x1e7),'membershipLimitTriggers',constants[_0x2c7304(0x1ed)][_0x2c7304(0x227)]['TRIGGERS']));else{if(_0x1655ae===omnic[_0x2c7304(0x224)]['PLATINUM']&&_0x3ef351>=constants['LIMITS'][_0x2c7304(0x212)]['TRIGGERS'])throw new errors[(_0x2c7304(0x200))](errors[_0x2c7304(0x226)][_0x2c7304(0x1fb)],this['client'][_0x2c7304(0x220)][_0x2c7304(0x229)](_0x1cf278[_0x2c7304(0x211)]['document'][_0x2c7304(0x22a)],_0x2c7304(0x1e7),_0x2c7304(0x1ec),constants[_0x2c7304(0x1ed)][_0x2c7304(0x212)][_0x2c7304(0x1f4)]));}}else throw new errors[(_0x2c7304(0x200))](errors[_0x2c7304(0x226)]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x2c7304(0x1fc)]['locale']['getString'](_0x1cf278[_0x2c7304(0x211)][_0x2c7304(0x1ef)][_0x2c7304(0x22a)],_0x2c7304(0x1e7),_0x2c7304(0x1eb),constants[_0x2c7304(0x1ed)][_0x2c7304(0x1f4)]));}}const _0x3ee912=_0x1bbfcf[_0x2c7304(0x21c)][_0x2c7304(0x1e8)]('\x20'),_0x3cda75=[{'name':'Trigger','value':_0x3ee912,'inline':!![]}];let _0xb22e9c;_0x1bbfcf['_']['length']&&(_0xb22e9c=embeds[_0x2c7304(0x1f2)](_0x1bbfcf['_'][_0x2c7304(0x1e8)]('\x20')),_0x3cda75['push']({'name':_0x2c7304(0x201),'value':_0x2c7304(0x210)+JSON[_0x2c7304(0x1f9)](_0xb22e9c)+_0x2c7304(0x204)}));let _0x392df6;if(_0x1bbfcf[_0x2c7304(0x217)]){const _0x34517e=emojis[_0x2c7304(0x1ea)](_0x1bbfcf[_0x2c7304(0x217)]);_0x34517e&&(_0x392df6=_0x34517e[_0x2c7304(0x1ee)],_0x3cda75[_0x2c7304(0x202)]({'name':_0x2c7304(0x21f),'value':_0x1bbfcf['reaction']}));}return await Trigger_1['default'][_0x2c7304(0x209)]({'guild':_0x1cf278[_0x2c7304(0x211)]['id'],'trigger':_0x3ee912,'responseMessage':_0xb22e9c,'responseReaction':_0x392df6}),await _0x1cf278[_0x2c7304(0x20b)][_0x2c7304(0x22b)]({'embed':{'color':tesseract_1[_0x2c7304(0x20d)][_0x2c7304(0x218)][_0x2c7304(0x215)],'description':this['client'][_0x2c7304(0x220)][_0x2c7304(0x229)](_0x1cf278['guild'][_0x2c7304(0x1ef)]['language'],_0x2c7304(0x228),'triggersAdd',_0x1cf278[_0x2c7304(0x208)]['tag']),'fields':_0x3cda75}})['catch'](()=>{});}const _0x4fc964=await Trigger_1[_0x2c7304(0x1ff)]['find']({'guild':_0x1cf278[_0x2c7304(0x211)]['id']});return await _0x1cf278['channel']['send']({'embed':{'color':tesseract_1[_0x2c7304(0x20d)][_0x2c7304(0x218)][_0x2c7304(0x225)],'description':this[_0x2c7304(0x1fc)][_0x2c7304(0x220)][_0x2c7304(0x229)](_0x1cf278[_0x2c7304(0x211)][_0x2c7304(0x1ef)]['language'],_0x2c7304(0x228),_0x2c7304(0x20a)),'fields':_0x4fc964['map'](_0x59c1b4=>({'name':_0x59c1b4[_0x2c7304(0x21e)],'value':(_0x59c1b4[_0x2c7304(0x207)]?_0x2c7304(0x214):'')+'\x0a'+(_0x59c1b4[_0x2c7304(0x219)]?_0x2c7304(0x20c):'')}))}})[_0x2c7304(0x222)](()=>{});};}};