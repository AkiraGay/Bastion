const a38_0x1bb3=['isPublicBastion','join','trigger','exports','COLORS','```json\x0a','@bastion/tesseract','triggers\x20--clear','Trigger','length','fetchPremiumTier','IRIS','Command','countDocuments','Response\x20Reaction','create','```','push','LIMITS','value','delete','triggersClear','triggersRemove','channel','membershipLimitTriggers','document','Response\x20Message','GOLD','return\x20/\x22\x20+\x20this\x20+\x20\x22/','premiumTriggers','../../utils/embeds','compile','../../utils/errors','../../utils/emojis','BASTION_ERROR_TYPE','default','exec','find','PLATINUM','user','test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','tag','reaction','client','generateBastionEmbed','language','clear','send','triggersList','TRIGGERS','guild','catch','Constants','deleteMany','locale','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','getString','../../models/Trigger','../../utils/constants','PremiumTier','author','responseReaction','triggers','MANAGE_GUILD','errors','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','triggersAdd','info','pattern','DiscordError','responseMessage','../../utils/omnic','Message\x20Response'];(function(_0x2b93ad,_0x1bb39a){const _0xd623fd=function(_0x404485){while(--_0x404485){_0x2b93ad['push'](_0x2b93ad['shift']());}};const _0x142f2e=function(){const _0x199179={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1a98d3,_0x2f3bec,_0x1b13a4,_0x4315bd){_0x4315bd=_0x4315bd||{};let _0x6f3f83=_0x2f3bec+'='+_0x1b13a4;let _0x2c709a=0x0;for(let _0x3f32b6=0x0,_0x1b4614=_0x1a98d3['length'];_0x3f32b6<_0x1b4614;_0x3f32b6++){const _0x265835=_0x1a98d3[_0x3f32b6];_0x6f3f83+=';\x20'+_0x265835;const _0xb67894=_0x1a98d3[_0x265835];_0x1a98d3['push'](_0xb67894);_0x1b4614=_0x1a98d3['length'];if(_0xb67894!==!![]){_0x6f3f83+='='+_0xb67894;}}_0x4315bd['cookie']=_0x6f3f83;},'removeCookie':function(){return'dev';},'getCookie':function(_0x14a61e,_0x39e28c){_0x14a61e=_0x14a61e||function(_0x598aab){return _0x598aab;};const _0x2250fb=_0x14a61e(new RegExp('(?:^|;\x20)'+_0x39e28c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x395eff=function(_0x441dc2,_0x9e2666){_0x441dc2(++_0x9e2666);};_0x395eff(_0xd623fd,_0x1bb39a);return _0x2250fb?decodeURIComponent(_0x2250fb[0x1]):undefined;}};const _0x3cfa65=function(){const _0x2e098e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2e098e['test'](_0x199179['removeCookie']['toString']());};_0x199179['updateCookie']=_0x3cfa65;let _0x5104a8='';const _0x57a64f=_0x199179['updateCookie']();if(!_0x57a64f){_0x199179['setCookie'](['*'],'counter',0x1);}else if(_0x57a64f){_0x5104a8=_0x199179['getCookie'](null,'counter');}else{_0x199179['removeCookie']();}};_0x142f2e();}(a38_0x1bb3,0x11b));const a38_0xd623=function(_0x2b93ad,_0x1bb39a){_0x2b93ad=_0x2b93ad-0x0;let _0xd623fd=a38_0x1bb3[_0x2b93ad];return _0xd623fd;};const a38_0x199179=function(){let _0x377cd3=!![];return function(_0x3262af,_0x6201f3){const _0x15aa89=_0x377cd3?function(){if(_0x6201f3){const _0x5e0b01=_0x6201f3['apply'](_0x3262af,arguments);_0x6201f3=null;return _0x5e0b01;}}:function(){};_0x377cd3=![];return _0x15aa89;};}();const a38_0x404485=a38_0x199179(this,function(){const _0x2d6d33=function(){const _0x288cf8=_0x2d6d33['constructor'](a38_0xd623('0x29'))()[a38_0xd623('0x2c')](a38_0xd623('0x36'));return!_0x288cf8[a38_0xd623('0x35')](a38_0x404485);};return _0x2d6d33();});a38_0x404485();'use strict';const tesseract_1=require(a38_0xd623('0x13'));const Trigger_1=require(a38_0xd623('0x47'));const constants=require(a38_0xd623('0x48'));const embeds=require(a38_0xd623('0x2b'));const emojis=require(a38_0xd623('0x2e'));const errors=require(a38_0xd623('0x2d'));const omnic=require(a38_0xd623('0xb'));module[a38_0xd623('0x10')]=class MessageFilterCommand extends tesseract_1[a38_0xd623('0x19')]{constructor(){super(a38_0xd623('0x2'),{'description':'It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a38_0xd623('0x3c')],'array':[a38_0xd623('0x21'),a38_0xd623('0x8')],'string':[a38_0xd623('0x21'),'pattern',a38_0xd623('0x38')]},'scope':a38_0xd623('0x40'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0xd623('0x3')],'syntax':[a38_0xd623('0x2'),a38_0xd623('0x45'),a38_0xd623('0x5'),'triggers\x20--delete\x20PATTERN',a38_0xd623('0x14')]});this[a38_0xd623('0x31')]=async(_0x43bb1a,_0x31beb1)=>{if(_0x31beb1[a38_0xd623('0x3c')]){await Trigger_1['default'][a38_0xd623('0x43')]({'guild':_0x43bb1a[a38_0xd623('0x40')]['id']});return await _0x43bb1a['channel'][a38_0xd623('0x3d')]({'embed':{'color':tesseract_1[a38_0xd623('0x42')][a38_0xd623('0x11')]['RED'],'description':this[a38_0xd623('0x39')][a38_0xd623('0x44')]['getString'](_0x43bb1a[a38_0xd623('0x40')][a38_0xd623('0x26')][a38_0xd623('0x3b')],a38_0xd623('0x7'),a38_0xd623('0x22'),_0x43bb1a[a38_0xd623('0x0')]['tag'])}})['catch'](()=>{});}if(_0x31beb1[a38_0xd623('0x21')]&&_0x31beb1['delete']['length']){const _0x1b5fbb=_0x31beb1[a38_0xd623('0x21')]['join']('\x20');await Trigger_1[a38_0xd623('0x30')][a38_0xd623('0x43')]({'guild':_0x43bb1a[a38_0xd623('0x40')]['id'],'trigger':_0x1b5fbb});return await _0x43bb1a[a38_0xd623('0x24')]['send']({'embed':{'color':tesseract_1[a38_0xd623('0x42')]['COLORS']['RED'],'description':this[a38_0xd623('0x39')][a38_0xd623('0x44')]['getString'](_0x43bb1a[a38_0xd623('0x40')][a38_0xd623('0x26')][a38_0xd623('0x3b')],a38_0xd623('0x7'),a38_0xd623('0x23'),_0x43bb1a[a38_0xd623('0x0')][a38_0xd623('0x37')],_0x1b5fbb)}})[a38_0xd623('0x41')](()=>{});}if(_0x31beb1[a38_0xd623('0x8')]&&_0x31beb1[a38_0xd623('0x8')][a38_0xd623('0x16')]&&(_0x31beb1['_'][a38_0xd623('0x16')]||_0x31beb1[a38_0xd623('0x38')])){if(constants[a38_0xd623('0xd')](this[a38_0xd623('0x39')][a38_0xd623('0x34')])){const _0x54b9c5=await Trigger_1[a38_0xd623('0x30')][a38_0xd623('0x1a')]({'guild':_0x43bb1a['guild']['id']});if(_0x54b9c5>=constants[a38_0xd623('0x1f')][a38_0xd623('0x3f')]){const _0x4df7af=await omnic[a38_0xd623('0x17')](_0x43bb1a[a38_0xd623('0x40')])[a38_0xd623('0x41')](()=>{});if(_0x4df7af){if(_0x4df7af===omnic[a38_0xd623('0x49')]['GOLD']&&_0x54b9c5>=constants[a38_0xd623('0x1f')][a38_0xd623('0x28')][a38_0xd623('0x3f')]){throw new errors[(a38_0xd623('0x9'))](errors[a38_0xd623('0x2f')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a38_0xd623('0x39')][a38_0xd623('0x44')][a38_0xd623('0x46')](_0x43bb1a[a38_0xd623('0x40')][a38_0xd623('0x26')][a38_0xd623('0x3b')],'errors',a38_0xd623('0x25'),constants[a38_0xd623('0x1f')][a38_0xd623('0x28')][a38_0xd623('0x3f')]));}else if(_0x4df7af===omnic['PremiumTier'][a38_0xd623('0x33')]&&_0x54b9c5>=constants[a38_0xd623('0x1f')]['PLATINUM'][a38_0xd623('0x3f')]){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a38_0xd623('0x44')]['getString'](_0x43bb1a['guild']['document'][a38_0xd623('0x3b')],a38_0xd623('0x4'),a38_0xd623('0x25'),constants[a38_0xd623('0x1f')][a38_0xd623('0x33')][a38_0xd623('0x3f')]));}}else{throw new errors['DiscordError'](errors[a38_0xd623('0x2f')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a38_0xd623('0x39')]['locale'][a38_0xd623('0x46')](_0x43bb1a[a38_0xd623('0x40')][a38_0xd623('0x26')][a38_0xd623('0x3b')],a38_0xd623('0x4'),a38_0xd623('0x2a'),constants['LIMITS'][a38_0xd623('0x3f')]));}}}const _0xbd5058=_0x31beb1[a38_0xd623('0x8')]['join']('\x20');const _0x48f5cb=[{'name':a38_0xd623('0x15'),'value':_0xbd5058,'inline':!![]}];let _0x4be263;if(_0x31beb1['_'][a38_0xd623('0x16')]){_0x4be263=embeds[a38_0xd623('0x3a')](_0x31beb1['_'][a38_0xd623('0xe')]('\x20'));_0x48f5cb['push']({'name':a38_0xd623('0x27'),'value':a38_0xd623('0x12')+JSON['stringify'](_0x4be263)+a38_0xd623('0x1d')});}let _0x54c3bf;if(_0x31beb1[a38_0xd623('0x38')]){const _0x375997=emojis['parseEmoji'](_0x31beb1['reaction']);if(_0x375997){_0x54c3bf=_0x375997[a38_0xd623('0x20')];_0x48f5cb[a38_0xd623('0x1e')]({'name':a38_0xd623('0x1b'),'value':_0x31beb1[a38_0xd623('0x38')]});}}await Trigger_1[a38_0xd623('0x30')][a38_0xd623('0x1c')]({'guild':_0x43bb1a['guild']['id'],'trigger':_0xbd5058,'responseMessage':_0x4be263,'responseReaction':_0x54c3bf});return await _0x43bb1a[a38_0xd623('0x24')]['send']({'embed':{'color':tesseract_1[a38_0xd623('0x42')][a38_0xd623('0x11')]['GREEN'],'description':this[a38_0xd623('0x39')][a38_0xd623('0x44')][a38_0xd623('0x46')](_0x43bb1a[a38_0xd623('0x40')][a38_0xd623('0x26')]['language'],a38_0xd623('0x7'),a38_0xd623('0x6'),_0x43bb1a['author']['tag']),'fields':_0x48f5cb}})[a38_0xd623('0x41')](()=>{});}const _0x2f3c6c=await Trigger_1[a38_0xd623('0x30')][a38_0xd623('0x32')]({'guild':_0x43bb1a[a38_0xd623('0x40')]['id']});return await _0x43bb1a[a38_0xd623('0x24')][a38_0xd623('0x3d')]({'embed':{'color':tesseract_1[a38_0xd623('0x42')]['COLORS'][a38_0xd623('0x18')],'description':this[a38_0xd623('0x39')]['locale'][a38_0xd623('0x46')](_0x43bb1a[a38_0xd623('0x40')][a38_0xd623('0x26')]['language'],'info',a38_0xd623('0x3e')),'fields':_0x2f3c6c['map'](_0x236940=>({'name':_0x236940[a38_0xd623('0xf')],'value':(_0x236940[a38_0xd623('0xa')]?a38_0xd623('0xc'):'')+'\x0a'+(_0x236940[a38_0xd623('0x1')]?'Reaction\x20Response':'')}))}})[a38_0xd623('0x41')](()=>{});};}};