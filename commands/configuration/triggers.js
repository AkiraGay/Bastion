const a478_0xd603=['../../utils/embeds','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','triggers\x20--clear','../../models/Trigger','TRIGGERS','send','tag','PremiumTier','LIMITED_PREMIUM_MEMBERSHIP','PREMIUM_MEMBERSHIP_REQUIRED','GOLD','language','```json\x0a','value','GREEN','@bastion/tesseract','errors','parseEmoji','author','constructor','find','stringify','../../utils/omnic','length','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','triggersAdd','triggersList','premiumTriggers','../../utils/constants','channel','BASTION_ERROR_TYPE','test','guild','LIMITS','compile','return\x20/\x22\x20+\x20this\x20+\x20\x22/','join','trigger','push','triggersClear','map','delete','clear','default','locale','RED','triggers','COLORS','reaction','../../utils/emojis','Trigger','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Response\x20Message','Response\x20Reaction','Constants','exec','document','getString','countDocuments','isPublicBastion','DiscordError','```','deleteMany','generateBastionEmbed','info','membershipLimitTriggers','responseReaction','Message\x20Response','client','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','Command','fetchPremiumTier','triggers\x20--delete\x20PATTERN','responseMessage','user','pattern','catch','PLATINUM','apply','exports'];(function(_0x987ce0,_0xd60358){const _0x57e186=function(_0x19ead1){while(--_0x19ead1){_0x987ce0['push'](_0x987ce0['shift']());}};const _0x3abc3a=function(){const _0x31d474={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x128e7,_0x1a4c73,_0x342634,_0x2dcc73){_0x2dcc73=_0x2dcc73||{};let _0x2726ac=_0x1a4c73+'='+_0x342634;let _0x2cbf88=0x0;for(let _0xf6d223=0x0,_0x2ef574=_0x128e7['length'];_0xf6d223<_0x2ef574;_0xf6d223++){const _0x7b5f08=_0x128e7[_0xf6d223];_0x2726ac+=';\x20'+_0x7b5f08;const _0x51e696=_0x128e7[_0x7b5f08];_0x128e7['push'](_0x51e696);_0x2ef574=_0x128e7['length'];if(_0x51e696!==!![]){_0x2726ac+='='+_0x51e696;}}_0x2dcc73['cookie']=_0x2726ac;},'removeCookie':function(){return'dev';},'getCookie':function(_0xfa9c46,_0x3b4b49){_0xfa9c46=_0xfa9c46||function(_0x1bddcc){return _0x1bddcc;};const _0x18d95b=_0xfa9c46(new RegExp('(?:^|;\x20)'+_0x3b4b49['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4071b4=function(_0x2efd53,_0x55ac18){_0x2efd53(++_0x55ac18);};_0x4071b4(_0x57e186,_0xd60358);return _0x18d95b?decodeURIComponent(_0x18d95b[0x1]):undefined;}};const _0xaec9c3=function(){const _0x43e870=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x43e870['test'](_0x31d474['removeCookie']['toString']());};_0x31d474['updateCookie']=_0xaec9c3;let _0x96e758='';const _0x3fb917=_0x31d474['updateCookie']();if(!_0x3fb917){_0x31d474['setCookie'](['*'],'counter',0x1);}else if(_0x3fb917){_0x96e758=_0x31d474['getCookie'](null,'counter');}else{_0x31d474['removeCookie']();}};_0x3abc3a();}(a478_0xd603,0x8c));const a478_0x57e1=function(_0x987ce0,_0xd60358){_0x987ce0=_0x987ce0-0x0;let _0x57e186=a478_0xd603[_0x987ce0];return _0x57e186;};const a478_0x31d474=function(){let _0x3588a4=!![];return function(_0x124d71,_0x224645){const _0x16a9e0=_0x3588a4?function(){if(_0x224645){const _0x38cd9e=_0x224645[a478_0x57e1('0x12')](_0x124d71,arguments);_0x224645=null;return _0x38cd9e;}}:function(){};_0x3588a4=![];return _0x16a9e0;};}();const a478_0x19ead1=a478_0x31d474(this,function(){const _0xdeae44=function(){const _0x432e86=_0xdeae44[a478_0x57e1('0x27')](a478_0x57e1('0x37'))()[a478_0x57e1('0x36')](a478_0x57e1('0x47'));return!_0x432e86[a478_0x57e1('0x33')](a478_0x19ead1);};return _0xdeae44();});a478_0x19ead1();'use strict';const tesseract_1=require(a478_0x57e1('0x23'));const Trigger_1=require(a478_0x57e1('0x17'));const constants=require(a478_0x57e1('0x30'));const embeds=require(a478_0x57e1('0x14'));const emojis=require(a478_0x57e1('0x45'));const errors=require('../../utils/errors');const omnic=require(a478_0x57e1('0x2a'));module[a478_0x57e1('0x13')]=class MessageFilterCommand extends tesseract_1[a478_0x57e1('0xa')]{constructor(){super(a478_0x57e1('0x42'),{'description':a478_0x57e1('0x2c'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a478_0x57e1('0x3e')],'array':['delete',a478_0x57e1('0xf')],'string':[a478_0x57e1('0x3d'),a478_0x57e1('0xf'),a478_0x57e1('0x44')]},'scope':a478_0x57e1('0x34'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[a478_0x57e1('0x42'),a478_0x57e1('0x9'),a478_0x57e1('0x15'),a478_0x57e1('0xc'),a478_0x57e1('0x16')]});this[a478_0x57e1('0x4b')]=async(_0x4c5857,_0x2da5d9)=>{if(_0x2da5d9[a478_0x57e1('0x3e')]){await Trigger_1['default'][a478_0x57e1('0x2')]({'guild':_0x4c5857[a478_0x57e1('0x34')]['id']});return await _0x4c5857[a478_0x57e1('0x31')]['send']({'embed':{'color':tesseract_1[a478_0x57e1('0x4a')]['COLORS'][a478_0x57e1('0x41')],'description':this[a478_0x57e1('0x8')][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857[a478_0x57e1('0x34')]['document']['language'],'info',a478_0x57e1('0x3b'),_0x4c5857[a478_0x57e1('0x26')][a478_0x57e1('0x1a')])}})['catch'](()=>{});}if(_0x2da5d9['delete']&&_0x2da5d9['delete'][a478_0x57e1('0x2b')]){const _0x1d9114=_0x2da5d9[a478_0x57e1('0x3d')]['join']('\x20');await Trigger_1['default'][a478_0x57e1('0x2')]({'guild':_0x4c5857['guild']['id'],'trigger':_0x1d9114});return await _0x4c5857['channel'][a478_0x57e1('0x19')]({'embed':{'color':tesseract_1[a478_0x57e1('0x4a')][a478_0x57e1('0x43')][a478_0x57e1('0x41')],'description':this['client'][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857[a478_0x57e1('0x34')]['document'][a478_0x57e1('0x1f')],a478_0x57e1('0x4'),'triggersRemove',_0x4c5857['author'][a478_0x57e1('0x1a')],_0x1d9114)}})['catch'](()=>{});}if(_0x2da5d9['pattern']&&_0x2da5d9[a478_0x57e1('0xf')][a478_0x57e1('0x2b')]&&(_0x2da5d9['_'][a478_0x57e1('0x2b')]||_0x2da5d9[a478_0x57e1('0x44')])){if(constants[a478_0x57e1('0x4f')](this[a478_0x57e1('0x8')][a478_0x57e1('0xe')])){const _0xf9348a=await Trigger_1['default'][a478_0x57e1('0x4e')]({'guild':_0x4c5857[a478_0x57e1('0x34')]['id']});if(_0xf9348a>=constants[a478_0x57e1('0x35')][a478_0x57e1('0x18')]){const _0x1177c9=await omnic[a478_0x57e1('0xb')](_0x4c5857[a478_0x57e1('0x34')])['catch'](()=>{});if(_0x1177c9){if(_0x1177c9===omnic[a478_0x57e1('0x1b')][a478_0x57e1('0x1e')]&&_0xf9348a>=constants[a478_0x57e1('0x35')][a478_0x57e1('0x1e')][a478_0x57e1('0x18')]){throw new errors[(a478_0x57e1('0x0'))](errors[a478_0x57e1('0x32')][a478_0x57e1('0x1c')],this[a478_0x57e1('0x8')][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857[a478_0x57e1('0x34')]['document'][a478_0x57e1('0x1f')],'errors',a478_0x57e1('0x5'),constants[a478_0x57e1('0x35')]['GOLD'][a478_0x57e1('0x18')]));}else if(_0x1177c9===omnic['PremiumTier'][a478_0x57e1('0x11')]&&_0xf9348a>=constants[a478_0x57e1('0x35')]['PLATINUM']['TRIGGERS']){throw new errors[(a478_0x57e1('0x0'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857['guild'][a478_0x57e1('0x4c')][a478_0x57e1('0x1f')],a478_0x57e1('0x24'),a478_0x57e1('0x5'),constants[a478_0x57e1('0x35')][a478_0x57e1('0x11')][a478_0x57e1('0x18')]));}}else{throw new errors[(a478_0x57e1('0x0'))](errors['BASTION_ERROR_TYPE'][a478_0x57e1('0x1d')],this[a478_0x57e1('0x8')][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857['guild']['document'][a478_0x57e1('0x1f')],a478_0x57e1('0x24'),a478_0x57e1('0x2f'),constants[a478_0x57e1('0x35')][a478_0x57e1('0x18')]));}}}const _0x412809=_0x2da5d9[a478_0x57e1('0xf')]['join']('\x20');const _0x1ec5fe=[{'name':a478_0x57e1('0x46'),'value':_0x412809,'inline':!![]}];let _0x1eab05;if(_0x2da5d9['_'][a478_0x57e1('0x2b')]){_0x1eab05=embeds[a478_0x57e1('0x3')](_0x2da5d9['_'][a478_0x57e1('0x38')]('\x20'));_0x1ec5fe['push']({'name':a478_0x57e1('0x48'),'value':a478_0x57e1('0x20')+JSON[a478_0x57e1('0x29')](_0x1eab05)+a478_0x57e1('0x1')});}let _0x306f87;if(_0x2da5d9[a478_0x57e1('0x44')]){const _0x4358ac=emojis[a478_0x57e1('0x25')](_0x2da5d9[a478_0x57e1('0x44')]);if(_0x4358ac){_0x306f87=_0x4358ac[a478_0x57e1('0x21')];_0x1ec5fe[a478_0x57e1('0x3a')]({'name':a478_0x57e1('0x49'),'value':_0x2da5d9[a478_0x57e1('0x44')]});}}await Trigger_1[a478_0x57e1('0x3f')]['create']({'guild':_0x4c5857[a478_0x57e1('0x34')]['id'],'trigger':_0x412809,'responseMessage':_0x1eab05,'responseReaction':_0x306f87});return await _0x4c5857[a478_0x57e1('0x31')][a478_0x57e1('0x19')]({'embed':{'color':tesseract_1[a478_0x57e1('0x4a')]['COLORS'][a478_0x57e1('0x22')],'description':this['client'][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857[a478_0x57e1('0x34')]['document'][a478_0x57e1('0x1f')],'info',a478_0x57e1('0x2d'),_0x4c5857[a478_0x57e1('0x26')][a478_0x57e1('0x1a')]),'fields':_0x1ec5fe}})['catch'](()=>{});}const _0x1b5a67=await Trigger_1[a478_0x57e1('0x3f')][a478_0x57e1('0x28')]({'guild':_0x4c5857['guild']['id']});return await _0x4c5857['channel'][a478_0x57e1('0x19')]({'embed':{'color':tesseract_1[a478_0x57e1('0x4a')]['COLORS']['IRIS'],'description':this['client'][a478_0x57e1('0x40')][a478_0x57e1('0x4d')](_0x4c5857['guild'][a478_0x57e1('0x4c')][a478_0x57e1('0x1f')],'info',a478_0x57e1('0x2e')),'fields':_0x1b5a67[a478_0x57e1('0x3c')](_0x41b046=>({'name':_0x41b046[a478_0x57e1('0x39')],'value':(_0x41b046[a478_0x57e1('0xd')]?a478_0x57e1('0x7'):'')+'\x0a'+(_0x41b046[a478_0x57e1('0x6')]?'Reaction\x20Response':'')}))}})[a478_0x57e1('0x10')](()=>{});};}};