const a39_0x37f7=['LIMITS','responseMessage','info','fetchPremiumTier','triggers','apply','```json\x0a','triggers\x20--delete\x20PATTERN','trigger','MANAGE_GUILD','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','COLORS','RED','stringify','delete','../../utils/constants','exports','triggersAdd','GOLD','exec','Trigger','TRIGGERS','test','PLATINUM','```','join','reaction','find','Message\x20Response','getString','author','countDocuments','deleteMany','errors','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','language','membershipLimitTriggers','../../utils/emojis','triggersList','create','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Command','generateBastionEmbed','IRIS','isPublicBastion','guild','client','pattern','default','Constants','triggers\x20--clear','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','GREEN','PREMIUM_MEMBERSHIP_REQUIRED','catch','user','PremiumTier','length','../../models/Trigger','responseReaction','Reaction\x20Response','channel','LIMITED_PREMIUM_MEMBERSHIP','document','constructor','BASTION_ERROR_TYPE','send','tag','Response\x20Reaction','locale','push'];(function(_0xa95a26,_0x37f7f9){const _0x2f0531=function(_0x36e361){while(--_0x36e361){_0xa95a26['push'](_0xa95a26['shift']());}},_0x5219de=function(){const _0xcce1e5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x248541,_0x175378,_0x5dfb53,_0x2a4452){_0x2a4452=_0x2a4452||{};let _0x2f347b=_0x175378+'='+_0x5dfb53,_0x4c1f90=0x0;for(let _0x3b76ba=0x0,_0x44b748=_0x248541['length'];_0x3b76ba<_0x44b748;_0x3b76ba++){const _0x1a4143=_0x248541[_0x3b76ba];_0x2f347b+=';\x20'+_0x1a4143;const _0x47ca5b=_0x248541[_0x1a4143];_0x248541['push'](_0x47ca5b),_0x44b748=_0x248541['length'],_0x47ca5b!==!![]&&(_0x2f347b+='='+_0x47ca5b);}_0x2a4452['cookie']=_0x2f347b;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd7fd2,_0x1941bc){_0xd7fd2=_0xd7fd2||function(_0x137998){return _0x137998;};const _0x9264ab=_0xd7fd2(new RegExp('(?:^|;\x20)'+_0x1941bc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3c4c03=function(_0x5a866e,_0x53ab01){_0x5a866e(++_0x53ab01);};return _0x3c4c03(_0x2f0531,_0x37f7f9),_0x9264ab?decodeURIComponent(_0x9264ab[0x1]):undefined;}},_0x4bdcc1=function(){const _0x1fab5c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1fab5c['test'](_0xcce1e5['removeCookie']['toString']());};_0xcce1e5['updateCookie']=_0x4bdcc1;let _0x201dcd='';const _0xc09374=_0xcce1e5['updateCookie']();if(!_0xc09374)_0xcce1e5['setCookie'](['*'],'counter',0x1);else _0xc09374?_0x201dcd=_0xcce1e5['getCookie'](null,'counter'):_0xcce1e5['removeCookie']();};_0x5219de();}(a39_0x37f7,0x13b));const a39_0x2f05=function(_0xa95a26,_0x37f7f9){_0xa95a26=_0xa95a26-0x0;let _0x2f0531=a39_0x37f7[_0xa95a26];return _0x2f0531;};const _0x59ff57=a39_0x2f05,a39_0xcce1e5=function(){let _0x201dcd=!![];return function(_0xc09374,_0x248541){const _0x175378=_0x201dcd?function(){const _0x3e4b4e=a39_0x2f05;if(_0x248541){const _0x5dfb53=_0x248541[_0x3e4b4e('0x2d')](_0xc09374,arguments);return _0x248541=null,_0x5dfb53;}}:function(){};return _0x201dcd=![],_0x175378;};}(),a39_0x36e361=a39_0xcce1e5(this,function(){const _0x2a4452=function(){const _0x27e3bc=a39_0x2f05,_0x2f347b=_0x2a4452[_0x27e3bc('0x21')](_0x27e3bc('0x9'))()[_0x27e3bc('0x21')](_0x27e3bc('0x3'));return!_0x2f347b[_0x27e3bc('0x3e')](a39_0x36e361);};return _0x2a4452();});a39_0x36e361();'use strict';const tesseract_1=require('@bastion/tesseract'),Trigger_1=require(_0x59ff57('0x1b')),constants=require(_0x59ff57('0x37')),embeds=require('../../utils/embeds'),emojis=require(_0x59ff57('0x6')),errors=require('../../utils/errors'),omnic=require('../../utils/omnic');module[_0x59ff57('0x38')]=class MessageFilterCommand extends tesseract_1[_0x59ff57('0xa')]{constructor(){const _0x4ce01f=_0x59ff57;super('triggers',{'description':_0x4ce01f('0x14'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':['clear'],'array':[_0x4ce01f('0x36'),_0x4ce01f('0x10')],'string':[_0x4ce01f('0x36'),'pattern','reaction']},'scope':_0x4ce01f('0xe'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x4ce01f('0x31')],'syntax':[_0x4ce01f('0x2c'),_0x4ce01f('0x32'),'triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI',_0x4ce01f('0x2f'),_0x4ce01f('0x13')]}),this[_0x4ce01f('0x3b')]=async(_0x4c1f90,_0x3b76ba)=>{const _0x10fbbd=_0x4ce01f;if(_0x3b76ba['clear'])return await Trigger_1[_0x10fbbd('0x11')][_0x10fbbd('0x1')]({'guild':_0x4c1f90[_0x10fbbd('0xe')]['id']}),await _0x4c1f90['channel'][_0x10fbbd('0x23')]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x10fbbd('0x34')],'description':this[_0x10fbbd('0xf')][_0x10fbbd('0x26')]['getString'](_0x4c1f90[_0x10fbbd('0xe')][_0x10fbbd('0x20')][_0x10fbbd('0x4')],_0x10fbbd('0x2a'),'triggersClear',_0x4c1f90[_0x10fbbd('0x46')][_0x10fbbd('0x24')])}})[_0x10fbbd('0x17')](()=>{});if(_0x3b76ba[_0x10fbbd('0x36')]&&_0x3b76ba[_0x10fbbd('0x36')][_0x10fbbd('0x1a')]){const _0x1a4143=_0x3b76ba[_0x10fbbd('0x36')][_0x10fbbd('0x41')]('\x20');return await Trigger_1['default'][_0x10fbbd('0x1')]({'guild':_0x4c1f90['guild']['id'],'trigger':_0x1a4143}),await _0x4c1f90['channel']['send']({'embed':{'color':tesseract_1['Constants'][_0x10fbbd('0x33')][_0x10fbbd('0x34')],'description':this['client'][_0x10fbbd('0x26')][_0x10fbbd('0x45')](_0x4c1f90[_0x10fbbd('0xe')][_0x10fbbd('0x20')][_0x10fbbd('0x4')],_0x10fbbd('0x2a'),'triggersRemove',_0x4c1f90[_0x10fbbd('0x46')][_0x10fbbd('0x24')],_0x1a4143)}})[_0x10fbbd('0x17')](()=>{});}if(_0x3b76ba[_0x10fbbd('0x10')]&&_0x3b76ba[_0x10fbbd('0x10')][_0x10fbbd('0x1a')]&&(_0x3b76ba['_'][_0x10fbbd('0x1a')]||_0x3b76ba[_0x10fbbd('0x42')])){if(constants[_0x10fbbd('0xd')](this['client'][_0x10fbbd('0x18')])){const _0x3c4c03=await Trigger_1[_0x10fbbd('0x11')][_0x10fbbd('0x0')]({'guild':_0x4c1f90[_0x10fbbd('0xe')]['id']});if(_0x3c4c03>=constants['LIMITS'][_0x10fbbd('0x3d')]){const _0x137998=await omnic[_0x10fbbd('0x2b')](_0x4c1f90[_0x10fbbd('0xe')])[_0x10fbbd('0x17')](()=>{});if(_0x137998){if(_0x137998===omnic[_0x10fbbd('0x19')][_0x10fbbd('0x3a')]&&_0x3c4c03>=constants['LIMITS'][_0x10fbbd('0x3a')][_0x10fbbd('0x3d')])throw new errors['DiscordError'](errors[_0x10fbbd('0x22')][_0x10fbbd('0x1f')],this[_0x10fbbd('0xf')][_0x10fbbd('0x26')][_0x10fbbd('0x45')](_0x4c1f90[_0x10fbbd('0xe')]['document'][_0x10fbbd('0x4')],_0x10fbbd('0x2'),_0x10fbbd('0x5'),constants['LIMITS'][_0x10fbbd('0x3a')][_0x10fbbd('0x3d')]));else{if(_0x137998===omnic[_0x10fbbd('0x19')]['PLATINUM']&&_0x3c4c03>=constants['LIMITS'][_0x10fbbd('0x3f')][_0x10fbbd('0x3d')])throw new errors['DiscordError'](errors[_0x10fbbd('0x22')][_0x10fbbd('0x1f')],this[_0x10fbbd('0xf')][_0x10fbbd('0x26')][_0x10fbbd('0x45')](_0x4c1f90[_0x10fbbd('0xe')][_0x10fbbd('0x20')]['language'],_0x10fbbd('0x2'),'membershipLimitTriggers',constants[_0x10fbbd('0x28')][_0x10fbbd('0x3f')]['TRIGGERS']));}}else throw new errors['DiscordError'](errors[_0x10fbbd('0x22')][_0x10fbbd('0x16')],this[_0x10fbbd('0xf')][_0x10fbbd('0x26')]['getString'](_0x4c1f90[_0x10fbbd('0xe')][_0x10fbbd('0x20')][_0x10fbbd('0x4')],'errors','premiumTriggers',constants[_0x10fbbd('0x28')]['TRIGGERS']));}}const _0x47ca5b=_0x3b76ba[_0x10fbbd('0x10')][_0x10fbbd('0x41')]('\x20'),_0xd7fd2=[{'name':_0x10fbbd('0x3c'),'value':_0x47ca5b,'inline':!![]}];let _0x1941bc;_0x3b76ba['_']['length']&&(_0x1941bc=embeds[_0x10fbbd('0xb')](_0x3b76ba['_'][_0x10fbbd('0x41')]('\x20')),_0xd7fd2['push']({'name':'Response\x20Message','value':_0x10fbbd('0x2e')+JSON[_0x10fbbd('0x35')](_0x1941bc)+_0x10fbbd('0x40')}));let _0x9264ab;if(_0x3b76ba[_0x10fbbd('0x42')]){const _0x5a866e=emojis['parseEmoji'](_0x3b76ba[_0x10fbbd('0x42')]);_0x5a866e&&(_0x9264ab=_0x5a866e['value'],_0xd7fd2[_0x10fbbd('0x27')]({'name':_0x10fbbd('0x25'),'value':_0x3b76ba[_0x10fbbd('0x42')]}));}return await Trigger_1[_0x10fbbd('0x11')][_0x10fbbd('0x8')]({'guild':_0x4c1f90[_0x10fbbd('0xe')]['id'],'trigger':_0x47ca5b,'responseMessage':_0x1941bc,'responseReaction':_0x9264ab}),await _0x4c1f90[_0x10fbbd('0x1e')][_0x10fbbd('0x23')]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x10fbbd('0x15')],'description':this[_0x10fbbd('0xf')][_0x10fbbd('0x26')][_0x10fbbd('0x45')](_0x4c1f90[_0x10fbbd('0xe')]['document'][_0x10fbbd('0x4')],_0x10fbbd('0x2a'),_0x10fbbd('0x39'),_0x4c1f90[_0x10fbbd('0x46')][_0x10fbbd('0x24')]),'fields':_0xd7fd2}})['catch'](()=>{});}const _0x44b748=await Trigger_1['default'][_0x10fbbd('0x43')]({'guild':_0x4c1f90[_0x10fbbd('0xe')]['id']});return await _0x4c1f90[_0x10fbbd('0x1e')][_0x10fbbd('0x23')]({'embed':{'color':tesseract_1[_0x10fbbd('0x12')][_0x10fbbd('0x33')][_0x10fbbd('0xc')],'description':this[_0x10fbbd('0xf')][_0x10fbbd('0x26')]['getString'](_0x4c1f90[_0x10fbbd('0xe')][_0x10fbbd('0x20')][_0x10fbbd('0x4')],_0x10fbbd('0x2a'),_0x10fbbd('0x7')),'fields':_0x44b748['map'](_0x53ab01=>({'name':_0x53ab01[_0x10fbbd('0x30')],'value':(_0x53ab01[_0x10fbbd('0x29')]?_0x10fbbd('0x44'):'')+'\x0a'+(_0x53ab01[_0x10fbbd('0x1c')]?_0x10fbbd('0x1d'):'')}))}})[_0x10fbbd('0x17')](()=>{});};}};