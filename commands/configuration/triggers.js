const a38_0x3429=['COLORS','info','Constants','constructor','join','membershipLimitTriggers','GOLD','channel','IRIS','responseReaction','Response\x20Message','language','../../utils/constants','GREEN','MANAGE_GUILD','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','clear','create','guild','DiscordError','```json\x0a','triggersList','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../models/Trigger','PremiumTier','triggersAdd','map','countDocuments','Trigger','delete','author','pattern','length','Message\x20Response','document','default','PREMIUM_MEMBERSHIP_REQUIRED','Response\x20Reaction','triggers','user','catch','../../utils/emojis','client','LIMITS','Command','isPublicBastion','triggers\x20--delete\x20PATTERN','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','deleteMany','TRIGGERS','tag','stringify','reaction','PLATINUM','../../utils/errors','generateBastionEmbed','value','locale','LIMITED_PREMIUM_MEMBERSHIP','@bastion/tesseract','errors','push','find','BASTION_ERROR_TYPE','RED','fetchPremiumTier','triggers\x20--clear','send','Reaction\x20Response','getString','responseMessage'];(function(_0xa906a2,_0x3429ea){const _0xc5a40e=function(_0x5693a2){while(--_0x5693a2){_0xa906a2['push'](_0xa906a2['shift']());}};const _0x29879b=function(){const _0x28d648={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1351ce,_0x5cfeb8,_0x226140,_0x5b59c6){_0x5b59c6=_0x5b59c6||{};let _0x16b911=_0x5cfeb8+'='+_0x226140;let _0x21f683=0x0;for(let _0x1daacd=0x0,_0x5021bc=_0x1351ce['length'];_0x1daacd<_0x5021bc;_0x1daacd++){const _0x1bb136=_0x1351ce[_0x1daacd];_0x16b911+=';\x20'+_0x1bb136;const _0x1c9d71=_0x1351ce[_0x1bb136];_0x1351ce['push'](_0x1c9d71);_0x5021bc=_0x1351ce['length'];if(_0x1c9d71!==!![]){_0x16b911+='='+_0x1c9d71;}}_0x5b59c6['cookie']=_0x16b911;},'removeCookie':function(){return'dev';},'getCookie':function(_0x545ebb,_0x5e14df){_0x545ebb=_0x545ebb||function(_0x218942){return _0x218942;};const _0x219ebd=_0x545ebb(new RegExp('(?:^|;\x20)'+_0x5e14df['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3589c0=function(_0x5cffef,_0x29f183){_0x5cffef(++_0x29f183);};_0x3589c0(_0xc5a40e,_0x3429ea);return _0x219ebd?decodeURIComponent(_0x219ebd[0x1]):undefined;}};const _0x13aa0a=function(){const _0x588a30=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x588a30['test'](_0x28d648['removeCookie']['toString']());};_0x28d648['updateCookie']=_0x13aa0a;let _0x4c2fab='';const _0x40e80a=_0x28d648['updateCookie']();if(!_0x40e80a){_0x28d648['setCookie'](['*'],'counter',0x1);}else if(_0x40e80a){_0x4c2fab=_0x28d648['getCookie'](null,'counter');}else{_0x28d648['removeCookie']();}};_0x29879b();}(a38_0x3429,0x90));const a38_0xc5a4=function(_0xa906a2,_0x3429ea){_0xa906a2=_0xa906a2-0x0;let _0xc5a40e=a38_0x3429[_0xa906a2];return _0xc5a40e;};const a38_0x28d648=function(){let _0x167771=!![];return function(_0x4570b2,_0x2f2ad0){const _0x50af11=_0x167771?function(){if(_0x2f2ad0){const _0x6c5766=_0x2f2ad0['apply'](_0x4570b2,arguments);_0x2f2ad0=null;return _0x6c5766;}}:function(){};_0x167771=![];return _0x50af11;};}();const a38_0x5693a2=a38_0x28d648(this,function(){const _0x223374=function(){const _0x3ba7b1=_0x223374[a38_0xc5a4('0x3')](a38_0xc5a4('0x17'))()['compile'](a38_0xc5a4('0x30'));return!_0x3ba7b1['test'](a38_0x5693a2);};return _0x223374();});a38_0x5693a2();'use strict';const tesseract_1=require(a38_0xc5a4('0x3c'));const Trigger_1=require(a38_0xc5a4('0x18'));const constants=require(a38_0xc5a4('0xc'));const embeds=require('../../utils/embeds');const emojis=require(a38_0xc5a4('0x2a'));const errors=require(a38_0xc5a4('0x37'));const omnic=require('../../utils/omnic');module['exports']=class MessageFilterCommand extends tesseract_1[a38_0xc5a4('0x2d')]{constructor(){super(a38_0xc5a4('0x27'),{'description':a38_0xc5a4('0x16'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':['clear'],'array':[a38_0xc5a4('0x1e'),'pattern'],'string':['delete',a38_0xc5a4('0x20'),'reaction']},'scope':a38_0xc5a4('0x12'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0xc5a4('0xe')],'syntax':[a38_0xc5a4('0x27'),'triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE',a38_0xc5a4('0xf'),a38_0xc5a4('0x2f'),a38_0xc5a4('0x43')]});this['exec']=async(_0x5ae28c,_0x14111c)=>{if(_0x14111c[a38_0xc5a4('0x10')]){await Trigger_1[a38_0xc5a4('0x24')][a38_0xc5a4('0x31')]({'guild':_0x5ae28c['guild']['id']});return await _0x5ae28c[a38_0xc5a4('0x7')][a38_0xc5a4('0x44')]({'embed':{'color':tesseract_1[a38_0xc5a4('0x2')][a38_0xc5a4('0x0')][a38_0xc5a4('0x41')],'description':this['client'][a38_0xc5a4('0x3a')][a38_0xc5a4('0x46')](_0x5ae28c[a38_0xc5a4('0x12')][a38_0xc5a4('0x23')][a38_0xc5a4('0xb')],a38_0xc5a4('0x1'),'triggersClear',_0x5ae28c[a38_0xc5a4('0x1f')][a38_0xc5a4('0x33')])}})[a38_0xc5a4('0x29')](()=>{});}if(_0x14111c[a38_0xc5a4('0x1e')]&&_0x14111c[a38_0xc5a4('0x1e')][a38_0xc5a4('0x21')]){const _0x498349=_0x14111c[a38_0xc5a4('0x1e')][a38_0xc5a4('0x4')]('\x20');await Trigger_1[a38_0xc5a4('0x24')][a38_0xc5a4('0x31')]({'guild':_0x5ae28c[a38_0xc5a4('0x12')]['id'],'trigger':_0x498349});return await _0x5ae28c[a38_0xc5a4('0x7')][a38_0xc5a4('0x44')]({'embed':{'color':tesseract_1['Constants'][a38_0xc5a4('0x0')]['RED'],'description':this[a38_0xc5a4('0x2b')]['locale'][a38_0xc5a4('0x46')](_0x5ae28c[a38_0xc5a4('0x12')]['document'][a38_0xc5a4('0xb')],'info','triggersRemove',_0x5ae28c[a38_0xc5a4('0x1f')][a38_0xc5a4('0x33')],_0x498349)}})[a38_0xc5a4('0x29')](()=>{});}if(_0x14111c[a38_0xc5a4('0x20')]&&_0x14111c[a38_0xc5a4('0x20')][a38_0xc5a4('0x21')]&&(_0x14111c['_']['length']||_0x14111c[a38_0xc5a4('0x35')])){if(constants[a38_0xc5a4('0x2e')](this[a38_0xc5a4('0x2b')][a38_0xc5a4('0x28')])){const _0x2f2c6e=await Trigger_1[a38_0xc5a4('0x24')][a38_0xc5a4('0x1c')]({'guild':_0x5ae28c[a38_0xc5a4('0x12')]['id']});if(_0x2f2c6e>=constants[a38_0xc5a4('0x2c')][a38_0xc5a4('0x32')]){const _0x3ddbd3=await omnic[a38_0xc5a4('0x42')](_0x5ae28c[a38_0xc5a4('0x12')])['catch'](()=>{});if(_0x3ddbd3){if(_0x3ddbd3===omnic[a38_0xc5a4('0x19')][a38_0xc5a4('0x6')]&&_0x2f2c6e>=constants['LIMITS'][a38_0xc5a4('0x6')][a38_0xc5a4('0x32')]){throw new errors[(a38_0xc5a4('0x13'))](errors[a38_0xc5a4('0x40')][a38_0xc5a4('0x3b')],this[a38_0xc5a4('0x2b')][a38_0xc5a4('0x3a')][a38_0xc5a4('0x46')](_0x5ae28c[a38_0xc5a4('0x12')][a38_0xc5a4('0x23')]['language'],a38_0xc5a4('0x3d'),a38_0xc5a4('0x5'),constants[a38_0xc5a4('0x2c')]['GOLD'][a38_0xc5a4('0x32')]));}else if(_0x3ddbd3===omnic[a38_0xc5a4('0x19')]['PLATINUM']&&_0x2f2c6e>=constants[a38_0xc5a4('0x2c')][a38_0xc5a4('0x36')][a38_0xc5a4('0x32')]){throw new errors[(a38_0xc5a4('0x13'))](errors[a38_0xc5a4('0x40')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a38_0xc5a4('0x2b')][a38_0xc5a4('0x3a')][a38_0xc5a4('0x46')](_0x5ae28c['guild'][a38_0xc5a4('0x23')][a38_0xc5a4('0xb')],a38_0xc5a4('0x3d'),'membershipLimitTriggers',constants[a38_0xc5a4('0x2c')][a38_0xc5a4('0x36')][a38_0xc5a4('0x32')]));}}else{throw new errors[(a38_0xc5a4('0x13'))](errors[a38_0xc5a4('0x40')][a38_0xc5a4('0x25')],this[a38_0xc5a4('0x2b')][a38_0xc5a4('0x3a')][a38_0xc5a4('0x46')](_0x5ae28c[a38_0xc5a4('0x12')]['document']['language'],'errors','premiumTriggers',constants[a38_0xc5a4('0x2c')]['TRIGGERS']));}}}const _0x3d0aac=_0x14111c[a38_0xc5a4('0x20')][a38_0xc5a4('0x4')]('\x20');const _0x336fd3=[{'name':a38_0xc5a4('0x1d'),'value':_0x3d0aac,'inline':!![]}];let _0x3f2ae5;if(_0x14111c['_'][a38_0xc5a4('0x21')]){_0x3f2ae5=embeds[a38_0xc5a4('0x38')](_0x14111c['_']['join']('\x20'));_0x336fd3[a38_0xc5a4('0x3e')]({'name':a38_0xc5a4('0xa'),'value':a38_0xc5a4('0x14')+JSON[a38_0xc5a4('0x34')](_0x3f2ae5)+'```'});}let _0x45df44;if(_0x14111c[a38_0xc5a4('0x35')]){const _0x495342=emojis['parseEmoji'](_0x14111c[a38_0xc5a4('0x35')]);if(_0x495342){_0x45df44=_0x495342[a38_0xc5a4('0x39')];_0x336fd3[a38_0xc5a4('0x3e')]({'name':a38_0xc5a4('0x26'),'value':_0x14111c[a38_0xc5a4('0x35')]});}}await Trigger_1['default'][a38_0xc5a4('0x11')]({'guild':_0x5ae28c['guild']['id'],'trigger':_0x3d0aac,'responseMessage':_0x3f2ae5,'responseReaction':_0x45df44});return await _0x5ae28c[a38_0xc5a4('0x7')][a38_0xc5a4('0x44')]({'embed':{'color':tesseract_1[a38_0xc5a4('0x2')]['COLORS'][a38_0xc5a4('0xd')],'description':this['client']['locale']['getString'](_0x5ae28c['guild'][a38_0xc5a4('0x23')][a38_0xc5a4('0xb')],a38_0xc5a4('0x1'),a38_0xc5a4('0x1a'),_0x5ae28c[a38_0xc5a4('0x1f')]['tag']),'fields':_0x336fd3}})[a38_0xc5a4('0x29')](()=>{});}const _0x51e087=await Trigger_1[a38_0xc5a4('0x24')][a38_0xc5a4('0x3f')]({'guild':_0x5ae28c[a38_0xc5a4('0x12')]['id']});return await _0x5ae28c['channel'][a38_0xc5a4('0x44')]({'embed':{'color':tesseract_1[a38_0xc5a4('0x2')][a38_0xc5a4('0x0')][a38_0xc5a4('0x8')],'description':this[a38_0xc5a4('0x2b')][a38_0xc5a4('0x3a')][a38_0xc5a4('0x46')](_0x5ae28c['guild'][a38_0xc5a4('0x23')][a38_0xc5a4('0xb')],'info',a38_0xc5a4('0x15')),'fields':_0x51e087[a38_0xc5a4('0x1b')](_0x540ca5=>({'name':_0x540ca5['trigger'],'value':(_0x540ca5[a38_0xc5a4('0x47')]?a38_0xc5a4('0x22'):'')+'\x0a'+(_0x540ca5[a38_0xc5a4('0x9')]?a38_0xc5a4('0x45'):'')}))}})[a38_0xc5a4('0x29')](()=>{});};}};