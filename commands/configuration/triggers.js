const a38_0x8e32=['LIMITS','document','create','../../utils/embeds','info','trigger','deleteMany','join','map','MANAGE_GUILD','IRIS','Trigger','client','channel','DiscordError','triggersRemove','compile','PLATINUM','GREEN','find','stringify','@bastion/tesseract','guild','fetchPremiumTier','generateBastionEmbed','apply','PremiumTier','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','triggers\x20--delete\x20PATTERN','delete','../../models/Trigger','../../utils/constants','COLORS','PREMIUM_MEMBERSHIP_REQUIRED','language','triggersClear','getString','isPublicBastion','clear','test','responseReaction','Command','reaction','send','countDocuments','length','LIMITED_PREMIUM_MEMBERSHIP','triggersAdd','locale','../../utils/omnic','Message\x20Response','author','../../utils/errors','default','errors','triggers','Response\x20Reaction','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','responseMessage','Constants','```json\x0a','BASTION_ERROR_TYPE','GOLD','../../utils/emojis','user','membershipLimitTriggers','triggersList','exports','TRIGGERS','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','catch','tag','exec','push','pattern'];(function(_0x385545,_0x8e324){const _0x4cba7f=function(_0x16fd01){while(--_0x16fd01){_0x385545['push'](_0x385545['shift']());}};const _0x14bb06=function(){const _0x130c70={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4a10f0,_0x2fe111,_0x503ee5,_0x3926e4){_0x3926e4=_0x3926e4||{};let _0x3096b1=_0x2fe111+'='+_0x503ee5;let _0x7e1a40=0x0;for(let _0x387217=0x0,_0x1b46e0=_0x4a10f0['length'];_0x387217<_0x1b46e0;_0x387217++){const _0x3fe614=_0x4a10f0[_0x387217];_0x3096b1+=';\x20'+_0x3fe614;const _0x370132=_0x4a10f0[_0x3fe614];_0x4a10f0['push'](_0x370132);_0x1b46e0=_0x4a10f0['length'];if(_0x370132!==!![]){_0x3096b1+='='+_0x370132;}}_0x3926e4['cookie']=_0x3096b1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3d394d,_0x410398){_0x3d394d=_0x3d394d||function(_0x2e0710){return _0x2e0710;};const _0x37fc0d=_0x3d394d(new RegExp('(?:^|;\x20)'+_0x410398['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4402c8=function(_0x4f8973,_0x4ed824){_0x4f8973(++_0x4ed824);};_0x4402c8(_0x4cba7f,_0x8e324);return _0x37fc0d?decodeURIComponent(_0x37fc0d[0x1]):undefined;}};const _0x8cbca4=function(){const _0x19b306=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x19b306['test'](_0x130c70['removeCookie']['toString']());};_0x130c70['updateCookie']=_0x8cbca4;let _0x247965='';const _0x55e7b9=_0x130c70['updateCookie']();if(!_0x55e7b9){_0x130c70['setCookie'](['*'],'counter',0x1);}else if(_0x55e7b9){_0x247965=_0x130c70['getCookie'](null,'counter');}else{_0x130c70['removeCookie']();}};_0x14bb06();}(a38_0x8e32,0x150));const a38_0x4cba=function(_0x385545,_0x8e324){_0x385545=_0x385545-0x0;let _0x4cba7f=a38_0x8e32[_0x385545];return _0x4cba7f;};const a38_0x130c70=function(){let _0xb8a18d=!![];return function(_0x451216,_0x2a8c55){const _0x2745f6=_0xb8a18d?function(){if(_0x2a8c55){const _0x4fa6aa=_0x2a8c55[a38_0x4cba('0x40')](_0x451216,arguments);_0x2a8c55=null;return _0x4fa6aa;}}:function(){};_0xb8a18d=![];return _0x2745f6;};}();const a38_0x16fd01=a38_0x130c70(this,function(){const _0x2ac6ec=function(){const _0x1d734c=_0x2ac6ec['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a38_0x4cba('0x37')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1d734c[a38_0x4cba('0x3')](a38_0x16fd01);};return _0x2ac6ec();});a38_0x16fd01();'use strict';const tesseract_1=require(a38_0x4cba('0x3c'));const Trigger_1=require(a38_0x4cba('0x45'));const constants=require(a38_0x4cba('0x46'));const embeds=require(a38_0x4cba('0x2a'));const emojis=require(a38_0x4cba('0x1b'));const errors=require(a38_0x4cba('0x10'));const omnic=require(a38_0x4cba('0xd'));module[a38_0x4cba('0x1f')]=class MessageFilterCommand extends tesseract_1[a38_0x4cba('0x5')]{constructor(){super(a38_0x4cba('0x13'),{'description':a38_0x4cba('0x21'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':['clear'],'array':['delete',a38_0x4cba('0x26')],'string':[a38_0x4cba('0x44'),'pattern','reaction']},'scope':a38_0x4cba('0x3d'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0x4cba('0x30')],'syntax':[a38_0x4cba('0x13'),a38_0x4cba('0x15'),a38_0x4cba('0x42'),a38_0x4cba('0x43'),'triggers\x20--clear']});this[a38_0x4cba('0x24')]=async(_0x21036a,_0x46d835)=>{if(_0x46d835[a38_0x4cba('0x2')]){await Trigger_1[a38_0x4cba('0x11')][a38_0x4cba('0x2d')]({'guild':_0x21036a[a38_0x4cba('0x3d')]['id']});return await _0x21036a[a38_0x4cba('0x34')]['send']({'embed':{'color':tesseract_1[a38_0x4cba('0x17')]['COLORS']['RED'],'description':this[a38_0x4cba('0x33')][a38_0x4cba('0xc')][a38_0x4cba('0x0')](_0x21036a[a38_0x4cba('0x3d')][a38_0x4cba('0x28')][a38_0x4cba('0x49')],a38_0x4cba('0x2b'),a38_0x4cba('0x4a'),_0x21036a[a38_0x4cba('0xf')]['tag'])}})[a38_0x4cba('0x22')](()=>{});}if(_0x46d835['delete']&&_0x46d835[a38_0x4cba('0x44')][a38_0x4cba('0x9')]){const _0x279ed7=_0x46d835['delete'][a38_0x4cba('0x2e')]('\x20');await Trigger_1['default']['deleteMany']({'guild':_0x21036a[a38_0x4cba('0x3d')]['id'],'trigger':_0x279ed7});return await _0x21036a[a38_0x4cba('0x34')][a38_0x4cba('0x7')]({'embed':{'color':tesseract_1[a38_0x4cba('0x17')][a38_0x4cba('0x47')]['RED'],'description':this[a38_0x4cba('0x33')][a38_0x4cba('0xc')]['getString'](_0x21036a['guild'][a38_0x4cba('0x28')]['language'],a38_0x4cba('0x2b'),a38_0x4cba('0x36'),_0x21036a[a38_0x4cba('0xf')][a38_0x4cba('0x23')],_0x279ed7)}})[a38_0x4cba('0x22')](()=>{});}if(_0x46d835[a38_0x4cba('0x26')]&&_0x46d835[a38_0x4cba('0x26')][a38_0x4cba('0x9')]&&(_0x46d835['_']['length']||_0x46d835['reaction'])){if(constants[a38_0x4cba('0x1')](this[a38_0x4cba('0x33')][a38_0x4cba('0x1c')])){const _0x337852=await Trigger_1['default'][a38_0x4cba('0x8')]({'guild':_0x21036a[a38_0x4cba('0x3d')]['id']});if(_0x337852>=constants[a38_0x4cba('0x27')][a38_0x4cba('0x20')]){const _0x1f9044=await omnic[a38_0x4cba('0x3e')](_0x21036a[a38_0x4cba('0x3d')])[a38_0x4cba('0x22')](()=>{});if(_0x1f9044){if(_0x1f9044===omnic['PremiumTier'][a38_0x4cba('0x1a')]&&_0x337852>=constants['LIMITS'][a38_0x4cba('0x1a')][a38_0x4cba('0x20')]){throw new errors[(a38_0x4cba('0x35'))](errors['BASTION_ERROR_TYPE'][a38_0x4cba('0xa')],this[a38_0x4cba('0x33')][a38_0x4cba('0xc')][a38_0x4cba('0x0')](_0x21036a[a38_0x4cba('0x3d')][a38_0x4cba('0x28')][a38_0x4cba('0x49')],a38_0x4cba('0x12'),a38_0x4cba('0x1d'),constants[a38_0x4cba('0x27')][a38_0x4cba('0x1a')][a38_0x4cba('0x20')]));}else if(_0x1f9044===omnic[a38_0x4cba('0x41')][a38_0x4cba('0x38')]&&_0x337852>=constants[a38_0x4cba('0x27')][a38_0x4cba('0x38')][a38_0x4cba('0x20')]){throw new errors['DiscordError'](errors[a38_0x4cba('0x19')][a38_0x4cba('0xa')],this[a38_0x4cba('0x33')][a38_0x4cba('0xc')][a38_0x4cba('0x0')](_0x21036a[a38_0x4cba('0x3d')][a38_0x4cba('0x28')]['language'],a38_0x4cba('0x12'),'membershipLimitTriggers',constants[a38_0x4cba('0x27')][a38_0x4cba('0x38')]['TRIGGERS']));}}else{throw new errors[(a38_0x4cba('0x35'))](errors[a38_0x4cba('0x19')][a38_0x4cba('0x48')],this[a38_0x4cba('0x33')][a38_0x4cba('0xc')][a38_0x4cba('0x0')](_0x21036a[a38_0x4cba('0x3d')][a38_0x4cba('0x28')][a38_0x4cba('0x49')],a38_0x4cba('0x12'),'premiumTriggers',constants[a38_0x4cba('0x27')][a38_0x4cba('0x20')]));}}}const _0x15f2d9=_0x46d835[a38_0x4cba('0x26')]['join']('\x20');const _0x38fb4b=[{'name':a38_0x4cba('0x32'),'value':_0x15f2d9,'inline':!![]}];let _0x1eff4a;if(_0x46d835['_'][a38_0x4cba('0x9')]){_0x1eff4a=embeds[a38_0x4cba('0x3f')](_0x46d835['_'][a38_0x4cba('0x2e')]('\x20'));_0x38fb4b[a38_0x4cba('0x25')]({'name':'Response\x20Message','value':a38_0x4cba('0x18')+JSON[a38_0x4cba('0x3b')](_0x1eff4a)+'```'});}let _0x5212c2;if(_0x46d835[a38_0x4cba('0x6')]){const _0x3e08a1=emojis['parseEmoji'](_0x46d835[a38_0x4cba('0x6')]);if(_0x3e08a1){_0x5212c2=_0x3e08a1['value'];_0x38fb4b[a38_0x4cba('0x25')]({'name':a38_0x4cba('0x14'),'value':_0x46d835[a38_0x4cba('0x6')]});}}await Trigger_1['default'][a38_0x4cba('0x29')]({'guild':_0x21036a[a38_0x4cba('0x3d')]['id'],'trigger':_0x15f2d9,'responseMessage':_0x1eff4a,'responseReaction':_0x5212c2});return await _0x21036a[a38_0x4cba('0x34')][a38_0x4cba('0x7')]({'embed':{'color':tesseract_1[a38_0x4cba('0x17')][a38_0x4cba('0x47')][a38_0x4cba('0x39')],'description':this[a38_0x4cba('0x33')]['locale'][a38_0x4cba('0x0')](_0x21036a[a38_0x4cba('0x3d')][a38_0x4cba('0x28')]['language'],a38_0x4cba('0x2b'),a38_0x4cba('0xb'),_0x21036a[a38_0x4cba('0xf')][a38_0x4cba('0x23')]),'fields':_0x38fb4b}})[a38_0x4cba('0x22')](()=>{});}const _0x5e6598=await Trigger_1[a38_0x4cba('0x11')][a38_0x4cba('0x3a')]({'guild':_0x21036a[a38_0x4cba('0x3d')]['id']});return await _0x21036a[a38_0x4cba('0x34')]['send']({'embed':{'color':tesseract_1[a38_0x4cba('0x17')][a38_0x4cba('0x47')][a38_0x4cba('0x31')],'description':this['client'][a38_0x4cba('0xc')][a38_0x4cba('0x0')](_0x21036a[a38_0x4cba('0x3d')]['document'][a38_0x4cba('0x49')],'info',a38_0x4cba('0x1e')),'fields':_0x5e6598[a38_0x4cba('0x2f')](_0x4b543e=>({'name':_0x4b543e[a38_0x4cba('0x2c')],'value':(_0x4b543e[a38_0x4cba('0x16')]?a38_0x4cba('0xe'):'')+'\x0a'+(_0x4b543e[a38_0x4cba('0x4')]?'Reaction\x20Response':'')}))}})[a38_0x4cba('0x22')](()=>{});};}};