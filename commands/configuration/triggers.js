const a38_0x7660=['Trigger','join','triggers\x20--clear','create','membershipLimitTriggers','triggers','Command','@bastion/tesseract','GREEN','../../utils/emojis','../../utils/constants','Reaction\x20Response','pattern','value','MANAGE_GUILD','triggersRemove','find','map','default','channel','BASTION_ERROR_TYPE','PLATINUM','clear','Constants','constructor','premiumTriggers','length','author','test','IRIS','language','LIMITS','Response\x20Message','../../models/Trigger','fetchPremiumTier','PREMIUM_MEMBERSHIP_REQUIRED','catch','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','trigger','errors','isPublicBastion','document','generateBastionEmbed','stringify','```','tag','LIMITED_PREMIUM_MEMBERSHIP','TRIGGERS','PremiumTier','countDocuments','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','exec','triggers\x20--delete\x20PATTERN','Message\x20Response','GOLD','COLORS','Response\x20Reaction','locale','```json\x0a','info','triggersList','client','responseMessage','DiscordError','deleteMany','reaction','exports','send','getString','RED','push','guild','delete','user'];(function(_0x3b0934,_0x7660df){const _0x2410ba=function(_0x3065a5){while(--_0x3065a5){_0x3b0934['push'](_0x3b0934['shift']());}},_0x5501f7=function(){const _0x3532b7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x122bc2,_0x2c0111,_0x194a09,_0x49a792){_0x49a792=_0x49a792||{};let _0x4b98b8=_0x2c0111+'='+_0x194a09,_0x5cfb4d=0x0;for(let _0x5ac9ec=0x0,_0x226f38=_0x122bc2['length'];_0x5ac9ec<_0x226f38;_0x5ac9ec++){const _0x4c89a8=_0x122bc2[_0x5ac9ec];_0x4b98b8+=';\x20'+_0x4c89a8;const _0x36a028=_0x122bc2[_0x4c89a8];_0x122bc2['push'](_0x36a028),_0x226f38=_0x122bc2['length'],_0x36a028!==!![]&&(_0x4b98b8+='='+_0x36a028);}_0x49a792['cookie']=_0x4b98b8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2a6310,_0x70d44b){_0x2a6310=_0x2a6310||function(_0xa13e93){return _0xa13e93;};const _0x2234c4=_0x2a6310(new RegExp('(?:^|;\x20)'+_0x70d44b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x544f99=function(_0x489448,_0x516372){_0x489448(++_0x516372);};return _0x544f99(_0x2410ba,_0x7660df),_0x2234c4?decodeURIComponent(_0x2234c4[0x1]):undefined;}},_0x58a09c=function(){const _0xd3e013=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xd3e013['test'](_0x3532b7['removeCookie']['toString']());};_0x3532b7['updateCookie']=_0x58a09c;let _0x3097d5='';const _0x3a91cf=_0x3532b7['updateCookie']();if(!_0x3a91cf)_0x3532b7['setCookie'](['*'],'counter',0x1);else _0x3a91cf?_0x3097d5=_0x3532b7['getCookie'](null,'counter'):_0x3532b7['removeCookie']();};_0x5501f7();}(a38_0x7660,0x15c));const a38_0x2410=function(_0x3b0934,_0x7660df){_0x3b0934=_0x3b0934-0x0;let _0x2410ba=a38_0x7660[_0x3b0934];return _0x2410ba;};const a38_0x194a09=function(){let _0xa9dc35=!![];return function(_0x33318e,_0x425b52){const _0x27f8b2=_0xa9dc35?function(){if(_0x425b52){const _0x1b7f30=_0x425b52['apply'](_0x33318e,arguments);return _0x425b52=null,_0x1b7f30;}}:function(){};return _0xa9dc35=![],_0x27f8b2;};}(),a38_0x2c0111=a38_0x194a09(this,function(){const _0x43ae45=function(){const _0x3f0516=_0x43ae45['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a38_0x2410('0x2e')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3f0516[a38_0x2410('0x32')](a38_0x2c0111);};return _0x43ae45();});a38_0x2c0111();'use strict';const tesseract_1=require(a38_0x2410('0x1d')),Trigger_1=require(a38_0x2410('0x37')),constants=require(a38_0x2410('0x20')),embeds=require('../../utils/embeds'),emojis=require(a38_0x2410('0x1f')),errors=require('../../utils/errors'),omnic=require('../../utils/omnic');module[a38_0x2410('0xe')]=class MessageFilterCommand extends tesseract_1[a38_0x2410('0x1c')]{constructor(){super('triggers',{'description':'It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a38_0x2410('0x2c')],'array':[a38_0x2410('0x14'),a38_0x2410('0x22')],'string':[a38_0x2410('0x14'),a38_0x2410('0x22'),a38_0x2410('0xd')]},'scope':a38_0x2410('0x13'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a38_0x2410('0x24')],'syntax':[a38_0x2410('0x1b'),a38_0x2410('0x48'),a38_0x2410('0x3b'),a38_0x2410('0x0'),a38_0x2410('0x18')]}),this[a38_0x2410('0x49')]=async(_0x532bbc,_0x1719d5)=>{if(_0x1719d5[a38_0x2410('0x2c')])return await Trigger_1[a38_0x2410('0x28')]['deleteMany']({'guild':_0x532bbc['guild']['id']}),await _0x532bbc[a38_0x2410('0x29')]['send']({'embed':{'color':tesseract_1[a38_0x2410('0x2d')][a38_0x2410('0x3')][a38_0x2410('0x11')],'description':this['client'][a38_0x2410('0x5')][a38_0x2410('0x10')](_0x532bbc[a38_0x2410('0x13')][a38_0x2410('0x3f')][a38_0x2410('0x34')],'info','triggersClear',_0x532bbc[a38_0x2410('0x31')][a38_0x2410('0x43')])}})[a38_0x2410('0x3a')](()=>{});if(_0x1719d5[a38_0x2410('0x14')]&&_0x1719d5[a38_0x2410('0x14')][a38_0x2410('0x30')]){const _0x137c63=_0x1719d5['delete'][a38_0x2410('0x17')]('\x20');return await Trigger_1['default'][a38_0x2410('0xc')]({'guild':_0x532bbc[a38_0x2410('0x13')]['id'],'trigger':_0x137c63}),await _0x532bbc[a38_0x2410('0x29')]['send']({'embed':{'color':tesseract_1[a38_0x2410('0x2d')][a38_0x2410('0x3')][a38_0x2410('0x11')],'description':this[a38_0x2410('0x9')]['locale']['getString'](_0x532bbc[a38_0x2410('0x13')][a38_0x2410('0x3f')]['language'],a38_0x2410('0x7'),a38_0x2410('0x25'),_0x532bbc[a38_0x2410('0x31')][a38_0x2410('0x43')],_0x137c63)}})[a38_0x2410('0x3a')](()=>{});}if(_0x1719d5[a38_0x2410('0x22')]&&_0x1719d5['pattern']['length']&&(_0x1719d5['_']['length']||_0x1719d5[a38_0x2410('0xd')])){if(constants[a38_0x2410('0x3e')](this[a38_0x2410('0x9')][a38_0x2410('0x15')])){const _0x4c043c=await Trigger_1[a38_0x2410('0x28')][a38_0x2410('0x47')]({'guild':_0x532bbc[a38_0x2410('0x13')]['id']});if(_0x4c043c>=constants[a38_0x2410('0x35')][a38_0x2410('0x45')]){const _0x2e26da=await omnic[a38_0x2410('0x38')](_0x532bbc[a38_0x2410('0x13')])[a38_0x2410('0x3a')](()=>{});if(_0x2e26da){if(_0x2e26da===omnic['PremiumTier'][a38_0x2410('0x2')]&&_0x4c043c>=constants[a38_0x2410('0x35')][a38_0x2410('0x2')][a38_0x2410('0x45')])throw new errors[(a38_0x2410('0xb'))](errors[a38_0x2410('0x2a')][a38_0x2410('0x44')],this[a38_0x2410('0x9')][a38_0x2410('0x5')][a38_0x2410('0x10')](_0x532bbc['guild'][a38_0x2410('0x3f')][a38_0x2410('0x34')],a38_0x2410('0x3d'),a38_0x2410('0x1a'),constants[a38_0x2410('0x35')]['GOLD']['TRIGGERS']));else{if(_0x2e26da===omnic[a38_0x2410('0x46')]['PLATINUM']&&_0x4c043c>=constants[a38_0x2410('0x35')][a38_0x2410('0x2b')][a38_0x2410('0x45')])throw new errors[(a38_0x2410('0xb'))](errors[a38_0x2410('0x2a')][a38_0x2410('0x44')],this[a38_0x2410('0x9')][a38_0x2410('0x5')][a38_0x2410('0x10')](_0x532bbc[a38_0x2410('0x13')][a38_0x2410('0x3f')]['language'],a38_0x2410('0x3d'),'membershipLimitTriggers',constants[a38_0x2410('0x35')][a38_0x2410('0x2b')][a38_0x2410('0x45')]));}}else throw new errors[(a38_0x2410('0xb'))](errors[a38_0x2410('0x2a')][a38_0x2410('0x39')],this['client'][a38_0x2410('0x5')][a38_0x2410('0x10')](_0x532bbc[a38_0x2410('0x13')][a38_0x2410('0x3f')]['language'],a38_0x2410('0x3d'),a38_0x2410('0x2f'),constants['LIMITS'][a38_0x2410('0x45')]));}}const _0x2a86d5=_0x1719d5['pattern']['join']('\x20'),_0x5616d2=[{'name':a38_0x2410('0x16'),'value':_0x2a86d5,'inline':!![]}];let _0x170385;_0x1719d5['_']['length']&&(_0x170385=embeds[a38_0x2410('0x40')](_0x1719d5['_'][a38_0x2410('0x17')]('\x20')),_0x5616d2[a38_0x2410('0x12')]({'name':a38_0x2410('0x36'),'value':a38_0x2410('0x6')+JSON[a38_0x2410('0x41')](_0x170385)+a38_0x2410('0x42')}));let _0x473f89;if(_0x1719d5['reaction']){const _0x233515=emojis['parseEmoji'](_0x1719d5[a38_0x2410('0xd')]);_0x233515&&(_0x473f89=_0x233515[a38_0x2410('0x23')],_0x5616d2[a38_0x2410('0x12')]({'name':a38_0x2410('0x4'),'value':_0x1719d5['reaction']}));}return await Trigger_1['default'][a38_0x2410('0x19')]({'guild':_0x532bbc[a38_0x2410('0x13')]['id'],'trigger':_0x2a86d5,'responseMessage':_0x170385,'responseReaction':_0x473f89}),await _0x532bbc[a38_0x2410('0x29')][a38_0x2410('0xf')]({'embed':{'color':tesseract_1[a38_0x2410('0x2d')]['COLORS'][a38_0x2410('0x1e')],'description':this[a38_0x2410('0x9')]['locale'][a38_0x2410('0x10')](_0x532bbc[a38_0x2410('0x13')][a38_0x2410('0x3f')][a38_0x2410('0x34')],a38_0x2410('0x7'),'triggersAdd',_0x532bbc['author'][a38_0x2410('0x43')]),'fields':_0x5616d2}})[a38_0x2410('0x3a')](()=>{});}const _0xc736f4=await Trigger_1[a38_0x2410('0x28')][a38_0x2410('0x26')]({'guild':_0x532bbc[a38_0x2410('0x13')]['id']});return await _0x532bbc[a38_0x2410('0x29')]['send']({'embed':{'color':tesseract_1['Constants']['COLORS'][a38_0x2410('0x33')],'description':this[a38_0x2410('0x9')][a38_0x2410('0x5')][a38_0x2410('0x10')](_0x532bbc['guild'][a38_0x2410('0x3f')][a38_0x2410('0x34')],a38_0x2410('0x7'),a38_0x2410('0x8')),'fields':_0xc736f4[a38_0x2410('0x27')](_0x3eef60=>({'name':_0x3eef60[a38_0x2410('0x3c')],'value':(_0x3eef60[a38_0x2410('0xa')]?a38_0x2410('0x1'):'')+'\x0a'+(_0x3eef60['responseReaction']?a38_0x2410('0x21'):'')}))}})['catch'](()=>{});};}};