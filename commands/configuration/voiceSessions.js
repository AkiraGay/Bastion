const a41_0x2d1b=['react','default','user','send','SPEAK','@bastion/tesseract','catch','categories','concat','guild','../../utils/errors','filter','[DELETED\x20CHANNEL]','channel','author','It\x20allows\x20you\x20manage\x20Voice\x20Sessions\x20(or\x20Temporary\x20Voice\x20Channels,\x20if\x20you\x20prefer),\x20in\x20the\x20server.','../../utils/constants','CONNECT','channels','Sessional\x20Channels','map','Constants','Command','isPublicBastion','constructor','document','premiumVoiceSessions','findByIdAndUpdate','No\x20','Voice\x20Session\x20Control','fetchPremiumTier','voiceSessionCreate','IRIS','info','apply','create','BASTION_ERROR_TYPE','voiceSessions\x20--create','COLORS','DiscordError','tag','GREEN','Voice\x20Sessions','language','MANAGE_GUILD','SEND_MESSAGES','has','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','getString','ADD_REACTIONS','name','exec','../../utils/omnic','cache','text','voiceSessions','MANAGE_CHANNELS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','client'];(function(_0x268116,_0x2d1bde){const _0x300245=function(_0x183c70){while(--_0x183c70){_0x268116['push'](_0x268116['shift']());}},_0x590f3b=function(){const _0x16be34={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xbb46f6,_0x3f7f4e,_0x1ca0ab,_0x341a66){_0x341a66=_0x341a66||{};let _0x513635=_0x3f7f4e+'='+_0x1ca0ab,_0x411d59=0x0;for(let _0x4b05b4=0x0,_0x57d070=_0xbb46f6['length'];_0x4b05b4<_0x57d070;_0x4b05b4++){const _0x339ae8=_0xbb46f6[_0x4b05b4];_0x513635+=';\x20'+_0x339ae8;const _0x4a1631=_0xbb46f6[_0x339ae8];_0xbb46f6['push'](_0x4a1631),_0x57d070=_0xbb46f6['length'],_0x4a1631!==!![]&&(_0x513635+='='+_0x4a1631);}_0x341a66['cookie']=_0x513635;},'removeCookie':function(){return'dev';},'getCookie':function(_0x7dc362,_0x1f3426){_0x7dc362=_0x7dc362||function(_0x60f8e){return _0x60f8e;};const _0x10bfa5=_0x7dc362(new RegExp('(?:^|;\x20)'+_0x1f3426['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x57a145=function(_0x19f253,_0x1f4b26){_0x19f253(++_0x1f4b26);};return _0x57a145(_0x300245,_0x2d1bde),_0x10bfa5?decodeURIComponent(_0x10bfa5[0x1]):undefined;}},_0x317cc9=function(){const _0x1c41c7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1c41c7['test'](_0x16be34['removeCookie']['toString']());};_0x16be34['updateCookie']=_0x317cc9;let _0x2a9507='';const _0x4bee0d=_0x16be34['updateCookie']();if(!_0x4bee0d)_0x16be34['setCookie'](['*'],'counter',0x1);else _0x4bee0d?_0x2a9507=_0x16be34['getCookie'](null,'counter'):_0x16be34['removeCookie']();};_0x590f3b();}(a41_0x2d1b,0x169));const a41_0x3002=function(_0x268116,_0x2d1bde){_0x268116=_0x268116-0x0;let _0x300245=a41_0x2d1b[_0x268116];return _0x300245;};const _0x3fb8c2=a41_0x3002,a41_0x16be34=function(){let _0x2a9507=!![];return function(_0x4bee0d,_0xbb46f6){const _0x3f7f4e=_0x2a9507?function(){const _0x270221=a41_0x3002;if(_0xbb46f6){const _0x1ca0ab=_0xbb46f6[_0x270221('0x1b')](_0x4bee0d,arguments);return _0xbb46f6=null,_0x1ca0ab;}}:function(){};return _0x2a9507=![],_0x3f7f4e;};}(),a41_0x183c70=a41_0x16be34(this,function(){const _0x341a66=function(){const _0x4f8d6f=a41_0x3002,_0x513635=_0x341a66[_0x4f8d6f('0x11')](_0x4f8d6f('0x32'))()['constructor'](_0x4f8d6f('0x28'));return!_0x513635['test'](a41_0x183c70);};return _0x341a66();});a41_0x183c70();'use strict';const tesseract_1=require(_0x3fb8c2('0x39')),Guild_1=require('../../models/Guild'),constants=require(_0x3fb8c2('0x9')),errors=require(_0x3fb8c2('0x3')),omnic=require(_0x3fb8c2('0x2d'));module['exports']=class VoiceSessionsCommand extends tesseract_1[_0x3fb8c2('0xf')]{constructor(){const _0x1691d4=_0x3fb8c2;super('voiceSessions',{'description':_0x1691d4('0x8'),'triggers':[],'arguments':{'boolean':[_0x1691d4('0x1c')]},'scope':_0x1691d4('0x2'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x1691d4('0x31')],'userPermissions':[_0x1691d4('0x25')],'syntax':[_0x1691d4('0x30'),_0x1691d4('0x1e')]}),this[_0x1691d4('0x2c')]=async(_0x411d59,_0x4b05b4)=>{const _0x364be2=_0x1691d4;if(constants[_0x364be2('0x10')](this[_0x364be2('0x33')][_0x364be2('0x36')])){const _0x339ae8=await omnic[_0x364be2('0x17')](_0x411d59[_0x364be2('0x2')])['catch'](()=>{});if(!_0x339ae8)throw new errors[(_0x364be2('0x20'))](errors[_0x364be2('0x1d')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x364be2('0x33')]['locale'][_0x364be2('0x29')](_0x411d59[_0x364be2('0x2')][_0x364be2('0x12')][_0x364be2('0x24')],'errors',_0x364be2('0x13')));}if(_0x4b05b4[_0x364be2('0x1c')]){const _0x4a1631=await _0x411d59[_0x364be2('0x2')]['channels'][_0x364be2('0x1c')](_0x364be2('0xc'),{'type':'category','permissionOverwrites':[{'id':_0x411d59['guild']['id'],'allow':[_0x364be2('0x38'),'VIEW_CHANNEL'],'deny':[_0x364be2('0xa'),'CREATE_INSTANT_INVITE']}]}),_0x7dc362=await _0x411d59[_0x364be2('0x2')][_0x364be2('0xb')][_0x364be2('0x1c')]('session-control',{'type':_0x364be2('0x2f'),'parent':_0x4a1631,'permissionOverwrites':[{'id':_0x411d59[_0x364be2('0x2')]['id'],'allow':[_0x364be2('0x2a')],'deny':[_0x364be2('0x26')]}]});await _0x411d59[_0x364be2('0x2')][_0x364be2('0xb')][_0x364be2('0x1c')]('âž•\x20New\x20Voice\x20Channel',{'type':'voice','parent':_0x4a1631,'permissionOverwrites':[{'id':_0x411d59['guild']['id'],'allow':[_0x364be2('0xa')],'deny':[_0x364be2('0x38')]}]});const _0x1f3426=_0x411d59['guild'][_0x364be2('0x12')]['voiceSessions']&&_0x411d59['guild'][_0x364be2('0x12')][_0x364be2('0x30')][_0x364be2('0x0')]?_0x411d59[_0x364be2('0x2')]['document'][_0x364be2('0x30')][_0x364be2('0x0')][_0x364be2('0x1')](_0x4a1631['id']):[_0x4a1631['id']];await Guild_1[_0x364be2('0x35')][_0x364be2('0x14')](_0x411d59[_0x364be2('0x2')]['id'],{'voiceSessions':{'categories':_0x1f3426[_0x364be2('0x4')](_0x57a145=>_0x411d59['guild']['channels'][_0x364be2('0x2e')][_0x364be2('0x27')](_0x57a145))}});const _0x10bfa5=await _0x7dc362[_0x364be2('0x37')]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x364be2('0x19')],'title':_0x364be2('0x16'),'description':'You\x20can\x20lock\x20or\x20unlock\x20your\x20voice\x20session\x20by\x20reacting\x20to\x20the\x20this\x20message.'}});return await _0x10bfa5['react']('ðŸ”’')['catch'](()=>{}),await _0x10bfa5[_0x364be2('0x34')]('ðŸ”“')[_0x364be2('0x3a')](()=>{}),_0x411d59[_0x364be2('0x6')][_0x364be2('0x37')]({'embed':{'color':tesseract_1[_0x364be2('0xe')][_0x364be2('0x1f')][_0x364be2('0x22')],'description':this[_0x364be2('0x33')]['locale']['getString'](_0x411d59[_0x364be2('0x2')][_0x364be2('0x12')][_0x364be2('0x24')],_0x364be2('0x1a'),_0x364be2('0x18'),_0x411d59[_0x364be2('0x7')][_0x364be2('0x21')])}})[_0x364be2('0x3a')](()=>{});}const _0x57d070=_0x411d59[_0x364be2('0x2')]['document'][_0x364be2('0x30')]?_0x411d59['guild'][_0x364be2('0x12')][_0x364be2('0x30')]['categories']:[];return await _0x411d59[_0x364be2('0x6')][_0x364be2('0x37')]({'embed':{'color':tesseract_1[_0x364be2('0xe')][_0x364be2('0x1f')][_0x364be2('0x19')],'title':(_0x57d070['length']?'':_0x364be2('0x15'))+_0x364be2('0x23'),'description':'Use\x20`voiceSessions\x20--create`\x20to\x20create\x20a\x20new\x20category\x20for\x20Voice\x20Sessions.','fields':_0x57d070[_0x364be2('0xd')](_0x60f8e=>({'name':_0x411d59[_0x364be2('0x2')][_0x364be2('0xb')][_0x364be2('0x2e')][_0x364be2('0x27')](_0x60f8e)?_0x411d59['guild']['channels'][_0x364be2('0x2e')]['get'](_0x60f8e)[_0x364be2('0x2b')]:_0x364be2('0x5'),'value':_0x60f8e}))}});};}};