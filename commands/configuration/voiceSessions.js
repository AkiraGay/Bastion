const a42_0x4b5b=['getString','isPublicBastion','findByIdAndUpdate','categories','MANAGE_GUILD','constructor','voiceSessions','get','filter','channels','COLORS','send','tag','fetchPremiumTier','Command','document','Voice\x20Session\x20Control','exec','Sessional\x20Channels','return\x20/\x22\x20+\x20this\x20+\x20\x22/','author','concat','âž•\x20New\x20Voice\x20Channel','IRIS','MANAGE_CHANNELS','CONNECT','CREATE_INSTANT_INVITE','language','default','Voice\x20Sessions','errors','map','SEND_MESSAGES','session-control','create','test','voiceSessions\x20--create','cache','No\x20','premiumVoiceSessions','client','GREEN','react','catch','Constants','user','../../utils/constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','It\x20allows\x20you\x20manage\x20Voice\x20Sessions\x20(or\x20Temporary\x20Voice\x20Channels,\x20if\x20you\x20prefer),\x20in\x20the\x20server.','category','length','locale','has','PREMIUM_MEMBERSHIP_REQUIRED','channel','../../utils/errors','exports','guild'];(function(_0x33b5e2,_0x610435){const _0x4b5b90=function(_0x438f10){while(--_0x438f10){_0x33b5e2['push'](_0x33b5e2['shift']());}},_0x5ad709=function(){const _0x426ced={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x395025,_0x283de9,_0x34aae2,_0x3bbfeb){_0x3bbfeb=_0x3bbfeb||{};let _0x15b9e3=_0x283de9+'='+_0x34aae2,_0x2f750e=0x0;for(let _0x1b9584=0x0,_0x1e20e3=_0x395025['length'];_0x1b9584<_0x1e20e3;_0x1b9584++){const _0x372d02=_0x395025[_0x1b9584];_0x15b9e3+=';\x20'+_0x372d02;const _0x2aba4e=_0x395025[_0x372d02];_0x395025['push'](_0x2aba4e),_0x1e20e3=_0x395025['length'],_0x2aba4e!==!![]&&(_0x15b9e3+='='+_0x2aba4e);}_0x3bbfeb['cookie']=_0x15b9e3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4968ea,_0x4eb54f){_0x4968ea=_0x4968ea||function(_0x260399){return _0x260399;};const _0x23eda6=_0x4968ea(new RegExp('(?:^|;\x20)'+_0x4eb54f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2115b8=function(_0x1fb0f7,_0x4dca55){_0x1fb0f7(++_0x4dca55);};return _0x2115b8(_0x4b5b90,_0x610435),_0x23eda6?decodeURIComponent(_0x23eda6[0x1]):undefined;}},_0x590a19=function(){const _0x56de03=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x56de03['test'](_0x426ced['removeCookie']['toString']());};_0x426ced['updateCookie']=_0x590a19;let _0x3c5a9d='';const _0x1297e2=_0x426ced['updateCookie']();if(!_0x1297e2)_0x426ced['setCookie'](['*'],'counter',0x1);else _0x1297e2?_0x3c5a9d=_0x426ced['getCookie'](null,'counter'):_0x426ced['removeCookie']();};_0x5ad709();}(a42_0x4b5b,0x1f1));const a42_0x5ad7=function(_0x33b5e2,_0x610435){_0x33b5e2=_0x33b5e2-0x1ce;let _0x4b5b90=a42_0x4b5b[_0x33b5e2];return _0x4b5b90;};const _0x3488a8=a42_0x5ad7,a42_0x590a19=function(){let _0x1297e2=!![];return function(_0x395025,_0x283de9){const _0x34aae2=_0x1297e2?function(){if(_0x283de9){const _0x3bbfeb=_0x283de9['apply'](_0x395025,arguments);return _0x283de9=null,_0x3bbfeb;}}:function(){};return _0x1297e2=![],_0x34aae2;};}(),a42_0x426ced=a42_0x590a19(this,function(){const _0x15b9e3=function(){const _0x1953b6=a42_0x5ad7,_0x2f750e=_0x15b9e3['constructor'](_0x1953b6(0x1fa))()[_0x1953b6(0x1ec)](_0x1953b6(0x1dc));return!_0x2f750e[_0x1953b6(0x1d0)](a42_0x426ced);};return _0x15b9e3();});a42_0x426ced();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require('../../models/Guild'),constants=require(_0x3488a8(0x1db)),errors=require(_0x3488a8(0x1e4)),omnic=require('../../utils/omnic');module[_0x3488a8(0x1e5)]=class VoiceSessionsCommand extends tesseract_1[_0x3488a8(0x1f5)]{constructor(){const _0x136706=_0x3488a8;super(_0x136706(0x1ed),{'description':_0x136706(0x1dd),'triggers':[],'arguments':{'boolean':['create']},'scope':_0x136706(0x1e6),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x136706(0x1ff)],'userPermissions':[_0x136706(0x1eb)],'syntax':[_0x136706(0x1ed),_0x136706(0x1d1)]}),this[_0x136706(0x1f8)]=async(_0x1b9584,_0x1e20e3)=>{const _0x101da0=_0x136706;if(constants[_0x101da0(0x1e8)](this['client'][_0x101da0(0x1da)])){const _0x2aba4e=await omnic[_0x101da0(0x1f4)](_0x1b9584[_0x101da0(0x1e6)])[_0x101da0(0x1d8)](()=>{});if(!_0x2aba4e)throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x101da0(0x1e2)],this[_0x101da0(0x1d5)][_0x101da0(0x1e0)][_0x101da0(0x1e7)](_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f6)]['language'],_0x101da0(0x205),_0x101da0(0x1d4)));}if(_0x1e20e3[_0x101da0(0x1cf)]){const _0x4968ea=await _0x1b9584[_0x101da0(0x1e6)]['channels'][_0x101da0(0x1cf)](_0x101da0(0x1f9),{'type':_0x101da0(0x1de),'permissionOverwrites':[{'id':_0x1b9584[_0x101da0(0x1e6)]['id'],'allow':['SPEAK','VIEW_CHANNEL'],'deny':[_0x101da0(0x200),_0x101da0(0x201)]}]}),_0x4eb54f=await _0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f0)][_0x101da0(0x1cf)](_0x101da0(0x1ce),{'type':'text','parent':_0x4968ea,'permissionOverwrites':[{'id':_0x1b9584[_0x101da0(0x1e6)]['id'],'allow':['ADD_REACTIONS'],'deny':[_0x101da0(0x207)]}]});await _0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f0)][_0x101da0(0x1cf)](_0x101da0(0x1fd),{'type':'voice','parent':_0x4968ea,'permissionOverwrites':[{'id':_0x1b9584[_0x101da0(0x1e6)]['id'],'allow':[_0x101da0(0x200)],'deny':['SPEAK']}]});const _0x23eda6=_0x1b9584['guild'][_0x101da0(0x1f6)]['voiceSessions']&&_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f6)][_0x101da0(0x1ed)]['categories']?_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f6)][_0x101da0(0x1ed)][_0x101da0(0x1ea)][_0x101da0(0x1fc)](_0x4968ea['id']):[_0x4968ea['id']];await Guild_1[_0x101da0(0x203)][_0x101da0(0x1e9)](_0x1b9584[_0x101da0(0x1e6)]['id'],{'voiceSessions':{'categories':_0x23eda6[_0x101da0(0x1ef)](_0x260399=>_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f0)][_0x101da0(0x1d2)]['has'](_0x260399))}});const _0x2115b8=await _0x4eb54f[_0x101da0(0x1f2)]({'embed':{'color':tesseract_1[_0x101da0(0x1d9)][_0x101da0(0x1f1)]['IRIS'],'title':_0x101da0(0x1f7),'description':'You\x20can\x20lock\x20or\x20unlock\x20your\x20voice\x20session\x20by\x20reacting\x20to\x20the\x20this\x20message.'}});return await _0x2115b8[_0x101da0(0x1d7)]('ðŸ”’')[_0x101da0(0x1d8)](()=>{}),await _0x2115b8[_0x101da0(0x1d7)]('ðŸ”“')[_0x101da0(0x1d8)](()=>{}),_0x1b9584[_0x101da0(0x1e3)][_0x101da0(0x1f2)]({'embed':{'color':tesseract_1[_0x101da0(0x1d9)]['COLORS'][_0x101da0(0x1d6)],'description':this[_0x101da0(0x1d5)][_0x101da0(0x1e0)][_0x101da0(0x1e7)](_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f6)][_0x101da0(0x202)],'info','voiceSessionCreate',_0x1b9584[_0x101da0(0x1fb)][_0x101da0(0x1f3)])}})['catch'](()=>{});}const _0x372d02=_0x1b9584[_0x101da0(0x1e6)]['document'][_0x101da0(0x1ed)]?_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f6)][_0x101da0(0x1ed)][_0x101da0(0x1ea)]:[];return await _0x1b9584[_0x101da0(0x1e3)][_0x101da0(0x1f2)]({'embed':{'color':tesseract_1[_0x101da0(0x1d9)][_0x101da0(0x1f1)][_0x101da0(0x1fe)],'title':(_0x372d02[_0x101da0(0x1df)]?'':_0x101da0(0x1d3))+_0x101da0(0x204),'description':'Use\x20`voiceSessions\x20--create`\x20to\x20create\x20a\x20new\x20category\x20for\x20Voice\x20Sessions.','fields':_0x372d02[_0x101da0(0x206)](_0x1fb0f7=>({'name':_0x1b9584[_0x101da0(0x1e6)][_0x101da0(0x1f0)]['cache'][_0x101da0(0x1e1)](_0x1fb0f7)?_0x1b9584['guild']['channels']['cache'][_0x101da0(0x1ee)](_0x1fb0f7)['name']:'[DELETED\x20CHANNEL]','value':_0x1fb0f7}))}});};}};