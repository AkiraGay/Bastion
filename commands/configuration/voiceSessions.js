const a42_0xe169=['map','create','37jpmEjn','channel','exec','DiscordError','apply','isPublicBastion','Command','guild','No\x20','Use\x20`voiceSessions\x20--create`\x20to\x20create\x20a\x20new\x20category\x20for\x20Voice\x20Sessions.','send','voice','Voice\x20Session\x20Control','../../utils/errors','voiceSessions','121493kpkjLt','text','premiumVoiceSessions','getString','language','categories','309083iyhPhO','[DELETED\x20CHANNEL]','length','207196fzVtYO','Constants','user','SEND_MESSAGES','9esWVVA','catch','voiceSessionCreate','session-control','concat','has','20928VxWNJU','name','CONNECT','react','category','COLORS','GREEN','../../models/Guild','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Voice\x20Sessions','33034YIgZWh','constructor','locale','9641EjBTEe','PREMIUM_MEMBERSHIP_REQUIRED','IRIS','channels','document','BASTION_ERROR_TYPE','voiceSessions\x20--create','default','test','1tYVMVA','2663gFaaOo','client','➕\x20New\x20Voice\x20Channel','author','tag','MANAGE_CHANNELS','103hNOumd','info','cache','CREATE_INSTANT_INVITE','findByIdAndUpdate'];const a42_0x1314=function(_0x5cd98e,_0x424679){_0x5cd98e=_0x5cd98e-0x176;let _0xa64524=a42_0xe169[_0x5cd98e];return _0xa64524;};const a42_0x1a73be=a42_0x1314;(function(_0x2f3a59,_0x3674a9){const _0x3ab8a3=a42_0x1314;while(!![]){try{const _0x376831=parseInt(_0x3ab8a3(0x182))*-parseInt(_0x3ab8a3(0x1a5))+parseInt(_0x3ab8a3(0x19c))*parseInt(_0x3ab8a3(0x1b3))+parseInt(_0x3ab8a3(0x18f))*parseInt(_0x3ab8a3(0x189))+parseInt(_0x3ab8a3(0x199))+-parseInt(_0x3ab8a3(0x185))+-parseInt(_0x3ab8a3(0x1ac))*-parseInt(_0x3ab8a3(0x1a6))+-parseInt(_0x3ab8a3(0x17c));if(_0x376831===_0x3674a9)break;else _0x2f3a59['push'](_0x2f3a59['shift']());}catch(_0x113746){_0x2f3a59['push'](_0x2f3a59['shift']());}}}(a42_0xe169,0x3465c));const a42_0x2204ad=function(){let _0x21a31e=!![];return function(_0x2581f3,_0x1a7ca8){const _0x42529a=_0x21a31e?function(){const _0x3c8f46=a42_0x1314;if(_0x1a7ca8){const _0x4426ab=_0x1a7ca8[_0x3c8f46(0x1b7)](_0x2581f3,arguments);return _0x1a7ca8=null,_0x4426ab;}}:function(){};return _0x21a31e=![],_0x42529a;};}(),a42_0x21e60a=a42_0x2204ad(this,function(){const _0x22f895=function(){const _0x34cce9=a42_0x1314,_0x53652d=_0x22f895[_0x34cce9(0x19a)](_0x34cce9(0x197))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x53652d[_0x34cce9(0x1a4)](a42_0x21e60a);};return _0x22f895();});a42_0x21e60a();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require(a42_0x1a73be(0x196)),constants=require('../../utils/constants'),errors=require(a42_0x1a73be(0x17a)),omnic=require('../../utils/omnic');module['exports']=class VoiceSessionsCommand extends tesseract_1[a42_0x1a73be(0x1b9)]{constructor(){const _0x2ddc98=a42_0x1a73be;super(_0x2ddc98(0x17b),{'description':'It\x20allows\x20you\x20manage\x20Voice\x20Sessions\x20(or\x20Temporary\x20Voice\x20Channels,\x20if\x20you\x20prefer),\x20in\x20the\x20server.','triggers':[],'arguments':{'boolean':['create']},'scope':_0x2ddc98(0x1ba),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x2ddc98(0x1ab)],'userPermissions':['MANAGE_GUILD'],'syntax':[_0x2ddc98(0x17b),_0x2ddc98(0x1a2)]}),this[_0x2ddc98(0x1b5)]=async(_0x1f8cf1,_0x4be6dc)=>{const _0x24cfec=_0x2ddc98;if(constants[_0x24cfec(0x1b8)](this[_0x24cfec(0x1a7)][_0x24cfec(0x187)])){const _0x3f2258=await omnic['fetchPremiumTier'](_0x1f8cf1[_0x24cfec(0x1ba)])[_0x24cfec(0x18a)](()=>{});if(!_0x3f2258)throw new errors[(_0x24cfec(0x1b6))](errors[_0x24cfec(0x1a1)][_0x24cfec(0x19d)],this[_0x24cfec(0x1a7)][_0x24cfec(0x19b)][_0x24cfec(0x17f)](_0x1f8cf1['guild'][_0x24cfec(0x1a0)][_0x24cfec(0x180)],'errors',_0x24cfec(0x17e)));}if(_0x4be6dc[_0x24cfec(0x1b2)]){const _0x2e5945=await _0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x19f)][_0x24cfec(0x1b2)]('Sessional\x20Channels',{'type':_0x24cfec(0x193),'permissionOverwrites':[{'id':_0x1f8cf1['guild']['id'],'allow':['SPEAK','VIEW_CHANNEL'],'deny':[_0x24cfec(0x191),_0x24cfec(0x1af)]}]}),_0x35bcb2=await _0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x19f)][_0x24cfec(0x1b2)](_0x24cfec(0x18c),{'type':_0x24cfec(0x17d),'parent':_0x2e5945,'permissionOverwrites':[{'id':_0x1f8cf1[_0x24cfec(0x1ba)]['id'],'allow':['ADD_REACTIONS'],'deny':[_0x24cfec(0x188)]}]});await _0x1f8cf1[_0x24cfec(0x1ba)]['channels'][_0x24cfec(0x1b2)](_0x24cfec(0x1a8),{'type':_0x24cfec(0x178),'parent':_0x2e5945,'permissionOverwrites':[{'id':_0x1f8cf1[_0x24cfec(0x1ba)]['id'],'allow':['CONNECT'],'deny':['SPEAK']}]});const _0x532f02=_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x1a0)][_0x24cfec(0x17b)]&&_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x1a0)][_0x24cfec(0x17b)][_0x24cfec(0x181)]?_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x1a0)][_0x24cfec(0x17b)][_0x24cfec(0x181)][_0x24cfec(0x18d)](_0x2e5945['id']):[_0x2e5945['id']];await Guild_1[_0x24cfec(0x1a3)][_0x24cfec(0x1b0)](_0x1f8cf1[_0x24cfec(0x1ba)]['id'],{'voiceSessions':{'categories':_0x532f02['filter'](_0x4ffe30=>_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x19f)][_0x24cfec(0x1ae)]['has'](_0x4ffe30))}});const _0x2a07d1=await _0x35bcb2[_0x24cfec(0x177)]({'embed':{'color':tesseract_1[_0x24cfec(0x186)]['COLORS'][_0x24cfec(0x19e)],'title':_0x24cfec(0x179),'description':'You\x20can\x20lock,\x20unlock,\x20hide,\x20and\x20unhide\x20your\x20voice\x20session\x20by\x20reacting\x20to\x20the\x20this\x20message.'}});return await _0x2a07d1[_0x24cfec(0x192)]('🔒')[_0x24cfec(0x18a)](()=>{}),await _0x2a07d1['react']('🔓')[_0x24cfec(0x18a)](()=>{}),await _0x2a07d1[_0x24cfec(0x192)]('🔐')['catch'](()=>{}),await _0x2a07d1[_0x24cfec(0x192)]('👁️')['catch'](()=>{}),_0x1f8cf1['channel']['send']({'embed':{'color':tesseract_1[_0x24cfec(0x186)][_0x24cfec(0x194)][_0x24cfec(0x195)],'description':this['client'][_0x24cfec(0x19b)][_0x24cfec(0x17f)](_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x1a0)][_0x24cfec(0x180)],_0x24cfec(0x1ad),_0x24cfec(0x18b),_0x1f8cf1[_0x24cfec(0x1a9)][_0x24cfec(0x1aa)])}})[_0x24cfec(0x18a)](()=>{});}const _0x2ed95c=_0x1f8cf1[_0x24cfec(0x1ba)]['document'][_0x24cfec(0x17b)]?_0x1f8cf1['guild']['document'][_0x24cfec(0x17b)][_0x24cfec(0x181)]:[];return await _0x1f8cf1[_0x24cfec(0x1b4)]['send']({'embed':{'color':tesseract_1['Constants'][_0x24cfec(0x194)]['IRIS'],'title':(_0x2ed95c[_0x24cfec(0x184)]?'':_0x24cfec(0x1bb))+_0x24cfec(0x198),'description':_0x24cfec(0x176),'fields':_0x2ed95c[_0x24cfec(0x1b1)](_0x3778d8=>({'name':_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x19f)]['cache'][_0x24cfec(0x18e)](_0x3778d8)?_0x1f8cf1[_0x24cfec(0x1ba)][_0x24cfec(0x19f)][_0x24cfec(0x1ae)]['get'](_0x3778d8)[_0x24cfec(0x190)]:_0x24cfec(0x183),'value':_0x3778d8}))}});};}};