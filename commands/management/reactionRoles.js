const a67_0x2c6b=['save','parseEmoji','Constants','channel','message','_id','compile','client','../../models/ReactionRoleGroup','emoji','get','find','PremiumTier','tag','PREMIUM_MEMBERSHIP_REQUIRED','resolveRoles','REACTION_ROLES_PER_GROUP','default','map','react','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','user','emojis','reactionRoles\x20--role\x20ROLE\x20--no-emoji','info','@bastion/tesseract','ROLE_NOT_FOUND','roles','LIMITED_PREMIUM_MEMBERSHIP','getString','membershipLimitReactionRoleGroupRoles','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','return\x20/\x22\x20+\x20this\x20+\x20\x22/','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','name','test','fetchPremiumTier','cache','GOLD','IRIS','NO_REACTION_ROLES','reactionRolesGroupAdd','COLORS','errors','roleNotFound','../../utils/errors','locale','length','guild','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','reactionRoles','Emoji','delete','resolveRole','createDocument','messages','Role','exclusive','document','MANAGE_ROLES','../../utils/constants','DiscordError','reactionRolesGroupRemove','deleteOne','LIMITS','author','GREEN','RED','MESSAGE_NOT_FOUND','catch','REACTION_ROLE_GROUPS','isPublicBastion','premiumReactionRoleGroups','language','../../models/Role','resolver','send','join','reaction','exec','Role\x20Emoji\x20Added','PLATINUM','role','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','../../utils/omnic','fetchDocument','reactionRoles\x20--message\x20ID\x20--delete','Role\x20Emoji\x20Removed','BASTION_ERROR_TYPE','apply'];(function(_0x29b6fa,_0x2c6b91){const _0x389682=function(_0x269455){while(--_0x269455){_0x29b6fa['push'](_0x29b6fa['shift']());}};const _0x385bf1=function(){const _0x5c85e8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1f96ab,_0x2590b0,_0x231155,_0x1db544){_0x1db544=_0x1db544||{};let _0x3cfeb7=_0x2590b0+'='+_0x231155;let _0x133c2f=0x0;for(let _0x9686d6=0x0,_0x114886=_0x1f96ab['length'];_0x9686d6<_0x114886;_0x9686d6++){const _0x5ad2a7=_0x1f96ab[_0x9686d6];_0x3cfeb7+=';\x20'+_0x5ad2a7;const _0x1eb83d=_0x1f96ab[_0x5ad2a7];_0x1f96ab['push'](_0x1eb83d);_0x114886=_0x1f96ab['length'];if(_0x1eb83d!==!![]){_0x3cfeb7+='='+_0x1eb83d;}}_0x1db544['cookie']=_0x3cfeb7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3d5332,_0x5124ad){_0x3d5332=_0x3d5332||function(_0x33cba8){return _0x33cba8;};const _0x5b3afc=_0x3d5332(new RegExp('(?:^|;\x20)'+_0x5124ad['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x8c7dc8=function(_0x534b4e,_0x107ea4){_0x534b4e(++_0x107ea4);};_0x8c7dc8(_0x389682,_0x2c6b91);return _0x5b3afc?decodeURIComponent(_0x5b3afc[0x1]):undefined;}};const _0x195ec9=function(){const _0x505c24=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x505c24['test'](_0x5c85e8['removeCookie']['toString']());};_0x5c85e8['updateCookie']=_0x195ec9;let _0x44c6e9='';const _0x4a6578=_0x5c85e8['updateCookie']();if(!_0x4a6578){_0x5c85e8['setCookie'](['*'],'counter',0x1);}else if(_0x4a6578){_0x44c6e9=_0x5c85e8['getCookie'](null,'counter');}else{_0x5c85e8['removeCookie']();}};_0x385bf1();}(a67_0x2c6b,0x113));const a67_0x3896=function(_0x29b6fa,_0x2c6b91){_0x29b6fa=_0x29b6fa-0x0;let _0x389682=a67_0x2c6b[_0x29b6fa];return _0x389682;};const a67_0x5c85e8=function(){let _0x12936e=!![];return function(_0x16c3d4,_0x1956be){const _0x59d50d=_0x12936e?function(){if(_0x1956be){const _0x26e6ca=_0x1956be[a67_0x3896('0x54')](_0x16c3d4,arguments);_0x1956be=null;return _0x26e6ca;}}:function(){};_0x12936e=![];return _0x59d50d;};}();const a67_0x269455=a67_0x5c85e8(this,function(){const _0x24835c=function(){const _0x2cc485=_0x24835c['constructor'](a67_0x3896('0x1b'))()[a67_0x3896('0x1')](a67_0x3896('0x1c'));return!_0x2cc485[a67_0x3896('0x1e')](a67_0x269455);};return _0x24835c();});a67_0x269455();'use strict';const tesseract_1=require(a67_0x3896('0x14'));const Role_1=require(a67_0x3896('0x45'));const ReactionRoleGroup_1=require(a67_0x3896('0x3'));const constants=require(a67_0x3896('0x37'));const emojis=require('../../utils/emojis');const errors=require(a67_0x3896('0x28'));const omnic=require(a67_0x3896('0x4f'));module['exports']=class ReactionRolesCommand extends tesseract_1['Command']{constructor(){super(a67_0x3896('0x2d'),{'description':a67_0x3896('0x4e'),'triggers':[],'arguments':{'array':['role'],'boolean':[a67_0x3896('0x2f'),'exclusive'],'string':[a67_0x3896('0x59'),a67_0x3896('0x4d'),a67_0x3896('0x4')]},'scope':a67_0x3896('0x2b'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a67_0x3896('0x36')],'userPermissions':[a67_0x3896('0x36')],'syntax':['reactionRoles',a67_0x3896('0x1a'),a67_0x3896('0x12'),a67_0x3896('0x2c'),'reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive',a67_0x3896('0x51')]});this[a67_0x3896('0x4a')]=async(_0x35eb24,_0x21fe08)=>{if(_0x21fe08[a67_0x3896('0x59')]&&_0x21fe08[a67_0x3896('0x2f')]){await ReactionRoleGroup_1[a67_0x3896('0xc')][a67_0x3896('0x3a')]({'_id':_0x21fe08[a67_0x3896('0x59')]});return await _0x35eb24[a67_0x3896('0x58')][a67_0x3896('0x47')]({'embed':{'color':tesseract_1[a67_0x3896('0x57')][a67_0x3896('0x25')][a67_0x3896('0x3e')],'description':this[a67_0x3896('0x2')][a67_0x3896('0x29')][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x35')]['language'],a67_0x3896('0x13'),a67_0x3896('0x39'),_0x35eb24[a67_0x3896('0x3c')][a67_0x3896('0x8')],_0x21fe08[a67_0x3896('0x59')])}})[a67_0x3896('0x40')](()=>{});}if(_0x21fe08[a67_0x3896('0x59')]&&_0x21fe08[a67_0x3896('0x4d')]&&_0x21fe08[a67_0x3896('0x4d')]['length']){if(constants[a67_0x3896('0x42')](this[a67_0x3896('0x2')][a67_0x3896('0x10')])){const _0xbbab7c=await omnic[a67_0x3896('0x1f')](_0x35eb24['guild'])[a67_0x3896('0x40')](()=>{});if(_0xbbab7c){if(_0xbbab7c===omnic['PremiumTier']['GOLD']&&_0x21fe08[a67_0x3896('0x4d')][a67_0x3896('0x2a')]>constants[a67_0x3896('0x3b')][a67_0x3896('0x21')]['REACTION_ROLES_PER_GROUP']){throw new errors[(a67_0x3896('0x38'))](errors['BASTION_ERROR_TYPE'][a67_0x3896('0x17')],this[a67_0x3896('0x2')][a67_0x3896('0x29')][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')]['document'][a67_0x3896('0x44')],a67_0x3896('0x26'),a67_0x3896('0x19'),constants[a67_0x3896('0x3b')][a67_0x3896('0x21')][a67_0x3896('0xb')]));}else if(_0xbbab7c===omnic[a67_0x3896('0x7')][a67_0x3896('0x4c')]&&_0x21fe08[a67_0x3896('0x4d')][a67_0x3896('0x2a')]>constants[a67_0x3896('0x3b')][a67_0x3896('0x4c')][a67_0x3896('0xb')]){throw new errors['DiscordError'](errors[a67_0x3896('0x53')][a67_0x3896('0x17')],this[a67_0x3896('0x2')]['locale'][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x35')]['language'],a67_0x3896('0x26'),a67_0x3896('0x19'),constants[a67_0x3896('0x3b')][a67_0x3896('0x4c')][a67_0x3896('0xb')]));}}else if(_0x21fe08[a67_0x3896('0x4d')]['length']>constants[a67_0x3896('0x3b')][a67_0x3896('0xb')]){throw new errors[(a67_0x3896('0x38'))](errors[a67_0x3896('0x53')][a67_0x3896('0x9')],this[a67_0x3896('0x2')]['locale'][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x35')]['language'],a67_0x3896('0x26'),'premiumReactionRoleGroupRoles',constants[a67_0x3896('0x3b')][a67_0x3896('0xb')]));}const _0x40c889=await ReactionRoleGroup_1[a67_0x3896('0xc')]['countDocuments']({'guild':_0x35eb24[a67_0x3896('0x2b')]['id']});if(_0xbbab7c){if(_0xbbab7c===omnic['PremiumTier']['GOLD']&&_0x40c889>=constants[a67_0x3896('0x3b')][a67_0x3896('0x21')]['REACTION_ROLE_GROUPS']){throw new errors[(a67_0x3896('0x38'))](errors[a67_0x3896('0x53')][a67_0x3896('0x17')],this[a67_0x3896('0x2')][a67_0x3896('0x29')][a67_0x3896('0x18')](_0x35eb24['guild'][a67_0x3896('0x35')][a67_0x3896('0x44')],a67_0x3896('0x26'),'membershipLimitReactionRoleGroups',constants[a67_0x3896('0x3b')][a67_0x3896('0x21')][a67_0x3896('0x41')]));}else if(_0xbbab7c===omnic[a67_0x3896('0x7')][a67_0x3896('0x4c')]&&_0x40c889>=constants[a67_0x3896('0x3b')]['PLATINUM'][a67_0x3896('0x41')]){throw new errors[(a67_0x3896('0x38'))](errors[a67_0x3896('0x53')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a67_0x3896('0x2')][a67_0x3896('0x29')][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')]['document'][a67_0x3896('0x44')],a67_0x3896('0x26'),'membershipLimitReactionRoleGroups',constants['LIMITS']['PLATINUM']['REACTION_ROLE_GROUPS']));}}else if(_0x40c889>=constants[a67_0x3896('0x3b')]['REACTION_ROLE_GROUPS']){throw new errors['DiscordError'](errors[a67_0x3896('0x53')][a67_0x3896('0x9')],this[a67_0x3896('0x2')][a67_0x3896('0x29')]['getString'](_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x35')][a67_0x3896('0x44')],'errors',a67_0x3896('0x43'),constants[a67_0x3896('0x3b')][a67_0x3896('0x41')]));}}const _0x357043=await _0x35eb24[a67_0x3896('0x58')][a67_0x3896('0x32')]['fetch'](_0x21fe08['message'],![])[a67_0x3896('0x40')](()=>{});if(!_0x357043)throw new Error(a67_0x3896('0x3f'));const _0x4a155f=this[a67_0x3896('0x2')][a67_0x3896('0x46')][a67_0x3896('0xa')](_0x35eb24[a67_0x3896('0x2b')],_0x21fe08[a67_0x3896('0x4d')]);if(!_0x4a155f['length'])throw new errors['DiscordError'](errors[a67_0x3896('0x53')][a67_0x3896('0x15')],this[a67_0x3896('0x2')]['locale'][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')]['document']['language'],a67_0x3896('0x26'),a67_0x3896('0x27')));await ReactionRoleGroup_1[a67_0x3896('0xc')]['findByIdAndUpdate'](_0x357043['id'],{'_id':_0x357043['id'],'channel':_0x35eb24[a67_0x3896('0x58')]['id'],'guild':_0x35eb24[a67_0x3896('0x2b')]['id'],'roles':_0x4a155f[a67_0x3896('0xd')](_0x117177=>_0x117177['id']),'exclusive':_0x21fe08[a67_0x3896('0x34')]?_0x21fe08[a67_0x3896('0x34')]:undefined},{'upsert':!![]});await _0x35eb24[a67_0x3896('0x58')][a67_0x3896('0x47')]({'embed':{'color':tesseract_1[a67_0x3896('0x57')][a67_0x3896('0x25')][a67_0x3896('0x3d')],'description':this[a67_0x3896('0x2')][a67_0x3896('0x29')][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x35')]['language'],a67_0x3896('0x13'),a67_0x3896('0x24'),_0x35eb24[a67_0x3896('0x3c')][a67_0x3896('0x8')],_0x357043['url'])}})[a67_0x3896('0x40')](()=>{});const _0x43e342=await Role_1['default'][a67_0x3896('0x6')]({'$or':_0x4a155f['map'](_0x213cd6=>({'_id':_0x213cd6['id']})),'guild':_0x35eb24[a67_0x3896('0x2b')]['id'],'emoji':{'$exists':!![]}});if(_0x43e342&&_0x43e342[a67_0x3896('0x2a')]){for(const _0x3fa03e of _0x43e342){const _0xf8bce4=emojis['parseEmoji'](_0x3fa03e[a67_0x3896('0x4')]);await _0x357043[a67_0x3896('0xe')](_0xf8bce4[a67_0x3896('0x49')]);}}return;}if(_0x21fe08['role']){const _0x5749aa=_0x21fe08[a67_0x3896('0x4d')]?_0x21fe08[a67_0x3896('0x4d')][a67_0x3896('0x48')]('\x20'):'';const _0x389806=this['client'][a67_0x3896('0x46')][a67_0x3896('0x30')](_0x35eb24['guild'],_0x5749aa);if(!_0x389806)throw new errors[(a67_0x3896('0x38'))](errors['BASTION_ERROR_TYPE']['ROLE_NOT_FOUND'],this[a67_0x3896('0x2')][a67_0x3896('0x29')][a67_0x3896('0x18')](_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x35')]['language'],a67_0x3896('0x26'),a67_0x3896('0x27')));let _0x5a2747=await _0x389806[a67_0x3896('0x50')]();if(!_0x5a2747&&_0x21fe08[a67_0x3896('0x4')]){_0x5a2747=await _0x389806[a67_0x3896('0x31')]();}if(_0x21fe08[a67_0x3896('0x4')]){const _0x90ba73=emojis[a67_0x3896('0x56')](_0x21fe08[a67_0x3896('0x4')]);_0x5a2747[a67_0x3896('0x4')]=_0x90ba73['value'];await _0x5a2747[a67_0x3896('0x55')]();}else if(_0x5a2747&&_0x21fe08[a67_0x3896('0x4')]===![]){_0x5a2747[a67_0x3896('0x4')]=undefined;await _0x5a2747[a67_0x3896('0x55')]();}const _0x18e72d=_0x5a2747?emojis['parseEmoji'](_0x5a2747[a67_0x3896('0x4')]):undefined;return await _0x35eb24[a67_0x3896('0x58')][a67_0x3896('0x47')]({'embed':{'color':_0x21fe08['emoji']?tesseract_1[a67_0x3896('0x57')][a67_0x3896('0x25')][a67_0x3896('0x3d')]:_0x21fe08[a67_0x3896('0x4')]===![]?tesseract_1[a67_0x3896('0x57')][a67_0x3896('0x25')]['RED']:tesseract_1[a67_0x3896('0x57')][a67_0x3896('0x25')][a67_0x3896('0x22')],'title':_0x21fe08['emoji']?a67_0x3896('0x4b'):_0x21fe08[a67_0x3896('0x4')]===![]?a67_0x3896('0x52'):'Role\x20Emoji','fields':[{'name':a67_0x3896('0x33'),'value':_0x389806[a67_0x3896('0x1d')]||'-','inline':!![]},{'name':a67_0x3896('0x2e'),'value':_0x18e72d?_0x18e72d[a67_0x3896('0x49')]===_0x18e72d['value']?_0x35eb24[a67_0x3896('0x2b')][a67_0x3896('0x11')][a67_0x3896('0x20')][a67_0x3896('0x5')](_0x18e72d[a67_0x3896('0x49')])||_0x18e72d['value']:_0x18e72d['reaction']:'-','inline':!![]}]}})[a67_0x3896('0x40')](()=>{});}const _0x30c1ed=await ReactionRoleGroup_1[a67_0x3896('0xc')][a67_0x3896('0x6')]({});if(!_0x30c1ed)throw new Error(a67_0x3896('0x23'));await _0x35eb24[a67_0x3896('0x58')][a67_0x3896('0x47')]({'embed':{'title':'Reaction\x20Role\x20Groups','fields':_0x30c1ed['map'](_0x5a531b=>({'name':_0x5a531b[a67_0x3896('0x0')],'value':_0x5a531b[a67_0x3896('0x16')][a67_0x3896('0x2a')]+'\x20Roles'+(_0x5a531b[a67_0x3896('0x34')]?'\x20/\x20Exclusive':'')+a67_0x3896('0xf')+_0x5a531b[a67_0x3896('0x2b')]+'/'+_0x5a531b[a67_0x3896('0x58')]+'/'+_0x5a531b['_id']+')'}))}})[a67_0x3896('0x40')](()=>{});};}};