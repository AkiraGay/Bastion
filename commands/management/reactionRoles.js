const a70_0x2940=['delete','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','countDocuments','parseEmoji','find','../../utils/omnic','BASTION_ERROR_TYPE','isPublicBastion','ROLE_NOT_FOUND','REACTION_ROLES_PER_GROUP','roleNotFound','channel','fetchDocument','info','reactionRolesGroupRemove','../../models/Role','apply','send','get','exclusive','author','emoji','tag','LIMITED_PREMIUM_MEMBERSHIP','deleteOne','language','premiumReactionRoleGroups','errors','document','resolver','Reaction\x20Role\x20Groups','save','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','Role\x20Emoji','user','reactionRoles\x20--role\x20ROLE\x20--no-emoji','fetchPremiumTier','Role\x20Emoji\x20Added','locale','constructor','getString','value','Constants','createDocument','../../utils/emojis','message','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','DiscordError','client','PLATINUM','map','Role\x20Emoji\x20Removed','GREEN','join','default','../../utils/constants','length','cache','IRIS','_id','LIMITS','catch','\x20Roles','membershipLimitReactionRoleGroupRoles','PREMIUM_MEMBERSHIP_REQUIRED','react','Emoji','MANAGE_ROLES','reaction','PremiumTier','guild','RED','resolveRoles','role','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','COLORS','reactionRoles\x20--message\x20ID\x20--delete','fetch','NO_REACTION_ROLES','REACTION_ROLE_GROUPS','findByIdAndUpdate','roles','reactionRoles','Command','GOLD','reactionRolesGroupAdd'];(function(_0x406a03,_0x2940af){const _0xd3d181=function(_0x349bd1){while(--_0x349bd1){_0x406a03['push'](_0x406a03['shift']());}},_0x3cb221=function(){const _0x57881c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5cd21f,_0x63cf66,_0x360de7,_0xf7c896){_0xf7c896=_0xf7c896||{};let _0x240a52=_0x63cf66+'='+_0x360de7,_0x36dea2=0x0;for(let _0x4fa223=0x0,_0x287493=_0x5cd21f['length'];_0x4fa223<_0x287493;_0x4fa223++){const _0x4ac97d=_0x5cd21f[_0x4fa223];_0x240a52+=';\x20'+_0x4ac97d;const _0x4e3cd6=_0x5cd21f[_0x4ac97d];_0x5cd21f['push'](_0x4e3cd6),_0x287493=_0x5cd21f['length'],_0x4e3cd6!==!![]&&(_0x240a52+='='+_0x4e3cd6);}_0xf7c896['cookie']=_0x240a52;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4cd96e,_0x288ce2){_0x4cd96e=_0x4cd96e||function(_0x36f66f){return _0x36f66f;};const _0x588db8=_0x4cd96e(new RegExp('(?:^|;\x20)'+_0x288ce2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x42a4c4=function(_0x5e6232,_0x19aa00){_0x5e6232(++_0x19aa00);};return _0x42a4c4(_0xd3d181,_0x2940af),_0x588db8?decodeURIComponent(_0x588db8[0x1]):undefined;}},_0x246c96=function(){const _0x5b64ea=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5b64ea['test'](_0x57881c['removeCookie']['toString']());};_0x57881c['updateCookie']=_0x246c96;let _0x3a47a1='';const _0x1e864e=_0x57881c['updateCookie']();if(!_0x1e864e)_0x57881c['setCookie'](['*'],'counter',0x1);else _0x1e864e?_0x3a47a1=_0x57881c['getCookie'](null,'counter'):_0x57881c['removeCookie']();};_0x3cb221();}(a70_0x2940,0x74));const a70_0xd3d1=function(_0x406a03,_0x2940af){_0x406a03=_0x406a03-0x0;let _0xd3d181=a70_0x2940[_0x406a03];return _0xd3d181;};const a70_0x360de7=function(){let _0x1b7805=!![];return function(_0x3a561a,_0x4aed5d){const _0x333fe8=_0x1b7805?function(){if(_0x4aed5d){const _0x447784=_0x4aed5d[a70_0xd3d1('0x48')](_0x3a561a,arguments);return _0x4aed5d=null,_0x447784;}}:function(){};return _0x1b7805=![],_0x333fe8;};}(),a70_0x63cf66=a70_0x360de7(this,function(){const _0x107e5f=function(){const _0x4740c5=_0x107e5f[a70_0xd3d1('0x9')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a70_0xd3d1('0x9')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4740c5['test'](a70_0x63cf66);};return _0x107e5f();});a70_0x63cf66();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a70_0xd3d1('0x47')),ReactionRoleGroup_1=require('../../models/ReactionRoleGroup'),constants=require(a70_0xd3d1('0x19')),emojis=require(a70_0xd3d1('0xe')),errors=require('../../utils/errors'),omnic=require(a70_0xd3d1('0x3d'));module['exports']=class ReactionRolesCommand extends tesseract_1[a70_0xd3d1('0x35')]{constructor(){super(a70_0xd3d1('0x34'),{'description':a70_0xd3d1('0x39'),'triggers':[],'arguments':{'array':[a70_0xd3d1('0x2b')],'boolean':[a70_0xd3d1('0x38'),a70_0xd3d1('0x4b')],'string':[a70_0xd3d1('0xf'),a70_0xd3d1('0x2b'),a70_0xd3d1('0x4d')]},'scope':a70_0xd3d1('0x28'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a70_0xd3d1('0x25')],'userPermissions':[a70_0xd3d1('0x25')],'syntax':[a70_0xd3d1('0x34'),a70_0xd3d1('0x2c'),a70_0xd3d1('0x5'),a70_0xd3d1('0x2'),'reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive',a70_0xd3d1('0x2e')]}),this['exec']=async(_0x304db6,_0x1a94d0)=>{if(_0x1a94d0['message']&&_0x1a94d0['delete'])return await ReactionRoleGroup_1[a70_0xd3d1('0x18')][a70_0xd3d1('0x50')]({'_id':_0x1a94d0[a70_0xd3d1('0xf')]}),await _0x304db6['channel'][a70_0xd3d1('0x49')]({'embed':{'color':tesseract_1[a70_0xd3d1('0xc')][a70_0xd3d1('0x2d')][a70_0xd3d1('0x29')],'description':this[a70_0xd3d1('0x12')]['locale'][a70_0xd3d1('0xa')](_0x304db6['guild'][a70_0xd3d1('0x54')][a70_0xd3d1('0x51')],a70_0xd3d1('0x45'),a70_0xd3d1('0x46'),_0x304db6[a70_0xd3d1('0x4c')][a70_0xd3d1('0x4e')],_0x1a94d0[a70_0xd3d1('0xf')])}})[a70_0xd3d1('0x1f')](()=>{});if(_0x1a94d0[a70_0xd3d1('0xf')]&&_0x1a94d0['role']&&_0x1a94d0['role'][a70_0xd3d1('0x1a')]){if(constants[a70_0xd3d1('0x3f')](this[a70_0xd3d1('0x12')][a70_0xd3d1('0x4')])){const _0x5c8963=await omnic[a70_0xd3d1('0x6')](_0x304db6['guild'])[a70_0xd3d1('0x1f')](()=>{});if(_0x5c8963){if(_0x5c8963===omnic[a70_0xd3d1('0x27')][a70_0xd3d1('0x36')]&&_0x1a94d0[a70_0xd3d1('0x2b')][a70_0xd3d1('0x1a')]>constants['LIMITS'][a70_0xd3d1('0x36')]['REACTION_ROLES_PER_GROUP'])throw new errors[(a70_0xd3d1('0x11'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a70_0xd3d1('0x12')][a70_0xd3d1('0x8')][a70_0xd3d1('0xa')](_0x304db6['guild'][a70_0xd3d1('0x54')][a70_0xd3d1('0x51')],a70_0xd3d1('0x53'),a70_0xd3d1('0x21'),constants['LIMITS'][a70_0xd3d1('0x36')][a70_0xd3d1('0x41')]));else{if(_0x5c8963===omnic[a70_0xd3d1('0x27')][a70_0xd3d1('0x13')]&&_0x1a94d0[a70_0xd3d1('0x2b')][a70_0xd3d1('0x1a')]>constants['LIMITS']['PLATINUM'][a70_0xd3d1('0x41')])throw new errors[(a70_0xd3d1('0x11'))](errors[a70_0xd3d1('0x3e')][a70_0xd3d1('0x4f')],this[a70_0xd3d1('0x12')][a70_0xd3d1('0x8')]['getString'](_0x304db6[a70_0xd3d1('0x28')]['document'][a70_0xd3d1('0x51')],'errors',a70_0xd3d1('0x21'),constants[a70_0xd3d1('0x1e')][a70_0xd3d1('0x13')][a70_0xd3d1('0x41')]));}}else{if(_0x1a94d0[a70_0xd3d1('0x2b')][a70_0xd3d1('0x1a')]>constants[a70_0xd3d1('0x1e')][a70_0xd3d1('0x41')])throw new errors[(a70_0xd3d1('0x11'))](errors[a70_0xd3d1('0x3e')][a70_0xd3d1('0x22')],this[a70_0xd3d1('0x12')][a70_0xd3d1('0x8')][a70_0xd3d1('0xa')](_0x304db6[a70_0xd3d1('0x28')][a70_0xd3d1('0x54')][a70_0xd3d1('0x51')],a70_0xd3d1('0x53'),'premiumReactionRoleGroupRoles',constants[a70_0xd3d1('0x1e')][a70_0xd3d1('0x41')]));}const _0x1ee695=await ReactionRoleGroup_1[a70_0xd3d1('0x18')][a70_0xd3d1('0x3a')]({'guild':_0x304db6['guild']['id']});if(_0x5c8963){if(_0x5c8963===omnic[a70_0xd3d1('0x27')][a70_0xd3d1('0x36')]&&_0x1ee695>=constants[a70_0xd3d1('0x1e')]['GOLD'][a70_0xd3d1('0x31')])throw new errors['DiscordError'](errors[a70_0xd3d1('0x3e')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a70_0xd3d1('0x12')]['locale'][a70_0xd3d1('0xa')](_0x304db6['guild']['document'][a70_0xd3d1('0x51')],a70_0xd3d1('0x53'),'membershipLimitReactionRoleGroups',constants[a70_0xd3d1('0x1e')][a70_0xd3d1('0x36')][a70_0xd3d1('0x31')]));else{if(_0x5c8963===omnic['PremiumTier'][a70_0xd3d1('0x13')]&&_0x1ee695>=constants['LIMITS'][a70_0xd3d1('0x13')][a70_0xd3d1('0x31')])throw new errors[(a70_0xd3d1('0x11'))](errors[a70_0xd3d1('0x3e')][a70_0xd3d1('0x4f')],this['client'][a70_0xd3d1('0x8')]['getString'](_0x304db6[a70_0xd3d1('0x28')][a70_0xd3d1('0x54')][a70_0xd3d1('0x51')],a70_0xd3d1('0x53'),'membershipLimitReactionRoleGroups',constants['LIMITS'][a70_0xd3d1('0x13')][a70_0xd3d1('0x31')]));}}else{if(_0x1ee695>=constants[a70_0xd3d1('0x1e')]['REACTION_ROLE_GROUPS'])throw new errors[(a70_0xd3d1('0x11'))](errors[a70_0xd3d1('0x3e')][a70_0xd3d1('0x22')],this[a70_0xd3d1('0x12')][a70_0xd3d1('0x8')]['getString'](_0x304db6[a70_0xd3d1('0x28')][a70_0xd3d1('0x54')]['language'],'errors',a70_0xd3d1('0x52'),constants[a70_0xd3d1('0x1e')][a70_0xd3d1('0x31')]));}}const _0x41c1d3=await _0x304db6[a70_0xd3d1('0x43')]['messages'][a70_0xd3d1('0x2f')](_0x1a94d0[a70_0xd3d1('0xf')],![])[a70_0xd3d1('0x1f')](()=>{});if(!_0x41c1d3)throw new Error('MESSAGE_NOT_FOUND');const _0x2c0626=this['client'][a70_0xd3d1('0x55')][a70_0xd3d1('0x2a')](_0x304db6[a70_0xd3d1('0x28')],_0x1a94d0['role']);if(!_0x2c0626[a70_0xd3d1('0x1a')])throw new errors['DiscordError'](errors[a70_0xd3d1('0x3e')]['ROLE_NOT_FOUND'],this[a70_0xd3d1('0x12')]['locale'][a70_0xd3d1('0xa')](_0x304db6[a70_0xd3d1('0x28')][a70_0xd3d1('0x54')][a70_0xd3d1('0x51')],a70_0xd3d1('0x53'),a70_0xd3d1('0x42')));await ReactionRoleGroup_1[a70_0xd3d1('0x18')][a70_0xd3d1('0x32')](_0x41c1d3['id'],{'_id':_0x41c1d3['id'],'channel':_0x304db6[a70_0xd3d1('0x43')]['id'],'guild':_0x304db6['guild']['id'],'roles':_0x2c0626[a70_0xd3d1('0x14')](_0x23beb5=>_0x23beb5['id']),'exclusive':_0x1a94d0['exclusive']?_0x1a94d0[a70_0xd3d1('0x4b')]:undefined},{'upsert':!![]}),await _0x304db6[a70_0xd3d1('0x43')]['send']({'embed':{'color':tesseract_1[a70_0xd3d1('0xc')][a70_0xd3d1('0x2d')][a70_0xd3d1('0x16')],'description':this[a70_0xd3d1('0x12')]['locale']['getString'](_0x304db6[a70_0xd3d1('0x28')]['document'][a70_0xd3d1('0x51')],a70_0xd3d1('0x45'),a70_0xd3d1('0x37'),_0x304db6[a70_0xd3d1('0x4c')]['tag'],_0x41c1d3['url'])}})[a70_0xd3d1('0x1f')](()=>{});const _0x4852d0=await Role_1['default'][a70_0xd3d1('0x3c')]({'$or':_0x2c0626['map'](_0x49c9da=>({'_id':_0x49c9da['id']})),'guild':_0x304db6[a70_0xd3d1('0x28')]['id'],'emoji':{'$exists':!![]}});if(_0x4852d0&&_0x4852d0['length'])for(const _0x215de1 of _0x4852d0){const _0x55aafd=emojis['parseEmoji'](_0x215de1[a70_0xd3d1('0x4d')]);await _0x41c1d3[a70_0xd3d1('0x23')](_0x55aafd[a70_0xd3d1('0x26')]);}return;}if(_0x1a94d0['role']){const _0x293beb=_0x1a94d0[a70_0xd3d1('0x2b')]?_0x1a94d0[a70_0xd3d1('0x2b')][a70_0xd3d1('0x17')]('\x20'):'',_0x190cf1=this['client'][a70_0xd3d1('0x55')]['resolveRole'](_0x304db6[a70_0xd3d1('0x28')],_0x293beb);if(!_0x190cf1)throw new errors[(a70_0xd3d1('0x11'))](errors['BASTION_ERROR_TYPE'][a70_0xd3d1('0x40')],this[a70_0xd3d1('0x12')]['locale'][a70_0xd3d1('0xa')](_0x304db6[a70_0xd3d1('0x28')][a70_0xd3d1('0x54')]['language'],a70_0xd3d1('0x53'),a70_0xd3d1('0x42')));let _0x429359=await _0x190cf1[a70_0xd3d1('0x44')]();!_0x429359&&_0x1a94d0[a70_0xd3d1('0x4d')]&&(_0x429359=await _0x190cf1[a70_0xd3d1('0xd')]());if(_0x1a94d0[a70_0xd3d1('0x4d')]){const _0x16478=emojis[a70_0xd3d1('0x3b')](_0x1a94d0[a70_0xd3d1('0x4d')]);_0x429359['emoji']=_0x16478[a70_0xd3d1('0xb')],await _0x429359[a70_0xd3d1('0x1')]();}else _0x429359&&_0x1a94d0[a70_0xd3d1('0x4d')]===![]&&(_0x429359['emoji']=undefined,await _0x429359[a70_0xd3d1('0x1')]());const _0x1c9bba=_0x429359?emojis[a70_0xd3d1('0x3b')](_0x429359[a70_0xd3d1('0x4d')]):undefined;return await _0x304db6[a70_0xd3d1('0x43')]['send']({'embed':{'color':_0x1a94d0[a70_0xd3d1('0x4d')]?tesseract_1[a70_0xd3d1('0xc')][a70_0xd3d1('0x2d')]['GREEN']:_0x1a94d0[a70_0xd3d1('0x4d')]===![]?tesseract_1['Constants'][a70_0xd3d1('0x2d')][a70_0xd3d1('0x29')]:tesseract_1[a70_0xd3d1('0xc')][a70_0xd3d1('0x2d')][a70_0xd3d1('0x1c')],'title':_0x1a94d0[a70_0xd3d1('0x4d')]?a70_0xd3d1('0x7'):_0x1a94d0[a70_0xd3d1('0x4d')]===![]?a70_0xd3d1('0x15'):a70_0xd3d1('0x3'),'fields':[{'name':'Role','value':_0x190cf1['name']||'-','inline':!![]},{'name':a70_0xd3d1('0x24'),'value':_0x1c9bba?_0x1c9bba[a70_0xd3d1('0x26')]===_0x1c9bba['value']?_0x304db6['guild']['emojis'][a70_0xd3d1('0x1b')][a70_0xd3d1('0x4a')](_0x1c9bba[a70_0xd3d1('0x26')])||_0x1c9bba[a70_0xd3d1('0xb')]:_0x1c9bba[a70_0xd3d1('0x26')]:'-','inline':!![]}]}})[a70_0xd3d1('0x1f')](()=>{});}const _0x363909=await ReactionRoleGroup_1[a70_0xd3d1('0x18')][a70_0xd3d1('0x3c')]({});if(!_0x363909)throw new Error(a70_0xd3d1('0x30'));await _0x304db6[a70_0xd3d1('0x43')][a70_0xd3d1('0x49')]({'embed':{'title':a70_0xd3d1('0x0'),'fields':_0x363909[a70_0xd3d1('0x14')](_0x5022b7=>({'name':_0x5022b7['_id'],'value':_0x5022b7[a70_0xd3d1('0x33')][a70_0xd3d1('0x1a')]+a70_0xd3d1('0x20')+(_0x5022b7[a70_0xd3d1('0x4b')]?'\x20/\x20Exclusive':'')+a70_0xd3d1('0x10')+_0x5022b7['guild']+'/'+_0x5022b7[a70_0xd3d1('0x43')]+'/'+_0x5022b7[a70_0xd3d1('0x1d')]+')'}))}})['catch'](()=>{});};}};