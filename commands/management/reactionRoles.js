const a67_0x3fa8=['default','../../models/ReactionRoleGroup','BASTION_ERROR_TYPE','resolveRoles','tag','exports','info','messages','Role\x20Emoji','reactionRoles\x20--message\x20ID\x20--delete','fetchDocument','GREEN','reactionRolesGroupRemove','compile','emojis','errors','Emoji','IRIS','role','language','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','roleNotFound','deleteOne','locale','premiumReactionRoleGroups','LIMITS','Role\x20Emoji\x20Removed','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','NO_REACTION_ROLES','PLATINUM','emoji','delete','length','../../utils/omnic','../../models/Role','reaction','reactionRolesGroupAdd','COLORS','fetchPremiumTier','get','document','membershipLimitReactionRoleGroupRoles','resolver','parseEmoji','catch','PremiumTier','Reaction\x20Role\x20Groups','Role\x20Emoji\x20Added','Role','resolveRole','DiscordError','author','message','MANAGE_ROLES','name','\x20Roles','exclusive','countDocuments','react','getString','save','exec','fetch','value','find','membershipLimitReactionRoleGroups','user','PREMIUM_MEMBERSHIP_REQUIRED','MESSAGE_NOT_FOUND','roles','../../utils/emojis','channel','reactionRoles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','client','_id','guild','@bastion/tesseract','send','premiumReactionRoleGroupRoles','findByIdAndUpdate','join','constructor','test','map','Constants','REACTION_ROLE_GROUPS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','cache','RED','LIMITED_PREMIUM_MEMBERSHIP','reactionRoles\x20--role\x20ROLE\x20--no-emoji','REACTION_ROLES_PER_GROUP','ROLE_NOT_FOUND','../../utils/errors','GOLD','\x20/\x20Exclusive','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','../../utils/constants'];(function(_0x105c69,_0x3fa8ae){const _0x1c5ad5=function(_0x1bd676){while(--_0x1bd676){_0x105c69['push'](_0x105c69['shift']());}};const _0x403e33=function(){const _0x2ceeaf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1b3a6c,_0x3e5bdf,_0x1ed3e8,_0x2f357b){_0x2f357b=_0x2f357b||{};let _0x34c7de=_0x3e5bdf+'='+_0x1ed3e8;let _0x1e7dfa=0x0;for(let _0x1b43f8=0x0,_0x3eed54=_0x1b3a6c['length'];_0x1b43f8<_0x3eed54;_0x1b43f8++){const _0x8d02cc=_0x1b3a6c[_0x1b43f8];_0x34c7de+=';\x20'+_0x8d02cc;const _0x3f48c0=_0x1b3a6c[_0x8d02cc];_0x1b3a6c['push'](_0x3f48c0);_0x3eed54=_0x1b3a6c['length'];if(_0x3f48c0!==!![]){_0x34c7de+='='+_0x3f48c0;}}_0x2f357b['cookie']=_0x34c7de;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1759b9,_0x115134){_0x1759b9=_0x1759b9||function(_0x2db8a0){return _0x2db8a0;};const _0x51ee41=_0x1759b9(new RegExp('(?:^|;\x20)'+_0x115134['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x262841=function(_0x1ba46d,_0x5471ea){_0x1ba46d(++_0x5471ea);};_0x262841(_0x1c5ad5,_0x3fa8ae);return _0x51ee41?decodeURIComponent(_0x51ee41[0x1]):undefined;}};const _0x3cf53f=function(){const _0x27bff4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x27bff4['test'](_0x2ceeaf['removeCookie']['toString']());};_0x2ceeaf['updateCookie']=_0x3cf53f;let _0x56857e='';const _0x40da26=_0x2ceeaf['updateCookie']();if(!_0x40da26){_0x2ceeaf['setCookie'](['*'],'counter',0x1);}else if(_0x40da26){_0x56857e=_0x2ceeaf['getCookie'](null,'counter');}else{_0x2ceeaf['removeCookie']();}};_0x403e33();}(a67_0x3fa8,0xa8));const a67_0x1c5a=function(_0x105c69,_0x3fa8ae){_0x105c69=_0x105c69-0x0;let _0x1c5ad5=a67_0x3fa8[_0x105c69];return _0x1c5ad5;};const a67_0x2ceeaf=function(){let _0x410978=!![];return function(_0x677dd5,_0x100e5d){const _0x30880f=_0x410978?function(){if(_0x100e5d){const _0x3eace5=_0x100e5d['apply'](_0x677dd5,arguments);_0x100e5d=null;return _0x3eace5;}}:function(){};_0x410978=![];return _0x30880f;};}();const a67_0x1bd676=a67_0x2ceeaf(this,function(){const _0x455a98=function(){const _0x503763=_0x455a98[a67_0x1c5a('0xd')](a67_0x1c5a('0x12'))()[a67_0x1c5a('0x2b')](a67_0x1c5a('0x4'));return!_0x503763[a67_0x1c5a('0xe')](a67_0x1bd676);};return _0x455a98();});a67_0x1bd676();'use strict';const tesseract_1=require(a67_0x1c5a('0x8'));const Role_1=require(a67_0x1c5a('0x40'));const ReactionRoleGroup_1=require(a67_0x1c5a('0x1f'));const constants=require(a67_0x1c5a('0x1d'));const emojis=require(a67_0x1c5a('0x1'));const errors=require(a67_0x1c5a('0x19'));const omnic=require(a67_0x1c5a('0x3f'));module[a67_0x1c5a('0x23')]=class ReactionRolesCommand extends tesseract_1['Command']{constructor(){super(a67_0x1c5a('0x3'),{'description':a67_0x1c5a('0x39'),'triggers':[],'arguments':{'array':[a67_0x1c5a('0x30')],'boolean':['delete',a67_0x1c5a('0x56')],'string':[a67_0x1c5a('0x52'),a67_0x1c5a('0x30'),a67_0x1c5a('0x3c')]},'scope':a67_0x1c5a('0x7'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a67_0x1c5a('0x53')],'userPermissions':[a67_0x1c5a('0x53')],'syntax':['reactionRoles',a67_0x1c5a('0x32'),a67_0x1c5a('0x16'),'reactionRoles\x20--message\x20ID\x20--role\x20ROLES...',a67_0x1c5a('0x1c'),a67_0x1c5a('0x27')]});this[a67_0x1c5a('0x5b')]=async(_0x5f2f60,_0x12c469)=>{if(_0x12c469[a67_0x1c5a('0x52')]&&_0x12c469[a67_0x1c5a('0x3d')]){await ReactionRoleGroup_1[a67_0x1c5a('0x1e')][a67_0x1c5a('0x34')]({'_id':_0x12c469[a67_0x1c5a('0x52')]});return await _0x5f2f60['channel'][a67_0x1c5a('0x9')]({'embed':{'color':tesseract_1['Constants'][a67_0x1c5a('0x43')][a67_0x1c5a('0x14')],'description':this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')]['getString'](_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x46')][a67_0x1c5a('0x31')],a67_0x1c5a('0x24'),a67_0x1c5a('0x2a'),_0x5f2f60[a67_0x1c5a('0x51')][a67_0x1c5a('0x22')],_0x12c469[a67_0x1c5a('0x52')])}})['catch'](()=>{});}if(_0x12c469[a67_0x1c5a('0x52')]&&_0x12c469['role']&&_0x12c469['role'][a67_0x1c5a('0x3e')]){if(constants['isPublicBastion'](this['client'][a67_0x1c5a('0x60')])){const _0x40a1d5=await omnic[a67_0x1c5a('0x44')](_0x5f2f60[a67_0x1c5a('0x7')])[a67_0x1c5a('0x4a')](()=>{});if(_0x40a1d5){if(_0x40a1d5===omnic[a67_0x1c5a('0x4b')][a67_0x1c5a('0x1a')]&&_0x12c469[a67_0x1c5a('0x30')][a67_0x1c5a('0x3e')]>constants[a67_0x1c5a('0x37')][a67_0x1c5a('0x1a')][a67_0x1c5a('0x17')]){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a67_0x1c5a('0x15')],this['client'][a67_0x1c5a('0x35')][a67_0x1c5a('0x59')](_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x46')]['language'],a67_0x1c5a('0x2d'),a67_0x1c5a('0x47'),constants['LIMITS'][a67_0x1c5a('0x1a')][a67_0x1c5a('0x17')]));}else if(_0x40a1d5===omnic['PremiumTier'][a67_0x1c5a('0x3b')]&&_0x12c469['role']['length']>constants[a67_0x1c5a('0x37')][a67_0x1c5a('0x3b')][a67_0x1c5a('0x17')]){throw new errors[(a67_0x1c5a('0x50'))](errors['BASTION_ERROR_TYPE'][a67_0x1c5a('0x15')],this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')]['getString'](_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x46')][a67_0x1c5a('0x31')],a67_0x1c5a('0x2d'),a67_0x1c5a('0x47'),constants[a67_0x1c5a('0x37')][a67_0x1c5a('0x3b')]['REACTION_ROLES_PER_GROUP']));}}else if(_0x12c469[a67_0x1c5a('0x30')][a67_0x1c5a('0x3e')]>constants[a67_0x1c5a('0x37')][a67_0x1c5a('0x17')]){throw new errors[(a67_0x1c5a('0x50'))](errors[a67_0x1c5a('0x20')][a67_0x1c5a('0x61')],this['client'][a67_0x1c5a('0x35')]['getString'](_0x5f2f60[a67_0x1c5a('0x7')]['document'][a67_0x1c5a('0x31')],a67_0x1c5a('0x2d'),a67_0x1c5a('0xa'),constants['LIMITS'][a67_0x1c5a('0x17')]));}const _0x9f820f=await ReactionRoleGroup_1[a67_0x1c5a('0x1e')][a67_0x1c5a('0x57')]({'guild':_0x5f2f60[a67_0x1c5a('0x7')]['id']});if(_0x40a1d5){if(_0x40a1d5===omnic[a67_0x1c5a('0x4b')][a67_0x1c5a('0x1a')]&&_0x9f820f>=constants[a67_0x1c5a('0x37')]['GOLD'][a67_0x1c5a('0x11')]){throw new errors['DiscordError'](errors[a67_0x1c5a('0x20')][a67_0x1c5a('0x15')],this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')][a67_0x1c5a('0x59')](_0x5f2f60['guild']['document'][a67_0x1c5a('0x31')],a67_0x1c5a('0x2d'),a67_0x1c5a('0x5f'),constants[a67_0x1c5a('0x37')]['GOLD']['REACTION_ROLE_GROUPS']));}else if(_0x40a1d5===omnic[a67_0x1c5a('0x4b')][a67_0x1c5a('0x3b')]&&_0x9f820f>=constants['LIMITS'][a67_0x1c5a('0x3b')][a67_0x1c5a('0x11')]){throw new errors[(a67_0x1c5a('0x50'))](errors[a67_0x1c5a('0x20')][a67_0x1c5a('0x15')],this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')][a67_0x1c5a('0x59')](_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x46')][a67_0x1c5a('0x31')],a67_0x1c5a('0x2d'),a67_0x1c5a('0x5f'),constants['LIMITS'][a67_0x1c5a('0x3b')][a67_0x1c5a('0x11')]));}}else if(_0x9f820f>=constants[a67_0x1c5a('0x37')][a67_0x1c5a('0x11')]){throw new errors[(a67_0x1c5a('0x50'))](errors[a67_0x1c5a('0x20')][a67_0x1c5a('0x61')],this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')]['getString'](_0x5f2f60['guild'][a67_0x1c5a('0x46')]['language'],a67_0x1c5a('0x2d'),a67_0x1c5a('0x36'),constants[a67_0x1c5a('0x37')][a67_0x1c5a('0x11')]));}}const _0x2cf22b=await _0x5f2f60['channel'][a67_0x1c5a('0x25')][a67_0x1c5a('0x5c')](_0x12c469[a67_0x1c5a('0x52')],![])[a67_0x1c5a('0x4a')](()=>{});if(!_0x2cf22b)throw new Error(a67_0x1c5a('0x62'));const _0xce05af=this[a67_0x1c5a('0x5')]['resolver'][a67_0x1c5a('0x21')](_0x5f2f60[a67_0x1c5a('0x7')],_0x12c469[a67_0x1c5a('0x30')]);if(!_0xce05af['length'])throw new errors[(a67_0x1c5a('0x50'))](errors[a67_0x1c5a('0x20')][a67_0x1c5a('0x18')],this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')][a67_0x1c5a('0x59')](_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x46')][a67_0x1c5a('0x31')],a67_0x1c5a('0x2d'),a67_0x1c5a('0x33')));await ReactionRoleGroup_1[a67_0x1c5a('0x1e')][a67_0x1c5a('0xb')](_0x2cf22b['id'],{'_id':_0x2cf22b['id'],'channel':_0x5f2f60[a67_0x1c5a('0x2')]['id'],'guild':_0x5f2f60['guild']['id'],'roles':_0xce05af[a67_0x1c5a('0xf')](_0x35bb3b=>_0x35bb3b['id']),'exclusive':_0x12c469['exclusive']?_0x12c469['exclusive']:undefined},{'upsert':!![]});await _0x5f2f60[a67_0x1c5a('0x2')][a67_0x1c5a('0x9')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a67_0x1c5a('0x29')],'description':this[a67_0x1c5a('0x5')]['locale']['getString'](_0x5f2f60[a67_0x1c5a('0x7')]['document'][a67_0x1c5a('0x31')],a67_0x1c5a('0x24'),a67_0x1c5a('0x42'),_0x5f2f60[a67_0x1c5a('0x51')][a67_0x1c5a('0x22')],_0x2cf22b['url'])}})[a67_0x1c5a('0x4a')](()=>{});const _0x175e28=await Role_1[a67_0x1c5a('0x1e')][a67_0x1c5a('0x5e')]({'$or':_0xce05af['map'](_0x472e4e=>({'_id':_0x472e4e['id']})),'guild':_0x5f2f60[a67_0x1c5a('0x7')]['id'],'emoji':{'$exists':!![]}});if(_0x175e28&&_0x175e28[a67_0x1c5a('0x3e')]){for(const _0x39710d of _0x175e28){const _0x43b3ba=emojis['parseEmoji'](_0x39710d[a67_0x1c5a('0x3c')]);await _0x2cf22b[a67_0x1c5a('0x58')](_0x43b3ba['reaction']);}}return;}if(_0x12c469['role']){const _0x3564f6=_0x12c469[a67_0x1c5a('0x30')]?_0x12c469[a67_0x1c5a('0x30')][a67_0x1c5a('0xc')]('\x20'):'';const _0x367028=this[a67_0x1c5a('0x5')][a67_0x1c5a('0x48')][a67_0x1c5a('0x4f')](_0x5f2f60[a67_0x1c5a('0x7')],_0x3564f6);if(!_0x367028)throw new errors['DiscordError'](errors[a67_0x1c5a('0x20')][a67_0x1c5a('0x18')],this[a67_0x1c5a('0x5')][a67_0x1c5a('0x35')][a67_0x1c5a('0x59')](_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x46')]['language'],a67_0x1c5a('0x2d'),a67_0x1c5a('0x33')));let _0x15ef02=await _0x367028[a67_0x1c5a('0x28')]();if(!_0x15ef02&&_0x12c469[a67_0x1c5a('0x3c')]){_0x15ef02=await _0x367028['createDocument']();}if(_0x12c469[a67_0x1c5a('0x3c')]){const _0x2eccfe=emojis[a67_0x1c5a('0x49')](_0x12c469[a67_0x1c5a('0x3c')]);_0x15ef02[a67_0x1c5a('0x3c')]=_0x2eccfe['value'];await _0x15ef02[a67_0x1c5a('0x5a')]();}else if(_0x15ef02&&_0x12c469[a67_0x1c5a('0x3c')]===![]){_0x15ef02[a67_0x1c5a('0x3c')]=undefined;await _0x15ef02['save']();}const _0x246c4e=_0x15ef02?emojis[a67_0x1c5a('0x49')](_0x15ef02[a67_0x1c5a('0x3c')]):undefined;return await _0x5f2f60['channel'][a67_0x1c5a('0x9')]({'embed':{'color':_0x12c469[a67_0x1c5a('0x3c')]?tesseract_1[a67_0x1c5a('0x10')][a67_0x1c5a('0x43')][a67_0x1c5a('0x29')]:_0x12c469['emoji']===![]?tesseract_1[a67_0x1c5a('0x10')]['COLORS'][a67_0x1c5a('0x14')]:tesseract_1[a67_0x1c5a('0x10')]['COLORS'][a67_0x1c5a('0x2f')],'title':_0x12c469[a67_0x1c5a('0x3c')]?a67_0x1c5a('0x4d'):_0x12c469[a67_0x1c5a('0x3c')]===![]?a67_0x1c5a('0x38'):a67_0x1c5a('0x26'),'fields':[{'name':a67_0x1c5a('0x4e'),'value':_0x367028[a67_0x1c5a('0x54')]||'-','inline':!![]},{'name':a67_0x1c5a('0x2e'),'value':_0x246c4e?_0x246c4e[a67_0x1c5a('0x41')]===_0x246c4e[a67_0x1c5a('0x5d')]?_0x5f2f60[a67_0x1c5a('0x7')][a67_0x1c5a('0x2c')][a67_0x1c5a('0x13')][a67_0x1c5a('0x45')](_0x246c4e[a67_0x1c5a('0x41')])||_0x246c4e[a67_0x1c5a('0x5d')]:_0x246c4e[a67_0x1c5a('0x41')]:'-','inline':!![]}]}})[a67_0x1c5a('0x4a')](()=>{});}const _0xb22817=await ReactionRoleGroup_1[a67_0x1c5a('0x1e')][a67_0x1c5a('0x5e')]({});if(!_0xb22817)throw new Error(a67_0x1c5a('0x3a'));await _0x5f2f60[a67_0x1c5a('0x2')]['send']({'embed':{'title':a67_0x1c5a('0x4c'),'fields':_0xb22817['map'](_0x24eb42=>({'name':_0x24eb42[a67_0x1c5a('0x6')],'value':_0x24eb42[a67_0x1c5a('0x0')][a67_0x1c5a('0x3e')]+a67_0x1c5a('0x55')+(_0x24eb42['exclusive']?a67_0x1c5a('0x1b'):'')+'\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/'+_0x24eb42[a67_0x1c5a('0x7')]+'/'+_0x24eb42[a67_0x1c5a('0x2')]+'/'+_0x24eb42[a67_0x1c5a('0x6')]+')'}))}})[a67_0x1c5a('0x4a')](()=>{});};}};