const a74_0x3c91=['message','RED','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','NO_REACTION_ROLES','fetch','emoji','apply','save','membershipLimitReactionRoleGroups','findByIdAndUpdate','reactionRolesGroupRemove','exec','premiumReactionRoleGroups','exclusive','author','ROLE_NOT_FOUND','MANAGE_ROLES','cache','channel','roleNotFound','REACTION_ROLE_GROUPS','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','../../utils/omnic','GOLD','Reaction\x20Role\x20Groups','Emoji','../../utils/errors','getString','send','_id','@bastion/tesseract','LIMITED_PREMIUM_MEMBERSHIP','PLATINUM','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','value','document','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','../../models/Role','messages','emojis','default','PremiumTier','reactionRoles\x20--role\x20ROLE\x20--no-emoji','return\x20/\x22\x20+\x20this\x20+\x20\x22/','find','test','countDocuments','catch','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','errors','LIMITS','reactionRoles','language','name','resolver','role','reactionRolesGroupAdd','\x20Roles','fetchPremiumTier','map','resolveRoles','reactionRoles\x20--message\x20ID\x20--delete','../../models/ReactionRoleGroup','parseEmoji','join','DiscordError','length','Role\x20Emoji','GREEN','Constants','guild','COLORS','MESSAGE_NOT_FOUND','BASTION_ERROR_TYPE','../../utils/emojis','Role\x20Emoji\x20Added','info','react','Command','tag','delete','Role\x20Emoji\x20Removed','reaction','locale','REACTION_ROLES_PER_GROUP','client','user','url','../../utils/constants'];(function(_0x491347,_0x3c912f){const _0x184aae=function(_0x344ca9){while(--_0x344ca9){_0x491347['push'](_0x491347['shift']());}},_0x1956fa=function(){const _0x4e0ad3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1167bd,_0x362187,_0x5b0cdc,_0x13e8a7){_0x13e8a7=_0x13e8a7||{};let _0x104f9f=_0x362187+'='+_0x5b0cdc,_0x3fa9c6=0x0;for(let _0x1a93fb=0x0,_0x1852aa=_0x1167bd['length'];_0x1a93fb<_0x1852aa;_0x1a93fb++){const _0x169461=_0x1167bd[_0x1a93fb];_0x104f9f+=';\x20'+_0x169461;const _0x3f26df=_0x1167bd[_0x169461];_0x1167bd['push'](_0x3f26df),_0x1852aa=_0x1167bd['length'],_0x3f26df!==!![]&&(_0x104f9f+='='+_0x3f26df);}_0x13e8a7['cookie']=_0x104f9f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x22c267,_0x136882){_0x22c267=_0x22c267||function(_0x1e97a4){return _0x1e97a4;};const _0x1c6f39=_0x22c267(new RegExp('(?:^|;\x20)'+_0x136882['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x482f22=function(_0x4a0cc4,_0xc4ebff){_0x4a0cc4(++_0xc4ebff);};return _0x482f22(_0x184aae,_0x3c912f),_0x1c6f39?decodeURIComponent(_0x1c6f39[0x1]):undefined;}},_0x7ea6d7=function(){const _0x519822=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x519822['test'](_0x4e0ad3['removeCookie']['toString']());};_0x4e0ad3['updateCookie']=_0x7ea6d7;let _0x29b268='';const _0xef9f7c=_0x4e0ad3['updateCookie']();if(!_0xef9f7c)_0x4e0ad3['setCookie'](['*'],'counter',0x1);else _0xef9f7c?_0x29b268=_0x4e0ad3['getCookie'](null,'counter'):_0x4e0ad3['removeCookie']();};_0x1956fa();}(a74_0x3c91,0x1df));const a74_0x184a=function(_0x491347,_0x3c912f){_0x491347=_0x491347-0x0;let _0x184aae=a74_0x3c91[_0x491347];return _0x184aae;};const _0x385ffd=a74_0x184a,a74_0x4e0ad3=function(){let _0x29b268=!![];return function(_0xef9f7c,_0x1167bd){const _0x362187=_0x29b268?function(){const _0x129db1=a74_0x184a;if(_0x1167bd){const _0x5b0cdc=_0x1167bd[_0x129db1('0x3d')](_0xef9f7c,arguments);return _0x1167bd=null,_0x5b0cdc;}}:function(){};return _0x29b268=![],_0x362187;};}(),a74_0x344ca9=a74_0x4e0ad3(this,function(){const _0x13e8a7=function(){const _0xc1daec=a74_0x184a,_0x104f9f=_0x13e8a7['constructor'](_0xc1daec('0x9'))()['constructor'](_0xc1daec('0x58'));return!_0x104f9f[_0xc1daec('0xb')](a74_0x344ca9);};return _0x13e8a7();});a74_0x344ca9();'use strict';const tesseract_1=require(_0x385ffd('0x55')),Role_1=require(_0x385ffd('0x3')),ReactionRoleGroup_1=require(_0x385ffd('0x1c')),constants=require(_0x385ffd('0x36')),emojis=require(_0x385ffd('0x28')),errors=require(_0x385ffd('0x51')),omnic=require(_0x385ffd('0x4d'));module['exports']=class ReactionRolesCommand extends tesseract_1[_0x385ffd('0x2c')]{constructor(){const _0x4275df=_0x385ffd;super(_0x4275df('0x11'),{'description':_0x4275df('0x2'),'triggers':[],'arguments':{'array':[_0x4275df('0x15')],'boolean':[_0x4275df('0x2e'),_0x4275df('0x44')],'string':[_0x4275df('0x37'),'role',_0x4275df('0x3c')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x4275df('0x47')],'userPermissions':[_0x4275df('0x47')],'syntax':[_0x4275df('0x11'),_0x4275df('0x39'),_0x4275df('0x8'),_0x4275df('0xe'),'reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive',_0x4275df('0x1b')]}),this[_0x4275df('0x42')]=async(_0x3fa9c6,_0x1a93fb)=>{const _0x5f0fcd=_0x4275df;if(_0x1a93fb[_0x5f0fcd('0x37')]&&_0x1a93fb['delete'])return await ReactionRoleGroup_1[_0x5f0fcd('0x6')]['deleteOne']({'_id':_0x1a93fb[_0x5f0fcd('0x37')],'guild':_0x3fa9c6[_0x5f0fcd('0x24')]['id']}),await _0x3fa9c6[_0x5f0fcd('0x49')]['send']({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x5f0fcd('0x38')],'description':this[_0x5f0fcd('0x33')]['locale']['getString'](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')]['language'],'info',_0x5f0fcd('0x41'),_0x3fa9c6[_0x5f0fcd('0x45')][_0x5f0fcd('0x2d')],_0x1a93fb['message'])}})['catch'](()=>{});if(_0x1a93fb[_0x5f0fcd('0x37')]&&_0x1a93fb[_0x5f0fcd('0x15')]&&_0x1a93fb[_0x5f0fcd('0x15')][_0x5f0fcd('0x20')]){if(constants['isPublicBastion'](this[_0x5f0fcd('0x33')][_0x5f0fcd('0x34')])){const _0x136882=await omnic[_0x5f0fcd('0x18')](_0x3fa9c6[_0x5f0fcd('0x24')])[_0x5f0fcd('0xd')](()=>{});if(_0x136882){if(_0x136882===omnic[_0x5f0fcd('0x7')][_0x5f0fcd('0x4e')]&&_0x1a93fb[_0x5f0fcd('0x15')]['length']>constants[_0x5f0fcd('0x10')]['GOLD'][_0x5f0fcd('0x32')])throw new errors[(_0x5f0fcd('0x1f'))](errors[_0x5f0fcd('0x27')][_0x5f0fcd('0x56')],this[_0x5f0fcd('0x33')][_0x5f0fcd('0x31')]['getString'](_0x3fa9c6['guild'][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],_0x5f0fcd('0xf'),'membershipLimitReactionRoleGroupRoles',constants['LIMITS'][_0x5f0fcd('0x4e')][_0x5f0fcd('0x32')]));else{if(_0x136882===omnic[_0x5f0fcd('0x7')][_0x5f0fcd('0x57')]&&_0x1a93fb['role']['length']>constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x57')][_0x5f0fcd('0x32')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][_0x5f0fcd('0x31')][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],_0x5f0fcd('0xf'),'membershipLimitReactionRoleGroupRoles',constants['LIMITS'][_0x5f0fcd('0x57')][_0x5f0fcd('0x32')]));}}else{if(_0x1a93fb['role']['length']>constants['LIMITS'][_0x5f0fcd('0x32')])throw new errors[(_0x5f0fcd('0x1f'))](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x5f0fcd('0x33')][_0x5f0fcd('0x31')][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],'errors','premiumReactionRoleGroupRoles',constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x32')]));}const _0x1c6f39=await ReactionRoleGroup_1[_0x5f0fcd('0x6')][_0x5f0fcd('0xc')]({'guild':_0x3fa9c6[_0x5f0fcd('0x24')]['id']});if(_0x136882){if(_0x136882===omnic[_0x5f0fcd('0x7')][_0x5f0fcd('0x4e')]&&_0x1c6f39>=constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x4e')]['REACTION_ROLE_GROUPS'])throw new errors[(_0x5f0fcd('0x1f'))](errors['BASTION_ERROR_TYPE'][_0x5f0fcd('0x56')],this[_0x5f0fcd('0x33')][_0x5f0fcd('0x31')][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')]['language'],_0x5f0fcd('0xf'),_0x5f0fcd('0x3f'),constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x4e')]['REACTION_ROLE_GROUPS']));else{if(_0x136882===omnic[_0x5f0fcd('0x7')]['PLATINUM']&&_0x1c6f39>=constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x57')]['REACTION_ROLE_GROUPS'])throw new errors[(_0x5f0fcd('0x1f'))](errors[_0x5f0fcd('0x27')][_0x5f0fcd('0x56')],this[_0x5f0fcd('0x33')][_0x5f0fcd('0x31')]['getString'](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],_0x5f0fcd('0xf'),_0x5f0fcd('0x3f'),constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x57')][_0x5f0fcd('0x4b')]));}}else{if(_0x1c6f39>=constants[_0x5f0fcd('0x10')][_0x5f0fcd('0x4b')])throw new errors['DiscordError'](errors[_0x5f0fcd('0x27')]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client'][_0x5f0fcd('0x31')][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')]['language'],_0x5f0fcd('0xf'),_0x5f0fcd('0x43'),constants['LIMITS'][_0x5f0fcd('0x4b')]));}}const _0x169461=await _0x3fa9c6[_0x5f0fcd('0x49')][_0x5f0fcd('0x4')][_0x5f0fcd('0x3b')](_0x1a93fb['message'],![])[_0x5f0fcd('0xd')](()=>{});if(!_0x169461)throw new Error(_0x5f0fcd('0x26'));const _0x3f26df=this['client']['resolver'][_0x5f0fcd('0x1a')](_0x3fa9c6[_0x5f0fcd('0x24')],_0x1a93fb['role']);if(!_0x3f26df[_0x5f0fcd('0x20')])throw new errors[(_0x5f0fcd('0x1f'))](errors['BASTION_ERROR_TYPE'][_0x5f0fcd('0x46')],this[_0x5f0fcd('0x33')][_0x5f0fcd('0x31')][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],_0x5f0fcd('0xf'),_0x5f0fcd('0x4a')));await ReactionRoleGroup_1[_0x5f0fcd('0x6')][_0x5f0fcd('0x40')](_0x169461['id'],{'_id':_0x169461['id'],'channel':_0x3fa9c6[_0x5f0fcd('0x49')]['id'],'guild':_0x3fa9c6[_0x5f0fcd('0x24')]['id'],'roles':_0x3f26df['map'](_0x482f22=>_0x482f22['id']),'exclusive':_0x1a93fb[_0x5f0fcd('0x44')]?_0x1a93fb['exclusive']:undefined},{'upsert':!![]}),await _0x3fa9c6[_0x5f0fcd('0x49')][_0x5f0fcd('0x53')]({'embed':{'color':tesseract_1['Constants'][_0x5f0fcd('0x25')]['GREEN'],'description':this[_0x5f0fcd('0x33')][_0x5f0fcd('0x31')][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],_0x5f0fcd('0x2a'),_0x5f0fcd('0x16'),_0x3fa9c6[_0x5f0fcd('0x45')]['tag'],_0x169461[_0x5f0fcd('0x35')])}})[_0x5f0fcd('0xd')](()=>{});const _0x22c267=await Role_1[_0x5f0fcd('0x6')][_0x5f0fcd('0xa')]({'$or':_0x3f26df[_0x5f0fcd('0x19')](_0x1e97a4=>({'_id':_0x1e97a4['id']})),'guild':_0x3fa9c6[_0x5f0fcd('0x24')]['id'],'emoji':{'$exists':!![]}});if(_0x22c267&&_0x22c267['length'])for(const _0x4a0cc4 of _0x22c267){const _0xc4ebff=emojis[_0x5f0fcd('0x1d')](_0x4a0cc4[_0x5f0fcd('0x3c')]);await _0x169461[_0x5f0fcd('0x2b')](_0xc4ebff['reaction']);}return;}if(_0x1a93fb[_0x5f0fcd('0x15')]){const _0x519822=_0x1a93fb[_0x5f0fcd('0x15')]?_0x1a93fb[_0x5f0fcd('0x15')][_0x5f0fcd('0x1e')]('\x20'):'',_0x5b53ea=this[_0x5f0fcd('0x33')][_0x5f0fcd('0x14')]['resolveRole'](_0x3fa9c6['guild'],_0x519822);if(!_0x5b53ea)throw new errors[(_0x5f0fcd('0x1f'))](errors[_0x5f0fcd('0x27')]['ROLE_NOT_FOUND'],this[_0x5f0fcd('0x33')]['locale'][_0x5f0fcd('0x52')](_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x1')][_0x5f0fcd('0x12')],'errors',_0x5f0fcd('0x4a')));let _0x1ff974=await _0x5b53ea['fetchDocument']();!_0x1ff974&&_0x1a93fb[_0x5f0fcd('0x3c')]&&(_0x1ff974=await _0x5b53ea['createDocument']());if(_0x1a93fb[_0x5f0fcd('0x3c')]){const _0x5bdadd=emojis[_0x5f0fcd('0x1d')](_0x1a93fb[_0x5f0fcd('0x3c')]);_0x1ff974[_0x5f0fcd('0x3c')]=_0x5bdadd[_0x5f0fcd('0x0')],await _0x1ff974[_0x5f0fcd('0x3e')]();}else _0x1ff974&&_0x1a93fb['emoji']===![]&&(_0x1ff974[_0x5f0fcd('0x3c')]=undefined,await _0x1ff974[_0x5f0fcd('0x3e')]());const _0x2de8e5=_0x1ff974?emojis[_0x5f0fcd('0x1d')](_0x1ff974[_0x5f0fcd('0x3c')]):undefined;return await _0x3fa9c6[_0x5f0fcd('0x49')][_0x5f0fcd('0x53')]({'embed':{'color':_0x1a93fb[_0x5f0fcd('0x3c')]?tesseract_1[_0x5f0fcd('0x23')]['COLORS'][_0x5f0fcd('0x22')]:_0x1a93fb[_0x5f0fcd('0x3c')]===![]?tesseract_1[_0x5f0fcd('0x23')][_0x5f0fcd('0x25')][_0x5f0fcd('0x38')]:tesseract_1['Constants'][_0x5f0fcd('0x25')]['IRIS'],'title':_0x1a93fb['emoji']?_0x5f0fcd('0x29'):_0x1a93fb[_0x5f0fcd('0x3c')]===![]?_0x5f0fcd('0x2f'):_0x5f0fcd('0x21'),'fields':[{'name':'Role','value':_0x5b53ea[_0x5f0fcd('0x13')]||'-','inline':!![]},{'name':_0x5f0fcd('0x50'),'value':_0x2de8e5?_0x2de8e5[_0x5f0fcd('0x30')]===_0x2de8e5[_0x5f0fcd('0x0')]?_0x3fa9c6[_0x5f0fcd('0x24')][_0x5f0fcd('0x5')][_0x5f0fcd('0x48')]['get'](_0x2de8e5[_0x5f0fcd('0x30')])||_0x2de8e5[_0x5f0fcd('0x0')]:_0x2de8e5[_0x5f0fcd('0x30')]:'-','inline':!![]}]}})[_0x5f0fcd('0xd')](()=>{});}const _0x1852aa=await ReactionRoleGroup_1[_0x5f0fcd('0x6')][_0x5f0fcd('0xa')]({'guild':_0x3fa9c6[_0x5f0fcd('0x24')]['id']});if(!_0x1852aa)throw new Error(_0x5f0fcd('0x3a'));await _0x3fa9c6[_0x5f0fcd('0x49')][_0x5f0fcd('0x53')]({'embed':{'color':tesseract_1[_0x5f0fcd('0x23')][_0x5f0fcd('0x25')]['IRIS'],'title':_0x5f0fcd('0x4f'),'fields':_0x1852aa[_0x5f0fcd('0x19')](_0x1652cc=>({'name':_0x1652cc[_0x5f0fcd('0x54')],'value':_0x1652cc['roles'][_0x5f0fcd('0x20')]+_0x5f0fcd('0x17')+(_0x1652cc[_0x5f0fcd('0x44')]?'\x20/\x20Exclusive':'')+_0x5f0fcd('0x4c')+_0x1652cc['guild']+'/'+_0x1652cc[_0x5f0fcd('0x49')]+'/'+_0x1652cc[_0x5f0fcd('0x54')]+')'}))}})['catch'](()=>{});};}};