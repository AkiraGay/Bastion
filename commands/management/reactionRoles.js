const a87_0x50fc=['GREEN','save','document','Role\x20Emoji','resolveRoles','info','REACTION_ROLES_PER_GROUP','locale','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','message','map','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','react','\x20/\x20Exclusive','PremiumTier','fetchDocument','createDocument','GOLD','findByIdAndUpdate','COLORS','resolver','RED','NO_REACTION_ROLES','../../models/ReactionRoleGroup','parseEmoji','author','get','reactionRoles','apply','emoji','Role\x20Emoji\x20Added','channel','@bastion/tesseract','Emoji','default','Constants','LIMITS','value','membershipLimitReactionRoleGroupRoles','reaction','IRIS','premiumReactionRoleGroups','../../utils/emojis','LIMITED_PREMIUM_MEMBERSHIP','roleNotFound','BASTION_ERROR_TYPE','role','tag','reactionRoles\x20--role\x20ROLE\x20--no-emoji','guild','../../utils/errors','send','../../models/Role','DiscordError','MANAGE_ROLES','getString','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Role','membershipLimitReactionRoleGroups','language','constructor','name','length','Role\x20Emoji\x20Removed','isPublicBastion','PREMIUM_MEMBERSHIP_REQUIRED','fetchPremiumTier','premiumReactionRoleGroupRoles','join','Command','_id','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','MESSAGE_NOT_FOUND','errors','find','exclusive','delete','catch','user','reactionRolesGroupRemove','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','ROLE_NOT_FOUND','reactionRoles\x20--message\x20ID\x20--delete','REACTION_ROLE_GROUPS','PLATINUM','\x20Roles','client'];(function(_0x54d3f0,_0x50fc3e){const _0x33c272=function(_0x1d865d){while(--_0x1d865d){_0x54d3f0['push'](_0x54d3f0['shift']());}},_0x514729=function(){const _0x147a86={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x442c9f,_0x5cdce7,_0x5af742,_0x3f9f2a){_0x3f9f2a=_0x3f9f2a||{};let _0x1ee50d=_0x5cdce7+'='+_0x5af742,_0x313010=0x0;for(let _0x1cfab1=0x0,_0x4f91a1=_0x442c9f['length'];_0x1cfab1<_0x4f91a1;_0x1cfab1++){const _0x5edf05=_0x442c9f[_0x1cfab1];_0x1ee50d+=';\x20'+_0x5edf05;const _0x3a65e6=_0x442c9f[_0x5edf05];_0x442c9f['push'](_0x3a65e6),_0x4f91a1=_0x442c9f['length'],_0x3a65e6!==!![]&&(_0x1ee50d+='='+_0x3a65e6);}_0x3f9f2a['cookie']=_0x1ee50d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1bc056,_0x14f84c){_0x1bc056=_0x1bc056||function(_0x439970){return _0x439970;};const _0x2cd504=_0x1bc056(new RegExp('(?:^|;\x20)'+_0x14f84c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x497e8e=function(_0x130850,_0x327113){_0x130850(++_0x327113);};return _0x497e8e(_0x33c272,_0x50fc3e),_0x2cd504?decodeURIComponent(_0x2cd504[0x1]):undefined;}},_0x3f4f86=function(){const _0x3eda5f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3eda5f['test'](_0x147a86['removeCookie']['toString']());};_0x147a86['updateCookie']=_0x3f4f86;let _0x41e0be='';const _0x55fa2a=_0x147a86['updateCookie']();if(!_0x55fa2a)_0x147a86['setCookie'](['*'],'counter',0x1);else _0x55fa2a?_0x41e0be=_0x147a86['getCookie'](null,'counter'):_0x147a86['removeCookie']();};_0x514729();}(a87_0x50fc,0x77));const a87_0x33c2=function(_0x54d3f0,_0x50fc3e){_0x54d3f0=_0x54d3f0-0x0;let _0x33c272=a87_0x50fc[_0x54d3f0];return _0x33c272;};const _0x1a41bc=a87_0x33c2,a87_0x147a86=function(){let _0x41e0be=!![];return function(_0x55fa2a,_0x442c9f){const _0x5cdce7=_0x41e0be?function(){const _0x5627f1=a87_0x33c2;if(_0x442c9f){const _0x5af742=_0x442c9f[_0x5627f1('0x57')](_0x55fa2a,arguments);return _0x442c9f=null,_0x5af742;}}:function(){};return _0x41e0be=![],_0x5cdce7;};}(),a87_0x1d865d=a87_0x147a86(this,function(){const _0x3f9f2a=function(){const _0x3c8837=a87_0x33c2,_0x1ee50d=_0x3f9f2a[_0x3c8837('0x1e')](_0x3c8837('0x1a'))()[_0x3c8837('0x1e')](_0x3c8837('0x34'));return!_0x1ee50d['test'](a87_0x1d865d);};return _0x3f9f2a();});a87_0x1d865d();'use strict';const tesseract_1=require(_0x1a41bc('0x2')),Role_1=require(_0x1a41bc('0x16')),ReactionRoleGroup_1=require(_0x1a41bc('0x52')),constants=require('../../utils/constants'),emojis=require(_0x1a41bc('0xc')),errors=require(_0x1a41bc('0x14')),omnic=require('../../utils/omnic');module['exports']=class ReactionRolesCommand extends tesseract_1[_0x1a41bc('0x27')]{constructor(){const _0x21eaa0=_0x1a41bc;super(_0x21eaa0('0x56'),{'description':_0x21eaa0('0x2a'),'triggers':[],'arguments':{'array':[_0x21eaa0('0x10')],'boolean':[_0x21eaa0('0x30'),_0x21eaa0('0x2f')],'string':[_0x21eaa0('0x44'),_0x21eaa0('0x10'),_0x21eaa0('0x58')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x21eaa0('0x18')],'userPermissions':[_0x21eaa0('0x18')],'syntax':[_0x21eaa0('0x56'),_0x21eaa0('0x29'),_0x21eaa0('0x12'),_0x21eaa0('0x2b'),_0x21eaa0('0x46'),_0x21eaa0('0x36')]}),this['exec']=async(_0x313010,_0x1cfab1)=>{const _0x207fcb=_0x21eaa0;if(_0x1cfab1['message']&&_0x1cfab1[_0x207fcb('0x30')])return await ReactionRoleGroup_1['default']['deleteOne']({'_id':_0x1cfab1[_0x207fcb('0x44')],'guild':_0x313010[_0x207fcb('0x13')]['id']}),await _0x313010[_0x207fcb('0x1')][_0x207fcb('0x15')]({'embed':{'color':tesseract_1[_0x207fcb('0x5')][_0x207fcb('0x4e')][_0x207fcb('0x50')],'description':this['client'][_0x207fcb('0x42')][_0x207fcb('0x19')](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')][_0x207fcb('0x1d')],_0x207fcb('0x40'),_0x207fcb('0x33'),_0x313010[_0x207fcb('0x54')][_0x207fcb('0x11')],_0x1cfab1[_0x207fcb('0x44')])}})[_0x207fcb('0x31')](()=>{});if(_0x1cfab1['message']&&_0x1cfab1[_0x207fcb('0x10')]&&_0x1cfab1[_0x207fcb('0x10')][_0x207fcb('0x20')]){if(constants[_0x207fcb('0x22')](this[_0x207fcb('0x3a')][_0x207fcb('0x32')])){const _0x14f84c=await omnic[_0x207fcb('0x24')](_0x313010[_0x207fcb('0x13')])[_0x207fcb('0x31')](()=>{});if(_0x14f84c){if(_0x14f84c===omnic[_0x207fcb('0x49')]['GOLD']&&_0x1cfab1[_0x207fcb('0x10')][_0x207fcb('0x20')]>constants['LIMITS'][_0x207fcb('0x4c')][_0x207fcb('0x41')])throw new errors['DiscordError'](errors[_0x207fcb('0xf')]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x207fcb('0x3a')][_0x207fcb('0x42')][_0x207fcb('0x19')](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')]['language'],_0x207fcb('0x2d'),_0x207fcb('0x8'),constants['LIMITS'][_0x207fcb('0x4c')][_0x207fcb('0x41')]));else{if(_0x14f84c===omnic[_0x207fcb('0x49')][_0x207fcb('0x38')]&&_0x1cfab1['role']['length']>constants['LIMITS'][_0x207fcb('0x38')][_0x207fcb('0x41')])throw new errors[(_0x207fcb('0x17'))](errors[_0x207fcb('0xf')]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x207fcb('0x3a')][_0x207fcb('0x42')][_0x207fcb('0x19')](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')][_0x207fcb('0x1d')],_0x207fcb('0x2d'),_0x207fcb('0x8'),constants[_0x207fcb('0x6')][_0x207fcb('0x38')]['REACTION_ROLES_PER_GROUP']));}}else{if(_0x1cfab1[_0x207fcb('0x10')]['length']>constants[_0x207fcb('0x6')][_0x207fcb('0x41')])throw new errors[(_0x207fcb('0x17'))](errors[_0x207fcb('0xf')][_0x207fcb('0x23')],this[_0x207fcb('0x3a')][_0x207fcb('0x42')][_0x207fcb('0x19')](_0x313010['guild'][_0x207fcb('0x3d')]['language'],_0x207fcb('0x2d'),_0x207fcb('0x25'),constants[_0x207fcb('0x6')][_0x207fcb('0x41')]));}const _0x2cd504=await ReactionRoleGroup_1['default']['countDocuments']({'guild':_0x313010[_0x207fcb('0x13')]['id']});if(_0x14f84c){if(_0x14f84c===omnic[_0x207fcb('0x49')][_0x207fcb('0x4c')]&&_0x2cd504>=constants[_0x207fcb('0x6')][_0x207fcb('0x4c')][_0x207fcb('0x37')])throw new errors[(_0x207fcb('0x17'))](errors['BASTION_ERROR_TYPE'][_0x207fcb('0xd')],this[_0x207fcb('0x3a')]['locale'][_0x207fcb('0x19')](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')][_0x207fcb('0x1d')],_0x207fcb('0x2d'),_0x207fcb('0x1c'),constants[_0x207fcb('0x6')][_0x207fcb('0x4c')][_0x207fcb('0x37')]));else{if(_0x14f84c===omnic[_0x207fcb('0x49')]['PLATINUM']&&_0x2cd504>=constants[_0x207fcb('0x6')][_0x207fcb('0x38')][_0x207fcb('0x37')])throw new errors[(_0x207fcb('0x17'))](errors[_0x207fcb('0xf')][_0x207fcb('0xd')],this[_0x207fcb('0x3a')]['locale'][_0x207fcb('0x19')](_0x313010['guild'][_0x207fcb('0x3d')][_0x207fcb('0x1d')],_0x207fcb('0x2d'),_0x207fcb('0x1c'),constants[_0x207fcb('0x6')][_0x207fcb('0x38')][_0x207fcb('0x37')]));}}else{if(_0x2cd504>=constants['LIMITS'][_0x207fcb('0x37')])throw new errors[(_0x207fcb('0x17'))](errors[_0x207fcb('0xf')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x207fcb('0x3a')]['locale']['getString'](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')][_0x207fcb('0x1d')],'errors',_0x207fcb('0xb'),constants[_0x207fcb('0x6')][_0x207fcb('0x37')]));}}const _0x5edf05=await _0x313010['channel']['messages']['fetch'](_0x1cfab1['message'],![])[_0x207fcb('0x31')](()=>{});if(!_0x5edf05)throw new Error(_0x207fcb('0x2c'));const _0x3a65e6=this[_0x207fcb('0x3a')]['resolver'][_0x207fcb('0x3f')](_0x313010[_0x207fcb('0x13')],_0x1cfab1[_0x207fcb('0x10')]);if(!_0x3a65e6['length'])throw new errors[(_0x207fcb('0x17'))](errors[_0x207fcb('0xf')][_0x207fcb('0x35')],this[_0x207fcb('0x3a')]['locale'][_0x207fcb('0x19')](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')][_0x207fcb('0x1d')],_0x207fcb('0x2d'),_0x207fcb('0xe')));await ReactionRoleGroup_1[_0x207fcb('0x4')][_0x207fcb('0x4d')](_0x5edf05['id'],{'_id':_0x5edf05['id'],'channel':_0x313010[_0x207fcb('0x1')]['id'],'guild':_0x313010['guild']['id'],'roles':_0x3a65e6[_0x207fcb('0x45')](_0x497e8e=>_0x497e8e['id']),'exclusive':_0x1cfab1[_0x207fcb('0x2f')]?_0x1cfab1[_0x207fcb('0x2f')]:undefined},{'upsert':!![]}),await _0x313010[_0x207fcb('0x1')][_0x207fcb('0x15')]({'embed':{'color':tesseract_1[_0x207fcb('0x5')][_0x207fcb('0x4e')]['GREEN'],'description':this[_0x207fcb('0x3a')][_0x207fcb('0x42')][_0x207fcb('0x19')](_0x313010['guild'][_0x207fcb('0x3d')][_0x207fcb('0x1d')],_0x207fcb('0x40'),'reactionRolesGroupAdd',_0x313010['author'][_0x207fcb('0x11')],_0x5edf05['url'])}})[_0x207fcb('0x31')](()=>{});const _0x1bc056=await Role_1['default'][_0x207fcb('0x2e')]({'$or':_0x3a65e6[_0x207fcb('0x45')](_0x439970=>({'_id':_0x439970['id']})),'guild':_0x313010[_0x207fcb('0x13')]['id'],'emoji':{'$exists':!![]}});if(_0x1bc056&&_0x1bc056[_0x207fcb('0x20')])for(const _0x130850 of _0x1bc056){const _0x327113=emojis['parseEmoji'](_0x130850[_0x207fcb('0x58')]);await _0x5edf05[_0x207fcb('0x47')](_0x327113['reaction']);}return;}if(_0x1cfab1[_0x207fcb('0x10')]){const _0x3eda5f=_0x1cfab1[_0x207fcb('0x10')]?_0x1cfab1['role'][_0x207fcb('0x26')]('\x20'):'',_0x3691c1=this[_0x207fcb('0x3a')][_0x207fcb('0x4f')]['resolveRole'](_0x313010[_0x207fcb('0x13')],_0x3eda5f);if(!_0x3691c1)throw new errors[(_0x207fcb('0x17'))](errors['BASTION_ERROR_TYPE'][_0x207fcb('0x35')],this[_0x207fcb('0x3a')][_0x207fcb('0x42')][_0x207fcb('0x19')](_0x313010[_0x207fcb('0x13')][_0x207fcb('0x3d')][_0x207fcb('0x1d')],'errors',_0x207fcb('0xe')));let _0x3b1245=await _0x3691c1[_0x207fcb('0x4a')]();!_0x3b1245&&_0x1cfab1['emoji']&&(_0x3b1245=await _0x3691c1[_0x207fcb('0x4b')]());if(_0x1cfab1['emoji']){const _0x40dc82=emojis[_0x207fcb('0x53')](_0x1cfab1['emoji']);_0x3b1245['emoji']=_0x40dc82[_0x207fcb('0x7')],await _0x3b1245[_0x207fcb('0x3c')]();}else _0x3b1245&&_0x1cfab1[_0x207fcb('0x58')]===![]&&(_0x3b1245[_0x207fcb('0x58')]=undefined,await _0x3b1245[_0x207fcb('0x3c')]());const _0x12f34b=_0x3b1245?emojis['parseEmoji'](_0x3b1245['emoji']):undefined;return await _0x313010[_0x207fcb('0x1')]['send']({'embed':{'color':_0x1cfab1['emoji']?tesseract_1[_0x207fcb('0x5')][_0x207fcb('0x4e')][_0x207fcb('0x3b')]:_0x1cfab1['emoji']===![]?tesseract_1[_0x207fcb('0x5')][_0x207fcb('0x4e')][_0x207fcb('0x50')]:tesseract_1['Constants']['COLORS'][_0x207fcb('0xa')],'title':_0x1cfab1[_0x207fcb('0x58')]?_0x207fcb('0x0'):_0x1cfab1[_0x207fcb('0x58')]===![]?_0x207fcb('0x21'):_0x207fcb('0x3e'),'fields':[{'name':_0x207fcb('0x1b'),'value':_0x3691c1[_0x207fcb('0x1f')]||'-','inline':!![]},{'name':_0x207fcb('0x3'),'value':_0x12f34b?_0x12f34b[_0x207fcb('0x9')]===_0x12f34b['value']?_0x313010[_0x207fcb('0x13')]['emojis']['cache'][_0x207fcb('0x55')](_0x12f34b[_0x207fcb('0x9')])||_0x12f34b[_0x207fcb('0x7')]:_0x12f34b[_0x207fcb('0x9')]:'-','inline':!![]}]}})[_0x207fcb('0x31')](()=>{});}const _0x4f91a1=await ReactionRoleGroup_1[_0x207fcb('0x4')][_0x207fcb('0x2e')]({'guild':_0x313010['guild']['id']});if(!_0x4f91a1)throw new Error(_0x207fcb('0x51'));await _0x313010['channel'][_0x207fcb('0x15')]({'embed':{'color':tesseract_1[_0x207fcb('0x5')][_0x207fcb('0x4e')][_0x207fcb('0xa')],'title':'Reaction\x20Role\x20Groups','fields':_0x4f91a1[_0x207fcb('0x45')](_0xa7d543=>({'name':_0xa7d543[_0x207fcb('0x28')],'value':_0xa7d543['roles']['length']+_0x207fcb('0x39')+(_0xa7d543['exclusive']?_0x207fcb('0x48'):'')+_0x207fcb('0x43')+_0xa7d543[_0x207fcb('0x13')]+'/'+_0xa7d543[_0x207fcb('0x1')]+'/'+_0xa7d543[_0x207fcb('0x28')]+')'}))}})[_0x207fcb('0x31')](()=>{});};}};