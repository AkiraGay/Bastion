const a91_0x1348=['It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','premiumReactionRoleGroupRoles','reactionRoles','name','164VsxdZd','GREEN','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','author','317019CEtsVk','info','locale','tag','exec','document','GOLD','membershipLimitReactionRoleGroups','reaction','value','../../utils/omnic','4533EwPUia','Constants','role','../../utils/constants','emojis','delete','COLORS','map','Reaction\x20Role\x20Groups','client','apply','REACTION_ROLE_GROUPS','PremiumTier','RED','DiscordError','fetch','../../utils/errors','reactionRolesGroupRemove','createDocument','../../models/Role','countDocuments','MESSAGE_NOT_FOUND','findByIdAndUpdate','Emoji','send','roleNotFound','2977lKISKZ','\x20/\x20Exclusive','emoji','getString','@bastion/tesseract','parseEmoji','PREMIUM_MEMBERSHIP_REQUIRED','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','REACTION_ROLES_PER_GROUP','BASTION_ERROR_TYPE','channel','../../models/ReactionRoleGroup','289584jzkEVm','Role\x20Emoji\x20Added','exports','exclusive','message','940adqnJQ','length','guild','premiumReactionRoleGroups','LIMITED_PREMIUM_MEMBERSHIP','join','url','fetchPremiumTier','PLATINUM','find','301852kUGhGy','messages','get','resolver','reactionRoles\x20--message\x20ID\x20--delete','LIMITS','membershipLimitReactionRoleGroupRoles','ROLE_NOT_FOUND','IRIS','643564QlMpNs','errors','constructor','reactionRolesGroupAdd','language','save','Role\x20Emoji','catch','_id','249hCtURc','1aKnYcG','default','isPublicBastion','91qDqglk','resolveRoles','Role'];const a91_0x777a=function(_0x54893b,_0xaaaa3e){_0x54893b=_0x54893b-0xdb;let _0x4b5fa5=a91_0x1348[_0x54893b];return _0x4b5fa5;};const a91_0x4c6b3f=a91_0x777a;(function(_0x5dc58f,_0x10df3c){const _0x324473=a91_0x777a;while(!![]){try{const _0x10a1b5=parseInt(_0x324473(0x10a))*-parseInt(_0x324473(0x114))+-parseInt(_0x324473(0xf7))*parseInt(_0x324473(0x11e))+parseInt(_0x324473(0xf2))+-parseInt(_0x324473(0xe6))*parseInt(_0x324473(0x117))+-parseInt(_0x324473(0x101))+parseInt(_0x324473(0x122))+-parseInt(_0x324473(0x113))*-parseInt(_0x324473(0x12d));if(_0x10a1b5===_0x10df3c)break;else _0x5dc58f['push'](_0x5dc58f['shift']());}catch(_0x365f1c){_0x5dc58f['push'](_0x5dc58f['shift']());}}}(a91_0x1348,0x59125));const a91_0x2de8f3=function(){let _0x3a5233=!![];return function(_0x43023b,_0xdb012f){const _0x54d344=_0x3a5233?function(){const _0x6e09e2=a91_0x777a;if(_0xdb012f){const _0x597268=_0xdb012f[_0x6e09e2(0x137)](_0x43023b,arguments);return _0xdb012f=null,_0x597268;}}:function(){};return _0x3a5233=![],_0x54d344;};}(),a91_0x1304ad=a91_0x2de8f3(this,function(){const _0x2a7b07=function(){const _0x23c993=a91_0x777a,_0x4158bf=_0x2a7b07[_0x23c993(0x10c)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4158bf['test'](a91_0x1304ad);};return _0x2a7b07();});a91_0x1304ad();'use strict';const tesseract_1=require(a91_0x4c6b3f(0xea)),Role_1=require(a91_0x4c6b3f(0xdf)),ReactionRoleGroup_1=require(a91_0x4c6b3f(0xf1)),constants=require(a91_0x4c6b3f(0x130)),emojis=require('../../utils/emojis'),errors=require(a91_0x4c6b3f(0xdc)),omnic=require(a91_0x4c6b3f(0x12c));module[a91_0x4c6b3f(0xf4)]=class ReactionRolesCommand extends tesseract_1['Command']{constructor(){const _0x50e5ba=a91_0x4c6b3f;super(_0x50e5ba(0x11c),{'description':_0x50e5ba(0x11a),'triggers':[],'arguments':{'array':[_0x50e5ba(0x12f)],'boolean':['delete',_0x50e5ba(0xf5)],'string':[_0x50e5ba(0xf6),_0x50e5ba(0x12f),'emoji']},'scope':_0x50e5ba(0xf9),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':['MANAGE_ROLES'],'syntax':[_0x50e5ba(0x11c),_0x50e5ba(0xed),'reactionRoles\x20--role\x20ROLE\x20--no-emoji','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive',_0x50e5ba(0x105)]}),this[_0x50e5ba(0x126)]=async(_0x44bc00,_0x5d07ab)=>{const _0x58f519=_0x50e5ba;if(_0x5d07ab[_0x58f519(0xf6)]&&_0x5d07ab[_0x58f519(0x132)])return await ReactionRoleGroup_1[_0x58f519(0x115)]['deleteOne']({'_id':_0x5d07ab[_0x58f519(0xf6)],'guild':_0x44bc00[_0x58f519(0xf9)]['id']}),await _0x44bc00[_0x58f519(0xf0)]['send']({'embed':{'color':tesseract_1[_0x58f519(0x12e)][_0x58f519(0x133)][_0x58f519(0x13a)],'description':this[_0x58f519(0x136)][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00[_0x58f519(0xf9)]['document'][_0x58f519(0x10e)],_0x58f519(0x123),_0x58f519(0xdd),_0x44bc00[_0x58f519(0x121)][_0x58f519(0x125)],_0x5d07ab[_0x58f519(0xf6)])}})['catch'](()=>{});if(_0x5d07ab[_0x58f519(0xf6)]&&_0x5d07ab[_0x58f519(0x12f)]&&_0x5d07ab['role'][_0x58f519(0xf8)]){if(constants[_0x58f519(0x116)](this[_0x58f519(0x136)]['user'])){const _0x4b5db4=await omnic[_0x58f519(0xfe)](_0x44bc00[_0x58f519(0xf9)])[_0x58f519(0x111)](()=>{});if(_0x4b5db4){if(_0x4b5db4===omnic['PremiumTier'][_0x58f519(0x128)]&&_0x5d07ab['role'][_0x58f519(0xf8)]>constants[_0x58f519(0x106)][_0x58f519(0x128)][_0x58f519(0xee)])throw new errors[(_0x58f519(0x13b))](errors[_0x58f519(0xef)][_0x58f519(0xfb)],this['client'][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00['guild']['document']['language'],_0x58f519(0x10b),_0x58f519(0x107),constants['LIMITS'][_0x58f519(0x128)][_0x58f519(0xee)]));else{if(_0x4b5db4===omnic[_0x58f519(0x139)]['PLATINUM']&&_0x5d07ab[_0x58f519(0x12f)][_0x58f519(0xf8)]>constants[_0x58f519(0x106)][_0x58f519(0xff)]['REACTION_ROLES_PER_GROUP'])throw new errors[(_0x58f519(0x13b))](errors['BASTION_ERROR_TYPE'][_0x58f519(0xfb)],this[_0x58f519(0x136)][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00['guild']['document'][_0x58f519(0x10e)],_0x58f519(0x10b),_0x58f519(0x107),constants[_0x58f519(0x106)][_0x58f519(0xff)][_0x58f519(0xee)]));}}else{if(_0x5d07ab['role'][_0x58f519(0xf8)]>constants[_0x58f519(0x106)][_0x58f519(0xee)])throw new errors[(_0x58f519(0x13b))](errors['BASTION_ERROR_TYPE'][_0x58f519(0xec)],this[_0x58f519(0x136)][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x127)]['language'],_0x58f519(0x10b),_0x58f519(0x11b),constants[_0x58f519(0x106)][_0x58f519(0xee)]));}const _0x27c770=await ReactionRoleGroup_1[_0x58f519(0x115)][_0x58f519(0xe0)]({'guild':_0x44bc00['guild']['id']});if(_0x4b5db4){if(_0x4b5db4===omnic[_0x58f519(0x139)][_0x58f519(0x128)]&&_0x27c770>=constants['LIMITS']['GOLD'][_0x58f519(0x138)])throw new errors['DiscordError'](errors[_0x58f519(0xef)][_0x58f519(0xfb)],this[_0x58f519(0x136)][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x127)]['language'],_0x58f519(0x10b),'membershipLimitReactionRoleGroups',constants[_0x58f519(0x106)][_0x58f519(0x128)][_0x58f519(0x138)]));else{if(_0x4b5db4===omnic['PremiumTier']['PLATINUM']&&_0x27c770>=constants[_0x58f519(0x106)][_0x58f519(0xff)]['REACTION_ROLE_GROUPS'])throw new errors[(_0x58f519(0x13b))](errors[_0x58f519(0xef)][_0x58f519(0xfb)],this[_0x58f519(0x136)][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00['guild']['document'][_0x58f519(0x10e)],_0x58f519(0x10b),_0x58f519(0x129),constants['LIMITS'][_0x58f519(0xff)][_0x58f519(0x138)]));}}else{if(_0x27c770>=constants[_0x58f519(0x106)][_0x58f519(0x138)])throw new errors[(_0x58f519(0x13b))](errors[_0x58f519(0xef)][_0x58f519(0xec)],this[_0x58f519(0x136)][_0x58f519(0x124)]['getString'](_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x127)][_0x58f519(0x10e)],_0x58f519(0x10b),_0x58f519(0xfa),constants[_0x58f519(0x106)][_0x58f519(0x138)]));}}const _0x217060=await _0x44bc00[_0x58f519(0xf0)][_0x58f519(0x102)][_0x58f519(0xdb)](_0x5d07ab[_0x58f519(0xf6)],![])[_0x58f519(0x111)](()=>{});if(!_0x217060)throw new Error(_0x58f519(0xe1));const _0x3bcd24=this[_0x58f519(0x136)]['resolver'][_0x58f519(0x118)](_0x44bc00[_0x58f519(0xf9)],_0x5d07ab[_0x58f519(0x12f)]);if(!_0x3bcd24[_0x58f519(0xf8)])throw new errors[(_0x58f519(0x13b))](errors['BASTION_ERROR_TYPE'][_0x58f519(0x108)],this[_0x58f519(0x136)][_0x58f519(0x124)]['getString'](_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x127)]['language'],_0x58f519(0x10b),'roleNotFound'));await ReactionRoleGroup_1[_0x58f519(0x115)][_0x58f519(0xe2)](_0x217060['id'],{'_id':_0x217060['id'],'channel':_0x44bc00[_0x58f519(0xf0)]['id'],'guild':_0x44bc00[_0x58f519(0xf9)]['id'],'roles':_0x3bcd24[_0x58f519(0x134)](_0x30ad09=>_0x30ad09['id']),'exclusive':_0x5d07ab[_0x58f519(0xf5)]?_0x5d07ab[_0x58f519(0xf5)]:undefined},{'upsert':!![]}),await _0x44bc00[_0x58f519(0xf0)][_0x58f519(0xe4)]({'embed':{'color':tesseract_1['Constants'][_0x58f519(0x133)]['GREEN'],'description':this[_0x58f519(0x136)]['locale'][_0x58f519(0xe9)](_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x127)][_0x58f519(0x10e)],_0x58f519(0x123),_0x58f519(0x10d),_0x44bc00[_0x58f519(0x121)][_0x58f519(0x125)],_0x217060[_0x58f519(0xfd)])}})[_0x58f519(0x111)](()=>{});const _0x726d92=await Role_1[_0x58f519(0x115)][_0x58f519(0x100)]({'$or':_0x3bcd24[_0x58f519(0x134)](_0x3259b7=>({'_id':_0x3259b7['id']})),'guild':_0x44bc00['guild']['id'],'emoji':{'$exists':!![]}});if(_0x726d92&&_0x726d92[_0x58f519(0xf8)])for(const _0xf8082 of _0x726d92){const _0x1740ff=emojis[_0x58f519(0xeb)](_0xf8082['emoji']);await _0x217060['react'](_0x1740ff[_0x58f519(0x12a)]);}return;}if(_0x5d07ab[_0x58f519(0x12f)]){const _0x173d89=_0x5d07ab[_0x58f519(0x12f)]?_0x5d07ab['role'][_0x58f519(0xfc)]('\x20'):'',_0x451946=this[_0x58f519(0x136)][_0x58f519(0x104)]['resolveRole'](_0x44bc00[_0x58f519(0xf9)],_0x173d89);if(!_0x451946)throw new errors[(_0x58f519(0x13b))](errors[_0x58f519(0xef)][_0x58f519(0x108)],this[_0x58f519(0x136)][_0x58f519(0x124)][_0x58f519(0xe9)](_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x127)][_0x58f519(0x10e)],_0x58f519(0x10b),_0x58f519(0xe5)));let _0x568f19=await _0x451946['fetchDocument']();!_0x568f19&&_0x5d07ab['emoji']&&(_0x568f19=await _0x451946[_0x58f519(0xde)]());if(_0x5d07ab[_0x58f519(0xe8)]){const _0x3e076f=emojis[_0x58f519(0xeb)](_0x5d07ab['emoji']);_0x568f19['emoji']=_0x3e076f[_0x58f519(0x12b)],await _0x568f19[_0x58f519(0x10f)]();}else _0x568f19&&_0x5d07ab['emoji']===![]&&(_0x568f19[_0x58f519(0xe8)]=undefined,await _0x568f19[_0x58f519(0x10f)]());const _0x42c33c=_0x568f19?emojis[_0x58f519(0xeb)](_0x568f19[_0x58f519(0xe8)]):undefined;return await _0x44bc00['channel'][_0x58f519(0xe4)]({'embed':{'color':_0x5d07ab['emoji']?tesseract_1['Constants'][_0x58f519(0x133)][_0x58f519(0x11f)]:_0x5d07ab['emoji']===![]?tesseract_1['Constants'][_0x58f519(0x133)][_0x58f519(0x13a)]:tesseract_1[_0x58f519(0x12e)][_0x58f519(0x133)][_0x58f519(0x109)],'title':_0x5d07ab[_0x58f519(0xe8)]?_0x58f519(0xf3):_0x5d07ab[_0x58f519(0xe8)]===![]?'Role\x20Emoji\x20Removed':_0x58f519(0x110),'fields':[{'name':_0x58f519(0x119),'value':_0x451946[_0x58f519(0x11d)]||'-','inline':!![]},{'name':_0x58f519(0xe3),'value':_0x42c33c?_0x42c33c[_0x58f519(0x12a)]===_0x42c33c[_0x58f519(0x12b)]?_0x44bc00[_0x58f519(0xf9)][_0x58f519(0x131)]['cache'][_0x58f519(0x103)](_0x42c33c[_0x58f519(0x12a)])||_0x42c33c[_0x58f519(0x12b)]:_0x42c33c[_0x58f519(0x12a)]:'-','inline':!![]}]}})[_0x58f519(0x111)](()=>{});}const _0x2d92c2=await ReactionRoleGroup_1['default']['find']({'guild':_0x44bc00[_0x58f519(0xf9)]['id']});if(!_0x2d92c2)throw new Error('NO_REACTION_ROLES');await _0x44bc00['channel'][_0x58f519(0xe4)]({'embed':{'color':tesseract_1['Constants'][_0x58f519(0x133)][_0x58f519(0x109)],'title':_0x58f519(0x135),'fields':_0x2d92c2[_0x58f519(0x134)](_0x3a5634=>({'name':_0x3a5634['_id'],'value':_0x3a5634['roles'][_0x58f519(0xf8)]+'\x20Roles'+(_0x3a5634['exclusive']?_0x58f519(0xe7):'')+_0x58f519(0x120)+_0x3a5634[_0x58f519(0xf9)]+'/'+_0x3a5634[_0x58f519(0xf0)]+'/'+_0x3a5634[_0x58f519(0x112)]+')'}))}})['catch'](()=>{});};}};