const a75_0x51cb=['catch','send','author','PremiumTier','../../utils/constants','url','resolver','locale','../../models/Role','Emoji','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','../../models/ReactionRoleGroup','Reaction\x20Role\x20Groups','MANAGE_ROLES','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','default','GREEN','membershipLimitReactionRoleGroupRoles','apply','reactionRoles','BASTION_ERROR_TYPE','test','client','\x20Roles','REACTION_ROLES_PER_GROUP','LIMITED_PREMIUM_MEMBERSHIP','REACTION_ROLE_GROUPS','resolveRoles','roleNotFound','exclusive','deleteOne','_id','PLATINUM','roles','length','get','reaction','channel','getString','premiumReactionRoleGroups','document','delete','role','DiscordError','save','errors','emojis','info','membershipLimitReactionRoleGroups','findByIdAndUpdate','emoji','message','../../utils/emojis','RED','reactionRoles\x20--message\x20ID\x20--delete','PREMIUM_MEMBERSHIP_REQUIRED','Role\x20Emoji\x20Added','LIMITS','exports','premiumReactionRoleGroupRoles','language','Role\x20Emoji','NO_REACTION_ROLES','IRIS','constructor','ROLE_NOT_FOUND','fetchPremiumTier','MESSAGE_NOT_FOUND','parseEmoji','fetch','cache','@bastion/tesseract','join','map','fetchDocument','tag','guild','Command','GOLD','COLORS','exec','Constants','value','isPublicBastion'];(function(_0x37c1ff,_0x51cb16){const _0x27382a=function(_0x4b2814){while(--_0x4b2814){_0x37c1ff['push'](_0x37c1ff['shift']());}},_0x4c9d4=function(){const _0x26af6d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x27aaa8,_0x810421,_0x493dfd,_0x381d96){_0x381d96=_0x381d96||{};let _0x377677=_0x810421+'='+_0x493dfd,_0x3dd14a=0x0;for(let _0xea23af=0x0,_0x44b86c=_0x27aaa8['length'];_0xea23af<_0x44b86c;_0xea23af++){const _0x35e804=_0x27aaa8[_0xea23af];_0x377677+=';\x20'+_0x35e804;const _0x3dc32a=_0x27aaa8[_0x35e804];_0x27aaa8['push'](_0x3dc32a),_0x44b86c=_0x27aaa8['length'],_0x3dc32a!==!![]&&(_0x377677+='='+_0x3dc32a);}_0x381d96['cookie']=_0x377677;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2552e5,_0x3e5f15){_0x2552e5=_0x2552e5||function(_0x1b3185){return _0x1b3185;};const _0x28a9e4=_0x2552e5(new RegExp('(?:^|;\x20)'+_0x3e5f15['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3730bf=function(_0x2b4720,_0x27d3e1){_0x2b4720(++_0x27d3e1);};return _0x3730bf(_0x27382a,_0x51cb16),_0x28a9e4?decodeURIComponent(_0x28a9e4[0x1]):undefined;}},_0x572d1c=function(){const _0x5624c0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5624c0['test'](_0x26af6d['removeCookie']['toString']());};_0x26af6d['updateCookie']=_0x572d1c;let _0x276be0='';const _0x13fb29=_0x26af6d['updateCookie']();if(!_0x13fb29)_0x26af6d['setCookie'](['*'],'counter',0x1);else _0x13fb29?_0x276be0=_0x26af6d['getCookie'](null,'counter'):_0x26af6d['removeCookie']();};_0x4c9d4();}(a75_0x51cb,0x1bc));const a75_0x2738=function(_0x37c1ff,_0x51cb16){_0x37c1ff=_0x37c1ff-0x0;let _0x27382a=a75_0x51cb[_0x37c1ff];return _0x27382a;};const _0x483b85=a75_0x2738,a75_0x26af6d=function(){let _0x276be0=!![];return function(_0x13fb29,_0x27aaa8){const _0x810421=_0x276be0?function(){const _0x5160d7=a75_0x2738;if(_0x27aaa8){const _0x493dfd=_0x27aaa8[_0x5160d7('0x4e')](_0x13fb29,arguments);return _0x27aaa8=null,_0x493dfd;}}:function(){};return _0x276be0=![],_0x810421;};}(),a75_0x4b2814=a75_0x26af6d(this,function(){const _0x381d96=function(){const _0x1d5409=a75_0x2738,_0x377677=_0x381d96[_0x1d5409('0x28')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x1d5409('0x28')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x377677[_0x1d5409('0x51')](a75_0x4b2814);};return _0x381d96();});a75_0x4b2814();'use strict';const tesseract_1=require(_0x483b85('0x2f')),Role_1=require(_0x483b85('0x44')),ReactionRoleGroup_1=require(_0x483b85('0x47')),constants=require(_0x483b85('0x40')),emojis=require(_0x483b85('0x1c')),errors=require('../../utils/errors'),omnic=require('../../utils/omnic');module[_0x483b85('0x22')]=class ReactionRolesCommand extends tesseract_1[_0x483b85('0x35')]{constructor(){const _0x1290ea=_0x483b85;super(_0x1290ea('0x4f'),{'description':'It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','triggers':[],'arguments':{'array':[_0x1290ea('0x12')],'boolean':['delete',_0x1290ea('0x5')],'string':[_0x1290ea('0x1b'),_0x1290ea('0x12'),_0x1290ea('0x1a')]},'scope':_0x1290ea('0x34'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x1290ea('0x49')],'userPermissions':[_0x1290ea('0x49')],'syntax':[_0x1290ea('0x4f'),'reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','reactionRoles\x20--role\x20ROLE\x20--no-emoji',_0x1290ea('0x4a'),_0x1290ea('0x46'),_0x1290ea('0x1e')]}),this[_0x1290ea('0x38')]=async(_0x3dd14a,_0xea23af)=>{const _0xa4f86c=_0x1290ea;if(_0xea23af[_0xa4f86c('0x1b')]&&_0xea23af[_0xa4f86c('0x11')])return await ReactionRoleGroup_1[_0xa4f86c('0x4b')][_0xa4f86c('0x6')]({'_id':_0xea23af[_0xa4f86c('0x1b')]}),await _0x3dd14a[_0xa4f86c('0xd')][_0xa4f86c('0x3d')]({'embed':{'color':tesseract_1[_0xa4f86c('0x39')][_0xa4f86c('0x37')][_0xa4f86c('0x1d')],'description':this[_0xa4f86c('0x52')][_0xa4f86c('0x43')][_0xa4f86c('0xe')](_0x3dd14a[_0xa4f86c('0x34')]['document'][_0xa4f86c('0x24')],'info','reactionRolesGroupRemove',_0x3dd14a[_0xa4f86c('0x3e')][_0xa4f86c('0x33')],_0xea23af[_0xa4f86c('0x1b')])}})['catch'](()=>{});if(_0xea23af['message']&&_0xea23af['role']&&_0xea23af[_0xa4f86c('0x12')][_0xa4f86c('0xa')]){if(constants[_0xa4f86c('0x3b')](this['client']['user'])){const _0x3e5f15=await omnic[_0xa4f86c('0x2a')](_0x3dd14a['guild'])[_0xa4f86c('0x3c')](()=>{});if(_0x3e5f15){if(_0x3e5f15===omnic[_0xa4f86c('0x3f')][_0xa4f86c('0x36')]&&_0xea23af['role'][_0xa4f86c('0xa')]>constants[_0xa4f86c('0x21')]['GOLD'][_0xa4f86c('0x0')])throw new errors[(_0xa4f86c('0x13'))](errors['BASTION_ERROR_TYPE'][_0xa4f86c('0x1')],this[_0xa4f86c('0x52')][_0xa4f86c('0x43')][_0xa4f86c('0xe')](_0x3dd14a[_0xa4f86c('0x34')][_0xa4f86c('0x10')][_0xa4f86c('0x24')],_0xa4f86c('0x15'),_0xa4f86c('0x4d'),constants[_0xa4f86c('0x21')][_0xa4f86c('0x36')][_0xa4f86c('0x0')]));else{if(_0x3e5f15===omnic[_0xa4f86c('0x3f')]['PLATINUM']&&_0xea23af[_0xa4f86c('0x12')][_0xa4f86c('0xa')]>constants[_0xa4f86c('0x21')]['PLATINUM']['REACTION_ROLES_PER_GROUP'])throw new errors[(_0xa4f86c('0x13'))](errors[_0xa4f86c('0x50')][_0xa4f86c('0x1')],this[_0xa4f86c('0x52')][_0xa4f86c('0x43')]['getString'](_0x3dd14a[_0xa4f86c('0x34')]['document'][_0xa4f86c('0x24')],_0xa4f86c('0x15'),_0xa4f86c('0x4d'),constants[_0xa4f86c('0x21')][_0xa4f86c('0x8')][_0xa4f86c('0x0')]));}}else{if(_0xea23af[_0xa4f86c('0x12')][_0xa4f86c('0xa')]>constants[_0xa4f86c('0x21')]['REACTION_ROLES_PER_GROUP'])throw new errors[(_0xa4f86c('0x13'))](errors['BASTION_ERROR_TYPE'][_0xa4f86c('0x1f')],this[_0xa4f86c('0x52')][_0xa4f86c('0x43')]['getString'](_0x3dd14a[_0xa4f86c('0x34')][_0xa4f86c('0x10')][_0xa4f86c('0x24')],'errors',_0xa4f86c('0x23'),constants['LIMITS'][_0xa4f86c('0x0')]));}const _0x28a9e4=await ReactionRoleGroup_1[_0xa4f86c('0x4b')]['countDocuments']({'guild':_0x3dd14a[_0xa4f86c('0x34')]['id']});if(_0x3e5f15){if(_0x3e5f15===omnic[_0xa4f86c('0x3f')][_0xa4f86c('0x36')]&&_0x28a9e4>=constants[_0xa4f86c('0x21')]['GOLD']['REACTION_ROLE_GROUPS'])throw new errors[(_0xa4f86c('0x13'))](errors[_0xa4f86c('0x50')][_0xa4f86c('0x1')],this['client'][_0xa4f86c('0x43')][_0xa4f86c('0xe')](_0x3dd14a[_0xa4f86c('0x34')][_0xa4f86c('0x10')][_0xa4f86c('0x24')],_0xa4f86c('0x15'),_0xa4f86c('0x18'),constants[_0xa4f86c('0x21')][_0xa4f86c('0x36')]['REACTION_ROLE_GROUPS']));else{if(_0x3e5f15===omnic['PremiumTier']['PLATINUM']&&_0x28a9e4>=constants[_0xa4f86c('0x21')][_0xa4f86c('0x8')][_0xa4f86c('0x2')])throw new errors[(_0xa4f86c('0x13'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[_0xa4f86c('0x52')]['locale']['getString'](_0x3dd14a['guild']['document']['language'],'errors',_0xa4f86c('0x18'),constants['LIMITS'][_0xa4f86c('0x8')]['REACTION_ROLE_GROUPS']));}}else{if(_0x28a9e4>=constants['LIMITS'][_0xa4f86c('0x2')])throw new errors[(_0xa4f86c('0x13'))](errors[_0xa4f86c('0x50')][_0xa4f86c('0x1f')],this[_0xa4f86c('0x52')]['locale'][_0xa4f86c('0xe')](_0x3dd14a['guild'][_0xa4f86c('0x10')][_0xa4f86c('0x24')],_0xa4f86c('0x15'),_0xa4f86c('0xf'),constants[_0xa4f86c('0x21')]['REACTION_ROLE_GROUPS']));}}const _0x35e804=await _0x3dd14a['channel']['messages'][_0xa4f86c('0x2d')](_0xea23af[_0xa4f86c('0x1b')],![])['catch'](()=>{});if(!_0x35e804)throw new Error(_0xa4f86c('0x2b'));const _0x3dc32a=this[_0xa4f86c('0x52')]['resolver'][_0xa4f86c('0x3')](_0x3dd14a['guild'],_0xea23af['role']);if(!_0x3dc32a[_0xa4f86c('0xa')])throw new errors[(_0xa4f86c('0x13'))](errors['BASTION_ERROR_TYPE'][_0xa4f86c('0x29')],this[_0xa4f86c('0x52')][_0xa4f86c('0x43')][_0xa4f86c('0xe')](_0x3dd14a[_0xa4f86c('0x34')][_0xa4f86c('0x10')][_0xa4f86c('0x24')],_0xa4f86c('0x15'),_0xa4f86c('0x4')));await ReactionRoleGroup_1['default'][_0xa4f86c('0x19')](_0x35e804['id'],{'_id':_0x35e804['id'],'channel':_0x3dd14a['channel']['id'],'guild':_0x3dd14a[_0xa4f86c('0x34')]['id'],'roles':_0x3dc32a[_0xa4f86c('0x31')](_0x3730bf=>_0x3730bf['id']),'exclusive':_0xea23af[_0xa4f86c('0x5')]?_0xea23af[_0xa4f86c('0x5')]:undefined},{'upsert':!![]}),await _0x3dd14a[_0xa4f86c('0xd')][_0xa4f86c('0x3d')]({'embed':{'color':tesseract_1[_0xa4f86c('0x39')]['COLORS'][_0xa4f86c('0x4c')],'description':this[_0xa4f86c('0x52')][_0xa4f86c('0x43')][_0xa4f86c('0xe')](_0x3dd14a[_0xa4f86c('0x34')][_0xa4f86c('0x10')]['language'],_0xa4f86c('0x17'),'reactionRolesGroupAdd',_0x3dd14a[_0xa4f86c('0x3e')][_0xa4f86c('0x33')],_0x35e804[_0xa4f86c('0x41')])}})['catch'](()=>{});const _0x2552e5=await Role_1[_0xa4f86c('0x4b')]['find']({'$or':_0x3dc32a[_0xa4f86c('0x31')](_0x1b3185=>({'_id':_0x1b3185['id']})),'guild':_0x3dd14a['guild']['id'],'emoji':{'$exists':!![]}});if(_0x2552e5&&_0x2552e5['length'])for(const _0x2b4720 of _0x2552e5){const _0x27d3e1=emojis[_0xa4f86c('0x2c')](_0x2b4720[_0xa4f86c('0x1a')]);await _0x35e804['react'](_0x27d3e1['reaction']);}return;}if(_0xea23af['role']){const _0x5624c0=_0xea23af['role']?_0xea23af['role'][_0xa4f86c('0x30')]('\x20'):'',_0xded350=this[_0xa4f86c('0x52')][_0xa4f86c('0x42')]['resolveRole'](_0x3dd14a[_0xa4f86c('0x34')],_0x5624c0);if(!_0xded350)throw new errors[(_0xa4f86c('0x13'))](errors[_0xa4f86c('0x50')][_0xa4f86c('0x29')],this[_0xa4f86c('0x52')][_0xa4f86c('0x43')][_0xa4f86c('0xe')](_0x3dd14a['guild'][_0xa4f86c('0x10')][_0xa4f86c('0x24')],_0xa4f86c('0x15'),'roleNotFound'));let _0x5a051e=await _0xded350[_0xa4f86c('0x32')]();!_0x5a051e&&_0xea23af[_0xa4f86c('0x1a')]&&(_0x5a051e=await _0xded350['createDocument']());if(_0xea23af['emoji']){const _0x42178c=emojis[_0xa4f86c('0x2c')](_0xea23af['emoji']);_0x5a051e[_0xa4f86c('0x1a')]=_0x42178c[_0xa4f86c('0x3a')],await _0x5a051e[_0xa4f86c('0x14')]();}else _0x5a051e&&_0xea23af[_0xa4f86c('0x1a')]===![]&&(_0x5a051e[_0xa4f86c('0x1a')]=undefined,await _0x5a051e[_0xa4f86c('0x14')]());const _0x16390a=_0x5a051e?emojis[_0xa4f86c('0x2c')](_0x5a051e['emoji']):undefined;return await _0x3dd14a[_0xa4f86c('0xd')][_0xa4f86c('0x3d')]({'embed':{'color':_0xea23af[_0xa4f86c('0x1a')]?tesseract_1['Constants'][_0xa4f86c('0x37')][_0xa4f86c('0x4c')]:_0xea23af[_0xa4f86c('0x1a')]===![]?tesseract_1[_0xa4f86c('0x39')][_0xa4f86c('0x37')][_0xa4f86c('0x1d')]:tesseract_1[_0xa4f86c('0x39')][_0xa4f86c('0x37')][_0xa4f86c('0x27')],'title':_0xea23af[_0xa4f86c('0x1a')]?_0xa4f86c('0x20'):_0xea23af[_0xa4f86c('0x1a')]===![]?'Role\x20Emoji\x20Removed':_0xa4f86c('0x25'),'fields':[{'name':'Role','value':_0xded350['name']||'-','inline':!![]},{'name':_0xa4f86c('0x45'),'value':_0x16390a?_0x16390a[_0xa4f86c('0xc')]===_0x16390a['value']?_0x3dd14a[_0xa4f86c('0x34')][_0xa4f86c('0x16')][_0xa4f86c('0x2e')][_0xa4f86c('0xb')](_0x16390a[_0xa4f86c('0xc')])||_0x16390a[_0xa4f86c('0x3a')]:_0x16390a[_0xa4f86c('0xc')]:'-','inline':!![]}]}})[_0xa4f86c('0x3c')](()=>{});}const _0x44b86c=await ReactionRoleGroup_1[_0xa4f86c('0x4b')]['find']({});if(!_0x44b86c)throw new Error(_0xa4f86c('0x26'));await _0x3dd14a['channel'][_0xa4f86c('0x3d')]({'embed':{'title':_0xa4f86c('0x48'),'fields':_0x44b86c['map'](_0x554704=>({'name':_0x554704[_0xa4f86c('0x7')],'value':_0x554704[_0xa4f86c('0x9')]['length']+_0xa4f86c('0x53')+(_0x554704[_0xa4f86c('0x5')]?'\x20/\x20Exclusive':'')+'\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/'+_0x554704[_0xa4f86c('0x34')]+'/'+_0x554704[_0xa4f86c('0xd')]+'/'+_0x554704[_0xa4f86c('0x7')]+')'}))}})['catch'](()=>{});};}};