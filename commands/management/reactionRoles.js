const a91_0x4479=['roleNotFound','PLATINUM','client','createDocument','errors','Role\x20Emoji','role','user','test','catch','reactionRolesGroupAdd','PremiumTier','author','../../utils/omnic','Emoji','save','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','RED','_id','name','isPublicBastion','info','getString','../../models/ReactionRoleGroup','REACTION_ROLES_PER_GROUP','tag','NO_REACTION_ROLES','guild','cache','Role','@bastion/tesseract','get','reactionRoles\x20--role\x20ROLE\x20--no-emoji','constructor','exclusive','url','reactionRoles\x20--message\x20ID\x20--delete','ROLE_NOT_FOUND','default','LIMITS','emoji','fetch','parseEmoji','return\x20/\x22\x20+\x20this\x20+\x20\x22/','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','language','../../utils/emojis','resolver','premiumReactionRoleGroupRoles','MANAGE_ROLES','fetchPremiumTier','roles','deleteOne','fetchDocument','find','COLORS','premiumReactionRoleGroups','BASTION_ERROR_TYPE','document','REACTION_ROLE_GROUPS','locale','membershipLimitReactionRoleGroups','reaction','resolveRoles','Reaction\x20Role\x20Groups','LIMITED_PREMIUM_MEMBERSHIP','value','map','resolveRole','membershipLimitReactionRoleGroupRoles','message','findByIdAndUpdate','length','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','delete','Command','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','PREMIUM_MEMBERSHIP_REQUIRED','channel','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','apply','Role\x20Emoji\x20Added','DiscordError','\x20Roles','GREEN','Constants','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','GOLD','reactionRoles','messages','Role\x20Emoji\x20Removed','send'];(function(_0x1786ea,_0x115548){const _0x447964=function(_0x1fb854){while(--_0x1fb854){_0x1786ea['push'](_0x1786ea['shift']());}},_0x11965a=function(){const _0x3743e7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2afc55,_0x10fabb,_0x136a38,_0x19fc9f){_0x19fc9f=_0x19fc9f||{};let _0x551669=_0x10fabb+'='+_0x136a38,_0x5cd2cc=0x0;for(let _0x37062a=0x0,_0x5b3121=_0x2afc55['length'];_0x37062a<_0x5b3121;_0x37062a++){const _0x15589a=_0x2afc55[_0x37062a];_0x551669+=';\x20'+_0x15589a;const _0x344965=_0x2afc55[_0x15589a];_0x2afc55['push'](_0x344965),_0x5b3121=_0x2afc55['length'],_0x344965!==!![]&&(_0x551669+='='+_0x344965);}_0x19fc9f['cookie']=_0x551669;},'removeCookie':function(){return'dev';},'getCookie':function(_0x27d2dd,_0x4a1746){_0x27d2dd=_0x27d2dd||function(_0x1252f3){return _0x1252f3;};const _0x351d85=_0x27d2dd(new RegExp('(?:^|;\x20)'+_0x4a1746['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x553547=function(_0x38c50c,_0x1d4cde){_0x38c50c(++_0x1d4cde);};return _0x553547(_0x447964,_0x115548),_0x351d85?decodeURIComponent(_0x351d85[0x1]):undefined;}},_0x5d2724=function(){const _0x2ce24f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ce24f['test'](_0x3743e7['removeCookie']['toString']());};_0x3743e7['updateCookie']=_0x5d2724;let _0x2eeea9='';const _0x49299f=_0x3743e7['updateCookie']();if(!_0x49299f)_0x3743e7['setCookie'](['*'],'counter',0x1);else _0x49299f?_0x2eeea9=_0x3743e7['getCookie'](null,'counter'):_0x3743e7['removeCookie']();};_0x11965a();}(a91_0x4479,0x143));const a91_0x1196=function(_0x1786ea,_0x115548){_0x1786ea=_0x1786ea-0x199;let _0x447964=a91_0x4479[_0x1786ea];return _0x447964;};const a91_0x33dbce=a91_0x1196,a91_0x5d2724=function(){let _0x49299f=!![];return function(_0x2afc55,_0x10fabb){const _0x136a38=_0x49299f?function(){const _0x5f41f7=a91_0x1196;if(_0x10fabb){const _0x19fc9f=_0x10fabb[_0x5f41f7(0x1ba)](_0x2afc55,arguments);return _0x10fabb=null,_0x19fc9f;}}:function(){};return _0x49299f=![],_0x136a38;};}(),a91_0x3743e7=a91_0x5d2724(this,function(){const _0x551669=function(){const _0x29ff52=a91_0x1196,_0x5cd2cc=_0x551669[_0x29ff52(0x1e7)](_0x29ff52(0x1f1))()[_0x29ff52(0x1e7)](_0x29ff52(0x1b6));return!_0x5cd2cc[_0x29ff52(0x1ce)](a91_0x3743e7);};return _0x551669();});a91_0x3743e7();'use strict';const tesseract_1=require(a91_0x33dbce(0x1e4)),Role_1=require('../../models/Role'),ReactionRoleGroup_1=require(a91_0x33dbce(0x1dd)),constants=require('../../utils/constants'),emojis=require(a91_0x33dbce(0x1f4)),errors=require('../../utils/errors'),omnic=require(a91_0x33dbce(0x1d3));module['exports']=class ReactionRolesCommand extends tesseract_1[a91_0x33dbce(0x1b5)]{constructor(){const _0x3055c0=a91_0x33dbce;super(_0x3055c0(0x1c2),{'description':_0x3055c0(0x1b3),'triggers':[],'arguments':{'array':[_0x3055c0(0x1cc)],'boolean':['delete',_0x3055c0(0x1e8)],'string':[_0x3055c0(0x1b0),'role','emoji']},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[_0x3055c0(0x19b)],'syntax':['reactionRoles',_0x3055c0(0x1c0),_0x3055c0(0x1e6),_0x3055c0(0x1f2),_0x3055c0(0x1b9),_0x3055c0(0x1ea)]}),this['exec']=async(_0x37062a,_0x5b3121)=>{const _0x3440a8=_0x3055c0;if(_0x5b3121['message']&&_0x5b3121[_0x3440a8(0x1b4)])return await ReactionRoleGroup_1[_0x3440a8(0x1ec)][_0x3440a8(0x19e)]({'_id':_0x5b3121[_0x3440a8(0x1b0)],'guild':_0x37062a['guild']['id']}),await _0x37062a['channel'][_0x3440a8(0x1c5)]({'embed':{'color':tesseract_1[_0x3440a8(0x1bf)]['COLORS'][_0x3440a8(0x1d7)],'description':this['client'][_0x3440a8(0x1a6)][_0x3440a8(0x1dc)](_0x37062a['guild']['document']['language'],_0x3440a8(0x1db),'reactionRolesGroupRemove',_0x37062a[_0x3440a8(0x1d2)][_0x3440a8(0x1df)],_0x5b3121[_0x3440a8(0x1b0)])}})[_0x3440a8(0x1cf)](()=>{});if(_0x5b3121['message']&&_0x5b3121['role']&&_0x5b3121[_0x3440a8(0x1cc)]['length']){if(constants[_0x3440a8(0x1da)](this[_0x3440a8(0x1c8)][_0x3440a8(0x1cd)])){const _0x351d85=await omnic[_0x3440a8(0x19c)](_0x37062a['guild'])[_0x3440a8(0x1cf)](()=>{});if(_0x351d85){if(_0x351d85===omnic[_0x3440a8(0x1d1)][_0x3440a8(0x1c1)]&&_0x5b3121[_0x3440a8(0x1cc)][_0x3440a8(0x1b2)]>constants[_0x3440a8(0x1ed)][_0x3440a8(0x1c1)][_0x3440a8(0x1de)])throw new errors[(_0x3440a8(0x1bc))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x3440a8(0x1c8)][_0x3440a8(0x1a6)]['getString'](_0x37062a[_0x3440a8(0x1e1)][_0x3440a8(0x1a4)]['language'],_0x3440a8(0x1ca),'membershipLimitReactionRoleGroupRoles',constants[_0x3440a8(0x1ed)]['GOLD'][_0x3440a8(0x1de)]));else{if(_0x351d85===omnic[_0x3440a8(0x1d1)][_0x3440a8(0x1c7)]&&_0x5b3121[_0x3440a8(0x1cc)][_0x3440a8(0x1b2)]>constants['LIMITS'][_0x3440a8(0x1c7)][_0x3440a8(0x1de)])throw new errors['DiscordError'](errors[_0x3440a8(0x1a3)]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][_0x3440a8(0x1a6)][_0x3440a8(0x1dc)](_0x37062a[_0x3440a8(0x1e1)]['document'][_0x3440a8(0x1f3)],'errors',_0x3440a8(0x1af),constants[_0x3440a8(0x1ed)]['PLATINUM'][_0x3440a8(0x1de)]));}}else{if(_0x5b3121[_0x3440a8(0x1cc)][_0x3440a8(0x1b2)]>constants[_0x3440a8(0x1ed)]['REACTION_ROLES_PER_GROUP'])throw new errors[(_0x3440a8(0x1bc))](errors['BASTION_ERROR_TYPE'][_0x3440a8(0x1b7)],this['client'][_0x3440a8(0x1a6)]['getString'](_0x37062a[_0x3440a8(0x1e1)][_0x3440a8(0x1a4)][_0x3440a8(0x1f3)],'errors',_0x3440a8(0x19a),constants[_0x3440a8(0x1ed)][_0x3440a8(0x1de)]));}const _0x553547=await ReactionRoleGroup_1[_0x3440a8(0x1ec)]['countDocuments']({'guild':_0x37062a[_0x3440a8(0x1e1)]['id']});if(_0x351d85){if(_0x351d85===omnic[_0x3440a8(0x1d1)][_0x3440a8(0x1c1)]&&_0x553547>=constants['LIMITS'][_0x3440a8(0x1c1)][_0x3440a8(0x1a5)])throw new errors[(_0x3440a8(0x1bc))](errors[_0x3440a8(0x1a3)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x3440a8(0x1c8)][_0x3440a8(0x1a6)][_0x3440a8(0x1dc)](_0x37062a[_0x3440a8(0x1e1)]['document'][_0x3440a8(0x1f3)],_0x3440a8(0x1ca),_0x3440a8(0x1a7),constants[_0x3440a8(0x1ed)][_0x3440a8(0x1c1)]['REACTION_ROLE_GROUPS']));else{if(_0x351d85===omnic[_0x3440a8(0x1d1)][_0x3440a8(0x1c7)]&&_0x553547>=constants[_0x3440a8(0x1ed)][_0x3440a8(0x1c7)]['REACTION_ROLE_GROUPS'])throw new errors[(_0x3440a8(0x1bc))](errors['BASTION_ERROR_TYPE'][_0x3440a8(0x1ab)],this[_0x3440a8(0x1c8)]['locale'][_0x3440a8(0x1dc)](_0x37062a[_0x3440a8(0x1e1)][_0x3440a8(0x1a4)]['language'],_0x3440a8(0x1ca),'membershipLimitReactionRoleGroups',constants['LIMITS'][_0x3440a8(0x1c7)][_0x3440a8(0x1a5)]));}}else{if(_0x553547>=constants[_0x3440a8(0x1ed)][_0x3440a8(0x1a5)])throw new errors[(_0x3440a8(0x1bc))](errors[_0x3440a8(0x1a3)][_0x3440a8(0x1b7)],this[_0x3440a8(0x1c8)][_0x3440a8(0x1a6)]['getString'](_0x37062a[_0x3440a8(0x1e1)][_0x3440a8(0x1a4)][_0x3440a8(0x1f3)],'errors',_0x3440a8(0x1a2),constants[_0x3440a8(0x1ed)][_0x3440a8(0x1a5)]));}}const _0x344965=await _0x37062a[_0x3440a8(0x1b8)][_0x3440a8(0x1c3)][_0x3440a8(0x1ef)](_0x5b3121[_0x3440a8(0x1b0)],![])[_0x3440a8(0x1cf)](()=>{});if(!_0x344965)throw new Error('MESSAGE_NOT_FOUND');const _0x27d2dd=this[_0x3440a8(0x1c8)]['resolver'][_0x3440a8(0x1a9)](_0x37062a[_0x3440a8(0x1e1)],_0x5b3121[_0x3440a8(0x1cc)]);if(!_0x27d2dd[_0x3440a8(0x1b2)])throw new errors[(_0x3440a8(0x1bc))](errors[_0x3440a8(0x1a3)]['ROLE_NOT_FOUND'],this[_0x3440a8(0x1c8)][_0x3440a8(0x1a6)][_0x3440a8(0x1dc)](_0x37062a['guild']['document'][_0x3440a8(0x1f3)],_0x3440a8(0x1ca),_0x3440a8(0x1c6)));await ReactionRoleGroup_1[_0x3440a8(0x1ec)][_0x3440a8(0x1b1)](_0x344965['id'],{'_id':_0x344965['id'],'channel':_0x37062a[_0x3440a8(0x1b8)]['id'],'guild':_0x37062a[_0x3440a8(0x1e1)]['id'],'roles':_0x27d2dd['map'](_0x1252f3=>_0x1252f3['id']),'exclusive':_0x5b3121['exclusive']?_0x5b3121[_0x3440a8(0x1e8)]:undefined},{'upsert':!![]}),await _0x37062a['channel'][_0x3440a8(0x1c5)]({'embed':{'color':tesseract_1['Constants'][_0x3440a8(0x1a1)][_0x3440a8(0x1be)],'description':this[_0x3440a8(0x1c8)][_0x3440a8(0x1a6)][_0x3440a8(0x1dc)](_0x37062a[_0x3440a8(0x1e1)][_0x3440a8(0x1a4)][_0x3440a8(0x1f3)],_0x3440a8(0x1db),_0x3440a8(0x1d0),_0x37062a[_0x3440a8(0x1d2)][_0x3440a8(0x1df)],_0x344965[_0x3440a8(0x1e9)])}})[_0x3440a8(0x1cf)](()=>{});const _0x4a1746=await Role_1[_0x3440a8(0x1ec)][_0x3440a8(0x1a0)]({'$or':_0x27d2dd[_0x3440a8(0x1ad)](_0x38c50c=>({'_id':_0x38c50c['id']})),'guild':_0x37062a[_0x3440a8(0x1e1)]['id'],'emoji':{'$exists':!![]}});if(_0x4a1746&&_0x4a1746[_0x3440a8(0x1b2)])for(const _0x1d4cde of _0x4a1746){const _0x2ce24f=emojis[_0x3440a8(0x1f0)](_0x1d4cde[_0x3440a8(0x1ee)]);await _0x344965['react'](_0x2ce24f['reaction']);}return;}if(_0x5b3121[_0x3440a8(0x1cc)]){const _0xe9288c=_0x5b3121[_0x3440a8(0x1cc)]?_0x5b3121[_0x3440a8(0x1cc)]['join']('\x20'):'',_0x42391d=this[_0x3440a8(0x1c8)][_0x3440a8(0x199)][_0x3440a8(0x1ae)](_0x37062a[_0x3440a8(0x1e1)],_0xe9288c);if(!_0x42391d)throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x3440a8(0x1eb)],this[_0x3440a8(0x1c8)][_0x3440a8(0x1a6)][_0x3440a8(0x1dc)](_0x37062a['guild'][_0x3440a8(0x1a4)]['language'],'errors',_0x3440a8(0x1c6)));let _0x57d17f=await _0x42391d[_0x3440a8(0x19f)]();!_0x57d17f&&_0x5b3121[_0x3440a8(0x1ee)]&&(_0x57d17f=await _0x42391d[_0x3440a8(0x1c9)]());if(_0x5b3121[_0x3440a8(0x1ee)]){const _0x84e726=emojis[_0x3440a8(0x1f0)](_0x5b3121[_0x3440a8(0x1ee)]);_0x57d17f['emoji']=_0x84e726[_0x3440a8(0x1ac)],await _0x57d17f[_0x3440a8(0x1d5)]();}else _0x57d17f&&_0x5b3121['emoji']===![]&&(_0x57d17f[_0x3440a8(0x1ee)]=undefined,await _0x57d17f[_0x3440a8(0x1d5)]());const _0x1504c6=_0x57d17f?emojis['parseEmoji'](_0x57d17f[_0x3440a8(0x1ee)]):undefined;return await _0x37062a['channel'][_0x3440a8(0x1c5)]({'embed':{'color':_0x5b3121[_0x3440a8(0x1ee)]?tesseract_1[_0x3440a8(0x1bf)][_0x3440a8(0x1a1)][_0x3440a8(0x1be)]:_0x5b3121[_0x3440a8(0x1ee)]===![]?tesseract_1[_0x3440a8(0x1bf)][_0x3440a8(0x1a1)][_0x3440a8(0x1d7)]:tesseract_1[_0x3440a8(0x1bf)]['COLORS']['IRIS'],'title':_0x5b3121[_0x3440a8(0x1ee)]?_0x3440a8(0x1bb):_0x5b3121[_0x3440a8(0x1ee)]===![]?_0x3440a8(0x1c4):_0x3440a8(0x1cb),'fields':[{'name':_0x3440a8(0x1e3),'value':_0x42391d[_0x3440a8(0x1d9)]||'-','inline':!![]},{'name':_0x3440a8(0x1d4),'value':_0x1504c6?_0x1504c6[_0x3440a8(0x1a8)]===_0x1504c6[_0x3440a8(0x1ac)]?_0x37062a['guild']['emojis'][_0x3440a8(0x1e2)][_0x3440a8(0x1e5)](_0x1504c6[_0x3440a8(0x1a8)])||_0x1504c6[_0x3440a8(0x1ac)]:_0x1504c6['reaction']:'-','inline':!![]}]}})[_0x3440a8(0x1cf)](()=>{});}const _0x15589a=await ReactionRoleGroup_1[_0x3440a8(0x1ec)][_0x3440a8(0x1a0)]({'guild':_0x37062a[_0x3440a8(0x1e1)]['id']});if(!_0x15589a)throw new Error(_0x3440a8(0x1e0));await _0x37062a['channel'][_0x3440a8(0x1c5)]({'embed':{'color':tesseract_1[_0x3440a8(0x1bf)]['COLORS']['IRIS'],'title':_0x3440a8(0x1aa),'fields':_0x15589a[_0x3440a8(0x1ad)](_0x42e7b9=>({'name':_0x42e7b9[_0x3440a8(0x1d8)],'value':_0x42e7b9[_0x3440a8(0x19d)][_0x3440a8(0x1b2)]+_0x3440a8(0x1bd)+(_0x42e7b9[_0x3440a8(0x1e8)]?'\x20/\x20Exclusive':'')+_0x3440a8(0x1d6)+_0x42e7b9[_0x3440a8(0x1e1)]+'/'+_0x42e7b9[_0x3440a8(0x1b8)]+'/'+_0x42e7b9[_0x3440a8(0x1d8)]+')'}))}})[_0x3440a8(0x1cf)](()=>{});};}};