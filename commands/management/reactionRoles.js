const a287_0x1088=['default','map','exports','channel','fetch','Role','membershipLimitReactionRoleGroups','REACTION_ROLES_PER_GROUP','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','\x20Roles','errors','constructor','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','getString','premiumReactionRoleGroups','reactionRoles','PremiumTier','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','value','exec','Role\x20Emoji','LIMITS','fetchDocument','emojis','REACTION_ROLE_GROUPS','RED','deleteOne','guild','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','save','BASTION_ERROR_TYPE','cache','test','Command','MANAGE_ROLES','send','roles','reactionRolesGroupRemove','locale','PLATINUM','get','GOLD','catch','tag','document','reaction','resolveRoles','LIMITED_PREMIUM_MEMBERSHIP','@bastion/tesseract','../../utils/emojis','Constants','author','IRIS','apply','language','info','_id','isPublicBastion','../../utils/omnic','join','emoji','react','fetchPremiumTier','ROLE_NOT_FOUND','reactionRolesGroupAdd','../../utils/errors','message','url','return\x20/\x22\x20+\x20this\x20+\x20\x22/','parseEmoji','user','DiscordError','roleNotFound','Role\x20Emoji\x20Added','GREEN','find','Reaction\x20Role\x20Groups','client','exclusive','role','reactionRoles\x20--message\x20ID\x20--delete','resolver','PREMIUM_MEMBERSHIP_REQUIRED','Emoji','COLORS','../../models/Role','membershipLimitReactionRoleGroupRoles','length','delete','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','NO_REACTION_ROLES'];(function(_0x40b352,_0x108832){const _0x472ffc=function(_0xb0b8e0){while(--_0xb0b8e0){_0x40b352['push'](_0x40b352['shift']());}};const _0x278c27=function(){const _0x575695={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x35b819,_0x5a2045,_0x328aff,_0x3a8ba2){_0x3a8ba2=_0x3a8ba2||{};let _0x13f88b=_0x5a2045+'='+_0x328aff;let _0x4236a9=0x0;for(let _0x5e5c31=0x0,_0x4efe47=_0x35b819['length'];_0x5e5c31<_0x4efe47;_0x5e5c31++){const _0xfca5c=_0x35b819[_0x5e5c31];_0x13f88b+=';\x20'+_0xfca5c;const _0x438563=_0x35b819[_0xfca5c];_0x35b819['push'](_0x438563);_0x4efe47=_0x35b819['length'];if(_0x438563!==!![]){_0x13f88b+='='+_0x438563;}}_0x3a8ba2['cookie']=_0x13f88b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x474d17,_0xf0223e){_0x474d17=_0x474d17||function(_0x454ee2){return _0x454ee2;};const _0x43849b=_0x474d17(new RegExp('(?:^|;\x20)'+_0xf0223e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3a8a6f=function(_0x459727,_0x938ebb){_0x459727(++_0x938ebb);};_0x3a8a6f(_0x472ffc,_0x108832);return _0x43849b?decodeURIComponent(_0x43849b[0x1]):undefined;}};const _0x35a820=function(){const _0x6667d3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x6667d3['test'](_0x575695['removeCookie']['toString']());};_0x575695['updateCookie']=_0x35a820;let _0x36600f='';const _0xb9f0c5=_0x575695['updateCookie']();if(!_0xb9f0c5){_0x575695['setCookie'](['*'],'counter',0x1);}else if(_0xb9f0c5){_0x36600f=_0x575695['getCookie'](null,'counter');}else{_0x575695['removeCookie']();}};_0x278c27();}(a287_0x1088,0x74));const a287_0x472f=function(_0x40b352,_0x108832){_0x40b352=_0x40b352-0x0;let _0x472ffc=a287_0x1088[_0x40b352];return _0x472ffc;};const a287_0x575695=function(){let _0x2dc139=!![];return function(_0x3dfe30,_0x4ba214){const _0x152488=_0x2dc139?function(){if(_0x4ba214){const _0x409b99=_0x4ba214[a287_0x472f('0x1c')](_0x3dfe30,arguments);_0x4ba214=null;return _0x409b99;}}:function(){};_0x2dc139=![];return _0x152488;};}();const a287_0xb0b8e0=a287_0x575695(this,function(){const _0x2a287e=function(){const _0x22755d=_0x2a287e[a287_0x472f('0x4d')](a287_0x472f('0x2b'))()['compile'](a287_0x472f('0x3'));return!_0x22755d[a287_0x472f('0x7')](a287_0xb0b8e0);};return _0x2a287e();});a287_0xb0b8e0();'use strict';const tesseract_1=require(a287_0x472f('0x17'));const Role_1=require(a287_0x472f('0x3c'));const ReactionRoleGroup_1=require('../../models/ReactionRoleGroup');const constants=require('../../utils/constants');const emojis=require(a287_0x472f('0x18'));const errors=require(a287_0x472f('0x28'));const omnic=require(a287_0x472f('0x21'));module[a287_0x472f('0x44')]=class ReactionRolesCommand extends tesseract_1[a287_0x472f('0x8')]{constructor(){super(a287_0x472f('0x51'),{'description':a287_0x472f('0x4a'),'triggers':[],'arguments':{'array':[a287_0x472f('0x36')],'boolean':[a287_0x472f('0x3f'),a287_0x472f('0x35')],'string':[a287_0x472f('0x29'),a287_0x472f('0x36'),a287_0x472f('0x23')]},'scope':a287_0x472f('0x2'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a287_0x472f('0x9')],'userPermissions':[a287_0x472f('0x9')],'syntax':[a287_0x472f('0x51'),a287_0x472f('0x4e'),'reactionRoles\x20--role\x20ROLE\x20--no-emoji',a287_0x472f('0x40'),a287_0x472f('0x53'),a287_0x472f('0x37')]});this[a287_0x472f('0x55')]=async(_0xe5b3a8,_0x344fe3)=>{if(_0x344fe3['message']&&_0x344fe3[a287_0x472f('0x3f')]){await ReactionRoleGroup_1[a287_0x472f('0x42')][a287_0x472f('0x1')]({'_id':_0x344fe3[a287_0x472f('0x29')]});return await _0xe5b3a8[a287_0x472f('0x45')][a287_0x472f('0xa')]({'embed':{'color':tesseract_1['Constants'][a287_0x472f('0x3b')][a287_0x472f('0x0')],'description':this[a287_0x472f('0x34')][a287_0x472f('0xd')][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')][a287_0x472f('0x1d')],a287_0x472f('0x1e'),a287_0x472f('0xc'),_0xe5b3a8[a287_0x472f('0x1a')][a287_0x472f('0x12')],_0x344fe3['message'])}})[a287_0x472f('0x11')](()=>{});}if(_0x344fe3['message']&&_0x344fe3[a287_0x472f('0x36')]&&_0x344fe3[a287_0x472f('0x36')][a287_0x472f('0x3e')]){if(constants[a287_0x472f('0x20')](this['client'][a287_0x472f('0x2d')])){const _0x170e89=await omnic[a287_0x472f('0x25')](_0xe5b3a8['guild'])[a287_0x472f('0x11')](()=>{});if(_0x170e89){if(_0x170e89===omnic[a287_0x472f('0x52')][a287_0x472f('0x10')]&&_0x344fe3[a287_0x472f('0x36')][a287_0x472f('0x3e')]>constants[a287_0x472f('0x57')][a287_0x472f('0x10')]['REACTION_ROLES_PER_GROUP']){throw new errors[(a287_0x472f('0x2e'))](errors[a287_0x472f('0x5')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a287_0x472f('0x34')]['locale'][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')][a287_0x472f('0x1d')],a287_0x472f('0x4c'),a287_0x472f('0x3d'),constants['LIMITS']['GOLD'][a287_0x472f('0x49')]));}else if(_0x170e89===omnic[a287_0x472f('0x52')][a287_0x472f('0xe')]&&_0x344fe3[a287_0x472f('0x36')][a287_0x472f('0x3e')]>constants[a287_0x472f('0x57')][a287_0x472f('0xe')]['REACTION_ROLES_PER_GROUP']){throw new errors[(a287_0x472f('0x2e'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a287_0x472f('0x34')][a287_0x472f('0xd')][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')][a287_0x472f('0x1d')],a287_0x472f('0x4c'),'membershipLimitReactionRoleGroupRoles',constants[a287_0x472f('0x57')]['PLATINUM'][a287_0x472f('0x49')]));}}else if(_0x344fe3['role'][a287_0x472f('0x3e')]>constants[a287_0x472f('0x57')][a287_0x472f('0x49')]){throw new errors['DiscordError'](errors[a287_0x472f('0x5')][a287_0x472f('0x39')],this[a287_0x472f('0x34')][a287_0x472f('0xd')][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')][a287_0x472f('0x1d')],'errors','premiumReactionRoleGroupRoles',constants[a287_0x472f('0x57')][a287_0x472f('0x49')]));}const _0x511fe8=await ReactionRoleGroup_1[a287_0x472f('0x42')]['countDocuments']({'guild':_0xe5b3a8[a287_0x472f('0x2')]['id']});if(_0x170e89){if(_0x170e89===omnic[a287_0x472f('0x52')][a287_0x472f('0x10')]&&_0x511fe8>=constants[a287_0x472f('0x57')][a287_0x472f('0x10')][a287_0x472f('0x5a')]){throw new errors[(a287_0x472f('0x2e'))](errors[a287_0x472f('0x5')][a287_0x472f('0x16')],this[a287_0x472f('0x34')][a287_0x472f('0xd')][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')]['document']['language'],'errors',a287_0x472f('0x48'),constants[a287_0x472f('0x57')][a287_0x472f('0x10')][a287_0x472f('0x5a')]));}else if(_0x170e89===omnic['PremiumTier']['PLATINUM']&&_0x511fe8>=constants[a287_0x472f('0x57')][a287_0x472f('0xe')]['REACTION_ROLE_GROUPS']){throw new errors['DiscordError'](errors[a287_0x472f('0x5')][a287_0x472f('0x16')],this[a287_0x472f('0x34')]['locale'][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')]['language'],a287_0x472f('0x4c'),a287_0x472f('0x48'),constants[a287_0x472f('0x57')][a287_0x472f('0xe')][a287_0x472f('0x5a')]));}}else if(_0x511fe8>=constants[a287_0x472f('0x57')]['REACTION_ROLE_GROUPS']){throw new errors['DiscordError'](errors[a287_0x472f('0x5')][a287_0x472f('0x39')],this[a287_0x472f('0x34')][a287_0x472f('0xd')]['getString'](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')][a287_0x472f('0x1d')],a287_0x472f('0x4c'),a287_0x472f('0x50'),constants[a287_0x472f('0x57')]['REACTION_ROLE_GROUPS']));}}const _0x1a081e=await _0xe5b3a8[a287_0x472f('0x45')]['messages'][a287_0x472f('0x46')](_0x344fe3['message'],![])[a287_0x472f('0x11')](()=>{});if(!_0x1a081e)throw new Error('MESSAGE_NOT_FOUND');const _0x578f28=this[a287_0x472f('0x34')][a287_0x472f('0x38')][a287_0x472f('0x15')](_0xe5b3a8[a287_0x472f('0x2')],_0x344fe3['role']);if(!_0x578f28[a287_0x472f('0x3e')])throw new errors[(a287_0x472f('0x2e'))](errors[a287_0x472f('0x5')][a287_0x472f('0x26')],this[a287_0x472f('0x34')]['locale']['getString'](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')]['language'],a287_0x472f('0x4c'),'roleNotFound'));await ReactionRoleGroup_1[a287_0x472f('0x42')]['findByIdAndUpdate'](_0x1a081e['id'],{'_id':_0x1a081e['id'],'channel':_0xe5b3a8[a287_0x472f('0x45')]['id'],'guild':_0xe5b3a8[a287_0x472f('0x2')]['id'],'roles':_0x578f28[a287_0x472f('0x43')](_0x3c3ca7=>_0x3c3ca7['id']),'exclusive':_0x344fe3[a287_0x472f('0x35')]?_0x344fe3[a287_0x472f('0x35')]:undefined},{'upsert':!![]});await _0xe5b3a8['channel'][a287_0x472f('0xa')]({'embed':{'color':tesseract_1[a287_0x472f('0x19')][a287_0x472f('0x3b')][a287_0x472f('0x31')],'description':this['client'][a287_0x472f('0xd')][a287_0x472f('0x4f')](_0xe5b3a8['guild'][a287_0x472f('0x13')]['language'],a287_0x472f('0x1e'),a287_0x472f('0x27'),_0xe5b3a8[a287_0x472f('0x1a')][a287_0x472f('0x12')],_0x1a081e[a287_0x472f('0x2a')])}})[a287_0x472f('0x11')](()=>{});const _0x412598=await Role_1[a287_0x472f('0x42')][a287_0x472f('0x32')]({'$or':_0x578f28[a287_0x472f('0x43')](_0x4599ae=>({'_id':_0x4599ae['id']})),'guild':_0xe5b3a8['guild']['id'],'emoji':{'$exists':!![]}});if(_0x412598&&_0x412598[a287_0x472f('0x3e')]){for(const _0x3f3626 of _0x412598){const _0xc5742e=emojis['parseEmoji'](_0x3f3626[a287_0x472f('0x23')]);await _0x1a081e[a287_0x472f('0x24')](_0xc5742e[a287_0x472f('0x14')]);}}return;}if(_0x344fe3[a287_0x472f('0x36')]){const _0x5bfcb1=_0x344fe3[a287_0x472f('0x36')]?_0x344fe3['role'][a287_0x472f('0x22')]('\x20'):'';const _0x4a2f20=this[a287_0x472f('0x34')]['resolver']['resolveRole'](_0xe5b3a8[a287_0x472f('0x2')],_0x5bfcb1);if(!_0x4a2f20)throw new errors[(a287_0x472f('0x2e'))](errors[a287_0x472f('0x5')][a287_0x472f('0x26')],this[a287_0x472f('0x34')][a287_0x472f('0xd')][a287_0x472f('0x4f')](_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x13')]['language'],a287_0x472f('0x4c'),a287_0x472f('0x2f')));let _0x4c743e=await _0x4a2f20[a287_0x472f('0x58')]();if(!_0x4c743e&&_0x344fe3['emoji']){_0x4c743e=await _0x4a2f20['createDocument']();}if(_0x344fe3['emoji']){const _0x3cb877=emojis[a287_0x472f('0x2c')](_0x344fe3[a287_0x472f('0x23')]);_0x4c743e[a287_0x472f('0x23')]=_0x3cb877[a287_0x472f('0x54')];await _0x4c743e[a287_0x472f('0x4')]();}else if(_0x4c743e&&_0x344fe3[a287_0x472f('0x23')]===![]){_0x4c743e['emoji']=undefined;await _0x4c743e[a287_0x472f('0x4')]();}const _0xaf37db=_0x4c743e?emojis[a287_0x472f('0x2c')](_0x4c743e[a287_0x472f('0x23')]):undefined;return await _0xe5b3a8['channel'][a287_0x472f('0xa')]({'embed':{'color':_0x344fe3['emoji']?tesseract_1[a287_0x472f('0x19')][a287_0x472f('0x3b')][a287_0x472f('0x31')]:_0x344fe3['emoji']===![]?tesseract_1[a287_0x472f('0x19')]['COLORS'][a287_0x472f('0x0')]:tesseract_1[a287_0x472f('0x19')][a287_0x472f('0x3b')][a287_0x472f('0x1b')],'title':_0x344fe3[a287_0x472f('0x23')]?a287_0x472f('0x30'):_0x344fe3[a287_0x472f('0x23')]===![]?'Role\x20Emoji\x20Removed':a287_0x472f('0x56'),'fields':[{'name':a287_0x472f('0x47'),'value':_0x4a2f20['name']||'-','inline':!![]},{'name':a287_0x472f('0x3a'),'value':_0xaf37db?_0xaf37db['reaction']===_0xaf37db['value']?_0xe5b3a8[a287_0x472f('0x2')][a287_0x472f('0x59')][a287_0x472f('0x6')][a287_0x472f('0xf')](_0xaf37db['reaction'])||_0xaf37db[a287_0x472f('0x54')]:_0xaf37db[a287_0x472f('0x14')]:'-','inline':!![]}]}})['catch'](()=>{});}const _0x4ac771=await ReactionRoleGroup_1[a287_0x472f('0x42')][a287_0x472f('0x32')]({});if(!_0x4ac771)throw new Error(a287_0x472f('0x41'));await _0xe5b3a8['channel'][a287_0x472f('0xa')]({'embed':{'title':a287_0x472f('0x33'),'fields':_0x4ac771[a287_0x472f('0x43')](_0x5e38e9=>({'name':_0x5e38e9[a287_0x472f('0x1f')],'value':_0x5e38e9[a287_0x472f('0xb')][a287_0x472f('0x3e')]+a287_0x472f('0x4b')+(_0x5e38e9[a287_0x472f('0x35')]?'\x20/\x20Exclusive':'')+'\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/'+_0x5e38e9[a287_0x472f('0x2')]+'/'+_0x5e38e9[a287_0x472f('0x45')]+'/'+_0x5e38e9[a287_0x472f('0x1f')]+')'}))}})[a287_0x472f('0x11')](()=>{});};}};