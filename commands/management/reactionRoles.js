const a91_0x53c3=['DiscordError','exports','user','parseEmoji','map','channel','role','reaction','Role\x20Emoji\x20Added','value','MANAGE_ROLES','language','info','exclusive','roleNotFound','errors','locale','LIMITED_PREMIUM_MEMBERSHIP','author','Emoji','join','PREMIUM_MEMBERSHIP_REQUIRED','default','message','MESSAGE_NOT_FOUND','url','@bastion/tesseract','exec','isPublicBastion','roles','Command','return\x20/\x22\x20+\x20this\x20+\x20\x22/','react','length','client','../../models/ReactionRoleGroup','resolveRole','../../models/Role','createDocument','deleteOne','findByIdAndUpdate','cache','name','_id','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','guild','reactionRolesGroupAdd','fetchDocument','../../utils/constants','PLATINUM','IRIS','REACTION_ROLE_GROUPS','reactionRolesGroupRemove','save','reactionRoles','BASTION_ERROR_TYPE','reactionRoles\x20--message\x20ID\x20--delete','PremiumTier','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','messages','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','Constants','get','\x20/\x20Exclusive','NO_REACTION_ROLES','fetch','GOLD','GREEN','constructor','document','resolveRoles','RED','../../utils/errors','membershipLimitReactionRoleGroupRoles','catch','find','emoji','send','ROLE_NOT_FOUND','getString','membershipLimitReactionRoleGroups','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','apply','premiumReactionRoleGroups','reactionRoles\x20--role\x20ROLE\x20--no-emoji','tag','\x20Roles','COLORS','REACTION_ROLES_PER_GROUP','resolver','LIMITS','countDocuments','premiumReactionRoleGroupRoles'];(function(_0x5890a2,_0x4ac983){const _0x53c306=function(_0x409ffc){while(--_0x409ffc){_0x5890a2['push'](_0x5890a2['shift']());}},_0x9703b8=function(){const _0x9b8fae={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4a8afe,_0x17c769,_0xf47eb,_0x5ef4b8){_0x5ef4b8=_0x5ef4b8||{};let _0x1d71bd=_0x17c769+'='+_0xf47eb,_0x3d35e7=0x0;for(let _0x37ba0a=0x0,_0x5eb006=_0x4a8afe['length'];_0x37ba0a<_0x5eb006;_0x37ba0a++){const _0xee15c6=_0x4a8afe[_0x37ba0a];_0x1d71bd+=';\x20'+_0xee15c6;const _0x272f6e=_0x4a8afe[_0xee15c6];_0x4a8afe['push'](_0x272f6e),_0x5eb006=_0x4a8afe['length'],_0x272f6e!==!![]&&(_0x1d71bd+='='+_0x272f6e);}_0x5ef4b8['cookie']=_0x1d71bd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x123891,_0x51ab77){_0x123891=_0x123891||function(_0x3bc879){return _0x3bc879;};const _0x1c0eee=_0x123891(new RegExp('(?:^|;\x20)'+_0x51ab77['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2a62ef=function(_0x2e2081,_0x77c36c){_0x2e2081(++_0x77c36c);};return _0x2a62ef(_0x53c306,_0x4ac983),_0x1c0eee?decodeURIComponent(_0x1c0eee[0x1]):undefined;}},_0x5edec4=function(){const _0x42c057=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x42c057['test'](_0x9b8fae['removeCookie']['toString']());};_0x9b8fae['updateCookie']=_0x5edec4;let _0x153163='';const _0x48e8b1=_0x9b8fae['updateCookie']();if(!_0x48e8b1)_0x9b8fae['setCookie'](['*'],'counter',0x1);else _0x48e8b1?_0x153163=_0x9b8fae['getCookie'](null,'counter'):_0x9b8fae['removeCookie']();};_0x9703b8();}(a91_0x53c3,0x13b));const a91_0x9703=function(_0x5890a2,_0x4ac983){_0x5890a2=_0x5890a2-0xf2;let _0x53c306=a91_0x53c3[_0x5890a2];return _0x53c306;};const a91_0x1d7ee4=a91_0x9703,a91_0x5edec4=function(){let _0x48e8b1=!![];return function(_0x4a8afe,_0x17c769){const _0xf47eb=_0x48e8b1?function(){const _0xfdc704=a91_0x9703;if(_0x17c769){const _0x5ef4b8=_0x17c769[_0xfdc704(0x120)](_0x4a8afe,arguments);return _0x17c769=null,_0x5ef4b8;}}:function(){};return _0x48e8b1=![],_0xf47eb;};}(),a91_0x9b8fae=a91_0x5edec4(this,function(){const _0x1d71bd=function(){const _0x5d1f33=a91_0x9703,_0x3d35e7=_0x1d71bd[_0x5d1f33(0x112)](_0x5d1f33(0x14a))()[_0x5d1f33(0x112)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3d35e7['test'](a91_0x9b8fae);};return _0x1d71bd();});a91_0x9b8fae();'use strict';const tesseract_1=require(a91_0x1d7ee4(0x145)),Role_1=require(a91_0x1d7ee4(0xf3)),ReactionRoleGroup_1=require(a91_0x1d7ee4(0x14e)),constants=require(a91_0x1d7ee4(0xfe)),emojis=require('../../utils/emojis'),errors=require(a91_0x1d7ee4(0x116)),omnic=require('../../utils/omnic');module[a91_0x1d7ee4(0x12c)]=class ReactionRolesCommand extends tesseract_1[a91_0x1d7ee4(0x149)]{constructor(){const _0x39c318=a91_0x1d7ee4;super('reactionRoles',{'description':_0x39c318(0x10a),'triggers':[],'arguments':{'array':[_0x39c318(0x131)],'boolean':['delete','exclusive'],'string':[_0x39c318(0x142),_0x39c318(0x131),_0x39c318(0x11a)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x39c318(0x135)],'userPermissions':['MANAGE_ROLES'],'syntax':[_0x39c318(0x104),_0x39c318(0x108),_0x39c318(0x122),_0x39c318(0x11f),_0x39c318(0xfa),_0x39c318(0x106)]}),this[_0x39c318(0x146)]=async(_0x37ba0a,_0x5eb006)=>{const _0x39e927=_0x39c318;if(_0x5eb006[_0x39e927(0x142)]&&_0x5eb006['delete'])return await ReactionRoleGroup_1[_0x39e927(0x141)][_0x39e927(0xf5)]({'_id':_0x5eb006['message'],'guild':_0x37ba0a[_0x39e927(0xfb)]['id']}),await _0x37ba0a['channel'][_0x39e927(0x11b)]({'embed':{'color':tesseract_1[_0x39e927(0x10b)][_0x39e927(0x125)][_0x39e927(0x115)],'description':this['client']['locale'][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)]['document']['language'],_0x39e927(0x137),_0x39e927(0x102),_0x37ba0a['author'][_0x39e927(0x123)],_0x5eb006[_0x39e927(0x142)])}})[_0x39e927(0x118)](()=>{});if(_0x5eb006[_0x39e927(0x142)]&&_0x5eb006[_0x39e927(0x131)]&&_0x5eb006[_0x39e927(0x131)][_0x39e927(0x14c)]){if(constants[_0x39e927(0x147)](this[_0x39e927(0x14d)][_0x39e927(0x12d)])){const _0x1c0eee=await omnic['fetchPremiumTier'](_0x37ba0a[_0x39e927(0xfb)])['catch'](()=>{});if(_0x1c0eee){if(_0x1c0eee===omnic['PremiumTier'][_0x39e927(0x110)]&&_0x5eb006[_0x39e927(0x131)][_0x39e927(0x14c)]>constants[_0x39e927(0x128)][_0x39e927(0x110)][_0x39e927(0x126)])throw new errors['DiscordError'](errors[_0x39e927(0x105)][_0x39e927(0x13c)],this[_0x39e927(0x14d)]['locale'][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)][_0x39e927(0x113)][_0x39e927(0x136)],'errors',_0x39e927(0x117),constants[_0x39e927(0x128)][_0x39e927(0x110)][_0x39e927(0x126)]));else{if(_0x1c0eee===omnic[_0x39e927(0x107)][_0x39e927(0xff)]&&_0x5eb006[_0x39e927(0x131)][_0x39e927(0x14c)]>constants[_0x39e927(0x128)]['PLATINUM']['REACTION_ROLES_PER_GROUP'])throw new errors[(_0x39e927(0x12b))](errors[_0x39e927(0x105)][_0x39e927(0x13c)],this[_0x39e927(0x14d)]['locale']['getString'](_0x37ba0a['guild'][_0x39e927(0x113)][_0x39e927(0x136)],_0x39e927(0x13a),_0x39e927(0x117),constants[_0x39e927(0x128)][_0x39e927(0xff)][_0x39e927(0x126)]));}}else{if(_0x5eb006[_0x39e927(0x131)]['length']>constants[_0x39e927(0x128)][_0x39e927(0x126)])throw new errors[(_0x39e927(0x12b))](errors[_0x39e927(0x105)][_0x39e927(0x140)],this[_0x39e927(0x14d)][_0x39e927(0x13b)][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)][_0x39e927(0x113)][_0x39e927(0x136)],_0x39e927(0x13a),_0x39e927(0x12a),constants[_0x39e927(0x128)][_0x39e927(0x126)]));}const _0x2a62ef=await ReactionRoleGroup_1[_0x39e927(0x141)][_0x39e927(0x129)]({'guild':_0x37ba0a[_0x39e927(0xfb)]['id']});if(_0x1c0eee){if(_0x1c0eee===omnic[_0x39e927(0x107)][_0x39e927(0x110)]&&_0x2a62ef>=constants[_0x39e927(0x128)]['GOLD'][_0x39e927(0x101)])throw new errors['DiscordError'](errors[_0x39e927(0x105)][_0x39e927(0x13c)],this[_0x39e927(0x14d)][_0x39e927(0x13b)]['getString'](_0x37ba0a[_0x39e927(0xfb)][_0x39e927(0x113)][_0x39e927(0x136)],'errors',_0x39e927(0x11e),constants[_0x39e927(0x128)]['GOLD'][_0x39e927(0x101)]));else{if(_0x1c0eee===omnic[_0x39e927(0x107)][_0x39e927(0xff)]&&_0x2a62ef>=constants[_0x39e927(0x128)]['PLATINUM']['REACTION_ROLE_GROUPS'])throw new errors[(_0x39e927(0x12b))](errors[_0x39e927(0x105)][_0x39e927(0x13c)],this[_0x39e927(0x14d)][_0x39e927(0x13b)][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)][_0x39e927(0x113)][_0x39e927(0x136)],_0x39e927(0x13a),_0x39e927(0x11e),constants[_0x39e927(0x128)]['PLATINUM'][_0x39e927(0x101)]));}}else{if(_0x2a62ef>=constants[_0x39e927(0x128)][_0x39e927(0x101)])throw new errors[(_0x39e927(0x12b))](errors[_0x39e927(0x105)]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x39e927(0x14d)]['locale'][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)][_0x39e927(0x113)]['language'],_0x39e927(0x13a),_0x39e927(0x121),constants['LIMITS'][_0x39e927(0x101)]));}}const _0x272f6e=await _0x37ba0a[_0x39e927(0x130)][_0x39e927(0x109)][_0x39e927(0x10f)](_0x5eb006[_0x39e927(0x142)],![])[_0x39e927(0x118)](()=>{});if(!_0x272f6e)throw new Error(_0x39e927(0x143));const _0x123891=this[_0x39e927(0x14d)][_0x39e927(0x127)][_0x39e927(0x114)](_0x37ba0a[_0x39e927(0xfb)],_0x5eb006[_0x39e927(0x131)]);if(!_0x123891[_0x39e927(0x14c)])throw new errors[(_0x39e927(0x12b))](errors[_0x39e927(0x105)][_0x39e927(0x11c)],this[_0x39e927(0x14d)][_0x39e927(0x13b)][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)]['document'][_0x39e927(0x136)],_0x39e927(0x13a),_0x39e927(0x139)));await ReactionRoleGroup_1[_0x39e927(0x141)][_0x39e927(0xf6)](_0x272f6e['id'],{'_id':_0x272f6e['id'],'channel':_0x37ba0a[_0x39e927(0x130)]['id'],'guild':_0x37ba0a[_0x39e927(0xfb)]['id'],'roles':_0x123891[_0x39e927(0x12f)](_0x3bc879=>_0x3bc879['id']),'exclusive':_0x5eb006[_0x39e927(0x138)]?_0x5eb006[_0x39e927(0x138)]:undefined},{'upsert':!![]}),await _0x37ba0a[_0x39e927(0x130)]['send']({'embed':{'color':tesseract_1[_0x39e927(0x10b)][_0x39e927(0x125)][_0x39e927(0x111)],'description':this['client'][_0x39e927(0x13b)][_0x39e927(0x11d)](_0x37ba0a[_0x39e927(0xfb)][_0x39e927(0x113)][_0x39e927(0x136)],_0x39e927(0x137),_0x39e927(0xfc),_0x37ba0a[_0x39e927(0x13d)][_0x39e927(0x123)],_0x272f6e[_0x39e927(0x144)])}})['catch'](()=>{});const _0x51ab77=await Role_1[_0x39e927(0x141)][_0x39e927(0x119)]({'$or':_0x123891['map'](_0x2e2081=>({'_id':_0x2e2081['id']})),'guild':_0x37ba0a['guild']['id'],'emoji':{'$exists':!![]}});if(_0x51ab77&&_0x51ab77[_0x39e927(0x14c)])for(const _0x77c36c of _0x51ab77){const _0x42c057=emojis['parseEmoji'](_0x77c36c[_0x39e927(0x11a)]);await _0x272f6e[_0x39e927(0x14b)](_0x42c057[_0x39e927(0x132)]);}return;}if(_0x5eb006[_0x39e927(0x131)]){const _0xfe758d=_0x5eb006['role']?_0x5eb006[_0x39e927(0x131)][_0x39e927(0x13f)]('\x20'):'',_0x5980a4=this[_0x39e927(0x14d)][_0x39e927(0x127)][_0x39e927(0xf2)](_0x37ba0a[_0x39e927(0xfb)],_0xfe758d);if(!_0x5980a4)throw new errors[(_0x39e927(0x12b))](errors[_0x39e927(0x105)][_0x39e927(0x11c)],this['client']['locale'][_0x39e927(0x11d)](_0x37ba0a['guild']['document'][_0x39e927(0x136)],_0x39e927(0x13a),_0x39e927(0x139)));let _0x3efd56=await _0x5980a4[_0x39e927(0xfd)]();!_0x3efd56&&_0x5eb006[_0x39e927(0x11a)]&&(_0x3efd56=await _0x5980a4[_0x39e927(0xf4)]());if(_0x5eb006['emoji']){const _0x566b9e=emojis[_0x39e927(0x12e)](_0x5eb006[_0x39e927(0x11a)]);_0x3efd56['emoji']=_0x566b9e['value'],await _0x3efd56[_0x39e927(0x103)]();}else _0x3efd56&&_0x5eb006[_0x39e927(0x11a)]===![]&&(_0x3efd56['emoji']=undefined,await _0x3efd56['save']());const _0x5ae3b1=_0x3efd56?emojis[_0x39e927(0x12e)](_0x3efd56['emoji']):undefined;return await _0x37ba0a['channel'][_0x39e927(0x11b)]({'embed':{'color':_0x5eb006[_0x39e927(0x11a)]?tesseract_1[_0x39e927(0x10b)][_0x39e927(0x125)]['GREEN']:_0x5eb006['emoji']===![]?tesseract_1[_0x39e927(0x10b)][_0x39e927(0x125)][_0x39e927(0x115)]:tesseract_1['Constants'][_0x39e927(0x125)][_0x39e927(0x100)],'title':_0x5eb006[_0x39e927(0x11a)]?_0x39e927(0x133):_0x5eb006[_0x39e927(0x11a)]===![]?'Role\x20Emoji\x20Removed':'Role\x20Emoji','fields':[{'name':'Role','value':_0x5980a4[_0x39e927(0xf8)]||'-','inline':!![]},{'name':_0x39e927(0x13e),'value':_0x5ae3b1?_0x5ae3b1[_0x39e927(0x132)]===_0x5ae3b1[_0x39e927(0x134)]?_0x37ba0a['guild']['emojis'][_0x39e927(0xf7)][_0x39e927(0x10c)](_0x5ae3b1[_0x39e927(0x132)])||_0x5ae3b1['value']:_0x5ae3b1[_0x39e927(0x132)]:'-','inline':!![]}]}})['catch'](()=>{});}const _0xee15c6=await ReactionRoleGroup_1[_0x39e927(0x141)]['find']({'guild':_0x37ba0a[_0x39e927(0xfb)]['id']});if(!_0xee15c6)throw new Error(_0x39e927(0x10e));await _0x37ba0a['channel']['send']({'embed':{'color':tesseract_1[_0x39e927(0x10b)][_0x39e927(0x125)]['IRIS'],'title':'Reaction\x20Role\x20Groups','fields':_0xee15c6[_0x39e927(0x12f)](_0x573ad1=>({'name':_0x573ad1[_0x39e927(0xf9)],'value':_0x573ad1[_0x39e927(0x148)]['length']+_0x39e927(0x124)+(_0x573ad1[_0x39e927(0x138)]?_0x39e927(0x10d):'')+'\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/'+_0x573ad1[_0x39e927(0xfb)]+'/'+_0x573ad1['channel']+'/'+_0x573ad1[_0x39e927(0xf9)]+')'}))}})['catch'](()=>{});};}};