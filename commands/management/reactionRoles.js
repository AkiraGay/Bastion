const a91_0x1d54=['resolveRoles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','length','parseEmoji','Role\x20Emoji','roles','errors','exports','cache','PREMIUM_MEMBERSHIP_REQUIRED','guild','ROLE_NOT_FOUND','locale','tag','findByIdAndUpdate','reactionRolesGroupAdd','membershipLimitReactionRoleGroupRoles','\x20Roles','fetch','exclusive','roleNotFound','MANAGE_ROLES','client','value','Role\x20Emoji\x20Added','REACTION_ROLE_GROUPS','premiumReactionRoleGroups','../../utils/errors','MESSAGE_NOT_FOUND','RED','send','DiscordError','GREEN','BASTION_ERROR_TYPE','REACTION_ROLES_PER_GROUP','deleteOne','GOLD','reaction','react','map','url','fetchDocument','exec','PLATINUM','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','LIMITS','author','Role','name','Role\x20Emoji\x20Removed','premiumReactionRoleGroupRoles','catch','emoji','IRIS','default','LIMITED_PREMIUM_MEMBERSHIP','apply','countDocuments','return\x20/\x22\x20+\x20this\x20+\x20\x22/','language','messages','reactionRolesGroupRemove','document','COLORS','PremiumTier','membershipLimitReactionRoleGroups','save','constructor','resolver','get','\x20/\x20Exclusive','Command','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','../../models/Role','../../utils/omnic','user','reactionRoles','createDocument','find','_id','channel','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','../../utils/constants','message','delete','role','info','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','Constants','getString'];(function(_0x55f4a3,_0x95fff9){const _0x1d54c8=function(_0x272893){while(--_0x272893){_0x55f4a3['push'](_0x55f4a3['shift']());}},_0x4165dd=function(){const _0x3e2cfe={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1b3807,_0x1530c3,_0x41eb6f,_0x595b30){_0x595b30=_0x595b30||{};let _0x5c3b7d=_0x1530c3+'='+_0x41eb6f,_0x5a3672=0x0;for(let _0xcb6626=0x0,_0x3f695b=_0x1b3807['length'];_0xcb6626<_0x3f695b;_0xcb6626++){const _0x37e2bf=_0x1b3807[_0xcb6626];_0x5c3b7d+=';\x20'+_0x37e2bf;const _0x47bc8e=_0x1b3807[_0x37e2bf];_0x1b3807['push'](_0x47bc8e),_0x3f695b=_0x1b3807['length'],_0x47bc8e!==!![]&&(_0x5c3b7d+='='+_0x47bc8e);}_0x595b30['cookie']=_0x5c3b7d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2b8bbd,_0x51b155){_0x2b8bbd=_0x2b8bbd||function(_0x10dc84){return _0x10dc84;};const _0x3cfab4=_0x2b8bbd(new RegExp('(?:^|;\x20)'+_0x51b155['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4bf2f9=function(_0x409003,_0x4c596c){_0x409003(++_0x4c596c);};return _0x4bf2f9(_0x1d54c8,_0x95fff9),_0x3cfab4?decodeURIComponent(_0x3cfab4[0x1]):undefined;}},_0x36af9d=function(){const _0x3431b8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3431b8['test'](_0x3e2cfe['removeCookie']['toString']());};_0x3e2cfe['updateCookie']=_0x36af9d;let _0x3ead26='';const _0x1e6a3a=_0x3e2cfe['updateCookie']();if(!_0x1e6a3a)_0x3e2cfe['setCookie'](['*'],'counter',0x1);else _0x1e6a3a?_0x3ead26=_0x3e2cfe['getCookie'](null,'counter'):_0x3e2cfe['removeCookie']();};_0x4165dd();}(a91_0x1d54,0x106));const a91_0x4165=function(_0x55f4a3,_0x95fff9){_0x55f4a3=_0x55f4a3-0xf2;let _0x1d54c8=a91_0x1d54[_0x55f4a3];return _0x1d54c8;};const a91_0x1a5418=a91_0x4165,a91_0x36af9d=function(){let _0x1e6a3a=!![];return function(_0x1b3807,_0x1530c3){const _0x41eb6f=_0x1e6a3a?function(){const _0x5ece55=a91_0x4165;if(_0x1530c3){const _0x595b30=_0x1530c3[_0x5ece55(0x135)](_0x1b3807,arguments);return _0x1530c3=null,_0x595b30;}}:function(){};return _0x1e6a3a=![],_0x41eb6f;};}(),a91_0x3e2cfe=a91_0x36af9d(this,function(){const _0x5c3b7d=function(){const _0x3fb5e6=a91_0x4165,_0x5a3672=_0x5c3b7d[_0x3fb5e6(0x140)](_0x3fb5e6(0x137))()[_0x3fb5e6(0x140)](_0x3fb5e6(0xfe));return!_0x5a3672['test'](a91_0x3e2cfe);};return _0x5c3b7d();});a91_0x3e2cfe();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a91_0x1a5418(0x146)),ReactionRoleGroup_1=require('../../models/ReactionRoleGroup'),constants=require(a91_0x1a5418(0xf5)),emojis=require('../../utils/emojis'),errors=require(a91_0x1a5418(0x118)),omnic=require(a91_0x1a5418(0x147));module[a91_0x1a5418(0x104)]=class ReactionRolesCommand extends tesseract_1[a91_0x1a5418(0x144)]{constructor(){const _0x5e9f2a=a91_0x1a5418;super(_0x5e9f2a(0x149),{'description':_0x5e9f2a(0xf4),'triggers':[],'arguments':{'array':['role'],'boolean':[_0x5e9f2a(0xf7),_0x5e9f2a(0x110)],'string':[_0x5e9f2a(0xf6),_0x5e9f2a(0xf8),'emoji']},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x5e9f2a(0x112)],'userPermissions':[_0x5e9f2a(0x112)],'syntax':[_0x5e9f2a(0x149),_0x5e9f2a(0x145),'reactionRoles\x20--role\x20ROLE\x20--no-emoji',_0x5e9f2a(0xfa),_0x5e9f2a(0x129),'reactionRoles\x20--message\x20ID\x20--delete']}),this[_0x5e9f2a(0x127)]=async(_0xcb6626,_0x3f695b)=>{const _0x4bc310=_0x5e9f2a;if(_0x3f695b[_0x4bc310(0xf6)]&&_0x3f695b[_0x4bc310(0xf7)])return await ReactionRoleGroup_1['default'][_0x4bc310(0x120)]({'_id':_0x3f695b[_0x4bc310(0xf6)],'guild':_0xcb6626[_0x4bc310(0x107)]['id']}),await _0xcb6626[_0x4bc310(0xf2)][_0x4bc310(0x11b)]({'embed':{'color':tesseract_1[_0x4bc310(0xfb)][_0x4bc310(0x13c)]['RED'],'description':this[_0x4bc310(0x113)][_0x4bc310(0x109)][_0x4bc310(0xfc)](_0xcb6626['guild'][_0x4bc310(0x13b)][_0x4bc310(0x138)],_0x4bc310(0xf9),_0x4bc310(0x13a),_0xcb6626[_0x4bc310(0x12b)][_0x4bc310(0x10a)],_0x3f695b['message'])}})['catch'](()=>{});if(_0x3f695b[_0x4bc310(0xf6)]&&_0x3f695b[_0x4bc310(0xf8)]&&_0x3f695b[_0x4bc310(0xf8)]['length']){if(constants['isPublicBastion'](this[_0x4bc310(0x113)][_0x4bc310(0x148)])){const _0x3cfab4=await omnic['fetchPremiumTier'](_0xcb6626['guild'])[_0x4bc310(0x130)](()=>{});if(_0x3cfab4){if(_0x3cfab4===omnic[_0x4bc310(0x13d)][_0x4bc310(0x121)]&&_0x3f695b[_0x4bc310(0xf8)][_0x4bc310(0xff)]>constants[_0x4bc310(0x12a)][_0x4bc310(0x121)]['REACTION_ROLES_PER_GROUP'])throw new errors[(_0x4bc310(0x11c))](errors[_0x4bc310(0x11e)][_0x4bc310(0x134)],this[_0x4bc310(0x113)][_0x4bc310(0x109)]['getString'](_0xcb6626[_0x4bc310(0x107)][_0x4bc310(0x13b)][_0x4bc310(0x138)],_0x4bc310(0x103),_0x4bc310(0x10d),constants['LIMITS'][_0x4bc310(0x121)][_0x4bc310(0x11f)]));else{if(_0x3cfab4===omnic[_0x4bc310(0x13d)][_0x4bc310(0x128)]&&_0x3f695b['role'][_0x4bc310(0xff)]>constants[_0x4bc310(0x12a)]['PLATINUM']['REACTION_ROLES_PER_GROUP'])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x4bc310(0x113)]['locale'][_0x4bc310(0xfc)](_0xcb6626[_0x4bc310(0x107)][_0x4bc310(0x13b)]['language'],_0x4bc310(0x103),_0x4bc310(0x10d),constants['LIMITS']['PLATINUM'][_0x4bc310(0x11f)]));}}else{if(_0x3f695b[_0x4bc310(0xf8)][_0x4bc310(0xff)]>constants[_0x4bc310(0x12a)][_0x4bc310(0x11f)])throw new errors['DiscordError'](errors[_0x4bc310(0x11e)][_0x4bc310(0x106)],this[_0x4bc310(0x113)]['locale'][_0x4bc310(0xfc)](_0xcb6626[_0x4bc310(0x107)]['document'][_0x4bc310(0x138)],_0x4bc310(0x103),_0x4bc310(0x12f),constants[_0x4bc310(0x12a)]['REACTION_ROLES_PER_GROUP']));}const _0x4bf2f9=await ReactionRoleGroup_1[_0x4bc310(0x133)][_0x4bc310(0x136)]({'guild':_0xcb6626[_0x4bc310(0x107)]['id']});if(_0x3cfab4){if(_0x3cfab4===omnic['PremiumTier'][_0x4bc310(0x121)]&&_0x4bf2f9>=constants[_0x4bc310(0x12a)][_0x4bc310(0x121)]['REACTION_ROLE_GROUPS'])throw new errors[(_0x4bc310(0x11c))](errors[_0x4bc310(0x11e)][_0x4bc310(0x134)],this['client'][_0x4bc310(0x109)][_0x4bc310(0xfc)](_0xcb6626[_0x4bc310(0x107)][_0x4bc310(0x13b)][_0x4bc310(0x138)],'errors',_0x4bc310(0x13e),constants[_0x4bc310(0x12a)][_0x4bc310(0x121)][_0x4bc310(0x116)]));else{if(_0x3cfab4===omnic[_0x4bc310(0x13d)][_0x4bc310(0x128)]&&_0x4bf2f9>=constants[_0x4bc310(0x12a)]['PLATINUM']['REACTION_ROLE_GROUPS'])throw new errors['DiscordError'](errors[_0x4bc310(0x11e)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x4bc310(0x113)][_0x4bc310(0x109)][_0x4bc310(0xfc)](_0xcb6626[_0x4bc310(0x107)][_0x4bc310(0x13b)][_0x4bc310(0x138)],_0x4bc310(0x103),'membershipLimitReactionRoleGroups',constants[_0x4bc310(0x12a)][_0x4bc310(0x128)][_0x4bc310(0x116)]));}}else{if(_0x4bf2f9>=constants[_0x4bc310(0x12a)][_0x4bc310(0x116)])throw new errors[(_0x4bc310(0x11c))](errors[_0x4bc310(0x11e)]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x4bc310(0x113)][_0x4bc310(0x109)]['getString'](_0xcb6626[_0x4bc310(0x107)][_0x4bc310(0x13b)][_0x4bc310(0x138)],'errors',_0x4bc310(0x117),constants[_0x4bc310(0x12a)][_0x4bc310(0x116)]));}}const _0x47bc8e=await _0xcb6626[_0x4bc310(0xf2)][_0x4bc310(0x139)][_0x4bc310(0x10f)](_0x3f695b[_0x4bc310(0xf6)],![])['catch'](()=>{});if(!_0x47bc8e)throw new Error(_0x4bc310(0x119));const _0x2b8bbd=this[_0x4bc310(0x113)][_0x4bc310(0x141)][_0x4bc310(0xfd)](_0xcb6626[_0x4bc310(0x107)],_0x3f695b[_0x4bc310(0xf8)]);if(!_0x2b8bbd[_0x4bc310(0xff)])throw new errors['DiscordError'](errors[_0x4bc310(0x11e)][_0x4bc310(0x108)],this[_0x4bc310(0x113)][_0x4bc310(0x109)][_0x4bc310(0xfc)](_0xcb6626[_0x4bc310(0x107)][_0x4bc310(0x13b)][_0x4bc310(0x138)],'errors','roleNotFound'));await ReactionRoleGroup_1[_0x4bc310(0x133)][_0x4bc310(0x10b)](_0x47bc8e['id'],{'_id':_0x47bc8e['id'],'channel':_0xcb6626[_0x4bc310(0xf2)]['id'],'guild':_0xcb6626['guild']['id'],'roles':_0x2b8bbd[_0x4bc310(0x124)](_0x10dc84=>_0x10dc84['id']),'exclusive':_0x3f695b[_0x4bc310(0x110)]?_0x3f695b['exclusive']:undefined},{'upsert':!![]}),await _0xcb6626[_0x4bc310(0xf2)][_0x4bc310(0x11b)]({'embed':{'color':tesseract_1['Constants'][_0x4bc310(0x13c)][_0x4bc310(0x11d)],'description':this['client'][_0x4bc310(0x109)][_0x4bc310(0xfc)](_0xcb6626[_0x4bc310(0x107)]['document']['language'],_0x4bc310(0xf9),_0x4bc310(0x10c),_0xcb6626['author']['tag'],_0x47bc8e[_0x4bc310(0x125)])}})[_0x4bc310(0x130)](()=>{});const _0x51b155=await Role_1[_0x4bc310(0x133)][_0x4bc310(0x14b)]({'$or':_0x2b8bbd[_0x4bc310(0x124)](_0x409003=>({'_id':_0x409003['id']})),'guild':_0xcb6626['guild']['id'],'emoji':{'$exists':!![]}});if(_0x51b155&&_0x51b155[_0x4bc310(0xff)])for(const _0x4c596c of _0x51b155){const _0x3431b8=emojis[_0x4bc310(0x100)](_0x4c596c['emoji']);await _0x47bc8e[_0x4bc310(0x123)](_0x3431b8['reaction']);}return;}if(_0x3f695b['role']){const _0x510b81=_0x3f695b[_0x4bc310(0xf8)]?_0x3f695b['role']['join']('\x20'):'',_0x38e826=this[_0x4bc310(0x113)][_0x4bc310(0x141)]['resolveRole'](_0xcb6626[_0x4bc310(0x107)],_0x510b81);if(!_0x38e826)throw new errors['DiscordError'](errors[_0x4bc310(0x11e)][_0x4bc310(0x108)],this['client'][_0x4bc310(0x109)][_0x4bc310(0xfc)](_0xcb6626['guild'][_0x4bc310(0x13b)]['language'],'errors',_0x4bc310(0x111)));let _0x4ed224=await _0x38e826[_0x4bc310(0x126)]();!_0x4ed224&&_0x3f695b[_0x4bc310(0x131)]&&(_0x4ed224=await _0x38e826[_0x4bc310(0x14a)]());if(_0x3f695b[_0x4bc310(0x131)]){const _0xeaa0a2=emojis[_0x4bc310(0x100)](_0x3f695b[_0x4bc310(0x131)]);_0x4ed224[_0x4bc310(0x131)]=_0xeaa0a2[_0x4bc310(0x114)],await _0x4ed224[_0x4bc310(0x13f)]();}else _0x4ed224&&_0x3f695b[_0x4bc310(0x131)]===![]&&(_0x4ed224[_0x4bc310(0x131)]=undefined,await _0x4ed224['save']());const _0xae605a=_0x4ed224?emojis['parseEmoji'](_0x4ed224[_0x4bc310(0x131)]):undefined;return await _0xcb6626['channel'][_0x4bc310(0x11b)]({'embed':{'color':_0x3f695b[_0x4bc310(0x131)]?tesseract_1[_0x4bc310(0xfb)][_0x4bc310(0x13c)]['GREEN']:_0x3f695b[_0x4bc310(0x131)]===![]?tesseract_1['Constants']['COLORS'][_0x4bc310(0x11a)]:tesseract_1['Constants'][_0x4bc310(0x13c)][_0x4bc310(0x132)],'title':_0x3f695b[_0x4bc310(0x131)]?_0x4bc310(0x115):_0x3f695b['emoji']===![]?_0x4bc310(0x12e):_0x4bc310(0x101),'fields':[{'name':_0x4bc310(0x12c),'value':_0x38e826[_0x4bc310(0x12d)]||'-','inline':!![]},{'name':'Emoji','value':_0xae605a?_0xae605a[_0x4bc310(0x122)]===_0xae605a['value']?_0xcb6626[_0x4bc310(0x107)]['emojis'][_0x4bc310(0x105)][_0x4bc310(0x142)](_0xae605a[_0x4bc310(0x122)])||_0xae605a[_0x4bc310(0x114)]:_0xae605a[_0x4bc310(0x122)]:'-','inline':!![]}]}})['catch'](()=>{});}const _0x37e2bf=await ReactionRoleGroup_1[_0x4bc310(0x133)][_0x4bc310(0x14b)]({'guild':_0xcb6626[_0x4bc310(0x107)]['id']});if(!_0x37e2bf)throw new Error('NO_REACTION_ROLES');await _0xcb6626[_0x4bc310(0xf2)][_0x4bc310(0x11b)]({'embed':{'color':tesseract_1[_0x4bc310(0xfb)]['COLORS']['IRIS'],'title':'Reaction\x20Role\x20Groups','fields':_0x37e2bf[_0x4bc310(0x124)](_0x12d1b7=>({'name':_0x12d1b7[_0x4bc310(0x14c)],'value':_0x12d1b7[_0x4bc310(0x102)][_0x4bc310(0xff)]+_0x4bc310(0x10e)+(_0x12d1b7[_0x4bc310(0x110)]?_0x4bc310(0x143):'')+_0x4bc310(0xf3)+_0x12d1b7[_0x4bc310(0x107)]+'/'+_0x12d1b7['channel']+'/'+_0x12d1b7[_0x4bc310(0x14c)]+')'}))}})[_0x4bc310(0x130)](()=>{});};}};