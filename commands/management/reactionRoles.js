const a90_0x351b=['roles','deleteOne','resolveRole','map','parseEmoji','\x20/\x20Exclusive','test','cache','../../utils/constants','reactionRolesGroupAdd','role','fetchDocument','RED','fetch','MANAGE_ROLES','length','send','value','../../utils/errors','delete','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','Role\x20Emoji','resolveRoles','errors','exports','emojis','../../models/ReactionRoleGroup','DiscordError','reaction','get','GREEN','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','../../utils/emojis','membershipLimitReactionRoleGroupRoles','find','roleNotFound','guild','locale','../../models/Role','countDocuments','client','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','REACTION_ROLE_GROUPS','_id','GOLD','message','Emoji','../../utils/omnic','info','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','reactionRoles\x20--role\x20ROLE\x20--no-emoji','LIMITED_PREMIUM_MEMBERSHIP','COLORS','IRIS','default','url','Constants','constructor','exclusive','name','ROLE_NOT_FOUND','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','react','BASTION_ERROR_TYPE','isPublicBastion','reactionRolesGroupRemove','reactionRoles\x20--message\x20ID\x20--delete','NO_REACTION_ROLES','Reaction\x20Role\x20Groups','document','reactionRoles','author','getString','channel','Command','return\x20/\x22\x20+\x20this\x20+\x20\x22/','REACTION_ROLES_PER_GROUP','tag','PLATINUM','resolver','emoji','PREMIUM_MEMBERSHIP_REQUIRED','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','language','LIMITS','Role','PremiumTier','Role\x20Emoji\x20Added','catch','messages'];(function(_0x13a191,_0x46ceca){const _0x351b4b=function(_0x5a202e){while(--_0x5a202e){_0x13a191['push'](_0x13a191['shift']());}},_0x32444e=function(){const _0x24d1ad={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e586b,_0x1c52d1,_0x280beb,_0x90e70d){_0x90e70d=_0x90e70d||{};let _0x59a01e=_0x1c52d1+'='+_0x280beb,_0x5269c4=0x0;for(let _0x2593f6=0x0,_0x5aa4f2=_0x4e586b['length'];_0x2593f6<_0x5aa4f2;_0x2593f6++){const _0x1cb113=_0x4e586b[_0x2593f6];_0x59a01e+=';\x20'+_0x1cb113;const _0x1fc093=_0x4e586b[_0x1cb113];_0x4e586b['push'](_0x1fc093),_0x5aa4f2=_0x4e586b['length'],_0x1fc093!==!![]&&(_0x59a01e+='='+_0x1fc093);}_0x90e70d['cookie']=_0x59a01e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2eb865,_0xa5976f){_0x2eb865=_0x2eb865||function(_0x18f42c){return _0x18f42c;};const _0x39a8f0=_0x2eb865(new RegExp('(?:^|;\x20)'+_0xa5976f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x151b76=function(_0x648a46,_0x39dff7){_0x648a46(++_0x39dff7);};return _0x151b76(_0x351b4b,_0x46ceca),_0x39a8f0?decodeURIComponent(_0x39a8f0[0x1]):undefined;}},_0x461ed9=function(){const _0xa5dbfc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xa5dbfc['test'](_0x24d1ad['removeCookie']['toString']());};_0x24d1ad['updateCookie']=_0x461ed9;let _0x425621='';const _0x4c2076=_0x24d1ad['updateCookie']();if(!_0x4c2076)_0x24d1ad['setCookie'](['*'],'counter',0x1);else _0x4c2076?_0x425621=_0x24d1ad['getCookie'](null,'counter'):_0x24d1ad['removeCookie']();};_0x32444e();}(a90_0x351b,0x112));const a90_0x3244=function(_0x13a191,_0x46ceca){_0x13a191=_0x13a191-0x9e;let _0x351b4b=a90_0x351b[_0x13a191];return _0x351b4b;};const _0x3aa775=a90_0x3244,a90_0x461ed9=function(){let _0x4c2076=!![];return function(_0x4e586b,_0x1c52d1){const _0x280beb=_0x4c2076?function(){if(_0x1c52d1){const _0x90e70d=_0x1c52d1['apply'](_0x4e586b,arguments);return _0x1c52d1=null,_0x90e70d;}}:function(){};return _0x4c2076=![],_0x280beb;};}(),a90_0x24d1ad=a90_0x461ed9(this,function(){const _0x59a01e=function(){const _0x33c825=a90_0x3244,_0x5269c4=_0x59a01e[_0x33c825(0xd3)](_0x33c825(0xe5))()[_0x33c825(0xd3)](_0x33c825(0xc3));return!_0x5269c4[_0x33c825(0xa0)](a90_0x24d1ad);};return _0x59a01e();});a90_0x24d1ad();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(_0x3aa775(0xc0)),ReactionRoleGroup_1=require(_0x3aa775(0xb4)),constants=require(_0x3aa775(0xa2)),emojis=require(_0x3aa775(0xba)),errors=require(_0x3aa775(0xac)),omnic=require(_0x3aa775(0xc9));module[_0x3aa775(0xb2)]=class ReactionRolesCommand extends tesseract_1[_0x3aa775(0xe4)]{constructor(){const _0x6d1cd6=_0x3aa775;super(_0x6d1cd6(0xe0),{'description':_0x6d1cd6(0xb9),'triggers':[],'arguments':{'array':['role'],'boolean':[_0x6d1cd6(0xad),_0x6d1cd6(0xd4)],'string':[_0x6d1cd6(0xc7),'role',_0x6d1cd6(0xea)]},'scope':_0x6d1cd6(0xbe),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[_0x6d1cd6(0xa8)],'syntax':['reactionRoles',_0x6d1cd6(0xec),_0x6d1cd6(0xcc),_0x6d1cd6(0xcb),_0x6d1cd6(0xd7),_0x6d1cd6(0xdc)]}),this['exec']=async(_0x2593f6,_0x5aa4f2)=>{const _0x1910f2=_0x6d1cd6;if(_0x5aa4f2[_0x1910f2(0xc7)]&&_0x5aa4f2[_0x1910f2(0xad)])return await ReactionRoleGroup_1[_0x1910f2(0xd0)][_0x1910f2(0xf5)]({'_id':_0x5aa4f2['message'],'guild':_0x2593f6['guild']['id']}),await _0x2593f6[_0x1910f2(0xe3)][_0x1910f2(0xaa)]({'embed':{'color':tesseract_1[_0x1910f2(0xd2)][_0x1910f2(0xce)][_0x1910f2(0xa6)],'description':this['client']['locale'][_0x1910f2(0xe2)](_0x2593f6[_0x1910f2(0xbe)][_0x1910f2(0xdf)][_0x1910f2(0xed)],'info',_0x1910f2(0xdb),_0x2593f6[_0x1910f2(0xe1)][_0x1910f2(0xe7)],_0x5aa4f2[_0x1910f2(0xc7)])}})[_0x1910f2(0xf2)](()=>{});if(_0x5aa4f2[_0x1910f2(0xc7)]&&_0x5aa4f2[_0x1910f2(0xa4)]&&_0x5aa4f2[_0x1910f2(0xa4)]['length']){if(constants[_0x1910f2(0xda)](this[_0x1910f2(0xc2)]['user'])){const _0x39a8f0=await omnic['fetchPremiumTier'](_0x2593f6[_0x1910f2(0xbe)])[_0x1910f2(0xf2)](()=>{});if(_0x39a8f0){if(_0x39a8f0===omnic[_0x1910f2(0xf0)][_0x1910f2(0xc6)]&&_0x5aa4f2['role'][_0x1910f2(0xa9)]>constants['LIMITS'][_0x1910f2(0xc6)][_0x1910f2(0xe6)])throw new errors['DiscordError'](errors[_0x1910f2(0xd9)][_0x1910f2(0xcd)],this[_0x1910f2(0xc2)][_0x1910f2(0xbf)][_0x1910f2(0xe2)](_0x2593f6[_0x1910f2(0xbe)]['document'][_0x1910f2(0xed)],_0x1910f2(0xb1),'membershipLimitReactionRoleGroupRoles',constants[_0x1910f2(0xee)][_0x1910f2(0xc6)][_0x1910f2(0xe6)]));else{if(_0x39a8f0===omnic['PremiumTier']['PLATINUM']&&_0x5aa4f2[_0x1910f2(0xa4)][_0x1910f2(0xa9)]>constants[_0x1910f2(0xee)][_0x1910f2(0xe8)][_0x1910f2(0xe6)])throw new errors[(_0x1910f2(0xb5))](errors[_0x1910f2(0xd9)]['LIMITED_PREMIUM_MEMBERSHIP'],this['client']['locale'][_0x1910f2(0xe2)](_0x2593f6['guild'][_0x1910f2(0xdf)][_0x1910f2(0xed)],_0x1910f2(0xb1),_0x1910f2(0xbb),constants[_0x1910f2(0xee)][_0x1910f2(0xe8)][_0x1910f2(0xe6)]));}}else{if(_0x5aa4f2[_0x1910f2(0xa4)]['length']>constants[_0x1910f2(0xee)][_0x1910f2(0xe6)])throw new errors[(_0x1910f2(0xb5))](errors[_0x1910f2(0xd9)][_0x1910f2(0xeb)],this[_0x1910f2(0xc2)][_0x1910f2(0xbf)]['getString'](_0x2593f6[_0x1910f2(0xbe)][_0x1910f2(0xdf)][_0x1910f2(0xed)],_0x1910f2(0xb1),'premiumReactionRoleGroupRoles',constants[_0x1910f2(0xee)][_0x1910f2(0xe6)]));}const _0x151b76=await ReactionRoleGroup_1[_0x1910f2(0xd0)][_0x1910f2(0xc1)]({'guild':_0x2593f6[_0x1910f2(0xbe)]['id']});if(_0x39a8f0){if(_0x39a8f0===omnic['PremiumTier']['GOLD']&&_0x151b76>=constants[_0x1910f2(0xee)][_0x1910f2(0xc6)][_0x1910f2(0xc4)])throw new errors[(_0x1910f2(0xb5))](errors[_0x1910f2(0xd9)][_0x1910f2(0xcd)],this[_0x1910f2(0xc2)][_0x1910f2(0xbf)]['getString'](_0x2593f6[_0x1910f2(0xbe)][_0x1910f2(0xdf)][_0x1910f2(0xed)],'errors','membershipLimitReactionRoleGroups',constants[_0x1910f2(0xee)][_0x1910f2(0xc6)][_0x1910f2(0xc4)]));else{if(_0x39a8f0===omnic[_0x1910f2(0xf0)]['PLATINUM']&&_0x151b76>=constants[_0x1910f2(0xee)]['PLATINUM'][_0x1910f2(0xc4)])throw new errors[(_0x1910f2(0xb5))](errors[_0x1910f2(0xd9)][_0x1910f2(0xcd)],this[_0x1910f2(0xc2)][_0x1910f2(0xbf)][_0x1910f2(0xe2)](_0x2593f6[_0x1910f2(0xbe)][_0x1910f2(0xdf)][_0x1910f2(0xed)],_0x1910f2(0xb1),'membershipLimitReactionRoleGroups',constants['LIMITS']['PLATINUM'][_0x1910f2(0xc4)]));}}else{if(_0x151b76>=constants[_0x1910f2(0xee)][_0x1910f2(0xc4)])throw new errors['DiscordError'](errors[_0x1910f2(0xd9)][_0x1910f2(0xeb)],this[_0x1910f2(0xc2)]['locale'][_0x1910f2(0xe2)](_0x2593f6['guild'][_0x1910f2(0xdf)][_0x1910f2(0xed)],_0x1910f2(0xb1),'premiumReactionRoleGroups',constants[_0x1910f2(0xee)][_0x1910f2(0xc4)]));}}const _0x1fc093=await _0x2593f6[_0x1910f2(0xe3)][_0x1910f2(0xf3)][_0x1910f2(0xa7)](_0x5aa4f2[_0x1910f2(0xc7)],![])[_0x1910f2(0xf2)](()=>{});if(!_0x1fc093)throw new Error('MESSAGE_NOT_FOUND');const _0x2eb865=this[_0x1910f2(0xc2)][_0x1910f2(0xe9)][_0x1910f2(0xb0)](_0x2593f6['guild'],_0x5aa4f2['role']);if(!_0x2eb865[_0x1910f2(0xa9)])throw new errors['DiscordError'](errors[_0x1910f2(0xd9)][_0x1910f2(0xd6)],this[_0x1910f2(0xc2)][_0x1910f2(0xbf)]['getString'](_0x2593f6[_0x1910f2(0xbe)]['document'][_0x1910f2(0xed)],'errors',_0x1910f2(0xbd)));await ReactionRoleGroup_1[_0x1910f2(0xd0)]['findByIdAndUpdate'](_0x1fc093['id'],{'_id':_0x1fc093['id'],'channel':_0x2593f6[_0x1910f2(0xe3)]['id'],'guild':_0x2593f6[_0x1910f2(0xbe)]['id'],'roles':_0x2eb865['map'](_0x18f42c=>_0x18f42c['id']),'exclusive':_0x5aa4f2['exclusive']?_0x5aa4f2[_0x1910f2(0xd4)]:undefined},{'upsert':!![]}),await _0x2593f6[_0x1910f2(0xe3)]['send']({'embed':{'color':tesseract_1[_0x1910f2(0xd2)][_0x1910f2(0xce)][_0x1910f2(0xb8)],'description':this[_0x1910f2(0xc2)][_0x1910f2(0xbf)]['getString'](_0x2593f6[_0x1910f2(0xbe)][_0x1910f2(0xdf)][_0x1910f2(0xed)],_0x1910f2(0xca),_0x1910f2(0xa3),_0x2593f6[_0x1910f2(0xe1)][_0x1910f2(0xe7)],_0x1fc093[_0x1910f2(0xd1)])}})[_0x1910f2(0xf2)](()=>{});const _0xa5976f=await Role_1[_0x1910f2(0xd0)][_0x1910f2(0xbc)]({'$or':_0x2eb865[_0x1910f2(0xf7)](_0x648a46=>({'_id':_0x648a46['id']})),'guild':_0x2593f6[_0x1910f2(0xbe)]['id'],'emoji':{'$exists':!![]}});if(_0xa5976f&&_0xa5976f['length'])for(const _0x39dff7 of _0xa5976f){const _0xa5dbfc=emojis[_0x1910f2(0x9e)](_0x39dff7[_0x1910f2(0xea)]);await _0x1fc093[_0x1910f2(0xd8)](_0xa5dbfc[_0x1910f2(0xb6)]);}return;}if(_0x5aa4f2[_0x1910f2(0xa4)]){const _0x48b02f=_0x5aa4f2[_0x1910f2(0xa4)]?_0x5aa4f2['role']['join']('\x20'):'',_0x5d69e1=this[_0x1910f2(0xc2)][_0x1910f2(0xe9)][_0x1910f2(0xf6)](_0x2593f6['guild'],_0x48b02f);if(!_0x5d69e1)throw new errors[(_0x1910f2(0xb5))](errors['BASTION_ERROR_TYPE']['ROLE_NOT_FOUND'],this['client'][_0x1910f2(0xbf)][_0x1910f2(0xe2)](_0x2593f6['guild']['document'][_0x1910f2(0xed)],'errors',_0x1910f2(0xbd)));let _0x235784=await _0x5d69e1[_0x1910f2(0xa5)]();!_0x235784&&_0x5aa4f2[_0x1910f2(0xea)]&&(_0x235784=await _0x5d69e1['createDocument']());if(_0x5aa4f2['emoji']){const _0x25f35b=emojis['parseEmoji'](_0x5aa4f2['emoji']);_0x235784[_0x1910f2(0xea)]=_0x25f35b[_0x1910f2(0xab)],await _0x235784['save']();}else _0x235784&&_0x5aa4f2[_0x1910f2(0xea)]===![]&&(_0x235784[_0x1910f2(0xea)]=undefined,await _0x235784['save']());const _0x3fa445=_0x235784?emojis['parseEmoji'](_0x235784[_0x1910f2(0xea)]):undefined;return await _0x2593f6[_0x1910f2(0xe3)]['send']({'embed':{'color':_0x5aa4f2[_0x1910f2(0xea)]?tesseract_1[_0x1910f2(0xd2)][_0x1910f2(0xce)][_0x1910f2(0xb8)]:_0x5aa4f2[_0x1910f2(0xea)]===![]?tesseract_1['Constants'][_0x1910f2(0xce)][_0x1910f2(0xa6)]:tesseract_1[_0x1910f2(0xd2)]['COLORS']['IRIS'],'title':_0x5aa4f2[_0x1910f2(0xea)]?_0x1910f2(0xf1):_0x5aa4f2['emoji']===![]?'Role\x20Emoji\x20Removed':_0x1910f2(0xaf),'fields':[{'name':_0x1910f2(0xef),'value':_0x5d69e1[_0x1910f2(0xd5)]||'-','inline':!![]},{'name':_0x1910f2(0xc8),'value':_0x3fa445?_0x3fa445[_0x1910f2(0xb6)]===_0x3fa445[_0x1910f2(0xab)]?_0x2593f6[_0x1910f2(0xbe)][_0x1910f2(0xb3)][_0x1910f2(0xa1)][_0x1910f2(0xb7)](_0x3fa445['reaction'])||_0x3fa445[_0x1910f2(0xab)]:_0x3fa445[_0x1910f2(0xb6)]:'-','inline':!![]}]}})[_0x1910f2(0xf2)](()=>{});}const _0x1cb113=await ReactionRoleGroup_1[_0x1910f2(0xd0)]['find']({'guild':_0x2593f6[_0x1910f2(0xbe)]['id']});if(!_0x1cb113)throw new Error(_0x1910f2(0xdd));await _0x2593f6[_0x1910f2(0xe3)][_0x1910f2(0xaa)]({'embed':{'color':tesseract_1[_0x1910f2(0xd2)]['COLORS'][_0x1910f2(0xcf)],'title':_0x1910f2(0xde),'fields':_0x1cb113[_0x1910f2(0xf7)](_0x3cf3b3=>({'name':_0x3cf3b3[_0x1910f2(0xc5)],'value':_0x3cf3b3[_0x1910f2(0xf4)][_0x1910f2(0xa9)]+'\x20Roles'+(_0x3cf3b3[_0x1910f2(0xd4)]?_0x1910f2(0x9f):'')+_0x1910f2(0xae)+_0x3cf3b3[_0x1910f2(0xbe)]+'/'+_0x3cf3b3[_0x1910f2(0xe3)]+'/'+_0x3cf3b3[_0x1910f2(0xc5)]+')'}))}})['catch'](()=>{});};}};