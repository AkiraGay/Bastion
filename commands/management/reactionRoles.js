const a70_0x13cb=['RED','errors','ROLE_NOT_FOUND','client','reactionRoles\x20--role\x20ROLE\x20--no-emoji','membershipLimitReactionRoleGroups','language','BASTION_ERROR_TYPE','join','\x20/\x20Exclusive','Command','GREEN','premiumReactionRoleGroupRoles','value','REACTION_ROLES_PER_GROUP','messages','\x20Roles','delete','send','countDocuments','guild','PLATINUM','reactionRoles','Reaction\x20Role\x20Groups','reaction','message','reactionRolesGroupRemove','roleNotFound','membershipLimitReactionRoleGroupRoles','MANAGE_ROLES','map','constructor','REACTION_ROLE_GROUPS','roles','author','catch','exports','test','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','createDocument','premiumReactionRoleGroups','../../models/Role','react','_id','fetch','GOLD','name','exclusive','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','save','parseEmoji','fetchPremiumTier','info','DiscordError','getString','LIMITS','locale','channel','role','apply','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','document','get','resolver','COLORS','cache','find','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','PremiumTier','PREMIUM_MEMBERSHIP_REQUIRED','default','emojis','Role\x20Emoji\x20Removed','LIMITED_PREMIUM_MEMBERSHIP','Emoji','Role','Constants','NO_REACTION_ROLES','deleteOne','length','return\x20/\x22\x20+\x20this\x20+\x20\x22/','IRIS','isPublicBastion','reactionRolesGroupAdd','resolveRole','user','Role\x20Emoji','emoji','findByIdAndUpdate','../../utils/omnic'];(function(_0xd3fdc6,_0x13cbb8){const _0x116787=function(_0x450595){while(--_0x450595){_0xd3fdc6['push'](_0xd3fdc6['shift']());}},_0x3fe79c=function(){const _0x503512={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x299622,_0x39441c,_0x183734,_0x8cc516){_0x8cc516=_0x8cc516||{};let _0x20e8d1=_0x39441c+'='+_0x183734,_0x39372b=0x0;for(let _0x10671b=0x0,_0xfeefcc=_0x299622['length'];_0x10671b<_0xfeefcc;_0x10671b++){const _0x5a9e89=_0x299622[_0x10671b];_0x20e8d1+=';\x20'+_0x5a9e89;const _0x390d7b=_0x299622[_0x5a9e89];_0x299622['push'](_0x390d7b),_0xfeefcc=_0x299622['length'],_0x390d7b!==!![]&&(_0x20e8d1+='='+_0x390d7b);}_0x8cc516['cookie']=_0x20e8d1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5b0d46,_0x438f3b){_0x5b0d46=_0x5b0d46||function(_0x5a6c9e){return _0x5a6c9e;};const _0x482e8b=_0x5b0d46(new RegExp('(?:^|;\x20)'+_0x438f3b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5e3e51=function(_0x5aea1a,_0x3ed25a){_0x5aea1a(++_0x3ed25a);};return _0x5e3e51(_0x116787,_0x13cbb8),_0x482e8b?decodeURIComponent(_0x482e8b[0x1]):undefined;}},_0x1f3a34=function(){const _0x68b1bf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x68b1bf['test'](_0x503512['removeCookie']['toString']());};_0x503512['updateCookie']=_0x1f3a34;let _0x4a9cfd='';const _0x4ccd53=_0x503512['updateCookie']();if(!_0x4ccd53)_0x503512['setCookie'](['*'],'counter',0x1);else _0x4ccd53?_0x4a9cfd=_0x503512['getCookie'](null,'counter'):_0x503512['removeCookie']();};_0x3fe79c();}(a70_0x13cb,0x9b));const a70_0x1167=function(_0xd3fdc6,_0x13cbb8){_0xd3fdc6=_0xd3fdc6-0x0;let _0x116787=a70_0x13cb[_0xd3fdc6];return _0x116787;};const a70_0x183734=function(){let _0x51bfc1=!![];return function(_0x1348e0,_0x3b9a6f){const _0x2e387a=_0x51bfc1?function(){if(_0x3b9a6f){const _0x65ebde=_0x3b9a6f[a70_0x1167('0x56')](_0x1348e0,arguments);return _0x3b9a6f=null,_0x65ebde;}}:function(){};return _0x51bfc1=![],_0x2e387a;};}(),a70_0x39441c=a70_0x183734(this,function(){const _0x5d3eb3=function(){const _0x60a762=_0x5d3eb3[a70_0x1167('0x3a')](a70_0x1167('0x11'))()[a70_0x1167('0x3a')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x60a762[a70_0x1167('0x40')](a70_0x39441c);};return _0x5d3eb3();});a70_0x39441c();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a70_0x1167('0x44')),ReactionRoleGroup_1=require('../../models/ReactionRoleGroup'),constants=require('../../utils/constants'),emojis=require('../../utils/emojis'),errors=require('../../utils/errors'),omnic=require(a70_0x1167('0x1a'));module[a70_0x1167('0x3f')]=class ReactionRolesCommand extends tesseract_1[a70_0x1167('0x25')]{constructor(){super(a70_0x1167('0x31'),{'description':a70_0x1167('0x57'),'triggers':[],'arguments':{'array':[a70_0x1167('0x55')],'boolean':['delete',a70_0x1167('0x4a')],'string':[a70_0x1167('0x34'),a70_0x1167('0x55'),a70_0x1167('0x18')]},'scope':a70_0x1167('0x2f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[a70_0x1167('0x38')],'syntax':['reactionRoles',a70_0x1167('0x3'),a70_0x1167('0x1f'),a70_0x1167('0x4b'),a70_0x1167('0x41'),'reactionRoles\x20--message\x20ID\x20--delete']}),this['exec']=async(_0x20614b,_0x45b757)=>{if(_0x45b757['message']&&_0x45b757[a70_0x1167('0x2c')])return await ReactionRoleGroup_1[a70_0x1167('0x7')][a70_0x1167('0xf')]({'_id':_0x45b757['message']}),await _0x20614b[a70_0x1167('0x54')][a70_0x1167('0x2d')]({'embed':{'color':tesseract_1[a70_0x1167('0xd')][a70_0x1167('0x0')][a70_0x1167('0x1b')],'description':this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x58')][a70_0x1167('0x21')],a70_0x1167('0x4f'),a70_0x1167('0x35'),_0x20614b['author']['tag'],_0x45b757[a70_0x1167('0x34')])}})['catch'](()=>{});if(_0x45b757['message']&&_0x45b757[a70_0x1167('0x55')]&&_0x45b757[a70_0x1167('0x55')][a70_0x1167('0x10')]){if(constants[a70_0x1167('0x13')](this[a70_0x1167('0x1e')][a70_0x1167('0x16')])){const _0x398283=await omnic[a70_0x1167('0x4e')](_0x20614b[a70_0x1167('0x2f')])['catch'](()=>{});if(_0x398283){if(_0x398283===omnic[a70_0x1167('0x5')][a70_0x1167('0x48')]&&_0x45b757[a70_0x1167('0x55')][a70_0x1167('0x10')]>constants['LIMITS'][a70_0x1167('0x48')][a70_0x1167('0x29')])throw new errors[(a70_0x1167('0x50'))](errors[a70_0x1167('0x22')][a70_0x1167('0xa')],this['client'][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x58')][a70_0x1167('0x21')],a70_0x1167('0x1c'),a70_0x1167('0x37'),constants[a70_0x1167('0x52')][a70_0x1167('0x48')][a70_0x1167('0x29')]));else{if(_0x398283===omnic[a70_0x1167('0x5')][a70_0x1167('0x30')]&&_0x45b757[a70_0x1167('0x55')][a70_0x1167('0x10')]>constants['LIMITS'][a70_0x1167('0x30')][a70_0x1167('0x29')])throw new errors[(a70_0x1167('0x50'))](errors[a70_0x1167('0x22')][a70_0x1167('0xa')],this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x58')]['language'],a70_0x1167('0x1c'),a70_0x1167('0x37'),constants[a70_0x1167('0x52')][a70_0x1167('0x30')][a70_0x1167('0x29')]));}}else{if(_0x45b757[a70_0x1167('0x55')][a70_0x1167('0x10')]>constants[a70_0x1167('0x52')][a70_0x1167('0x29')])throw new errors[(a70_0x1167('0x50'))](errors['BASTION_ERROR_TYPE'][a70_0x1167('0x6')],this[a70_0x1167('0x1e')][a70_0x1167('0x53')]['getString'](_0x20614b['guild'][a70_0x1167('0x58')][a70_0x1167('0x21')],a70_0x1167('0x1c'),a70_0x1167('0x27'),constants[a70_0x1167('0x52')][a70_0x1167('0x29')]));}const _0x26788f=await ReactionRoleGroup_1[a70_0x1167('0x7')][a70_0x1167('0x2e')]({'guild':_0x20614b[a70_0x1167('0x2f')]['id']});if(_0x398283){if(_0x398283===omnic[a70_0x1167('0x5')][a70_0x1167('0x48')]&&_0x26788f>=constants[a70_0x1167('0x52')][a70_0x1167('0x48')][a70_0x1167('0x3b')])throw new errors[(a70_0x1167('0x50'))](errors[a70_0x1167('0x22')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b['guild'][a70_0x1167('0x58')][a70_0x1167('0x21')],a70_0x1167('0x1c'),a70_0x1167('0x20'),constants[a70_0x1167('0x52')][a70_0x1167('0x48')][a70_0x1167('0x3b')]));else{if(_0x398283===omnic[a70_0x1167('0x5')][a70_0x1167('0x30')]&&_0x26788f>=constants['LIMITS'][a70_0x1167('0x30')][a70_0x1167('0x3b')])throw new errors['DiscordError'](errors[a70_0x1167('0x22')][a70_0x1167('0xa')],this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x58')][a70_0x1167('0x21')],'errors',a70_0x1167('0x20'),constants[a70_0x1167('0x52')]['PLATINUM']['REACTION_ROLE_GROUPS']));}}else{if(_0x26788f>=constants[a70_0x1167('0x52')][a70_0x1167('0x3b')])throw new errors['DiscordError'](errors[a70_0x1167('0x22')][a70_0x1167('0x6')],this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b['guild'][a70_0x1167('0x58')]['language'],a70_0x1167('0x1c'),a70_0x1167('0x43'),constants[a70_0x1167('0x52')]['REACTION_ROLE_GROUPS']));}}const _0x26a3c9=await _0x20614b[a70_0x1167('0x54')][a70_0x1167('0x2a')][a70_0x1167('0x47')](_0x45b757[a70_0x1167('0x34')],![])[a70_0x1167('0x3e')](()=>{});if(!_0x26a3c9)throw new Error('MESSAGE_NOT_FOUND');const _0x3e471d=this[a70_0x1167('0x1e')][a70_0x1167('0x5a')]['resolveRoles'](_0x20614b[a70_0x1167('0x2f')],_0x45b757[a70_0x1167('0x55')]);if(!_0x3e471d[a70_0x1167('0x10')])throw new errors[(a70_0x1167('0x50'))](errors[a70_0x1167('0x22')][a70_0x1167('0x1d')],this[a70_0x1167('0x1e')]['locale'][a70_0x1167('0x51')](_0x20614b['guild'][a70_0x1167('0x58')][a70_0x1167('0x21')],a70_0x1167('0x1c'),a70_0x1167('0x36')));await ReactionRoleGroup_1[a70_0x1167('0x7')][a70_0x1167('0x19')](_0x26a3c9['id'],{'_id':_0x26a3c9['id'],'channel':_0x20614b[a70_0x1167('0x54')]['id'],'guild':_0x20614b['guild']['id'],'roles':_0x3e471d[a70_0x1167('0x39')](_0x4b6510=>_0x4b6510['id']),'exclusive':_0x45b757['exclusive']?_0x45b757[a70_0x1167('0x4a')]:undefined},{'upsert':!![]}),await _0x20614b['channel'][a70_0x1167('0x2d')]({'embed':{'color':tesseract_1[a70_0x1167('0xd')][a70_0x1167('0x0')][a70_0x1167('0x26')],'description':this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x58')][a70_0x1167('0x21')],a70_0x1167('0x4f'),a70_0x1167('0x14'),_0x20614b[a70_0x1167('0x3d')]['tag'],_0x26a3c9['url'])}})['catch'](()=>{});const _0x4d4ee6=await Role_1[a70_0x1167('0x7')][a70_0x1167('0x2')]({'$or':_0x3e471d[a70_0x1167('0x39')](_0x537dd8=>({'_id':_0x537dd8['id']})),'guild':_0x20614b[a70_0x1167('0x2f')]['id'],'emoji':{'$exists':!![]}});if(_0x4d4ee6&&_0x4d4ee6[a70_0x1167('0x10')])for(const _0x256bd2 of _0x4d4ee6){const _0x4e30cb=emojis[a70_0x1167('0x4d')](_0x256bd2[a70_0x1167('0x18')]);await _0x26a3c9[a70_0x1167('0x45')](_0x4e30cb[a70_0x1167('0x33')]);}return;}if(_0x45b757['role']){const _0xe2880c=_0x45b757[a70_0x1167('0x55')]?_0x45b757['role'][a70_0x1167('0x23')]('\x20'):'',_0x41ee3c=this['client'][a70_0x1167('0x5a')][a70_0x1167('0x15')](_0x20614b[a70_0x1167('0x2f')],_0xe2880c);if(!_0x41ee3c)throw new errors['DiscordError'](errors[a70_0x1167('0x22')][a70_0x1167('0x1d')],this[a70_0x1167('0x1e')][a70_0x1167('0x53')][a70_0x1167('0x51')](_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x58')]['language'],a70_0x1167('0x1c'),a70_0x1167('0x36')));let _0x2d0b2d=await _0x41ee3c['fetchDocument']();!_0x2d0b2d&&_0x45b757['emoji']&&(_0x2d0b2d=await _0x41ee3c[a70_0x1167('0x42')]());if(_0x45b757[a70_0x1167('0x18')]){const _0x10b8a4=emojis[a70_0x1167('0x4d')](_0x45b757[a70_0x1167('0x18')]);_0x2d0b2d['emoji']=_0x10b8a4[a70_0x1167('0x28')],await _0x2d0b2d[a70_0x1167('0x4c')]();}else _0x2d0b2d&&_0x45b757[a70_0x1167('0x18')]===![]&&(_0x2d0b2d[a70_0x1167('0x18')]=undefined,await _0x2d0b2d[a70_0x1167('0x4c')]());const _0x5140f5=_0x2d0b2d?emojis[a70_0x1167('0x4d')](_0x2d0b2d[a70_0x1167('0x18')]):undefined;return await _0x20614b[a70_0x1167('0x54')][a70_0x1167('0x2d')]({'embed':{'color':_0x45b757[a70_0x1167('0x18')]?tesseract_1['Constants'][a70_0x1167('0x0')]['GREEN']:_0x45b757[a70_0x1167('0x18')]===![]?tesseract_1[a70_0x1167('0xd')][a70_0x1167('0x0')]['RED']:tesseract_1[a70_0x1167('0xd')][a70_0x1167('0x0')][a70_0x1167('0x12')],'title':_0x45b757[a70_0x1167('0x18')]?'Role\x20Emoji\x20Added':_0x45b757[a70_0x1167('0x18')]===![]?a70_0x1167('0x9'):a70_0x1167('0x17'),'fields':[{'name':a70_0x1167('0xc'),'value':_0x41ee3c[a70_0x1167('0x49')]||'-','inline':!![]},{'name':a70_0x1167('0xb'),'value':_0x5140f5?_0x5140f5[a70_0x1167('0x33')]===_0x5140f5[a70_0x1167('0x28')]?_0x20614b[a70_0x1167('0x2f')][a70_0x1167('0x8')][a70_0x1167('0x1')][a70_0x1167('0x59')](_0x5140f5[a70_0x1167('0x33')])||_0x5140f5[a70_0x1167('0x28')]:_0x5140f5[a70_0x1167('0x33')]:'-','inline':!![]}]}})[a70_0x1167('0x3e')](()=>{});}const _0x20d4d3=await ReactionRoleGroup_1[a70_0x1167('0x7')]['find']({});if(!_0x20d4d3)throw new Error(a70_0x1167('0xe'));await _0x20614b[a70_0x1167('0x54')]['send']({'embed':{'title':a70_0x1167('0x32'),'fields':_0x20d4d3[a70_0x1167('0x39')](_0x2ddaac=>({'name':_0x2ddaac[a70_0x1167('0x46')],'value':_0x2ddaac[a70_0x1167('0x3c')][a70_0x1167('0x10')]+a70_0x1167('0x2b')+(_0x2ddaac[a70_0x1167('0x4a')]?a70_0x1167('0x24'):'')+a70_0x1167('0x4')+_0x2ddaac[a70_0x1167('0x2f')]+'/'+_0x2ddaac[a70_0x1167('0x54')]+'/'+_0x2ddaac[a70_0x1167('0x46')]+')'}))}})[a70_0x1167('0x3e')](()=>{});};}};