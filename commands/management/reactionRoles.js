const a68_0x2cbf=['MESSAGE_NOT_FOUND','premiumReactionRoleGroups','PREMIUM_MEMBERSHIP_REQUIRED','PLATINUM','get','tag','fetchPremiumTier','../../utils/emojis','Constants','BASTION_ERROR_TYPE','reactionRoles\x20--role\x20ROLE\x20--no-emoji','../../utils/errors','return\x20/\x22\x20+\x20this\x20+\x20\x22/','createDocument','PremiumTier','errors','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','membershipLimitReactionRoleGroups','NO_REACTION_ROLES','MANAGE_ROLES','LIMITS','IRIS','react','client','map','exports','_id','\x20/\x20Exclusive','role','constructor','fetchDocument','REACTION_ROLE_GROUPS','reaction','guild','find','reactionRoles\x20--message\x20ID\x20--delete','Role\x20Emoji\x20Removed','exec','catch','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','premiumReactionRoleGroupRoles','REACTION_ROLES_PER_GROUP','GOLD','length','message','COLORS','isPublicBastion','@bastion/tesseract','membershipLimitReactionRoleGroupRoles','save','url','resolver','DiscordError','RED','exclusive','resolveRole','GREEN','language','info','locale','value','parseEmoji','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','reactionRolesGroupAdd','user','Emoji','channel','send','reactionRoles','name','fetch','resolveRoles','\x20Roles','emojis','ROLE_NOT_FOUND','../../models/Role','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','findByIdAndUpdate','document','author','messages','deleteOne','default','emoji','test','delete','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','LIMITED_PREMIUM_MEMBERSHIP','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../models/ReactionRoleGroup','getString','reactionRolesGroupRemove','join'];(function(_0x31b5a8,_0x2cbf64){const _0x7d8f50=function(_0x239685){while(--_0x239685){_0x31b5a8['push'](_0x31b5a8['shift']());}};const _0x35c016=function(){const _0x348142={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x11bea0,_0x52a7a6,_0x256360,_0x1aac37){_0x1aac37=_0x1aac37||{};let _0x2a602c=_0x52a7a6+'='+_0x256360;let _0x4176cd=0x0;for(let _0x14a225=0x0,_0x4f7e96=_0x11bea0['length'];_0x14a225<_0x4f7e96;_0x14a225++){const _0xa568ca=_0x11bea0[_0x14a225];_0x2a602c+=';\x20'+_0xa568ca;const _0x2123a3=_0x11bea0[_0xa568ca];_0x11bea0['push'](_0x2123a3);_0x4f7e96=_0x11bea0['length'];if(_0x2123a3!==!![]){_0x2a602c+='='+_0x2123a3;}}_0x1aac37['cookie']=_0x2a602c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4fa74f,_0x3c9ca7){_0x4fa74f=_0x4fa74f||function(_0x4685c7){return _0x4685c7;};const _0x47a146=_0x4fa74f(new RegExp('(?:^|;\x20)'+_0x3c9ca7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x361c65=function(_0x5434a0,_0x47e80c){_0x5434a0(++_0x47e80c);};_0x361c65(_0x7d8f50,_0x2cbf64);return _0x47a146?decodeURIComponent(_0x47a146[0x1]):undefined;}};const _0x47ebf2=function(){const _0x4e2214=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4e2214['test'](_0x348142['removeCookie']['toString']());};_0x348142['updateCookie']=_0x47ebf2;let _0x4cf7af='';const _0x32d169=_0x348142['updateCookie']();if(!_0x32d169){_0x348142['setCookie'](['*'],'counter',0x1);}else if(_0x32d169){_0x4cf7af=_0x348142['getCookie'](null,'counter');}else{_0x348142['removeCookie']();}};_0x35c016();}(a68_0x2cbf,0x134));const a68_0x7d8f=function(_0x31b5a8,_0x2cbf64){_0x31b5a8=_0x31b5a8-0x0;let _0x7d8f50=a68_0x2cbf[_0x31b5a8];return _0x7d8f50;};const a68_0x348142=function(){let _0x19a9e1=!![];return function(_0x52ed06,_0x85da8f){const _0x7e44de=_0x19a9e1?function(){if(_0x85da8f){const _0x219e6c=_0x85da8f['apply'](_0x52ed06,arguments);_0x85da8f=null;return _0x219e6c;}}:function(){};_0x19a9e1=![];return _0x7e44de;};}();const a68_0x239685=a68_0x348142(this,function(){const _0x28f46b=function(){const _0x26b5e0=_0x28f46b[a68_0x7d8f('0x0')](a68_0x7d8f('0x4c'))()['compile'](a68_0x7d8f('0x3b'));return!_0x26b5e0[a68_0x7d8f('0x37')](a68_0x239685);};return _0x28f46b();});a68_0x239685();'use strict';const tesseract_1=require(a68_0x7d8f('0x12'));const Role_1=require(a68_0x7d8f('0x2e'));const ReactionRoleGroup_1=require(a68_0x7d8f('0x3c'));const constants=require('../../utils/constants');const emojis=require(a68_0x7d8f('0x47'));const errors=require(a68_0x7d8f('0x4b'));const omnic=require('../../utils/omnic');module[a68_0x7d8f('0x59')]=class ReactionRolesCommand extends tesseract_1['Command']{constructor(){super(a68_0x7d8f('0x27'),{'description':a68_0x7d8f('0x50'),'triggers':[],'arguments':{'array':['role'],'boolean':['delete','exclusive'],'string':[a68_0x7d8f('0xf'),a68_0x7d8f('0x5c'),a68_0x7d8f('0x36')]},'scope':a68_0x7d8f('0x4'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a68_0x7d8f('0x53')],'userPermissions':[a68_0x7d8f('0x53')],'syntax':[a68_0x7d8f('0x27'),a68_0x7d8f('0xa'),a68_0x7d8f('0x4a'),a68_0x7d8f('0x39'),a68_0x7d8f('0x2f'),a68_0x7d8f('0x6')]});this[a68_0x7d8f('0x8')]=async(_0x14c266,_0x23449f)=>{if(_0x23449f[a68_0x7d8f('0xf')]&&_0x23449f[a68_0x7d8f('0x38')]){await ReactionRoleGroup_1[a68_0x7d8f('0x35')][a68_0x7d8f('0x34')]({'_id':_0x23449f[a68_0x7d8f('0xf')]});return await _0x14c266[a68_0x7d8f('0x25')][a68_0x7d8f('0x26')]({'embed':{'color':tesseract_1[a68_0x7d8f('0x48')][a68_0x7d8f('0x10')][a68_0x7d8f('0x18')],'description':this['client'][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266[a68_0x7d8f('0x4')][a68_0x7d8f('0x31')][a68_0x7d8f('0x1c')],'info',a68_0x7d8f('0x3e'),_0x14c266[a68_0x7d8f('0x32')][a68_0x7d8f('0x45')],_0x23449f[a68_0x7d8f('0xf')])}})[a68_0x7d8f('0x9')](()=>{});}if(_0x23449f[a68_0x7d8f('0xf')]&&_0x23449f[a68_0x7d8f('0x5c')]&&_0x23449f[a68_0x7d8f('0x5c')][a68_0x7d8f('0xe')]){if(constants[a68_0x7d8f('0x11')](this[a68_0x7d8f('0x57')][a68_0x7d8f('0x23')])){const _0x4ff064=await omnic[a68_0x7d8f('0x46')](_0x14c266[a68_0x7d8f('0x4')])[a68_0x7d8f('0x9')](()=>{});if(_0x4ff064){if(_0x4ff064===omnic['PremiumTier'][a68_0x7d8f('0xd')]&&_0x23449f[a68_0x7d8f('0x5c')][a68_0x7d8f('0xe')]>constants[a68_0x7d8f('0x54')][a68_0x7d8f('0xd')][a68_0x7d8f('0xc')]){throw new errors[(a68_0x7d8f('0x17'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a68_0x7d8f('0x57')][a68_0x7d8f('0x1e')]['getString'](_0x14c266[a68_0x7d8f('0x4')][a68_0x7d8f('0x31')][a68_0x7d8f('0x1c')],'errors',a68_0x7d8f('0x13'),constants[a68_0x7d8f('0x54')][a68_0x7d8f('0xd')][a68_0x7d8f('0xc')]));}else if(_0x4ff064===omnic['PremiumTier'][a68_0x7d8f('0x43')]&&_0x23449f[a68_0x7d8f('0x5c')][a68_0x7d8f('0xe')]>constants[a68_0x7d8f('0x54')][a68_0x7d8f('0x43')]['REACTION_ROLES_PER_GROUP']){throw new errors[(a68_0x7d8f('0x17'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266[a68_0x7d8f('0x4')][a68_0x7d8f('0x31')][a68_0x7d8f('0x1c')],a68_0x7d8f('0x4f'),a68_0x7d8f('0x13'),constants[a68_0x7d8f('0x54')][a68_0x7d8f('0x43')][a68_0x7d8f('0xc')]));}}else if(_0x23449f[a68_0x7d8f('0x5c')][a68_0x7d8f('0xe')]>constants[a68_0x7d8f('0x54')][a68_0x7d8f('0xc')]){throw new errors['DiscordError'](errors[a68_0x7d8f('0x49')][a68_0x7d8f('0x42')],this['client']['locale']['getString'](_0x14c266['guild']['document']['language'],a68_0x7d8f('0x4f'),a68_0x7d8f('0xb'),constants[a68_0x7d8f('0x54')][a68_0x7d8f('0xc')]));}const _0x2afe98=await ReactionRoleGroup_1[a68_0x7d8f('0x35')]['countDocuments']({'guild':_0x14c266[a68_0x7d8f('0x4')]['id']});if(_0x4ff064){if(_0x4ff064===omnic[a68_0x7d8f('0x4e')][a68_0x7d8f('0xd')]&&_0x2afe98>=constants['LIMITS'][a68_0x7d8f('0xd')]['REACTION_ROLE_GROUPS']){throw new errors[(a68_0x7d8f('0x17'))](errors[a68_0x7d8f('0x49')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a68_0x7d8f('0x1e')]['getString'](_0x14c266[a68_0x7d8f('0x4')]['document'][a68_0x7d8f('0x1c')],'errors',a68_0x7d8f('0x51'),constants[a68_0x7d8f('0x54')]['GOLD'][a68_0x7d8f('0x2')]));}else if(_0x4ff064===omnic[a68_0x7d8f('0x4e')][a68_0x7d8f('0x43')]&&_0x2afe98>=constants[a68_0x7d8f('0x54')][a68_0x7d8f('0x43')]['REACTION_ROLE_GROUPS']){throw new errors[(a68_0x7d8f('0x17'))](errors[a68_0x7d8f('0x49')][a68_0x7d8f('0x3a')],this[a68_0x7d8f('0x57')][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266[a68_0x7d8f('0x4')]['document']['language'],a68_0x7d8f('0x4f'),a68_0x7d8f('0x51'),constants[a68_0x7d8f('0x54')][a68_0x7d8f('0x43')]['REACTION_ROLE_GROUPS']));}}else if(_0x2afe98>=constants[a68_0x7d8f('0x54')][a68_0x7d8f('0x2')]){throw new errors[(a68_0x7d8f('0x17'))](errors[a68_0x7d8f('0x49')][a68_0x7d8f('0x42')],this[a68_0x7d8f('0x57')][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266['guild'][a68_0x7d8f('0x31')]['language'],a68_0x7d8f('0x4f'),a68_0x7d8f('0x41'),constants[a68_0x7d8f('0x54')][a68_0x7d8f('0x2')]));}}const _0x54bcdf=await _0x14c266['channel'][a68_0x7d8f('0x33')][a68_0x7d8f('0x29')](_0x23449f[a68_0x7d8f('0xf')],![])[a68_0x7d8f('0x9')](()=>{});if(!_0x54bcdf)throw new Error(a68_0x7d8f('0x40'));const _0x3d9071=this['client'][a68_0x7d8f('0x16')][a68_0x7d8f('0x2a')](_0x14c266['guild'],_0x23449f['role']);if(!_0x3d9071[a68_0x7d8f('0xe')])throw new errors[(a68_0x7d8f('0x17'))](errors[a68_0x7d8f('0x49')][a68_0x7d8f('0x2d')],this[a68_0x7d8f('0x57')][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266['guild'][a68_0x7d8f('0x31')][a68_0x7d8f('0x1c')],'errors','roleNotFound'));await ReactionRoleGroup_1[a68_0x7d8f('0x35')][a68_0x7d8f('0x30')](_0x54bcdf['id'],{'_id':_0x54bcdf['id'],'channel':_0x14c266[a68_0x7d8f('0x25')]['id'],'guild':_0x14c266['guild']['id'],'roles':_0x3d9071[a68_0x7d8f('0x58')](_0x105434=>_0x105434['id']),'exclusive':_0x23449f[a68_0x7d8f('0x19')]?_0x23449f[a68_0x7d8f('0x19')]:undefined},{'upsert':!![]});await _0x14c266['channel'][a68_0x7d8f('0x26')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a68_0x7d8f('0x1b')],'description':this[a68_0x7d8f('0x57')][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266[a68_0x7d8f('0x4')][a68_0x7d8f('0x31')][a68_0x7d8f('0x1c')],a68_0x7d8f('0x1d'),a68_0x7d8f('0x22'),_0x14c266['author'][a68_0x7d8f('0x45')],_0x54bcdf[a68_0x7d8f('0x15')])}})[a68_0x7d8f('0x9')](()=>{});const _0x1eb671=await Role_1[a68_0x7d8f('0x35')][a68_0x7d8f('0x5')]({'$or':_0x3d9071[a68_0x7d8f('0x58')](_0x21503f=>({'_id':_0x21503f['id']})),'guild':_0x14c266[a68_0x7d8f('0x4')]['id'],'emoji':{'$exists':!![]}});if(_0x1eb671&&_0x1eb671[a68_0x7d8f('0xe')]){for(const _0x414f9c of _0x1eb671){const _0x2cba37=emojis[a68_0x7d8f('0x20')](_0x414f9c[a68_0x7d8f('0x36')]);await _0x54bcdf[a68_0x7d8f('0x56')](_0x2cba37[a68_0x7d8f('0x3')]);}}return;}if(_0x23449f[a68_0x7d8f('0x5c')]){const _0x45059f=_0x23449f[a68_0x7d8f('0x5c')]?_0x23449f[a68_0x7d8f('0x5c')][a68_0x7d8f('0x3f')]('\x20'):'';const _0x228e43=this[a68_0x7d8f('0x57')][a68_0x7d8f('0x16')][a68_0x7d8f('0x1a')](_0x14c266[a68_0x7d8f('0x4')],_0x45059f);if(!_0x228e43)throw new errors['DiscordError'](errors[a68_0x7d8f('0x49')][a68_0x7d8f('0x2d')],this[a68_0x7d8f('0x57')][a68_0x7d8f('0x1e')][a68_0x7d8f('0x3d')](_0x14c266[a68_0x7d8f('0x4')]['document'][a68_0x7d8f('0x1c')],a68_0x7d8f('0x4f'),'roleNotFound'));let _0x399844=await _0x228e43[a68_0x7d8f('0x1')]();if(!_0x399844&&_0x23449f[a68_0x7d8f('0x36')]){_0x399844=await _0x228e43[a68_0x7d8f('0x4d')]();}if(_0x23449f['emoji']){const _0xc40fa9=emojis[a68_0x7d8f('0x20')](_0x23449f[a68_0x7d8f('0x36')]);_0x399844['emoji']=_0xc40fa9[a68_0x7d8f('0x1f')];await _0x399844[a68_0x7d8f('0x14')]();}else if(_0x399844&&_0x23449f['emoji']===![]){_0x399844[a68_0x7d8f('0x36')]=undefined;await _0x399844[a68_0x7d8f('0x14')]();}const _0x3cb778=_0x399844?emojis[a68_0x7d8f('0x20')](_0x399844[a68_0x7d8f('0x36')]):undefined;return await _0x14c266[a68_0x7d8f('0x25')][a68_0x7d8f('0x26')]({'embed':{'color':_0x23449f[a68_0x7d8f('0x36')]?tesseract_1['Constants'][a68_0x7d8f('0x10')][a68_0x7d8f('0x1b')]:_0x23449f[a68_0x7d8f('0x36')]===![]?tesseract_1[a68_0x7d8f('0x48')]['COLORS'][a68_0x7d8f('0x18')]:tesseract_1['Constants'][a68_0x7d8f('0x10')][a68_0x7d8f('0x55')],'title':_0x23449f[a68_0x7d8f('0x36')]?'Role\x20Emoji\x20Added':_0x23449f[a68_0x7d8f('0x36')]===![]?a68_0x7d8f('0x7'):'Role\x20Emoji','fields':[{'name':'Role','value':_0x228e43[a68_0x7d8f('0x28')]||'-','inline':!![]},{'name':a68_0x7d8f('0x24'),'value':_0x3cb778?_0x3cb778[a68_0x7d8f('0x3')]===_0x3cb778[a68_0x7d8f('0x1f')]?_0x14c266[a68_0x7d8f('0x4')][a68_0x7d8f('0x2c')]['cache'][a68_0x7d8f('0x44')](_0x3cb778['reaction'])||_0x3cb778[a68_0x7d8f('0x1f')]:_0x3cb778[a68_0x7d8f('0x3')]:'-','inline':!![]}]}})[a68_0x7d8f('0x9')](()=>{});}const _0x3949e0=await ReactionRoleGroup_1['default'][a68_0x7d8f('0x5')]({});if(!_0x3949e0)throw new Error(a68_0x7d8f('0x52'));await _0x14c266[a68_0x7d8f('0x25')]['send']({'embed':{'title':'Reaction\x20Role\x20Groups','fields':_0x3949e0[a68_0x7d8f('0x58')](_0x548095=>({'name':_0x548095[a68_0x7d8f('0x5a')],'value':_0x548095['roles'][a68_0x7d8f('0xe')]+a68_0x7d8f('0x2b')+(_0x548095[a68_0x7d8f('0x19')]?a68_0x7d8f('0x5b'):'')+a68_0x7d8f('0x21')+_0x548095[a68_0x7d8f('0x4')]+'/'+_0x548095[a68_0x7d8f('0x25')]+'/'+_0x548095['_id']+')'}))}})[a68_0x7d8f('0x9')](()=>{});};}};