const a70_0x1a06=['map','@bastion/tesseract','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','MANAGE_ROLES','reactionRoles\x20--role\x20ROLE\x20--no-emoji','DiscordError','exec','exports','isPublicBastion','delete','fetchPremiumTier','locale','apply','tag','resolveRoles','url','emoji','membershipLimitReactionRoleGroups','deleteOne','resolver','save','default','document','emojis','react','info','test','roles','Command','REACTION_ROLES_PER_GROUP','find','author','exclusive','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','RED','PremiumTier','name','../../utils/constants','fetch','cache','send','getString','guild','reactionRolesGroupAdd','language','join','_id','LIMITS','messages','LIMITED_PREMIUM_MEMBERSHIP','MESSAGE_NOT_FOUND','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','PREMIUM_MEMBERSHIP_REQUIRED','../../utils/errors','Emoji','Role\x20Emoji','REACTION_ROLE_GROUPS','value','reactionRoles\x20--message\x20ID\x20--delete','../../models/ReactionRoleGroup','NO_REACTION_ROLES','COLORS','Role\x20Emoji\x20Added','BASTION_ERROR_TYPE','GOLD','return\x20/\x22\x20+\x20this\x20+\x20\x22/','parseEmoji','constructor','reaction','client','ROLE_NOT_FOUND','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','premiumReactionRoleGroups','roleNotFound','countDocuments','catch','\x20Roles','user','PLATINUM','message','length','channel','Role','errors','reactionRolesGroupRemove','role','reactionRoles','../../utils/emojis'];(function(_0x3b23fd,_0x1a067d){const _0x2113eb=function(_0x17ee18){while(--_0x17ee18){_0x3b23fd['push'](_0x3b23fd['shift']());}},_0x23874b=function(){const _0x51bce2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x314f15,_0x46cc59,_0x56b678,_0x26a756){_0x26a756=_0x26a756||{};let _0x263f21=_0x46cc59+'='+_0x56b678,_0x5dd5fd=0x0;for(let _0x458bcb=0x0,_0x347808=_0x314f15['length'];_0x458bcb<_0x347808;_0x458bcb++){const _0x2065c1=_0x314f15[_0x458bcb];_0x263f21+=';\x20'+_0x2065c1;const _0x9f1624=_0x314f15[_0x2065c1];_0x314f15['push'](_0x9f1624),_0x347808=_0x314f15['length'],_0x9f1624!==!![]&&(_0x263f21+='='+_0x9f1624);}_0x26a756['cookie']=_0x263f21;},'removeCookie':function(){return'dev';},'getCookie':function(_0xc5ff24,_0x5b5472){_0xc5ff24=_0xc5ff24||function(_0x3439c2){return _0x3439c2;};const _0x33993f=_0xc5ff24(new RegExp('(?:^|;\x20)'+_0x5b5472['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x12f568=function(_0x207979,_0x544235){_0x207979(++_0x544235);};return _0x12f568(_0x2113eb,_0x1a067d),_0x33993f?decodeURIComponent(_0x33993f[0x1]):undefined;}},_0x213ec5=function(){const _0x4098ec=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4098ec['test'](_0x51bce2['removeCookie']['toString']());};_0x51bce2['updateCookie']=_0x213ec5;let _0x3d9e5e='';const _0x451255=_0x51bce2['updateCookie']();if(!_0x451255)_0x51bce2['setCookie'](['*'],'counter',0x1);else _0x451255?_0x3d9e5e=_0x51bce2['getCookie'](null,'counter'):_0x51bce2['removeCookie']();};_0x23874b();}(a70_0x1a06,0x15c));const a70_0x2113=function(_0x3b23fd,_0x1a067d){_0x3b23fd=_0x3b23fd-0x0;let _0x2113eb=a70_0x1a06[_0x3b23fd];return _0x2113eb;};const a70_0x56b678=function(){let _0xc2ed6=!![];return function(_0x127bbd,_0x1e100){const _0x1e452d=_0xc2ed6?function(){if(_0x1e100){const _0x4785c8=_0x1e100[a70_0x2113('0x18')](_0x127bbd,arguments);return _0x1e100=null,_0x4785c8;}}:function(){};return _0xc2ed6=![],_0x1e452d;};}(),a70_0x46cc59=a70_0x56b678(this,function(){const _0xc49319=function(){const _0x373451=_0xc49319['constructor'](a70_0x2113('0x4f'))()[a70_0x2113('0x51')](a70_0x2113('0x2f'));return!_0x373451[a70_0x2113('0x26')](a70_0x46cc59);};return _0xc49319();});a70_0x46cc59();'use strict';const tesseract_1=require(a70_0x2113('0xd')),Role_1=require('../../models/Role'),ReactionRoleGroup_1=require(a70_0x2113('0x49')),constants=require(a70_0x2113('0x33')),emojis=require(a70_0x2113('0xb')),errors=require(a70_0x2113('0x43')),omnic=require('../../utils/omnic');module[a70_0x2113('0x13')]=class ReactionRolesCommand extends tesseract_1[a70_0x2113('0x28')]{constructor(){super(a70_0x2113('0xa'),{'description':'It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','triggers':[],'arguments':{'array':['role'],'boolean':[a70_0x2113('0x15'),'exclusive'],'string':['message',a70_0x2113('0x9'),'emoji']},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[a70_0x2113('0xf')],'syntax':[a70_0x2113('0xa'),a70_0x2113('0xe'),a70_0x2113('0x10'),a70_0x2113('0x2d'),a70_0x2113('0x41'),a70_0x2113('0x48')]}),this[a70_0x2113('0x12')]=async(_0x375094,_0xdd49ec)=>{if(_0xdd49ec[a70_0x2113('0x3')]&&_0xdd49ec[a70_0x2113('0x15')])return await ReactionRoleGroup_1[a70_0x2113('0x21')][a70_0x2113('0x1e')]({'_id':_0xdd49ec[a70_0x2113('0x3')]}),await _0x375094['channel'][a70_0x2113('0x36')]({'embed':{'color':tesseract_1[a70_0x2113('0x2e')][a70_0x2113('0x4b')][a70_0x2113('0x30')],'description':this[a70_0x2113('0x53')][a70_0x2113('0x17')][a70_0x2113('0x37')](_0x375094[a70_0x2113('0x38')][a70_0x2113('0x22')]['language'],a70_0x2113('0x25'),a70_0x2113('0x8'),_0x375094[a70_0x2113('0x2b')][a70_0x2113('0x19')],_0xdd49ec[a70_0x2113('0x3')])}})['catch'](()=>{});if(_0xdd49ec['message']&&_0xdd49ec['role']&&_0xdd49ec[a70_0x2113('0x9')][a70_0x2113('0x4')]){if(constants[a70_0x2113('0x14')](this[a70_0x2113('0x53')][a70_0x2113('0x1')])){const _0x2d5142=await omnic[a70_0x2113('0x16')](_0x375094[a70_0x2113('0x38')])[a70_0x2113('0x59')](()=>{});if(_0x2d5142){if(_0x2d5142===omnic['PremiumTier'][a70_0x2113('0x4e')]&&_0xdd49ec['role'][a70_0x2113('0x4')]>constants['LIMITS'][a70_0x2113('0x4e')]['REACTION_ROLES_PER_GROUP'])throw new errors[(a70_0x2113('0x11'))](errors[a70_0x2113('0x4d')][a70_0x2113('0x3f')],this['client'][a70_0x2113('0x17')]['getString'](_0x375094['guild'][a70_0x2113('0x22')][a70_0x2113('0x3a')],a70_0x2113('0x7'),'membershipLimitReactionRoleGroupRoles',constants[a70_0x2113('0x3d')][a70_0x2113('0x4e')][a70_0x2113('0x29')]));else{if(_0x2d5142===omnic[a70_0x2113('0x31')]['PLATINUM']&&_0xdd49ec['role'][a70_0x2113('0x4')]>constants['LIMITS']['PLATINUM'][a70_0x2113('0x29')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a70_0x2113('0x3f')],this[a70_0x2113('0x53')][a70_0x2113('0x17')][a70_0x2113('0x37')](_0x375094['guild'][a70_0x2113('0x22')]['language'],a70_0x2113('0x7'),'membershipLimitReactionRoleGroupRoles',constants['LIMITS'][a70_0x2113('0x2')][a70_0x2113('0x29')]));}}else{if(_0xdd49ec[a70_0x2113('0x9')][a70_0x2113('0x4')]>constants[a70_0x2113('0x3d')]['REACTION_ROLES_PER_GROUP'])throw new errors['DiscordError'](errors[a70_0x2113('0x4d')][a70_0x2113('0x42')],this['client'][a70_0x2113('0x17')]['getString'](_0x375094[a70_0x2113('0x38')][a70_0x2113('0x22')][a70_0x2113('0x3a')],a70_0x2113('0x7'),'premiumReactionRoleGroupRoles',constants[a70_0x2113('0x3d')]['REACTION_ROLES_PER_GROUP']));}const _0xbafab8=await ReactionRoleGroup_1['default'][a70_0x2113('0x58')]({'guild':_0x375094[a70_0x2113('0x38')]['id']});if(_0x2d5142){if(_0x2d5142===omnic['PremiumTier'][a70_0x2113('0x4e')]&&_0xbafab8>=constants[a70_0x2113('0x3d')]['GOLD'][a70_0x2113('0x46')])throw new errors[(a70_0x2113('0x11'))](errors[a70_0x2113('0x4d')][a70_0x2113('0x3f')],this[a70_0x2113('0x53')]['locale'][a70_0x2113('0x37')](_0x375094['guild']['document'][a70_0x2113('0x3a')],a70_0x2113('0x7'),a70_0x2113('0x1d'),constants[a70_0x2113('0x3d')][a70_0x2113('0x4e')]['REACTION_ROLE_GROUPS']));else{if(_0x2d5142===omnic['PremiumTier'][a70_0x2113('0x2')]&&_0xbafab8>=constants[a70_0x2113('0x3d')][a70_0x2113('0x2')]['REACTION_ROLE_GROUPS'])throw new errors[(a70_0x2113('0x11'))](errors[a70_0x2113('0x4d')][a70_0x2113('0x3f')],this[a70_0x2113('0x53')][a70_0x2113('0x17')][a70_0x2113('0x37')](_0x375094[a70_0x2113('0x38')][a70_0x2113('0x22')][a70_0x2113('0x3a')],a70_0x2113('0x7'),a70_0x2113('0x1d'),constants[a70_0x2113('0x3d')]['PLATINUM']['REACTION_ROLE_GROUPS']));}}else{if(_0xbafab8>=constants['LIMITS'][a70_0x2113('0x46')])throw new errors[(a70_0x2113('0x11'))](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this[a70_0x2113('0x53')][a70_0x2113('0x17')][a70_0x2113('0x37')](_0x375094['guild'][a70_0x2113('0x22')][a70_0x2113('0x3a')],a70_0x2113('0x7'),a70_0x2113('0x56'),constants['LIMITS'][a70_0x2113('0x46')]));}}const _0x1ff6da=await _0x375094[a70_0x2113('0x5')][a70_0x2113('0x3e')][a70_0x2113('0x34')](_0xdd49ec[a70_0x2113('0x3')],![])[a70_0x2113('0x59')](()=>{});if(!_0x1ff6da)throw new Error(a70_0x2113('0x40'));const _0x499d9c=this['client']['resolver'][a70_0x2113('0x1a')](_0x375094[a70_0x2113('0x38')],_0xdd49ec['role']);if(!_0x499d9c['length'])throw new errors[(a70_0x2113('0x11'))](errors[a70_0x2113('0x4d')][a70_0x2113('0x54')],this[a70_0x2113('0x53')]['locale'][a70_0x2113('0x37')](_0x375094[a70_0x2113('0x38')][a70_0x2113('0x22')][a70_0x2113('0x3a')],a70_0x2113('0x7'),a70_0x2113('0x57')));await ReactionRoleGroup_1[a70_0x2113('0x21')]['findByIdAndUpdate'](_0x1ff6da['id'],{'_id':_0x1ff6da['id'],'channel':_0x375094[a70_0x2113('0x5')]['id'],'guild':_0x375094[a70_0x2113('0x38')]['id'],'roles':_0x499d9c[a70_0x2113('0xc')](_0x2086ac=>_0x2086ac['id']),'exclusive':_0xdd49ec[a70_0x2113('0x2c')]?_0xdd49ec['exclusive']:undefined},{'upsert':!![]}),await _0x375094['channel'][a70_0x2113('0x36')]({'embed':{'color':tesseract_1[a70_0x2113('0x2e')][a70_0x2113('0x4b')]['GREEN'],'description':this[a70_0x2113('0x53')][a70_0x2113('0x17')][a70_0x2113('0x37')](_0x375094[a70_0x2113('0x38')][a70_0x2113('0x22')][a70_0x2113('0x3a')],a70_0x2113('0x25'),a70_0x2113('0x39'),_0x375094[a70_0x2113('0x2b')][a70_0x2113('0x19')],_0x1ff6da[a70_0x2113('0x1b')])}})['catch'](()=>{});const _0x141184=await Role_1[a70_0x2113('0x21')][a70_0x2113('0x2a')]({'$or':_0x499d9c[a70_0x2113('0xc')](_0x38ecc9=>({'_id':_0x38ecc9['id']})),'guild':_0x375094[a70_0x2113('0x38')]['id'],'emoji':{'$exists':!![]}});if(_0x141184&&_0x141184['length'])for(const _0x415515 of _0x141184){const _0x25d1c3=emojis['parseEmoji'](_0x415515['emoji']);await _0x1ff6da[a70_0x2113('0x24')](_0x25d1c3[a70_0x2113('0x52')]);}return;}if(_0xdd49ec[a70_0x2113('0x9')]){const _0xa9c84b=_0xdd49ec[a70_0x2113('0x9')]?_0xdd49ec[a70_0x2113('0x9')][a70_0x2113('0x3b')]('\x20'):'',_0x3d8678=this[a70_0x2113('0x53')][a70_0x2113('0x1f')]['resolveRole'](_0x375094[a70_0x2113('0x38')],_0xa9c84b);if(!_0x3d8678)throw new errors[(a70_0x2113('0x11'))](errors[a70_0x2113('0x4d')][a70_0x2113('0x54')],this[a70_0x2113('0x53')][a70_0x2113('0x17')][a70_0x2113('0x37')](_0x375094['guild'][a70_0x2113('0x22')]['language'],a70_0x2113('0x7'),a70_0x2113('0x57')));let _0x3f925b=await _0x3d8678['fetchDocument']();!_0x3f925b&&_0xdd49ec[a70_0x2113('0x1c')]&&(_0x3f925b=await _0x3d8678['createDocument']());if(_0xdd49ec[a70_0x2113('0x1c')]){const _0x106c4d=emojis[a70_0x2113('0x50')](_0xdd49ec['emoji']);_0x3f925b[a70_0x2113('0x1c')]=_0x106c4d[a70_0x2113('0x47')],await _0x3f925b['save']();}else _0x3f925b&&_0xdd49ec[a70_0x2113('0x1c')]===![]&&(_0x3f925b[a70_0x2113('0x1c')]=undefined,await _0x3f925b[a70_0x2113('0x20')]());const _0x99746e=_0x3f925b?emojis['parseEmoji'](_0x3f925b[a70_0x2113('0x1c')]):undefined;return await _0x375094['channel']['send']({'embed':{'color':_0xdd49ec[a70_0x2113('0x1c')]?tesseract_1[a70_0x2113('0x2e')]['COLORS']['GREEN']:_0xdd49ec[a70_0x2113('0x1c')]===![]?tesseract_1[a70_0x2113('0x2e')][a70_0x2113('0x4b')]['RED']:tesseract_1['Constants'][a70_0x2113('0x4b')]['IRIS'],'title':_0xdd49ec['emoji']?a70_0x2113('0x4c'):_0xdd49ec[a70_0x2113('0x1c')]===![]?'Role\x20Emoji\x20Removed':a70_0x2113('0x45'),'fields':[{'name':a70_0x2113('0x6'),'value':_0x3d8678[a70_0x2113('0x32')]||'-','inline':!![]},{'name':a70_0x2113('0x44'),'value':_0x99746e?_0x99746e[a70_0x2113('0x52')]===_0x99746e['value']?_0x375094['guild'][a70_0x2113('0x23')][a70_0x2113('0x35')]['get'](_0x99746e[a70_0x2113('0x52')])||_0x99746e['value']:_0x99746e[a70_0x2113('0x52')]:'-','inline':!![]}]}})[a70_0x2113('0x59')](()=>{});}const _0x5a3b98=await ReactionRoleGroup_1[a70_0x2113('0x21')]['find']({});if(!_0x5a3b98)throw new Error(a70_0x2113('0x4a'));await _0x375094['channel'][a70_0x2113('0x36')]({'embed':{'title':'Reaction\x20Role\x20Groups','fields':_0x5a3b98[a70_0x2113('0xc')](_0x150a4c=>({'name':_0x150a4c[a70_0x2113('0x3c')],'value':_0x150a4c[a70_0x2113('0x27')][a70_0x2113('0x4')]+a70_0x2113('0x0')+(_0x150a4c[a70_0x2113('0x2c')]?'\x20/\x20Exclusive':'')+a70_0x2113('0x55')+_0x150a4c[a70_0x2113('0x38')]+'/'+_0x150a4c[a70_0x2113('0x5')]+'/'+_0x150a4c[a70_0x2113('0x3c')]+')'}))}})[a70_0x2113('0x59')](()=>{});};}};