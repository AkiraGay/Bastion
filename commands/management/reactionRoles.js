const a67_0x591c=['membershipLimitReactionRoleGroups','errors','NO_REACTION_ROLES','../../utils/omnic','../../utils/errors','fetch','delete','reactionRoles\x20--message\x20ID\x20--delete','find','reactionRoles','client','Reaction\x20Role\x20Groups','message','exports','../../models/ReactionRoleGroup','parseEmoji','default','exec','Role\x20Emoji','premiumReactionRoleGroupRoles','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','@bastion/tesseract','REACTION_ROLES_PER_GROUP','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive','LIMITED_PREMIUM_MEMBERSHIP','_id','Emoji','RED','reaction','REACTION_ROLE_GROUPS','findByIdAndUpdate','PLATINUM','length','apply','role','return\x20/\x22\x20+\x20this\x20+\x20\x22/','BASTION_ERROR_TYPE','\x20Roles','fetchPremiumTier','reactionRolesGroupRemove','emoji','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','COLORS','Role','countDocuments','ROLE_NOT_FOUND','../../utils/constants','language','reactionRoles\x20--role\x20ROLE\x20--no-emoji','isPublicBastion','send','getString','channel','roleNotFound','exclusive','PREMIUM_MEMBERSHIP_REQUIRED','DiscordError','catch','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','user','LIMITS','premiumReactionRoleGroups','Constants','resolver','guild','test','GREEN','document','createDocument','author','save','resolveRoles','info','membershipLimitReactionRoleGroupRoles','get','GOLD','url','constructor','Role\x20Emoji\x20Added','react','Role\x20Emoji\x20Removed','PremiumTier','IRIS','name','map','reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI','value','MESSAGE_NOT_FOUND','locale','tag'];(function(_0x1297f4,_0x591cc3){const _0x59ccbb=function(_0x4fbd9d){while(--_0x4fbd9d){_0x1297f4['push'](_0x1297f4['shift']());}};const _0x1e5ebd=function(){const _0x3be105={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1c70a5,_0x4e4421,_0x5ab615,_0x2b3cbc){_0x2b3cbc=_0x2b3cbc||{};let _0x18974b=_0x4e4421+'='+_0x5ab615;let _0x47a988=0x0;for(let _0x32548d=0x0,_0x22a69d=_0x1c70a5['length'];_0x32548d<_0x22a69d;_0x32548d++){const _0x58e177=_0x1c70a5[_0x32548d];_0x18974b+=';\x20'+_0x58e177;const _0x113a49=_0x1c70a5[_0x58e177];_0x1c70a5['push'](_0x113a49);_0x22a69d=_0x1c70a5['length'];if(_0x113a49!==!![]){_0x18974b+='='+_0x113a49;}}_0x2b3cbc['cookie']=_0x18974b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x362258,_0x2d31df){_0x362258=_0x362258||function(_0x1e2c9d){return _0x1e2c9d;};const _0x4a07d8=_0x362258(new RegExp('(?:^|;\x20)'+_0x2d31df['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2bcfcd=function(_0x5312e5,_0x4f38c3){_0x5312e5(++_0x4f38c3);};_0x2bcfcd(_0x59ccbb,_0x591cc3);return _0x4a07d8?decodeURIComponent(_0x4a07d8[0x1]):undefined;}};const _0x5c8570=function(){const _0x17013f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x17013f['test'](_0x3be105['removeCookie']['toString']());};_0x3be105['updateCookie']=_0x5c8570;let _0x2763a1='';const _0x24773e=_0x3be105['updateCookie']();if(!_0x24773e){_0x3be105['setCookie'](['*'],'counter',0x1);}else if(_0x24773e){_0x2763a1=_0x3be105['getCookie'](null,'counter');}else{_0x3be105['removeCookie']();}};_0x1e5ebd();}(a67_0x591c,0xb2));const a67_0x59cc=function(_0x1297f4,_0x591cc3){_0x1297f4=_0x1297f4-0x0;let _0x59ccbb=a67_0x591c[_0x1297f4];return _0x59ccbb;};const a67_0x3be105=function(){let _0x37ab02=!![];return function(_0x473035,_0x47668f){const _0xe8c49a=_0x37ab02?function(){if(_0x47668f){const _0xe716d2=_0x47668f[a67_0x59cc('0x23')](_0x473035,arguments);_0x47668f=null;return _0xe716d2;}}:function(){};_0x37ab02=![];return _0xe8c49a;};}();const a67_0x4fbd9d=a67_0x3be105(this,function(){const _0x29283c=function(){const _0x20d011=_0x29283c[a67_0x59cc('0x4f')](a67_0x59cc('0x25'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x20d011[a67_0x59cc('0x43')](a67_0x4fbd9d);};return _0x29283c();});a67_0x4fbd9d();'use strict';const tesseract_1=require(a67_0x59cc('0x17'));const Role_1=require('../../models/Role');const ReactionRoleGroup_1=require(a67_0x59cc('0x10'));const constants=require(a67_0x59cc('0x30'));const emojis=require('../../utils/emojis');const errors=require(a67_0x59cc('0x6'));const omnic=require(a67_0x59cc('0x5'));module[a67_0x59cc('0xf')]=class ReactionRolesCommand extends tesseract_1['Command']{constructor(){super(a67_0x59cc('0xb'),{'description':a67_0x59cc('0x2b'),'triggers':[],'arguments':{'array':['role'],'boolean':[a67_0x59cc('0x8'),a67_0x59cc('0x38')],'string':[a67_0x59cc('0xe'),a67_0x59cc('0x24'),a67_0x59cc('0x2a')]},'scope':a67_0x59cc('0x42'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':['MANAGE_ROLES'],'syntax':[a67_0x59cc('0xb'),a67_0x59cc('0x57'),a67_0x59cc('0x32'),a67_0x59cc('0x3c'),a67_0x59cc('0x19'),a67_0x59cc('0x9')]});this[a67_0x59cc('0x13')]=async(_0x52d223,_0x3165c1)=>{if(_0x3165c1[a67_0x59cc('0xe')]&&_0x3165c1[a67_0x59cc('0x8')]){await ReactionRoleGroup_1[a67_0x59cc('0x12')]['deleteOne']({'_id':_0x3165c1[a67_0x59cc('0xe')]});return await _0x52d223['channel'][a67_0x59cc('0x34')]({'embed':{'color':tesseract_1[a67_0x59cc('0x40')][a67_0x59cc('0x2c')][a67_0x59cc('0x1d')],'description':this['client'][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')][a67_0x59cc('0x31')],a67_0x59cc('0x4a'),a67_0x59cc('0x29'),_0x52d223[a67_0x59cc('0x47')][a67_0x59cc('0x1')],_0x3165c1[a67_0x59cc('0xe')])}})['catch'](()=>{});}if(_0x3165c1['message']&&_0x3165c1['role']&&_0x3165c1[a67_0x59cc('0x24')][a67_0x59cc('0x22')]){if(constants[a67_0x59cc('0x33')](this[a67_0x59cc('0xc')][a67_0x59cc('0x3d')])){const _0x335892=await omnic[a67_0x59cc('0x28')](_0x52d223[a67_0x59cc('0x42')])['catch'](()=>{});if(_0x335892){if(_0x335892===omnic[a67_0x59cc('0x53')]['GOLD']&&_0x3165c1[a67_0x59cc('0x24')][a67_0x59cc('0x22')]>constants[a67_0x59cc('0x3e')]['GOLD'][a67_0x59cc('0x18')]){throw new errors['DiscordError'](errors[a67_0x59cc('0x26')][a67_0x59cc('0x1a')],this[a67_0x59cc('0xc')][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')]['language'],a67_0x59cc('0x3'),a67_0x59cc('0x4b'),constants[a67_0x59cc('0x3e')][a67_0x59cc('0x4d')]['REACTION_ROLES_PER_GROUP']));}else if(_0x335892===omnic[a67_0x59cc('0x53')][a67_0x59cc('0x21')]&&_0x3165c1[a67_0x59cc('0x24')][a67_0x59cc('0x22')]>constants['LIMITS'][a67_0x59cc('0x21')][a67_0x59cc('0x18')]){throw new errors[(a67_0x59cc('0x3a'))](errors['BASTION_ERROR_TYPE'][a67_0x59cc('0x1a')],this['client'][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')][a67_0x59cc('0x31')],a67_0x59cc('0x3'),a67_0x59cc('0x4b'),constants[a67_0x59cc('0x3e')][a67_0x59cc('0x21')][a67_0x59cc('0x18')]));}}else if(_0x3165c1[a67_0x59cc('0x24')][a67_0x59cc('0x22')]>constants[a67_0x59cc('0x3e')][a67_0x59cc('0x18')]){throw new errors[(a67_0x59cc('0x3a'))](errors['BASTION_ERROR_TYPE'][a67_0x59cc('0x39')],this[a67_0x59cc('0xc')]['locale']['getString'](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')][a67_0x59cc('0x31')],a67_0x59cc('0x3'),a67_0x59cc('0x15'),constants[a67_0x59cc('0x3e')]['REACTION_ROLES_PER_GROUP']));}const _0x2679d2=await ReactionRoleGroup_1[a67_0x59cc('0x12')][a67_0x59cc('0x2e')]({'guild':_0x52d223[a67_0x59cc('0x42')]['id']});if(_0x335892){if(_0x335892===omnic[a67_0x59cc('0x53')]['GOLD']&&_0x2679d2>=constants[a67_0x59cc('0x3e')]['GOLD'][a67_0x59cc('0x1f')]){throw new errors['DiscordError'](errors[a67_0x59cc('0x26')][a67_0x59cc('0x1a')],this[a67_0x59cc('0xc')][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')]['document']['language'],a67_0x59cc('0x3'),a67_0x59cc('0x2'),constants[a67_0x59cc('0x3e')][a67_0x59cc('0x4d')][a67_0x59cc('0x1f')]));}else if(_0x335892===omnic['PremiumTier'][a67_0x59cc('0x21')]&&_0x2679d2>=constants['LIMITS'][a67_0x59cc('0x21')][a67_0x59cc('0x1f')]){throw new errors[(a67_0x59cc('0x3a'))](errors[a67_0x59cc('0x26')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')][a67_0x59cc('0x31')],'errors',a67_0x59cc('0x2'),constants[a67_0x59cc('0x3e')][a67_0x59cc('0x21')]['REACTION_ROLE_GROUPS']));}}else if(_0x2679d2>=constants['LIMITS']['REACTION_ROLE_GROUPS']){throw new errors['DiscordError'](errors[a67_0x59cc('0x26')][a67_0x59cc('0x39')],this['client'][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')][a67_0x59cc('0x31')],a67_0x59cc('0x3'),a67_0x59cc('0x3f'),constants[a67_0x59cc('0x3e')][a67_0x59cc('0x1f')]));}}const _0x53ed73=await _0x52d223['channel']['messages'][a67_0x59cc('0x7')](_0x3165c1[a67_0x59cc('0xe')],![])[a67_0x59cc('0x3b')](()=>{});if(!_0x53ed73)throw new Error(a67_0x59cc('0x59'));const _0x2beb16=this[a67_0x59cc('0xc')]['resolver'][a67_0x59cc('0x49')](_0x52d223[a67_0x59cc('0x42')],_0x3165c1[a67_0x59cc('0x24')]);if(!_0x2beb16[a67_0x59cc('0x22')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a67_0x59cc('0x2f')],this[a67_0x59cc('0xc')][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223['guild']['document'][a67_0x59cc('0x31')],'errors','roleNotFound'));await ReactionRoleGroup_1['default'][a67_0x59cc('0x20')](_0x53ed73['id'],{'_id':_0x53ed73['id'],'channel':_0x52d223[a67_0x59cc('0x36')]['id'],'guild':_0x52d223['guild']['id'],'roles':_0x2beb16[a67_0x59cc('0x56')](_0x44f72b=>_0x44f72b['id']),'exclusive':_0x3165c1[a67_0x59cc('0x38')]?_0x3165c1[a67_0x59cc('0x38')]:undefined},{'upsert':!![]});await _0x52d223[a67_0x59cc('0x36')]['send']({'embed':{'color':tesseract_1[a67_0x59cc('0x40')][a67_0x59cc('0x2c')][a67_0x59cc('0x44')],'description':this[a67_0x59cc('0xc')][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')]['language'],a67_0x59cc('0x4a'),'reactionRolesGroupAdd',_0x52d223['author'][a67_0x59cc('0x1')],_0x53ed73[a67_0x59cc('0x4e')])}})[a67_0x59cc('0x3b')](()=>{});const _0x1b70d1=await Role_1['default']['find']({'$or':_0x2beb16['map'](_0x124c84=>({'_id':_0x124c84['id']})),'guild':_0x52d223[a67_0x59cc('0x42')]['id'],'emoji':{'$exists':!![]}});if(_0x1b70d1&&_0x1b70d1[a67_0x59cc('0x22')]){for(const _0x291522 of _0x1b70d1){const _0x3ec575=emojis[a67_0x59cc('0x11')](_0x291522['emoji']);await _0x53ed73[a67_0x59cc('0x51')](_0x3ec575[a67_0x59cc('0x1e')]);}}return;}if(_0x3165c1[a67_0x59cc('0x24')]){const _0xebb2c8=_0x3165c1['role']?_0x3165c1[a67_0x59cc('0x24')]['join']('\x20'):'';const _0x47e902=this['client'][a67_0x59cc('0x41')]['resolveRole'](_0x52d223[a67_0x59cc('0x42')],_0xebb2c8);if(!_0x47e902)throw new errors[(a67_0x59cc('0x3a'))](errors['BASTION_ERROR_TYPE']['ROLE_NOT_FOUND'],this['client'][a67_0x59cc('0x0')][a67_0x59cc('0x35')](_0x52d223[a67_0x59cc('0x42')][a67_0x59cc('0x45')][a67_0x59cc('0x31')],a67_0x59cc('0x3'),a67_0x59cc('0x37')));let _0xfb0dc4=await _0x47e902['fetchDocument']();if(!_0xfb0dc4&&_0x3165c1[a67_0x59cc('0x2a')]){_0xfb0dc4=await _0x47e902[a67_0x59cc('0x46')]();}if(_0x3165c1[a67_0x59cc('0x2a')]){const _0x4b8c5e=emojis[a67_0x59cc('0x11')](_0x3165c1['emoji']);_0xfb0dc4['emoji']=_0x4b8c5e[a67_0x59cc('0x58')];await _0xfb0dc4[a67_0x59cc('0x48')]();}else if(_0xfb0dc4&&_0x3165c1[a67_0x59cc('0x2a')]===![]){_0xfb0dc4[a67_0x59cc('0x2a')]=undefined;await _0xfb0dc4[a67_0x59cc('0x48')]();}const _0x1a9b08=_0xfb0dc4?emojis[a67_0x59cc('0x11')](_0xfb0dc4[a67_0x59cc('0x2a')]):undefined;return await _0x52d223[a67_0x59cc('0x36')][a67_0x59cc('0x34')]({'embed':{'color':_0x3165c1[a67_0x59cc('0x2a')]?tesseract_1[a67_0x59cc('0x40')][a67_0x59cc('0x2c')]['GREEN']:_0x3165c1['emoji']===![]?tesseract_1[a67_0x59cc('0x40')][a67_0x59cc('0x2c')][a67_0x59cc('0x1d')]:tesseract_1[a67_0x59cc('0x40')][a67_0x59cc('0x2c')][a67_0x59cc('0x54')],'title':_0x3165c1[a67_0x59cc('0x2a')]?a67_0x59cc('0x50'):_0x3165c1[a67_0x59cc('0x2a')]===![]?a67_0x59cc('0x52'):a67_0x59cc('0x14'),'fields':[{'name':a67_0x59cc('0x2d'),'value':_0x47e902[a67_0x59cc('0x55')]||'-','inline':!![]},{'name':a67_0x59cc('0x1c'),'value':_0x1a9b08?_0x1a9b08[a67_0x59cc('0x1e')]===_0x1a9b08[a67_0x59cc('0x58')]?_0x52d223[a67_0x59cc('0x42')]['emojis']['cache'][a67_0x59cc('0x4c')](_0x1a9b08[a67_0x59cc('0x1e')])||_0x1a9b08[a67_0x59cc('0x58')]:_0x1a9b08[a67_0x59cc('0x1e')]:'-','inline':!![]}]}})[a67_0x59cc('0x3b')](()=>{});}const _0x422a75=await ReactionRoleGroup_1['default'][a67_0x59cc('0xa')]({});if(!_0x422a75)throw new Error(a67_0x59cc('0x4'));await _0x52d223['channel'][a67_0x59cc('0x34')]({'embed':{'title':a67_0x59cc('0xd'),'fields':_0x422a75[a67_0x59cc('0x56')](_0x34d7f1=>({'name':_0x34d7f1['_id'],'value':_0x34d7f1['roles'][a67_0x59cc('0x22')]+a67_0x59cc('0x27')+(_0x34d7f1['exclusive']?'\x20/\x20Exclusive':'')+a67_0x59cc('0x16')+_0x34d7f1[a67_0x59cc('0x42')]+'/'+_0x34d7f1[a67_0x59cc('0x36')]+'/'+_0x34d7f1[a67_0x59cc('0x1b')]+')'}))}})[a67_0x59cc('0x3b')](()=>{});};}};