const a61_0x3823=['INVALID_COMMAND_SYNTAX','user','compile','membershipLimitGiveawayTimeout','fetchPremiumTier','PLATINUM','@bastion/tesseract','language','channel','BASTION_ERROR_TYPE','LIMITED_PREMIUM_MEMBERSHIP','DiscordError','default','length','../../models/Giveaway','\x20Winners\x20â€¢\x20Ends','defaultWinners','../../utils/omnic','return\x20/\x22\x20+\x20this\x20+\x20\x22/','IRIS','Constants','errors','GIVEAWAYS','MANAGE_CHANNELS','countDocuments','GIVEAWAY_TIMEOUT','GOLD','locale','getString','document','../../utils/errors','../../utils/numbers','timeout','client','PREMIUM_MEMBERSHIP_REQUIRED','clamp','number','catch','membershipLimitGiveaways','PremiumTier','defaultTimeout','constructor','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','premiumGiveaways','guild','exec','react','apply','LIMITS','\x20or\x20','COLORS','reactions','create','join','now','giveaway','premiumGiveawayTimeout'];(function(_0x40ab94,_0x382337){const _0x46b9da=function(_0x5992eb){while(--_0x5992eb){_0x40ab94['push'](_0x40ab94['shift']());}};const _0x6f236=function(){const _0x3da702={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1e947b,_0x2bc181,_0x489fc9,_0x4a4a22){_0x4a4a22=_0x4a4a22||{};let _0xc9fb0e=_0x2bc181+'='+_0x489fc9;let _0x5b8f6c=0x0;for(let _0x4d7fef=0x0,_0x233dfe=_0x1e947b['length'];_0x4d7fef<_0x233dfe;_0x4d7fef++){const _0x2cd70b=_0x1e947b[_0x4d7fef];_0xc9fb0e+=';\x20'+_0x2cd70b;const _0x3c76ce=_0x1e947b[_0x2cd70b];_0x1e947b['push'](_0x3c76ce);_0x233dfe=_0x1e947b['length'];if(_0x3c76ce!==!![]){_0xc9fb0e+='='+_0x3c76ce;}}_0x4a4a22['cookie']=_0xc9fb0e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4c7844,_0x5ddaac){_0x4c7844=_0x4c7844||function(_0x993a98){return _0x993a98;};const _0x34ae5f=_0x4c7844(new RegExp('(?:^|;\x20)'+_0x5ddaac['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x583772=function(_0x50819c,_0x564842){_0x50819c(++_0x564842);};_0x583772(_0x46b9da,_0x382337);return _0x34ae5f?decodeURIComponent(_0x34ae5f[0x1]):undefined;}};const _0x26b5ee=function(){const _0x5dd3cf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5dd3cf['test'](_0x3da702['removeCookie']['toString']());};_0x3da702['updateCookie']=_0x26b5ee;let _0x3e682e='';const _0xf05bd3=_0x3da702['updateCookie']();if(!_0xf05bd3){_0x3da702['setCookie'](['*'],'counter',0x1);}else if(_0xf05bd3){_0x3e682e=_0x3da702['getCookie'](null,'counter');}else{_0x3da702['removeCookie']();}};_0x6f236();}(a61_0x3823,0x173));const a61_0x46b9=function(_0x40ab94,_0x382337){_0x40ab94=_0x40ab94-0x0;let _0x46b9da=a61_0x3823[_0x40ab94];return _0x46b9da;};const a61_0x3da702=function(){let _0x47bf1e=!![];return function(_0x4479fb,_0x161cd4){const _0x295feb=_0x47bf1e?function(){if(_0x161cd4){const _0x273f68=_0x161cd4[a61_0x46b9('0x12')](_0x4479fb,arguments);_0x161cd4=null;return _0x273f68;}}:function(){};_0x47bf1e=![];return _0x295feb;};}();const a61_0x5992eb=a61_0x3da702(this,function(){const _0x41341f=function(){const _0x594da6=_0x41341f[a61_0x46b9('0xc')](a61_0x46b9('0x2e'))()[a61_0x46b9('0x1e')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x594da6['test'](a61_0x5992eb);};return _0x41341f();});a61_0x5992eb();'use strict';const tesseract_1=require(a61_0x46b9('0x22'));const Giveaway_1=require(a61_0x46b9('0x2a'));const constants=require('../../utils/constants');const errors=require(a61_0x46b9('0x1'));const numbers=require(a61_0x46b9('0x2'));const omnic=require(a61_0x46b9('0x2d'));module['exports']=class GiveawayCommand extends tesseract_1['Command']{constructor(){super(a61_0x46b9('0x1a'),{'description':'It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0x46b9('0x3'),'winners'],'coerce':{'timeout':_0x46d8c9=>typeof _0x46d8c9==='number'&&numbers['clamp'](_0x46d8c9,0x1,0x2d0),'winners':_0x31ac75=>typeof _0x31ac75===a61_0x46b9('0x7')&&Math['floor'](numbers[a61_0x46b9('0x6')](_0x31ac75,0x1,Number['MAX_SAFE_INTEGER']))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x46b9('0xf'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a61_0x46b9('0x33')],'syntax':['giveaway\x20--\x20ITEM','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM']});this[a61_0x46b9('0x10')]=async(_0x1ad493,_0x327344)=>{if(!_0x327344['_'][a61_0x46b9('0x29')])throw new errors['DiscordError'](errors[a61_0x46b9('0x25')][a61_0x46b9('0x1c')],this['name']);const _0x4d4b6b=_0x327344['_'][a61_0x46b9('0x18')]('\x20');const _0xc191b0=_0x327344[a61_0x46b9('0x3')]?_0x327344[a61_0x46b9('0x3')]:this['defaultTimeout'];const _0x3b7279=_0x327344['winners']?_0x327344['winners']:this['defaultWinners'];if(constants['isPublicBastion'](this[a61_0x46b9('0x4')][a61_0x46b9('0x1d')])){const _0x7f2895=await omnic[a61_0x46b9('0x20')](_0x1ad493[a61_0x46b9('0xf')])[a61_0x46b9('0x8')](()=>{});if(_0x7f2895){if(_0x7f2895===omnic['PremiumTier'][a61_0x46b9('0x36')]&&_0xc191b0>constants[a61_0x46b9('0x13')][a61_0x46b9('0x36')][a61_0x46b9('0x35')]){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a61_0x46b9('0x26')],this['client'][a61_0x46b9('0x37')]['getString'](_0x1ad493[a61_0x46b9('0xf')][a61_0x46b9('0x0')][a61_0x46b9('0x23')],a61_0x46b9('0x31'),a61_0x46b9('0x1f'),constants[a61_0x46b9('0x13')]['GOLD'][a61_0x46b9('0x35')]));}else if(_0x7f2895===omnic['PremiumTier'][a61_0x46b9('0x21')]&&_0xc191b0>constants['LIMITS'][a61_0x46b9('0x21')]['GIVEAWAY_TIMEOUT']){throw new errors['DiscordError'](errors[a61_0x46b9('0x25')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a61_0x46b9('0x4')][a61_0x46b9('0x37')][a61_0x46b9('0x38')](_0x1ad493[a61_0x46b9('0xf')]['document']['language'],a61_0x46b9('0x31'),a61_0x46b9('0x1f'),constants['LIMITS'][a61_0x46b9('0x21')][a61_0x46b9('0x35')]));}}else if(_0xc191b0>constants[a61_0x46b9('0x13')][a61_0x46b9('0x35')]){throw new errors['DiscordError'](errors[a61_0x46b9('0x25')][a61_0x46b9('0x5')],this[a61_0x46b9('0x4')][a61_0x46b9('0x37')][a61_0x46b9('0x38')](_0x1ad493[a61_0x46b9('0xf')]['document'][a61_0x46b9('0x23')],a61_0x46b9('0x31'),a61_0x46b9('0x1b'),constants[a61_0x46b9('0x13')][a61_0x46b9('0x35')]));}const _0x4459e7=await Giveaway_1[a61_0x46b9('0x28')][a61_0x46b9('0x34')]({'guild':_0x1ad493['guild']['id'],'ends':{'$gte':new Date()}});if(_0x7f2895){if(_0x7f2895===omnic[a61_0x46b9('0xa')]['GOLD']&&_0x4459e7>=constants[a61_0x46b9('0x13')][a61_0x46b9('0x36')][a61_0x46b9('0x32')]){throw new errors[(a61_0x46b9('0x27'))](errors[a61_0x46b9('0x25')][a61_0x46b9('0x26')],this[a61_0x46b9('0x4')][a61_0x46b9('0x37')]['getString'](_0x1ad493[a61_0x46b9('0xf')]['document'][a61_0x46b9('0x23')],a61_0x46b9('0x31'),a61_0x46b9('0x9'),constants[a61_0x46b9('0x13')][a61_0x46b9('0x36')][a61_0x46b9('0x32')]));}else if(_0x7f2895===omnic[a61_0x46b9('0xa')][a61_0x46b9('0x21')]&&_0x4459e7>=constants[a61_0x46b9('0x13')][a61_0x46b9('0x21')][a61_0x46b9('0x32')]){throw new errors[(a61_0x46b9('0x27'))](errors[a61_0x46b9('0x25')][a61_0x46b9('0x26')],this[a61_0x46b9('0x4')][a61_0x46b9('0x37')]['getString'](_0x1ad493[a61_0x46b9('0xf')][a61_0x46b9('0x0')]['language'],'errors',a61_0x46b9('0x9'),constants['LIMITS'][a61_0x46b9('0x21')][a61_0x46b9('0x32')]));}}else{throw new errors[(a61_0x46b9('0x27'))](errors[a61_0x46b9('0x25')][a61_0x46b9('0x5')],this[a61_0x46b9('0x4')][a61_0x46b9('0x37')][a61_0x46b9('0x38')](_0x1ad493[a61_0x46b9('0xf')][a61_0x46b9('0x0')]['language'],'errors',a61_0x46b9('0xe'),constants[a61_0x46b9('0x13')][a61_0x46b9('0x32')]));}}const _0x3ec05f=new Date(Date[a61_0x46b9('0x19')]()+_0xc191b0*0x36ee80);const _0x29251b=await _0x1ad493[a61_0x46b9('0x24')]['send']({'embed':{'color':tesseract_1[a61_0x46b9('0x30')][a61_0x46b9('0x15')][a61_0x46b9('0x2f')],'author':{'name':'GIVEAWAY!'},'title':_0x4d4b6b,'description':'React\x20to\x20this\x20message\x20with\x20'+this['reactions'][a61_0x46b9('0x18')](a61_0x46b9('0x14'))+a61_0x46b9('0xd'),'footer':{'text':_0x3b7279+a61_0x46b9('0x2b')},'timestamp':_0x3ec05f}});await Giveaway_1[a61_0x46b9('0x28')][a61_0x46b9('0x17')]({'_id':_0x29251b['id'],'channel':_0x29251b[a61_0x46b9('0x24')]['id'],'guild':_0x29251b['guild']['id'],'winners':_0x3b7279,'ends':_0x3ec05f});for(const _0x1e4836 of this['reactions']){await _0x29251b[a61_0x46b9('0x11')](_0x1e4836)[a61_0x46b9('0x8')](()=>{});}};this[a61_0x46b9('0x16')]=['ðŸŽŠ','ðŸŽ‰'];this[a61_0x46b9('0xb')]=0x3;this[a61_0x46b9('0x2c')]=0x1;}};