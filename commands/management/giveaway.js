const a61_0x3871=['errors','user','\x20or\x20','React\x20to\x20this\x20message\x20with\x20','../../models/Giveaway','isPublicBastion','catch','compile','LIMITS','MANAGE_CHANNELS','premiumGiveaways','clamp','getString','GIVEAWAYS','timeout','document','DiscordError','default','floor','GIVEAWAY_TIMEOUT','Constants','locale','defaultWinners','BASTION_ERROR_TYPE','LIMITED_PREMIUM_MEMBERSHIP','join','fetchPremiumTier','winners','PLATINUM','reactions','react','test','\x20Winners\x20â€¢\x20Ends','PremiumTier','premiumGiveawayTimeout','../../utils/numbers','language','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','COLORS','MAX_SAFE_INTEGER','create','length','send','exports','name','guild','membershipLimitGiveaways','IRIS','INVALID_COMMAND_SYNTAX','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','giveaway\x20--\x20ITEM','GOLD','client','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Command','channel','membershipLimitGiveawayTimeout','PREMIUM_MEMBERSHIP_REQUIRED','exec','defaultTimeout','@bastion/tesseract','number'];(function(_0x115248,_0x3871de){const _0x513ec5=function(_0x39bc63){while(--_0x39bc63){_0x115248['push'](_0x115248['shift']());}};const _0x57c936=function(){const _0x9e486a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5f48de,_0x1b9c99,_0x36b972,_0x206c85){_0x206c85=_0x206c85||{};let _0x3cf1aa=_0x1b9c99+'='+_0x36b972;let _0x41f918=0x0;for(let _0x4b0ef4=0x0,_0x56b419=_0x5f48de['length'];_0x4b0ef4<_0x56b419;_0x4b0ef4++){const _0x97d742=_0x5f48de[_0x4b0ef4];_0x3cf1aa+=';\x20'+_0x97d742;const _0x522284=_0x5f48de[_0x97d742];_0x5f48de['push'](_0x522284);_0x56b419=_0x5f48de['length'];if(_0x522284!==!![]){_0x3cf1aa+='='+_0x522284;}}_0x206c85['cookie']=_0x3cf1aa;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19e169,_0x29693d){_0x19e169=_0x19e169||function(_0x87d694){return _0x87d694;};const _0x4d5925=_0x19e169(new RegExp('(?:^|;\x20)'+_0x29693d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x30f837=function(_0x3f3939,_0x3bccbf){_0x3f3939(++_0x3bccbf);};_0x30f837(_0x513ec5,_0x3871de);return _0x4d5925?decodeURIComponent(_0x4d5925[0x1]):undefined;}};const _0x4ff354=function(){const _0x306475=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x306475['test'](_0x9e486a['removeCookie']['toString']());};_0x9e486a['updateCookie']=_0x4ff354;let _0x4814f3='';const _0x593f55=_0x9e486a['updateCookie']();if(!_0x593f55){_0x9e486a['setCookie'](['*'],'counter',0x1);}else if(_0x593f55){_0x4814f3=_0x9e486a['getCookie'](null,'counter');}else{_0x9e486a['removeCookie']();}};_0x57c936();}(a61_0x3871,0xac));const a61_0x513e=function(_0x115248,_0x3871de){_0x115248=_0x115248-0x0;let _0x513ec5=a61_0x3871[_0x115248];return _0x513ec5;};const a61_0x9e486a=function(){let _0x2b7536=!![];return function(_0x229794,_0x1fd3fa){const _0x50b39d=_0x2b7536?function(){if(_0x1fd3fa){const _0x573bc8=_0x1fd3fa['apply'](_0x229794,arguments);_0x1fd3fa=null;return _0x573bc8;}}:function(){};_0x2b7536=![];return _0x50b39d;};}();const a61_0x39bc63=a61_0x9e486a(this,function(){const _0x18bd58=function(){const _0x11e641=_0x18bd58['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a61_0x513e('0x15')](a61_0x513e('0x5'));return!_0x11e641[a61_0x513e('0x2d')](a61_0x39bc63);};return _0x18bd58();});a61_0x39bc63();'use strict';const tesseract_1=require(a61_0x513e('0xc'));const Giveaway_1=require(a61_0x513e('0x12'));const constants=require('../../utils/constants');const errors=require('../../utils/errors');const numbers=require(a61_0x513e('0x31'));const omnic=require('../../utils/omnic');module[a61_0x513e('0x39')]=class GiveawayCommand extends tesseract_1[a61_0x513e('0x6')]{constructor(){super('giveaway',{'description':a61_0x513e('0x1'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0x513e('0x1c'),a61_0x513e('0x29')],'coerce':{'timeout':_0x12219d=>typeof _0x12219d===a61_0x513e('0xd')&&numbers[a61_0x513e('0x19')](_0x12219d,0x1,0x2d0),'winners':_0x45de49=>typeof _0x45de49==='number'&&Math[a61_0x513e('0x20')](numbers[a61_0x513e('0x19')](_0x45de49,0x1,Number[a61_0x513e('0x35')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x513e('0x3b'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a61_0x513e('0x17')],'syntax':[a61_0x513e('0x2'),'giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM']});this[a61_0x513e('0xa')]=async(_0x527779,_0x4f6e36)=>{if(!_0x4f6e36['_'][a61_0x513e('0x37')])throw new errors['DiscordError'](errors[a61_0x513e('0x25')][a61_0x513e('0x0')],this[a61_0x513e('0x3a')]);const _0x4022cc=_0x4f6e36['_'][a61_0x513e('0x27')]('\x20');const _0x4a58d7=_0x4f6e36['timeout']?_0x4f6e36[a61_0x513e('0x1c')]:this[a61_0x513e('0xb')];const _0x2c1799=_0x4f6e36[a61_0x513e('0x29')]?_0x4f6e36[a61_0x513e('0x29')]:this[a61_0x513e('0x24')];if(constants[a61_0x513e('0x13')](this[a61_0x513e('0x4')][a61_0x513e('0xf')])){const _0x427131=await omnic[a61_0x513e('0x28')](_0x527779['guild'])['catch'](()=>{});if(_0x427131){if(_0x427131===omnic[a61_0x513e('0x2f')][a61_0x513e('0x3')]&&_0x4a58d7>constants[a61_0x513e('0x16')][a61_0x513e('0x3')][a61_0x513e('0x21')]){throw new errors['DiscordError'](errors[a61_0x513e('0x25')][a61_0x513e('0x26')],this[a61_0x513e('0x4')][a61_0x513e('0x23')][a61_0x513e('0x1a')](_0x527779[a61_0x513e('0x3b')][a61_0x513e('0x1d')]['language'],'errors',a61_0x513e('0x8'),constants['LIMITS'][a61_0x513e('0x3')]['GIVEAWAY_TIMEOUT']));}else if(_0x427131===omnic[a61_0x513e('0x2f')]['PLATINUM']&&_0x4a58d7>constants[a61_0x513e('0x16')][a61_0x513e('0x2a')][a61_0x513e('0x21')]){throw new errors[(a61_0x513e('0x1e'))](errors[a61_0x513e('0x25')][a61_0x513e('0x26')],this[a61_0x513e('0x4')][a61_0x513e('0x23')][a61_0x513e('0x1a')](_0x527779['guild'][a61_0x513e('0x1d')][a61_0x513e('0x32')],a61_0x513e('0xe'),'membershipLimitGiveawayTimeout',constants['LIMITS']['PLATINUM'][a61_0x513e('0x21')]));}}else if(_0x4a58d7>constants[a61_0x513e('0x16')][a61_0x513e('0x21')]){throw new errors[(a61_0x513e('0x1e'))](errors[a61_0x513e('0x25')][a61_0x513e('0x9')],this[a61_0x513e('0x4')]['locale']['getString'](_0x527779['guild'][a61_0x513e('0x1d')]['language'],'errors',a61_0x513e('0x30'),constants[a61_0x513e('0x16')][a61_0x513e('0x21')]));}const _0x17ddb9=await Giveaway_1[a61_0x513e('0x1f')]['countDocuments']({'guild':_0x527779[a61_0x513e('0x3b')]['id'],'ends':{'$gte':new Date()}});if(_0x427131){if(_0x427131===omnic['PremiumTier']['GOLD']&&_0x17ddb9>=constants['LIMITS'][a61_0x513e('0x3')][a61_0x513e('0x1b')]){throw new errors[(a61_0x513e('0x1e'))](errors[a61_0x513e('0x25')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a61_0x513e('0x4')][a61_0x513e('0x23')][a61_0x513e('0x1a')](_0x527779[a61_0x513e('0x3b')][a61_0x513e('0x1d')][a61_0x513e('0x32')],a61_0x513e('0xe'),a61_0x513e('0x3c'),constants[a61_0x513e('0x16')][a61_0x513e('0x3')]['GIVEAWAYS']));}else if(_0x427131===omnic['PremiumTier'][a61_0x513e('0x2a')]&&_0x17ddb9>=constants[a61_0x513e('0x16')][a61_0x513e('0x2a')][a61_0x513e('0x1b')]){throw new errors['DiscordError'](errors[a61_0x513e('0x25')][a61_0x513e('0x26')],this[a61_0x513e('0x4')][a61_0x513e('0x23')]['getString'](_0x527779['guild'][a61_0x513e('0x1d')][a61_0x513e('0x32')],a61_0x513e('0xe'),a61_0x513e('0x3c'),constants[a61_0x513e('0x16')][a61_0x513e('0x2a')][a61_0x513e('0x1b')]));}}else{throw new errors[(a61_0x513e('0x1e'))](errors[a61_0x513e('0x25')][a61_0x513e('0x9')],this[a61_0x513e('0x4')]['locale'][a61_0x513e('0x1a')](_0x527779[a61_0x513e('0x3b')]['document']['language'],a61_0x513e('0xe'),a61_0x513e('0x18'),constants[a61_0x513e('0x16')][a61_0x513e('0x1b')]));}}const _0x35c1f3=new Date(Date['now']()+_0x4a58d7*0x36ee80);const _0x4ace25=await _0x527779[a61_0x513e('0x7')][a61_0x513e('0x38')]({'embed':{'color':tesseract_1[a61_0x513e('0x22')][a61_0x513e('0x34')][a61_0x513e('0x3d')],'author':{'name':'GIVEAWAY!'},'title':_0x4022cc,'description':a61_0x513e('0x11')+this[a61_0x513e('0x2b')]['join'](a61_0x513e('0x10'))+a61_0x513e('0x33'),'footer':{'text':_0x2c1799+a61_0x513e('0x2e')},'timestamp':_0x35c1f3}});await Giveaway_1[a61_0x513e('0x1f')][a61_0x513e('0x36')]({'_id':_0x4ace25['id'],'channel':_0x4ace25[a61_0x513e('0x7')]['id'],'guild':_0x4ace25[a61_0x513e('0x3b')]['id'],'winners':_0x2c1799,'ends':_0x35c1f3});for(const _0x4edfe4 of this[a61_0x513e('0x2b')]){await _0x4ace25[a61_0x513e('0x2c')](_0x4edfe4)[a61_0x513e('0x14')](()=>{});}};this[a61_0x513e('0x2b')]=['ðŸŽŠ','ðŸŽ‰'];this[a61_0x513e('0xb')]=0x3;this[a61_0x513e('0x24')]=0x1;}};