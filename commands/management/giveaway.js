const a61_0x5bbb=['premiumGiveaways','timeout','channel','reactions','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getString','errors','react','giveaway\x20--\x20ITEM','length','join','GIVEAWAY_TIMEOUT','LIMITED_PREMIUM_MEMBERSHIP','../../utils/constants','language','Constants','../../utils/omnic','../../models/Giveaway','number','guild','test','../../utils/errors','premiumGiveawayTimeout','apply','defaultTimeout','clamp','catch','MANAGE_CHANNELS','PremiumTier','create','locale','exec','fetchPremiumTier','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','GOLD','membershipLimitGiveawayTimeout','document','LIMITS','client','exports','membershipLimitGiveaways','GIVEAWAY!','PLATINUM','isPublicBastion','default','PREMIUM_MEMBERSHIP_REQUIRED','now','COLORS','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','DiscordError','React\x20to\x20this\x20message\x20with\x20','defaultWinners','send','constructor','IRIS','floor','\x20Winners\x20â€¢\x20Ends','GIVEAWAYS','compile','BASTION_ERROR_TYPE','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','INVALID_COMMAND_SYNTAX','winners'];(function(_0x40677a,_0x5bbb29){const _0x166bb9=function(_0x3724c6){while(--_0x3724c6){_0x40677a['push'](_0x40677a['shift']());}};const _0x566769=function(){const _0x362e7b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1f8721,_0x3e1cf3,_0x1e5636,_0x334c21){_0x334c21=_0x334c21||{};let _0x5899c3=_0x3e1cf3+'='+_0x1e5636;let _0x221173=0x0;for(let _0xedde6=0x0,_0x115194=_0x1f8721['length'];_0xedde6<_0x115194;_0xedde6++){const _0x561948=_0x1f8721[_0xedde6];_0x5899c3+=';\x20'+_0x561948;const _0x37a9d6=_0x1f8721[_0x561948];_0x1f8721['push'](_0x37a9d6);_0x115194=_0x1f8721['length'];if(_0x37a9d6!==!![]){_0x5899c3+='='+_0x37a9d6;}}_0x334c21['cookie']=_0x5899c3;},'removeCookie':function(){return'dev';},'getCookie':function(_0xcb8d6f,_0x4fad0e){_0xcb8d6f=_0xcb8d6f||function(_0x45c9ed){return _0x45c9ed;};const _0x4f49db=_0xcb8d6f(new RegExp('(?:^|;\x20)'+_0x4fad0e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x474d4f=function(_0x3bd845,_0x456f7c){_0x3bd845(++_0x456f7c);};_0x474d4f(_0x166bb9,_0x5bbb29);return _0x4f49db?decodeURIComponent(_0x4f49db[0x1]):undefined;}};const _0xb0bbef=function(){const _0x1c0feb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1c0feb['test'](_0x362e7b['removeCookie']['toString']());};_0x362e7b['updateCookie']=_0xb0bbef;let _0x2fa8ba='';const _0xbd4a1a=_0x362e7b['updateCookie']();if(!_0xbd4a1a){_0x362e7b['setCookie'](['*'],'counter',0x1);}else if(_0xbd4a1a){_0x2fa8ba=_0x362e7b['getCookie'](null,'counter');}else{_0x362e7b['removeCookie']();}};_0x566769();}(a61_0x5bbb,0x74));const a61_0x166b=function(_0x40677a,_0x5bbb29){_0x40677a=_0x40677a-0x0;let _0x166bb9=a61_0x5bbb[_0x40677a];return _0x166bb9;};const a61_0x362e7b=function(){let _0x301070=!![];return function(_0x9f2771,_0x3ea870){const _0x4bf439=_0x301070?function(){if(_0x3ea870){const _0x353694=_0x3ea870[a61_0x166b('0x23')](_0x9f2771,arguments);_0x3ea870=null;return _0x353694;}}:function(){};_0x301070=![];return _0x4bf439;};}();const a61_0x3724c6=a61_0x362e7b(this,function(){const _0xb030d0=function(){const _0x139f27=_0xb030d0[a61_0x166b('0x1')](a61_0x166b('0x10'))()[a61_0x166b('0x6')](a61_0x166b('0x9'));return!_0x139f27[a61_0x166b('0x20')](a61_0x3724c6);};return _0xb030d0();});a61_0x3724c6();'use strict';const tesseract_1=require('@bastion/tesseract');const Giveaway_1=require(a61_0x166b('0x1d'));const constants=require(a61_0x166b('0x19'));const errors=require(a61_0x166b('0x21'));const numbers=require('../../utils/numbers');const omnic=require(a61_0x166b('0x1c'));module[a61_0x166b('0x33')]=class GiveawayCommand extends tesseract_1['Command']{constructor(){super('giveaway',{'description':a61_0x166b('0x8'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0x166b('0xd'),a61_0x166b('0xb')],'coerce':{'timeout':_0x3d4870=>typeof _0x3d4870===a61_0x166b('0x1e')&&numbers[a61_0x166b('0x25')](_0x3d4870,0x1,0x2d0),'winners':_0x21c5b8=>typeof _0x21c5b8===a61_0x166b('0x1e')&&Math[a61_0x166b('0x3')](numbers[a61_0x166b('0x25')](_0x21c5b8,0x1,Number['MAX_SAFE_INTEGER']))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x166b('0x1f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a61_0x166b('0x27')],'syntax':[a61_0x166b('0x14'),a61_0x166b('0x3c'),a61_0x166b('0x2d')]});this[a61_0x166b('0x2b')]=async(_0x11041b,_0xe97f10)=>{if(!_0xe97f10['_'][a61_0x166b('0x15')])throw new errors['DiscordError'](errors[a61_0x166b('0x7')][a61_0x166b('0xa')],this['name']);const _0x3557e9=_0xe97f10['_'][a61_0x166b('0x16')]('\x20');const _0x10396f=_0xe97f10['timeout']?_0xe97f10['timeout']:this[a61_0x166b('0x24')];const _0xf8eae0=_0xe97f10['winners']?_0xe97f10['winners']:this[a61_0x166b('0x3f')];if(constants[a61_0x166b('0x37')](this[a61_0x166b('0x32')]['user'])){const _0x36adda=await omnic[a61_0x166b('0x2c')](_0x11041b[a61_0x166b('0x1f')])['catch'](()=>{});if(_0x36adda){if(_0x36adda===omnic[a61_0x166b('0x28')][a61_0x166b('0x2e')]&&_0x10396f>constants[a61_0x166b('0x31')][a61_0x166b('0x2e')]['GIVEAWAY_TIMEOUT']){throw new errors[(a61_0x166b('0x3d'))](errors[a61_0x166b('0x7')][a61_0x166b('0x18')],this['client'][a61_0x166b('0x2a')][a61_0x166b('0x11')](_0x11041b[a61_0x166b('0x1f')][a61_0x166b('0x30')][a61_0x166b('0x1a')],a61_0x166b('0x12'),a61_0x166b('0x2f'),constants['LIMITS']['GOLD'][a61_0x166b('0x17')]));}else if(_0x36adda===omnic[a61_0x166b('0x28')][a61_0x166b('0x36')]&&_0x10396f>constants[a61_0x166b('0x31')][a61_0x166b('0x36')]['GIVEAWAY_TIMEOUT']){throw new errors['DiscordError'](errors[a61_0x166b('0x7')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a61_0x166b('0x32')][a61_0x166b('0x2a')][a61_0x166b('0x11')](_0x11041b[a61_0x166b('0x1f')][a61_0x166b('0x30')]['language'],a61_0x166b('0x12'),a61_0x166b('0x2f'),constants[a61_0x166b('0x31')]['PLATINUM']['GIVEAWAY_TIMEOUT']));}}else if(_0x10396f>constants[a61_0x166b('0x31')][a61_0x166b('0x17')]){throw new errors[(a61_0x166b('0x3d'))](errors[a61_0x166b('0x7')][a61_0x166b('0x39')],this['client']['locale'][a61_0x166b('0x11')](_0x11041b[a61_0x166b('0x1f')][a61_0x166b('0x30')][a61_0x166b('0x1a')],a61_0x166b('0x12'),a61_0x166b('0x22'),constants[a61_0x166b('0x31')][a61_0x166b('0x17')]));}const _0x47a15b=await Giveaway_1['default']['countDocuments']({'guild':_0x11041b[a61_0x166b('0x1f')]['id'],'ends':{'$gte':new Date()}});if(_0x36adda){if(_0x36adda===omnic['PremiumTier'][a61_0x166b('0x2e')]&&_0x47a15b>=constants[a61_0x166b('0x31')][a61_0x166b('0x2e')][a61_0x166b('0x5')]){throw new errors[(a61_0x166b('0x3d'))](errors[a61_0x166b('0x7')][a61_0x166b('0x18')],this[a61_0x166b('0x32')]['locale'][a61_0x166b('0x11')](_0x11041b[a61_0x166b('0x1f')][a61_0x166b('0x30')][a61_0x166b('0x1a')],'errors','membershipLimitGiveaways',constants[a61_0x166b('0x31')][a61_0x166b('0x2e')][a61_0x166b('0x5')]));}else if(_0x36adda===omnic['PremiumTier']['PLATINUM']&&_0x47a15b>=constants[a61_0x166b('0x31')][a61_0x166b('0x36')][a61_0x166b('0x5')]){throw new errors[(a61_0x166b('0x3d'))](errors['BASTION_ERROR_TYPE'][a61_0x166b('0x18')],this['client'][a61_0x166b('0x2a')][a61_0x166b('0x11')](_0x11041b[a61_0x166b('0x1f')][a61_0x166b('0x30')][a61_0x166b('0x1a')],'errors',a61_0x166b('0x34'),constants[a61_0x166b('0x31')][a61_0x166b('0x36')][a61_0x166b('0x5')]));}}else if(_0x47a15b>=constants[a61_0x166b('0x31')][a61_0x166b('0x5')]){throw new errors[(a61_0x166b('0x3d'))](errors[a61_0x166b('0x7')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a61_0x166b('0x32')]['locale']['getString'](_0x11041b[a61_0x166b('0x1f')][a61_0x166b('0x30')]['language'],a61_0x166b('0x12'),a61_0x166b('0xc'),constants['LIMITS'][a61_0x166b('0x5')]));}}const _0x56ce29=new Date(Date[a61_0x166b('0x3a')]()+_0x10396f*0x36ee80);const _0x2ec762=await _0x11041b[a61_0x166b('0xe')][a61_0x166b('0x0')]({'embed':{'color':tesseract_1[a61_0x166b('0x1b')][a61_0x166b('0x3b')][a61_0x166b('0x2')],'author':{'name':a61_0x166b('0x35')},'title':_0x3557e9,'description':a61_0x166b('0x3e')+this[a61_0x166b('0xf')][a61_0x166b('0x16')]('\x20or\x20')+'\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','footer':{'text':_0xf8eae0+a61_0x166b('0x4')},'timestamp':_0x56ce29}});await Giveaway_1[a61_0x166b('0x38')][a61_0x166b('0x29')]({'_id':_0x2ec762['id'],'channel':_0x2ec762[a61_0x166b('0xe')]['id'],'guild':_0x2ec762[a61_0x166b('0x1f')]['id'],'winners':_0xf8eae0,'ends':_0x56ce29});for(const _0x56f660 of this[a61_0x166b('0xf')]){await _0x2ec762[a61_0x166b('0x13')](_0x56f660)[a61_0x166b('0x26')](()=>{});}};this[a61_0x166b('0xf')]=['ðŸŽŠ','ðŸŽ‰'];this[a61_0x166b('0x24')]=0x3;this[a61_0x166b('0x3f')]=0x1;}};