const a61_0x20f7=['exec','user','GIVEAWAY_TIMEOUT','../../utils/numbers','send','BASTION_ERROR_TYPE','PremiumTier','GOLD','channel','language','membershipLimitGiveawayTimeout','getString','MAX_SAFE_INTEGER','floor','PREMIUM_MEMBERSHIP_REQUIRED','reactions','GIVEAWAYS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','Command','winners','Constants','../../utils/constants','\x20or\x20','errors','INVALID_COMMAND_SYNTAX','number','../../utils/omnic','isPublicBastion','test','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','DiscordError','create','guild','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','locale','premiumGiveawayTimeout','apply','../../models/Giveaway','giveaway\x20--\x20ITEM','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','length','LIMITED_PREMIUM_MEMBERSHIP','membershipLimitGiveaways','now','PLATINUM','fetchPremiumTier','exports','LIMITS','timeout','../../utils/errors','catch','document','join','defaultWinners','clamp','IRIS','client'];(function(_0x5481da,_0x20f7fb){const _0x482a41=function(_0x485fe7){while(--_0x485fe7){_0x5481da['push'](_0x5481da['shift']());}};const _0x21fd8f=function(){const _0x46bbd7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x537e56,_0x522876,_0x67ff09,_0x405092){_0x405092=_0x405092||{};let _0x5df682=_0x522876+'='+_0x67ff09;let _0x4cf531=0x0;for(let _0x1f9b20=0x0,_0x94fb27=_0x537e56['length'];_0x1f9b20<_0x94fb27;_0x1f9b20++){const _0x3a2486=_0x537e56[_0x1f9b20];_0x5df682+=';\x20'+_0x3a2486;const _0x730005=_0x537e56[_0x3a2486];_0x537e56['push'](_0x730005);_0x94fb27=_0x537e56['length'];if(_0x730005!==!![]){_0x5df682+='='+_0x730005;}}_0x405092['cookie']=_0x5df682;},'removeCookie':function(){return'dev';},'getCookie':function(_0x354821,_0x2139e2){_0x354821=_0x354821||function(_0x4c3710){return _0x4c3710;};const _0x57ffb6=_0x354821(new RegExp('(?:^|;\x20)'+_0x2139e2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5cc66f=function(_0x3de051,_0xd7fbe){_0x3de051(++_0xd7fbe);};_0x5cc66f(_0x482a41,_0x20f7fb);return _0x57ffb6?decodeURIComponent(_0x57ffb6[0x1]):undefined;}};const _0x21fe2c=function(){const _0x36124b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x36124b['test'](_0x46bbd7['removeCookie']['toString']());};_0x46bbd7['updateCookie']=_0x21fe2c;let _0x25c42e='';const _0x537077=_0x46bbd7['updateCookie']();if(!_0x537077){_0x46bbd7['setCookie'](['*'],'counter',0x1);}else if(_0x537077){_0x25c42e=_0x46bbd7['getCookie'](null,'counter');}else{_0x46bbd7['removeCookie']();}};_0x21fd8f();}(a61_0x20f7,0x1c7));const a61_0x482a=function(_0x5481da,_0x20f7fb){_0x5481da=_0x5481da-0x0;let _0x482a41=a61_0x20f7[_0x5481da];return _0x482a41;};const a61_0x46bbd7=function(){let _0x195412=!![];return function(_0x4a8d98,_0x3861c4){const _0x5f053f=_0x195412?function(){if(_0x3861c4){const _0x8b2434=_0x3861c4[a61_0x482a('0x2e')](_0x4a8d98,arguments);_0x3861c4=null;return _0x8b2434;}}:function(){};_0x195412=![];return _0x5f053f;};}();const a61_0x485fe7=a61_0x46bbd7(this,function(){const _0xe93605=function(){const _0x460134=_0xe93605['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a61_0x482a('0x1a'));return!_0x460134[a61_0x482a('0x26')](a61_0x485fe7);};return _0xe93605();});a61_0x485fe7();'use strict';const tesseract_1=require('@bastion/tesseract');const Giveaway_1=require(a61_0x482a('0x2f'));const constants=require(a61_0x482a('0x1f'));const errors=require(a61_0x482a('0x1'));const numbers=require(a61_0x482a('0xc'));const omnic=require(a61_0x482a('0x24'));module[a61_0x482a('0x38')]=class GiveawayCommand extends tesseract_1[a61_0x482a('0x1c')]{constructor(){super('giveaway',{'description':'It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':['timeout',a61_0x482a('0x1d')],'coerce':{'timeout':_0x56ef02=>typeof _0x56ef02===a61_0x482a('0x23')&&numbers[a61_0x482a('0x6')](_0x56ef02,0x1,0x2d0),'winners':_0x1221d1=>typeof _0x1221d1===a61_0x482a('0x23')&&Math[a61_0x482a('0x16')](numbers[a61_0x482a('0x6')](_0x1221d1,0x1,Number[a61_0x482a('0x15')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x482a('0x2a'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_CHANNELS'],'syntax':[a61_0x482a('0x30'),a61_0x482a('0x27'),a61_0x482a('0x2b')]});this[a61_0x482a('0x9')]=async(_0xd0bef7,_0x409c0e)=>{if(!_0x409c0e['_'][a61_0x482a('0x32')])throw new errors[(a61_0x482a('0x28'))](errors[a61_0x482a('0xe')][a61_0x482a('0x22')],this['name']);const _0x4639d3=_0x409c0e['_'][a61_0x482a('0x4')]('\x20');const _0x5e606e=_0x409c0e[a61_0x482a('0x0')]?_0x409c0e[a61_0x482a('0x0')]:this['defaultTimeout'];const _0x5a1468=_0x409c0e[a61_0x482a('0x1d')]?_0x409c0e[a61_0x482a('0x1d')]:this[a61_0x482a('0x5')];if(constants[a61_0x482a('0x25')](this[a61_0x482a('0x8')][a61_0x482a('0xa')])){const _0x400f39=await omnic[a61_0x482a('0x37')](_0xd0bef7[a61_0x482a('0x2a')])[a61_0x482a('0x2')](()=>{});if(_0x400f39){if(_0x400f39===omnic['PremiumTier'][a61_0x482a('0x10')]&&_0x5e606e>constants[a61_0x482a('0x39')]['GOLD']['GIVEAWAY_TIMEOUT']){throw new errors['DiscordError'](errors[a61_0x482a('0xe')][a61_0x482a('0x33')],this[a61_0x482a('0x8')][a61_0x482a('0x2c')][a61_0x482a('0x14')](_0xd0bef7['guild'][a61_0x482a('0x3')][a61_0x482a('0x12')],a61_0x482a('0x21'),a61_0x482a('0x13'),constants[a61_0x482a('0x39')]['GOLD']['GIVEAWAY_TIMEOUT']));}else if(_0x400f39===omnic[a61_0x482a('0xf')][a61_0x482a('0x36')]&&_0x5e606e>constants[a61_0x482a('0x39')]['PLATINUM'][a61_0x482a('0xb')]){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a61_0x482a('0x33')],this['client'][a61_0x482a('0x2c')]['getString'](_0xd0bef7[a61_0x482a('0x2a')][a61_0x482a('0x3')][a61_0x482a('0x12')],a61_0x482a('0x21'),a61_0x482a('0x13'),constants['LIMITS']['PLATINUM']['GIVEAWAY_TIMEOUT']));}}else if(_0x5e606e>constants[a61_0x482a('0x39')][a61_0x482a('0xb')]){throw new errors[(a61_0x482a('0x28'))](errors['BASTION_ERROR_TYPE'][a61_0x482a('0x17')],this[a61_0x482a('0x8')][a61_0x482a('0x2c')]['getString'](_0xd0bef7[a61_0x482a('0x2a')][a61_0x482a('0x3')][a61_0x482a('0x12')],'errors',a61_0x482a('0x2d'),constants[a61_0x482a('0x39')][a61_0x482a('0xb')]));}const _0x33fe8e=await Giveaway_1[a61_0x482a('0x1b')]['countDocuments']({'guild':_0xd0bef7[a61_0x482a('0x2a')]['id'],'ends':{'$gte':new Date()}});if(_0x400f39){if(_0x400f39===omnic['PremiumTier']['GOLD']&&_0x33fe8e>=constants['LIMITS'][a61_0x482a('0x10')][a61_0x482a('0x19')]){throw new errors[(a61_0x482a('0x28'))](errors[a61_0x482a('0xe')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a61_0x482a('0x2c')][a61_0x482a('0x14')](_0xd0bef7['guild'][a61_0x482a('0x3')]['language'],'errors',a61_0x482a('0x34'),constants[a61_0x482a('0x39')]['GOLD'][a61_0x482a('0x19')]));}else if(_0x400f39===omnic[a61_0x482a('0xf')][a61_0x482a('0x36')]&&_0x33fe8e>=constants['LIMITS']['PLATINUM']['GIVEAWAYS']){throw new errors[(a61_0x482a('0x28'))](errors[a61_0x482a('0xe')][a61_0x482a('0x33')],this[a61_0x482a('0x8')][a61_0x482a('0x2c')][a61_0x482a('0x14')](_0xd0bef7['guild'][a61_0x482a('0x3')][a61_0x482a('0x12')],'errors',a61_0x482a('0x34'),constants['LIMITS'][a61_0x482a('0x36')][a61_0x482a('0x19')]));}}else{throw new errors[(a61_0x482a('0x28'))](errors[a61_0x482a('0xe')][a61_0x482a('0x17')],this[a61_0x482a('0x8')]['locale'][a61_0x482a('0x14')](_0xd0bef7[a61_0x482a('0x2a')][a61_0x482a('0x3')]['language'],'errors','premiumGiveaways',constants[a61_0x482a('0x39')][a61_0x482a('0x19')]));}}const _0x33490f=new Date(Date[a61_0x482a('0x35')]()+_0x5e606e*0x36ee80);const _0xb067a1=await _0xd0bef7['channel'][a61_0x482a('0xd')]({'embed':{'color':tesseract_1[a61_0x482a('0x1e')]['COLORS'][a61_0x482a('0x7')],'author':{'name':'GIVEAWAY!'},'title':_0x4639d3,'description':'React\x20to\x20this\x20message\x20with\x20'+this[a61_0x482a('0x18')][a61_0x482a('0x4')](a61_0x482a('0x20'))+a61_0x482a('0x31'),'footer':{'text':_0x5a1468+'\x20Winners\x20â€¢\x20Ends'},'timestamp':_0x33490f}});await Giveaway_1[a61_0x482a('0x1b')][a61_0x482a('0x29')]({'_id':_0xb067a1['id'],'channel':_0xb067a1[a61_0x482a('0x11')]['id'],'guild':_0xb067a1['guild']['id'],'winners':_0x5a1468,'ends':_0x33490f});for(const _0x139423 of this['reactions']){await _0xb067a1['react'](_0x139423)[a61_0x482a('0x2')](()=>{});}};this['reactions']=['ðŸŽŠ','ðŸŽ‰'];this['defaultTimeout']=0x3;this['defaultWinners']=0x1;}};