const a62_0x5d2d=['giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','language','membershipLimitGiveaways','PREMIUM_MEMBERSHIP_REQUIRED','client','join','errors','user','membershipLimitGiveawayTimeout','BASTION_ERROR_TYPE','apply','exec','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','create','PLATINUM','COLORS','defaultWinners','reactions','winners','return\x20/\x22\x20+\x20this\x20+\x20\x22/','premiumGiveawayTimeout','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','giveaway\x20--\x20ITEM','locale','test','exports','Constants','document','Command','react','GOLD','LIMITED_PREMIUM_MEMBERSHIP','guild','\x20Winners\x20â€¢\x20Ends','../../utils/constants','INVALID_COMMAND_SYNTAX','GIVEAWAY!','../../models/Giveaway','floor','defaultTimeout','GIVEAWAYS','constructor','../../utils/omnic','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','number','now','getString','PremiumTier','timeout','isPublicBastion','catch','MANAGE_CHANNELS','clamp','name','default','GIVEAWAY_TIMEOUT','LIMITS','giveaway','DiscordError','channel'];(function(_0x32e473,_0x5d2de0){const _0x530b55=function(_0x3c2a5f){while(--_0x3c2a5f){_0x32e473['push'](_0x32e473['shift']());}},_0x7ae38c=function(){const _0x30191a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x13722b,_0x1d4b9f,_0x19d011,_0x53c360){_0x53c360=_0x53c360||{};let _0x212b79=_0x1d4b9f+'='+_0x19d011,_0x148fa4=0x0;for(let _0x3b68a6=0x0,_0x50171d=_0x13722b['length'];_0x3b68a6<_0x50171d;_0x3b68a6++){const _0x1a6943=_0x13722b[_0x3b68a6];_0x212b79+=';\x20'+_0x1a6943;const _0x6d6153=_0x13722b[_0x1a6943];_0x13722b['push'](_0x6d6153),_0x50171d=_0x13722b['length'],_0x6d6153!==!![]&&(_0x212b79+='='+_0x6d6153);}_0x53c360['cookie']=_0x212b79;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4db2b6,_0x12848d){_0x4db2b6=_0x4db2b6||function(_0x5d0c7c){return _0x5d0c7c;};const _0x2ef5ac=_0x4db2b6(new RegExp('(?:^|;\x20)'+_0x12848d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5e63d1=function(_0x35b2e1,_0x3019d3){_0x35b2e1(++_0x3019d3);};return _0x5e63d1(_0x530b55,_0x5d2de0),_0x2ef5ac?decodeURIComponent(_0x2ef5ac[0x1]):undefined;}},_0x2f8caf=function(){const _0x431e08=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x431e08['test'](_0x30191a['removeCookie']['toString']());};_0x30191a['updateCookie']=_0x2f8caf;let _0xb9c56e='';const _0x1b20c4=_0x30191a['updateCookie']();if(!_0x1b20c4)_0x30191a['setCookie'](['*'],'counter',0x1);else _0x1b20c4?_0xb9c56e=_0x30191a['getCookie'](null,'counter'):_0x30191a['removeCookie']();};_0x7ae38c();}(a62_0x5d2d,0x139));const a62_0x530b=function(_0x32e473,_0x5d2de0){_0x32e473=_0x32e473-0x0;let _0x530b55=a62_0x5d2d[_0x32e473];return _0x530b55;};const a62_0x19d011=function(){let _0x45472c=!![];return function(_0x206756,_0x21f1fd){const _0x56fa0b=_0x45472c?function(){if(_0x21f1fd){const _0x2cc759=_0x21f1fd[a62_0x530b('0x39')](_0x206756,arguments);return _0x21f1fd=null,_0x2cc759;}}:function(){};return _0x45472c=![],_0x56fa0b;};}(),a62_0x1d4b9f=a62_0x19d011(this,function(){const _0x36fbd5=function(){const _0x49f833=_0x36fbd5[a62_0x530b('0x1c')](a62_0x530b('0x6'))()['constructor'](a62_0x530b('0x1e'));return!_0x49f833[a62_0x530b('0xb')](a62_0x1d4b9f);};return _0x36fbd5();});a62_0x1d4b9f();'use strict';const tesseract_1=require('@bastion/tesseract'),Giveaway_1=require(a62_0x530b('0x18')),constants=require(a62_0x530b('0x15')),errors=require('../../utils/errors'),numbers=require('../../utils/numbers'),omnic=require(a62_0x530b('0x1d'));module[a62_0x530b('0xc')]=class GiveawayCommand extends tesseract_1[a62_0x530b('0xf')]{constructor(){super(a62_0x530b('0x2c'),{'description':a62_0x530b('0x3b'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a62_0x530b('0x23'),a62_0x530b('0x5')],'coerce':{'timeout':_0x2c802e=>typeof _0x2c802e===a62_0x530b('0x1f')&&numbers['clamp'](_0x2c802e,0x1,0x2d0),'winners':_0x4986c6=>typeof _0x4986c6===a62_0x530b('0x1f')&&Math[a62_0x530b('0x19')](numbers[a62_0x530b('0x27')](_0x4986c6,0x1,Number['MAX_SAFE_INTEGER']))},'default':{'timeout':0x3,'winners':0x1}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a62_0x530b('0x26')],'syntax':[a62_0x530b('0x9'),a62_0x530b('0x8'),a62_0x530b('0x2f')]}),this[a62_0x530b('0x3a')]=async(_0x646b89,_0x5d741e)=>{if(!_0x5d741e['_']['length'])throw new errors[(a62_0x530b('0x2d'))](errors[a62_0x530b('0x38')][a62_0x530b('0x16')],this[a62_0x530b('0x28')]);const _0x48e1e4=_0x5d741e['_'][a62_0x530b('0x34')]('\x20'),_0x29ddbc=_0x5d741e[a62_0x530b('0x23')]?_0x5d741e[a62_0x530b('0x23')]:this[a62_0x530b('0x1a')],_0x1696ff=_0x5d741e[a62_0x530b('0x5')]?_0x5d741e['winners']:this[a62_0x530b('0x3')];if(constants[a62_0x530b('0x24')](this[a62_0x530b('0x33')][a62_0x530b('0x36')])){const _0x3e6230=await omnic['fetchPremiumTier'](_0x646b89['guild'])[a62_0x530b('0x25')](()=>{});if(_0x3e6230){if(_0x3e6230===omnic[a62_0x530b('0x22')][a62_0x530b('0x11')]&&_0x29ddbc>constants['LIMITS'][a62_0x530b('0x11')][a62_0x530b('0x2a')])throw new errors[(a62_0x530b('0x2d'))](errors[a62_0x530b('0x38')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a62_0x530b('0x33')][a62_0x530b('0xa')][a62_0x530b('0x21')](_0x646b89[a62_0x530b('0x13')][a62_0x530b('0xe')][a62_0x530b('0x30')],a62_0x530b('0x35'),a62_0x530b('0x37'),constants['LIMITS']['GOLD'][a62_0x530b('0x2a')]));else{if(_0x3e6230===omnic[a62_0x530b('0x22')]['PLATINUM']&&_0x29ddbc>constants['LIMITS'][a62_0x530b('0x1')]['GIVEAWAY_TIMEOUT'])throw new errors[(a62_0x530b('0x2d'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a62_0x530b('0x33')][a62_0x530b('0xa')][a62_0x530b('0x21')](_0x646b89[a62_0x530b('0x13')][a62_0x530b('0xe')]['language'],a62_0x530b('0x35'),'membershipLimitGiveawayTimeout',constants[a62_0x530b('0x2b')][a62_0x530b('0x1')]['GIVEAWAY_TIMEOUT']));}}else{if(_0x29ddbc>constants['LIMITS']['GIVEAWAY_TIMEOUT'])throw new errors[(a62_0x530b('0x2d'))](errors[a62_0x530b('0x38')][a62_0x530b('0x32')],this[a62_0x530b('0x33')][a62_0x530b('0xa')][a62_0x530b('0x21')](_0x646b89[a62_0x530b('0x13')]['document'][a62_0x530b('0x30')],a62_0x530b('0x35'),a62_0x530b('0x7'),constants[a62_0x530b('0x2b')]['GIVEAWAY_TIMEOUT']));}const _0xff01aa=await Giveaway_1['default']['countDocuments']({'guild':_0x646b89[a62_0x530b('0x13')]['id'],'ends':{'$gte':new Date()}});if(_0x3e6230){if(_0x3e6230===omnic[a62_0x530b('0x22')][a62_0x530b('0x11')]&&_0xff01aa>=constants[a62_0x530b('0x2b')]['GOLD'][a62_0x530b('0x1b')])throw new errors[(a62_0x530b('0x2d'))](errors['BASTION_ERROR_TYPE'][a62_0x530b('0x12')],this[a62_0x530b('0x33')][a62_0x530b('0xa')]['getString'](_0x646b89[a62_0x530b('0x13')][a62_0x530b('0xe')]['language'],a62_0x530b('0x35'),a62_0x530b('0x31'),constants['LIMITS'][a62_0x530b('0x11')][a62_0x530b('0x1b')]));else{if(_0x3e6230===omnic[a62_0x530b('0x22')]['PLATINUM']&&_0xff01aa>=constants[a62_0x530b('0x2b')][a62_0x530b('0x1')][a62_0x530b('0x1b')])throw new errors[(a62_0x530b('0x2d'))](errors[a62_0x530b('0x38')][a62_0x530b('0x12')],this['client'][a62_0x530b('0xa')][a62_0x530b('0x21')](_0x646b89['guild']['document'][a62_0x530b('0x30')],a62_0x530b('0x35'),a62_0x530b('0x31'),constants[a62_0x530b('0x2b')]['PLATINUM'][a62_0x530b('0x1b')]));}}else{if(_0xff01aa>=constants[a62_0x530b('0x2b')]['GIVEAWAYS'])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this[a62_0x530b('0x33')][a62_0x530b('0xa')][a62_0x530b('0x21')](_0x646b89[a62_0x530b('0x13')][a62_0x530b('0xe')][a62_0x530b('0x30')],'errors','premiumGiveaways',constants[a62_0x530b('0x2b')][a62_0x530b('0x1b')]));}}const _0x36faf1=new Date(Date[a62_0x530b('0x20')]()+_0x29ddbc*0x36ee80),_0x82c2d2=await _0x646b89[a62_0x530b('0x2e')]['send']({'embed':{'color':tesseract_1[a62_0x530b('0xd')][a62_0x530b('0x2')]['IRIS'],'author':{'name':a62_0x530b('0x17')},'title':_0x48e1e4,'description':'React\x20to\x20this\x20message\x20with\x20'+this[a62_0x530b('0x4')]['join']('\x20or\x20')+'\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','footer':{'text':_0x1696ff+a62_0x530b('0x14')},'timestamp':_0x36faf1}});await Giveaway_1[a62_0x530b('0x29')][a62_0x530b('0x0')]({'_id':_0x82c2d2['id'],'channel':_0x82c2d2[a62_0x530b('0x2e')]['id'],'guild':_0x82c2d2[a62_0x530b('0x13')]['id'],'winners':_0x1696ff,'ends':_0x36faf1});for(const _0xf06c25 of this[a62_0x530b('0x4')]){await _0x82c2d2[a62_0x530b('0x10')](_0xf06c25)[a62_0x530b('0x25')](()=>{});}},this[a62_0x530b('0x4')]=['ðŸŽŠ','ðŸŽ‰'],this[a62_0x530b('0x1a')]=0x3,this[a62_0x530b('0x3')]=0x1;}};