const a61_0xb3d5=['@bastion/tesseract','exec','../../utils/numbers','GIVEAWAY!','channel','clamp','BASTION_ERROR_TYPE','language','react','PLATINUM','name','number','catch','join','defaultWinners','../../utils/omnic','React\x20to\x20this\x20message\x20with\x20','defaultTimeout','guild','test','client','winners','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','MAX_SAFE_INTEGER','../../utils/constants','PREMIUM_MEMBERSHIP_REQUIRED','constructor','floor','errors','exports','send','LIMITED_PREMIUM_MEMBERSHIP','Constants','\x20or\x20','reactions','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','membershipLimitGiveawayTimeout','isPublicBastion','create','membershipLimitGiveaways','GOLD','locale','timeout','GIVEAWAY_TIMEOUT','LIMITS','MANAGE_CHANNELS','../../models/Giveaway','DiscordError','GIVEAWAYS','countDocuments','COLORS','getString','\x20Winners\x20â€¢\x20Ends','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','default','giveaway\x20--\x20ITEM','compile','fetchPremiumTier','INVALID_COMMAND_SYNTAX','PremiumTier','document','Command'];(function(_0x2ee060,_0xb3d562){const _0xf4e1e5=function(_0x29f230){while(--_0x29f230){_0x2ee060['push'](_0x2ee060['shift']());}};const _0x50c6dd=function(){const _0x19894d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x543577,_0xf8beb9,_0x536add,_0x3662c7){_0x3662c7=_0x3662c7||{};let _0x1e7fb9=_0xf8beb9+'='+_0x536add;let _0x27a343=0x0;for(let _0x1fe616=0x0,_0x4e7714=_0x543577['length'];_0x1fe616<_0x4e7714;_0x1fe616++){const _0x3f8f4a=_0x543577[_0x1fe616];_0x1e7fb9+=';\x20'+_0x3f8f4a;const _0x2e4276=_0x543577[_0x3f8f4a];_0x543577['push'](_0x2e4276);_0x4e7714=_0x543577['length'];if(_0x2e4276!==!![]){_0x1e7fb9+='='+_0x2e4276;}}_0x3662c7['cookie']=_0x1e7fb9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1696d5,_0xd6e165){_0x1696d5=_0x1696d5||function(_0x2c451c){return _0x2c451c;};const _0x563c48=_0x1696d5(new RegExp('(?:^|;\x20)'+_0xd6e165['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x65bf7=function(_0x1c091c,_0x197362){_0x1c091c(++_0x197362);};_0x65bf7(_0xf4e1e5,_0xb3d562);return _0x563c48?decodeURIComponent(_0x563c48[0x1]):undefined;}};const _0x3eab36=function(){const _0x50df22=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x50df22['test'](_0x19894d['removeCookie']['toString']());};_0x19894d['updateCookie']=_0x3eab36;let _0x55fed1='';const _0x1abf85=_0x19894d['updateCookie']();if(!_0x1abf85){_0x19894d['setCookie'](['*'],'counter',0x1);}else if(_0x1abf85){_0x55fed1=_0x19894d['getCookie'](null,'counter');}else{_0x19894d['removeCookie']();}};_0x50c6dd();}(a61_0xb3d5,0x129));const a61_0xf4e1=function(_0x2ee060,_0xb3d562){_0x2ee060=_0x2ee060-0x0;let _0xf4e1e5=a61_0xb3d5[_0x2ee060];return _0xf4e1e5;};const a61_0x19894d=function(){let _0x1f71dc=!![];return function(_0xeb5fbb,_0xc24e1d){const _0x258596=_0x1f71dc?function(){if(_0xc24e1d){const _0x4dea21=_0xc24e1d['apply'](_0xeb5fbb,arguments);_0xc24e1d=null;return _0x4dea21;}}:function(){};_0x1f71dc=![];return _0x258596;};}();const a61_0x29f230=a61_0x19894d(this,function(){const _0x4daec4=function(){const _0x1832d3=_0x4daec4[a61_0xf4e1('0x2c')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a61_0xf4e1('0xc')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1832d3[a61_0xf4e1('0x25')](a61_0x29f230);};return _0x4daec4();});a61_0x29f230();'use strict';const tesseract_1=require(a61_0xf4e1('0x12'));const Giveaway_1=require(a61_0xf4e1('0x2'));const constants=require(a61_0xf4e1('0x2a'));const errors=require('../../utils/errors');const numbers=require(a61_0xf4e1('0x14'));const omnic=require(a61_0xf4e1('0x21'));module[a61_0xf4e1('0x2f')]=class GiveawayCommand extends tesseract_1[a61_0xf4e1('0x11')]{constructor(){super('giveaway',{'description':a61_0xf4e1('0x35'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0xf4e1('0x3d'),a61_0xf4e1('0x27')],'coerce':{'timeout':_0x52051c=>typeof _0x52051c===a61_0xf4e1('0x1d')&&numbers['clamp'](_0x52051c,0x1,0x2d0),'winners':_0x431bb5=>typeof _0x431bb5===a61_0xf4e1('0x1d')&&Math[a61_0xf4e1('0x2d')](numbers[a61_0xf4e1('0x17')](_0x431bb5,0x1,Number[a61_0xf4e1('0x29')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a61_0xf4e1('0x1')],'syntax':[a61_0xf4e1('0xb'),a61_0xf4e1('0x28'),a61_0xf4e1('0x36')]});this[a61_0xf4e1('0x13')]=async(_0x343990,_0x467836)=>{if(!_0x467836['_']['length'])throw new errors[(a61_0xf4e1('0x3'))](errors[a61_0xf4e1('0x18')][a61_0xf4e1('0xe')],this[a61_0xf4e1('0x1c')]);const _0x5641cf=_0x467836['_'][a61_0xf4e1('0x1f')]('\x20');const _0x4d55d0=_0x467836[a61_0xf4e1('0x3d')]?_0x467836[a61_0xf4e1('0x3d')]:this[a61_0xf4e1('0x23')];const _0x211253=_0x467836[a61_0xf4e1('0x27')]?_0x467836[a61_0xf4e1('0x27')]:this[a61_0xf4e1('0x20')];if(constants[a61_0xf4e1('0x38')](this['client']['user'])){const _0x296df2=await omnic[a61_0xf4e1('0xd')](_0x343990['guild'])[a61_0xf4e1('0x1e')](()=>{});if(_0x296df2){if(_0x296df2===omnic['PremiumTier'][a61_0xf4e1('0x3b')]&&_0x4d55d0>constants[a61_0xf4e1('0x0')][a61_0xf4e1('0x3b')][a61_0xf4e1('0x3e')]){throw new errors[(a61_0xf4e1('0x3'))](errors[a61_0xf4e1('0x18')][a61_0xf4e1('0x31')],this[a61_0xf4e1('0x26')]['locale']['getString'](_0x343990['guild'][a61_0xf4e1('0x10')]['language'],a61_0xf4e1('0x2e'),'membershipLimitGiveawayTimeout',constants['LIMITS'][a61_0xf4e1('0x3b')]['GIVEAWAY_TIMEOUT']));}else if(_0x296df2===omnic[a61_0xf4e1('0xf')][a61_0xf4e1('0x1b')]&&_0x4d55d0>constants[a61_0xf4e1('0x0')][a61_0xf4e1('0x1b')][a61_0xf4e1('0x3e')]){throw new errors[(a61_0xf4e1('0x3'))](errors[a61_0xf4e1('0x18')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a61_0xf4e1('0x26')][a61_0xf4e1('0x3c')][a61_0xf4e1('0x7')](_0x343990['guild'][a61_0xf4e1('0x10')][a61_0xf4e1('0x19')],'errors',a61_0xf4e1('0x37'),constants[a61_0xf4e1('0x0')]['PLATINUM'][a61_0xf4e1('0x3e')]));}}else if(_0x4d55d0>constants['LIMITS'][a61_0xf4e1('0x3e')]){throw new errors[(a61_0xf4e1('0x3'))](errors[a61_0xf4e1('0x18')][a61_0xf4e1('0x2b')],this[a61_0xf4e1('0x26')][a61_0xf4e1('0x3c')][a61_0xf4e1('0x7')](_0x343990[a61_0xf4e1('0x24')][a61_0xf4e1('0x10')][a61_0xf4e1('0x19')],a61_0xf4e1('0x2e'),'premiumGiveawayTimeout',constants['LIMITS']['GIVEAWAY_TIMEOUT']));}const _0x42d0ce=await Giveaway_1[a61_0xf4e1('0xa')][a61_0xf4e1('0x5')]({'guild':_0x343990[a61_0xf4e1('0x24')]['id'],'ends':{'$gte':new Date()}});if(_0x296df2){if(_0x296df2===omnic[a61_0xf4e1('0xf')][a61_0xf4e1('0x3b')]&&_0x42d0ce>=constants[a61_0xf4e1('0x0')][a61_0xf4e1('0x3b')]['GIVEAWAYS']){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a61_0xf4e1('0x31')],this['client'][a61_0xf4e1('0x3c')][a61_0xf4e1('0x7')](_0x343990[a61_0xf4e1('0x24')]['document'][a61_0xf4e1('0x19')],a61_0xf4e1('0x2e'),a61_0xf4e1('0x3a'),constants['LIMITS'][a61_0xf4e1('0x3b')]['GIVEAWAYS']));}else if(_0x296df2===omnic[a61_0xf4e1('0xf')][a61_0xf4e1('0x1b')]&&_0x42d0ce>=constants['LIMITS']['PLATINUM'][a61_0xf4e1('0x4')]){throw new errors[(a61_0xf4e1('0x3'))](errors[a61_0xf4e1('0x18')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a61_0xf4e1('0x26')]['locale'][a61_0xf4e1('0x7')](_0x343990[a61_0xf4e1('0x24')]['document'][a61_0xf4e1('0x19')],a61_0xf4e1('0x2e'),a61_0xf4e1('0x3a'),constants['LIMITS'][a61_0xf4e1('0x1b')][a61_0xf4e1('0x4')]));}}else{throw new errors[(a61_0xf4e1('0x3'))](errors[a61_0xf4e1('0x18')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a61_0xf4e1('0x26')][a61_0xf4e1('0x3c')][a61_0xf4e1('0x7')](_0x343990['guild'][a61_0xf4e1('0x10')][a61_0xf4e1('0x19')],'errors','premiumGiveaways',constants[a61_0xf4e1('0x0')]['GIVEAWAYS']));}}const _0x9bb656=new Date(Date['now']()+_0x4d55d0*0x36ee80);const _0x362eca=await _0x343990['channel'][a61_0xf4e1('0x30')]({'embed':{'color':tesseract_1[a61_0xf4e1('0x32')][a61_0xf4e1('0x6')]['IRIS'],'author':{'name':a61_0xf4e1('0x15')},'title':_0x5641cf,'description':a61_0xf4e1('0x22')+this[a61_0xf4e1('0x34')][a61_0xf4e1('0x1f')](a61_0xf4e1('0x33'))+a61_0xf4e1('0x9'),'footer':{'text':_0x211253+a61_0xf4e1('0x8')},'timestamp':_0x9bb656}});await Giveaway_1[a61_0xf4e1('0xa')][a61_0xf4e1('0x39')]({'_id':_0x362eca['id'],'channel':_0x362eca[a61_0xf4e1('0x16')]['id'],'guild':_0x362eca['guild']['id'],'winners':_0x211253,'ends':_0x9bb656});for(const _0x599db6 of this[a61_0xf4e1('0x34')]){await _0x362eca[a61_0xf4e1('0x1a')](_0x599db6)[a61_0xf4e1('0x1e')](()=>{});}};this[a61_0xf4e1('0x34')]=['ðŸŽŠ','ðŸŽ‰'];this['defaultTimeout']=0x3;this['defaultWinners']=0x1;}};