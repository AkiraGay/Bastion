const a75_0x276d=['exports','reactions','errors','name','MAX_SAFE_INTEGER','Command','premiumGiveaways','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','../../models/Giveaway','GOLD','GIVEAWAYS','fetchPremiumTier','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../utils/errors','PREMIUM_MEMBERSHIP_REQUIRED','defaultTimeout','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','winners','../../utils/constants','guild','LIMITED_PREMIUM_MEMBERSHIP','constructor','React\x20to\x20this\x20message\x20with\x20','isPublicBastion','membershipLimitGiveaways','locale','exec','language','giveaway','../../utils/numbers','BASTION_ERROR_TYPE','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','floor','PLATINUM','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','getString','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','Constants','GIVEAWAY_TIMEOUT','LIMITS','default','IRIS','defaultWinners','PremiumTier','INVALID_COMMAND_SYNTAX','catch','document','timeout','test','client','MANAGE_CHANNELS','create','react','membershipLimitGiveawayTimeout','giveaway\x20--\x20ITEM','send','join','premiumGiveawayTimeout','@bastion/tesseract','number','channel','../../utils/omnic','DiscordError','apply','clamp'];(function(_0x3cd5a3,_0x276df7){const _0xdc5e5b=function(_0xe271e4){while(--_0xe271e4){_0x3cd5a3['push'](_0x3cd5a3['shift']());}},_0x367b62=function(){const _0x40ca3a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x41ccb6,_0x1f374a,_0x39c0d8,_0x338e4e){_0x338e4e=_0x338e4e||{};let _0x4cd175=_0x1f374a+'='+_0x39c0d8,_0x217eab=0x0;for(let _0x5b4cd9=0x0,_0x336d18=_0x41ccb6['length'];_0x5b4cd9<_0x336d18;_0x5b4cd9++){const _0x2e1077=_0x41ccb6[_0x5b4cd9];_0x4cd175+=';\x20'+_0x2e1077;const _0x341766=_0x41ccb6[_0x2e1077];_0x41ccb6['push'](_0x341766),_0x336d18=_0x41ccb6['length'],_0x341766!==!![]&&(_0x4cd175+='='+_0x341766);}_0x338e4e['cookie']=_0x4cd175;},'removeCookie':function(){return'dev';},'getCookie':function(_0xfe2d8a,_0x4708e9){_0xfe2d8a=_0xfe2d8a||function(_0x458720){return _0x458720;};const _0x53a9a9=_0xfe2d8a(new RegExp('(?:^|;\x20)'+_0x4708e9['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xf90e38=function(_0x1f10ab,_0x4be4a2){_0x1f10ab(++_0x4be4a2);};return _0xf90e38(_0xdc5e5b,_0x276df7),_0x53a9a9?decodeURIComponent(_0x53a9a9[0x1]):undefined;}},_0x57257d=function(){const _0x220375=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x220375['test'](_0x40ca3a['removeCookie']['toString']());};_0x40ca3a['updateCookie']=_0x57257d;let _0x4cf486='';const _0x1ff76a=_0x40ca3a['updateCookie']();if(!_0x1ff76a)_0x40ca3a['setCookie'](['*'],'counter',0x1);else _0x1ff76a?_0x4cf486=_0x40ca3a['getCookie'](null,'counter'):_0x40ca3a['removeCookie']();};_0x367b62();}(a75_0x276d,0x169));const a75_0xdc5e=function(_0x3cd5a3,_0x276df7){_0x3cd5a3=_0x3cd5a3-0x0;let _0xdc5e5b=a75_0x276d[_0x3cd5a3];return _0xdc5e5b;};const _0x379e37=a75_0xdc5e,a75_0x40ca3a=function(){let _0x4cf486=!![];return function(_0x1ff76a,_0x41ccb6){const _0x1f374a=_0x4cf486?function(){const _0x914e8b=a75_0xdc5e;if(_0x41ccb6){const _0x39c0d8=_0x41ccb6[_0x914e8b('0x1b')](_0x1ff76a,arguments);return _0x41ccb6=null,_0x39c0d8;}}:function(){};return _0x4cf486=![],_0x1f374a;};}(),a75_0xe271e4=a75_0x40ca3a(this,function(){const _0x338e4e=function(){const _0x393e2a=a75_0xdc5e,_0x4cd175=_0x338e4e[_0x393e2a('0x32')](_0x393e2a('0x29'))()[_0x393e2a('0x32')](_0x393e2a('0x3c'));return!_0x4cd175[_0x393e2a('0xc')](a75_0xe271e4);};return _0x338e4e();});a75_0xe271e4();'use strict';const tesseract_1=require(_0x379e37('0x16')),Giveaway_1=require(_0x379e37('0x25')),constants=require(_0x379e37('0x2f')),errors=require(_0x379e37('0x2a')),numbers=require(_0x379e37('0x3a')),omnic=require(_0x379e37('0x19'));module[_0x379e37('0x1d')]=class GiveawayCommand extends tesseract_1[_0x379e37('0x22')]{constructor(){const _0x1a6790=_0x379e37;super(_0x1a6790('0x39'),{'description':_0x1a6790('0x3f'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[_0x1a6790('0xb'),_0x1a6790('0x2e')],'coerce':{'timeout':_0x217eab=>typeof _0x217eab===_0x1a6790('0x17')&&numbers[_0x1a6790('0x1c')](_0x217eab,0x1,0x2d0),'winners':_0x5b4cd9=>typeof _0x5b4cd9===_0x1a6790('0x17')&&Math[_0x1a6790('0x3d')](numbers[_0x1a6790('0x1c')](_0x5b4cd9,0x1,Number[_0x1a6790('0x21')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x1a6790('0x30'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x1a6790('0xe')],'syntax':[_0x1a6790('0x12'),_0x1a6790('0x0'),_0x1a6790('0x24')]}),this[_0x1a6790('0x37')]=async(_0x336d18,_0x2e1077)=>{const _0x277779=_0x1a6790;if(!_0x2e1077['_']['length'])throw new errors['DiscordError'](errors[_0x277779('0x3b')][_0x277779('0x8')],this[_0x277779('0x20')]);const _0x341766=_0x2e1077['_']['join']('\x20'),_0xfe2d8a=_0x2e1077[_0x277779('0xb')]?_0x2e1077[_0x277779('0xb')]:this['defaultTimeout'],_0x4708e9=_0x2e1077[_0x277779('0x2e')]?_0x2e1077[_0x277779('0x2e')]:this[_0x277779('0x6')];if(constants[_0x277779('0x34')](this[_0x277779('0xd')]['user'])){const _0x458720=await omnic[_0x277779('0x28')](_0x336d18[_0x277779('0x30')])[_0x277779('0x9')](()=>{});if(_0x458720){if(_0x458720===omnic[_0x277779('0x7')][_0x277779('0x26')]&&_0xfe2d8a>constants[_0x277779('0x3')][_0x277779('0x26')][_0x277779('0x2')])throw new errors[(_0x277779('0x1a'))](errors[_0x277779('0x3b')]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x277779('0xd')][_0x277779('0x36')][_0x277779('0x40')](_0x336d18[_0x277779('0x30')][_0x277779('0xa')][_0x277779('0x38')],_0x277779('0x1f'),_0x277779('0x11'),constants[_0x277779('0x3')][_0x277779('0x26')][_0x277779('0x2')]));else{if(_0x458720===omnic[_0x277779('0x7')][_0x277779('0x3e')]&&_0xfe2d8a>constants[_0x277779('0x3')][_0x277779('0x3e')]['GIVEAWAY_TIMEOUT'])throw new errors[(_0x277779('0x1a'))](errors[_0x277779('0x3b')][_0x277779('0x31')],this['client'][_0x277779('0x36')][_0x277779('0x40')](_0x336d18['guild'][_0x277779('0xa')][_0x277779('0x38')],'errors',_0x277779('0x11'),constants['LIMITS'][_0x277779('0x3e')][_0x277779('0x2')]));}}else{if(_0xfe2d8a>constants['LIMITS'][_0x277779('0x2')])throw new errors[(_0x277779('0x1a'))](errors[_0x277779('0x3b')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x277779('0xd')][_0x277779('0x36')]['getString'](_0x336d18[_0x277779('0x30')][_0x277779('0xa')]['language'],_0x277779('0x1f'),_0x277779('0x15'),constants['LIMITS']['GIVEAWAY_TIMEOUT']));}const _0x1f10ab=await Giveaway_1[_0x277779('0x4')]['countDocuments']({'guild':_0x336d18['guild']['id'],'ends':{'$gte':new Date()}});if(_0x458720){if(_0x458720===omnic[_0x277779('0x7')][_0x277779('0x26')]&&_0x1f10ab>=constants[_0x277779('0x3')]['GOLD'][_0x277779('0x27')])throw new errors[(_0x277779('0x1a'))](errors['BASTION_ERROR_TYPE'][_0x277779('0x31')],this[_0x277779('0xd')][_0x277779('0x36')][_0x277779('0x40')](_0x336d18[_0x277779('0x30')][_0x277779('0xa')][_0x277779('0x38')],'errors',_0x277779('0x35'),constants[_0x277779('0x3')][_0x277779('0x26')]['GIVEAWAYS']));else{if(_0x458720===omnic[_0x277779('0x7')]['PLATINUM']&&_0x1f10ab>=constants[_0x277779('0x3')]['PLATINUM'][_0x277779('0x27')])throw new errors[(_0x277779('0x1a'))](errors['BASTION_ERROR_TYPE'][_0x277779('0x31')],this[_0x277779('0xd')]['locale']['getString'](_0x336d18['guild'][_0x277779('0xa')][_0x277779('0x38')],_0x277779('0x1f'),'membershipLimitGiveaways',constants[_0x277779('0x3')][_0x277779('0x3e')][_0x277779('0x27')]));}}else{if(_0x1f10ab>=constants[_0x277779('0x3')][_0x277779('0x27')])throw new errors['DiscordError'](errors[_0x277779('0x3b')][_0x277779('0x2b')],this[_0x277779('0xd')][_0x277779('0x36')][_0x277779('0x40')](_0x336d18[_0x277779('0x30')][_0x277779('0xa')]['language'],'errors',_0x277779('0x23'),constants[_0x277779('0x3')][_0x277779('0x27')]));}}const _0x53a9a9=new Date(Date['now']()+_0xfe2d8a*0x36ee80),_0xf90e38=await _0x336d18[_0x277779('0x18')][_0x277779('0x13')]({'embed':{'color':tesseract_1[_0x277779('0x1')]['COLORS'][_0x277779('0x5')],'author':{'name':'GIVEAWAY!'},'title':_0x341766,'description':_0x277779('0x33')+this[_0x277779('0x1e')][_0x277779('0x14')]('\x20or\x20')+_0x277779('0x2d'),'footer':{'text':_0x4708e9+'\x20Winners\x20â€¢\x20Ends'},'timestamp':_0x53a9a9}});await Giveaway_1['default'][_0x277779('0xf')]({'_id':_0xf90e38['id'],'channel':_0xf90e38['channel']['id'],'guild':_0xf90e38[_0x277779('0x30')]['id'],'winners':_0x4708e9,'ends':_0x53a9a9});for(const _0x4be4a2 of this['reactions']){await _0xf90e38[_0x277779('0x10')](_0x4be4a2)[_0x277779('0x9')](()=>{});}},this[_0x1a6790('0x1e')]=['ðŸŽŠ','ðŸŽ‰'],this[_0x1a6790('0x2c')]=0x3,this[_0x1a6790('0x6')]=0x1;}};