const a79_0x1945=['send','defaultTimeout','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../utils/errors','GOLD','locale','\x20or\x20','defaultWinners','name','test','PREMIUM_MEMBERSHIP_REQUIRED','countDocuments','document','exec','create','../../utils/omnic','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','timeout','default','\x20Winners\x20â€¢\x20Ends','COLORS','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','errors','fetchPremiumTier','user','floor','giveaway','react','language','GIVEAWAY!','channel','../../utils/numbers','DiscordError','isPublicBastion','constructor','catch','giveaway\x20--\x20ITEM','membershipLimitGiveawayTimeout','return\x20/\x22\x20+\x20this\x20+\x20\x22/','BASTION_ERROR_TYPE','winners','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','reactions','length','GIVEAWAYS','premiumGiveawayTimeout','../../models/Giveaway','PLATINUM','getString','PremiumTier','now','number','clamp','apply','exports','GIVEAWAY_TIMEOUT','join','LIMITS','LIMITED_PREMIUM_MEMBERSHIP','IRIS','membershipLimitGiveaways','guild','client'];(function(_0x2a340d,_0x194524){const _0x4936a3=function(_0x56cd11){while(--_0x56cd11){_0x2a340d['push'](_0x2a340d['shift']());}},_0x33c27f=function(){const _0x92f007={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2c8a19,_0x27db72,_0x46e5c4,_0x302f69){_0x302f69=_0x302f69||{};let _0x583d1=_0x27db72+'='+_0x46e5c4,_0x3392e8=0x0;for(let _0x2a2929=0x0,_0x3a078f=_0x2c8a19['length'];_0x2a2929<_0x3a078f;_0x2a2929++){const _0x51defe=_0x2c8a19[_0x2a2929];_0x583d1+=';\x20'+_0x51defe;const _0x84e331=_0x2c8a19[_0x51defe];_0x2c8a19['push'](_0x84e331),_0x3a078f=_0x2c8a19['length'],_0x84e331!==!![]&&(_0x583d1+='='+_0x84e331);}_0x302f69['cookie']=_0x583d1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1811f7,_0x44c7c7){_0x1811f7=_0x1811f7||function(_0x3fe028){return _0x3fe028;};const _0x15f7d1=_0x1811f7(new RegExp('(?:^|;\x20)'+_0x44c7c7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3c90b2=function(_0x5eea9f,_0x25c557){_0x5eea9f(++_0x25c557);};return _0x3c90b2(_0x4936a3,_0x194524),_0x15f7d1?decodeURIComponent(_0x15f7d1[0x1]):undefined;}},_0x1b028a=function(){const _0x2ef037=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ef037['test'](_0x92f007['removeCookie']['toString']());};_0x92f007['updateCookie']=_0x1b028a;let _0x4b4ecc='';const _0x19498c=_0x92f007['updateCookie']();if(!_0x19498c)_0x92f007['setCookie'](['*'],'counter',0x1);else _0x19498c?_0x4b4ecc=_0x92f007['getCookie'](null,'counter'):_0x92f007['removeCookie']();};_0x33c27f();}(a79_0x1945,0x17d));const a79_0x4936=function(_0x2a340d,_0x194524){_0x2a340d=_0x2a340d-0x0;let _0x4936a3=a79_0x1945[_0x2a340d];return _0x4936a3;};const _0x2f0d15=a79_0x4936,a79_0x92f007=function(){let _0x4b4ecc=!![];return function(_0x19498c,_0x2c8a19){const _0x27db72=_0x4b4ecc?function(){const _0x3e7f4a=a79_0x4936;if(_0x2c8a19){const _0x46e5c4=_0x2c8a19[_0x3e7f4a('0x32')](_0x19498c,arguments);return _0x2c8a19=null,_0x46e5c4;}}:function(){};return _0x4b4ecc=![],_0x27db72;};}(),a79_0x56cd11=a79_0x92f007(this,function(){const _0x302f69=function(){const _0x3a7bcc=a79_0x4936,_0x583d1=_0x302f69[_0x3a7bcc('0x1f')](_0x3a7bcc('0x23'))()['constructor'](_0x3a7bcc('0x3e'));return!_0x583d1[_0x3a7bcc('0x6')](a79_0x56cd11);};return _0x302f69();});a79_0x56cd11();'use strict';const tesseract_1=require('@bastion/tesseract'),Giveaway_1=require(_0x2f0d15('0x2b')),constants=require('../../utils/constants'),errors=require(_0x2f0d15('0x0')),numbers=require(_0x2f0d15('0x1c')),omnic=require(_0x2f0d15('0xc'));module[_0x2f0d15('0x33')]=class GiveawayCommand extends tesseract_1['Command']{constructor(){const _0x322555=_0x2f0d15;super(_0x322555('0x17'),{'description':_0x322555('0xd'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[_0x322555('0xe'),'winners'],'coerce':{'timeout':_0x3392e8=>typeof _0x3392e8==='number'&&numbers[_0x322555('0x31')](_0x3392e8,0x1,0x2d0),'winners':_0x2a2929=>typeof _0x2a2929===_0x322555('0x30')&&Math[_0x322555('0x16')](numbers['clamp'](_0x2a2929,0x1,Number['MAX_SAFE_INTEGER']))},'default':{'timeout':0x3,'winners':0x1}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_CHANNELS'],'syntax':[_0x322555('0x21'),_0x322555('0x26'),'giveaway\x20--timeout\x20HOURS\x20--\x20ITEM']}),this[_0x322555('0xa')]=async(_0x3a078f,_0x51defe)=>{const _0x1f75aa=_0x322555;if(!_0x51defe['_'][_0x1f75aa('0x28')])throw new errors[(_0x1f75aa('0x1d'))](errors[_0x1f75aa('0x24')]['INVALID_COMMAND_SYNTAX'],this[_0x1f75aa('0x5')]);const _0x84e331=_0x51defe['_'][_0x1f75aa('0x35')]('\x20'),_0x1811f7=_0x51defe['timeout']?_0x51defe['timeout']:this[_0x1f75aa('0x3d')],_0x44c7c7=_0x51defe['winners']?_0x51defe[_0x1f75aa('0x25')]:this[_0x1f75aa('0x4')];if(constants[_0x1f75aa('0x1e')](this[_0x1f75aa('0x3b')][_0x1f75aa('0x15')])){const _0x3fe028=await omnic[_0x1f75aa('0x14')](_0x3a078f[_0x1f75aa('0x3a')])[_0x1f75aa('0x20')](()=>{});if(_0x3fe028){if(_0x3fe028===omnic[_0x1f75aa('0x2e')][_0x1f75aa('0x1')]&&_0x1811f7>constants[_0x1f75aa('0x36')][_0x1f75aa('0x1')][_0x1f75aa('0x34')])throw new errors[(_0x1f75aa('0x1d'))](errors[_0x1f75aa('0x24')][_0x1f75aa('0x37')],this[_0x1f75aa('0x3b')][_0x1f75aa('0x2')][_0x1f75aa('0x2d')](_0x3a078f[_0x1f75aa('0x3a')]['document'][_0x1f75aa('0x19')],'errors','membershipLimitGiveawayTimeout',constants[_0x1f75aa('0x36')]['GOLD'][_0x1f75aa('0x34')]));else{if(_0x3fe028===omnic[_0x1f75aa('0x2e')][_0x1f75aa('0x2c')]&&_0x1811f7>constants['LIMITS'][_0x1f75aa('0x2c')][_0x1f75aa('0x34')])throw new errors['DiscordError'](errors[_0x1f75aa('0x24')][_0x1f75aa('0x37')],this[_0x1f75aa('0x3b')][_0x1f75aa('0x2')][_0x1f75aa('0x2d')](_0x3a078f['guild'][_0x1f75aa('0x9')][_0x1f75aa('0x19')],'errors',_0x1f75aa('0x22'),constants[_0x1f75aa('0x36')][_0x1f75aa('0x2c')][_0x1f75aa('0x34')]));}}else{if(_0x1811f7>constants['LIMITS'][_0x1f75aa('0x34')])throw new errors[(_0x1f75aa('0x1d'))](errors[_0x1f75aa('0x24')][_0x1f75aa('0x7')],this[_0x1f75aa('0x3b')][_0x1f75aa('0x2')]['getString'](_0x3a078f[_0x1f75aa('0x3a')][_0x1f75aa('0x9')][_0x1f75aa('0x19')],'errors',_0x1f75aa('0x2a'),constants[_0x1f75aa('0x36')]['GIVEAWAY_TIMEOUT']));}const _0x5eea9f=await Giveaway_1[_0x1f75aa('0xf')][_0x1f75aa('0x8')]({'guild':_0x3a078f[_0x1f75aa('0x3a')]['id'],'ends':{'$gte':new Date()}});if(_0x3fe028){if(_0x3fe028===omnic[_0x1f75aa('0x2e')][_0x1f75aa('0x1')]&&_0x5eea9f>=constants[_0x1f75aa('0x36')][_0x1f75aa('0x1')]['GIVEAWAYS'])throw new errors[(_0x1f75aa('0x1d'))](errors[_0x1f75aa('0x24')][_0x1f75aa('0x37')],this['client'][_0x1f75aa('0x2')]['getString'](_0x3a078f[_0x1f75aa('0x3a')]['document'][_0x1f75aa('0x19')],_0x1f75aa('0x13'),_0x1f75aa('0x39'),constants['LIMITS'][_0x1f75aa('0x1')][_0x1f75aa('0x29')]));else{if(_0x3fe028===omnic[_0x1f75aa('0x2e')][_0x1f75aa('0x2c')]&&_0x5eea9f>=constants[_0x1f75aa('0x36')][_0x1f75aa('0x2c')]['GIVEAWAYS'])throw new errors[(_0x1f75aa('0x1d'))](errors[_0x1f75aa('0x24')][_0x1f75aa('0x37')],this[_0x1f75aa('0x3b')][_0x1f75aa('0x2')][_0x1f75aa('0x2d')](_0x3a078f['guild'][_0x1f75aa('0x9')]['language'],_0x1f75aa('0x13'),_0x1f75aa('0x39'),constants[_0x1f75aa('0x36')]['PLATINUM'][_0x1f75aa('0x29')]));}}else{if(_0x5eea9f>=constants[_0x1f75aa('0x36')]['GIVEAWAYS'])throw new errors[(_0x1f75aa('0x1d'))](errors[_0x1f75aa('0x24')][_0x1f75aa('0x7')],this[_0x1f75aa('0x3b')][_0x1f75aa('0x2')][_0x1f75aa('0x2d')](_0x3a078f['guild'][_0x1f75aa('0x9')][_0x1f75aa('0x19')],_0x1f75aa('0x13'),'premiumGiveaways',constants[_0x1f75aa('0x36')][_0x1f75aa('0x29')]));}}const _0x15f7d1=new Date(Date[_0x1f75aa('0x2f')]()+_0x1811f7*0x36ee80),_0x3c90b2=await _0x3a078f['channel'][_0x1f75aa('0x3c')]({'embed':{'color':tesseract_1['Constants'][_0x1f75aa('0x11')][_0x1f75aa('0x38')],'author':{'name':_0x1f75aa('0x1a')},'title':_0x84e331,'description':'React\x20to\x20this\x20message\x20with\x20'+this[_0x1f75aa('0x27')][_0x1f75aa('0x35')](_0x1f75aa('0x3'))+_0x1f75aa('0x12'),'footer':{'text':_0x44c7c7+_0x1f75aa('0x10')},'timestamp':_0x15f7d1}});await Giveaway_1[_0x1f75aa('0xf')][_0x1f75aa('0xb')]({'_id':_0x3c90b2['id'],'channel':_0x3c90b2[_0x1f75aa('0x1b')]['id'],'guild':_0x3c90b2[_0x1f75aa('0x3a')]['id'],'winners':_0x44c7c7,'ends':_0x15f7d1});for(const _0x25c557 of this[_0x1f75aa('0x27')]){await _0x3c90b2[_0x1f75aa('0x18')](_0x25c557)['catch'](()=>{});}},this['reactions']=['ðŸŽŠ','ðŸŽ‰'],this[_0x322555('0x3d')]=0x3,this[_0x322555('0x4')]=0x1;}};