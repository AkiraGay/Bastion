const a61_0x4c4e=['../../utils/errors','channel','fetchPremiumTier','Constants','premiumGiveaways','../../utils/omnic','catch','MAX_SAFE_INTEGER','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','Command','DiscordError','apply','INVALID_COMMAND_SYNTAX','default','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','timeout','return\x20/\x22\x20+\x20this\x20+\x20\x22/','compile','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','join','exec','language','defaultWinners','LIMITS','GOLD','exports','defaultTimeout','GIVEAWAY_TIMEOUT','LIMITED_PREMIUM_MEMBERSHIP','\x20or\x20','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','constructor','membershipLimitGiveawayTimeout','premiumGiveawayTimeout','countDocuments','PREMIUM_MEMBERSHIP_REQUIRED','test','../../utils/constants','giveaway','PremiumTier','create','floor','../../utils/numbers','BASTION_ERROR_TYPE','send','locale','../../models/Giveaway','isPublicBastion','GIVEAWAYS','name','client','length','@bastion/tesseract','winners','user','\x20Winners\x20â€¢\x20Ends','now','PLATINUM','membershipLimitGiveaways','number','errors','clamp','guild','reactions','getString','document'];(function(_0x3d6ed2,_0x4c4e8c){const _0x36125a=function(_0x5bc27d){while(--_0x5bc27d){_0x3d6ed2['push'](_0x3d6ed2['shift']());}};const _0xa21ef3=function(){const _0x26065d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2715a8,_0x2d807b,_0x2a13cf,_0x39acce){_0x39acce=_0x39acce||{};let _0x8503f0=_0x2d807b+'='+_0x2a13cf;let _0x2ceeef=0x0;for(let _0x200560=0x0,_0x46d682=_0x2715a8['length'];_0x200560<_0x46d682;_0x200560++){const _0x2c7822=_0x2715a8[_0x200560];_0x8503f0+=';\x20'+_0x2c7822;const _0x3fa61e=_0x2715a8[_0x2c7822];_0x2715a8['push'](_0x3fa61e);_0x46d682=_0x2715a8['length'];if(_0x3fa61e!==!![]){_0x8503f0+='='+_0x3fa61e;}}_0x39acce['cookie']=_0x8503f0;},'removeCookie':function(){return'dev';},'getCookie':function(_0xe69c26,_0x38c9d5){_0xe69c26=_0xe69c26||function(_0x17e11a){return _0x17e11a;};const _0x1261b2=_0xe69c26(new RegExp('(?:^|;\x20)'+_0x38c9d5['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4d7c0e=function(_0x3ceca3,_0x5659ff){_0x3ceca3(++_0x5659ff);};_0x4d7c0e(_0x36125a,_0x4c4e8c);return _0x1261b2?decodeURIComponent(_0x1261b2[0x1]):undefined;}};const _0x48b9bd=function(){const _0x3c5c3b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3c5c3b['test'](_0x26065d['removeCookie']['toString']());};_0x26065d['updateCookie']=_0x48b9bd;let _0x1f8f10='';const _0x4668de=_0x26065d['updateCookie']();if(!_0x4668de){_0x26065d['setCookie'](['*'],'counter',0x1);}else if(_0x4668de){_0x1f8f10=_0x26065d['getCookie'](null,'counter');}else{_0x26065d['removeCookie']();}};_0xa21ef3();}(a61_0x4c4e,0x166));const a61_0x3612=function(_0x3d6ed2,_0x4c4e8c){_0x3d6ed2=_0x3d6ed2-0x0;let _0x36125a=a61_0x4c4e[_0x3d6ed2];return _0x36125a;};const a61_0x26065d=function(){let _0x3683cc=!![];return function(_0x3400cc,_0x1ee2f8){const _0xc6407d=_0x3683cc?function(){if(_0x1ee2f8){const _0x452f5=_0x1ee2f8[a61_0x3612('0x31')](_0x3400cc,arguments);_0x1ee2f8=null;return _0x452f5;}}:function(){};_0x3683cc=![];return _0xc6407d;};}();const a61_0x5bc27d=a61_0x26065d(this,function(){const _0x10543f=function(){const _0x1ca0b4=_0x10543f[a61_0x3612('0x3')](a61_0x3612('0x36'))()[a61_0x3612('0x37')](a61_0x3612('0x38'));return!_0x1ca0b4[a61_0x3612('0x8')](a61_0x5bc27d);};return _0x10543f();});a61_0x5bc27d();'use strict';const tesseract_1=require(a61_0x3612('0x18'));const Giveaway_1=require(a61_0x3612('0x12'));const constants=require(a61_0x3612('0x9'));const errors=require(a61_0x3612('0x26'));const numbers=require(a61_0x3612('0xe'));const omnic=require(a61_0x3612('0x2b'));module[a61_0x3612('0x3f')]=class GiveawayCommand extends tesseract_1[a61_0x3612('0x2f')]{constructor(){super(a61_0x3612('0xa'),{'description':'It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0x3612('0x35'),a61_0x3612('0x19')],'coerce':{'timeout':_0x1304ce=>typeof _0x1304ce==='number'&&numbers[a61_0x3612('0x21')](_0x1304ce,0x1,0x2d0),'winners':_0x1d67af=>typeof _0x1d67af===a61_0x3612('0x1f')&&Math[a61_0x3612('0xd')](numbers[a61_0x3612('0x21')](_0x1d67af,0x1,Number[a61_0x3612('0x2d')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x3612('0x22'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_CHANNELS'],'syntax':['giveaway\x20--\x20ITEM',a61_0x3612('0x34'),a61_0x3612('0x2e')]});this[a61_0x3612('0x3a')]=async(_0x4880e8,_0x19fdf8)=>{if(!_0x19fdf8['_'][a61_0x3612('0x17')])throw new errors[(a61_0x3612('0x30'))](errors['BASTION_ERROR_TYPE'][a61_0x3612('0x32')],this[a61_0x3612('0x15')]);const _0x41b2bb=_0x19fdf8['_'][a61_0x3612('0x39')]('\x20');const _0x59de0c=_0x19fdf8['timeout']?_0x19fdf8[a61_0x3612('0x35')]:this['defaultTimeout'];const _0x41e295=_0x19fdf8[a61_0x3612('0x19')]?_0x19fdf8[a61_0x3612('0x19')]:this[a61_0x3612('0x3c')];if(constants[a61_0x3612('0x13')](this[a61_0x3612('0x16')][a61_0x3612('0x1a')])){const _0x88e9ba=await omnic[a61_0x3612('0x28')](_0x4880e8[a61_0x3612('0x22')])[a61_0x3612('0x2c')](()=>{});if(_0x88e9ba){if(_0x88e9ba===omnic[a61_0x3612('0xb')]['GOLD']&&_0x59de0c>constants['LIMITS'][a61_0x3612('0x3e')][a61_0x3612('0x41')]){throw new errors[(a61_0x3612('0x30'))](errors[a61_0x3612('0xf')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client']['locale'][a61_0x3612('0x24')](_0x4880e8['guild'][a61_0x3612('0x25')][a61_0x3612('0x3b')],a61_0x3612('0x20'),a61_0x3612('0x4'),constants[a61_0x3612('0x3d')][a61_0x3612('0x3e')][a61_0x3612('0x41')]));}else if(_0x88e9ba===omnic[a61_0x3612('0xb')][a61_0x3612('0x1d')]&&_0x59de0c>constants[a61_0x3612('0x3d')][a61_0x3612('0x1d')]['GIVEAWAY_TIMEOUT']){throw new errors[(a61_0x3612('0x30'))](errors[a61_0x3612('0xf')][a61_0x3612('0x0')],this[a61_0x3612('0x16')][a61_0x3612('0x11')]['getString'](_0x4880e8['guild'][a61_0x3612('0x25')][a61_0x3612('0x3b')],a61_0x3612('0x20'),a61_0x3612('0x4'),constants[a61_0x3612('0x3d')][a61_0x3612('0x1d')][a61_0x3612('0x41')]));}}else if(_0x59de0c>constants['LIMITS']['GIVEAWAY_TIMEOUT']){throw new errors[(a61_0x3612('0x30'))](errors[a61_0x3612('0xf')][a61_0x3612('0x7')],this[a61_0x3612('0x16')]['locale'][a61_0x3612('0x24')](_0x4880e8[a61_0x3612('0x22')]['document'][a61_0x3612('0x3b')],a61_0x3612('0x20'),a61_0x3612('0x5'),constants['LIMITS'][a61_0x3612('0x41')]));}const _0xb4b2ab=await Giveaway_1[a61_0x3612('0x33')][a61_0x3612('0x6')]({'guild':_0x4880e8['guild']['id'],'ends':{'$gte':new Date()}});if(_0x88e9ba){if(_0x88e9ba===omnic[a61_0x3612('0xb')][a61_0x3612('0x3e')]&&_0xb4b2ab>=constants[a61_0x3612('0x3d')][a61_0x3612('0x3e')][a61_0x3612('0x14')]){throw new errors[(a61_0x3612('0x30'))](errors[a61_0x3612('0xf')][a61_0x3612('0x0')],this[a61_0x3612('0x16')][a61_0x3612('0x11')]['getString'](_0x4880e8[a61_0x3612('0x22')][a61_0x3612('0x25')]['language'],a61_0x3612('0x20'),a61_0x3612('0x1e'),constants[a61_0x3612('0x3d')][a61_0x3612('0x3e')][a61_0x3612('0x14')]));}else if(_0x88e9ba===omnic['PremiumTier'][a61_0x3612('0x1d')]&&_0xb4b2ab>=constants[a61_0x3612('0x3d')][a61_0x3612('0x1d')]['GIVEAWAYS']){throw new errors[(a61_0x3612('0x30'))](errors[a61_0x3612('0xf')][a61_0x3612('0x0')],this[a61_0x3612('0x16')]['locale'][a61_0x3612('0x24')](_0x4880e8[a61_0x3612('0x22')][a61_0x3612('0x25')]['language'],'errors',a61_0x3612('0x1e'),constants[a61_0x3612('0x3d')]['PLATINUM']['GIVEAWAYS']));}}else{throw new errors[(a61_0x3612('0x30'))](errors['BASTION_ERROR_TYPE'][a61_0x3612('0x7')],this[a61_0x3612('0x16')][a61_0x3612('0x11')]['getString'](_0x4880e8[a61_0x3612('0x22')]['document'][a61_0x3612('0x3b')],a61_0x3612('0x20'),a61_0x3612('0x2a'),constants[a61_0x3612('0x3d')][a61_0x3612('0x14')]));}}const _0x3d9cf9=new Date(Date[a61_0x3612('0x1c')]()+_0x59de0c*0x36ee80);const _0x219c47=await _0x4880e8[a61_0x3612('0x27')][a61_0x3612('0x10')]({'embed':{'color':tesseract_1[a61_0x3612('0x29')]['COLORS']['IRIS'],'author':{'name':'GIVEAWAY!'},'title':_0x41b2bb,'description':'React\x20to\x20this\x20message\x20with\x20'+this['reactions'][a61_0x3612('0x39')](a61_0x3612('0x1'))+a61_0x3612('0x2'),'footer':{'text':_0x41e295+a61_0x3612('0x1b')},'timestamp':_0x3d9cf9}});await Giveaway_1[a61_0x3612('0x33')][a61_0x3612('0xc')]({'_id':_0x219c47['id'],'channel':_0x219c47[a61_0x3612('0x27')]['id'],'guild':_0x219c47[a61_0x3612('0x22')]['id'],'winners':_0x41e295,'ends':_0x3d9cf9});for(const _0x17d194 of this['reactions']){await _0x219c47['react'](_0x17d194)[a61_0x3612('0x2c')](()=>{});}};this[a61_0x3612('0x23')]=['ðŸŽŠ','ðŸŽ‰'];this[a61_0x3612('0x40')]=0x3;this[a61_0x3612('0x3c')]=0x1;}};