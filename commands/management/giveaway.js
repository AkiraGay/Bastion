const a83_0x5516=['exports','React\x20to\x20this\x20message\x20with\x20','errors','giveaway\x20--\x20ITEM','push','GIVEAWAY\x20WINNERS\x20REROLLED','COLORS','client','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','winners','users','has','fetch','get','messages','../../models/Giveaway','catch','document','BASTION_ERROR_TYPE','premiumGiveawayTimeout','default','number','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','@bastion/tesseract','GOLD','title','PLATINUM','language','locale','DiscordError','PREMIUM_MEMBERSHIP_REQUIRED','react','LIMITED_PREMIUM_MEMBERSHIP','timeout','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','embeds','channel','INVALID_COMMAND_SYNTAX','reactions','Constants','GIVEAWAY!','getString','\x20Winners\x20â€¢\x20Ends','now','The\x20giveaway\x20winners\x20were\x20rerolled\x20and\x20the\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','isPublicBastion','cache','Congratulations','constructor','Command','filter','create','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','giveaway','GIVEAWAY\x20ENDED','floor','join','guild','test','MAX_SAFE_INTEGER','send','MANAGE_CHANNELS','defaultWinners','PremiumTier','edit','reroll','LIMITS','defaultTimeout','random','length','SOMEWHAT_DARK','membershipLimitGiveaways','../../utils/errors','membershipLimitGiveawayTimeout','premiumGiveaways','clamp','apply','GIVEAWAYS','GIVEAWAY_TIMEOUT'];(function(_0x289a4d,_0x38abd4){const _0x55167a=function(_0x369c3){while(--_0x369c3){_0x289a4d['push'](_0x289a4d['shift']());}},_0x24d9a9=function(){const _0x4fc634={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1765ad,_0x19c174,_0x11a4b4,_0x351378){_0x351378=_0x351378||{};let _0x3c887d=_0x19c174+'='+_0x11a4b4,_0x48faf8=0x0;for(let _0x2da93c=0x0,_0x2ee770=_0x1765ad['length'];_0x2da93c<_0x2ee770;_0x2da93c++){const _0x5b3e68=_0x1765ad[_0x2da93c];_0x3c887d+=';\x20'+_0x5b3e68;const _0x10aea8=_0x1765ad[_0x5b3e68];_0x1765ad['push'](_0x10aea8),_0x2ee770=_0x1765ad['length'],_0x10aea8!==!![]&&(_0x3c887d+='='+_0x10aea8);}_0x351378['cookie']=_0x3c887d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x40a9b8,_0xe1ea20){_0x40a9b8=_0x40a9b8||function(_0x4f2543){return _0x4f2543;};const _0x70ff01=_0x40a9b8(new RegExp('(?:^|;\x20)'+_0xe1ea20['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x18f94e=function(_0x439e44,_0x17fc7a){_0x439e44(++_0x17fc7a);};return _0x18f94e(_0x55167a,_0x38abd4),_0x70ff01?decodeURIComponent(_0x70ff01[0x1]):undefined;}},_0x1c4fe8=function(){const _0x38986e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x38986e['test'](_0x4fc634['removeCookie']['toString']());};_0x4fc634['updateCookie']=_0x1c4fe8;let _0x9e1b06='';const _0x8bdbc0=_0x4fc634['updateCookie']();if(!_0x8bdbc0)_0x4fc634['setCookie'](['*'],'counter',0x1);else _0x8bdbc0?_0x9e1b06=_0x4fc634['getCookie'](null,'counter'):_0x4fc634['removeCookie']();};_0x24d9a9();}(a83_0x5516,0x78));const a83_0x24d9=function(_0x289a4d,_0x38abd4){_0x289a4d=_0x289a4d-0x6d;let _0x55167a=a83_0x5516[_0x289a4d];return _0x55167a;};const a83_0x3ccfe7=a83_0x24d9,a83_0x1c4fe8=function(){let _0x8bdbc0=!![];return function(_0x1765ad,_0x19c174){const _0x11a4b4=_0x8bdbc0?function(){const _0x2d7519=a83_0x24d9;if(_0x19c174){const _0x351378=_0x19c174[_0x2d7519(0x94)](_0x1765ad,arguments);return _0x19c174=null,_0x351378;}}:function(){};return _0x8bdbc0=![],_0x11a4b4;};}(),a83_0x4fc634=a83_0x1c4fe8(this,function(){const _0x3c887d=function(){const _0x4d5238=a83_0x24d9,_0x48faf8=_0x3c887d[_0x4d5238(0x78)](_0x4d5238(0xad))()[_0x4d5238(0x78)](_0x4d5238(0xba));return!_0x48faf8[_0x4d5238(0x82)](a83_0x4fc634);};return _0x3c887d();});a83_0x4fc634();'use strict';const tesseract_1=require(a83_0x3ccfe7(0xaf)),Giveaway_1=require(a83_0x3ccfe7(0xa6)),constants=require('../../utils/constants'),errors=require(a83_0x3ccfe7(0x90)),numbers=require('../../utils/numbers'),omnic=require('../../utils/omnic');module[a83_0x3ccfe7(0x97)]=class GiveawayCommand extends tesseract_1[a83_0x3ccfe7(0x79)]{constructor(){const _0x53cec8=a83_0x3ccfe7;super(_0x53cec8(0x7d),{'description':_0x53cec8(0x9f),'triggers':[],'arguments':{'alias':{'reroll':['r'],'timeout':['t'],'winners':['w']},'number':[_0x53cec8(0xb9),'winners'],'coerce':{'timeout':_0x2da93c=>typeof _0x2da93c===_0x53cec8(0xac)&&numbers[_0x53cec8(0x93)](_0x2da93c,0x1,0x2d0),'winners':_0x2ee770=>typeof _0x2ee770===_0x53cec8(0xac)&&Math[_0x53cec8(0x7f)](numbers['clamp'](_0x2ee770,0x1,Number[_0x53cec8(0x83)]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x53cec8(0x81),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x53cec8(0x85)],'syntax':[_0x53cec8(0x9a),_0x53cec8(0x7c),'giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','giveaway\x20--reroll\x20ID\x20--winners\x20NUMBER']}),this['exec']=async(_0x5b3e68,_0x10aea8)=>{const _0xe4a04b=_0x53cec8;if(_0x10aea8[_0xe4a04b(0x89)]){const _0x439e44=await _0x5b3e68[_0xe4a04b(0xbd)][_0xe4a04b(0xa5)][_0xe4a04b(0xa3)](_0x10aea8[_0xe4a04b(0x89)]);let _0x17fc7a=[];for(const _0x2bb9a7 of['ðŸŽŠ','ðŸŽ‰']){_0x439e44[_0xe4a04b(0x6e)][_0xe4a04b(0x76)][_0xe4a04b(0xa2)](_0x2bb9a7)&&(await _0x439e44[_0xe4a04b(0x6e)][_0xe4a04b(0x76)][_0xe4a04b(0xa4)](_0x2bb9a7)[_0xe4a04b(0xa1)][_0xe4a04b(0xa3)]()[_0xe4a04b(0xa7)](()=>{}),_0x17fc7a[_0xe4a04b(0x9b)](..._0x439e44['reactions']['cache'][_0xe4a04b(0xa4)](_0x2bb9a7)[_0xe4a04b(0xa1)]['cache'][_0xe4a04b(0x7a)](_0x46b398=>!_0x46b398['bot'])['values']()));}const _0x38986e=[];for(let _0x3171e5=0x0;_0x3171e5<(_0x10aea8['winners']||0x1);_0x3171e5++){if(!_0x17fc7a[_0xe4a04b(0x8d)])break;const _0x145d34=_0x17fc7a[Math[_0xe4a04b(0x7f)](Math[_0xe4a04b(0x8c)]()*_0x17fc7a['length'])];_0x38986e[_0xe4a04b(0x9b)](_0x145d34),_0x17fc7a=_0x17fc7a[_0xe4a04b(0x7a)](_0x531295=>_0x531295['id']!==_0x145d34['id']);}_0x38986e[_0xe4a04b(0x8d)]?await _0x439e44[_0xe4a04b(0x88)]({'embed':{'color':tesseract_1[_0xe4a04b(0x6f)]['COLORS'][_0xe4a04b(0x8e)],'author':{'name':_0xe4a04b(0x9c)},'title':_0x439e44['embeds'][0x0]['title'],'description':_0xe4a04b(0x74),'fields':[{'name':_0xe4a04b(0x77),'value':_0x38986e[_0xe4a04b(0x80)](',\x20')}],'footer':{'text':_0x439e44['id']},'timestamp':new Date()}}):await _0x439e44[_0xe4a04b(0x88)]({'embed':{'color':tesseract_1[_0xe4a04b(0x6f)][_0xe4a04b(0x9d)]['RED'],'author':{'name':_0xe4a04b(0x7e)},'title':_0x439e44[_0xe4a04b(0xbc)][0x0][_0xe4a04b(0xb1)],'description':_0xe4a04b(0xae),'footer':{'text':_0x439e44['id']},'timestamp':new Date()}});}if(!_0x10aea8['_'][_0xe4a04b(0x8d)])throw new errors[(_0xe4a04b(0xb5))](errors[_0xe4a04b(0xa9)][_0xe4a04b(0x6d)],this['name']);const _0x40a9b8=_0x10aea8['_'][_0xe4a04b(0x80)]('\x20'),_0xe1ea20=_0x10aea8[_0xe4a04b(0xb9)]?_0x10aea8[_0xe4a04b(0xb9)]:this[_0xe4a04b(0x8b)],_0x70ff01=_0x10aea8['winners']?_0x10aea8[_0xe4a04b(0xa0)]:this[_0xe4a04b(0x86)];if(constants[_0xe4a04b(0x75)](this['client']['user'])){const _0x2ec5a2=await omnic['fetchPremiumTier'](_0x5b3e68[_0xe4a04b(0x81)])[_0xe4a04b(0xa7)](()=>{});if(_0x2ec5a2){if(_0x2ec5a2===omnic[_0xe4a04b(0x87)]['GOLD']&&_0xe1ea20>constants['LIMITS']['GOLD'][_0xe4a04b(0x96)])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[_0xe4a04b(0x9e)]['locale'][_0xe4a04b(0x71)](_0x5b3e68[_0xe4a04b(0x81)][_0xe4a04b(0xa8)][_0xe4a04b(0xb3)],_0xe4a04b(0x99),'membershipLimitGiveawayTimeout',constants[_0xe4a04b(0x8a)][_0xe4a04b(0xb0)][_0xe4a04b(0x96)]));else{if(_0x2ec5a2===omnic[_0xe4a04b(0x87)][_0xe4a04b(0xb2)]&&_0xe1ea20>constants[_0xe4a04b(0x8a)][_0xe4a04b(0xb2)][_0xe4a04b(0x96)])throw new errors[(_0xe4a04b(0xb5))](errors[_0xe4a04b(0xa9)][_0xe4a04b(0xb8)],this[_0xe4a04b(0x9e)][_0xe4a04b(0xb4)][_0xe4a04b(0x71)](_0x5b3e68[_0xe4a04b(0x81)][_0xe4a04b(0xa8)][_0xe4a04b(0xb3)],_0xe4a04b(0x99),_0xe4a04b(0x91),constants['LIMITS'][_0xe4a04b(0xb2)][_0xe4a04b(0x96)]));}}else{if(_0xe1ea20>constants[_0xe4a04b(0x8a)][_0xe4a04b(0x96)])throw new errors[(_0xe4a04b(0xb5))](errors[_0xe4a04b(0xa9)]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0xe4a04b(0x9e)][_0xe4a04b(0xb4)][_0xe4a04b(0x71)](_0x5b3e68[_0xe4a04b(0x81)]['document'][_0xe4a04b(0xb3)],_0xe4a04b(0x99),_0xe4a04b(0xaa),constants[_0xe4a04b(0x8a)][_0xe4a04b(0x96)]));}const _0x5351ce=await Giveaway_1[_0xe4a04b(0xab)]['countDocuments']({'guild':_0x5b3e68[_0xe4a04b(0x81)]['id'],'ends':{'$gte':new Date()}});if(_0x2ec5a2){if(_0x2ec5a2===omnic[_0xe4a04b(0x87)]['GOLD']&&_0x5351ce>=constants['LIMITS'][_0xe4a04b(0xb0)][_0xe4a04b(0x95)])throw new errors['DiscordError'](errors[_0xe4a04b(0xa9)][_0xe4a04b(0xb8)],this[_0xe4a04b(0x9e)][_0xe4a04b(0xb4)][_0xe4a04b(0x71)](_0x5b3e68[_0xe4a04b(0x81)][_0xe4a04b(0xa8)][_0xe4a04b(0xb3)],_0xe4a04b(0x99),'membershipLimitGiveaways',constants[_0xe4a04b(0x8a)][_0xe4a04b(0xb0)][_0xe4a04b(0x95)]));else{if(_0x2ec5a2===omnic['PremiumTier'][_0xe4a04b(0xb2)]&&_0x5351ce>=constants['LIMITS'][_0xe4a04b(0xb2)][_0xe4a04b(0x95)])throw new errors[(_0xe4a04b(0xb5))](errors[_0xe4a04b(0xa9)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0xe4a04b(0x9e)][_0xe4a04b(0xb4)]['getString'](_0x5b3e68[_0xe4a04b(0x81)]['document'][_0xe4a04b(0xb3)],_0xe4a04b(0x99),_0xe4a04b(0x8f),constants[_0xe4a04b(0x8a)][_0xe4a04b(0xb2)]['GIVEAWAYS']));}}else{if(_0x5351ce>=constants[_0xe4a04b(0x8a)][_0xe4a04b(0x95)])throw new errors[(_0xe4a04b(0xb5))](errors[_0xe4a04b(0xa9)][_0xe4a04b(0xb6)],this[_0xe4a04b(0x9e)][_0xe4a04b(0xb4)][_0xe4a04b(0x71)](_0x5b3e68[_0xe4a04b(0x81)][_0xe4a04b(0xa8)][_0xe4a04b(0xb3)],'errors',_0xe4a04b(0x92),constants[_0xe4a04b(0x8a)][_0xe4a04b(0x95)]));}}const _0x18f94e=new Date(Date[_0xe4a04b(0x73)]()+_0xe1ea20*0x36ee80),_0x4f2543=await _0x5b3e68[_0xe4a04b(0xbd)][_0xe4a04b(0x84)]({'embed':{'color':tesseract_1[_0xe4a04b(0x6f)][_0xe4a04b(0x9d)]['IRIS'],'author':{'name':_0xe4a04b(0x70)},'title':_0x40a9b8,'description':_0xe4a04b(0x98)+this[_0xe4a04b(0x6e)][_0xe4a04b(0x80)]('\x20or\x20')+_0xe4a04b(0xbb),'footer':{'text':_0x70ff01+_0xe4a04b(0x72)},'timestamp':_0x18f94e}});await Giveaway_1['default'][_0xe4a04b(0x7b)]({'_id':_0x4f2543['id'],'channel':_0x4f2543['channel']['id'],'guild':_0x4f2543[_0xe4a04b(0x81)]['id'],'winners':_0x70ff01,'ends':_0x18f94e});for(const _0x3de5d4 of this[_0xe4a04b(0x6e)]){await _0x4f2543[_0xe4a04b(0xb7)](_0x3de5d4)[_0xe4a04b(0xa7)](()=>{});}},this[_0x53cec8(0x6e)]=['ðŸŽŠ','ðŸŽ‰'],this[_0x53cec8(0x8b)]=0x3,this[_0x53cec8(0x86)]=0x1;}};