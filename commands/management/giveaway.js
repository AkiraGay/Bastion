const a64_0x2b22=['react','guild','premiumGiveawayTimeout','\x20or\x20','GIVEAWAY!','../../utils/constants','name','return\x20/\x22\x20+\x20this\x20+\x20\x22/','defaultTimeout','length','exec','exports','isPublicBastion','GIVEAWAYS','PREMIUM_MEMBERSHIP_REQUIRED','timeout','document','COLORS','LIMITED_PREMIUM_MEMBERSHIP','MANAGE_CHANNELS','giveaway','number','defaultWinners','@bastion/tesseract','clamp','../../models/Giveaway','MAX_SAFE_INTEGER','../../utils/errors','errors','constructor','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','PLATINUM','IRIS','GIVEAWAY_TIMEOUT','channel','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','../../utils/numbers','floor','send','now','winners','GOLD','apply','fetchPremiumTier','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','catch','default','giveaway\x20--\x20ITEM','locale','membershipLimitGiveaways','join','membershipLimitGiveawayTimeout','client','BASTION_ERROR_TYPE','LIMITS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','DiscordError','../../utils/omnic','language','reactions','PremiumTier','getString','\x20Winners\x20â€¢\x20Ends'];(function(_0x3e0931,_0x2b2200){const _0x261b2e=function(_0x6f8979){while(--_0x6f8979){_0x3e0931['push'](_0x3e0931['shift']());}},_0x5ac662=function(){const _0x1284c1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3d72e9,_0x5b77ec,_0xf9dfad,_0x4b85f8){_0x4b85f8=_0x4b85f8||{};let _0xb65e38=_0x5b77ec+'='+_0xf9dfad,_0x1060d4=0x0;for(let _0xe7a05=0x0,_0x429c08=_0x3d72e9['length'];_0xe7a05<_0x429c08;_0xe7a05++){const _0xf461b3=_0x3d72e9[_0xe7a05];_0xb65e38+=';\x20'+_0xf461b3;const _0x2f3818=_0x3d72e9[_0xf461b3];_0x3d72e9['push'](_0x2f3818),_0x429c08=_0x3d72e9['length'],_0x2f3818!==!![]&&(_0xb65e38+='='+_0x2f3818);}_0x4b85f8['cookie']=_0xb65e38;},'removeCookie':function(){return'dev';},'getCookie':function(_0x141099,_0x457c22){_0x141099=_0x141099||function(_0x4604b3){return _0x4604b3;};const _0x46961b=_0x141099(new RegExp('(?:^|;\x20)'+_0x457c22['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x19737b=function(_0x38056b,_0x1f9f0f){_0x38056b(++_0x1f9f0f);};return _0x19737b(_0x261b2e,_0x2b2200),_0x46961b?decodeURIComponent(_0x46961b[0x1]):undefined;}},_0x267826=function(){const _0x1e8b43=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e8b43['test'](_0x1284c1['removeCookie']['toString']());};_0x1284c1['updateCookie']=_0x267826;let _0x10de84='';const _0x2ec6ee=_0x1284c1['updateCookie']();if(!_0x2ec6ee)_0x1284c1['setCookie'](['*'],'counter',0x1);else _0x2ec6ee?_0x10de84=_0x1284c1['getCookie'](null,'counter'):_0x1284c1['removeCookie']();};_0x5ac662();}(a64_0x2b22,0x168));const a64_0x261b=function(_0x3e0931,_0x2b2200){_0x3e0931=_0x3e0931-0x0;let _0x261b2e=a64_0x2b22[_0x3e0931];return _0x261b2e;};const a64_0x1284c1=function(){let _0x10de84=!![];return function(_0x2ec6ee,_0x3d72e9){const _0x5b77ec=_0x10de84?function(){if(_0x3d72e9){const _0xf9dfad=_0x3d72e9[a64_0x261b('0x3c')](_0x2ec6ee,arguments);return _0x3d72e9=null,_0xf9dfad;}}:function(){};return _0x10de84=![],_0x5b77ec;};}(),a64_0x6f8979=a64_0x1284c1(this,function(){const _0x4b85f8=function(){const _0xb65e38=_0x4b85f8[a64_0x261b('0x2f')](a64_0x261b('0x19'))()['constructor'](a64_0x261b('0xa'));return!_0xb65e38['test'](a64_0x6f8979);};return _0x4b85f8();});a64_0x6f8979();'use strict';const tesseract_1=require(a64_0x261b('0x29')),Giveaway_1=require(a64_0x261b('0x2b')),constants=require(a64_0x261b('0x17')),errors=require(a64_0x261b('0x2d')),numbers=require(a64_0x261b('0x36')),omnic=require(a64_0x261b('0xc'));module[a64_0x261b('0x1d')]=class GiveawayCommand extends tesseract_1['Command']{constructor(){super(a64_0x261b('0x26'),{'description':a64_0x261b('0x3e'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':['timeout',a64_0x261b('0x3a')],'coerce':{'timeout':_0x1060d4=>typeof _0x1060d4===a64_0x261b('0x27')&&numbers[a64_0x261b('0x2a')](_0x1060d4,0x1,0x2d0),'winners':_0xe7a05=>typeof _0xe7a05==='number'&&Math[a64_0x261b('0x37')](numbers['clamp'](_0xe7a05,0x1,Number[a64_0x261b('0x2c')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a64_0x261b('0x13'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a64_0x261b('0x25')],'syntax':[a64_0x261b('0x2'),a64_0x261b('0x30'),'giveaway\x20--timeout\x20HOURS\x20--\x20ITEM']}),this[a64_0x261b('0x1c')]=async(_0x429c08,_0xf461b3)=>{if(!_0xf461b3['_'][a64_0x261b('0x1b')])throw new errors[(a64_0x261b('0xb'))](errors[a64_0x261b('0x8')]['INVALID_COMMAND_SYNTAX'],this[a64_0x261b('0x18')]);const _0x2f3818=_0xf461b3['_'][a64_0x261b('0x5')]('\x20'),_0x141099=_0xf461b3[a64_0x261b('0x21')]?_0xf461b3[a64_0x261b('0x21')]:this[a64_0x261b('0x1a')],_0x457c22=_0xf461b3[a64_0x261b('0x3a')]?_0xf461b3[a64_0x261b('0x3a')]:this[a64_0x261b('0x28')];if(constants[a64_0x261b('0x1e')](this[a64_0x261b('0x7')]['user'])){const _0x4604b3=await omnic[a64_0x261b('0x3d')](_0x429c08['guild'])[a64_0x261b('0x0')](()=>{});if(_0x4604b3){if(_0x4604b3===omnic[a64_0x261b('0xf')][a64_0x261b('0x3b')]&&_0x141099>constants[a64_0x261b('0x9')][a64_0x261b('0x3b')][a64_0x261b('0x33')])throw new errors[(a64_0x261b('0xb'))](errors[a64_0x261b('0x8')][a64_0x261b('0x24')],this['client'][a64_0x261b('0x3')]['getString'](_0x429c08['guild']['document'][a64_0x261b('0xd')],a64_0x261b('0x2e'),a64_0x261b('0x6'),constants[a64_0x261b('0x9')]['GOLD'][a64_0x261b('0x33')]));else{if(_0x4604b3===omnic['PremiumTier'][a64_0x261b('0x31')]&&_0x141099>constants[a64_0x261b('0x9')]['PLATINUM'][a64_0x261b('0x33')])throw new errors[(a64_0x261b('0xb'))](errors[a64_0x261b('0x8')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a64_0x261b('0x3')][a64_0x261b('0x10')](_0x429c08[a64_0x261b('0x13')][a64_0x261b('0x22')][a64_0x261b('0xd')],a64_0x261b('0x2e'),a64_0x261b('0x6'),constants[a64_0x261b('0x9')]['PLATINUM'][a64_0x261b('0x33')]));}}else{if(_0x141099>constants[a64_0x261b('0x9')][a64_0x261b('0x33')])throw new errors[(a64_0x261b('0xb'))](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this[a64_0x261b('0x7')][a64_0x261b('0x3')]['getString'](_0x429c08[a64_0x261b('0x13')]['document'][a64_0x261b('0xd')],'errors',a64_0x261b('0x14'),constants[a64_0x261b('0x9')][a64_0x261b('0x33')]));}const _0x38056b=await Giveaway_1[a64_0x261b('0x1')]['countDocuments']({'guild':_0x429c08[a64_0x261b('0x13')]['id'],'ends':{'$gte':new Date()}});if(_0x4604b3){if(_0x4604b3===omnic[a64_0x261b('0xf')][a64_0x261b('0x3b')]&&_0x38056b>=constants['LIMITS'][a64_0x261b('0x3b')][a64_0x261b('0x1f')])throw new errors[(a64_0x261b('0xb'))](errors['BASTION_ERROR_TYPE'][a64_0x261b('0x24')],this[a64_0x261b('0x7')][a64_0x261b('0x3')][a64_0x261b('0x10')](_0x429c08['guild'][a64_0x261b('0x22')]['language'],'errors',a64_0x261b('0x4'),constants[a64_0x261b('0x9')][a64_0x261b('0x3b')][a64_0x261b('0x1f')]));else{if(_0x4604b3===omnic[a64_0x261b('0xf')]['PLATINUM']&&_0x38056b>=constants[a64_0x261b('0x9')]['PLATINUM'][a64_0x261b('0x1f')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a64_0x261b('0x24')],this[a64_0x261b('0x7')]['locale'][a64_0x261b('0x10')](_0x429c08[a64_0x261b('0x13')][a64_0x261b('0x22')][a64_0x261b('0xd')],a64_0x261b('0x2e'),a64_0x261b('0x4'),constants[a64_0x261b('0x9')]['PLATINUM'][a64_0x261b('0x1f')]));}}else{if(_0x38056b>=constants[a64_0x261b('0x9')]['GIVEAWAYS'])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a64_0x261b('0x20')],this['client']['locale'][a64_0x261b('0x10')](_0x429c08[a64_0x261b('0x13')][a64_0x261b('0x22')][a64_0x261b('0xd')],a64_0x261b('0x2e'),'premiumGiveaways',constants['LIMITS']['GIVEAWAYS']));}}const _0x46961b=new Date(Date[a64_0x261b('0x39')]()+_0x141099*0x36ee80),_0x19737b=await _0x429c08[a64_0x261b('0x34')][a64_0x261b('0x38')]({'embed':{'color':tesseract_1['Constants'][a64_0x261b('0x23')][a64_0x261b('0x32')],'author':{'name':a64_0x261b('0x16')},'title':_0x2f3818,'description':'React\x20to\x20this\x20message\x20with\x20'+this['reactions'][a64_0x261b('0x5')](a64_0x261b('0x15'))+a64_0x261b('0x35'),'footer':{'text':_0x457c22+a64_0x261b('0x11')},'timestamp':_0x46961b}});await Giveaway_1[a64_0x261b('0x1')]['create']({'_id':_0x19737b['id'],'channel':_0x19737b[a64_0x261b('0x34')]['id'],'guild':_0x19737b[a64_0x261b('0x13')]['id'],'winners':_0x457c22,'ends':_0x46961b});for(const _0x1f9f0f of this[a64_0x261b('0xe')]){await _0x19737b[a64_0x261b('0x12')](_0x1f9f0f)['catch'](()=>{});}},this[a64_0x261b('0xe')]=['ðŸŽŠ','ðŸŽ‰'],this[a64_0x261b('0x1a')]=0x3,this[a64_0x261b('0x28')]=0x1;}};