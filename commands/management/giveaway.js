const a83_0x5155=['push','return\x20/\x22\x20+\x20this\x20+\x20\x22/','GIVEAWAY_TIMEOUT','floor','apply','LIMITED_PREMIUM_MEMBERSHIP','@bastion/tesseract','clamp','giveaway\x20--reroll\x20ID\x20--winners\x20NUMBER','INVALID_COMMAND_SYNTAX','default','length','../../utils/errors','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','GIVEAWAYS','exec','membershipLimitGiveaways','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','COLORS','users','premiumGiveaways','LIMITS','MAX_SAFE_INTEGER','document','RED','messages','isPublicBastion','IRIS','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','getString','fetchPremiumTier','PremiumTier','The\x20giveaway\x20winners\x20were\x20rerolled\x20and\x20the\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','guild','fetch','Command','get','giveaway','React\x20to\x20this\x20message\x20with\x20','reactions','countDocuments','GOLD','winners','GIVEAWAY!','random','errors','embeds','language','DiscordError','../../utils/constants','../../utils/numbers','cache','channel','bot','SOMEWHAT_DARK','number','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','react','client','create','PLATINUM','BASTION_ERROR_TYPE','title','locale','Constants','defaultTimeout','defaultWinners','join','../../utils/omnic','name','filter','Congratulations','MANAGE_CHANNELS','catch','reroll','membershipLimitGiveawayTimeout','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','edit','giveaway\x20--\x20ITEM','timeout','PREMIUM_MEMBERSHIP_REQUIRED'];(function(_0x3ba7da,_0x269be3){const _0x515550=function(_0x13c865){while(--_0x13c865){_0x3ba7da['push'](_0x3ba7da['shift']());}},_0x15af9f=function(){const _0x5afe1a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x270018,_0xd660d8,_0x480dd7,_0x45cadb){_0x45cadb=_0x45cadb||{};let _0x5d595c=_0xd660d8+'='+_0x480dd7,_0x16d3e7=0x0;for(let _0x2a952d=0x0,_0x298372=_0x270018['length'];_0x2a952d<_0x298372;_0x2a952d++){const _0x248864=_0x270018[_0x2a952d];_0x5d595c+=';\x20'+_0x248864;const _0x3c1503=_0x270018[_0x248864];_0x270018['push'](_0x3c1503),_0x298372=_0x270018['length'],_0x3c1503!==!![]&&(_0x5d595c+='='+_0x3c1503);}_0x45cadb['cookie']=_0x5d595c;},'removeCookie':function(){return'dev';},'getCookie':function(_0xf1b6f1,_0x3a8869){_0xf1b6f1=_0xf1b6f1||function(_0x3ff272){return _0x3ff272;};const _0x477b28=_0xf1b6f1(new RegExp('(?:^|;\x20)'+_0x3a8869['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x60d084=function(_0xb1e32d,_0x47521a){_0xb1e32d(++_0x47521a);};return _0x60d084(_0x515550,_0x269be3),_0x477b28?decodeURIComponent(_0x477b28[0x1]):undefined;}},_0x183b5d=function(){const _0x435e62=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x435e62['test'](_0x5afe1a['removeCookie']['toString']());};_0x5afe1a['updateCookie']=_0x183b5d;let _0x180138='';const _0x414659=_0x5afe1a['updateCookie']();if(!_0x414659)_0x5afe1a['setCookie'](['*'],'counter',0x1);else _0x414659?_0x180138=_0x5afe1a['getCookie'](null,'counter'):_0x5afe1a['removeCookie']();};_0x15af9f();}(a83_0x5155,0x65));const a83_0x15af=function(_0x3ba7da,_0x269be3){_0x3ba7da=_0x3ba7da-0x1de;let _0x515550=a83_0x5155[_0x3ba7da];return _0x515550;};const a83_0x244a66=a83_0x15af,a83_0x183b5d=function(){let _0x414659=!![];return function(_0x270018,_0xd660d8){const _0x480dd7=_0x414659?function(){const _0x299fa9=a83_0x15af;if(_0xd660d8){const _0x45cadb=_0xd660d8[_0x299fa9(0x21f)](_0x270018,arguments);return _0xd660d8=null,_0x45cadb;}}:function(){};return _0x414659=![],_0x480dd7;};}(),a83_0x5afe1a=a83_0x183b5d(this,function(){const _0x5d595c=function(){const _0x1702a0=a83_0x15af,_0x16d3e7=_0x5d595c['constructor'](_0x1702a0(0x21c))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x16d3e7['test'](a83_0x5afe1a);};return _0x5d595c();});a83_0x5afe1a();'use strict';const tesseract_1=require(a83_0x244a66(0x221)),Giveaway_1=require('../../models/Giveaway'),constants=require(a83_0x244a66(0x1fb)),errors=require(a83_0x244a66(0x227)),numbers=require(a83_0x244a66(0x1fc)),omnic=require(a83_0x244a66(0x20e));module['exports']=class GiveawayCommand extends tesseract_1[a83_0x244a66(0x1ed)]{constructor(){const _0x4ee2ac=a83_0x244a66;super(_0x4ee2ac(0x1ef),{'description':_0x4ee2ac(0x22c),'triggers':[],'arguments':{'alias':{'reroll':['r'],'timeout':['t'],'winners':['w']},'number':[_0x4ee2ac(0x219),_0x4ee2ac(0x1f4)],'coerce':{'timeout':_0x2a952d=>typeof _0x2a952d===_0x4ee2ac(0x201)&&numbers['clamp'](_0x2a952d,0x1,0x2d0),'winners':_0x298372=>typeof _0x298372===_0x4ee2ac(0x201)&&Math[_0x4ee2ac(0x21e)](numbers[_0x4ee2ac(0x222)](_0x298372,0x1,Number[_0x4ee2ac(0x1e0)]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x4ee2ac(0x1eb),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x4ee2ac(0x212)],'syntax':[_0x4ee2ac(0x218),_0x4ee2ac(0x202),_0x4ee2ac(0x216),_0x4ee2ac(0x223)]}),this[_0x4ee2ac(0x22a)]=async(_0x248864,_0x3c1503)=>{const _0x1929e8=_0x4ee2ac;if(_0x3c1503['reroll']){const _0xb1e32d=await _0x248864[_0x1929e8(0x1fe)][_0x1929e8(0x1e3)][_0x1929e8(0x1ec)](_0x3c1503[_0x1929e8(0x214)]);let _0x47521a=[];for(const _0x14a868 of['ðŸŽŠ','ðŸŽ‰']){_0xb1e32d[_0x1929e8(0x1f1)][_0x1929e8(0x1fd)]['has'](_0x14a868)&&(await _0xb1e32d[_0x1929e8(0x1f1)][_0x1929e8(0x1fd)]['get'](_0x14a868)[_0x1929e8(0x22e)][_0x1929e8(0x1ec)]()[_0x1929e8(0x213)](()=>{}),_0x47521a[_0x1929e8(0x21b)](..._0xb1e32d[_0x1929e8(0x1f1)]['cache'][_0x1929e8(0x1ee)](_0x14a868)['users'][_0x1929e8(0x1fd)][_0x1929e8(0x210)](_0xcb4e0f=>!_0xcb4e0f[_0x1929e8(0x1ff)])['values']()));}const _0x435e62=[];for(let _0x5258f3=0x0;_0x5258f3<(_0x3c1503[_0x1929e8(0x1f4)]||0x1);_0x5258f3++){if(!_0x47521a[_0x1929e8(0x226)])break;const _0x5b3d1b=_0x47521a[Math[_0x1929e8(0x21e)](Math[_0x1929e8(0x1f6)]()*_0x47521a[_0x1929e8(0x226)])];_0x435e62[_0x1929e8(0x21b)](_0x5b3d1b),_0x47521a=_0x47521a[_0x1929e8(0x210)](_0x166c23=>_0x166c23['id']!==_0x5b3d1b['id']);}_0x435e62['length']?await _0xb1e32d['edit']({'embed':{'color':tesseract_1['Constants'][_0x1929e8(0x22d)][_0x1929e8(0x200)],'author':{'name':'GIVEAWAY\x20WINNERS\x20REROLLED'},'title':_0xb1e32d[_0x1929e8(0x1f8)][0x0][_0x1929e8(0x208)],'description':_0x1929e8(0x1ea),'fields':[{'name':_0x1929e8(0x211),'value':_0x435e62['join'](',\x20')}],'footer':{'text':_0xb1e32d['id']},'timestamp':new Date()}}):await _0xb1e32d[_0x1929e8(0x217)]({'embed':{'color':tesseract_1[_0x1929e8(0x20a)][_0x1929e8(0x22d)][_0x1929e8(0x1e2)],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0xb1e32d[_0x1929e8(0x1f8)][0x0][_0x1929e8(0x208)],'description':_0x1929e8(0x1e6),'footer':{'text':_0xb1e32d['id']},'timestamp':new Date()}});}if(!_0x3c1503['_'][_0x1929e8(0x226)])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x1929e8(0x224)],this[_0x1929e8(0x20f)]);const _0xf1b6f1=_0x3c1503['_'][_0x1929e8(0x20d)]('\x20'),_0x3a8869=_0x3c1503[_0x1929e8(0x219)]?_0x3c1503[_0x1929e8(0x219)]:this['defaultTimeout'],_0x477b28=_0x3c1503[_0x1929e8(0x1f4)]?_0x3c1503[_0x1929e8(0x1f4)]:this[_0x1929e8(0x20c)];if(constants[_0x1929e8(0x1e4)](this[_0x1929e8(0x204)]['user'])){const _0x38bd7b=await omnic[_0x1929e8(0x1e8)](_0x248864[_0x1929e8(0x1eb)])['catch'](()=>{});if(_0x38bd7b){if(_0x38bd7b===omnic[_0x1929e8(0x1e9)]['GOLD']&&_0x3a8869>constants[_0x1929e8(0x1df)][_0x1929e8(0x1f3)][_0x1929e8(0x21d)])throw new errors[(_0x1929e8(0x1fa))](errors[_0x1929e8(0x207)][_0x1929e8(0x220)],this[_0x1929e8(0x204)][_0x1929e8(0x209)][_0x1929e8(0x1e7)](_0x248864[_0x1929e8(0x1eb)]['document'][_0x1929e8(0x1f9)],_0x1929e8(0x1f7),_0x1929e8(0x215),constants[_0x1929e8(0x1df)]['GOLD'][_0x1929e8(0x21d)]));else{if(_0x38bd7b===omnic[_0x1929e8(0x1e9)][_0x1929e8(0x206)]&&_0x3a8869>constants[_0x1929e8(0x1df)][_0x1929e8(0x206)]['GIVEAWAY_TIMEOUT'])throw new errors[(_0x1929e8(0x1fa))](errors[_0x1929e8(0x207)][_0x1929e8(0x220)],this['client']['locale']['getString'](_0x248864['guild']['document'][_0x1929e8(0x1f9)],_0x1929e8(0x1f7),_0x1929e8(0x215),constants[_0x1929e8(0x1df)][_0x1929e8(0x206)][_0x1929e8(0x21d)]));}}else{if(_0x3a8869>constants[_0x1929e8(0x1df)][_0x1929e8(0x21d)])throw new errors['DiscordError'](errors[_0x1929e8(0x207)][_0x1929e8(0x21a)],this[_0x1929e8(0x204)][_0x1929e8(0x209)][_0x1929e8(0x1e7)](_0x248864[_0x1929e8(0x1eb)][_0x1929e8(0x1e1)]['language'],'errors','premiumGiveawayTimeout',constants[_0x1929e8(0x1df)][_0x1929e8(0x21d)]));}const _0x4a5c4c=await Giveaway_1[_0x1929e8(0x225)][_0x1929e8(0x1f2)]({'guild':_0x248864['guild']['id'],'ends':{'$gte':new Date()}});if(_0x38bd7b){if(_0x38bd7b===omnic[_0x1929e8(0x1e9)]['GOLD']&&_0x4a5c4c>=constants['LIMITS']['GOLD'][_0x1929e8(0x229)])throw new errors[(_0x1929e8(0x1fa))](errors['BASTION_ERROR_TYPE'][_0x1929e8(0x220)],this[_0x1929e8(0x204)][_0x1929e8(0x209)][_0x1929e8(0x1e7)](_0x248864[_0x1929e8(0x1eb)][_0x1929e8(0x1e1)][_0x1929e8(0x1f9)],_0x1929e8(0x1f7),_0x1929e8(0x22b),constants['LIMITS']['GOLD'][_0x1929e8(0x229)]));else{if(_0x38bd7b===omnic[_0x1929e8(0x1e9)][_0x1929e8(0x206)]&&_0x4a5c4c>=constants[_0x1929e8(0x1df)]['PLATINUM'][_0x1929e8(0x229)])throw new errors[(_0x1929e8(0x1fa))](errors[_0x1929e8(0x207)][_0x1929e8(0x220)],this[_0x1929e8(0x204)][_0x1929e8(0x209)]['getString'](_0x248864[_0x1929e8(0x1eb)][_0x1929e8(0x1e1)][_0x1929e8(0x1f9)],_0x1929e8(0x1f7),_0x1929e8(0x22b),constants[_0x1929e8(0x1df)]['PLATINUM'][_0x1929e8(0x229)]));}}else{if(_0x4a5c4c>=constants['LIMITS'][_0x1929e8(0x229)])throw new errors[(_0x1929e8(0x1fa))](errors[_0x1929e8(0x207)]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x1929e8(0x204)][_0x1929e8(0x209)]['getString'](_0x248864['guild'][_0x1929e8(0x1e1)]['language'],_0x1929e8(0x1f7),_0x1929e8(0x1de),constants[_0x1929e8(0x1df)][_0x1929e8(0x229)]));}}const _0x60d084=new Date(Date['now']()+_0x3a8869*0x36ee80),_0x3ff272=await _0x248864[_0x1929e8(0x1fe)]['send']({'embed':{'color':tesseract_1[_0x1929e8(0x20a)][_0x1929e8(0x22d)][_0x1929e8(0x1e5)],'author':{'name':_0x1929e8(0x1f5)},'title':_0xf1b6f1,'description':_0x1929e8(0x1f0)+this[_0x1929e8(0x1f1)][_0x1929e8(0x20d)]('\x20or\x20')+_0x1929e8(0x228),'footer':{'text':_0x477b28+'\x20Winners\x20â€¢\x20Ends'},'timestamp':_0x60d084}});await Giveaway_1[_0x1929e8(0x225)][_0x1929e8(0x205)]({'_id':_0x3ff272['id'],'channel':_0x3ff272['channel']['id'],'guild':_0x3ff272['guild']['id'],'winners':_0x477b28,'ends':_0x60d084});for(const _0x23af42 of this['reactions']){await _0x3ff272[_0x1929e8(0x203)](_0x23af42)[_0x1929e8(0x213)](()=>{});}},this[_0x4ee2ac(0x1f1)]=['ðŸŽŠ','ðŸŽ‰'],this[_0x4ee2ac(0x20b)]=0x3,this[_0x4ee2ac(0x20c)]=0x1;}};