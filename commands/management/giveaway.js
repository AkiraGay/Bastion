const a83_0x242192=a83_0x25dc;function a83_0x25dc(_0x1fc903,_0x4a3c42){const _0x4e0d5c=a83_0x5a8e();return a83_0x25dc=function(_0x28145c,_0x52c120){_0x28145c=_0x28145c-0x1f3;let _0x5a8e8b=_0x4e0d5c[_0x28145c];return _0x5a8e8b;},a83_0x25dc(_0x1fc903,_0x4a3c42);}(function(_0x912ad,_0xdf8042){const _0x5b7c78=a83_0x25dc,_0x308070=_0x912ad();while(!![]){try{const _0x553493=-parseInt(_0x5b7c78(0x217))/0x1+parseInt(_0x5b7c78(0x1ff))/0x2*(parseInt(_0x5b7c78(0x209))/0x3)+parseInt(_0x5b7c78(0x205))/0x4+-parseInt(_0x5b7c78(0x214))/0x5+parseInt(_0x5b7c78(0x221))/0x6+-parseInt(_0x5b7c78(0x201))/0x7+parseInt(_0x5b7c78(0x210))/0x8*(parseInt(_0x5b7c78(0x222))/0x9);if(_0x553493===_0xdf8042)break;else _0x308070['push'](_0x308070['shift']());}catch(_0x4652bb){_0x308070['push'](_0x308070['shift']());}}}(a83_0x5a8e,0x5341b));const a83_0x52c120=(function(){let _0x3103b3=!![];return function(_0x1230ed,_0x17f515){const _0x55d32f=_0x3103b3?function(){if(_0x17f515){const _0x32c57b=_0x17f515['apply'](_0x1230ed,arguments);return _0x17f515=null,_0x32c57b;}}:function(){};return _0x3103b3=![],_0x55d32f;};}()),a83_0x28145c=a83_0x52c120(this,function(){const _0x5db53c=a83_0x25dc;return a83_0x28145c['toString']()[_0x5db53c(0x232)]('(((.+)+)+)+$')[_0x5db53c(0x21e)]()['constructor'](a83_0x28145c)[_0x5db53c(0x232)](_0x5db53c(0x213));});a83_0x28145c();'use strict';const tesseract_1=require(a83_0x242192(0x22a)),Giveaway_1=require(a83_0x242192(0x203)),constants=require(a83_0x242192(0x212)),errors=require(a83_0x242192(0x228)),numbers=require(a83_0x242192(0x20d)),omnic=require(a83_0x242192(0x22d));module[a83_0x242192(0x235)]=class GiveawayCommand extends tesseract_1['Command']{[a83_0x242192(0x1fa)];['defaultTimeout'];[a83_0x242192(0x21b)];constructor(){const _0x13479c=a83_0x242192;super('giveaway',{'description':_0x13479c(0x244),'triggers':[],'arguments':{'alias':{'reroll':['r'],'timeout':['t'],'winners':['w']},'number':['timeout',_0x13479c(0x1f8)],'coerce':{'timeout':_0x22a1e3=>typeof _0x22a1e3===_0x13479c(0x223)&&numbers['clamp'](_0x22a1e3,0x1,0x2d0),'winners':_0x4df74c=>typeof _0x4df74c===_0x13479c(0x223)&&Math[_0x13479c(0x206)](numbers[_0x13479c(0x23e)](_0x4df74c,0x1,Number[_0x13479c(0x20e)]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x13479c(0x215),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x13479c(0x20f)],'syntax':['giveaway\x20--\x20ITEM',_0x13479c(0x21a),_0x13479c(0x204),'giveaway\x20--reroll\x20ID\x20--winners\x20NUMBER']}),this[_0x13479c(0x1fa)]=['ðŸŽŠ','ðŸŽ‰'],this['defaultTimeout']=0x3,this[_0x13479c(0x21b)]=0x1;}[a83_0x242192(0x220)]=async(_0x49f5a7,_0x5bd0b8)=>{const _0x2ae69f=a83_0x242192;if(_0x5bd0b8[_0x2ae69f(0x208)]){const _0x5ee498=await _0x49f5a7[_0x2ae69f(0x20b)][_0x2ae69f(0x240)]['fetch'](_0x5bd0b8[_0x2ae69f(0x208)]);let _0x20cf84=[];for(const _0x286804 of['ðŸŽŠ','ðŸŽ‰']){_0x5ee498[_0x2ae69f(0x1fa)][_0x2ae69f(0x1f7)]['has'](_0x286804)&&(await _0x5ee498[_0x2ae69f(0x1fa)][_0x2ae69f(0x1f7)][_0x2ae69f(0x1fd)](_0x286804)[_0x2ae69f(0x211)][_0x2ae69f(0x248)]()[_0x2ae69f(0x242)](()=>{}),_0x20cf84[_0x2ae69f(0x20c)](..._0x5ee498['reactions']['cache']['get'](_0x286804)[_0x2ae69f(0x211)][_0x2ae69f(0x1f7)][_0x2ae69f(0x23f)](_0x359a2b=>!_0x359a2b['bot'])[_0x2ae69f(0x241)]()));}const _0x531d59=[];for(let _0x57967e=0x0;_0x57967e<(_0x5bd0b8[_0x2ae69f(0x1f8)]||0x1);_0x57967e++){if(!_0x20cf84[_0x2ae69f(0x1f6)])break;const _0x2d490a=_0x20cf84[Math['floor'](Math[_0x2ae69f(0x219)]()*_0x20cf84['length'])];_0x531d59[_0x2ae69f(0x20c)](_0x2d490a),_0x20cf84=_0x20cf84[_0x2ae69f(0x23f)](_0x486714=>_0x486714['id']!==_0x2d490a['id']);}_0x531d59[_0x2ae69f(0x1f6)]?await _0x5ee498['edit']({'embed':{'color':tesseract_1[_0x2ae69f(0x227)][_0x2ae69f(0x230)]['SOMEWHAT_DARK'],'author':{'name':_0x2ae69f(0x200)},'title':_0x5ee498[_0x2ae69f(0x246)][0x0][_0x2ae69f(0x1f4)],'description':_0x2ae69f(0x23b),'fields':[{'name':'Congratulations','value':_0x531d59[_0x2ae69f(0x225)](',\x20')}],'footer':{'text':_0x5ee498['id']},'timestamp':new Date()}}):await _0x5ee498[_0x2ae69f(0x224)]({'embed':{'color':tesseract_1[_0x2ae69f(0x227)][_0x2ae69f(0x230)][_0x2ae69f(0x207)],'author':{'name':_0x2ae69f(0x21d)},'title':_0x5ee498[_0x2ae69f(0x246)][0x0]['title'],'description':'Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','footer':{'text':_0x5ee498['id']},'timestamp':new Date()}});}if(!_0x5bd0b8['_'][_0x2ae69f(0x1f6)])throw new errors['DiscordError'](errors[_0x2ae69f(0x22b)][_0x2ae69f(0x216)],this[_0x2ae69f(0x1f9)]);const _0xdb9e8d=_0x5bd0b8['_'][_0x2ae69f(0x225)]('\x20'),_0x212d80=_0x5bd0b8['timeout']?_0x5bd0b8[_0x2ae69f(0x226)]:this[_0x2ae69f(0x218)],_0x809575=_0x5bd0b8[_0x2ae69f(0x1f8)]?_0x5bd0b8[_0x2ae69f(0x1f8)]:this[_0x2ae69f(0x21b)];if(constants[_0x2ae69f(0x234)](this[_0x2ae69f(0x21f)][_0x2ae69f(0x23a)])){const _0x1197e0=await omnic[_0x2ae69f(0x245)](_0x49f5a7[_0x2ae69f(0x215)])[_0x2ae69f(0x242)](()=>{});if(_0x1197e0){if(_0x1197e0===omnic[_0x2ae69f(0x1fb)][_0x2ae69f(0x239)]&&_0x212d80>constants['LIMITS'][_0x2ae69f(0x239)][_0x2ae69f(0x24a)])throw new errors[(_0x2ae69f(0x236))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][_0x2ae69f(0x1fc)][_0x2ae69f(0x247)](_0x49f5a7[_0x2ae69f(0x215)][_0x2ae69f(0x21c)][_0x2ae69f(0x22f)],_0x2ae69f(0x233),_0x2ae69f(0x238),constants[_0x2ae69f(0x249)][_0x2ae69f(0x239)][_0x2ae69f(0x24a)]));else{if(_0x1197e0===omnic['PremiumTier'][_0x2ae69f(0x23c)]&&_0x212d80>constants['LIMITS'][_0x2ae69f(0x23c)][_0x2ae69f(0x24a)])throw new errors[(_0x2ae69f(0x236))](errors[_0x2ae69f(0x22b)][_0x2ae69f(0x231)],this[_0x2ae69f(0x21f)]['locale'][_0x2ae69f(0x247)](_0x49f5a7[_0x2ae69f(0x215)][_0x2ae69f(0x21c)][_0x2ae69f(0x22f)],_0x2ae69f(0x233),_0x2ae69f(0x238),constants[_0x2ae69f(0x249)]['PLATINUM'][_0x2ae69f(0x24a)]));}}else{if(_0x212d80>constants[_0x2ae69f(0x249)][_0x2ae69f(0x24a)])throw new errors[(_0x2ae69f(0x236))](errors[_0x2ae69f(0x22b)][_0x2ae69f(0x1f5)],this[_0x2ae69f(0x21f)][_0x2ae69f(0x1fc)][_0x2ae69f(0x247)](_0x49f5a7[_0x2ae69f(0x215)][_0x2ae69f(0x21c)]['language'],_0x2ae69f(0x233),_0x2ae69f(0x237),constants[_0x2ae69f(0x249)][_0x2ae69f(0x24a)]));}const _0x3347ff=await Giveaway_1[_0x2ae69f(0x229)][_0x2ae69f(0x202)]({'guild':_0x49f5a7[_0x2ae69f(0x215)]['id'],'ends':{'$gte':new Date()}});if(_0x1197e0){if(_0x1197e0===omnic['PremiumTier'][_0x2ae69f(0x239)]&&_0x3347ff>=constants['LIMITS'][_0x2ae69f(0x239)][_0x2ae69f(0x243)])throw new errors[(_0x2ae69f(0x236))](errors[_0x2ae69f(0x22b)][_0x2ae69f(0x231)],this[_0x2ae69f(0x21f)][_0x2ae69f(0x1fc)][_0x2ae69f(0x247)](_0x49f5a7['guild'][_0x2ae69f(0x21c)][_0x2ae69f(0x22f)],_0x2ae69f(0x233),_0x2ae69f(0x23d),constants[_0x2ae69f(0x249)]['GOLD'][_0x2ae69f(0x243)]));else{if(_0x1197e0===omnic[_0x2ae69f(0x1fb)][_0x2ae69f(0x23c)]&&_0x3347ff>=constants[_0x2ae69f(0x249)][_0x2ae69f(0x23c)][_0x2ae69f(0x243)])throw new errors[(_0x2ae69f(0x236))](errors[_0x2ae69f(0x22b)][_0x2ae69f(0x231)],this['client']['locale']['getString'](_0x49f5a7[_0x2ae69f(0x215)][_0x2ae69f(0x21c)][_0x2ae69f(0x22f)],'errors',_0x2ae69f(0x23d),constants[_0x2ae69f(0x249)]['PLATINUM'][_0x2ae69f(0x243)]));}}else{if(_0x3347ff>=constants[_0x2ae69f(0x249)][_0x2ae69f(0x243)])throw new errors[(_0x2ae69f(0x236))](errors[_0x2ae69f(0x22b)][_0x2ae69f(0x1f5)],this[_0x2ae69f(0x21f)][_0x2ae69f(0x1fc)][_0x2ae69f(0x247)](_0x49f5a7['guild'][_0x2ae69f(0x21c)][_0x2ae69f(0x22f)],_0x2ae69f(0x233),'premiumGiveaways',constants[_0x2ae69f(0x249)][_0x2ae69f(0x243)]));}}const _0x2ca74c=new Date(Date['now']()+_0x212d80*0x36ee80),_0x16c650=await _0x49f5a7[_0x2ae69f(0x20b)][_0x2ae69f(0x20a)]({'embed':{'color':tesseract_1[_0x2ae69f(0x227)][_0x2ae69f(0x230)]['IRIS'],'author':{'name':_0x2ae69f(0x1f3)},'title':_0xdb9e8d,'description':'React\x20to\x20this\x20message\x20with\x20'+this[_0x2ae69f(0x1fa)]['join']('\x20or\x20')+'\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','footer':{'text':_0x809575+_0x2ae69f(0x22e)},'timestamp':_0x2ca74c}});await Giveaway_1[_0x2ae69f(0x229)][_0x2ae69f(0x1fe)]({'_id':_0x16c650['id'],'channel':_0x16c650['channel']['id'],'guild':_0x16c650[_0x2ae69f(0x215)]['id'],'winners':_0x809575,'ends':_0x2ca74c});for(const _0x249639 of this[_0x2ae69f(0x1fa)]){await _0x16c650[_0x2ae69f(0x22c)](_0x249639)['catch'](()=>{});}};};function a83_0x5a8e(){const _0xfefeae=['GIVEAWAY\x20ENDED','toString','client','exec','1068732NkpuMr','333zPmeNc','number','edit','join','timeout','Constants','../../utils/errors','default','@bastion/tesseract','BASTION_ERROR_TYPE','react','../../utils/omnic','\x20Winners\x20â€¢\x20Ends','language','COLORS','LIMITED_PREMIUM_MEMBERSHIP','search','errors','isPublicBastion','exports','DiscordError','premiumGiveawayTimeout','membershipLimitGiveawayTimeout','GOLD','user','The\x20giveaway\x20winners\x20were\x20rerolled\x20and\x20the\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','PLATINUM','membershipLimitGiveaways','clamp','filter','messages','values','catch','GIVEAWAYS','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','fetchPremiumTier','embeds','getString','fetch','LIMITS','GIVEAWAY_TIMEOUT','GIVEAWAY!','title','PREMIUM_MEMBERSHIP_REQUIRED','length','cache','winners','name','reactions','PremiumTier','locale','get','create','5368GiEkkT','GIVEAWAY\x20WINNERS\x20REROLLED','4766286HXpoMY','countDocuments','../../models/Giveaway','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','168764JxbPBM','floor','RED','reroll','360OfxHVw','send','channel','push','../../utils/numbers','MAX_SAFE_INTEGER','MANAGE_CHANNELS','276392ORrwUE','users','../../utils/constants','(((.+)+)+)+$','1282355NTWeFk','guild','INVALID_COMMAND_SYNTAX','542318rBsIDi','defaultTimeout','random','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','defaultWinners','document'];a83_0x5a8e=function(){return _0xfefeae;};return a83_0x5a8e();}