const a66_0x10ba=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','clamp','GOLD','isPublicBastion','\x20or\x20','\x20Winners\x20â€¢\x20Ends','PremiumTier','send','errors','GIVEAWAY_TIMEOUT','default','language','length','constructor','exports','Constants','BASTION_ERROR_TYPE','user','timeout','fetchPremiumTier','defaultWinners','winners','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','@bastion/tesseract','guild','membershipLimitGiveaways','COLORS','apply','GIVEAWAY!','../../utils/errors','client','channel','LIMITED_PREMIUM_MEMBERSHIP','DiscordError','number','LIMITS','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','../../models/Giveaway','countDocuments','IRIS','membershipLimitGiveawayTimeout','premiumGiveaways','reactions','giveaway','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','defaultTimeout','MANAGE_CHANNELS','document','now','PLATINUM','GIVEAWAYS','name','locale','giveaway\x20--\x20ITEM','react','catch','../../utils/omnic','premiumGiveawayTimeout','getString','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','MAX_SAFE_INTEGER','PREMIUM_MEMBERSHIP_REQUIRED','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','../../utils/constants'];(function(_0x5e98ce,_0x10ba52){const _0x18bb9a=function(_0x42299f){while(--_0x42299f){_0x5e98ce['push'](_0x5e98ce['shift']());}},_0x25206f=function(){const _0x391e06={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x281b19,_0x5fb4e8,_0x3ff6bb,_0xad3b2e){_0xad3b2e=_0xad3b2e||{};let _0x215eae=_0x5fb4e8+'='+_0x3ff6bb,_0x1e0eca=0x0;for(let _0x560451=0x0,_0x236a8=_0x281b19['length'];_0x560451<_0x236a8;_0x560451++){const _0x4f37d7=_0x281b19[_0x560451];_0x215eae+=';\x20'+_0x4f37d7;const _0x405453=_0x281b19[_0x4f37d7];_0x281b19['push'](_0x405453),_0x236a8=_0x281b19['length'],_0x405453!==!![]&&(_0x215eae+='='+_0x405453);}_0xad3b2e['cookie']=_0x215eae;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4d209f,_0x20b3a3){_0x4d209f=_0x4d209f||function(_0xdb59a6){return _0xdb59a6;};const _0x4ca719=_0x4d209f(new RegExp('(?:^|;\x20)'+_0x20b3a3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x28719b=function(_0x3e8e3e,_0x10bd5f){_0x3e8e3e(++_0x10bd5f);};return _0x28719b(_0x18bb9a,_0x10ba52),_0x4ca719?decodeURIComponent(_0x4ca719[0x1]):undefined;}},_0x6643=function(){const _0x2570cd=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2570cd['test'](_0x391e06['removeCookie']['toString']());};_0x391e06['updateCookie']=_0x6643;let _0x1b6209='';const _0x94f5f1=_0x391e06['updateCookie']();if(!_0x94f5f1)_0x391e06['setCookie'](['*'],'counter',0x1);else _0x94f5f1?_0x1b6209=_0x391e06['getCookie'](null,'counter'):_0x391e06['removeCookie']();};_0x25206f();}(a66_0x10ba,0x198));const a66_0x18bb=function(_0x5e98ce,_0x10ba52){_0x5e98ce=_0x5e98ce-0x0;let _0x18bb9a=a66_0x10ba[_0x5e98ce];return _0x18bb9a;};const _0xf825f=a66_0x18bb,a66_0x391e06=function(){let _0x1b6209=!![];return function(_0x94f5f1,_0x281b19){const _0x5fb4e8=_0x1b6209?function(){const _0xb83698=a66_0x18bb;if(_0x281b19){const _0x3ff6bb=_0x281b19[_0xb83698('0x3')](_0x94f5f1,arguments);return _0x281b19=null,_0x3ff6bb;}}:function(){};return _0x1b6209=![],_0x5fb4e8;};}(),a66_0x42299f=a66_0x391e06(this,function(){const _0xad3b2e=function(){const _0x3913ba=a66_0x18bb,_0x215eae=_0xad3b2e[_0x3913ba('0x35')](_0x3913ba('0x28'))()['constructor'](_0x3913ba('0x3e'));return!_0x215eae['test'](a66_0x42299f);};return _0xad3b2e();});a66_0x42299f();'use strict';const tesseract_1=require(_0xf825f('0x3f')),Giveaway_1=require(_0xf825f('0xd')),constants=require(_0xf825f('0x27')),errors=require(_0xf825f('0x5')),numbers=require('../../utils/numbers'),omnic=require(_0xf825f('0x20'));module[_0xf825f('0x36')]=class GiveawayCommand extends tesseract_1['Command']{constructor(){const _0x571ee5=_0xf825f;super(_0x571ee5('0x13'),{'description':_0x571ee5('0x14'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[_0x571ee5('0x3a'),_0x571ee5('0x3d')],'coerce':{'timeout':_0x1e0eca=>typeof _0x1e0eca===_0x571ee5('0xa')&&numbers[_0x571ee5('0x29')](_0x1e0eca,0x1,0x2d0),'winners':_0x560451=>typeof _0x560451==='number'&&Math['floor'](numbers[_0x571ee5('0x29')](_0x560451,0x1,Number[_0x571ee5('0x24')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x571ee5('0x0'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x571ee5('0x16')],'syntax':[_0x571ee5('0x1d'),_0x571ee5('0xc'),_0x571ee5('0x26')]}),this['exec']=async(_0x236a8,_0x4f37d7)=>{const _0x11ea31=_0x571ee5;if(!_0x4f37d7['_'][_0x11ea31('0x34')])throw new errors[(_0x11ea31('0x9'))](errors['BASTION_ERROR_TYPE']['INVALID_COMMAND_SYNTAX'],this[_0x11ea31('0x1b')]);const _0x405453=_0x4f37d7['_']['join']('\x20'),_0x4d209f=_0x4f37d7[_0x11ea31('0x3a')]?_0x4f37d7['timeout']:this[_0x11ea31('0x15')],_0x20b3a3=_0x4f37d7[_0x11ea31('0x3d')]?_0x4f37d7['winners']:this[_0x11ea31('0x3c')];if(constants[_0x11ea31('0x2b')](this[_0x11ea31('0x6')][_0x11ea31('0x39')])){const _0xdb59a6=await omnic[_0x11ea31('0x3b')](_0x236a8['guild'])[_0x11ea31('0x1f')](()=>{});if(_0xdb59a6){if(_0xdb59a6===omnic[_0x11ea31('0x2e')]['GOLD']&&_0x4d209f>constants[_0x11ea31('0xb')]['GOLD']['GIVEAWAY_TIMEOUT'])throw new errors[(_0x11ea31('0x9'))](errors[_0x11ea31('0x38')][_0x11ea31('0x8')],this['client'][_0x11ea31('0x1c')][_0x11ea31('0x22')](_0x236a8['guild']['document'][_0x11ea31('0x33')],_0x11ea31('0x30'),_0x11ea31('0x10'),constants[_0x11ea31('0xb')][_0x11ea31('0x2a')]['GIVEAWAY_TIMEOUT']));else{if(_0xdb59a6===omnic[_0x11ea31('0x2e')][_0x11ea31('0x19')]&&_0x4d209f>constants['LIMITS']['PLATINUM']['GIVEAWAY_TIMEOUT'])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][_0x11ea31('0x8')],this[_0x11ea31('0x6')]['locale']['getString'](_0x236a8[_0x11ea31('0x0')][_0x11ea31('0x17')][_0x11ea31('0x33')],_0x11ea31('0x30'),_0x11ea31('0x10'),constants[_0x11ea31('0xb')]['PLATINUM'][_0x11ea31('0x31')]));}}else{if(_0x4d209f>constants[_0x11ea31('0xb')][_0x11ea31('0x31')])throw new errors[(_0x11ea31('0x9'))](errors[_0x11ea31('0x38')][_0x11ea31('0x25')],this[_0x11ea31('0x6')][_0x11ea31('0x1c')][_0x11ea31('0x22')](_0x236a8[_0x11ea31('0x0')][_0x11ea31('0x17')][_0x11ea31('0x33')],_0x11ea31('0x30'),_0x11ea31('0x21'),constants['LIMITS'][_0x11ea31('0x31')]));}const _0x3e8e3e=await Giveaway_1[_0x11ea31('0x32')][_0x11ea31('0xe')]({'guild':_0x236a8[_0x11ea31('0x0')]['id'],'ends':{'$gte':new Date()}});if(_0xdb59a6){if(_0xdb59a6===omnic['PremiumTier'][_0x11ea31('0x2a')]&&_0x3e8e3e>=constants[_0x11ea31('0xb')][_0x11ea31('0x2a')][_0x11ea31('0x1a')])throw new errors[(_0x11ea31('0x9'))](errors['BASTION_ERROR_TYPE'][_0x11ea31('0x8')],this[_0x11ea31('0x6')][_0x11ea31('0x1c')][_0x11ea31('0x22')](_0x236a8[_0x11ea31('0x0')][_0x11ea31('0x17')][_0x11ea31('0x33')],_0x11ea31('0x30'),_0x11ea31('0x1'),constants['LIMITS']['GOLD'][_0x11ea31('0x1a')]));else{if(_0xdb59a6===omnic[_0x11ea31('0x2e')]['PLATINUM']&&_0x3e8e3e>=constants['LIMITS']['PLATINUM']['GIVEAWAYS'])throw new errors[(_0x11ea31('0x9'))](errors[_0x11ea31('0x38')][_0x11ea31('0x8')],this['client'][_0x11ea31('0x1c')][_0x11ea31('0x22')](_0x236a8[_0x11ea31('0x0')][_0x11ea31('0x17')]['language'],_0x11ea31('0x30'),'membershipLimitGiveaways',constants[_0x11ea31('0xb')][_0x11ea31('0x19')]['GIVEAWAYS']));}}else{if(_0x3e8e3e>=constants[_0x11ea31('0xb')][_0x11ea31('0x1a')])throw new errors[(_0x11ea31('0x9'))](errors[_0x11ea31('0x38')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[_0x11ea31('0x6')][_0x11ea31('0x1c')][_0x11ea31('0x22')](_0x236a8['guild'][_0x11ea31('0x17')][_0x11ea31('0x33')],_0x11ea31('0x30'),_0x11ea31('0x11'),constants[_0x11ea31('0xb')][_0x11ea31('0x1a')]));}}const _0x4ca719=new Date(Date[_0x11ea31('0x18')]()+_0x4d209f*0x36ee80),_0x28719b=await _0x236a8[_0x11ea31('0x7')][_0x11ea31('0x2f')]({'embed':{'color':tesseract_1[_0x11ea31('0x37')][_0x11ea31('0x2')][_0x11ea31('0xf')],'author':{'name':_0x11ea31('0x4')},'title':_0x405453,'description':'React\x20to\x20this\x20message\x20with\x20'+this[_0x11ea31('0x12')]['join'](_0x11ea31('0x2c'))+_0x11ea31('0x23'),'footer':{'text':_0x20b3a3+_0x11ea31('0x2d')},'timestamp':_0x4ca719}});await Giveaway_1[_0x11ea31('0x32')]['create']({'_id':_0x28719b['id'],'channel':_0x28719b['channel']['id'],'guild':_0x28719b['guild']['id'],'winners':_0x20b3a3,'ends':_0x4ca719});for(const _0x10bd5f of this[_0x11ea31('0x12')]){await _0x28719b[_0x11ea31('0x1e')](_0x10bd5f)[_0x11ea31('0x1f')](()=>{});}},this[_0x571ee5('0x12')]=['ðŸŽŠ','ðŸŽ‰'],this['defaultTimeout']=0x3,this[_0x571ee5('0x3c')]=0x1;}};