const a61_0x3e36=['defaultTimeout','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','LIMITED_PREMIUM_MEMBERSHIP','COLORS','MANAGE_CHANNELS','floor','defaultWinners','send','client','DiscordError','number','create','length','membershipLimitGiveawayTimeout','isPublicBastion','BASTION_ERROR_TYPE','channel','catch','exports','compile','\x20or\x20','name','fetchPremiumTier','GIVEAWAYS','now','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','locale','Constants','timeout','../../utils/constants','PLATINUM','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','exec','giveaway','INVALID_COMMAND_SYNTAX','clamp','membershipLimitGiveaways','\x20Winners\x20â€¢\x20Ends','../../utils/numbers','@bastion/tesseract','giveaway\x20--\x20ITEM','default','winners','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','GOLD','reactions','MAX_SAFE_INTEGER','GIVEAWAY_TIMEOUT','React\x20to\x20this\x20message\x20with\x20','errors','document','join','premiumGiveawayTimeout','LIMITS','guild','language','PremiumTier','IRIS','getString','user','countDocuments'];(function(_0x1c6550,_0x3e3611){const _0x3d0995=function(_0x44252c){while(--_0x44252c){_0x1c6550['push'](_0x1c6550['shift']());}};const _0x246074=function(){const _0x121424={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x48b453,_0x114754,_0x3a8705,_0x4ae1e2){_0x4ae1e2=_0x4ae1e2||{};let _0x1aa721=_0x114754+'='+_0x3a8705;let _0x47ed5a=0x0;for(let _0x1bcc97=0x0,_0x5708ed=_0x48b453['length'];_0x1bcc97<_0x5708ed;_0x1bcc97++){const _0x3a33e9=_0x48b453[_0x1bcc97];_0x1aa721+=';\x20'+_0x3a33e9;const _0x47d820=_0x48b453[_0x3a33e9];_0x48b453['push'](_0x47d820);_0x5708ed=_0x48b453['length'];if(_0x47d820!==!![]){_0x1aa721+='='+_0x47d820;}}_0x4ae1e2['cookie']=_0x1aa721;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3f77bc,_0x4ea8e3){_0x3f77bc=_0x3f77bc||function(_0x196336){return _0x196336;};const _0xebc0fd=_0x3f77bc(new RegExp('(?:^|;\x20)'+_0x4ea8e3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5cd929=function(_0x196b52,_0x556431){_0x196b52(++_0x556431);};_0x5cd929(_0x3d0995,_0x3e3611);return _0xebc0fd?decodeURIComponent(_0xebc0fd[0x1]):undefined;}};const _0x1ac59d=function(){const _0x2be4af=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2be4af['test'](_0x121424['removeCookie']['toString']());};_0x121424['updateCookie']=_0x1ac59d;let _0x48a660='';const _0x5818da=_0x121424['updateCookie']();if(!_0x5818da){_0x121424['setCookie'](['*'],'counter',0x1);}else if(_0x5818da){_0x48a660=_0x121424['getCookie'](null,'counter');}else{_0x121424['removeCookie']();}};_0x246074();}(a61_0x3e36,0xdb));const a61_0x3d09=function(_0x1c6550,_0x3e3611){_0x1c6550=_0x1c6550-0x0;let _0x3d0995=a61_0x3e36[_0x1c6550];return _0x3d0995;};const a61_0x121424=function(){let _0x5cec74=!![];return function(_0x3a0649,_0x297276){const _0x4e323f=_0x5cec74?function(){if(_0x297276){const _0x36488b=_0x297276['apply'](_0x3a0649,arguments);_0x297276=null;return _0x36488b;}}:function(){};_0x5cec74=![];return _0x4e323f;};}();const a61_0x44252c=a61_0x121424(this,function(){const _0x43c663=function(){const _0x3d9129=_0x43c663['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a61_0x3d09('0x2c')](a61_0x3d09('0x1a'));return!_0x3d9129['test'](a61_0x44252c);};return _0x43c663();});a61_0x44252c();'use strict';const tesseract_1=require(a61_0x3d09('0x3'));const Giveaway_1=require('../../models/Giveaway');const constants=require(a61_0x3d09('0x36'));const errors=require('../../utils/errors');const numbers=require(a61_0x3d09('0x2'));const omnic=require('../../utils/omnic');module[a61_0x3d09('0x2b')]=class GiveawayCommand extends tesseract_1['Command']{constructor(){super(a61_0x3d09('0x3a'),{'description':'It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0x3d09('0x35'),a61_0x3d09('0x6')],'coerce':{'timeout':_0x46d721=>typeof _0x46d721==='number'&&numbers[a61_0x3d09('0x3c')](_0x46d721,0x1,0x2d0),'winners':_0xbac757=>typeof _0xbac757===a61_0x3d09('0x23')&&Math[a61_0x3d09('0x1e')](numbers['clamp'](_0xbac757,0x1,Number[a61_0x3d09('0xa')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x3d09('0x12'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a61_0x3d09('0x1d')],'syntax':[a61_0x3d09('0x4'),a61_0x3d09('0x7'),a61_0x3d09('0x38')]});this[a61_0x3d09('0x39')]=async(_0x5cf582,_0x42e6e4)=>{if(!_0x42e6e4['_'][a61_0x3d09('0x25')])throw new errors[(a61_0x3d09('0x22'))](errors[a61_0x3d09('0x28')][a61_0x3d09('0x3b')],this[a61_0x3d09('0x2e')]);const _0x3d5567=_0x42e6e4['_'][a61_0x3d09('0xf')]('\x20');const _0x2906c4=_0x42e6e4[a61_0x3d09('0x35')]?_0x42e6e4[a61_0x3d09('0x35')]:this[a61_0x3d09('0x19')];const _0x49aa12=_0x42e6e4[a61_0x3d09('0x6')]?_0x42e6e4[a61_0x3d09('0x6')]:this['defaultWinners'];if(constants[a61_0x3d09('0x27')](this['client'][a61_0x3d09('0x17')])){const _0x43e277=await omnic[a61_0x3d09('0x2f')](_0x5cf582['guild'])[a61_0x3d09('0x2a')](()=>{});if(_0x43e277){if(_0x43e277===omnic[a61_0x3d09('0x14')]['GOLD']&&_0x2906c4>constants[a61_0x3d09('0x11')]['GOLD'][a61_0x3d09('0xb')]){throw new errors[(a61_0x3d09('0x22'))](errors[a61_0x3d09('0x28')][a61_0x3d09('0x1b')],this[a61_0x3d09('0x21')][a61_0x3d09('0x33')][a61_0x3d09('0x16')](_0x5cf582[a61_0x3d09('0x12')]['document'][a61_0x3d09('0x13')],a61_0x3d09('0xd'),a61_0x3d09('0x26'),constants[a61_0x3d09('0x11')][a61_0x3d09('0x8')][a61_0x3d09('0xb')]));}else if(_0x43e277===omnic[a61_0x3d09('0x14')][a61_0x3d09('0x37')]&&_0x2906c4>constants[a61_0x3d09('0x11')][a61_0x3d09('0x37')][a61_0x3d09('0xb')]){throw new errors['DiscordError'](errors[a61_0x3d09('0x28')][a61_0x3d09('0x1b')],this['client'][a61_0x3d09('0x33')]['getString'](_0x5cf582[a61_0x3d09('0x12')]['document'][a61_0x3d09('0x13')],'errors','membershipLimitGiveawayTimeout',constants['LIMITS'][a61_0x3d09('0x37')][a61_0x3d09('0xb')]));}}else if(_0x2906c4>constants[a61_0x3d09('0x11')][a61_0x3d09('0xb')]){throw new errors['DiscordError'](errors[a61_0x3d09('0x28')]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client'][a61_0x3d09('0x33')][a61_0x3d09('0x16')](_0x5cf582['guild'][a61_0x3d09('0xe')][a61_0x3d09('0x13')],a61_0x3d09('0xd'),a61_0x3d09('0x10'),constants[a61_0x3d09('0x11')][a61_0x3d09('0xb')]));}const _0x497894=await Giveaway_1[a61_0x3d09('0x5')][a61_0x3d09('0x18')]({'guild':_0x5cf582[a61_0x3d09('0x12')]['id'],'ends':{'$gte':new Date()}});if(_0x43e277){if(_0x43e277===omnic[a61_0x3d09('0x14')][a61_0x3d09('0x8')]&&_0x497894>=constants[a61_0x3d09('0x11')][a61_0x3d09('0x8')][a61_0x3d09('0x30')]){throw new errors[(a61_0x3d09('0x22'))](errors[a61_0x3d09('0x28')][a61_0x3d09('0x1b')],this['client'][a61_0x3d09('0x33')][a61_0x3d09('0x16')](_0x5cf582['guild']['document'][a61_0x3d09('0x13')],a61_0x3d09('0xd'),a61_0x3d09('0x0'),constants['LIMITS'][a61_0x3d09('0x8')][a61_0x3d09('0x30')]));}else if(_0x43e277===omnic[a61_0x3d09('0x14')][a61_0x3d09('0x37')]&&_0x497894>=constants[a61_0x3d09('0x11')][a61_0x3d09('0x37')][a61_0x3d09('0x30')]){throw new errors[(a61_0x3d09('0x22'))](errors[a61_0x3d09('0x28')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a61_0x3d09('0x21')][a61_0x3d09('0x33')][a61_0x3d09('0x16')](_0x5cf582['guild'][a61_0x3d09('0xe')]['language'],a61_0x3d09('0xd'),a61_0x3d09('0x0'),constants['LIMITS']['PLATINUM'][a61_0x3d09('0x30')]));}}else{throw new errors[(a61_0x3d09('0x22'))](errors[a61_0x3d09('0x28')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a61_0x3d09('0x21')][a61_0x3d09('0x33')]['getString'](_0x5cf582['guild'][a61_0x3d09('0xe')][a61_0x3d09('0x13')],a61_0x3d09('0xd'),'premiumGiveaways',constants[a61_0x3d09('0x11')][a61_0x3d09('0x30')]));}}const _0x505e8e=new Date(Date[a61_0x3d09('0x31')]()+_0x2906c4*0x36ee80);const _0x19e66b=await _0x5cf582[a61_0x3d09('0x29')][a61_0x3d09('0x20')]({'embed':{'color':tesseract_1[a61_0x3d09('0x34')][a61_0x3d09('0x1c')][a61_0x3d09('0x15')],'author':{'name':'GIVEAWAY!'},'title':_0x3d5567,'description':a61_0x3d09('0xc')+this[a61_0x3d09('0x9')]['join'](a61_0x3d09('0x2d'))+a61_0x3d09('0x32'),'footer':{'text':_0x49aa12+a61_0x3d09('0x1')},'timestamp':_0x505e8e}});await Giveaway_1[a61_0x3d09('0x5')][a61_0x3d09('0x24')]({'_id':_0x19e66b['id'],'channel':_0x19e66b[a61_0x3d09('0x29')]['id'],'guild':_0x19e66b['guild']['id'],'winners':_0x49aa12,'ends':_0x505e8e});for(const _0x66ec35 of this[a61_0x3d09('0x9')]){await _0x19e66b['react'](_0x66ec35)[a61_0x3d09('0x2a')](()=>{});}};this[a61_0x3d09('0x9')]=['ðŸŽŠ','ðŸŽ‰'];this['defaultTimeout']=0x3;this[a61_0x3d09('0x1f')]=0x1;}};