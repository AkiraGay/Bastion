const a63_0x498c=['giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','../../models/Giveaway','client','GIVEAWAY_TIMEOUT','premiumGiveaways','PLATINUM','LIMITED_PREMIUM_MEMBERSHIP','create','../../utils/constants','name','MAX_SAFE_INTEGER','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GOLD','default','defaultTimeout','premiumGiveawayTimeout','\x20Winners\x20â€¢\x20Ends','Command','number','length','INVALID_COMMAND_SYNTAX','GIVEAWAYS','constructor','exports','Constants','reactions','LIMITS','PremiumTier','channel','winners','../../utils/numbers','getString','now','language','DiscordError','user','MANAGE_CHANNELS','defaultWinners','timeout','membershipLimitGiveawayTimeout','BASTION_ERROR_TYPE','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','@bastion/tesseract','React\x20to\x20this\x20message\x20with\x20','GIVEAWAY!','\x20or\x20','document','catch','isPublicBastion','giveaway','guild','giveaway\x20--\x20ITEM','locale','fetchPremiumTier','countDocuments','errors','join','COLORS','membershipLimitGiveaways'];(function(_0x1b62ba,_0x498cab){const _0x5b452f=function(_0x465c10){while(--_0x465c10){_0x1b62ba['push'](_0x1b62ba['shift']());}},_0x165cf4=function(){const _0x4af167={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x34822f,_0x2a8ce1,_0x14b801,_0x5e7910){_0x5e7910=_0x5e7910||{};let _0x523236=_0x2a8ce1+'='+_0x14b801,_0x949831=0x0;for(let _0x4af980=0x0,_0x630875=_0x34822f['length'];_0x4af980<_0x630875;_0x4af980++){const _0x8ddfa0=_0x34822f[_0x4af980];_0x523236+=';\x20'+_0x8ddfa0;const _0x565096=_0x34822f[_0x8ddfa0];_0x34822f['push'](_0x565096),_0x630875=_0x34822f['length'],_0x565096!==!![]&&(_0x523236+='='+_0x565096);}_0x5e7910['cookie']=_0x523236;},'removeCookie':function(){return'dev';},'getCookie':function(_0x14161d,_0x37eb73){_0x14161d=_0x14161d||function(_0x24a09a){return _0x24a09a;};const _0xcc4ad4=_0x14161d(new RegExp('(?:^|;\x20)'+_0x37eb73['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x552169=function(_0x4d26d6,_0x459a9e){_0x4d26d6(++_0x459a9e);};return _0x552169(_0x5b452f,_0x498cab),_0xcc4ad4?decodeURIComponent(_0xcc4ad4[0x1]):undefined;}},_0x44b4f5=function(){const _0x13e8a3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x13e8a3['test'](_0x4af167['removeCookie']['toString']());};_0x4af167['updateCookie']=_0x44b4f5;let _0x562c5f='';const _0x15c358=_0x4af167['updateCookie']();if(!_0x15c358)_0x4af167['setCookie'](['*'],'counter',0x1);else _0x15c358?_0x562c5f=_0x4af167['getCookie'](null,'counter'):_0x4af167['removeCookie']();};_0x165cf4();}(a63_0x498c,0xd7));const a63_0x5b45=function(_0x1b62ba,_0x498cab){_0x1b62ba=_0x1b62ba-0x0;let _0x5b452f=a63_0x498c[_0x1b62ba];return _0x5b452f;};const a63_0x14b801=function(){let _0x31a462=!![];return function(_0x4d2f1c,_0x3c253f){const _0x717fe5=_0x31a462?function(){if(_0x3c253f){const _0xce4c7=_0x3c253f['apply'](_0x4d2f1c,arguments);return _0x3c253f=null,_0xce4c7;}}:function(){};return _0x31a462=![],_0x717fe5;};}(),a63_0x2a8ce1=a63_0x14b801(this,function(){const _0x153b3b=function(){const _0x26872c=_0x153b3b[a63_0x5b45('0x2b')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a63_0x5b45('0x2b')](a63_0x5b45('0x20'));return!_0x26872c['test'](a63_0x2a8ce1);};return _0x153b3b();});a63_0x2a8ce1();'use strict';const tesseract_1=require(a63_0x5b45('0x4')),Giveaway_1=require(a63_0x5b45('0x16')),constants=require(a63_0x5b45('0x1d')),errors=require('../../utils/errors'),numbers=require(a63_0x5b45('0x33')),omnic=require('../../utils/omnic');module[a63_0x5b45('0x2c')]=class GiveawayCommand extends tesseract_1[a63_0x5b45('0x26')]{constructor(){super(a63_0x5b45('0xb'),{'description':a63_0x5b45('0x3'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a63_0x5b45('0x0'),'winners'],'coerce':{'timeout':_0x1a79bc=>typeof _0x1a79bc==='number'&&numbers['clamp'](_0x1a79bc,0x1,0x2d0),'winners':_0x25c057=>typeof _0x25c057===a63_0x5b45('0x27')&&Math['floor'](numbers['clamp'](_0x25c057,0x1,Number[a63_0x5b45('0x1f')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a63_0x5b45('0xc'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a63_0x5b45('0x39')],'syntax':[a63_0x5b45('0xd'),a63_0x5b45('0x15'),'giveaway\x20--timeout\x20HOURS\x20--\x20ITEM']}),this['exec']=async(_0x3a7007,_0x1baa62)=>{if(!_0x1baa62['_'][a63_0x5b45('0x28')])throw new errors[(a63_0x5b45('0x37'))](errors[a63_0x5b45('0x2')][a63_0x5b45('0x29')],this[a63_0x5b45('0x1e')]);const _0x3e017d=_0x1baa62['_']['join']('\x20'),_0x3ecb50=_0x1baa62[a63_0x5b45('0x0')]?_0x1baa62[a63_0x5b45('0x0')]:this[a63_0x5b45('0x23')],_0x3f4f94=_0x1baa62[a63_0x5b45('0x32')]?_0x1baa62[a63_0x5b45('0x32')]:this[a63_0x5b45('0x3a')];if(constants[a63_0x5b45('0xa')](this[a63_0x5b45('0x17')][a63_0x5b45('0x38')])){const _0x4049fc=await omnic[a63_0x5b45('0xf')](_0x3a7007[a63_0x5b45('0xc')])[a63_0x5b45('0x9')](()=>{});if(_0x4049fc){if(_0x4049fc===omnic[a63_0x5b45('0x30')]['GOLD']&&_0x3ecb50>constants[a63_0x5b45('0x2f')][a63_0x5b45('0x21')][a63_0x5b45('0x18')])throw new errors[(a63_0x5b45('0x37'))](errors[a63_0x5b45('0x2')][a63_0x5b45('0x1b')],this[a63_0x5b45('0x17')][a63_0x5b45('0xe')][a63_0x5b45('0x34')](_0x3a7007[a63_0x5b45('0xc')][a63_0x5b45('0x8')][a63_0x5b45('0x36')],'errors',a63_0x5b45('0x1'),constants['LIMITS'][a63_0x5b45('0x21')][a63_0x5b45('0x18')]));else{if(_0x4049fc===omnic[a63_0x5b45('0x30')][a63_0x5b45('0x1a')]&&_0x3ecb50>constants[a63_0x5b45('0x2f')][a63_0x5b45('0x1a')][a63_0x5b45('0x18')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a63_0x5b45('0xe')][a63_0x5b45('0x34')](_0x3a7007[a63_0x5b45('0xc')]['document'][a63_0x5b45('0x36')],a63_0x5b45('0x11'),a63_0x5b45('0x1'),constants[a63_0x5b45('0x2f')][a63_0x5b45('0x1a')][a63_0x5b45('0x18')]));}}else{if(_0x3ecb50>constants[a63_0x5b45('0x2f')][a63_0x5b45('0x18')])throw new errors[(a63_0x5b45('0x37'))](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this[a63_0x5b45('0x17')][a63_0x5b45('0xe')][a63_0x5b45('0x34')](_0x3a7007[a63_0x5b45('0xc')][a63_0x5b45('0x8')]['language'],a63_0x5b45('0x11'),a63_0x5b45('0x24'),constants[a63_0x5b45('0x2f')]['GIVEAWAY_TIMEOUT']));}const _0xf04d0b=await Giveaway_1['default'][a63_0x5b45('0x10')]({'guild':_0x3a7007[a63_0x5b45('0xc')]['id'],'ends':{'$gte':new Date()}});if(_0x4049fc){if(_0x4049fc===omnic[a63_0x5b45('0x30')][a63_0x5b45('0x21')]&&_0xf04d0b>=constants[a63_0x5b45('0x2f')][a63_0x5b45('0x21')][a63_0x5b45('0x2a')])throw new errors[(a63_0x5b45('0x37'))](errors[a63_0x5b45('0x2')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a63_0x5b45('0x17')]['locale'][a63_0x5b45('0x34')](_0x3a7007['guild'][a63_0x5b45('0x8')]['language'],'errors','membershipLimitGiveaways',constants[a63_0x5b45('0x2f')][a63_0x5b45('0x21')]['GIVEAWAYS']));else{if(_0x4049fc===omnic[a63_0x5b45('0x30')][a63_0x5b45('0x1a')]&&_0xf04d0b>=constants[a63_0x5b45('0x2f')][a63_0x5b45('0x1a')][a63_0x5b45('0x2a')])throw new errors[(a63_0x5b45('0x37'))](errors[a63_0x5b45('0x2')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a63_0x5b45('0x17')][a63_0x5b45('0xe')][a63_0x5b45('0x34')](_0x3a7007[a63_0x5b45('0xc')][a63_0x5b45('0x8')][a63_0x5b45('0x36')],a63_0x5b45('0x11'),a63_0x5b45('0x14'),constants[a63_0x5b45('0x2f')][a63_0x5b45('0x1a')][a63_0x5b45('0x2a')]));}}else{if(_0xf04d0b>=constants[a63_0x5b45('0x2f')][a63_0x5b45('0x2a')])throw new errors[(a63_0x5b45('0x37'))](errors[a63_0x5b45('0x2')]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client'][a63_0x5b45('0xe')]['getString'](_0x3a7007[a63_0x5b45('0xc')][a63_0x5b45('0x8')][a63_0x5b45('0x36')],'errors',a63_0x5b45('0x19'),constants['LIMITS'][a63_0x5b45('0x2a')]));}}const _0x2d718b=new Date(Date[a63_0x5b45('0x35')]()+_0x3ecb50*0x36ee80),_0x135ac4=await _0x3a7007['channel']['send']({'embed':{'color':tesseract_1[a63_0x5b45('0x2d')][a63_0x5b45('0x13')]['IRIS'],'author':{'name':a63_0x5b45('0x6')},'title':_0x3e017d,'description':a63_0x5b45('0x5')+this[a63_0x5b45('0x2e')][a63_0x5b45('0x12')](a63_0x5b45('0x7'))+'\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','footer':{'text':_0x3f4f94+a63_0x5b45('0x25')},'timestamp':_0x2d718b}});await Giveaway_1[a63_0x5b45('0x22')][a63_0x5b45('0x1c')]({'_id':_0x135ac4['id'],'channel':_0x135ac4[a63_0x5b45('0x31')]['id'],'guild':_0x135ac4['guild']['id'],'winners':_0x3f4f94,'ends':_0x2d718b});for(const _0x1b08e1 of this['reactions']){await _0x135ac4['react'](_0x1b08e1)[a63_0x5b45('0x9')](()=>{});}},this[a63_0x5b45('0x2e')]=['ðŸŽŠ','ðŸŽ‰'],this[a63_0x5b45('0x23')]=0x3,this[a63_0x5b45('0x3a')]=0x1;}};