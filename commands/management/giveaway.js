const a61_0x572d=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../utils/constants','MANAGE_CHANNELS','BASTION_ERROR_TYPE','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','exec','defaultWinners','join','COLORS','default','membershipLimitGiveaways','errors','LIMITS','length','Command','PremiumTier','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','reactions','PREMIUM_MEMBERSHIP_REQUIRED','membershipLimitGiveawayTimeout','client','document','../../utils/errors','send','GOLD','PLATINUM','giveaway','../../models/Giveaway','user','apply','GIVEAWAY!','INVALID_COMMAND_SYNTAX','locale','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','defaultTimeout','timeout','\x20Winners\x20â€¢\x20Ends','guild','../../utils/omnic','number','language','DiscordError','channel','isPublicBastion','test','react','MAX_SAFE_INTEGER','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','premiumGiveaways','../../utils/numbers','exports','\x20or\x20','GIVEAWAYS','now','winners','GIVEAWAY_TIMEOUT','giveaway\x20--\x20ITEM','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','IRIS','getString','LIMITED_PREMIUM_MEMBERSHIP','clamp','Constants','catch'];(function(_0x3b90a5,_0x572d6c){const _0x23d830=function(_0x59afdf){while(--_0x59afdf){_0x3b90a5['push'](_0x3b90a5['shift']());}};const _0x3ef815=function(){const _0x23e528={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x44ed28,_0x4bf97c,_0x1b5604,_0x228ca1){_0x228ca1=_0x228ca1||{};let _0x48a636=_0x4bf97c+'='+_0x1b5604;let _0x273d99=0x0;for(let _0x2160ae=0x0,_0x15d1fa=_0x44ed28['length'];_0x2160ae<_0x15d1fa;_0x2160ae++){const _0x4584b9=_0x44ed28[_0x2160ae];_0x48a636+=';\x20'+_0x4584b9;const _0x31b0af=_0x44ed28[_0x4584b9];_0x44ed28['push'](_0x31b0af);_0x15d1fa=_0x44ed28['length'];if(_0x31b0af!==!![]){_0x48a636+='='+_0x31b0af;}}_0x228ca1['cookie']=_0x48a636;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4251a8,_0x434174){_0x4251a8=_0x4251a8||function(_0x409a4d){return _0x409a4d;};const _0x338bd8=_0x4251a8(new RegExp('(?:^|;\x20)'+_0x434174['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x25dd29=function(_0x383142,_0x41e135){_0x383142(++_0x41e135);};_0x25dd29(_0x23d830,_0x572d6c);return _0x338bd8?decodeURIComponent(_0x338bd8[0x1]):undefined;}};const _0x1c1940=function(){const _0x13b1fe=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x13b1fe['test'](_0x23e528['removeCookie']['toString']());};_0x23e528['updateCookie']=_0x1c1940;let _0x16edeb='';const _0x59f0e2=_0x23e528['updateCookie']();if(!_0x59f0e2){_0x23e528['setCookie'](['*'],'counter',0x1);}else if(_0x59f0e2){_0x16edeb=_0x23e528['getCookie'](null,'counter');}else{_0x23e528['removeCookie']();}};_0x3ef815();}(a61_0x572d,0x15e));const a61_0x23d8=function(_0x3b90a5,_0x572d6c){_0x3b90a5=_0x3b90a5-0x0;let _0x23d830=a61_0x572d[_0x3b90a5];return _0x23d830;};const a61_0x23e528=function(){let _0x32b127=!![];return function(_0x513eb0,_0x1b1f36){const _0x54d2de=_0x32b127?function(){if(_0x1b1f36){const _0x23ab7e=_0x1b1f36[a61_0x23d8('0x3f')](_0x513eb0,arguments);_0x1b1f36=null;return _0x23ab7e;}}:function(){};_0x32b127=![];return _0x54d2de;};}();const a61_0x59afdf=a61_0x23e528(this,function(){const _0x4cfe80=function(){const _0xfe22fb=_0x4cfe80['constructor'](a61_0x23d8('0x22'))()['compile'](a61_0x23d8('0x3'));return!_0xfe22fb[a61_0x23d8('0xe')](a61_0x59afdf);};return _0x4cfe80();});a61_0x59afdf();'use strict';const tesseract_1=require('@bastion/tesseract');const Giveaway_1=require(a61_0x23d8('0x3d'));const constants=require(a61_0x23d8('0x23'));const errors=require(a61_0x23d8('0x38'));const numbers=require(a61_0x23d8('0x13'));const omnic=require(a61_0x23d8('0x8'));module[a61_0x23d8('0x14')]=class GiveawayCommand extends tesseract_1[a61_0x23d8('0x30')]{constructor(){super(a61_0x23d8('0x3c'),{'description':a61_0x23d8('0x32'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a61_0x23d8('0x5'),a61_0x23d8('0x18')],'coerce':{'timeout':_0x3c4727=>typeof _0x3c4727===a61_0x23d8('0x9')&&numbers[a61_0x23d8('0x1f')](_0x3c4727,0x1,0x2d0),'winners':_0x168295=>typeof _0x168295===a61_0x23d8('0x9')&&Math['floor'](numbers[a61_0x23d8('0x1f')](_0x168295,0x1,Number[a61_0x23d8('0x10')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a61_0x23d8('0x7'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a61_0x23d8('0x24')],'syntax':[a61_0x23d8('0x1a'),a61_0x23d8('0x11'),a61_0x23d8('0x1b')]});this[a61_0x23d8('0x27')]=async(_0x15c95e,_0x3f906d)=>{if(!_0x3f906d['_'][a61_0x23d8('0x2f')])throw new errors[(a61_0x23d8('0xb'))](errors[a61_0x23d8('0x25')][a61_0x23d8('0x1')],this['name']);const _0x1919bc=_0x3f906d['_']['join']('\x20');const _0x49f8d0=_0x3f906d[a61_0x23d8('0x5')]?_0x3f906d[a61_0x23d8('0x5')]:this[a61_0x23d8('0x4')];const _0x4f640f=_0x3f906d['winners']?_0x3f906d[a61_0x23d8('0x18')]:this[a61_0x23d8('0x28')];if(constants[a61_0x23d8('0xd')](this[a61_0x23d8('0x36')][a61_0x23d8('0x3e')])){const _0x1714a7=await omnic['fetchPremiumTier'](_0x15c95e[a61_0x23d8('0x7')])[a61_0x23d8('0x21')](()=>{});if(_0x1714a7){if(_0x1714a7===omnic[a61_0x23d8('0x31')][a61_0x23d8('0x3a')]&&_0x49f8d0>constants['LIMITS']['GOLD'][a61_0x23d8('0x19')]){throw new errors[(a61_0x23d8('0xb'))](errors[a61_0x23d8('0x25')][a61_0x23d8('0x1e')],this[a61_0x23d8('0x36')][a61_0x23d8('0x2')][a61_0x23d8('0x1d')](_0x15c95e[a61_0x23d8('0x7')][a61_0x23d8('0x37')]['language'],'errors',a61_0x23d8('0x35'),constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3a')][a61_0x23d8('0x19')]));}else if(_0x1714a7===omnic['PremiumTier']['PLATINUM']&&_0x49f8d0>constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3b')][a61_0x23d8('0x19')]){throw new errors[(a61_0x23d8('0xb'))](errors['BASTION_ERROR_TYPE'][a61_0x23d8('0x1e')],this['client'][a61_0x23d8('0x2')]['getString'](_0x15c95e[a61_0x23d8('0x7')][a61_0x23d8('0x37')][a61_0x23d8('0xa')],a61_0x23d8('0x2d'),a61_0x23d8('0x35'),constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3b')]['GIVEAWAY_TIMEOUT']));}}else if(_0x49f8d0>constants[a61_0x23d8('0x2e')]['GIVEAWAY_TIMEOUT']){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a61_0x23d8('0x34')],this[a61_0x23d8('0x36')]['locale'][a61_0x23d8('0x1d')](_0x15c95e['guild']['document']['language'],a61_0x23d8('0x2d'),'premiumGiveawayTimeout',constants[a61_0x23d8('0x2e')]['GIVEAWAY_TIMEOUT']));}const _0x322c74=await Giveaway_1[a61_0x23d8('0x2b')]['countDocuments']({'guild':_0x15c95e[a61_0x23d8('0x7')]['id'],'ends':{'$gte':new Date()}});if(_0x1714a7){if(_0x1714a7===omnic['PremiumTier']['GOLD']&&_0x322c74>=constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3a')][a61_0x23d8('0x16')]){throw new errors[(a61_0x23d8('0xb'))](errors[a61_0x23d8('0x25')][a61_0x23d8('0x1e')],this['client'][a61_0x23d8('0x2')][a61_0x23d8('0x1d')](_0x15c95e[a61_0x23d8('0x7')][a61_0x23d8('0x37')][a61_0x23d8('0xa')],a61_0x23d8('0x2d'),a61_0x23d8('0x2c'),constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3a')]['GIVEAWAYS']));}else if(_0x1714a7===omnic[a61_0x23d8('0x31')]['PLATINUM']&&_0x322c74>=constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3b')][a61_0x23d8('0x16')]){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a61_0x23d8('0x1e')],this[a61_0x23d8('0x36')]['locale'][a61_0x23d8('0x1d')](_0x15c95e['guild']['document']['language'],a61_0x23d8('0x2d'),a61_0x23d8('0x2c'),constants[a61_0x23d8('0x2e')][a61_0x23d8('0x3b')][a61_0x23d8('0x16')]));}}else{throw new errors[(a61_0x23d8('0xb'))](errors[a61_0x23d8('0x25')]['PREMIUM_MEMBERSHIP_REQUIRED'],this[a61_0x23d8('0x36')][a61_0x23d8('0x2')][a61_0x23d8('0x1d')](_0x15c95e['guild'][a61_0x23d8('0x37')][a61_0x23d8('0xa')],'errors',a61_0x23d8('0x12'),constants[a61_0x23d8('0x2e')][a61_0x23d8('0x16')]));}}const _0x585f15=new Date(Date[a61_0x23d8('0x17')]()+_0x49f8d0*0x36ee80);const _0x16e580=await _0x15c95e[a61_0x23d8('0xc')][a61_0x23d8('0x39')]({'embed':{'color':tesseract_1[a61_0x23d8('0x20')][a61_0x23d8('0x2a')][a61_0x23d8('0x1c')],'author':{'name':a61_0x23d8('0x0')},'title':_0x1919bc,'description':'React\x20to\x20this\x20message\x20with\x20'+this[a61_0x23d8('0x33')][a61_0x23d8('0x29')](a61_0x23d8('0x15'))+a61_0x23d8('0x26'),'footer':{'text':_0x4f640f+a61_0x23d8('0x6')},'timestamp':_0x585f15}});await Giveaway_1[a61_0x23d8('0x2b')]['create']({'_id':_0x16e580['id'],'channel':_0x16e580['channel']['id'],'guild':_0x16e580[a61_0x23d8('0x7')]['id'],'winners':_0x4f640f,'ends':_0x585f15});for(const _0x317ed0 of this[a61_0x23d8('0x33')]){await _0x16e580[a61_0x23d8('0xf')](_0x317ed0)[a61_0x23d8('0x21')](()=>{});}};this['reactions']=['ðŸŽŠ','ðŸŽ‰'];this[a61_0x23d8('0x4')]=0x3;this[a61_0x23d8('0x28')]=0x1;}};