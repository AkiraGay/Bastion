const a83_0x12c3=['channel','test','constructor','client','language','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','41974eHjGXT','\x20or\x20','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','188549EXONoi','giveaway\x20--\x20ITEM','COLORS','giveaway\x20--reroll\x20ID\x20--winners\x20NUMBER','reactions','messages','GIVEAWAY!','653807HLofax','has','MAX_SAFE_INTEGER','guild','errors','GIVEAWAYS','giveaway','send','locale','values','7087GdMYCe','fetch','SOMEWHAT_DARK','catch','Constants','../../models/Giveaway','title','premiumGiveaways','7PBVuik','../../utils/constants','winners','14wvsOHz','users','membershipLimitGiveaways','PLATINUM','PremiumTier','reroll','now','document','1ZypDhu','random','edit','GOLD','user','defaultWinners','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','length','join','premiumGiveawayTimeout','countDocuments','getString','filter','PREMIUM_MEMBERSHIP_REQUIRED','990300JsvKNu','push','floor','timeout','Congratulations','get','GIVEAWAY\x20WINNERS\x20REROLLED','1lCdbCX','\x20Winners\x20â€¢\x20Ends','clamp','84964uVKEnH','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','isPublicBastion','DiscordError','81MKMZuw','GIVEAWAY_TIMEOUT','INVALID_COMMAND_SYNTAX','return\x20/\x22\x20+\x20this\x20+\x20\x22/','membershipLimitGiveawayTimeout','Command','BASTION_ERROR_TYPE','number','IRIS','LIMITED_PREMIUM_MEMBERSHIP','LIMITS','exports','MANAGE_CHANNELS','defaultTimeout','default','../../utils/errors','cache','185732jLhWMt','The\x20giveaway\x20winners\x20were\x20rerolled\x20and\x20the\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.'];const a83_0x3361=function(_0xa8bb9e,_0x4f6dc7){_0xa8bb9e=_0xa8bb9e-0x90;let _0x4b891b=a83_0x12c3[_0xa8bb9e];return _0x4b891b;};const a83_0x108137=a83_0x3361;(function(_0x3c159b,_0x564ffd){const _0x23ee10=a83_0x3361;while(!![]){try{const _0x1f317b=parseInt(_0x23ee10(0xa8))*-parseInt(_0x23ee10(0xe8))+parseInt(_0x23ee10(0xeb))*-parseInt(_0x23ee10(0xb3))+-parseInt(_0x23ee10(0xe0))+-parseInt(_0x23ee10(0xcf))*-parseInt(_0x23ee10(0xa0))+parseInt(_0x23ee10(0xab))*parseInt(_0x23ee10(0xcb))+-parseInt(_0x23ee10(0xc8))*parseInt(_0x23ee10(0xc1))+parseInt(_0x23ee10(0x96));if(_0x1f317b===_0x564ffd)break;else _0x3c159b['push'](_0x3c159b['shift']());}catch(_0x77e1c6){_0x3c159b['push'](_0x3c159b['shift']());}}}(a83_0x12c3,0xb94a7));const a83_0x555c0a=function(){let _0x4dca43=!![];return function(_0x36d050,_0x2aab7b){const _0x3f7ded=_0x4dca43?function(){if(_0x2aab7b){const _0x3ba76d=_0x2aab7b['apply'](_0x36d050,arguments);return _0x2aab7b=null,_0x3ba76d;}}:function(){};return _0x4dca43=![],_0x3f7ded;};}(),a83_0x51a7bc=a83_0x555c0a(this,function(){const _0x1d7b8d=function(){const _0x16c284=a83_0x3361,_0x53ca4c=_0x1d7b8d[_0x16c284(0xe4)](_0x16c284(0xd2))()[_0x16c284(0xe4)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x53ca4c[_0x16c284(0xe3)](a83_0x51a7bc);};return _0x1d7b8d();});a83_0x51a7bc();'use strict';const tesseract_1=require('@bastion/tesseract'),Giveaway_1=require(a83_0x108137(0xa5)),constants=require(a83_0x108137(0xa9)),errors=require(a83_0x108137(0xde)),numbers=require('../../utils/numbers'),omnic=require('../../utils/omnic');module[a83_0x108137(0xda)]=class GiveawayCommand extends tesseract_1[a83_0x108137(0xd4)]{constructor(){const _0x3475cb=a83_0x108137;super(_0x3475cb(0x9c),{'description':_0x3475cb(0xea),'triggers':[],'arguments':{'alias':{'reroll':['r'],'timeout':['t'],'winners':['w']},'number':[_0x3475cb(0xc4),_0x3475cb(0xaa)],'coerce':{'timeout':_0x25a416=>typeof _0x25a416===_0x3475cb(0xd6)&&numbers['clamp'](_0x25a416,0x1,0x2d0),'winners':_0x524a3f=>typeof _0x524a3f===_0x3475cb(0xd6)&&Math[_0x3475cb(0xc3)](numbers[_0x3475cb(0xca)](_0x524a3f,0x1,Number[_0x3475cb(0x98)]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x3475cb(0x99),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x3475cb(0xdb)],'syntax':[_0x3475cb(0x90),_0x3475cb(0xe7),'giveaway\x20--timeout\x20HOURS\x20--\x20ITEM',_0x3475cb(0x92)]}),this['exec']=async(_0x5bf499,_0x50ab68)=>{const _0x47d488=_0x3475cb;if(_0x50ab68[_0x47d488(0xb0)]){const _0x116ea0=await _0x5bf499[_0x47d488(0xe2)][_0x47d488(0x94)]['fetch'](_0x50ab68[_0x47d488(0xb0)]);let _0x3ea0f5=[];for(const _0x1cf065 of['ðŸŽŠ','ðŸŽ‰']){_0x116ea0['reactions'][_0x47d488(0xdf)][_0x47d488(0x97)](_0x1cf065)&&(await _0x116ea0[_0x47d488(0x93)][_0x47d488(0xdf)]['get'](_0x1cf065)[_0x47d488(0xac)][_0x47d488(0xa1)]()[_0x47d488(0xa3)](()=>{}),_0x3ea0f5[_0x47d488(0xc2)](..._0x116ea0['reactions'][_0x47d488(0xdf)][_0x47d488(0xc6)](_0x1cf065)['users']['cache'][_0x47d488(0xbf)](_0x59f235=>!_0x59f235['bot'])[_0x47d488(0x9f)]()));}const _0x4eb987=[];for(let _0x453fea=0x0;_0x453fea<(_0x50ab68[_0x47d488(0xaa)]||0x1);_0x453fea++){if(!_0x3ea0f5[_0x47d488(0xba)])break;const _0x420314=_0x3ea0f5[Math[_0x47d488(0xc3)](Math[_0x47d488(0xb4)]()*_0x3ea0f5[_0x47d488(0xba)])];_0x4eb987[_0x47d488(0xc2)](_0x420314),_0x3ea0f5=_0x3ea0f5[_0x47d488(0xbf)](_0x8258fd=>_0x8258fd['id']!==_0x420314['id']);}_0x4eb987[_0x47d488(0xba)]?await _0x116ea0[_0x47d488(0xb5)]({'embed':{'color':tesseract_1[_0x47d488(0xa4)][_0x47d488(0x91)][_0x47d488(0xa2)],'author':{'name':_0x47d488(0xc7)},'title':_0x116ea0['embeds'][0x0][_0x47d488(0xa6)],'description':_0x47d488(0xe1),'fields':[{'name':_0x47d488(0xc5),'value':_0x4eb987[_0x47d488(0xbb)](',\x20')}],'footer':{'text':_0x116ea0['id']},'timestamp':new Date()}}):await _0x116ea0[_0x47d488(0xb5)]({'embed':{'color':tesseract_1[_0x47d488(0xa4)][_0x47d488(0x91)]['RED'],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0x116ea0['embeds'][0x0][_0x47d488(0xa6)],'description':_0x47d488(0xb9),'footer':{'text':_0x116ea0['id']},'timestamp':new Date()}});}if(!_0x50ab68['_'][_0x47d488(0xba)])throw new errors[(_0x47d488(0xce))](errors['BASTION_ERROR_TYPE'][_0x47d488(0xd1)],this['name']);const _0x36740b=_0x50ab68['_'][_0x47d488(0xbb)]('\x20'),_0x1e36ab=_0x50ab68['timeout']?_0x50ab68[_0x47d488(0xc4)]:this['defaultTimeout'],_0x21b2c7=_0x50ab68[_0x47d488(0xaa)]?_0x50ab68[_0x47d488(0xaa)]:this[_0x47d488(0xb8)];if(constants[_0x47d488(0xcd)](this[_0x47d488(0xe5)][_0x47d488(0xb7)])){const _0x3230b0=await omnic['fetchPremiumTier'](_0x5bf499[_0x47d488(0x99)])['catch'](()=>{});if(_0x3230b0){if(_0x3230b0===omnic['PremiumTier']['GOLD']&&_0x1e36ab>constants['LIMITS'][_0x47d488(0xb6)][_0x47d488(0xd0)])throw new errors[(_0x47d488(0xce))](errors[_0x47d488(0xd5)]['LIMITED_PREMIUM_MEMBERSHIP'],this['client']['locale'][_0x47d488(0xbe)](_0x5bf499[_0x47d488(0x99)][_0x47d488(0xb2)][_0x47d488(0xe6)],'errors',_0x47d488(0xd3),constants[_0x47d488(0xd9)][_0x47d488(0xb6)]['GIVEAWAY_TIMEOUT']));else{if(_0x3230b0===omnic[_0x47d488(0xaf)][_0x47d488(0xae)]&&_0x1e36ab>constants['LIMITS']['PLATINUM'][_0x47d488(0xd0)])throw new errors['DiscordError'](errors[_0x47d488(0xd5)][_0x47d488(0xd8)],this[_0x47d488(0xe5)][_0x47d488(0x9e)]['getString'](_0x5bf499[_0x47d488(0x99)]['document'][_0x47d488(0xe6)],_0x47d488(0x9a),_0x47d488(0xd3),constants['LIMITS'][_0x47d488(0xae)]['GIVEAWAY_TIMEOUT']));}}else{if(_0x1e36ab>constants[_0x47d488(0xd9)][_0x47d488(0xd0)])throw new errors[(_0x47d488(0xce))](errors['BASTION_ERROR_TYPE'][_0x47d488(0xc0)],this[_0x47d488(0xe5)][_0x47d488(0x9e)][_0x47d488(0xbe)](_0x5bf499[_0x47d488(0x99)][_0x47d488(0xb2)][_0x47d488(0xe6)],_0x47d488(0x9a),_0x47d488(0xbc),constants[_0x47d488(0xd9)][_0x47d488(0xd0)]));}const _0x335b57=await Giveaway_1[_0x47d488(0xdd)][_0x47d488(0xbd)]({'guild':_0x5bf499['guild']['id'],'ends':{'$gte':new Date()}});if(_0x3230b0){if(_0x3230b0===omnic[_0x47d488(0xaf)][_0x47d488(0xb6)]&&_0x335b57>=constants[_0x47d488(0xd9)][_0x47d488(0xb6)][_0x47d488(0x9b)])throw new errors[(_0x47d488(0xce))](errors['BASTION_ERROR_TYPE'][_0x47d488(0xd8)],this[_0x47d488(0xe5)]['locale'][_0x47d488(0xbe)](_0x5bf499[_0x47d488(0x99)]['document'][_0x47d488(0xe6)],_0x47d488(0x9a),_0x47d488(0xad),constants[_0x47d488(0xd9)][_0x47d488(0xb6)][_0x47d488(0x9b)]));else{if(_0x3230b0===omnic[_0x47d488(0xaf)]['PLATINUM']&&_0x335b57>=constants[_0x47d488(0xd9)]['PLATINUM'][_0x47d488(0x9b)])throw new errors[(_0x47d488(0xce))](errors[_0x47d488(0xd5)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x47d488(0xe5)][_0x47d488(0x9e)][_0x47d488(0xbe)](_0x5bf499[_0x47d488(0x99)][_0x47d488(0xb2)][_0x47d488(0xe6)],'errors',_0x47d488(0xad),constants[_0x47d488(0xd9)]['PLATINUM'][_0x47d488(0x9b)]));}}else{if(_0x335b57>=constants[_0x47d488(0xd9)]['GIVEAWAYS'])throw new errors[(_0x47d488(0xce))](errors[_0x47d488(0xd5)][_0x47d488(0xc0)],this['client']['locale'][_0x47d488(0xbe)](_0x5bf499['guild'][_0x47d488(0xb2)][_0x47d488(0xe6)],_0x47d488(0x9a),_0x47d488(0xa7),constants[_0x47d488(0xd9)][_0x47d488(0x9b)]));}}const _0x122d1f=new Date(Date[_0x47d488(0xb1)]()+_0x1e36ab*0x36ee80),_0x6bc1d=await _0x5bf499[_0x47d488(0xe2)][_0x47d488(0x9d)]({'embed':{'color':tesseract_1[_0x47d488(0xa4)][_0x47d488(0x91)][_0x47d488(0xd7)],'author':{'name':_0x47d488(0x95)},'title':_0x36740b,'description':'React\x20to\x20this\x20message\x20with\x20'+this[_0x47d488(0x93)][_0x47d488(0xbb)](_0x47d488(0xe9))+_0x47d488(0xcc),'footer':{'text':_0x21b2c7+_0x47d488(0xc9)},'timestamp':_0x122d1f}});await Giveaway_1[_0x47d488(0xdd)]['create']({'_id':_0x6bc1d['id'],'channel':_0x6bc1d[_0x47d488(0xe2)]['id'],'guild':_0x6bc1d['guild']['id'],'winners':_0x21b2c7,'ends':_0x122d1f});for(const _0x55173f of this[_0x47d488(0x93)]){await _0x6bc1d['react'](_0x55173f)[_0x47d488(0xa3)](()=>{});}},this[_0x3475cb(0x93)]=['ðŸŽŠ','ðŸŽ‰'],this[_0x3475cb(0xdc)]=0x3,this['defaultWinners']=0x1;}};