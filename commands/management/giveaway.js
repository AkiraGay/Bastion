const a83_0x1cab=['send','react','DiscordError','PLATINUM','floor','default','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','fetch','The\x20giveaway\x20winners\x20were\x20rerolled\x20and\x20the\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','Congratulations','RED','premiumGiveaways','users','cache','client','user','defaultTimeout','PremiumTier','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','LIMITED_PREMIUM_MEMBERSHIP','giveaway\x20--\x20ITEM','../../models/Giveaway','test','membershipLimitGiveawayTimeout','title','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','return\x20/\x22\x20+\x20this\x20+\x20\x22/','BASTION_ERROR_TYPE','bot','filter','document','MANAGE_CHANNELS','name','\x20or\x20','GOLD','create','GIVEAWAY_TIMEOUT','membershipLimitGiveaways','join','getString','embeds','countDocuments','MAX_SAFE_INTEGER','GIVEAWAY\x20ENDED','defaultWinners','../../utils/constants','now','LIMITS','premiumGiveawayTimeout','get','reroll','guild','fetchPremiumTier','winners','COLORS','giveaway\x20--reroll\x20ID\x20--winners\x20NUMBER','length','constructor','locale','../../utils/numbers','errors','has','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','channel','language','random','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GIVEAWAYS','edit','PREMIUM_MEMBERSHIP_REQUIRED','values','apply','catch','exec','@bastion/tesseract','isPublicBastion','timeout','reactions','push','GIVEAWAY!','clamp','messages','Constants','INVALID_COMMAND_SYNTAX','number','../../utils/omnic'];(function(_0x387ad0,_0x45dc3c){const _0x1cab3a=function(_0x1b0136){while(--_0x1b0136){_0x387ad0['push'](_0x387ad0['shift']());}},_0x4e50b5=function(){const _0x2bb68e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x16d66e,_0x4c764f,_0x215033,_0x36f294){_0x36f294=_0x36f294||{};let _0xa7316b=_0x4c764f+'='+_0x215033,_0x1fa5a0=0x0;for(let _0x343f69=0x0,_0x2c2d10=_0x16d66e['length'];_0x343f69<_0x2c2d10;_0x343f69++){const _0x2ad24c=_0x16d66e[_0x343f69];_0xa7316b+=';\x20'+_0x2ad24c;const _0x348dbf=_0x16d66e[_0x2ad24c];_0x16d66e['push'](_0x348dbf),_0x2c2d10=_0x16d66e['length'],_0x348dbf!==!![]&&(_0xa7316b+='='+_0x348dbf);}_0x36f294['cookie']=_0xa7316b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3953d0,_0x59e817){_0x3953d0=_0x3953d0||function(_0x254060){return _0x254060;};const _0x3f15c9=_0x3953d0(new RegExp('(?:^|;\x20)'+_0x59e817['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5a99f6=function(_0x3c7016,_0x550b16){_0x3c7016(++_0x550b16);};return _0x5a99f6(_0x1cab3a,_0x45dc3c),_0x3f15c9?decodeURIComponent(_0x3f15c9[0x1]):undefined;}},_0x18ab4f=function(){const _0x5a1bac=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5a1bac['test'](_0x2bb68e['removeCookie']['toString']());};_0x2bb68e['updateCookie']=_0x18ab4f;let _0x9cc149='';const _0xae5d0a=_0x2bb68e['updateCookie']();if(!_0xae5d0a)_0x2bb68e['setCookie'](['*'],'counter',0x1);else _0xae5d0a?_0x9cc149=_0x2bb68e['getCookie'](null,'counter'):_0x2bb68e['removeCookie']();};_0x4e50b5();}(a83_0x1cab,0x146));const a83_0x4e50=function(_0x387ad0,_0x45dc3c){_0x387ad0=_0x387ad0-0xe5;let _0x1cab3a=a83_0x1cab[_0x387ad0];return _0x1cab3a;};const a83_0x147476=a83_0x4e50,a83_0x18ab4f=function(){let _0xae5d0a=!![];return function(_0x16d66e,_0x4c764f){const _0x215033=_0xae5d0a?function(){const _0xe83a4e=a83_0x4e50;if(_0x4c764f){const _0x36f294=_0x4c764f[_0xe83a4e(0xe8)](_0x16d66e,arguments);return _0x4c764f=null,_0x36f294;}}:function(){};return _0xae5d0a=![],_0x215033;};}(),a83_0x2bb68e=a83_0x18ab4f(this,function(){const _0xa7316b=function(){const _0x159322=a83_0x4e50,_0x1fa5a0=_0xa7316b[_0x159322(0x130)](_0x159322(0x111))()[_0x159322(0x130)](_0x159322(0x139));return!_0x1fa5a0[_0x159322(0x10d)](a83_0x2bb68e);};return _0xa7316b();});a83_0x2bb68e();'use strict';const tesseract_1=require(a83_0x147476(0xeb)),Giveaway_1=require(a83_0x147476(0x10c)),constants=require(a83_0x147476(0x124)),errors=require('../../utils/errors'),numbers=require(a83_0x147476(0x132)),omnic=require(a83_0x147476(0xf6));module['exports']=class GiveawayCommand extends tesseract_1['Command']{constructor(){const _0x36b5c0=a83_0x147476;super('giveaway',{'description':'It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','triggers':[],'arguments':{'alias':{'reroll':['r'],'timeout':['t'],'winners':['w']},'number':[_0x36b5c0(0xed),_0x36b5c0(0x12c)],'coerce':{'timeout':_0x343f69=>typeof _0x343f69===_0x36b5c0(0xf5)&&numbers[_0x36b5c0(0xf1)](_0x343f69,0x1,0x2d0),'winners':_0x2c2d10=>typeof _0x2c2d10===_0x36b5c0(0xf5)&&Math[_0x36b5c0(0xfb)](numbers[_0x36b5c0(0xf1)](_0x2c2d10,0x1,Number[_0x36b5c0(0x121)]))},'default':{'timeout':0x3,'winners':0x1}},'scope':_0x36b5c0(0x12a),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x36b5c0(0x116)],'syntax':[_0x36b5c0(0x10b),_0x36b5c0(0x109),_0x36b5c0(0x135),_0x36b5c0(0x12e)]}),this[_0x36b5c0(0xea)]=async(_0x2ad24c,_0x348dbf)=>{const _0x364ad5=_0x36b5c0;if(_0x348dbf[_0x364ad5(0x129)]){const _0x3c7016=await _0x2ad24c[_0x364ad5(0x136)][_0x364ad5(0xf2)][_0x364ad5(0xfe)](_0x348dbf[_0x364ad5(0x129)]);let _0x550b16=[];for(const _0x2be831 of['ðŸŽŠ','ðŸŽ‰']){_0x3c7016[_0x364ad5(0xee)]['cache'][_0x364ad5(0x134)](_0x2be831)&&(await _0x3c7016[_0x364ad5(0xee)][_0x364ad5(0x104)][_0x364ad5(0x128)](_0x2be831)[_0x364ad5(0x103)][_0x364ad5(0xfe)]()[_0x364ad5(0xe9)](()=>{}),_0x550b16[_0x364ad5(0xef)](..._0x3c7016[_0x364ad5(0xee)][_0x364ad5(0x104)]['get'](_0x2be831)[_0x364ad5(0x103)][_0x364ad5(0x104)]['filter'](_0x588f94=>!_0x588f94[_0x364ad5(0x113)])[_0x364ad5(0xe7)]()));}const _0x5a1bac=[];for(let _0x273cd3=0x0;_0x273cd3<(_0x348dbf['winners']||0x1);_0x273cd3++){if(!_0x550b16['length'])break;const _0x178d6a=_0x550b16[Math[_0x364ad5(0xfb)](Math[_0x364ad5(0x138)]()*_0x550b16[_0x364ad5(0x12f)])];_0x5a1bac['push'](_0x178d6a),_0x550b16=_0x550b16[_0x364ad5(0x114)](_0x359048=>_0x359048['id']!==_0x178d6a['id']);}_0x5a1bac['length']?await _0x3c7016['edit']({'embed':{'color':tesseract_1[_0x364ad5(0xf3)]['COLORS']['SOMEWHAT_DARK'],'author':{'name':'GIVEAWAY\x20WINNERS\x20REROLLED'},'title':_0x3c7016[_0x364ad5(0x11f)][0x0][_0x364ad5(0x10f)],'description':_0x364ad5(0xff),'fields':[{'name':_0x364ad5(0x100),'value':_0x5a1bac[_0x364ad5(0x11d)](',\x20')}],'footer':{'text':_0x3c7016['id']},'timestamp':new Date()}}):await _0x3c7016[_0x364ad5(0xe5)]({'embed':{'color':tesseract_1[_0x364ad5(0xf3)][_0x364ad5(0x12d)][_0x364ad5(0x101)],'author':{'name':_0x364ad5(0x122)},'title':_0x3c7016[_0x364ad5(0x11f)][0x0][_0x364ad5(0x10f)],'description':_0x364ad5(0xfd),'footer':{'text':_0x3c7016['id']},'timestamp':new Date()}});}if(!_0x348dbf['_'][_0x364ad5(0x12f)])throw new errors[(_0x364ad5(0xf9))](errors['BASTION_ERROR_TYPE'][_0x364ad5(0xf4)],this[_0x364ad5(0x117)]);const _0x3953d0=_0x348dbf['_'][_0x364ad5(0x11d)]('\x20'),_0x59e817=_0x348dbf['timeout']?_0x348dbf[_0x364ad5(0xed)]:this[_0x364ad5(0x107)],_0x3f15c9=_0x348dbf[_0x364ad5(0x12c)]?_0x348dbf[_0x364ad5(0x12c)]:this[_0x364ad5(0x123)];if(constants[_0x364ad5(0xec)](this['client'][_0x364ad5(0x106)])){const _0x2ea439=await omnic[_0x364ad5(0x12b)](_0x2ad24c[_0x364ad5(0x12a)])[_0x364ad5(0xe9)](()=>{});if(_0x2ea439){if(_0x2ea439===omnic['PremiumTier']['GOLD']&&_0x59e817>constants[_0x364ad5(0x126)][_0x364ad5(0x119)]['GIVEAWAY_TIMEOUT'])throw new errors[(_0x364ad5(0xf9))](errors['BASTION_ERROR_TYPE'][_0x364ad5(0x10a)],this[_0x364ad5(0x105)][_0x364ad5(0x131)][_0x364ad5(0x11e)](_0x2ad24c[_0x364ad5(0x12a)][_0x364ad5(0x115)]['language'],_0x364ad5(0x133),_0x364ad5(0x10e),constants['LIMITS'][_0x364ad5(0x119)]['GIVEAWAY_TIMEOUT']));else{if(_0x2ea439===omnic['PremiumTier']['PLATINUM']&&_0x59e817>constants[_0x364ad5(0x126)]['PLATINUM']['GIVEAWAY_TIMEOUT'])throw new errors[(_0x364ad5(0xf9))](errors[_0x364ad5(0x112)][_0x364ad5(0x10a)],this[_0x364ad5(0x105)][_0x364ad5(0x131)]['getString'](_0x2ad24c[_0x364ad5(0x12a)]['document'][_0x364ad5(0x137)],_0x364ad5(0x133),_0x364ad5(0x10e),constants[_0x364ad5(0x126)][_0x364ad5(0xfa)][_0x364ad5(0x11b)]));}}else{if(_0x59e817>constants[_0x364ad5(0x126)]['GIVEAWAY_TIMEOUT'])throw new errors[(_0x364ad5(0xf9))](errors[_0x364ad5(0x112)][_0x364ad5(0xe6)],this[_0x364ad5(0x105)][_0x364ad5(0x131)][_0x364ad5(0x11e)](_0x2ad24c[_0x364ad5(0x12a)][_0x364ad5(0x115)][_0x364ad5(0x137)],_0x364ad5(0x133),_0x364ad5(0x127),constants[_0x364ad5(0x126)][_0x364ad5(0x11b)]));}const _0x34fce6=await Giveaway_1[_0x364ad5(0xfc)][_0x364ad5(0x120)]({'guild':_0x2ad24c[_0x364ad5(0x12a)]['id'],'ends':{'$gte':new Date()}});if(_0x2ea439){if(_0x2ea439===omnic[_0x364ad5(0x108)]['GOLD']&&_0x34fce6>=constants[_0x364ad5(0x126)][_0x364ad5(0x119)][_0x364ad5(0x13a)])throw new errors[(_0x364ad5(0xf9))](errors[_0x364ad5(0x112)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x364ad5(0x105)][_0x364ad5(0x131)]['getString'](_0x2ad24c['guild'][_0x364ad5(0x115)][_0x364ad5(0x137)],_0x364ad5(0x133),_0x364ad5(0x11c),constants[_0x364ad5(0x126)][_0x364ad5(0x119)][_0x364ad5(0x13a)]));else{if(_0x2ea439===omnic[_0x364ad5(0x108)]['PLATINUM']&&_0x34fce6>=constants[_0x364ad5(0x126)][_0x364ad5(0xfa)][_0x364ad5(0x13a)])throw new errors[(_0x364ad5(0xf9))](errors[_0x364ad5(0x112)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x364ad5(0x105)]['locale'][_0x364ad5(0x11e)](_0x2ad24c[_0x364ad5(0x12a)][_0x364ad5(0x115)][_0x364ad5(0x137)],'errors','membershipLimitGiveaways',constants[_0x364ad5(0x126)][_0x364ad5(0xfa)][_0x364ad5(0x13a)]));}}else{if(_0x34fce6>=constants['LIMITS'][_0x364ad5(0x13a)])throw new errors[(_0x364ad5(0xf9))](errors['BASTION_ERROR_TYPE'][_0x364ad5(0xe6)],this['client'][_0x364ad5(0x131)][_0x364ad5(0x11e)](_0x2ad24c[_0x364ad5(0x12a)]['document'][_0x364ad5(0x137)],'errors',_0x364ad5(0x102),constants[_0x364ad5(0x126)][_0x364ad5(0x13a)]));}}const _0x5a99f6=new Date(Date[_0x364ad5(0x125)]()+_0x59e817*0x36ee80),_0x254060=await _0x2ad24c[_0x364ad5(0x136)][_0x364ad5(0xf7)]({'embed':{'color':tesseract_1['Constants'][_0x364ad5(0x12d)]['IRIS'],'author':{'name':_0x364ad5(0xf0)},'title':_0x3953d0,'description':'React\x20to\x20this\x20message\x20with\x20'+this[_0x364ad5(0xee)][_0x364ad5(0x11d)](_0x364ad5(0x118))+_0x364ad5(0x110),'footer':{'text':_0x3f15c9+'\x20Winners\x20â€¢\x20Ends'},'timestamp':_0x5a99f6}});await Giveaway_1[_0x364ad5(0xfc)][_0x364ad5(0x11a)]({'_id':_0x254060['id'],'channel':_0x254060[_0x364ad5(0x136)]['id'],'guild':_0x254060[_0x364ad5(0x12a)]['id'],'winners':_0x3f15c9,'ends':_0x5a99f6});for(const _0x3cb808 of this['reactions']){await _0x254060[_0x364ad5(0xf8)](_0x3cb808)[_0x364ad5(0xe9)](()=>{});}},this[_0x36b5c0(0xee)]=['ðŸŽŠ','ðŸŽ‰'],this[_0x36b5c0(0x107)]=0x3,this[_0x36b5c0(0x123)]=0x1;}};