const a281_0x23e9=['winners','giveaway','timeout','LIMITED_PREMIUM_MEMBERSHIP','errors','../../utils/constants','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM','../../models/Giveaway','\x20Winners\x20â€¢\x20Ends','compile','reactions','channel','COLORS','isPublicBastion','DiscordError','../../utils/omnic','Constants','LIMITS','GIVEAWAY!','GIVEAWAY_TIMEOUT','client','PREMIUM_MEMBERSHIP_REQUIRED','defaultTimeout','exports','test','user','locale','MANAGE_CHANNELS','language','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','apply','join','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','GIVEAWAYS','default','defaultWinners','BASTION_ERROR_TYPE','fetchPremiumTier','clamp','guild','membershipLimitGiveawayTimeout','constructor','PremiumTier','getString','\x20or\x20','MAX_SAFE_INTEGER','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','document','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Command','React\x20to\x20this\x20message\x20with\x20','../../utils/numbers','GOLD','giveaway\x20--\x20ITEM','floor','length','catch','PLATINUM'];(function(_0x59f85f,_0x23e982){const _0x3fb3fa=function(_0x2f3b11){while(--_0x2f3b11){_0x59f85f['push'](_0x59f85f['shift']());}};const _0x41f95c=function(){const _0x2a8a99={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x52a9b3,_0x3df2f8,_0x21e873,_0x223656){_0x223656=_0x223656||{};let _0x546b50=_0x3df2f8+'='+_0x21e873;let _0x1bf60c=0x0;for(let _0x2de4d9=0x0,_0x5c9752=_0x52a9b3['length'];_0x2de4d9<_0x5c9752;_0x2de4d9++){const _0x426435=_0x52a9b3[_0x2de4d9];_0x546b50+=';\x20'+_0x426435;const _0x303301=_0x52a9b3[_0x426435];_0x52a9b3['push'](_0x303301);_0x5c9752=_0x52a9b3['length'];if(_0x303301!==!![]){_0x546b50+='='+_0x303301;}}_0x223656['cookie']=_0x546b50;},'removeCookie':function(){return'dev';},'getCookie':function(_0x18bfa6,_0x2e2f88){_0x18bfa6=_0x18bfa6||function(_0x2f072b){return _0x2f072b;};const _0x2976a6=_0x18bfa6(new RegExp('(?:^|;\x20)'+_0x2e2f88['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x731636=function(_0x5823eb,_0x57e645){_0x5823eb(++_0x57e645);};_0x731636(_0x3fb3fa,_0x23e982);return _0x2976a6?decodeURIComponent(_0x2976a6[0x1]):undefined;}};const _0x225639=function(){const _0x66acb7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x66acb7['test'](_0x2a8a99['removeCookie']['toString']());};_0x2a8a99['updateCookie']=_0x225639;let _0x26c281='';const _0x32fc5e=_0x2a8a99['updateCookie']();if(!_0x32fc5e){_0x2a8a99['setCookie'](['*'],'counter',0x1);}else if(_0x32fc5e){_0x26c281=_0x2a8a99['getCookie'](null,'counter');}else{_0x2a8a99['removeCookie']();}};_0x41f95c();}(a281_0x23e9,0x7b));const a281_0x3fb3=function(_0x59f85f,_0x23e982){_0x59f85f=_0x59f85f-0x0;let _0x3fb3fa=a281_0x23e9[_0x59f85f];return _0x3fb3fa;};const a281_0x2a8a99=function(){let _0x424409=!![];return function(_0x466782,_0x5085f7){const _0x1f765f=_0x424409?function(){if(_0x5085f7){const _0x40f182=_0x5085f7[a281_0x3fb3('0x17')](_0x466782,arguments);_0x5085f7=null;return _0x40f182;}}:function(){};_0x424409=![];return _0x1f765f;};}();const a281_0x2f3b11=a281_0x2a8a99(this,function(){const _0x3f24cb=function(){const _0x1bde67=_0x3f24cb[a281_0x3fb3('0x22')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a281_0x3fb3('0x2')](a281_0x3fb3('0x29'));return!_0x1bde67[a281_0x3fb3('0x11')](a281_0x2f3b11);};return _0x3f24cb();});a281_0x2f3b11();'use strict';const tesseract_1=require('@bastion/tesseract');const Giveaway_1=require(a281_0x3fb3('0x0'));const constants=require(a281_0x3fb3('0x38'));const errors=require('../../utils/errors');const numbers=require(a281_0x3fb3('0x2c'));const omnic=require(a281_0x3fb3('0x8'));module[a281_0x3fb3('0x10')]=class GiveawayCommand extends tesseract_1[a281_0x3fb3('0x2a')]{constructor(){super(a281_0x3fb3('0x34'),{'description':a281_0x3fb3('0x19'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a281_0x3fb3('0x35'),'winners'],'coerce':{'timeout':_0xf15b98=>typeof _0xf15b98==='number'&&numbers[a281_0x3fb3('0x1f')](_0xf15b98,0x1,0x2d0),'winners':_0x33b2ce=>typeof _0x33b2ce==='number'&&Math[a281_0x3fb3('0x2f')](numbers[a281_0x3fb3('0x1f')](_0x33b2ce,0x1,Number[a281_0x3fb3('0x26')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a281_0x3fb3('0x14')],'syntax':[a281_0x3fb3('0x2e'),a281_0x3fb3('0x39'),a281_0x3fb3('0x16')]});this['exec']=async(_0x583732,_0x4d29a4)=>{if(!_0x4d29a4['_'][a281_0x3fb3('0x30')])throw new errors[(a281_0x3fb3('0x7'))](errors[a281_0x3fb3('0x1d')]['INVALID_COMMAND_SYNTAX'],this['name']);const _0x3bb0ff=_0x4d29a4['_']['join']('\x20');const _0x227286=_0x4d29a4['timeout']?_0x4d29a4[a281_0x3fb3('0x35')]:this[a281_0x3fb3('0xf')];const _0x18742c=_0x4d29a4[a281_0x3fb3('0x33')]?_0x4d29a4['winners']:this[a281_0x3fb3('0x1c')];if(constants[a281_0x3fb3('0x6')](this[a281_0x3fb3('0xd')][a281_0x3fb3('0x12')])){const _0x5dcc5d=await omnic[a281_0x3fb3('0x1e')](_0x583732[a281_0x3fb3('0x20')])[a281_0x3fb3('0x31')](()=>{});if(_0x5dcc5d){if(_0x5dcc5d===omnic[a281_0x3fb3('0x23')][a281_0x3fb3('0x2d')]&&_0x227286>constants[a281_0x3fb3('0xa')][a281_0x3fb3('0x2d')]['GIVEAWAY_TIMEOUT']){throw new errors['DiscordError'](errors[a281_0x3fb3('0x1d')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a281_0x3fb3('0xd')][a281_0x3fb3('0x13')][a281_0x3fb3('0x24')](_0x583732[a281_0x3fb3('0x20')][a281_0x3fb3('0x28')][a281_0x3fb3('0x15')],'errors',a281_0x3fb3('0x21'),constants[a281_0x3fb3('0xa')][a281_0x3fb3('0x2d')][a281_0x3fb3('0xc')]));}else if(_0x5dcc5d===omnic[a281_0x3fb3('0x23')][a281_0x3fb3('0x32')]&&_0x227286>constants[a281_0x3fb3('0xa')]['PLATINUM'][a281_0x3fb3('0xc')]){throw new errors[(a281_0x3fb3('0x7'))](errors[a281_0x3fb3('0x1d')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a281_0x3fb3('0xd')]['locale'][a281_0x3fb3('0x24')](_0x583732[a281_0x3fb3('0x20')]['document'][a281_0x3fb3('0x15')],'errors',a281_0x3fb3('0x21'),constants[a281_0x3fb3('0xa')][a281_0x3fb3('0x32')][a281_0x3fb3('0xc')]));}}else if(_0x227286>constants[a281_0x3fb3('0xa')]['GIVEAWAY_TIMEOUT']){throw new errors[(a281_0x3fb3('0x7'))](errors[a281_0x3fb3('0x1d')][a281_0x3fb3('0xe')],this['client'][a281_0x3fb3('0x13')]['getString'](_0x583732[a281_0x3fb3('0x20')]['document']['language'],'errors','premiumGiveawayTimeout',constants[a281_0x3fb3('0xa')][a281_0x3fb3('0xc')]));}const _0x20719b=await Giveaway_1[a281_0x3fb3('0x1b')]['countDocuments']({'guild':_0x583732['guild']['id'],'ends':{'$gte':new Date()}});if(_0x5dcc5d){if(_0x5dcc5d===omnic['PremiumTier'][a281_0x3fb3('0x2d')]&&_0x20719b>=constants['LIMITS']['GOLD']['GIVEAWAYS']){throw new errors[(a281_0x3fb3('0x7'))](errors['BASTION_ERROR_TYPE'][a281_0x3fb3('0x36')],this[a281_0x3fb3('0xd')][a281_0x3fb3('0x13')][a281_0x3fb3('0x24')](_0x583732[a281_0x3fb3('0x20')][a281_0x3fb3('0x28')][a281_0x3fb3('0x15')],a281_0x3fb3('0x37'),'membershipLimitGiveaways',constants[a281_0x3fb3('0xa')][a281_0x3fb3('0x2d')]['GIVEAWAYS']));}else if(_0x5dcc5d===omnic['PremiumTier'][a281_0x3fb3('0x32')]&&_0x20719b>=constants[a281_0x3fb3('0xa')]['PLATINUM'][a281_0x3fb3('0x1a')]){throw new errors[(a281_0x3fb3('0x7'))](errors['BASTION_ERROR_TYPE'][a281_0x3fb3('0x36')],this[a281_0x3fb3('0xd')][a281_0x3fb3('0x13')]['getString'](_0x583732['guild'][a281_0x3fb3('0x28')][a281_0x3fb3('0x15')],'errors','membershipLimitGiveaways',constants[a281_0x3fb3('0xa')][a281_0x3fb3('0x32')]['GIVEAWAYS']));}}else{throw new errors[(a281_0x3fb3('0x7'))](errors['BASTION_ERROR_TYPE']['PREMIUM_MEMBERSHIP_REQUIRED'],this['client']['locale']['getString'](_0x583732[a281_0x3fb3('0x20')][a281_0x3fb3('0x28')]['language'],a281_0x3fb3('0x37'),'premiumGiveaways',constants[a281_0x3fb3('0xa')][a281_0x3fb3('0x1a')]));}}const _0x38b705=new Date(Date['now']()+_0x227286*0x36ee80);const _0x55c947=await _0x583732[a281_0x3fb3('0x4')]['send']({'embed':{'color':tesseract_1[a281_0x3fb3('0x9')][a281_0x3fb3('0x5')]['IRIS'],'author':{'name':a281_0x3fb3('0xb')},'title':_0x3bb0ff,'description':a281_0x3fb3('0x2b')+this[a281_0x3fb3('0x3')][a281_0x3fb3('0x18')](a281_0x3fb3('0x25'))+a281_0x3fb3('0x27'),'footer':{'text':_0x18742c+a281_0x3fb3('0x1')},'timestamp':_0x38b705}});await Giveaway_1['default']['create']({'_id':_0x55c947['id'],'channel':_0x55c947[a281_0x3fb3('0x4')]['id'],'guild':_0x55c947[a281_0x3fb3('0x20')]['id'],'winners':_0x18742c,'ends':_0x38b705});for(const _0x220dae of this[a281_0x3fb3('0x3')]){await _0x55c947['react'](_0x220dae)[a281_0x3fb3('0x31')](()=>{});}};this['reactions']=['ðŸŽŠ','ðŸŽ‰'];this[a281_0x3fb3('0xf')]=0x3;this[a281_0x3fb3('0x1c')]=0x1;}};