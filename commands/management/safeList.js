const a79_0x12f4=['role','tag','return\x20/\x22\x20+\x20this\x20+\x20\x22/','BASTION_ERROR_TYPE','info','COLORS','constructor','inviteFilter','linkFilterSafeListRemove','save','@bastion/tesseract','NO_LINK_FILTER_SAFE_LIST_EXISTS','language','DiscordError','invite','name','locale','filter','INVALID_COMMAND_SYNTAX','safeList\x20--link','exports','default','MANAGE_GUILD','resolveRole','linkFilterSafeListAdd','Command','Link\x20Filter\x20-\x20Safe\x20List','linkFilter','../../utils/errors','resolveGuildChannel','test','Constants','safeList','join','apply','overwrite','ROLE_OR_CHANNEL_NOT_FOUND','delete','client','IRIS','channel','news','author','RED','whitelist','resolver','getString','document','length','send','findById','inviteFilterSafeListRemove','push','guild','It\x20allows\x20you\x20to\x20add\x20members\x20or\x20roles\x20to\x20a\x20safe\x20list\x20that\x20prevents\x20their\x20messages\x20from\x20being\x20filtered\x20by\x20invite\x20filter\x20or\x20link\x20filter\x20in\x20the\x20server.','exec','filters','safeList\x20--invite','link','text'];(function(_0x442080,_0x12f477){const _0x5dc3d4=function(_0x1344cd){while(--_0x1344cd){_0x442080['push'](_0x442080['shift']());}},_0x357833=function(){const _0x2abccc={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xe5ff21,_0x50595e,_0x222978,_0x38d03b){_0x38d03b=_0x38d03b||{};let _0x2d7628=_0x50595e+'='+_0x222978,_0x31d1f0=0x0;for(let _0x1ffb5a=0x0,_0x3e576c=_0xe5ff21['length'];_0x1ffb5a<_0x3e576c;_0x1ffb5a++){const _0x50327c=_0xe5ff21[_0x1ffb5a];_0x2d7628+=';\x20'+_0x50327c;const _0x46197e=_0xe5ff21[_0x50327c];_0xe5ff21['push'](_0x46197e),_0x3e576c=_0xe5ff21['length'],_0x46197e!==!![]&&(_0x2d7628+='='+_0x46197e);}_0x38d03b['cookie']=_0x2d7628;},'removeCookie':function(){return'dev';},'getCookie':function(_0x43b0b9,_0x5077a1){_0x43b0b9=_0x43b0b9||function(_0x44ac8c){return _0x44ac8c;};const _0x269f3f=_0x43b0b9(new RegExp('(?:^|;\x20)'+_0x5077a1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x513ca4=function(_0x4978b0,_0x903a84){_0x4978b0(++_0x903a84);};return _0x513ca4(_0x5dc3d4,_0x12f477),_0x269f3f?decodeURIComponent(_0x269f3f[0x1]):undefined;}},_0x16c921=function(){const _0x475a5b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x475a5b['test'](_0x2abccc['removeCookie']['toString']());};_0x2abccc['updateCookie']=_0x16c921;let _0x5547e0='';const _0x42ac12=_0x2abccc['updateCookie']();if(!_0x42ac12)_0x2abccc['setCookie'](['*'],'counter',0x1);else _0x42ac12?_0x5547e0=_0x2abccc['getCookie'](null,'counter'):_0x2abccc['removeCookie']();};_0x357833();}(a79_0x12f4,0x134));const a79_0x5dc3=function(_0x442080,_0x12f477){_0x442080=_0x442080-0x0;let _0x5dc3d4=a79_0x12f4[_0x442080];return _0x5dc3d4;};const _0x590739=a79_0x5dc3,a79_0x2abccc=function(){let _0x5547e0=!![];return function(_0x42ac12,_0xe5ff21){const _0x50595e=_0x5547e0?function(){const _0x5f0b91=a79_0x5dc3;if(_0xe5ff21){const _0x222978=_0xe5ff21[_0x5f0b91('0x1a')](_0x42ac12,arguments);return _0xe5ff21=null,_0x222978;}}:function(){};return _0x5547e0=![],_0x50595e;};}(),a79_0x1344cd=a79_0x2abccc(this,function(){const _0x38d03b=function(){const _0x482ce6=a79_0x5dc3,_0x2d7628=_0x38d03b[_0x482ce6('0x3a')](_0x482ce6('0x36'))()[_0x482ce6('0x3a')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2d7628[_0x482ce6('0x16')](a79_0x1344cd);};return _0x38d03b();});a79_0x1344cd();'use strict';const tesseract_1=require(_0x590739('0x2')),Guild_1=require('../../models/Guild'),errors=require(_0x590739('0x14'));module[_0x590739('0xc')]=class SafeListCommand extends tesseract_1[_0x590739('0x11')]{constructor(){const _0x35e2a3=_0x590739;super(_0x35e2a3('0x18'),{'description':_0x35e2a3('0x2e'),'triggers':[],'arguments':{'boolean':[_0x35e2a3('0x6'),_0x35e2a3('0x32'),'delete']},'scope':_0x35e2a3('0x2d'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x35e2a3('0xe')],'syntax':[_0x35e2a3('0x31'),'safeList\x20--invite\x20CHANNEL\x20|\x20ROLE','safeList\x20--invite\x20CHANNEL\x20|\x20ROLE\x20--delete',_0x35e2a3('0xb'),'safeList\x20--link\x20CHANNEL\x20|\x20ROLE','safeList\x20--link\x20CHANNEL\x20|\x20ROLE\x20--delete']}),this[_0x35e2a3('0x2f')]=async(_0x31d1f0,_0x1ffb5a)=>{const _0x11e914=_0x35e2a3;if(_0x1ffb5a['invite']){const _0x3e576c=await Guild_1[_0x11e914('0xd')]['findById'](_0x31d1f0[_0x11e914('0x2d')]['id']);if(_0x1ffb5a['_']&&_0x1ffb5a['_']['length']){const _0x50327c=_0x1ffb5a['_'][_0x11e914('0x19')]('\x20'),_0x46197e=this[_0x11e914('0x1e')][_0x11e914('0x25')][_0x11e914('0x15')](_0x31d1f0['guild'],_0x50327c,['text',_0x11e914('0x21')]),_0x43b0b9=this[_0x11e914('0x1e')][_0x11e914('0x25')][_0x11e914('0xf')](_0x31d1f0[_0x11e914('0x2d')],_0x50327c),_0x5077a1=_0x46197e||_0x43b0b9||undefined;if(!_0x5077a1)throw new Error(_0x11e914('0x1c'));const _0x269f3f=_0x3e576c['toObject']();if(_0x1ffb5a[_0x11e914('0x1d')]){if(_0x269f3f['filters']&&_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')]&&_0x269f3f['filters']['inviteFilter'][_0x11e914('0x24')]){_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')][_0x11e914('0x24')]=_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')][_0x11e914('0x24')]['filter'](_0x513ca4=>_0x513ca4!==_0x5077a1['id']);if(!_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')][_0x11e914('0x24')]['length'])delete _0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')][_0x11e914('0x24')];}}else{if(!_0x269f3f[_0x11e914('0x30')])_0x269f3f[_0x11e914('0x30')]={};if(_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')]){if(_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')][_0x11e914('0x24')])_0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')]['whitelist'][_0x11e914('0x2c')](_0x5077a1['id']);else _0x269f3f[_0x11e914('0x30')][_0x11e914('0x3b')]['whitelist']=[_0x5077a1['id']];}else _0x269f3f['filters']['inviteFilter']={'enabled':!![],'whitelist':[_0x5077a1['id']]};}return _0x3e576c[_0x11e914('0x1b')](_0x269f3f),await _0x3e576c[_0x11e914('0x1')](),await _0x31d1f0[_0x11e914('0x20')][_0x11e914('0x29')]({'embed':{'color':_0x1ffb5a[_0x11e914('0x1d')]?tesseract_1[_0x11e914('0x17')][_0x11e914('0x39')][_0x11e914('0x23')]:tesseract_1[_0x11e914('0x17')]['COLORS']['GREEN'],'description':this[_0x11e914('0x1e')]['locale']['getString'](_0x31d1f0['guild'][_0x11e914('0x27')][_0x11e914('0x4')],_0x11e914('0x38'),_0x1ffb5a[_0x11e914('0x1d')]?_0x11e914('0x2b'):'inviteFilterSafeListAdd',_0x31d1f0['author'][_0x11e914('0x35')],_0x5077a1[_0x11e914('0x7')])}});}if(_0x3e576c['filters']&&_0x3e576c[_0x11e914('0x30')]['inviteFilter']&&_0x3e576c[_0x11e914('0x30')][_0x11e914('0x3b')][_0x11e914('0x24')])return await _0x31d1f0[_0x11e914('0x20')][_0x11e914('0x29')]({'embed':{'color':tesseract_1[_0x11e914('0x17')][_0x11e914('0x39')]['IRIS'],'title':'Invite\x20Filter\x20-\x20Safe\x20List','description':_0x3e576c[_0x11e914('0x30')]['inviteFilter']['whitelist']['map'](_0x44ac8c=>{const _0x5bfdb4=_0x11e914,_0x4978b0=this['client'][_0x5bfdb4('0x25')][_0x5bfdb4('0x15')](_0x31d1f0[_0x5bfdb4('0x2d')],_0x44ac8c),_0x903a84=this[_0x5bfdb4('0x1e')][_0x5bfdb4('0x25')]['resolveRole'](_0x31d1f0['guild'],_0x1ffb5a[_0x5bfdb4('0x34')]),_0x475a5b=_0x4978b0||_0x903a84||undefined;return _0x475a5b?_0x475a5b['name']:_0x44ac8c;})[_0x11e914('0x19')](',\x20')}});else throw new Error('NO_INVITE_FILTER_SAFE_LIST_EXISTS');}if(_0x1ffb5a[_0x11e914('0x32')]){const _0xeff306=await Guild_1[_0x11e914('0xd')][_0x11e914('0x2a')](_0x31d1f0[_0x11e914('0x2d')]['id']);if(_0x1ffb5a['_']&&_0x1ffb5a['_'][_0x11e914('0x28')]){const _0x115296=_0x1ffb5a['_'][_0x11e914('0x19')]('\x20'),_0x746e8=this[_0x11e914('0x1e')][_0x11e914('0x25')]['resolveGuildChannel'](_0x31d1f0[_0x11e914('0x2d')],_0x115296,[_0x11e914('0x33'),'news']),_0x47f0b6=this[_0x11e914('0x1e')][_0x11e914('0x25')][_0x11e914('0xf')](_0x31d1f0[_0x11e914('0x2d')],_0x115296),_0xe524f3=_0x746e8||_0x47f0b6||undefined;if(!_0xe524f3)throw new Error(_0x11e914('0x1c'));const _0x8cae11=_0xeff306['toObject']();if(_0x1ffb5a[_0x11e914('0x1d')]){if(_0x8cae11[_0x11e914('0x30')]&&_0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')]&&_0x8cae11['filters'][_0x11e914('0x13')][_0x11e914('0x24')]){_0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')][_0x11e914('0x24')]=_0x8cae11['filters'][_0x11e914('0x13')][_0x11e914('0x24')][_0x11e914('0x9')](_0xd25f14=>_0xd25f14!==_0xe524f3['id']);if(!_0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')][_0x11e914('0x24')][_0x11e914('0x28')])delete _0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')][_0x11e914('0x24')];}}else{if(!_0x8cae11[_0x11e914('0x30')])_0x8cae11['filters']={};if(_0x8cae11['filters'][_0x11e914('0x13')]){if(_0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')]['whitelist'])_0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')][_0x11e914('0x24')][_0x11e914('0x2c')](_0xe524f3['id']);else _0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')][_0x11e914('0x24')]=[_0xe524f3['id']];}else _0x8cae11[_0x11e914('0x30')][_0x11e914('0x13')]={'enabled':!![],'whitelist':[_0xe524f3['id']]};}return _0xeff306[_0x11e914('0x1b')](_0x8cae11),await _0xeff306[_0x11e914('0x1')](),await _0x31d1f0['channel']['send']({'embed':{'color':_0x1ffb5a[_0x11e914('0x1d')]?tesseract_1['Constants'][_0x11e914('0x39')][_0x11e914('0x23')]:tesseract_1[_0x11e914('0x17')][_0x11e914('0x39')]['GREEN'],'description':this[_0x11e914('0x1e')][_0x11e914('0x8')][_0x11e914('0x26')](_0x31d1f0[_0x11e914('0x2d')][_0x11e914('0x27')]['language'],_0x11e914('0x38'),_0x1ffb5a[_0x11e914('0x1d')]?_0x11e914('0x0'):_0x11e914('0x10'),_0x31d1f0[_0x11e914('0x22')][_0x11e914('0x35')],_0xe524f3[_0x11e914('0x7')])}});}if(_0xeff306[_0x11e914('0x30')]&&_0xeff306[_0x11e914('0x30')][_0x11e914('0x13')]&&_0xeff306[_0x11e914('0x30')]['linkFilter'][_0x11e914('0x24')])return await _0x31d1f0[_0x11e914('0x20')][_0x11e914('0x29')]({'embed':{'color':tesseract_1[_0x11e914('0x17')][_0x11e914('0x39')][_0x11e914('0x1f')],'title':_0x11e914('0x12'),'description':_0xeff306[_0x11e914('0x30')][_0x11e914('0x13')]['whitelist']['map'](_0x508211=>{const _0x4bdbdc=_0x11e914,_0x21c06b=this[_0x4bdbdc('0x1e')][_0x4bdbdc('0x25')]['resolveGuildChannel'](_0x31d1f0[_0x4bdbdc('0x2d')],_0x508211),_0x227d0d=this[_0x4bdbdc('0x1e')][_0x4bdbdc('0x25')][_0x4bdbdc('0xf')](_0x31d1f0[_0x4bdbdc('0x2d')],_0x1ffb5a[_0x4bdbdc('0x34')]),_0x2c57d5=_0x21c06b||_0x227d0d||undefined;return _0x2c57d5?_0x2c57d5['name']:_0x508211;})['join'](',\x20')}});else throw new Error(_0x11e914('0x3'));}throw new errors[(_0x11e914('0x5'))](errors[_0x11e914('0x37')][_0x11e914('0xa')],this['name']);};}};