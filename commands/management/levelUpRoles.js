const a88_0x3d79=['Command','channel','tag','PLATINUM','NO_LEVEL_UP_ROLES','LIMITS','Constants','cache','../../utils/constants','MAX_LEVEL','651897vXYvAG','fetchPremiumTier','getString','234860WJpyTl','@bastion/tesseract','18289tRRyTS','GOLD','DiscordError','countDocuments','1ovwTSL','client','name','send','constructor','671628fMUUJw','3383gXHubI','ROLE_LEVELS','43fBbuYf','PREMIUM_MEMBERSHIP_REQUIRED','195265yZkyhi','isPublicBastion','return\x20/\x22\x20+\x20this\x20+\x20\x22/','levelUpRoles\x20--level\x20NUMBER\x20--remove','language','1LAtuTd','info','apply','_id','PremiumTier','11rcKVpY','locale','resolver','levelUpRoles','distinct','Roles','map','LIMITED_PREMIUM_MEMBERSHIP','COLORS','save','ROLE_NOT_FOUND','Level\x20','ROLES_PER_LEVEL','keys','roles','BASTION_ERROR_TYPE','membershipLimitLevelRoles','join','find','guild','IRIS','../../models/Role','membershipLimitRoleLevels','level','document','GREEN','Level-Up\x20Roles','It\x20allows\x20you\x20to\x20add\x20roles\x20to\x20a\x20level.\x20When\x20members\x20reach\x20that\x20level,\x20they\x27ll\x20be\x20awarded\x20those\x20roles.','RED','../../utils/gamification','default','length','has','resolveRole','premiumRoleLevels','exports','updateMany','297513FUEmkj','errors','createDocument','role','roleLevelAdd','user','catch','roleLevelClear','../../utils/numbers','roleNotFound'];const a88_0x3f64=function(_0x13ce87,_0x3f76f4){_0x13ce87=_0x13ce87-0x72;let _0xb31165=a88_0x3d79[_0x13ce87];return _0xb31165;};const a88_0x47842c=a88_0x3f64;(function(_0xc784c6,_0x1cf8b9){const _0x84a82f=a88_0x3f64;while(!![]){try{const _0x51e700=parseInt(_0x84a82f(0x8d))*parseInt(_0x84a82f(0x75))+-parseInt(_0x84a82f(0x7e))*parseInt(_0x84a82f(0x88))+-parseInt(_0x84a82f(0x83))+parseInt(_0x84a82f(0x73))+-parseInt(_0x84a82f(0x79))*-parseInt(_0x84a82f(0xb2))+parseInt(_0x84a82f(0x81))*-parseInt(_0x84a82f(0x7f))+parseInt(_0x84a82f(0xc6));if(_0x51e700===_0x1cf8b9)break;else _0xc784c6['push'](_0xc784c6['shift']());}catch(_0x14af81){_0xc784c6['push'](_0xc784c6['shift']());}}}(a88_0x3d79,0x5b15f));const a88_0xe9b001=function(){let _0x905854=!![];return function(_0x5bb83e,_0xde14fe){const _0x18b505=_0x905854?function(){const _0xbc4f83=a88_0x3f64;if(_0xde14fe){const _0x42ba9b=_0xde14fe[_0xbc4f83(0x8a)](_0x5bb83e,arguments);return _0xde14fe=null,_0x42ba9b;}}:function(){};return _0x905854=![],_0x18b505;};}(),a88_0x5594d5=a88_0xe9b001(this,function(){const _0x5d01c5=function(){const _0x134e22=a88_0x3f64,_0x158215=_0x5d01c5[_0x134e22(0x7d)](_0x134e22(0x85))()[_0x134e22(0x7d)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x158215['test'](a88_0x5594d5);};return _0x5d01c5();});a88_0x5594d5();'use strict';const tesseract_1=require(a88_0x47842c(0x74)),Role_1=require(a88_0x47842c(0xa2)),constants=require(a88_0x47842c(0xc4)),errors=require('../../utils/errors'),gamification=require(a88_0x47842c(0xaa)),numbers=require(a88_0x47842c(0xba)),omnic=require('../../utils/omnic');module[a88_0x47842c(0xb0)]=class LevelUpRolesCommand extends tesseract_1[a88_0x47842c(0xbc)]{constructor(){const _0x3c8a8f=a88_0x47842c;super(_0x3c8a8f(0x90),{'description':_0x3c8a8f(0xa8),'triggers':[],'arguments':{'array':[_0x3c8a8f(0xb5)],'boolean':['remove'],'string':[_0x3c8a8f(0xb5)],'number':[_0x3c8a8f(0xa4)],'coerce':{'level':_0xb4f0ef=>numbers['clamp'](_0xb4f0ef,0x1,gamification[_0x3c8a8f(0xc5)])}},'scope':_0x3c8a8f(0xa0),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':['MANAGE_ROLES'],'syntax':[_0x3c8a8f(0x90),'levelUpRoles\x20--level\x20NUMBER','levelUpRoles\x20--level\x20NUMBER\x20--role\x20ROLE',_0x3c8a8f(0x86)]}),this['exec']=async(_0xd6f0e4,_0x50298d)=>{const _0x3e34f1=_0x3c8a8f;if(_0x50298d[_0x3e34f1(0xa4)]){if(_0x50298d[_0x3e34f1(0xb5)]){if(constants[_0x3e34f1(0x84)](this['client'][_0x3e34f1(0xb7)])){const _0x6072fb=await omnic[_0x3e34f1(0xc7)](_0xd6f0e4[_0x3e34f1(0xa0)])[_0x3e34f1(0xb8)](()=>{}),_0x4d5c62=await Role_1[_0x3e34f1(0xab)][_0x3e34f1(0x91)](_0x3e34f1(0xa4),{'guild':_0xd6f0e4[_0x3e34f1(0xa0)]['id'],'level':{'$exists':!![],'$ne':null}});if(_0x6072fb){if(_0x6072fb===omnic[_0x3e34f1(0x8c)][_0x3e34f1(0x76)]&&_0x4d5c62['length']>=constants[_0x3e34f1(0xc1)][_0x3e34f1(0x76)][_0x3e34f1(0x80)])throw new errors[(_0x3e34f1(0x77))](errors[_0x3e34f1(0x9c)]['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x3e34f1(0x7a)][_0x3e34f1(0x8e)][_0x3e34f1(0x72)](_0xd6f0e4[_0x3e34f1(0xa0)][_0x3e34f1(0xa5)][_0x3e34f1(0x87)],_0x3e34f1(0xb3),'membershipLimitRoleLevels',constants[_0x3e34f1(0xc1)][_0x3e34f1(0x76)][_0x3e34f1(0x80)]));else{if(_0x6072fb===omnic['PremiumTier'][_0x3e34f1(0xbf)]&&_0x4d5c62['length']>=constants[_0x3e34f1(0xc1)]['PLATINUM'][_0x3e34f1(0x80)])throw new errors[(_0x3e34f1(0x77))](errors[_0x3e34f1(0x9c)][_0x3e34f1(0x94)],this['client'][_0x3e34f1(0x8e)][_0x3e34f1(0x72)](_0xd6f0e4[_0x3e34f1(0xa0)]['document'][_0x3e34f1(0x87)],_0x3e34f1(0xb3),_0x3e34f1(0xa3),constants['LIMITS'][_0x3e34f1(0xbf)][_0x3e34f1(0x80)]));}}else{if(_0x4d5c62[_0x3e34f1(0xac)]>=constants[_0x3e34f1(0xc1)][_0x3e34f1(0x80)])throw new errors[(_0x3e34f1(0x77))](errors[_0x3e34f1(0x9c)]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client']['locale']['getString'](_0xd6f0e4['guild'][_0x3e34f1(0xa5)]['language'],_0x3e34f1(0xb3),_0x3e34f1(0xaf),constants['LIMITS'][_0x3e34f1(0x80)]));}const _0x1a889b=await Role_1[_0x3e34f1(0xab)][_0x3e34f1(0x78)]({'guild':_0xd6f0e4['guild']['id'],'level':_0x50298d[_0x3e34f1(0xa4)]});if(_0x6072fb){if(_0x6072fb===omnic[_0x3e34f1(0x8c)][_0x3e34f1(0x76)]&&_0x1a889b>=constants[_0x3e34f1(0xc1)][_0x3e34f1(0x76)][_0x3e34f1(0x99)])throw new errors[(_0x3e34f1(0x77))](errors[_0x3e34f1(0x9c)][_0x3e34f1(0x94)],this[_0x3e34f1(0x7a)][_0x3e34f1(0x8e)][_0x3e34f1(0x72)](_0xd6f0e4['guild']['document'][_0x3e34f1(0x87)],'errors',_0x3e34f1(0x9d),constants[_0x3e34f1(0xc1)][_0x3e34f1(0x76)][_0x3e34f1(0x99)]));else{if(_0x6072fb===omnic[_0x3e34f1(0x8c)][_0x3e34f1(0xbf)]&&_0x1a889b>=constants[_0x3e34f1(0xc1)][_0x3e34f1(0xbf)][_0x3e34f1(0x99)])throw new errors[(_0x3e34f1(0x77))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[_0x3e34f1(0x7a)][_0x3e34f1(0x8e)][_0x3e34f1(0x72)](_0xd6f0e4[_0x3e34f1(0xa0)][_0x3e34f1(0xa5)][_0x3e34f1(0x87)],_0x3e34f1(0xb3),'membershipLimitLevelRoles',constants['LIMITS'][_0x3e34f1(0xbf)][_0x3e34f1(0x99)]));}}else{if(_0x1a889b>=constants[_0x3e34f1(0xc1)][_0x3e34f1(0x99)])throw new errors[(_0x3e34f1(0x77))](errors['BASTION_ERROR_TYPE'][_0x3e34f1(0x82)],this['client']['locale']['getString'](_0xd6f0e4['guild'][_0x3e34f1(0xa5)]['language'],_0x3e34f1(0xb3),'premiumLevelRoles',constants['LIMITS']['ROLES_PER_LEVEL']));}}const _0x3b7377=this['client'][_0x3e34f1(0x8f)][_0x3e34f1(0xae)](_0xd6f0e4[_0x3e34f1(0xa0)],_0x50298d[_0x3e34f1(0xb5)][_0x3e34f1(0x9e)]('\x20'));if(!_0x3b7377)throw new errors[(_0x3e34f1(0x77))](errors[_0x3e34f1(0x9c)][_0x3e34f1(0x97)],this[_0x3e34f1(0x7a)][_0x3e34f1(0x8e)][_0x3e34f1(0x72)](_0xd6f0e4[_0x3e34f1(0xa0)][_0x3e34f1(0xa5)][_0x3e34f1(0x87)],'errors',_0x3e34f1(0xbb)));let _0x3f1a8d=await _0x3b7377['fetchDocument']();return!_0x3f1a8d&&(_0x3f1a8d=await _0x3b7377[_0x3e34f1(0xb4)]()),_0x3f1a8d[_0x3e34f1(0xa4)]=_0x50298d['level'],await _0x3f1a8d[_0x3e34f1(0x96)](),await _0xd6f0e4[_0x3e34f1(0xbd)][_0x3e34f1(0x7c)]({'embed':{'color':tesseract_1['Constants'][_0x3e34f1(0x95)][_0x3e34f1(0xa6)],'description':this[_0x3e34f1(0x7a)][_0x3e34f1(0x8e)][_0x3e34f1(0x72)](_0xd6f0e4[_0x3e34f1(0xa0)][_0x3e34f1(0xa5)]['language'],_0x3e34f1(0x89),_0x3e34f1(0xb6),_0xd6f0e4['author'][_0x3e34f1(0xbe)],_0x3b7377[_0x3e34f1(0x7b)],_0x50298d[_0x3e34f1(0xa4)])}})[_0x3e34f1(0xb8)](()=>{});}if(_0x50298d['remove'])return await Role_1[_0x3e34f1(0xab)][_0x3e34f1(0xb1)]({'guild':_0xd6f0e4[_0x3e34f1(0xa0)]['id'],'level':_0x50298d[_0x3e34f1(0xa4)]},{'$unset':{'level':0x1}}),await _0xd6f0e4[_0x3e34f1(0xbd)][_0x3e34f1(0x7c)]({'embed':{'color':tesseract_1[_0x3e34f1(0xc2)][_0x3e34f1(0x95)][_0x3e34f1(0xa9)],'description':this[_0x3e34f1(0x7a)]['locale'][_0x3e34f1(0x72)](_0xd6f0e4['guild'][_0x3e34f1(0xa5)][_0x3e34f1(0x87)],_0x3e34f1(0x89),_0x3e34f1(0xb9),_0xd6f0e4['author'][_0x3e34f1(0xbe)],_0x50298d[_0x3e34f1(0xa4)])}})[_0x3e34f1(0xb8)](()=>{});const _0x2df313=await Role_1['default'][_0x3e34f1(0x9f)]({'guild':_0xd6f0e4[_0x3e34f1(0xa0)]['id'],'level':_0x50298d[_0x3e34f1(0xa4)]});if(!_0x2df313[_0x3e34f1(0xac)])throw new Error('NO_ROLES_FOR_LEVEL');const _0x4e1fab=this['client'][_0x3e34f1(0x8f)]['resolveRoles'](_0xd6f0e4['guild'],_0x2df313['map'](_0x35586a=>_0x35586a[_0x3e34f1(0x8b)]));return await _0xd6f0e4[_0x3e34f1(0xbd)][_0x3e34f1(0x7c)]({'embed':{'color':tesseract_1[_0x3e34f1(0xc2)][_0x3e34f1(0x95)]['IRIS'],'title':_0x3e34f1(0x98)+_0x50298d[_0x3e34f1(0xa4)],'fields':[{'name':_0x3e34f1(0x92),'value':_0x4e1fab['map'](_0x5d3d5d=>_0x5d3d5d[_0x3e34f1(0x7b)])[_0x3e34f1(0x9e)]('\x0a')}]}})['catch'](()=>{});}const _0x3aa577=await Role_1[_0x3e34f1(0xab)][_0x3e34f1(0x9f)]({'guild':_0xd6f0e4[_0x3e34f1(0xa0)]['id'],'level':{'$exists':!![],'$ne':null}});if(!_0x3aa577[_0x3e34f1(0xac)])throw new Error(_0x3e34f1(0xc0));const _0x5521c7={};for(const _0x235a0f of _0x3aa577){_0x235a0f[_0x3e34f1(0xa4)]in _0x5521c7?_0x5521c7[_0x235a0f['level']]['push'](_0x235a0f[_0x3e34f1(0x8b)]):_0x5521c7[_0x235a0f[_0x3e34f1(0xa4)]]=[_0x235a0f[_0x3e34f1(0x8b)]];}return await _0xd6f0e4[_0x3e34f1(0xbd)][_0x3e34f1(0x7c)]({'embed':{'color':tesseract_1[_0x3e34f1(0xc2)][_0x3e34f1(0x95)][_0x3e34f1(0xa1)],'title':_0x3e34f1(0xa7),'fields':Object[_0x3e34f1(0x9a)](_0x5521c7)[_0x3e34f1(0x93)](_0x313afe=>({'name':_0x3e34f1(0x98)+_0x313afe,'value':_0x5521c7[_0x313afe][_0x3e34f1(0x93)](_0xab07b7=>_0xd6f0e4[_0x3e34f1(0xa0)]['roles'][_0x3e34f1(0xc3)][_0x3e34f1(0xad)](_0xab07b7)?_0xd6f0e4[_0x3e34f1(0xa0)][_0x3e34f1(0x9b)][_0x3e34f1(0xc3)]['get'](_0xab07b7)[_0x3e34f1(0x7b)]:_0xab07b7)['join'](',\x20')}))}})['catch'](()=>{});};}};