const a88_0x5be1=['PREMIUM_MEMBERSHIP_REQUIRED','PLATINUM','join','keys','countDocuments','send','levelUpRoles\x20--level\x20NUMBER\x20--remove','role','_id','../../utils/omnic','user','@bastion/tesseract','membershipLimitRoleLevels','map','GOLD','tag','guild','clamp','BASTION_ERROR_TYPE','13586sxywOt','return\x20/\x22\x20+\x20this\x20+\x20\x22/','has','456533ePeVue','465099qxPnjV','createDocument','get','483842uacnav','locale','Constants','find','document','PremiumTier','client','catch','author','183155hIvptY','Roles','Level\x20','name','save','roleNotFound','../../utils/constants','exec','updateMany','../../utils/gamification','roleLevelClear','22rIZgnh','MANAGE_ROLES','levelUpRoles','ROLES_PER_LEVEL','membershipLimitLevelRoles','cache','MAX_LEVEL','language','resolver','DiscordError','levelUpRoles\x20--level\x20NUMBER\x20--role\x20ROLE','../../utils/numbers','LIMITED_PREMIUM_MEMBERSHIP','getString','1cqTLAm','resolveRoles','exports','constructor','channel','IRIS','ROLE_LEVELS','fetchPremiumTier','levelUpRoles\x20--level\x20NUMBER','roles','roleLevelAdd','LIMITS','length','level','test','info','distinct','default','Command','push','errors','Level-Up\x20Roles','isPublicBastion','remove','resolveRole','279058ULZNzf','../../models/Role','fetchDocument','COLORS','148732PpMBuS','It\x20allows\x20you\x20to\x20add\x20roles\x20to\x20a\x20level.\x20When\x20members\x20reach\x20that\x20level,\x20they\x27ll\x20be\x20awarded\x20those\x20roles.'];const a88_0x7a7c=function(_0x93615,_0x257530){_0x93615=_0x93615-0x155;let _0xccd923=a88_0x5be1[_0x93615];return _0xccd923;};const a88_0x555e06=a88_0x7a7c;(function(_0x653004,_0x2dead1){const _0x3d2753=a88_0x7a7c;while(!![]){try{const _0x2f9d38=-parseInt(_0x3d2753(0x16f))+parseInt(_0x3d2753(0x16b))+parseInt(_0x3d2753(0x178))*parseInt(_0x3d2753(0x191))+-parseInt(_0x3d2753(0x1ae))+parseInt(_0x3d2753(0x16c))+-parseInt(_0x3d2753(0x168))*parseInt(_0x3d2753(0x183))+parseInt(_0x3d2753(0x1aa));if(_0x2f9d38===_0x2dead1)break;else _0x653004['push'](_0x653004['shift']());}catch(_0x10161a){_0x653004['push'](_0x653004['shift']());}}}(a88_0x5be1,0x6e71b));const a88_0x4afe78=function(){let _0x2290f1=!![];return function(_0x3bc585,_0x3e88e4){const _0x17f1f9=_0x2290f1?function(){if(_0x3e88e4){const _0x420947=_0x3e88e4['apply'](_0x3bc585,arguments);return _0x3e88e4=null,_0x420947;}}:function(){};return _0x2290f1=![],_0x17f1f9;};}(),a88_0x7c5d07=a88_0x4afe78(this,function(){const _0x2b447e=function(){const _0x31f01b=a88_0x7a7c,_0x34e601=_0x2b447e['constructor'](_0x31f01b(0x169))()[_0x31f01b(0x194)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x34e601[_0x31f01b(0x19f)](a88_0x7c5d07);};return _0x2b447e();});a88_0x7c5d07();'use strict';const tesseract_1=require(a88_0x555e06(0x160)),Role_1=require(a88_0x555e06(0x1ab)),constants=require(a88_0x555e06(0x17e)),errors=require('../../utils/errors'),gamification=require(a88_0x555e06(0x181)),numbers=require(a88_0x555e06(0x18e)),omnic=require(a88_0x555e06(0x15e));module[a88_0x555e06(0x193)]=class LevelUpRolesCommand extends tesseract_1[a88_0x555e06(0x1a3)]{constructor(){const _0x152447=a88_0x555e06;super(_0x152447(0x185),{'description':_0x152447(0x1af),'triggers':[],'arguments':{'array':[_0x152447(0x15c)],'boolean':[_0x152447(0x1a8)],'string':[_0x152447(0x15c)],'number':[_0x152447(0x19e)],'coerce':{'level':_0x2bac36=>numbers[_0x152447(0x166)](_0x2bac36,0x1,gamification[_0x152447(0x189)])}},'scope':_0x152447(0x165),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[_0x152447(0x184)],'syntax':[_0x152447(0x185),_0x152447(0x199),_0x152447(0x18d),_0x152447(0x15b)]}),this[_0x152447(0x17f)]=async(_0x5dea7f,_0x5e28f8)=>{const _0x7d03c=_0x152447;if(_0x5e28f8[_0x7d03c(0x19e)]){if(_0x5e28f8[_0x7d03c(0x15c)]){if(constants[_0x7d03c(0x1a7)](this[_0x7d03c(0x175)][_0x7d03c(0x15f)])){const _0x523e0d=await omnic[_0x7d03c(0x198)](_0x5dea7f[_0x7d03c(0x165)])[_0x7d03c(0x176)](()=>{}),_0x32b791=await Role_1[_0x7d03c(0x1a2)][_0x7d03c(0x1a1)]('level',{'guild':_0x5dea7f['guild']['id'],'level':{'$exists':!![],'$ne':null}});if(_0x523e0d){if(_0x523e0d===omnic[_0x7d03c(0x174)]['GOLD']&&_0x32b791[_0x7d03c(0x19d)]>=constants['LIMITS'][_0x7d03c(0x163)][_0x7d03c(0x197)])throw new errors['DiscordError'](errors[_0x7d03c(0x167)][_0x7d03c(0x18f)],this['client'][_0x7d03c(0x170)]['getString'](_0x5dea7f[_0x7d03c(0x165)]['document'][_0x7d03c(0x18a)],'errors',_0x7d03c(0x161),constants['LIMITS'][_0x7d03c(0x163)][_0x7d03c(0x197)]));else{if(_0x523e0d===omnic['PremiumTier']['PLATINUM']&&_0x32b791[_0x7d03c(0x19d)]>=constants['LIMITS'][_0x7d03c(0x156)]['ROLE_LEVELS'])throw new errors[(_0x7d03c(0x18c))](errors['BASTION_ERROR_TYPE'][_0x7d03c(0x18f)],this[_0x7d03c(0x175)][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f['guild']['document'][_0x7d03c(0x18a)],'errors','membershipLimitRoleLevels',constants[_0x7d03c(0x19c)][_0x7d03c(0x156)][_0x7d03c(0x197)]));}}else{if(_0x32b791['length']>=constants[_0x7d03c(0x19c)]['ROLE_LEVELS'])throw new errors[(_0x7d03c(0x18c))](errors[_0x7d03c(0x167)][_0x7d03c(0x155)],this[_0x7d03c(0x175)][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f[_0x7d03c(0x165)][_0x7d03c(0x173)][_0x7d03c(0x18a)],_0x7d03c(0x1a5),'premiumRoleLevels',constants[_0x7d03c(0x19c)][_0x7d03c(0x197)]));}const _0x49dd69=await Role_1[_0x7d03c(0x1a2)][_0x7d03c(0x159)]({'guild':_0x5dea7f['guild']['id'],'level':_0x5e28f8[_0x7d03c(0x19e)]});if(_0x523e0d){if(_0x523e0d===omnic[_0x7d03c(0x174)]['GOLD']&&_0x49dd69>=constants[_0x7d03c(0x19c)][_0x7d03c(0x163)][_0x7d03c(0x186)])throw new errors[(_0x7d03c(0x18c))](errors[_0x7d03c(0x167)][_0x7d03c(0x18f)],this['client'][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f[_0x7d03c(0x165)][_0x7d03c(0x173)][_0x7d03c(0x18a)],_0x7d03c(0x1a5),_0x7d03c(0x187),constants['LIMITS'][_0x7d03c(0x163)][_0x7d03c(0x186)]));else{if(_0x523e0d===omnic[_0x7d03c(0x174)]['PLATINUM']&&_0x49dd69>=constants[_0x7d03c(0x19c)][_0x7d03c(0x156)]['ROLES_PER_LEVEL'])throw new errors['DiscordError'](errors[_0x7d03c(0x167)][_0x7d03c(0x18f)],this['client'][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f[_0x7d03c(0x165)][_0x7d03c(0x173)][_0x7d03c(0x18a)],_0x7d03c(0x1a5),_0x7d03c(0x187),constants[_0x7d03c(0x19c)]['PLATINUM'][_0x7d03c(0x186)]));}}else{if(_0x49dd69>=constants[_0x7d03c(0x19c)][_0x7d03c(0x186)])throw new errors['DiscordError'](errors[_0x7d03c(0x167)][_0x7d03c(0x155)],this[_0x7d03c(0x175)][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f[_0x7d03c(0x165)][_0x7d03c(0x173)]['language'],_0x7d03c(0x1a5),'premiumLevelRoles',constants[_0x7d03c(0x19c)][_0x7d03c(0x186)]));}}const _0x3bae6f=this['client'][_0x7d03c(0x18b)][_0x7d03c(0x1a9)](_0x5dea7f['guild'],_0x5e28f8[_0x7d03c(0x15c)][_0x7d03c(0x157)]('\x20'));if(!_0x3bae6f)throw new errors['DiscordError'](errors[_0x7d03c(0x167)]['ROLE_NOT_FOUND'],this[_0x7d03c(0x175)][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f['guild'][_0x7d03c(0x173)][_0x7d03c(0x18a)],_0x7d03c(0x1a5),_0x7d03c(0x17d)));let _0x38fd9a=await _0x3bae6f[_0x7d03c(0x1ac)]();return!_0x38fd9a&&(_0x38fd9a=await _0x3bae6f[_0x7d03c(0x16d)]()),_0x38fd9a[_0x7d03c(0x19e)]=_0x5e28f8[_0x7d03c(0x19e)],await _0x38fd9a[_0x7d03c(0x17c)](),await _0x5dea7f[_0x7d03c(0x195)][_0x7d03c(0x15a)]({'embed':{'color':tesseract_1[_0x7d03c(0x171)]['COLORS']['GREEN'],'description':this[_0x7d03c(0x175)][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f['guild']['document']['language'],'info',_0x7d03c(0x19b),_0x5dea7f['author'][_0x7d03c(0x164)],_0x3bae6f[_0x7d03c(0x17b)],_0x5e28f8[_0x7d03c(0x19e)])}})[_0x7d03c(0x176)](()=>{});}if(_0x5e28f8[_0x7d03c(0x1a8)])return await Role_1[_0x7d03c(0x1a2)][_0x7d03c(0x180)]({'guild':_0x5dea7f['guild']['id'],'level':_0x5e28f8[_0x7d03c(0x19e)]},{'$unset':{'level':0x1}}),await _0x5dea7f[_0x7d03c(0x195)][_0x7d03c(0x15a)]({'embed':{'color':tesseract_1[_0x7d03c(0x171)][_0x7d03c(0x1ad)]['RED'],'description':this[_0x7d03c(0x175)][_0x7d03c(0x170)][_0x7d03c(0x190)](_0x5dea7f[_0x7d03c(0x165)]['document']['language'],_0x7d03c(0x1a0),_0x7d03c(0x182),_0x5dea7f[_0x7d03c(0x177)][_0x7d03c(0x164)],_0x5e28f8['level'])}})[_0x7d03c(0x176)](()=>{});const _0x2ec53b=await Role_1['default'][_0x7d03c(0x172)]({'guild':_0x5dea7f[_0x7d03c(0x165)]['id'],'level':_0x5e28f8['level']});if(!_0x2ec53b[_0x7d03c(0x19d)])throw new Error('NO_ROLES_FOR_LEVEL');const _0x48d2c4=this['client'][_0x7d03c(0x18b)][_0x7d03c(0x192)](_0x5dea7f['guild'],_0x2ec53b[_0x7d03c(0x162)](_0x1ae492=>_0x1ae492['_id']));return await _0x5dea7f[_0x7d03c(0x195)]['send']({'embed':{'color':tesseract_1[_0x7d03c(0x171)][_0x7d03c(0x1ad)][_0x7d03c(0x196)],'title':_0x7d03c(0x17a)+_0x5e28f8[_0x7d03c(0x19e)],'fields':[{'name':_0x7d03c(0x179),'value':_0x48d2c4['map'](_0x5db1ab=>_0x5db1ab['name'])[_0x7d03c(0x157)]('\x0a')}]}})[_0x7d03c(0x176)](()=>{});}const _0x5f0450=await Role_1[_0x7d03c(0x1a2)]['find']({'guild':_0x5dea7f[_0x7d03c(0x165)]['id'],'level':{'$exists':!![],'$ne':null}});if(!_0x5f0450[_0x7d03c(0x19d)])throw new Error('NO_LEVEL_UP_ROLES');const _0x354443={};for(const _0x36f254 of _0x5f0450){_0x36f254[_0x7d03c(0x19e)]in _0x354443?_0x354443[_0x36f254[_0x7d03c(0x19e)]][_0x7d03c(0x1a4)](_0x36f254[_0x7d03c(0x15d)]):_0x354443[_0x36f254[_0x7d03c(0x19e)]]=[_0x36f254[_0x7d03c(0x15d)]];}return await _0x5dea7f['channel'][_0x7d03c(0x15a)]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x7d03c(0x196)],'title':_0x7d03c(0x1a6),'fields':Object[_0x7d03c(0x158)](_0x354443)[_0x7d03c(0x162)](_0x205279=>({'name':_0x7d03c(0x17a)+_0x205279,'value':_0x354443[_0x205279][_0x7d03c(0x162)](_0x44260d=>_0x5dea7f['guild'][_0x7d03c(0x19a)][_0x7d03c(0x188)][_0x7d03c(0x16a)](_0x44260d)?_0x5dea7f[_0x7d03c(0x165)]['roles'][_0x7d03c(0x188)][_0x7d03c(0x16e)](_0x44260d)[_0x7d03c(0x17b)]:_0x44260d)['join'](',\x20')}))}})[_0x7d03c(0x176)](()=>{});};}};