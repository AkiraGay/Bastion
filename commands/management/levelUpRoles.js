const a64_0x4773=['find','push','errors','Level\x20','catch','levelUpRoles\x20--level\x20NUMBER\x20--remove','user','name','IRIS','COLORS','ROLE_NOT_FOUND','_id','GREEN','@bastion/tesseract','../../utils/omnic','level','send','LIMITED_PREMIUM_MEMBERSHIP','NO_LEVEL_UP_ROLES','info','getString','membershipLimitLevelRoles','../../utils/constants','../../models/Role','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../utils/gamification','error','roleLevelAdd','has','tag','ROLE_LEVELS','BASTION_ERROR_TYPE','updateMany','language','countDocuments','resolver','emoji','MAX_LEVEL','../../utils/numbers','map','createDocument','Roles','author','levelUpRoles\x20--level\x20NUMBER','get','document','GOLD','roles','default','isPublicBastion','premiumRoleLevels','length','constructor','MANAGE_ROLES','save','LIMITS','join','Level-Up\x20Roles','compile','PREMIUM_MEMBERSHIP_REQUIRED','keys','Constants','fetchDocument','PLATINUM','clamp','guild','membershipLimitRoleLevels','apply','roleNotFound','NO_ROLES_FOR_LEVEL','resolveRoles','../../utils/errors','PremiumTier','role','cache','client','locale','DiscordError','channel','premiumLevelRoles','exec','levelUpRoles','ROLES_PER_LEVEL','resolveRole','Command','test','distinct','roleLevelClear'];(function(_0x49d3c3,_0x47731f){const _0x5cdb97=function(_0x4b359){while(--_0x4b359){_0x49d3c3['push'](_0x49d3c3['shift']());}};const _0x547402=function(){const _0x49bab9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x28098e,_0x134b90,_0x53681c,_0xf81227){_0xf81227=_0xf81227||{};let _0x9c96b=_0x134b90+'='+_0x53681c;let _0x293311=0x0;for(let _0xd99c2e=0x0,_0x27cdbf=_0x28098e['length'];_0xd99c2e<_0x27cdbf;_0xd99c2e++){const _0x145153=_0x28098e[_0xd99c2e];_0x9c96b+=';\x20'+_0x145153;const _0x21ab60=_0x28098e[_0x145153];_0x28098e['push'](_0x21ab60);_0x27cdbf=_0x28098e['length'];if(_0x21ab60!==!![]){_0x9c96b+='='+_0x21ab60;}}_0xf81227['cookie']=_0x9c96b;},'removeCookie':function(){return'dev';},'getCookie':function(_0xefa9ef,_0x58e105){_0xefa9ef=_0xefa9ef||function(_0x5ae9ad){return _0x5ae9ad;};const _0x1ef235=_0xefa9ef(new RegExp('(?:^|;\x20)'+_0x58e105['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x46d39f=function(_0xda4d42,_0x4ba906){_0xda4d42(++_0x4ba906);};_0x46d39f(_0x5cdb97,_0x47731f);return _0x1ef235?decodeURIComponent(_0x1ef235[0x1]):undefined;}};const _0x406b0f=function(){const _0x1b4fbe=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1b4fbe['test'](_0x49bab9['removeCookie']['toString']());};_0x49bab9['updateCookie']=_0x406b0f;let _0x7823cf='';const _0x2ff107=_0x49bab9['updateCookie']();if(!_0x2ff107){_0x49bab9['setCookie'](['*'],'counter',0x1);}else if(_0x2ff107){_0x7823cf=_0x49bab9['getCookie'](null,'counter');}else{_0x49bab9['removeCookie']();}};_0x547402();}(a64_0x4773,0x19a));const a64_0x5cdb=function(_0x49d3c3,_0x47731f){_0x49d3c3=_0x49d3c3-0x0;let _0x5cdb97=a64_0x4773[_0x49d3c3];return _0x5cdb97;};const a64_0x49bab9=function(){let _0x154390=!![];return function(_0x11ec9d,_0x59a703){const _0x572448=_0x154390?function(){if(_0x59a703){const _0x492304=_0x59a703[a64_0x5cdb('0x9')](_0x11ec9d,arguments);_0x59a703=null;return _0x492304;}}:function(){};_0x154390=![];return _0x572448;};}();const a64_0x4b359=a64_0x49bab9(this,function(){const _0xf13970=function(){const _0x4d5df0=_0xf13970[a64_0x5cdb('0x52')](a64_0x5cdb('0x36'))()[a64_0x5cdb('0x0')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4d5df0[a64_0x5cdb('0x1b')](a64_0x4b359);};return _0xf13970();});a64_0x4b359();'use strict';const tesseract_1=require(a64_0x5cdb('0x2b'));const Role_1=require(a64_0x5cdb('0x35'));const constants=require(a64_0x5cdb('0x34'));const errors=require(a64_0x5cdb('0xd'));const gamification=require(a64_0x5cdb('0x37'));const numbers=require(a64_0x5cdb('0x44'));const omnic=require(a64_0x5cdb('0x2c'));module['exports']=class LevelUpRolesCommand extends tesseract_1[a64_0x5cdb('0x1a')]{constructor(){super(a64_0x5cdb('0x17'),{'description':'It\x20allows\x20you\x20to\x20add\x20roles\x20to\x20a\x20level.\x20When\x20members\x20reach\x20that\x20level,\x20they\x27ll\x20be\x20awarded\x20those\x20roles.','triggers':[],'arguments':{'array':[a64_0x5cdb('0xf')],'boolean':['remove'],'string':[a64_0x5cdb('0xf')],'number':[a64_0x5cdb('0x2d')],'coerce':{'level':_0x5877e0=>numbers[a64_0x5cdb('0x6')](_0x5877e0,0x1,gamification[a64_0x5cdb('0x43')])}},'scope':a64_0x5cdb('0x7'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a64_0x5cdb('0x53')],'userPermissions':[a64_0x5cdb('0x53')],'syntax':[a64_0x5cdb('0x17'),a64_0x5cdb('0x49'),'levelUpRoles\x20--level\x20NUMBER\x20--role\x20ROLE',a64_0x5cdb('0x23')]});this[a64_0x5cdb('0x16')]=async(_0x4002b5,_0x3e9747)=>{if(_0x3e9747['level']){if(_0x3e9747[a64_0x5cdb('0xf')]){if(constants[a64_0x5cdb('0x4f')](this[a64_0x5cdb('0x11')][a64_0x5cdb('0x24')])){const _0x27cb59=await omnic['fetchPremiumTier'](_0x4002b5['guild'])[a64_0x5cdb('0x22')](()=>{});const _0x46c440=await Role_1[a64_0x5cdb('0x4e')][a64_0x5cdb('0x1c')](a64_0x5cdb('0x2d'),{'guild':_0x4002b5[a64_0x5cdb('0x7')]['id'],'level':{'$exists':!![],'$ne':null}});if(_0x27cb59){if(_0x27cb59===omnic['PremiumTier'][a64_0x5cdb('0x4c')]&&_0x46c440['length']>=constants[a64_0x5cdb('0x55')][a64_0x5cdb('0x4c')][a64_0x5cdb('0x3c')]){throw new errors[(a64_0x5cdb('0x13'))](errors[a64_0x5cdb('0x3d')][a64_0x5cdb('0x2f')],this[a64_0x5cdb('0x11')]['locale']['getString'](_0x4002b5[a64_0x5cdb('0x7')]['document']['language'],'errors',a64_0x5cdb('0x8'),constants['LIMITS'][a64_0x5cdb('0x4c')][a64_0x5cdb('0x3c')]));}else if(_0x27cb59===omnic['PremiumTier'][a64_0x5cdb('0x5')]&&_0x46c440[a64_0x5cdb('0x51')]>=constants[a64_0x5cdb('0x55')]['PLATINUM'][a64_0x5cdb('0x3c')]){throw new errors['DiscordError'](errors[a64_0x5cdb('0x3d')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a64_0x5cdb('0x11')][a64_0x5cdb('0x12')]['getString'](_0x4002b5[a64_0x5cdb('0x7')]['document'][a64_0x5cdb('0x3f')],a64_0x5cdb('0x20'),a64_0x5cdb('0x8'),constants['LIMITS']['PLATINUM'][a64_0x5cdb('0x3c')]));}}else if(_0x46c440[a64_0x5cdb('0x51')]>=constants[a64_0x5cdb('0x55')][a64_0x5cdb('0x3c')]){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a64_0x5cdb('0x1')],this[a64_0x5cdb('0x11')][a64_0x5cdb('0x12')][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')]['document'][a64_0x5cdb('0x3f')],a64_0x5cdb('0x20'),a64_0x5cdb('0x50'),constants[a64_0x5cdb('0x55')][a64_0x5cdb('0x3c')]));}const _0x3bf217=await Role_1[a64_0x5cdb('0x4e')][a64_0x5cdb('0x40')]({'guild':_0x4002b5[a64_0x5cdb('0x7')]['id'],'level':_0x3e9747[a64_0x5cdb('0x2d')]});if(_0x27cb59){if(_0x27cb59===omnic[a64_0x5cdb('0xe')][a64_0x5cdb('0x4c')]&&_0x3bf217>=constants['LIMITS']['GOLD'][a64_0x5cdb('0x18')]){throw new errors[(a64_0x5cdb('0x13'))](errors[a64_0x5cdb('0x3d')]['LIMITED_PREMIUM_MEMBERSHIP'],this['client'][a64_0x5cdb('0x12')][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4b')][a64_0x5cdb('0x3f')],a64_0x5cdb('0x20'),a64_0x5cdb('0x33'),constants[a64_0x5cdb('0x55')][a64_0x5cdb('0x4c')]['ROLES_PER_LEVEL']));}else if(_0x27cb59===omnic[a64_0x5cdb('0xe')][a64_0x5cdb('0x5')]&&_0x3bf217>=constants[a64_0x5cdb('0x55')][a64_0x5cdb('0x5')][a64_0x5cdb('0x18')]){throw new errors[(a64_0x5cdb('0x13'))](errors[a64_0x5cdb('0x3d')][a64_0x5cdb('0x2f')],this[a64_0x5cdb('0x11')][a64_0x5cdb('0x12')][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4b')]['language'],a64_0x5cdb('0x20'),a64_0x5cdb('0x33'),constants['LIMITS'][a64_0x5cdb('0x5')]['ROLES_PER_LEVEL']));}}else if(_0x3bf217>=constants[a64_0x5cdb('0x55')]['ROLES_PER_LEVEL']){throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a64_0x5cdb('0x1')],this[a64_0x5cdb('0x11')][a64_0x5cdb('0x12')][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4b')]['language'],'errors',a64_0x5cdb('0x15'),constants[a64_0x5cdb('0x55')][a64_0x5cdb('0x18')]));}}const _0x5743f0=this[a64_0x5cdb('0x11')]['resolver'][a64_0x5cdb('0x19')](_0x4002b5[a64_0x5cdb('0x7')],_0x3e9747['role'][a64_0x5cdb('0x56')]('\x20'));if(!_0x5743f0)throw new errors['DiscordError'](errors[a64_0x5cdb('0x3d')][a64_0x5cdb('0x28')],this[a64_0x5cdb('0x11')][a64_0x5cdb('0x12')][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4b')]['language'],a64_0x5cdb('0x38'),a64_0x5cdb('0xa')));let _0x5e7df5=await _0x5743f0[a64_0x5cdb('0x4')]();if(!_0x5e7df5&&_0x3e9747[a64_0x5cdb('0x42')]){_0x5e7df5=await _0x5743f0[a64_0x5cdb('0x46')]();}_0x5e7df5[a64_0x5cdb('0x2d')]=_0x3e9747['level'];await _0x5e7df5[a64_0x5cdb('0x54')]();return await _0x4002b5[a64_0x5cdb('0x14')][a64_0x5cdb('0x2e')]({'embed':{'color':tesseract_1['Constants'][a64_0x5cdb('0x27')][a64_0x5cdb('0x2a')],'description':this[a64_0x5cdb('0x11')][a64_0x5cdb('0x12')][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4b')][a64_0x5cdb('0x3f')],a64_0x5cdb('0x31'),a64_0x5cdb('0x39'),_0x4002b5[a64_0x5cdb('0x48')][a64_0x5cdb('0x3b')],_0x5743f0[a64_0x5cdb('0x25')],_0x3e9747[a64_0x5cdb('0x2d')])}})[a64_0x5cdb('0x22')](()=>{});}if(_0x3e9747['remove']){await Role_1[a64_0x5cdb('0x4e')][a64_0x5cdb('0x3e')]({'guild':_0x4002b5['guild']['id'],'level':_0x3e9747[a64_0x5cdb('0x2d')]},{'$unset':{'level':0x1}});return await _0x4002b5[a64_0x5cdb('0x14')][a64_0x5cdb('0x2e')]({'embed':{'color':tesseract_1[a64_0x5cdb('0x3')][a64_0x5cdb('0x27')]['RED'],'description':this['client']['locale'][a64_0x5cdb('0x32')](_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4b')][a64_0x5cdb('0x3f')],a64_0x5cdb('0x31'),a64_0x5cdb('0x1d'),_0x4002b5[a64_0x5cdb('0x48')][a64_0x5cdb('0x3b')],_0x3e9747['level'])}})['catch'](()=>{});}const _0x3811f3=await Role_1[a64_0x5cdb('0x4e')][a64_0x5cdb('0x1e')]({'guild':_0x4002b5[a64_0x5cdb('0x7')]['id'],'level':_0x3e9747[a64_0x5cdb('0x2d')]});if(!_0x3811f3[a64_0x5cdb('0x51')])throw new Error(a64_0x5cdb('0xb'));const _0x28a239=this[a64_0x5cdb('0x11')][a64_0x5cdb('0x41')][a64_0x5cdb('0xc')](_0x4002b5[a64_0x5cdb('0x7')],_0x3811f3[a64_0x5cdb('0x45')](_0x3f45f8=>_0x3f45f8[a64_0x5cdb('0x29')]));return await _0x4002b5[a64_0x5cdb('0x14')]['send']({'embed':{'color':tesseract_1[a64_0x5cdb('0x3')]['COLORS'][a64_0x5cdb('0x26')],'title':a64_0x5cdb('0x21')+_0x3e9747[a64_0x5cdb('0x2d')],'fields':[{'name':a64_0x5cdb('0x47'),'value':_0x28a239['map'](_0xc7a0af=>_0xc7a0af[a64_0x5cdb('0x25')])[a64_0x5cdb('0x56')]('\x0a')}]}})[a64_0x5cdb('0x22')](()=>{});}const _0x13155a=await Role_1[a64_0x5cdb('0x4e')][a64_0x5cdb('0x1e')]({'guild':_0x4002b5[a64_0x5cdb('0x7')]['id'],'level':{'$exists':!![],'$ne':null}});if(!_0x13155a[a64_0x5cdb('0x51')])throw new Error(a64_0x5cdb('0x30'));const _0x1ea039={};for(const _0xb4e779 of _0x13155a){if(_0xb4e779[a64_0x5cdb('0x2d')]in _0x1ea039){_0x1ea039[_0xb4e779[a64_0x5cdb('0x2d')]][a64_0x5cdb('0x1f')](_0xb4e779[a64_0x5cdb('0x29')]);}else{_0x1ea039[_0xb4e779['level']]=[_0xb4e779[a64_0x5cdb('0x29')]];}}return await _0x4002b5['channel'][a64_0x5cdb('0x2e')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a64_0x5cdb('0x26')],'title':a64_0x5cdb('0x57'),'fields':Object[a64_0x5cdb('0x2')](_0x1ea039)[a64_0x5cdb('0x45')](_0xe7b4c0=>({'name':'Level\x20'+_0xe7b4c0,'value':_0x1ea039[_0xe7b4c0][a64_0x5cdb('0x45')](_0x489943=>_0x4002b5[a64_0x5cdb('0x7')][a64_0x5cdb('0x4d')]['cache'][a64_0x5cdb('0x3a')](_0x489943)?_0x4002b5['guild']['roles'][a64_0x5cdb('0x10')][a64_0x5cdb('0x4a')](_0x489943)[a64_0x5cdb('0x25')]:_0x489943)[a64_0x5cdb('0x56')](',\x20')}))}})[a64_0x5cdb('0x22')](()=>{});};}};