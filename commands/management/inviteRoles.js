const a78_0x77dd=['tag','author','send','default','guild','MANAGE_ROLES','split','../../utils/errors','inviteRoles','exec','roleInviteRemove','[DELETED]','constructor','locale','map','findByIdAndUpdate','@bastion/tesseract','document','Command','roleInviteSet','inviteRoles\x20--role\x20ROLE\x20--invite\x20CODE','getString','info','ROLE_NOT_FOUND','It\x20allows\x20you\x20to\x20associate\x20server\x20invites\x20with\x20roles.\x20Anyone\x20who\x20joins\x20the\x20server\x20with\x20an\x20invite\x20associated\x20with\x20a\x20role\x20will\x20be\x20assigned\x20the\x20specified\x20role\x20automatically.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20roles\x20associated\x20with\x20an\x20invite.','Invite\x20Roles','DiscordError','roles','GREEN','roleNotFound','name','delete','Constants','get','client','role','cache','language','apply','IRIS','_id','MANAGE_GUILD','channel','NO_INVITE_ROLES','resolver','invite','COLORS','filter','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}'];(function(_0x24d2e1,_0x77dd25){const _0x2bfb56=function(_0x30cbcc){while(--_0x30cbcc){_0x24d2e1['push'](_0x24d2e1['shift']());}},_0x1a9264=function(){const _0x479c11={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x55e904,_0x5cc6e1,_0x127443,_0x575295){_0x575295=_0x575295||{};let _0x2159d9=_0x5cc6e1+'='+_0x127443,_0x123f56=0x0;for(let _0x4093ff=0x0,_0x450e0b=_0x55e904['length'];_0x4093ff<_0x450e0b;_0x4093ff++){const _0x590df8=_0x55e904[_0x4093ff];_0x2159d9+=';\x20'+_0x590df8;const _0x4a6bf4=_0x55e904[_0x590df8];_0x55e904['push'](_0x4a6bf4),_0x450e0b=_0x55e904['length'],_0x4a6bf4!==!![]&&(_0x2159d9+='='+_0x4a6bf4);}_0x575295['cookie']=_0x2159d9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x59c990,_0x117aca){_0x59c990=_0x59c990||function(_0x2b6c69){return _0x2b6c69;};const _0x1ed0ec=_0x59c990(new RegExp('(?:^|;\x20)'+_0x117aca['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb2be73=function(_0x525792,_0x519912){_0x525792(++_0x519912);};return _0xb2be73(_0x2bfb56,_0x77dd25),_0x1ed0ec?decodeURIComponent(_0x1ed0ec[0x1]):undefined;}},_0x117562=function(){const _0x2197db=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2197db['test'](_0x479c11['removeCookie']['toString']());};_0x479c11['updateCookie']=_0x117562;let _0x542b5a='';const _0x305932=_0x479c11['updateCookie']();if(!_0x305932)_0x479c11['setCookie'](['*'],'counter',0x1);else _0x305932?_0x542b5a=_0x479c11['getCookie'](null,'counter'):_0x479c11['removeCookie']();};_0x1a9264();}(a78_0x77dd,0x131));const a78_0x2bfb=function(_0x24d2e1,_0x77dd25){_0x24d2e1=_0x24d2e1-0x0;let _0x2bfb56=a78_0x77dd[_0x24d2e1];return _0x2bfb56;};const _0x286a81=a78_0x2bfb,a78_0x479c11=function(){let _0x542b5a=!![];return function(_0x305932,_0x55e904){const _0x5cc6e1=_0x542b5a?function(){const _0x352861=a78_0x2bfb;if(_0x55e904){const _0x127443=_0x55e904[_0x352861('0x1b')](_0x305932,arguments);return _0x55e904=null,_0x127443;}}:function(){};return _0x542b5a=![],_0x5cc6e1;};}(),a78_0x30cbcc=a78_0x479c11(this,function(){const _0x575295=function(){const _0x28d279=a78_0x2bfb,_0x2159d9=_0x575295[_0x28d279('0x1')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x28d279('0x25'));return!_0x2159d9['test'](a78_0x30cbcc);};return _0x575295();});a78_0x30cbcc();'use strict';const tesseract_1=require(_0x286a81('0x5')),Role_1=require('../../models/Role'),errors=require(_0x286a81('0x2d'));module['exports']=class InviteRolesCommand extends tesseract_1[_0x286a81('0x7')]{constructor(){const _0x214ee3=_0x286a81;super(_0x214ee3('0x2e'),{'description':_0x214ee3('0xd'),'triggers':[],'arguments':{'boolean':[_0x214ee3('0x14')],'string':[_0x214ee3('0x22'),_0x214ee3('0x18')]},'scope':_0x214ee3('0x2a'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x214ee3('0x2b')],'userPermissions':[_0x214ee3('0x1e')],'syntax':[_0x214ee3('0x2e'),_0x214ee3('0x9'),'inviteRoles\x20--role\x20ROLE\x20--delete']}),this[_0x214ee3('0x2f')]=async(_0x123f56,_0x4093ff)=>{const _0x77ed9f=_0x214ee3;if(_0x4093ff['role']){const _0x590df8=this[_0x77ed9f('0x17')][_0x77ed9f('0x21')]['resolveRole'](_0x123f56[_0x77ed9f('0x2a')],_0x4093ff[_0x77ed9f('0x18')]);if(!_0x590df8)throw new errors[(_0x77ed9f('0xf'))](errors['BASTION_ERROR_TYPE'][_0x77ed9f('0xc')],this[_0x77ed9f('0x17')]['locale'][_0x77ed9f('0xa')](_0x123f56[_0x77ed9f('0x2a')]['document'][_0x77ed9f('0x1a')],'errors',_0x77ed9f('0x12')));if(_0x4093ff['invite'])return await Role_1[_0x77ed9f('0x29')]['findByIdAndUpdate'](_0x590df8['id'],{'invite':_0x4093ff[_0x77ed9f('0x22')][_0x77ed9f('0x2c')]('/')[_0x77ed9f('0x24')](_0x4a6bf4=>_0x4a6bf4)['pop']()}),await _0x123f56[_0x77ed9f('0x1f')]['send']({'embed':{'color':tesseract_1[_0x77ed9f('0x15')][_0x77ed9f('0x23')][_0x77ed9f('0x11')],'description':this[_0x77ed9f('0x17')][_0x77ed9f('0x2')][_0x77ed9f('0xa')](_0x123f56[_0x77ed9f('0x2a')][_0x77ed9f('0x6')]['language'],_0x77ed9f('0xb'),_0x77ed9f('0x8'),_0x123f56[_0x77ed9f('0x27')][_0x77ed9f('0x26')],_0x590df8[_0x77ed9f('0x13')],_0x4093ff[_0x77ed9f('0x22')])}});if(_0x4093ff['delete'])return await Role_1[_0x77ed9f('0x29')][_0x77ed9f('0x4')](_0x590df8['id'],{'$unset':{'invite':0x1}}),await _0x123f56['channel'][_0x77ed9f('0x28')]({'embed':{'color':tesseract_1[_0x77ed9f('0x15')][_0x77ed9f('0x23')]['RED'],'description':this[_0x77ed9f('0x17')][_0x77ed9f('0x2')]['getString'](_0x123f56[_0x77ed9f('0x2a')]['document'][_0x77ed9f('0x1a')],'info',_0x77ed9f('0x30'),_0x123f56[_0x77ed9f('0x27')]['tag'],_0x590df8[_0x77ed9f('0x13')])}});}const _0x450e0b=await Role_1[_0x77ed9f('0x29')]['find']({'guild':_0x123f56[_0x77ed9f('0x2a')]['id'],'invite':{'$exists':!![],'$ne':null}});if(!_0x450e0b)throw new Error(_0x77ed9f('0x20'));await _0x123f56[_0x77ed9f('0x1f')][_0x77ed9f('0x28')]({'embed':{'color':tesseract_1[_0x77ed9f('0x15')]['COLORS'][_0x77ed9f('0x1c')],'title':_0x77ed9f('0xe'),'fields':_0x450e0b[_0x77ed9f('0x3')](_0x59c990=>({'name':(_0x123f56[_0x77ed9f('0x2a')][_0x77ed9f('0x10')][_0x77ed9f('0x19')]['has'](_0x59c990[_0x77ed9f('0x1d')])?_0x123f56[_0x77ed9f('0x2a')][_0x77ed9f('0x10')][_0x77ed9f('0x19')][_0x77ed9f('0x16')](_0x59c990[_0x77ed9f('0x1d')])[_0x77ed9f('0x13')]:_0x77ed9f('0x0'))+'\x20/\x20'+_0x59c990[_0x77ed9f('0x1d')],'value':'Invite\x20Code\x20-\x20'+_0x59c990[_0x77ed9f('0x22')]}))}});};}};