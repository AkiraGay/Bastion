const a85_0x3439=['inviteRoles','constructor','locale','author','resolveRole','findByIdAndUpdate','exec','@bastion/tesseract','return\x20/\x22\x20+\x20this\x20+\x20\x22/','COLORS','MANAGE_GUILD','Invite\x20Code\x20-\x20','map','GREEN','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../models/Role','roles','Constants','has','roleNotFound','errors','inviteRoles\x20--role\x20ROLE\x20--delete','filter','getString','RED','get','MANAGE_ROLES','send','_id','inviteRoles\x20--role\x20ROLE\x20--invite\x20CODE','delete','roleInviteSet','role','split','BASTION_ERROR_TYPE','info','Command','resolver','invite','name','../../utils/errors','client','\x20/\x20','tag','find','DiscordError','IRIS','language','channel','cache','guild','default','[DELETED]','apply','document','test'];(function(_0xd0240b,_0x20bb38){const _0x34395b=function(_0x1ce452){while(--_0x1ce452){_0xd0240b['push'](_0xd0240b['shift']());}},_0x1805a9=function(){const _0x2c1826={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x24ebdc,_0x496c00,_0x481b70,_0x2dbbda){_0x2dbbda=_0x2dbbda||{};let _0xe6864a=_0x496c00+'='+_0x481b70,_0x3e8126=0x0;for(let _0x22fe80=0x0,_0x5ba98a=_0x24ebdc['length'];_0x22fe80<_0x5ba98a;_0x22fe80++){const _0x4f2d02=_0x24ebdc[_0x22fe80];_0xe6864a+=';\x20'+_0x4f2d02;const _0x5a5b74=_0x24ebdc[_0x4f2d02];_0x24ebdc['push'](_0x5a5b74),_0x5ba98a=_0x24ebdc['length'],_0x5a5b74!==!![]&&(_0xe6864a+='='+_0x5a5b74);}_0x2dbbda['cookie']=_0xe6864a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x316cee,_0x2f35b7){_0x316cee=_0x316cee||function(_0x5e44a6){return _0x5e44a6;};const _0x1f9f47=_0x316cee(new RegExp('(?:^|;\x20)'+_0x2f35b7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4f6b3f=function(_0x391270,_0x15b75a){_0x391270(++_0x15b75a);};return _0x4f6b3f(_0x34395b,_0x20bb38),_0x1f9f47?decodeURIComponent(_0x1f9f47[0x1]):undefined;}},_0x17b93a=function(){const _0x27ec58=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x27ec58['test'](_0x2c1826['removeCookie']['toString']());};_0x2c1826['updateCookie']=_0x17b93a;let _0x583c00='';const _0x2bdf3e=_0x2c1826['updateCookie']();if(!_0x2bdf3e)_0x2c1826['setCookie'](['*'],'counter',0x1);else _0x2bdf3e?_0x583c00=_0x2c1826['getCookie'](null,'counter'):_0x2c1826['removeCookie']();};_0x1805a9();}(a85_0x3439,0x1e8));const a85_0x1805=function(_0xd0240b,_0x20bb38){_0xd0240b=_0xd0240b-0x19a;let _0x34395b=a85_0x3439[_0xd0240b];return _0x34395b;};const _0x566b69=a85_0x1805,a85_0x17b93a=function(){let _0x2bdf3e=!![];return function(_0x24ebdc,_0x496c00){const _0x481b70=_0x2bdf3e?function(){const _0x1ff5f0=a85_0x1805;if(_0x496c00){const _0x2dbbda=_0x496c00[_0x1ff5f0(0x1b0)](_0x24ebdc,arguments);return _0x496c00=null,_0x2dbbda;}}:function(){};return _0x2bdf3e=![],_0x481b70;};}(),a85_0x2c1826=a85_0x17b93a(this,function(){const _0xe6864a=function(){const _0x505497=a85_0x1805,_0x3e8126=_0xe6864a['constructor'](_0x505497(0x1bb))()[_0x505497(0x1b4)](_0x505497(0x1c2));return!_0x3e8126[_0x505497(0x1b2)](a85_0x2c1826);};return _0xe6864a();});a85_0x2c1826();'use strict';const tesseract_1=require(_0x566b69(0x1ba)),Role_1=require(_0x566b69(0x1c3)),errors=require(_0x566b69(0x1a3));module[_0x566b69(0x1c1)]=class InviteRolesCommand extends tesseract_1[_0x566b69(0x19f)]{constructor(){const _0x13991c=_0x566b69;super(_0x13991c(0x1b3),{'description':'It\x20allows\x20you\x20to\x20associate\x20server\x20invites\x20with\x20roles.\x20Anyone\x20who\x20joins\x20the\x20server\x20with\x20an\x20invite\x20associated\x20with\x20a\x20role\x20will\x20be\x20assigned\x20the\x20specified\x20role\x20automatically.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20roles\x20associated\x20with\x20an\x20invite.','triggers':[],'arguments':{'boolean':[_0x13991c(0x1d2)],'string':[_0x13991c(0x1a1),_0x13991c(0x19b)]},'scope':_0x13991c(0x1ad),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x13991c(0x1ce)],'userPermissions':[_0x13991c(0x1bd)],'syntax':[_0x13991c(0x1b3),_0x13991c(0x1d1),_0x13991c(0x1c9)]}),this[_0x13991c(0x1b9)]=async(_0x22fe80,_0x5ba98a)=>{const _0x4748f2=_0x13991c;if(_0x5ba98a['role']){const _0x5a5b74=this[_0x4748f2(0x1a4)][_0x4748f2(0x1a0)][_0x4748f2(0x1b7)](_0x22fe80[_0x4748f2(0x1ad)],_0x5ba98a[_0x4748f2(0x19b)]);if(!_0x5a5b74)throw new errors[(_0x4748f2(0x1a8))](errors[_0x4748f2(0x19d)]['ROLE_NOT_FOUND'],this[_0x4748f2(0x1a4)][_0x4748f2(0x1b5)][_0x4748f2(0x1cb)](_0x22fe80[_0x4748f2(0x1ad)][_0x4748f2(0x1b1)][_0x4748f2(0x1aa)],_0x4748f2(0x1c8),_0x4748f2(0x1c7)));if(_0x5ba98a['invite'])return await Role_1[_0x4748f2(0x1ae)][_0x4748f2(0x1b8)](_0x5a5b74['id'],{'invite':_0x5ba98a[_0x4748f2(0x1a1)][_0x4748f2(0x19c)]('/')[_0x4748f2(0x1ca)](_0x316cee=>_0x316cee)['pop']()}),await _0x22fe80[_0x4748f2(0x1ab)][_0x4748f2(0x1cf)]({'embed':{'color':tesseract_1[_0x4748f2(0x1c5)][_0x4748f2(0x1bc)][_0x4748f2(0x1c0)],'description':this[_0x4748f2(0x1a4)][_0x4748f2(0x1b5)][_0x4748f2(0x1cb)](_0x22fe80['guild'][_0x4748f2(0x1b1)][_0x4748f2(0x1aa)],_0x4748f2(0x19e),_0x4748f2(0x19a),_0x22fe80[_0x4748f2(0x1b6)][_0x4748f2(0x1a6)],_0x5a5b74[_0x4748f2(0x1a2)],_0x5ba98a[_0x4748f2(0x1a1)])}});if(_0x5ba98a[_0x4748f2(0x1d2)])return await Role_1[_0x4748f2(0x1ae)]['findByIdAndUpdate'](_0x5a5b74['id'],{'$unset':{'invite':0x1}}),await _0x22fe80['channel']['send']({'embed':{'color':tesseract_1['Constants'][_0x4748f2(0x1bc)][_0x4748f2(0x1cc)],'description':this[_0x4748f2(0x1a4)][_0x4748f2(0x1b5)][_0x4748f2(0x1cb)](_0x22fe80['guild']['document'][_0x4748f2(0x1aa)],_0x4748f2(0x19e),'roleInviteRemove',_0x22fe80[_0x4748f2(0x1b6)]['tag'],_0x5a5b74[_0x4748f2(0x1a2)])}});}const _0x4f2d02=await Role_1['default'][_0x4748f2(0x1a7)]({'guild':_0x22fe80[_0x4748f2(0x1ad)]['id'],'invite':{'$exists':!![],'$ne':null}});if(!_0x4f2d02)throw new Error('NO_INVITE_ROLES');await _0x22fe80[_0x4748f2(0x1ab)][_0x4748f2(0x1cf)]({'embed':{'color':tesseract_1[_0x4748f2(0x1c5)][_0x4748f2(0x1bc)][_0x4748f2(0x1a9)],'title':'Invite\x20Roles','fields':_0x4f2d02[_0x4748f2(0x1bf)](_0x2f35b7=>({'name':(_0x22fe80[_0x4748f2(0x1ad)][_0x4748f2(0x1c4)][_0x4748f2(0x1ac)][_0x4748f2(0x1c6)](_0x2f35b7[_0x4748f2(0x1d0)])?_0x22fe80['guild'][_0x4748f2(0x1c4)][_0x4748f2(0x1ac)][_0x4748f2(0x1cd)](_0x2f35b7['_id'])[_0x4748f2(0x1a2)]:_0x4748f2(0x1af))+_0x4748f2(0x1a5)+_0x2f35b7[_0x4748f2(0x1d0)],'value':_0x4748f2(0x1be)+_0x2f35b7[_0x4748f2(0x1a1)]}))}});};}};