const a86_0x23a7=['has','GREEN','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','roleInviteRemove','ROLE_NOT_FOUND','constructor','delete','roleNotFound','roles','Command','info','roleInviteSet','invite','inviteRoles','\x20/\x20','cache','[DELETED]','language','get','channel','document','apply','Invite\x20Code\x20-\x20','default','RED','exports','test','Constants','guild','role','It\x20allows\x20you\x20to\x20associate\x20server\x20invites\x20with\x20roles.\x20Anyone\x20who\x20joins\x20the\x20server\x20with\x20an\x20invite\x20associated\x20with\x20a\x20role\x20will\x20be\x20assigned\x20the\x20specified\x20role\x20automatically.\x20It\x20also\x20allows\x20you\x20to\x20see\x20the\x20list\x20of\x20roles\x20associated\x20with\x20an\x20invite.','filter','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getString','exec','MANAGE_GUILD','send','resolveRole','../../models/Role','client','IRIS','../../utils/errors','split','pop','locale','NO_INVITE_ROLES','name','errors','MANAGE_ROLES','inviteRoles\x20--role\x20ROLE\x20--delete','COLORS','BASTION_ERROR_TYPE','DiscordError','_id','findByIdAndUpdate','author'];(function(_0x8dab94,_0x23f966){const _0x23a7ec=function(_0x47ab16){while(--_0x47ab16){_0x8dab94['push'](_0x8dab94['shift']());}},_0x200ccf=function(){const _0x102b8b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5204a8,_0x8b2aaa,_0x4dc8c0,_0x11abc3){_0x11abc3=_0x11abc3||{};let _0x50d458=_0x8b2aaa+'='+_0x4dc8c0,_0x4a65b9=0x0;for(let _0x3d6eca=0x0,_0x2d17f9=_0x5204a8['length'];_0x3d6eca<_0x2d17f9;_0x3d6eca++){const _0x3be7da=_0x5204a8[_0x3d6eca];_0x50d458+=';\x20'+_0x3be7da;const _0x5426c7=_0x5204a8[_0x3be7da];_0x5204a8['push'](_0x5426c7),_0x2d17f9=_0x5204a8['length'],_0x5426c7!==!![]&&(_0x50d458+='='+_0x5426c7);}_0x11abc3['cookie']=_0x50d458;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4f59d8,_0x30f0ca){_0x4f59d8=_0x4f59d8||function(_0x4ac28c){return _0x4ac28c;};const _0xf1102b=_0x4f59d8(new RegExp('(?:^|;\x20)'+_0x30f0ca['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5d6233=function(_0x946230,_0x2d6ebb){_0x946230(++_0x2d6ebb);};return _0x5d6233(_0x23a7ec,_0x23f966),_0xf1102b?decodeURIComponent(_0xf1102b[0x1]):undefined;}},_0x5bb06d=function(){const _0x3abaff=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3abaff['test'](_0x102b8b['removeCookie']['toString']());};_0x102b8b['updateCookie']=_0x5bb06d;let _0x17bef9='';const _0x5e3733=_0x102b8b['updateCookie']();if(!_0x5e3733)_0x102b8b['setCookie'](['*'],'counter',0x1);else _0x5e3733?_0x17bef9=_0x102b8b['getCookie'](null,'counter'):_0x102b8b['removeCookie']();};_0x200ccf();}(a86_0x23a7,0x1de));const a86_0x200c=function(_0x8dab94,_0x23f966){_0x8dab94=_0x8dab94-0xa3;let _0x23a7ec=a86_0x23a7[_0x8dab94];return _0x23a7ec;};const a86_0x29d461=a86_0x200c,a86_0x5bb06d=function(){let _0x5e3733=!![];return function(_0x5204a8,_0x8b2aaa){const _0x4dc8c0=_0x5e3733?function(){const _0x40c27a=a86_0x200c;if(_0x8b2aaa){const _0x11abc3=_0x8b2aaa[_0x40c27a(0xd2)](_0x5204a8,arguments);return _0x8b2aaa=null,_0x11abc3;}}:function(){};return _0x5e3733=![],_0x4dc8c0;};}(),a86_0x102b8b=a86_0x5bb06d(this,function(){const _0x50d458=function(){const _0x485dfa=a86_0x200c,_0x4a65b9=_0x50d458['constructor'](_0x485dfa(0xa5))()[_0x485dfa(0xc2)](_0x485dfa(0xbf));return!_0x4a65b9[_0x485dfa(0xd7)](a86_0x102b8b);};return _0x50d458();});a86_0x102b8b();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a86_0x29d461(0xab)),errors=require(a86_0x29d461(0xae));module[a86_0x29d461(0xd6)]=class InviteRolesCommand extends tesseract_1[a86_0x29d461(0xc6)]{constructor(){const _0x5374d6=a86_0x29d461;super(_0x5374d6(0xca),{'description':_0x5374d6(0xa3),'triggers':[],'arguments':{'boolean':[_0x5374d6(0xc3)],'string':[_0x5374d6(0xc9),'role']},'scope':_0x5374d6(0xd9),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x5374d6(0xb5)],'userPermissions':[_0x5374d6(0xa8)],'syntax':[_0x5374d6(0xca),'inviteRoles\x20--role\x20ROLE\x20--invite\x20CODE',_0x5374d6(0xb6)]}),this[_0x5374d6(0xa7)]=async(_0x3d6eca,_0x2d17f9)=>{const _0x30e9b1=_0x5374d6;if(_0x2d17f9[_0x30e9b1(0xda)]){const _0x5426c7=this[_0x30e9b1(0xac)]['resolver'][_0x30e9b1(0xaa)](_0x3d6eca['guild'],_0x2d17f9[_0x30e9b1(0xda)]);if(!_0x5426c7)throw new errors[(_0x30e9b1(0xb9))](errors[_0x30e9b1(0xb8)][_0x30e9b1(0xc1)],this[_0x30e9b1(0xac)]['locale']['getString'](_0x3d6eca[_0x30e9b1(0xd9)][_0x30e9b1(0xd1)][_0x30e9b1(0xce)],_0x30e9b1(0xb4),_0x30e9b1(0xc4)));if(_0x2d17f9[_0x30e9b1(0xc9)])return await Role_1[_0x30e9b1(0xd4)][_0x30e9b1(0xbb)](_0x5426c7['id'],{'invite':_0x2d17f9['invite'][_0x30e9b1(0xaf)]('/')[_0x30e9b1(0xa4)](_0x4f59d8=>_0x4f59d8)[_0x30e9b1(0xb0)]()}),await _0x3d6eca[_0x30e9b1(0xd0)]['send']({'embed':{'color':tesseract_1[_0x30e9b1(0xd8)]['COLORS'][_0x30e9b1(0xbe)],'description':this['client'][_0x30e9b1(0xb1)][_0x30e9b1(0xa6)](_0x3d6eca['guild'][_0x30e9b1(0xd1)][_0x30e9b1(0xce)],_0x30e9b1(0xc7),_0x30e9b1(0xc8),_0x3d6eca[_0x30e9b1(0xbc)]['tag'],_0x5426c7[_0x30e9b1(0xb3)],_0x2d17f9[_0x30e9b1(0xc9)])}});if(_0x2d17f9[_0x30e9b1(0xc3)])return await Role_1[_0x30e9b1(0xd4)][_0x30e9b1(0xbb)](_0x5426c7['id'],{'$unset':{'invite':0x1}}),await _0x3d6eca[_0x30e9b1(0xd0)]['send']({'embed':{'color':tesseract_1['Constants'][_0x30e9b1(0xb7)][_0x30e9b1(0xd5)],'description':this[_0x30e9b1(0xac)][_0x30e9b1(0xb1)]['getString'](_0x3d6eca['guild'][_0x30e9b1(0xd1)][_0x30e9b1(0xce)],_0x30e9b1(0xc7),_0x30e9b1(0xc0),_0x3d6eca[_0x30e9b1(0xbc)]['tag'],_0x5426c7[_0x30e9b1(0xb3)])}});}const _0x3be7da=await Role_1['default']['find']({'guild':_0x3d6eca[_0x30e9b1(0xd9)]['id'],'invite':{'$exists':!![],'$ne':null}});if(!_0x3be7da)throw new Error(_0x30e9b1(0xb2));await _0x3d6eca[_0x30e9b1(0xd0)][_0x30e9b1(0xa9)]({'embed':{'color':tesseract_1[_0x30e9b1(0xd8)]['COLORS'][_0x30e9b1(0xad)],'title':'Invite\x20Roles','fields':_0x3be7da['map'](_0x30f0ca=>({'name':(_0x3d6eca[_0x30e9b1(0xd9)][_0x30e9b1(0xc5)]['cache'][_0x30e9b1(0xbd)](_0x30f0ca['_id'])?_0x3d6eca['guild'][_0x30e9b1(0xc5)][_0x30e9b1(0xcc)][_0x30e9b1(0xcf)](_0x30f0ca[_0x30e9b1(0xba)])['name']:_0x30e9b1(0xcd))+_0x30e9b1(0xcb)+_0x30f0ca[_0x30e9b1(0xba)],'value':_0x30e9b1(0xd3)+_0x30f0ca[_0x30e9b1(0xc9)]}))}});};}};