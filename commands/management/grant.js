const a83_0x2032=['grant\x20--coins\x20NUMBER','DiscordError','tag','guild','info','Command','getString','GREEN','coins','apply','updateMany','resolver','../../utils/errors','BASTION_ERROR_TYPE','user','updateOne','MANAGE_GUILD','resolveGuildMember','COLORS','default','return\x20/\x22\x20+\x20this\x20+\x20\x22/','name','constructor','grantMembers','grant\x20--user\x20USER\x20--xp\x20NUMBER','language','exec','document','grantMember','INVALID_COMMAND_SYNTAX','client','send','author','locale','Constants','displayName','errors'];(function(_0x3fae9f,_0x2d24af){const _0x203210=function(_0x29ef58){while(--_0x29ef58){_0x3fae9f['push'](_0x3fae9f['shift']());}},_0x3ba2c5=function(){const _0xc04d44={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x25712a,_0x19da74,_0x5c191f,_0x4ba3f2){_0x4ba3f2=_0x4ba3f2||{};let _0x2eb41e=_0x19da74+'='+_0x5c191f,_0x12edb4=0x0;for(let _0x1f2ac8=0x0,_0x639eef=_0x25712a['length'];_0x1f2ac8<_0x639eef;_0x1f2ac8++){const _0x111cdc=_0x25712a[_0x1f2ac8];_0x2eb41e+=';\x20'+_0x111cdc;const _0x217e34=_0x25712a[_0x111cdc];_0x25712a['push'](_0x217e34),_0x639eef=_0x25712a['length'],_0x217e34!==!![]&&(_0x2eb41e+='='+_0x217e34);}_0x4ba3f2['cookie']=_0x2eb41e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2a7437,_0x23c4ce){_0x2a7437=_0x2a7437||function(_0x256ce9){return _0x256ce9;};const _0x297270=_0x2a7437(new RegExp('(?:^|;\x20)'+_0x23c4ce['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3bcb0b=function(_0x4310ea,_0x2989a6){_0x4310ea(++_0x2989a6);};return _0x3bcb0b(_0x203210,_0x2d24af),_0x297270?decodeURIComponent(_0x297270[0x1]):undefined;}},_0x314cea=function(){const _0x5dc502=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5dc502['test'](_0xc04d44['removeCookie']['toString']());};_0xc04d44['updateCookie']=_0x314cea;let _0x51ff4a='';const _0x43c6bf=_0xc04d44['updateCookie']();if(!_0x43c6bf)_0xc04d44['setCookie'](['*'],'counter',0x1);else _0x43c6bf?_0x51ff4a=_0xc04d44['getCookie'](null,'counter'):_0xc04d44['removeCookie']();};_0x3ba2c5();}(a83_0x2032,0x1cd));const a83_0x3ba2=function(_0x3fae9f,_0x2d24af){_0x3fae9f=_0x3fae9f-0x186;let _0x203210=a83_0x2032[_0x3fae9f];return _0x203210;};const _0x20fb38=a83_0x3ba2,a83_0x314cea=function(){let _0x43c6bf=!![];return function(_0x25712a,_0x19da74){const _0x5c191f=_0x43c6bf?function(){const _0x1c9b9e=a83_0x3ba2;if(_0x19da74){const _0x4ba3f2=_0x19da74[_0x1c9b9e(0x1a3)](_0x25712a,arguments);return _0x19da74=null,_0x4ba3f2;}}:function(){};return _0x43c6bf=![],_0x5c191f;};}(),a83_0xc04d44=a83_0x314cea(this,function(){const _0x2eb41e=function(){const _0x36d80d=a83_0x3ba2,_0x12edb4=_0x2eb41e[_0x36d80d(0x18b)](_0x36d80d(0x189))()[_0x36d80d(0x18b)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x12edb4['test'](a83_0xc04d44);};return _0x2eb41e();});a83_0xc04d44();'use strict';const tesseract_1=require('@bastion/tesseract'),Member_1=require('../../models/Member'),errors=require(_0x20fb38(0x1a6));module['exports']=class GrantCommand extends tesseract_1[_0x20fb38(0x19f)]{constructor(){const _0x592365=_0x20fb38;super('grant',{'description':'It\x20allows\x20you\x20to\x20grant\x20experience\x20or\x20coins\x20to\x20the\x20members\x20of\x20the\x20server.','triggers':[],'arguments':{'default':{'xp':0x0,'coins':0x0},'number':['xp',_0x592365(0x1a2)],'string':[_0x592365(0x1a8)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[_0x592365(0x1aa)],'syntax':['grant\x20--xp\x20NUMBER',_0x592365(0x19a),_0x592365(0x18d),'grant\x20--user\x20USER\x20--coins\x20NUMBER']}),this[_0x592365(0x18f)]=async(_0x1f2ac8,_0x639eef)=>{const _0x125b64=_0x592365;if(!_0x639eef['xp']&&!_0x639eef['coins'])throw new errors[(_0x125b64(0x19b))](errors[_0x125b64(0x1a7)][_0x125b64(0x192)],this[_0x125b64(0x18a)]);if(_0x639eef['user']){const _0x111cdc=this['client'][_0x125b64(0x1a5)][_0x125b64(0x186)](_0x1f2ac8['guild'],_0x639eef[_0x125b64(0x1a8)]);if(!_0x111cdc)throw new Error(this[_0x125b64(0x193)][_0x125b64(0x196)][_0x125b64(0x1a0)](_0x1f2ac8[_0x125b64(0x19d)][_0x125b64(0x190)][_0x125b64(0x18e)],_0x125b64(0x199),'memberNotFound'));const _0x217e34=await Member_1[_0x125b64(0x188)]['findOne']({'user':_0x111cdc['id'],'guild':_0x1f2ac8[_0x125b64(0x19d)]['id']});if(!_0x217e34)throw new Error(this[_0x125b64(0x193)]['locale'][_0x125b64(0x1a0)](_0x1f2ac8['guild'][_0x125b64(0x190)][_0x125b64(0x18e)],_0x125b64(0x199),'profileNotFound',_0x111cdc['user'][_0x125b64(0x19c)]));return await Member_1[_0x125b64(0x188)][_0x125b64(0x1a9)]({'user':_0x111cdc['id'],'guild':_0x1f2ac8[_0x125b64(0x19d)]['id']},{'$inc':{'experience':_0x639eef['xp']?_0x639eef['xp']:0x0,'balance':_0x639eef[_0x125b64(0x1a2)]?_0x639eef[_0x125b64(0x1a2)]:0x0}}),await _0x1f2ac8['channel'][_0x125b64(0x194)]({'embed':{'color':tesseract_1[_0x125b64(0x197)]['COLORS']['GREEN'],'description':this[_0x125b64(0x193)]['locale'][_0x125b64(0x1a0)](_0x1f2ac8['guild'][_0x125b64(0x190)]['language'],_0x125b64(0x19e),_0x125b64(0x191),_0x1f2ac8[_0x125b64(0x195)][_0x125b64(0x19c)],_0x639eef['xp']?_0x639eef['xp']:0x0,_0x639eef[_0x125b64(0x1a2)]?_0x639eef[_0x125b64(0x1a2)]:0x0,_0x111cdc[_0x125b64(0x198)])}});}return await Member_1['default'][_0x125b64(0x1a4)]({'guild':_0x1f2ac8[_0x125b64(0x19d)]['id']},{'$inc':{'experience':_0x639eef['xp']?_0x639eef['xp']:0x0,'balance':_0x639eef[_0x125b64(0x1a2)]?_0x639eef[_0x125b64(0x1a2)]:0x0}}),await _0x1f2ac8['channel'][_0x125b64(0x194)]({'embed':{'color':tesseract_1[_0x125b64(0x197)][_0x125b64(0x187)][_0x125b64(0x1a1)],'description':this[_0x125b64(0x193)]['locale']['getString'](_0x1f2ac8[_0x125b64(0x19d)][_0x125b64(0x190)][_0x125b64(0x18e)],_0x125b64(0x19e),_0x125b64(0x18c),_0x1f2ac8['author'][_0x125b64(0x19c)],_0x639eef['xp']?_0x639eef['xp']:0x0,_0x639eef[_0x125b64(0x1a2)]?_0x639eef[_0x125b64(0x1a2)]:0x0)}});};}};