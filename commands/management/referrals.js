const a75_0x3122=['\x20of\x20','referrals\x20--enable','paginate','uses','../../models/Guild','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Command','enable','test','\x20-\x20','disable','referralsDisable','default','findByIdAndUpdate','constructor','../../utils/pagination','channel','COLORS','referral','has','Referrals\x20Channel','../../models/Member','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','Referrals','filter','referrals\x20--page\x20NUMBER','author','referrals\x20--disable','user','exec','tag','cache','keys','referrals','document','items','page','Constants','members','@bastion/tesseract','exports','info','includes','return\x20/\x22\x20+\x20this\x20+\x20\x22/','MANAGE_GUILD','guild','IRIS','referralsEnable','pages','get','getString','from','send'];(function(_0x387389,_0x31229c){const _0x2eacda=function(_0x3b5433){while(--_0x3b5433){_0x387389['push'](_0x387389['shift']());}},_0x37b67c=function(){const _0x149766={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1a3898,_0x138a7e,_0x264d55,_0x53b908){_0x53b908=_0x53b908||{};let _0x27044b=_0x138a7e+'='+_0x264d55,_0xfa1a0f=0x0;for(let _0x36ace0=0x0,_0x98f5bd=_0x1a3898['length'];_0x36ace0<_0x98f5bd;_0x36ace0++){const _0x611dde=_0x1a3898[_0x36ace0];_0x27044b+=';\x20'+_0x611dde;const _0x3756b4=_0x1a3898[_0x611dde];_0x1a3898['push'](_0x3756b4),_0x98f5bd=_0x1a3898['length'],_0x3756b4!==!![]&&(_0x27044b+='='+_0x3756b4);}_0x53b908['cookie']=_0x27044b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1c2167,_0x1cafb8){_0x1c2167=_0x1c2167||function(_0x4d501d){return _0x4d501d;};const _0x4ce317=_0x1c2167(new RegExp('(?:^|;\x20)'+_0x1cafb8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb70a42=function(_0x3c5736,_0x5002fd){_0x3c5736(++_0x5002fd);};return _0xb70a42(_0x2eacda,_0x31229c),_0x4ce317?decodeURIComponent(_0x4ce317[0x1]):undefined;}},_0x15439e=function(){const _0x10fdfb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x10fdfb['test'](_0x149766['removeCookie']['toString']());};_0x149766['updateCookie']=_0x15439e;let _0x1afb72='';const _0x3b6dbf=_0x149766['updateCookie']();if(!_0x3b6dbf)_0x149766['setCookie'](['*'],'counter',0x1);else _0x3b6dbf?_0x1afb72=_0x149766['getCookie'](null,'counter'):_0x149766['removeCookie']();};_0x37b67c();}(a75_0x3122,0x151));const a75_0x2eac=function(_0x387389,_0x31229c){_0x387389=_0x387389-0x0;let _0x2eacda=a75_0x3122[_0x387389];return _0x2eacda;};const a75_0x149766=function(){let _0x1afb72=!![];return function(_0x3b6dbf,_0x1a3898){const _0x138a7e=_0x1afb72?function(){if(_0x1a3898){const _0x264d55=_0x1a3898['apply'](_0x3b6dbf,arguments);return _0x1a3898=null,_0x264d55;}}:function(){};return _0x1afb72=![],_0x138a7e;};}(),a75_0x3b5433=a75_0x149766(this,function(){const _0x53b908=function(){const _0x27044b=_0x53b908[a75_0x2eac('0x30')](a75_0x2eac('0x18'))()[a75_0x2eac('0x30')](a75_0x2eac('0x27'));return!_0x27044b[a75_0x2eac('0x2a')](a75_0x3b5433);};return _0x53b908();});a75_0x3b5433();'use strict';const tesseract_1=require(a75_0x2eac('0x14')),Guild_1=require(a75_0x2eac('0x26')),Member_1=require(a75_0x2eac('0x2')),pagination=require(a75_0x2eac('0x31'));module[a75_0x2eac('0x15')]=class ReferralsCommand extends tesseract_1[a75_0x2eac('0x28')]{constructor(){super('referrals',{'description':a75_0x2eac('0x3'),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[a75_0x2eac('0x29'),a75_0x2eac('0x2c')],'number':[a75_0x2eac('0x11')]},'scope':a75_0x2eac('0x1a'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a75_0x2eac('0x19')],'userPermissions':[],'syntax':[a75_0x2eac('0xe'),a75_0x2eac('0x6'),a75_0x2eac('0x23'),a75_0x2eac('0x8')]}),this[a75_0x2eac('0xa')]=async(_0xfa1a0f,_0x36ace0)=>{if(_0x36ace0['enable']||_0x36ace0['disable'])return _0x36ace0[a75_0x2eac('0x29')]?await Guild_1['default']['findByIdAndUpdate'](_0xfa1a0f[a75_0x2eac('0x1a')]['id'],{'referralsChannel':_0xfa1a0f['channel']['id']}):await Guild_1[a75_0x2eac('0x2e')][a75_0x2eac('0x2f')](_0xfa1a0f['guild']['id'],{'$unset':{'referralsChannel':0x1}}),await _0xfa1a0f[a75_0x2eac('0x32')][a75_0x2eac('0x21')]({'embed':{'color':_0x36ace0['enable']?tesseract_1['Constants'][a75_0x2eac('0x33')]['GREEN']:tesseract_1[a75_0x2eac('0x12')]['COLORS']['RED'],'title':a75_0x2eac('0x1'),'description':this['client']['locale'][a75_0x2eac('0x1f')](_0xfa1a0f[a75_0x2eac('0x1a')][a75_0x2eac('0xf')]['language'],a75_0x2eac('0x16'),_0x36ace0[a75_0x2eac('0x29')]?a75_0x2eac('0x1c'):a75_0x2eac('0x2d'),_0xfa1a0f[a75_0x2eac('0x7')]['tag'])}});const _0x98f5bd=await Member_1['default']['find']({'guild':_0xfa1a0f[a75_0x2eac('0x1a')]['id'],'referral':{'$exists':!![]}}),_0x611dde=await _0xfa1a0f[a75_0x2eac('0x1a')]['fetchInvites'](),_0x3756b4=pagination[a75_0x2eac('0x24')](_0x98f5bd[a75_0x2eac('0x5')](_0x1c2167=>_0x1c2167[a75_0x2eac('0x34')]&&Array[a75_0x2eac('0x20')](_0x611dde[a75_0x2eac('0xd')]())[a75_0x2eac('0x17')](_0x1c2167[a75_0x2eac('0x34')]))['map'](_0x1cafb8=>({'name':_0xfa1a0f[a75_0x2eac('0x1a')][a75_0x2eac('0x13')][a75_0x2eac('0xc')][a75_0x2eac('0x0')](_0x1cafb8[a75_0x2eac('0x9')])?_0xfa1a0f[a75_0x2eac('0x1a')]['members'][a75_0x2eac('0xc')][a75_0x2eac('0x1e')](_0x1cafb8[a75_0x2eac('0x9')])[a75_0x2eac('0x9')][a75_0x2eac('0xb')]:_0x1cafb8[a75_0x2eac('0x9')],'value':_0x1cafb8[a75_0x2eac('0x34')]+a75_0x2eac('0x2b')+_0x611dde[a75_0x2eac('0x1e')](_0x1cafb8[a75_0x2eac('0x34')])[a75_0x2eac('0x25')]+'\x20Uses'})),_0x36ace0[a75_0x2eac('0x11')]);await _0xfa1a0f[a75_0x2eac('0x32')][a75_0x2eac('0x21')]({'embed':{'color':tesseract_1[a75_0x2eac('0x12')][a75_0x2eac('0x33')][a75_0x2eac('0x1b')],'title':a75_0x2eac('0x4'),'fields':_0x3756b4[a75_0x2eac('0x10')],'footer':{'text':'Page\x20'+_0x3756b4[a75_0x2eac('0x11')]+a75_0x2eac('0x22')+_0x3756b4[a75_0x2eac('0x1d')]}}});};}};