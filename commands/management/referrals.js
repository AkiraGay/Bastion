const a93_0x10aa=['referrals','referralsEnable','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','author','@bastion/tesseract','channel','find','referrals\x20--enable','RED','items','cache','Command','getString','default','../../models/Member','MANAGE_GUILD','filter','exports','\x20-\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','keys','from','test','IRIS','tag','locale','disable','enable','\x20Uses','Referrals','GREEN','paginate','\x20of\x20','info','includes','referrals\x20--page\x20NUMBER','../../models/Guild','Page\x20','Constants','referral','language','../../utils/pagination','user','send','page','COLORS','guild','client','uses','members','findByIdAndUpdate','get','document'];(function(_0x23c078,_0x374822){const _0x10aa94=function(_0x4cf515){while(--_0x4cf515){_0x23c078['push'](_0x23c078['shift']());}},_0x175496=function(){const _0x48dab1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x84d28e,_0x4c96eb,_0xec818a,_0x45b4ad){_0x45b4ad=_0x45b4ad||{};let _0x34c931=_0x4c96eb+'='+_0xec818a,_0x554d4a=0x0;for(let _0x32f961=0x0,_0x3d0e5e=_0x84d28e['length'];_0x32f961<_0x3d0e5e;_0x32f961++){const _0xc0c8d6=_0x84d28e[_0x32f961];_0x34c931+=';\x20'+_0xc0c8d6;const _0x5e7ed7=_0x84d28e[_0xc0c8d6];_0x84d28e['push'](_0x5e7ed7),_0x3d0e5e=_0x84d28e['length'],_0x5e7ed7!==!![]&&(_0x34c931+='='+_0x5e7ed7);}_0x45b4ad['cookie']=_0x34c931;},'removeCookie':function(){return'dev';},'getCookie':function(_0x309bca,_0x2b5da8){_0x309bca=_0x309bca||function(_0x540afb){return _0x540afb;};const _0x16a733=_0x309bca(new RegExp('(?:^|;\x20)'+_0x2b5da8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x500e3a=function(_0x2ed8dc,_0x462778){_0x2ed8dc(++_0x462778);};return _0x500e3a(_0x10aa94,_0x374822),_0x16a733?decodeURIComponent(_0x16a733[0x1]):undefined;}},_0x227ffb=function(){const _0x51a702=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x51a702['test'](_0x48dab1['removeCookie']['toString']());};_0x48dab1['updateCookie']=_0x227ffb;let _0x2c9dbd='';const _0x390f2c=_0x48dab1['updateCookie']();if(!_0x390f2c)_0x48dab1['setCookie'](['*'],'counter',0x1);else _0x390f2c?_0x2c9dbd=_0x48dab1['getCookie'](null,'counter'):_0x48dab1['removeCookie']();};_0x175496();}(a93_0x10aa,0x82));const a93_0x1754=function(_0x23c078,_0x374822){_0x23c078=_0x23c078-0x13f;let _0x10aa94=a93_0x10aa[_0x23c078];return _0x10aa94;};const a93_0x31708a=a93_0x1754,a93_0x227ffb=function(){let _0x390f2c=!![];return function(_0x84d28e,_0x4c96eb){const _0xec818a=_0x390f2c?function(){if(_0x4c96eb){const _0x45b4ad=_0x4c96eb['apply'](_0x84d28e,arguments);return _0x4c96eb=null,_0x45b4ad;}}:function(){};return _0x390f2c=![],_0xec818a;};}(),a93_0x48dab1=a93_0x227ffb(this,function(){const _0x34c931=function(){const _0x2c221c=a93_0x1754,_0x554d4a=_0x34c931['constructor'](_0x2c221c(0x16f))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x554d4a[_0x2c221c(0x172)](a93_0x48dab1);};return _0x34c931();});a93_0x48dab1();'use strict';const tesseract_1=require(a93_0x31708a(0x160)),Guild_1=require(a93_0x31708a(0x14b)),Member_1=require(a93_0x31708a(0x16a)),pagination=require(a93_0x31708a(0x150));module[a93_0x31708a(0x16d)]=class ReferralsCommand extends tesseract_1[a93_0x31708a(0x167)]{constructor(){const _0x14b779=a93_0x31708a;super(_0x14b779(0x15c),{'description':_0x14b779(0x15e),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':['enable',_0x14b779(0x141)],'number':[_0x14b779(0x153)]},'scope':_0x14b779(0x155),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x14b779(0x16b)],'userPermissions':[],'syntax':[_0x14b779(0x15c),_0x14b779(0x14a),_0x14b779(0x163),'referrals\x20--disable']}),this['exec']=async(_0x32f961,_0x3d0e5e)=>{const _0x3d11ac=_0x14b779;if(_0x3d0e5e[_0x3d11ac(0x142)]||_0x3d0e5e[_0x3d11ac(0x141)])return _0x3d0e5e[_0x3d11ac(0x142)]?await Guild_1[_0x3d11ac(0x169)]['findByIdAndUpdate'](_0x32f961['guild']['id'],{'referralsChannel':_0x32f961['channel']['id']}):await Guild_1['default'][_0x3d11ac(0x159)](_0x32f961[_0x3d11ac(0x155)]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x32f961[_0x3d11ac(0x161)]['send']({'embed':{'color':_0x3d0e5e[_0x3d11ac(0x142)]?tesseract_1[_0x3d11ac(0x14d)][_0x3d11ac(0x154)][_0x3d11ac(0x145)]:tesseract_1[_0x3d11ac(0x14d)][_0x3d11ac(0x154)][_0x3d11ac(0x164)],'title':'Referrals\x20Channel','description':this[_0x3d11ac(0x156)][_0x3d11ac(0x140)][_0x3d11ac(0x168)](_0x32f961['guild'][_0x3d11ac(0x15b)][_0x3d11ac(0x14f)],_0x3d11ac(0x148),_0x3d0e5e[_0x3d11ac(0x142)]?_0x3d11ac(0x15d):'referralsDisable',_0x32f961[_0x3d11ac(0x15f)][_0x3d11ac(0x13f)])}});const _0xc0c8d6=await Member_1['default'][_0x3d11ac(0x162)]({'guild':_0x32f961['guild']['id'],'referral':{'$exists':!![]}}),_0x5e7ed7=await _0x32f961['guild']['fetchInvites'](),_0x309bca=pagination[_0x3d11ac(0x146)](_0xc0c8d6[_0x3d11ac(0x16c)](_0x2b5da8=>_0x2b5da8['referral']&&Array[_0x3d11ac(0x171)](_0x5e7ed7[_0x3d11ac(0x170)]())[_0x3d11ac(0x149)](_0x2b5da8['referral']))['map'](_0x16a733=>({'name':_0x32f961['guild'][_0x3d11ac(0x158)][_0x3d11ac(0x166)]['has'](_0x16a733[_0x3d11ac(0x151)])?_0x32f961[_0x3d11ac(0x155)][_0x3d11ac(0x158)]['cache']['get'](_0x16a733['user'])['user'][_0x3d11ac(0x13f)]:_0x16a733[_0x3d11ac(0x151)],'value':_0x16a733[_0x3d11ac(0x14e)]+_0x3d11ac(0x16e)+_0x5e7ed7[_0x3d11ac(0x15a)](_0x16a733[_0x3d11ac(0x14e)])[_0x3d11ac(0x157)]+_0x3d11ac(0x143)})),_0x3d0e5e['page']);await _0x32f961[_0x3d11ac(0x161)][_0x3d11ac(0x152)]({'embed':{'color':tesseract_1[_0x3d11ac(0x14d)][_0x3d11ac(0x154)][_0x3d11ac(0x173)],'title':_0x3d11ac(0x144),'fields':_0x309bca[_0x3d11ac(0x165)],'footer':{'text':_0x3d11ac(0x14c)+_0x309bca[_0x3d11ac(0x153)]+_0x3d11ac(0x147)+_0x309bca['pages']}}});};}};