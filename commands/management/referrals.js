const a85_0x2d44=['Constants','paginate','GREEN','\x20Uses','@bastion/tesseract','disable','find','cache','\x20of\x20','referrals\x20--enable','document','author','Referrals\x20Channel','\x20-\x20','info','referrals\x20--page\x20NUMBER','../../models/Guild','RED','../../utils/pagination','COLORS','enable','exec','findByIdAndUpdate','constructor','items','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','filter','members','IRIS','channel','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','guild','test','referrals','fetchInvites','send','Referrals','tag','uses','page','map','pages','referrals\x20--disable','get','Page\x20','user','referralsEnable','referral','../../models/Member','has','locale','includes','language','getString'];(function(_0x454b00,_0x2d447b){const _0x1a4d08=function(_0x1f0ae1){while(--_0x1f0ae1){_0x454b00['push'](_0x454b00['shift']());}},_0x269d89=function(){const _0x1bac11={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2b96e0,_0x124e13,_0x6c4d92,_0x35a7ed){_0x35a7ed=_0x35a7ed||{};let _0x3e7951=_0x124e13+'='+_0x6c4d92,_0x40cfa1=0x0;for(let _0x41f9b0=0x0,_0x38fc7d=_0x2b96e0['length'];_0x41f9b0<_0x38fc7d;_0x41f9b0++){const _0x4641b4=_0x2b96e0[_0x41f9b0];_0x3e7951+=';\x20'+_0x4641b4;const _0x110b0c=_0x2b96e0[_0x4641b4];_0x2b96e0['push'](_0x110b0c),_0x38fc7d=_0x2b96e0['length'],_0x110b0c!==!![]&&(_0x3e7951+='='+_0x110b0c);}_0x35a7ed['cookie']=_0x3e7951;},'removeCookie':function(){return'dev';},'getCookie':function(_0x502a49,_0x49a549){_0x502a49=_0x502a49||function(_0x806043){return _0x806043;};const _0x4b6db9=_0x502a49(new RegExp('(?:^|;\x20)'+_0x49a549['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1438ce=function(_0x580b50,_0x4dc505){_0x580b50(++_0x4dc505);};return _0x1438ce(_0x1a4d08,_0x2d447b),_0x4b6db9?decodeURIComponent(_0x4b6db9[0x1]):undefined;}},_0x6aed11=function(){const _0x88314f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x88314f['test'](_0x1bac11['removeCookie']['toString']());};_0x1bac11['updateCookie']=_0x6aed11;let _0x40fc02='';const _0x5e99f7=_0x1bac11['updateCookie']();if(!_0x5e99f7)_0x1bac11['setCookie'](['*'],'counter',0x1);else _0x5e99f7?_0x40fc02=_0x1bac11['getCookie'](null,'counter'):_0x1bac11['removeCookie']();};_0x269d89();}(a85_0x2d44,0xdc));const a85_0x1a4d=function(_0x454b00,_0x2d447b){_0x454b00=_0x454b00-0x0;let _0x1a4d08=a85_0x2d44[_0x454b00];return _0x1a4d08;};const _0x38ec18=a85_0x1a4d,a85_0x1bac11=function(){let _0x40fc02=!![];return function(_0x5e99f7,_0x2b96e0){const _0x124e13=_0x40fc02?function(){if(_0x2b96e0){const _0x6c4d92=_0x2b96e0['apply'](_0x5e99f7,arguments);return _0x2b96e0=null,_0x6c4d92;}}:function(){};return _0x40fc02=![],_0x124e13;};}(),a85_0x1f0ae1=a85_0x1bac11(this,function(){const _0x35a7ed=function(){const _0x3c1c54=a85_0x1a4d,_0x3e7951=_0x35a7ed[_0x3c1c54('0x17')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x3c1c54('0x19'));return!_0x3e7951[_0x3c1c54('0x21')](a85_0x1f0ae1);};return _0x35a7ed();});a85_0x1f0ae1();'use strict';const tesseract_1=require(_0x38ec18('0x4')),Guild_1=require(_0x38ec18('0x10')),Member_1=require(_0x38ec18('0x31')),pagination=require(_0x38ec18('0x12'));module['exports']=class ReferralsCommand extends tesseract_1['Command']{constructor(){const _0x39aa75=_0x38ec18;super('referrals',{'description':_0x39aa75('0x1f'),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[_0x39aa75('0x14'),'disable'],'number':[_0x39aa75('0x28')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_GUILD'],'userPermissions':[],'syntax':[_0x39aa75('0x22'),_0x39aa75('0xf'),_0x39aa75('0x9'),_0x39aa75('0x2b')]}),this[_0x39aa75('0x15')]=async(_0x40cfa1,_0x41f9b0)=>{const _0x166f64=_0x39aa75;if(_0x41f9b0[_0x166f64('0x14')]||_0x41f9b0[_0x166f64('0x5')])return _0x41f9b0['enable']?await Guild_1[_0x166f64('0x1a')][_0x166f64('0x16')](_0x40cfa1['guild']['id'],{'referralsChannel':_0x40cfa1[_0x166f64('0x1e')]['id']}):await Guild_1[_0x166f64('0x1a')]['findByIdAndUpdate'](_0x40cfa1[_0x166f64('0x20')]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x40cfa1[_0x166f64('0x1e')]['send']({'embed':{'color':_0x41f9b0[_0x166f64('0x14')]?tesseract_1['Constants'][_0x166f64('0x13')][_0x166f64('0x2')]:tesseract_1[_0x166f64('0x0')][_0x166f64('0x13')][_0x166f64('0x11')],'title':_0x166f64('0xc'),'description':this['client'][_0x166f64('0x33')][_0x166f64('0x36')](_0x40cfa1['guild'][_0x166f64('0xa')][_0x166f64('0x35')],_0x166f64('0xe'),_0x41f9b0[_0x166f64('0x14')]?_0x166f64('0x2f'):'referralsDisable',_0x40cfa1[_0x166f64('0xb')]['tag'])}});const _0x38fc7d=await Member_1[_0x166f64('0x1a')][_0x166f64('0x6')]({'guild':_0x40cfa1[_0x166f64('0x20')]['id'],'referral':{'$exists':!![]}}),_0x4641b4=await _0x40cfa1[_0x166f64('0x20')][_0x166f64('0x23')](),_0x110b0c=pagination[_0x166f64('0x1')](_0x38fc7d[_0x166f64('0x1b')](_0x502a49=>_0x502a49['referral']&&Array['from'](_0x4641b4['keys']())[_0x166f64('0x34')](_0x502a49[_0x166f64('0x30')]))[_0x166f64('0x29')](_0x49a549=>({'name':_0x40cfa1[_0x166f64('0x20')]['members'][_0x166f64('0x7')][_0x166f64('0x32')](_0x49a549['user'])?_0x40cfa1[_0x166f64('0x20')][_0x166f64('0x1c')][_0x166f64('0x7')][_0x166f64('0x2c')](_0x49a549[_0x166f64('0x2e')])[_0x166f64('0x2e')][_0x166f64('0x26')]:_0x49a549['user'],'value':_0x49a549['referral']+_0x166f64('0xd')+_0x4641b4[_0x166f64('0x2c')](_0x49a549[_0x166f64('0x30')])[_0x166f64('0x27')]+_0x166f64('0x3')})),_0x41f9b0[_0x166f64('0x28')]);await _0x40cfa1[_0x166f64('0x1e')][_0x166f64('0x24')]({'embed':{'color':tesseract_1[_0x166f64('0x0')][_0x166f64('0x13')][_0x166f64('0x1d')],'title':_0x166f64('0x25'),'fields':_0x110b0c[_0x166f64('0x18')],'footer':{'text':_0x166f64('0x2d')+_0x110b0c[_0x166f64('0x28')]+_0x166f64('0x8')+_0x110b0c[_0x166f64('0x2a')]}}});};}};