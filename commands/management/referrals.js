const a93_0x1656=['exports','referral','disable','RED','uses','../../utils/pagination','paginate','findByIdAndUpdate','Command','referrals\x20--enable','COLORS','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','getString','referralsDisable','tag','Page\x20','author','return\x20/\x22\x20+\x20this\x20+\x20\x22/','channel','client','keys','constructor','cache','\x20-\x20','user','has','includes','default','get','referrals\x20--page\x20NUMBER','../../models/Member','\x20of\x20','test','locale','apply','enable','guild','map','referrals','../../models/Guild','page','exec','members','find','pages','send','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','items','GREEN'];(function(_0x2592a5,_0x5a2a6a){const _0x16562d=function(_0x549c2e){while(--_0x549c2e){_0x2592a5['push'](_0x2592a5['shift']());}},_0x193871=function(){const _0x19a7ff={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5b5108,_0xfda1d5,_0x264612,_0x33e39e){_0x33e39e=_0x33e39e||{};let _0x6fca68=_0xfda1d5+'='+_0x264612,_0x4e4a28=0x0;for(let _0x495b89=0x0,_0x2f2a73=_0x5b5108['length'];_0x495b89<_0x2f2a73;_0x495b89++){const _0x4b092d=_0x5b5108[_0x495b89];_0x6fca68+=';\x20'+_0x4b092d;const _0x194f48=_0x5b5108[_0x4b092d];_0x5b5108['push'](_0x194f48),_0x2f2a73=_0x5b5108['length'],_0x194f48!==!![]&&(_0x6fca68+='='+_0x194f48);}_0x33e39e['cookie']=_0x6fca68;},'removeCookie':function(){return'dev';},'getCookie':function(_0x18f647,_0x225df2){_0x18f647=_0x18f647||function(_0xbb84da){return _0xbb84da;};const _0x16cacc=_0x18f647(new RegExp('(?:^|;\x20)'+_0x225df2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x29707c=function(_0x2a8c9e,_0x58de4f){_0x2a8c9e(++_0x58de4f);};return _0x29707c(_0x16562d,_0x5a2a6a),_0x16cacc?decodeURIComponent(_0x16cacc[0x1]):undefined;}},_0x56554b=function(){const _0xcff56=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xcff56['test'](_0x19a7ff['removeCookie']['toString']());};_0x19a7ff['updateCookie']=_0x56554b;let _0x40adc0='';const _0x80097a=_0x19a7ff['updateCookie']();if(!_0x80097a)_0x19a7ff['setCookie'](['*'],'counter',0x1);else _0x80097a?_0x40adc0=_0x19a7ff['getCookie'](null,'counter'):_0x19a7ff['removeCookie']();};_0x193871();}(a93_0x1656,0x11a));const a93_0x1938=function(_0x2592a5,_0x5a2a6a){_0x2592a5=_0x2592a5-0x1de;let _0x16562d=a93_0x1656[_0x2592a5];return _0x16562d;};const a93_0xdc5d58=a93_0x1938,a93_0x56554b=function(){let _0x80097a=!![];return function(_0x5b5108,_0xfda1d5){const _0x264612=_0x80097a?function(){const _0x1d0344=a93_0x1938;if(_0xfda1d5){const _0x33e39e=_0xfda1d5[_0x1d0344(0x1e1)](_0x5b5108,arguments);return _0xfda1d5=null,_0x33e39e;}}:function(){};return _0x80097a=![],_0x264612;};}(),a93_0x19a7ff=a93_0x56554b(this,function(){const _0x6fca68=function(){const _0x582c7a=a93_0x1938,_0x4e4a28=_0x6fca68[_0x582c7a(0x206)](_0x582c7a(0x202))()[_0x582c7a(0x206)](_0x582c7a(0x1fc));return!_0x4e4a28[_0x582c7a(0x1df)](a93_0x19a7ff);};return _0x6fca68();});a93_0x19a7ff();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require(a93_0xdc5d58(0x1e6)),Member_1=require(a93_0xdc5d58(0x20f)),pagination=require(a93_0xdc5d58(0x1f5));module[a93_0xdc5d58(0x1f0)]=class ReferralsCommand extends tesseract_1[a93_0xdc5d58(0x1f8)]{constructor(){const _0x3165ba=a93_0xdc5d58;super(_0x3165ba(0x1e5),{'description':_0x3165ba(0x1ed),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[_0x3165ba(0x1e2),_0x3165ba(0x1f2)],'number':[_0x3165ba(0x1e7)]},'scope':_0x3165ba(0x1e3),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_GUILD'],'userPermissions':[],'syntax':['referrals',_0x3165ba(0x20e),_0x3165ba(0x1f9),'referrals\x20--disable']}),this[_0x3165ba(0x1e8)]=async(_0x495b89,_0x2f2a73)=>{const _0x2ba3c4=_0x3165ba;if(_0x2f2a73[_0x2ba3c4(0x1e2)]||_0x2f2a73[_0x2ba3c4(0x1f2)])return _0x2f2a73[_0x2ba3c4(0x1e2)]?await Guild_1['default'][_0x2ba3c4(0x1f7)](_0x495b89[_0x2ba3c4(0x1e3)]['id'],{'referralsChannel':_0x495b89[_0x2ba3c4(0x203)]['id']}):await Guild_1['default'][_0x2ba3c4(0x1f7)](_0x495b89[_0x2ba3c4(0x1e3)]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x495b89[_0x2ba3c4(0x203)][_0x2ba3c4(0x1ec)]({'embed':{'color':_0x2f2a73[_0x2ba3c4(0x1e2)]?tesseract_1[_0x2ba3c4(0x1fb)][_0x2ba3c4(0x1fa)][_0x2ba3c4(0x1ef)]:tesseract_1['Constants'][_0x2ba3c4(0x1fa)][_0x2ba3c4(0x1f3)],'title':'Referrals\x20Channel','description':this[_0x2ba3c4(0x204)][_0x2ba3c4(0x1e0)][_0x2ba3c4(0x1fd)](_0x495b89[_0x2ba3c4(0x1e3)]['document']['language'],'info',_0x2f2a73[_0x2ba3c4(0x1e2)]?'referralsEnable':_0x2ba3c4(0x1fe),_0x495b89[_0x2ba3c4(0x201)]['tag'])}});const _0x4b092d=await Member_1[_0x2ba3c4(0x20c)][_0x2ba3c4(0x1ea)]({'guild':_0x495b89['guild']['id'],'referral':{'$exists':!![]}}),_0x194f48=await _0x495b89[_0x2ba3c4(0x1e3)]['fetchInvites'](),_0x18f647=pagination[_0x2ba3c4(0x1f6)](_0x4b092d['filter'](_0x225df2=>_0x225df2[_0x2ba3c4(0x1f1)]&&Array['from'](_0x194f48[_0x2ba3c4(0x205)]())[_0x2ba3c4(0x20b)](_0x225df2['referral']))[_0x2ba3c4(0x1e4)](_0x16cacc=>({'name':_0x495b89[_0x2ba3c4(0x1e3)][_0x2ba3c4(0x1e9)][_0x2ba3c4(0x207)][_0x2ba3c4(0x20a)](_0x16cacc[_0x2ba3c4(0x209)])?_0x495b89['guild'][_0x2ba3c4(0x1e9)][_0x2ba3c4(0x207)][_0x2ba3c4(0x20d)](_0x16cacc[_0x2ba3c4(0x209)])['user'][_0x2ba3c4(0x1ff)]:_0x16cacc[_0x2ba3c4(0x209)],'value':_0x16cacc['referral']+_0x2ba3c4(0x208)+_0x194f48[_0x2ba3c4(0x20d)](_0x16cacc[_0x2ba3c4(0x1f1)])[_0x2ba3c4(0x1f4)]+'\x20Uses'})),_0x2f2a73['page']);await _0x495b89['channel'][_0x2ba3c4(0x1ec)]({'embed':{'color':tesseract_1[_0x2ba3c4(0x1fb)][_0x2ba3c4(0x1fa)]['IRIS'],'title':'Referrals','fields':_0x18f647[_0x2ba3c4(0x1ee)],'footer':{'text':_0x2ba3c4(0x200)+_0x18f647[_0x2ba3c4(0x1e7)]+_0x2ba3c4(0x1de)+_0x18f647[_0x2ba3c4(0x1eb)]}}});};}};