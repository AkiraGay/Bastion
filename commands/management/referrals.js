const a73_0x41ea=['../../models/Member','disable','COLORS','author','map','language','\x20Uses','members','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','RED','guild','page','document','exec','default','getString','return\x20/\x22\x20+\x20this\x20+\x20\x22/','referralsEnable','send','\x20of\x20','../../models/Guild','channel','apply','info','referral','IRIS','referrals\x20--page\x20NUMBER','enable','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','client','Constants','findByIdAndUpdate','pages','user','filter','locale','Command','referrals','../../utils/pagination','has','referrals\x20--enable','MANAGE_GUILD','referralsDisable','cache','items','paginate','includes'];(function(_0x4dc8e4,_0x41ea56){const _0xd3e6e=function(_0x5861d9){while(--_0x5861d9){_0x4dc8e4['push'](_0x4dc8e4['shift']());}},_0x32e6e1=function(){const _0x5a8db9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x295d30,_0x33990a,_0xcffe89,_0x44ef47){_0x44ef47=_0x44ef47||{};let _0xdc3b07=_0x33990a+'='+_0xcffe89,_0x4cb126=0x0;for(let _0xe87fd6=0x0,_0x5de24c=_0x295d30['length'];_0xe87fd6<_0x5de24c;_0xe87fd6++){const _0x1c5374=_0x295d30[_0xe87fd6];_0xdc3b07+=';\x20'+_0x1c5374;const _0x59cd69=_0x295d30[_0x1c5374];_0x295d30['push'](_0x59cd69),_0x5de24c=_0x295d30['length'],_0x59cd69!==!![]&&(_0xdc3b07+='='+_0x59cd69);}_0x44ef47['cookie']=_0xdc3b07;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4de2b1,_0x2de273){_0x4de2b1=_0x4de2b1||function(_0x5bbd3c){return _0x5bbd3c;};const _0x521378=_0x4de2b1(new RegExp('(?:^|;\x20)'+_0x2de273['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3c3474=function(_0x290dd7,_0x4191d2){_0x290dd7(++_0x4191d2);};return _0x3c3474(_0xd3e6e,_0x41ea56),_0x521378?decodeURIComponent(_0x521378[0x1]):undefined;}},_0x4bd1dc=function(){const _0x318baa=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x318baa['test'](_0x5a8db9['removeCookie']['toString']());};_0x5a8db9['updateCookie']=_0x4bd1dc;let _0x1318a3='';const _0x126e6f=_0x5a8db9['updateCookie']();if(!_0x126e6f)_0x5a8db9['setCookie'](['*'],'counter',0x1);else _0x126e6f?_0x1318a3=_0x5a8db9['getCookie'](null,'counter'):_0x5a8db9['removeCookie']();};_0x32e6e1();}(a73_0x41ea,0x78));const a73_0xd3e6=function(_0x4dc8e4,_0x41ea56){_0x4dc8e4=_0x4dc8e4-0x0;let _0xd3e6e=a73_0x41ea[_0x4dc8e4];return _0xd3e6e;};const a73_0xcffe89=function(){let _0x37bbef=!![];return function(_0x5aceef,_0x131433){const _0x486f37=_0x37bbef?function(){if(_0x131433){const _0x5ee35d=_0x131433[a73_0xd3e6('0x2b')](_0x5aceef,arguments);return _0x131433=null,_0x5ee35d;}}:function(){};return _0x37bbef=![],_0x486f37;};}(),a73_0x33990a=a73_0xcffe89(this,function(){const _0x4e155c=function(){const _0x165465=_0x4e155c['constructor'](a73_0xd3e6('0x25'))()['constructor'](a73_0xd3e6('0x2'));return!_0x165465['test'](a73_0x33990a);};return _0x4e155c();});a73_0x33990a();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require(a73_0xd3e6('0x29')),Member_1=require(a73_0xd3e6('0x15')),pagination=require(a73_0xd3e6('0xc'));module['exports']=class ReferralsCommand extends tesseract_1[a73_0xd3e6('0xa')]{constructor(){super(a73_0xd3e6('0xb'),{'description':a73_0xd3e6('0x1d'),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[a73_0xd3e6('0x1'),a73_0xd3e6('0x16')],'number':['page']},'scope':a73_0xd3e6('0x1f'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a73_0xd3e6('0xf')],'userPermissions':[],'syntax':[a73_0xd3e6('0xb'),a73_0xd3e6('0x0'),a73_0xd3e6('0xe'),'referrals\x20--disable']}),this[a73_0xd3e6('0x22')]=async(_0x3bfa9a,_0x40b1e4)=>{if(_0x40b1e4[a73_0xd3e6('0x1')]||_0x40b1e4[a73_0xd3e6('0x16')])return _0x40b1e4[a73_0xd3e6('0x1')]?await Guild_1[a73_0xd3e6('0x23')]['findByIdAndUpdate'](_0x3bfa9a[a73_0xd3e6('0x1f')]['id'],{'referralsChannel':_0x3bfa9a[a73_0xd3e6('0x2a')]['id']}):await Guild_1[a73_0xd3e6('0x23')][a73_0xd3e6('0x5')](_0x3bfa9a['guild']['id'],{'$unset':{'referralsChannel':0x1}}),await _0x3bfa9a[a73_0xd3e6('0x2a')]['send']({'embed':{'color':_0x40b1e4['enable']?tesseract_1[a73_0xd3e6('0x4')][a73_0xd3e6('0x17')]['GREEN']:tesseract_1[a73_0xd3e6('0x4')][a73_0xd3e6('0x17')][a73_0xd3e6('0x1e')],'title':'Referrals\x20Channel','description':this[a73_0xd3e6('0x3')][a73_0xd3e6('0x9')][a73_0xd3e6('0x24')](_0x3bfa9a['guild'][a73_0xd3e6('0x21')][a73_0xd3e6('0x1a')],a73_0xd3e6('0x2c'),_0x40b1e4['enable']?a73_0xd3e6('0x26'):a73_0xd3e6('0x10'),_0x3bfa9a[a73_0xd3e6('0x18')]['tag'])}});const _0x6a3b1c=await Member_1[a73_0xd3e6('0x23')]['find']({'guild':_0x3bfa9a[a73_0xd3e6('0x1f')]['id'],'referral':{'$exists':!![]}}),_0x95f76=await _0x3bfa9a[a73_0xd3e6('0x1f')]['fetchInvites'](),_0x2a9103=pagination[a73_0xd3e6('0x13')](_0x6a3b1c[a73_0xd3e6('0x8')](_0x441b74=>_0x441b74[a73_0xd3e6('0x2d')]&&Array['from'](_0x95f76['keys']())[a73_0xd3e6('0x14')](_0x441b74[a73_0xd3e6('0x2d')]))[a73_0xd3e6('0x19')](_0x229373=>({'name':_0x3bfa9a[a73_0xd3e6('0x1f')][a73_0xd3e6('0x1c')][a73_0xd3e6('0x11')][a73_0xd3e6('0xd')](_0x229373[a73_0xd3e6('0x7')])?_0x3bfa9a[a73_0xd3e6('0x1f')][a73_0xd3e6('0x1c')][a73_0xd3e6('0x11')]['get'](_0x229373[a73_0xd3e6('0x7')])['user']['tag']:_0x229373[a73_0xd3e6('0x7')],'value':_0x229373[a73_0xd3e6('0x2d')]+'\x20-\x20'+_0x95f76['get'](_0x229373[a73_0xd3e6('0x2d')])['uses']+a73_0xd3e6('0x1b')})),_0x40b1e4['page']);await _0x3bfa9a[a73_0xd3e6('0x2a')][a73_0xd3e6('0x27')]({'embed':{'color':tesseract_1[a73_0xd3e6('0x4')]['COLORS'][a73_0xd3e6('0x2e')],'title':'Referrals','fields':_0x2a9103[a73_0xd3e6('0x12')],'footer':{'text':'Page\x20'+_0x2a9103[a73_0xd3e6('0x20')]+a73_0xd3e6('0x28')+_0x2a9103[a73_0xd3e6('0x6')]}}});};}};