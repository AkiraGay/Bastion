function a93_0x4787(){const _0x5021f8=['author','members','1502540AoWgGS','380UDPpnv','tag','exec','150798uenKDa','459885ZZmFdL','Referrals\x20Channel','keys','uses','has','items','198633stCHeE','cache','RED','map','../../models/Guild','referrals\x20--page\x20NUMBER','COLORS','referral','send','referrals','1948933DHUjfW','Page\x20','channel','referralsDisable','pages','disable','referrals\x20--disable','find','locale','search','referralsEnable','30IgRFEv','from','user','info','11709PEIuDU','paginate','Referrals','\x20of\x20','exports','document','enable','3543328AvOgRy','get','getString','page','apply','MANAGE_GUILD','4feHsMS','GREEN','filter','Constants','toString','\x20Uses','\x20-\x20','language','default','(((.+)+)+)+$','includes','guild'];a93_0x4787=function(){return _0x5021f8;};return a93_0x4787();}const a93_0x3dea86=a93_0x1cab;(function(_0x5bff1d,_0x1eecf5){const _0x1f5e05=a93_0x1cab,_0x3b32df=_0x5bff1d();while(!![]){try{const _0x321503=-parseInt(_0x1f5e05(0x1f4))/0x1+parseInt(_0x1f5e05(0x1db))/0x2*(-parseInt(_0x1f5e05(0x1ee))/0x3)+parseInt(_0x1f5e05(0x1e9))/0x4+-parseInt(_0x1f5e05(0x209))/0x5*(-parseInt(_0x1f5e05(0x1ed))/0x6)+-parseInt(_0x1f5e05(0x1fe))/0x7+parseInt(_0x1f5e05(0x214))/0x8+-parseInt(_0x1f5e05(0x20d))/0x9*(-parseInt(_0x1f5e05(0x1ea))/0xa);if(_0x321503===_0x1eecf5)break;else _0x3b32df['push'](_0x3b32df['shift']());}catch(_0xe8a175){_0x3b32df['push'](_0x3b32df['shift']());}}}(a93_0x4787,0x39689));const a93_0x44dcec=(function(){let _0x320e1b=!![];return function(_0x3defb1,_0x4a30b8){const _0x47fc0d=_0x320e1b?function(){const _0x5516b7=a93_0x1cab;if(_0x4a30b8){const _0x47742d=_0x4a30b8[_0x5516b7(0x218)](_0x3defb1,arguments);return _0x4a30b8=null,_0x47742d;}}:function(){};return _0x320e1b=![],_0x47fc0d;};}()),a93_0x28f397=a93_0x44dcec(this,function(){const _0x2058ed=a93_0x1cab;return a93_0x28f397[_0x2058ed(0x1df)]()[_0x2058ed(0x207)](_0x2058ed(0x1e4))['toString']()['constructor'](a93_0x28f397)[_0x2058ed(0x207)]('(((.+)+)+)+$');});function a93_0x1cab(_0x465c75,_0x1ca248){const _0x7f5113=a93_0x4787();return a93_0x1cab=function(_0x28f397,_0x44dcec){_0x28f397=_0x28f397-0x1da;let _0x4787e6=_0x7f5113[_0x28f397];return _0x4787e6;},a93_0x1cab(_0x465c75,_0x1ca248);}a93_0x28f397();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require(a93_0x3dea86(0x1f8)),Member_1=require('../../models/Member'),pagination=require('../../utils/pagination');module[a93_0x3dea86(0x211)]=class ReferralsCommand extends tesseract_1['Command']{constructor(){const _0x1b9ffd=a93_0x3dea86;super(_0x1b9ffd(0x1fd),{'description':'It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[_0x1b9ffd(0x213),'disable'],'number':[_0x1b9ffd(0x217)]},'scope':_0x1b9ffd(0x1e6),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x1b9ffd(0x1da)],'userPermissions':[],'syntax':['referrals',_0x1b9ffd(0x1f9),'referrals\x20--enable',_0x1b9ffd(0x204)]});}[a93_0x3dea86(0x1ec)]=async(_0x2d664e,_0x1ebc85)=>{const _0x423f0f=a93_0x3dea86;if(_0x1ebc85[_0x423f0f(0x213)]||_0x1ebc85[_0x423f0f(0x203)])return _0x1ebc85[_0x423f0f(0x213)]?await Guild_1['default']['findByIdAndUpdate'](_0x2d664e[_0x423f0f(0x1e6)]['id'],{'referralsChannel':_0x2d664e[_0x423f0f(0x200)]['id']}):await Guild_1[_0x423f0f(0x1e3)]['findByIdAndUpdate'](_0x2d664e[_0x423f0f(0x1e6)]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x2d664e['channel'][_0x423f0f(0x1fc)]({'embed':{'color':_0x1ebc85[_0x423f0f(0x213)]?tesseract_1[_0x423f0f(0x1de)][_0x423f0f(0x1fa)][_0x423f0f(0x1dc)]:tesseract_1[_0x423f0f(0x1de)][_0x423f0f(0x1fa)][_0x423f0f(0x1f6)],'title':_0x423f0f(0x1ef),'description':this['client'][_0x423f0f(0x206)][_0x423f0f(0x216)](_0x2d664e['guild'][_0x423f0f(0x212)][_0x423f0f(0x1e2)],_0x423f0f(0x20c),_0x1ebc85[_0x423f0f(0x213)]?_0x423f0f(0x208):_0x423f0f(0x201),_0x2d664e[_0x423f0f(0x1e7)][_0x423f0f(0x1eb)])}});const _0x145748=await Member_1[_0x423f0f(0x1e3)][_0x423f0f(0x205)]({'guild':_0x2d664e['guild']['id'],'referral':{'$exists':!![]}}),_0x21a4af=await _0x2d664e[_0x423f0f(0x1e6)]['fetchInvites'](),_0x5b8b80=pagination[_0x423f0f(0x20e)](_0x145748[_0x423f0f(0x1dd)](_0x5d3604=>_0x5d3604['referral']&&Array[_0x423f0f(0x20a)](_0x21a4af[_0x423f0f(0x1f0)]())[_0x423f0f(0x1e5)](_0x5d3604['referral']))[_0x423f0f(0x1f7)](_0x48795b=>({'name':_0x2d664e[_0x423f0f(0x1e6)][_0x423f0f(0x1e8)][_0x423f0f(0x1f5)][_0x423f0f(0x1f2)](_0x48795b[_0x423f0f(0x20b)])?_0x2d664e[_0x423f0f(0x1e6)][_0x423f0f(0x1e8)][_0x423f0f(0x1f5)][_0x423f0f(0x215)](_0x48795b[_0x423f0f(0x20b)])[_0x423f0f(0x20b)][_0x423f0f(0x1eb)]:_0x48795b[_0x423f0f(0x20b)],'value':_0x48795b[_0x423f0f(0x1fb)]+_0x423f0f(0x1e1)+_0x21a4af[_0x423f0f(0x215)](_0x48795b[_0x423f0f(0x1fb)])[_0x423f0f(0x1f1)]+_0x423f0f(0x1e0)})),_0x1ebc85[_0x423f0f(0x217)]);await _0x2d664e[_0x423f0f(0x200)][_0x423f0f(0x1fc)]({'embed':{'color':tesseract_1[_0x423f0f(0x1de)][_0x423f0f(0x1fa)]['IRIS'],'title':_0x423f0f(0x20f),'fields':_0x5b8b80[_0x423f0f(0x1f3)],'footer':{'text':_0x423f0f(0x1ff)+_0x5b8b80[_0x423f0f(0x217)]+_0x423f0f(0x210)+_0x5b8b80[_0x423f0f(0x202)]}}});};};