const a89_0x125f=['get','referrals','../../utils/pagination','MANAGE_GUILD','referrals\x20--page\x20NUMBER','includes','find','items','page','\x20-\x20','referrals\x20--enable','Command','COLORS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','send','apply','Referrals','tag','filter','../../models/Guild','channel','referral','locale','map','enable','pages','keys','referrals\x20--disable','@bastion/tesseract','from','findByIdAndUpdate','user','author','constructor','paginate','guild','referralsDisable','members','language','has','exec','RED','cache','default','client','info','../../models/Member','Constants','uses','\x20of\x20','test'];(function(_0x4f07c4,_0x125f47){const _0x2a5ca9=function(_0x43a4a7){while(--_0x43a4a7){_0x4f07c4['push'](_0x4f07c4['shift']());}},_0x5ab1b5=function(){const _0x3c7d00={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x38b3a6,_0x4ab5fa,_0x524972,_0x493eb5){_0x493eb5=_0x493eb5||{};let _0x45f51e=_0x4ab5fa+'='+_0x524972,_0x3d68cd=0x0;for(let _0x5cf8c8=0x0,_0x431d99=_0x38b3a6['length'];_0x5cf8c8<_0x431d99;_0x5cf8c8++){const _0x56ea3c=_0x38b3a6[_0x5cf8c8];_0x45f51e+=';\x20'+_0x56ea3c;const _0x5621ba=_0x38b3a6[_0x56ea3c];_0x38b3a6['push'](_0x5621ba),_0x431d99=_0x38b3a6['length'],_0x5621ba!==!![]&&(_0x45f51e+='='+_0x5621ba);}_0x493eb5['cookie']=_0x45f51e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x40125b,_0x30c5a7){_0x40125b=_0x40125b||function(_0x269de0){return _0x269de0;};const _0x3b5c14=_0x40125b(new RegExp('(?:^|;\x20)'+_0x30c5a7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1ab308=function(_0x1e7a5d,_0x5ec7d2){_0x1e7a5d(++_0x5ec7d2);};return _0x1ab308(_0x2a5ca9,_0x125f47),_0x3b5c14?decodeURIComponent(_0x3b5c14[0x1]):undefined;}},_0x5d2c42=function(){const _0x5bf460=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5bf460['test'](_0x3c7d00['removeCookie']['toString']());};_0x3c7d00['updateCookie']=_0x5d2c42;let _0x28ccd2='';const _0x5dc954=_0x3c7d00['updateCookie']();if(!_0x5dc954)_0x3c7d00['setCookie'](['*'],'counter',0x1);else _0x5dc954?_0x28ccd2=_0x3c7d00['getCookie'](null,'counter'):_0x3c7d00['removeCookie']();};_0x5ab1b5();}(a89_0x125f,0x197));const a89_0x2a5c=function(_0x4f07c4,_0x125f47){_0x4f07c4=_0x4f07c4-0x0;let _0x2a5ca9=a89_0x125f[_0x4f07c4];return _0x2a5ca9;};const _0x1247d3=a89_0x2a5c,a89_0x3c7d00=function(){let _0x28ccd2=!![];return function(_0x5dc954,_0x38b3a6){const _0x4ab5fa=_0x28ccd2?function(){const _0x4fdc46=a89_0x2a5c;if(_0x38b3a6){const _0x524972=_0x38b3a6[_0x4fdc46('0x10')](_0x5dc954,arguments);return _0x38b3a6=null,_0x524972;}}:function(){};return _0x28ccd2=![],_0x4ab5fa;};}(),a89_0x43a4a7=a89_0x3c7d00(this,function(){const _0x493eb5=function(){const _0x4b985c=a89_0x2a5c,_0x45f51e=_0x493eb5[_0x4b985c('0x22')](_0x4b985c('0xe'))()[_0x4b985c('0x22')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x45f51e[_0x4b985c('0x0')](a89_0x43a4a7);};return _0x493eb5();});a89_0x43a4a7();'use strict';const tesseract_1=require(_0x1247d3('0x1d')),Guild_1=require(_0x1247d3('0x14')),Member_1=require(_0x1247d3('0x2f')),pagination=require(_0x1247d3('0x3'));module['exports']=class ReferralsCommand extends tesseract_1[_0x1247d3('0xc')]{constructor(){const _0x574336=_0x1247d3;super(_0x574336('0x2'),{'description':'It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[_0x574336('0x19'),'disable'],'number':[_0x574336('0x9')]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x574336('0x4')],'userPermissions':[],'syntax':[_0x574336('0x2'),_0x574336('0x5'),_0x574336('0xb'),_0x574336('0x1c')]}),this[_0x574336('0x29')]=async(_0x3d68cd,_0x5cf8c8)=>{const _0x54e17c=_0x574336;if(_0x5cf8c8[_0x54e17c('0x19')]||_0x5cf8c8['disable'])return _0x5cf8c8['enable']?await Guild_1[_0x54e17c('0x2c')][_0x54e17c('0x1f')](_0x3d68cd[_0x54e17c('0x24')]['id'],{'referralsChannel':_0x3d68cd[_0x54e17c('0x15')]['id']}):await Guild_1[_0x54e17c('0x2c')][_0x54e17c('0x1f')](_0x3d68cd[_0x54e17c('0x24')]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x3d68cd[_0x54e17c('0x15')]['send']({'embed':{'color':_0x5cf8c8['enable']?tesseract_1[_0x54e17c('0x30')][_0x54e17c('0xd')]['GREEN']:tesseract_1['Constants']['COLORS'][_0x54e17c('0x2a')],'title':'Referrals\x20Channel','description':this[_0x54e17c('0x2d')][_0x54e17c('0x17')]['getString'](_0x3d68cd[_0x54e17c('0x24')]['document'][_0x54e17c('0x27')],_0x54e17c('0x2e'),_0x5cf8c8[_0x54e17c('0x19')]?'referralsEnable':_0x54e17c('0x25'),_0x3d68cd[_0x54e17c('0x21')][_0x54e17c('0x12')])}});const _0x431d99=await Member_1[_0x54e17c('0x2c')][_0x54e17c('0x7')]({'guild':_0x3d68cd['guild']['id'],'referral':{'$exists':!![]}}),_0x56ea3c=await _0x3d68cd[_0x54e17c('0x24')]['fetchInvites'](),_0x5621ba=pagination[_0x54e17c('0x23')](_0x431d99[_0x54e17c('0x13')](_0x40125b=>_0x40125b[_0x54e17c('0x16')]&&Array[_0x54e17c('0x1e')](_0x56ea3c[_0x54e17c('0x1b')]())[_0x54e17c('0x6')](_0x40125b['referral']))[_0x54e17c('0x18')](_0x30c5a7=>({'name':_0x3d68cd[_0x54e17c('0x24')][_0x54e17c('0x26')][_0x54e17c('0x2b')][_0x54e17c('0x28')](_0x30c5a7[_0x54e17c('0x20')])?_0x3d68cd['guild'][_0x54e17c('0x26')][_0x54e17c('0x2b')][_0x54e17c('0x1')](_0x30c5a7[_0x54e17c('0x20')])['user'][_0x54e17c('0x12')]:_0x30c5a7[_0x54e17c('0x20')],'value':_0x30c5a7[_0x54e17c('0x16')]+_0x54e17c('0xa')+_0x56ea3c['get'](_0x30c5a7[_0x54e17c('0x16')])[_0x54e17c('0x31')]+'\x20Uses'})),_0x5cf8c8[_0x54e17c('0x9')]);await _0x3d68cd[_0x54e17c('0x15')][_0x54e17c('0xf')]({'embed':{'color':tesseract_1[_0x54e17c('0x30')][_0x54e17c('0xd')]['IRIS'],'title':_0x54e17c('0x11'),'fields':_0x5621ba[_0x54e17c('0x8')],'footer':{'text':'Page\x20'+_0x5621ba['page']+_0x54e17c('0x32')+_0x5621ba[_0x54e17c('0x1a')]}}});};}};