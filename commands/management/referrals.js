const a92_0x15b5=['@bastion/tesseract','referralsEnable','cache','user','map','paginate','channel','page','default','referrals\x20--page\x20NUMBER','IRIS','tag','Command','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','referrals\x20--disable','fetchInvites','enable','constructor','../../models/Guild','exec','\x20Uses','members','Referrals','getString','COLORS','keys','return\x20/\x22\x20+\x20this\x20+\x20\x22/','language','includes','get','findByIdAndUpdate','apply','author','Constants','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','referralsDisable','../../models/Member','pages','find','RED','referral','document','referrals','\x20-\x20','../../utils/pagination','from','Referrals\x20Channel','uses','test','disable','guild'];(function(_0x34313b,_0x3af646){const _0x15b508=function(_0x4e16ce){while(--_0x4e16ce){_0x34313b['push'](_0x34313b['shift']());}},_0xac8e5f=function(){const _0x3e85a7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x388f13,_0x345d42,_0x580a26,_0x31ca0b){_0x31ca0b=_0x31ca0b||{};let _0x27ba5a=_0x345d42+'='+_0x580a26,_0x4faae1=0x0;for(let _0x174fc5=0x0,_0x56916b=_0x388f13['length'];_0x174fc5<_0x56916b;_0x174fc5++){const _0x35abdb=_0x388f13[_0x174fc5];_0x27ba5a+=';\x20'+_0x35abdb;const _0x584c8f=_0x388f13[_0x35abdb];_0x388f13['push'](_0x584c8f),_0x56916b=_0x388f13['length'],_0x584c8f!==!![]&&(_0x27ba5a+='='+_0x584c8f);}_0x31ca0b['cookie']=_0x27ba5a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x40bdfb,_0x26593c){_0x40bdfb=_0x40bdfb||function(_0x5556ae){return _0x5556ae;};const _0x2e1355=_0x40bdfb(new RegExp('(?:^|;\x20)'+_0x26593c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xd996c3=function(_0x2d90a8,_0x454510){_0x2d90a8(++_0x454510);};return _0xd996c3(_0x15b508,_0x3af646),_0x2e1355?decodeURIComponent(_0x2e1355[0x1]):undefined;}},_0x403de7=function(){const _0x3bc554=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3bc554['test'](_0x3e85a7['removeCookie']['toString']());};_0x3e85a7['updateCookie']=_0x403de7;let _0x344ebe='';const _0x41820f=_0x3e85a7['updateCookie']();if(!_0x41820f)_0x3e85a7['setCookie'](['*'],'counter',0x1);else _0x41820f?_0x344ebe=_0x3e85a7['getCookie'](null,'counter'):_0x3e85a7['removeCookie']();};_0xac8e5f();}(a92_0x15b5,0x1c8));const a92_0xac8e=function(_0x34313b,_0x3af646){_0x34313b=_0x34313b-0x19a;let _0x15b508=a92_0x15b5[_0x34313b];return _0x15b508;};const _0x497e52=a92_0xac8e,a92_0x403de7=function(){let _0x41820f=!![];return function(_0x388f13,_0x345d42){const _0x580a26=_0x41820f?function(){const _0x2c1852=a92_0xac8e;if(_0x345d42){const _0x31ca0b=_0x345d42[_0x2c1852(0x1bc)](_0x388f13,arguments);return _0x345d42=null,_0x31ca0b;}}:function(){};return _0x41820f=![],_0x580a26;};}(),a92_0x3e85a7=a92_0x403de7(this,function(){const _0x27ba5a=function(){const _0x5d9f1c=a92_0xac8e,_0x4faae1=_0x27ba5a[_0x5d9f1c(0x1ae)](_0x5d9f1c(0x1b7))()['constructor'](_0x5d9f1c(0x1aa));return!_0x4faae1[_0x5d9f1c(0x19a)](a92_0x3e85a7);};return _0x27ba5a();});a92_0x3e85a7();'use strict';const tesseract_1=require(_0x497e52(0x19d)),Guild_1=require(_0x497e52(0x1af)),Member_1=require(_0x497e52(0x1c1)),pagination=require(_0x497e52(0x1c9));module['exports']=class ReferralsCommand extends tesseract_1[_0x497e52(0x1a9)]{constructor(){const _0x1c3adb=_0x497e52;super('referrals',{'description':_0x1c3adb(0x1bf),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[_0x1c3adb(0x1ad),_0x1c3adb(0x19b)],'number':[_0x1c3adb(0x1a4)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_GUILD'],'userPermissions':[],'syntax':[_0x1c3adb(0x1c7),_0x1c3adb(0x1a6),'referrals\x20--enable',_0x1c3adb(0x1ab)]}),this[_0x1c3adb(0x1b0)]=async(_0x174fc5,_0x56916b)=>{const _0x53c870=_0x1c3adb;if(_0x56916b['enable']||_0x56916b[_0x53c870(0x19b)])return _0x56916b[_0x53c870(0x1ad)]?await Guild_1[_0x53c870(0x1a5)][_0x53c870(0x1bb)](_0x174fc5['guild']['id'],{'referralsChannel':_0x174fc5['channel']['id']}):await Guild_1[_0x53c870(0x1a5)]['findByIdAndUpdate'](_0x174fc5[_0x53c870(0x19c)]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x174fc5[_0x53c870(0x1a3)]['send']({'embed':{'color':_0x56916b[_0x53c870(0x1ad)]?tesseract_1[_0x53c870(0x1be)][_0x53c870(0x1b5)]['GREEN']:tesseract_1[_0x53c870(0x1be)][_0x53c870(0x1b5)][_0x53c870(0x1c4)],'title':_0x53c870(0x1cb),'description':this['client']['locale'][_0x53c870(0x1b4)](_0x174fc5[_0x53c870(0x19c)][_0x53c870(0x1c6)][_0x53c870(0x1b8)],'info',_0x56916b['enable']?_0x53c870(0x19e):_0x53c870(0x1c0),_0x174fc5[_0x53c870(0x1bd)][_0x53c870(0x1a8)])}});const _0x35abdb=await Member_1[_0x53c870(0x1a5)][_0x53c870(0x1c3)]({'guild':_0x174fc5[_0x53c870(0x19c)]['id'],'referral':{'$exists':!![]}}),_0x584c8f=await _0x174fc5[_0x53c870(0x19c)][_0x53c870(0x1ac)](),_0x40bdfb=pagination[_0x53c870(0x1a2)](_0x35abdb['filter'](_0x26593c=>_0x26593c[_0x53c870(0x1c5)]&&Array[_0x53c870(0x1ca)](_0x584c8f[_0x53c870(0x1b6)]())[_0x53c870(0x1b9)](_0x26593c['referral']))[_0x53c870(0x1a1)](_0x2e1355=>({'name':_0x174fc5[_0x53c870(0x19c)]['members'][_0x53c870(0x19f)]['has'](_0x2e1355[_0x53c870(0x1a0)])?_0x174fc5['guild'][_0x53c870(0x1b2)][_0x53c870(0x19f)][_0x53c870(0x1ba)](_0x2e1355[_0x53c870(0x1a0)])[_0x53c870(0x1a0)][_0x53c870(0x1a8)]:_0x2e1355[_0x53c870(0x1a0)],'value':_0x2e1355[_0x53c870(0x1c5)]+_0x53c870(0x1c8)+_0x584c8f[_0x53c870(0x1ba)](_0x2e1355[_0x53c870(0x1c5)])[_0x53c870(0x1cc)]+_0x53c870(0x1b1)})),_0x56916b[_0x53c870(0x1a4)]);await _0x174fc5['channel']['send']({'embed':{'color':tesseract_1[_0x53c870(0x1be)]['COLORS'][_0x53c870(0x1a7)],'title':_0x53c870(0x1b3),'fields':_0x40bdfb['items'],'footer':{'text':'Page\x20'+_0x40bdfb['page']+'\x20of\x20'+_0x40bdfb[_0x53c870(0x1c2)]}}});};}};