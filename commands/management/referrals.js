const a72_0x171a=['\x20of\x20','referralsDisable','document','members','Referrals','referralsEnable','@bastion/tesseract','channel','map','constructor','referrals\x20--page\x20NUMBER','\x20-\x20','findByIdAndUpdate','uses','apply','has','../../utils/pagination','disable','enable','keys','language','filter','Constants','referrals','paginate','Referrals\x20Channel','includes','referrals\x20--enable','\x20Uses','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','find','default','Page\x20','guild','from','cache','tag','MANAGE_GUILD','Command','user','referrals\x20--disable','send','page','exec','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../models/Guild','items','return\x20/\x22\x20+\x20this\x20+\x20\x22/','GREEN','IRIS','get','referral','locale','COLORS'];(function(_0x5a765b,_0x171a52){const _0x45a767=function(_0x27a544){while(--_0x27a544){_0x5a765b['push'](_0x5a765b['shift']());}},_0x2ac0ad=function(){const _0x447a52={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a2afa,_0xb3fb24,_0x48faed,_0x3f7319){_0x3f7319=_0x3f7319||{};let _0x7541e7=_0xb3fb24+'='+_0x48faed,_0x139493=0x0;for(let _0x19ed55=0x0,_0xcac90e=_0x2a2afa['length'];_0x19ed55<_0xcac90e;_0x19ed55++){const _0x1f227f=_0x2a2afa[_0x19ed55];_0x7541e7+=';\x20'+_0x1f227f;const _0x519e43=_0x2a2afa[_0x1f227f];_0x2a2afa['push'](_0x519e43),_0xcac90e=_0x2a2afa['length'],_0x519e43!==!![]&&(_0x7541e7+='='+_0x519e43);}_0x3f7319['cookie']=_0x7541e7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2fd97c,_0x538ec){_0x2fd97c=_0x2fd97c||function(_0x55a232){return _0x55a232;};const _0x5aee2f=_0x2fd97c(new RegExp('(?:^|;\x20)'+_0x538ec['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x33997b=function(_0x431422,_0x409279){_0x431422(++_0x409279);};return _0x33997b(_0x45a767,_0x171a52),_0x5aee2f?decodeURIComponent(_0x5aee2f[0x1]):undefined;}},_0x1a0366=function(){const _0x1f7fb3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1f7fb3['test'](_0x447a52['removeCookie']['toString']());};_0x447a52['updateCookie']=_0x1a0366;let _0x1fd689='';const _0x4d7fcc=_0x447a52['updateCookie']();if(!_0x4d7fcc)_0x447a52['setCookie'](['*'],'counter',0x1);else _0x4d7fcc?_0x1fd689=_0x447a52['getCookie'](null,'counter'):_0x447a52['removeCookie']();};_0x2ac0ad();}(a72_0x171a,0x1e0));const a72_0x45a7=function(_0x5a765b,_0x171a52){_0x5a765b=_0x5a765b-0x0;let _0x45a767=a72_0x171a[_0x5a765b];return _0x45a767;};const a72_0x48faed=function(){let _0xd46e39=!![];return function(_0x2dbbe1,_0x3240ce){const _0x44cbe9=_0xd46e39?function(){if(_0x3240ce){const _0x5e054f=_0x3240ce[a72_0x45a7('0x14')](_0x2dbbe1,arguments);return _0x3240ce=null,_0x5e054f;}}:function(){};return _0xd46e39=![],_0x44cbe9;};}(),a72_0xb3fb24=a72_0x48faed(this,function(){const _0x4e615c=function(){const _0x3b2340=_0x4e615c[a72_0x45a7('0xf')](a72_0x45a7('0x35'))()[a72_0x45a7('0xf')](a72_0x45a7('0x32'));return!_0x3b2340['test'](a72_0xb3fb24);};return _0x4e615c();});a72_0xb3fb24();'use strict';const tesseract_1=require(a72_0x45a7('0xc')),Guild_1=require(a72_0x45a7('0x33')),Member_1=require('../../models/Member'),pagination=require(a72_0x45a7('0x16'));module['exports']=class ReferralsCommand extends tesseract_1[a72_0x45a7('0x2c')]{constructor(){super(a72_0x45a7('0x1d'),{'description':a72_0x45a7('0x23'),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[a72_0x45a7('0x18'),a72_0x45a7('0x17')],'number':['page']},'scope':a72_0x45a7('0x27'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a72_0x45a7('0x2b')],'userPermissions':[],'syntax':[a72_0x45a7('0x1d'),a72_0x45a7('0x10'),a72_0x45a7('0x21'),a72_0x45a7('0x2e')]}),this[a72_0x45a7('0x31')]=async(_0x304de4,_0x308480)=>{if(_0x308480[a72_0x45a7('0x18')]||_0x308480[a72_0x45a7('0x17')])return _0x308480[a72_0x45a7('0x18')]?await Guild_1[a72_0x45a7('0x25')]['findByIdAndUpdate'](_0x304de4['guild']['id'],{'referralsChannel':_0x304de4[a72_0x45a7('0xd')]['id']}):await Guild_1[a72_0x45a7('0x25')][a72_0x45a7('0x12')](_0x304de4[a72_0x45a7('0x27')]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x304de4['channel'][a72_0x45a7('0x2f')]({'embed':{'color':_0x308480[a72_0x45a7('0x18')]?tesseract_1[a72_0x45a7('0x1c')][a72_0x45a7('0x5')][a72_0x45a7('0x0')]:tesseract_1[a72_0x45a7('0x1c')][a72_0x45a7('0x5')]['RED'],'title':a72_0x45a7('0x1f'),'description':this['client'][a72_0x45a7('0x4')]['getString'](_0x304de4[a72_0x45a7('0x27')][a72_0x45a7('0x8')][a72_0x45a7('0x1a')],'info',_0x308480[a72_0x45a7('0x18')]?a72_0x45a7('0xb'):a72_0x45a7('0x7'),_0x304de4['author'][a72_0x45a7('0x2a')])}});const _0x3f319b=await Member_1[a72_0x45a7('0x25')][a72_0x45a7('0x24')]({'guild':_0x304de4[a72_0x45a7('0x27')]['id'],'referral':{'$exists':!![]}}),_0x512ed2=await _0x304de4['guild']['fetchInvites'](),_0x1a7c9f=pagination[a72_0x45a7('0x1e')](_0x3f319b[a72_0x45a7('0x1b')](_0x435dd8=>_0x435dd8[a72_0x45a7('0x3')]&&Array[a72_0x45a7('0x28')](_0x512ed2[a72_0x45a7('0x19')]())[a72_0x45a7('0x20')](_0x435dd8[a72_0x45a7('0x3')]))[a72_0x45a7('0xe')](_0x3b2783=>({'name':_0x304de4[a72_0x45a7('0x27')][a72_0x45a7('0x9')][a72_0x45a7('0x29')][a72_0x45a7('0x15')](_0x3b2783[a72_0x45a7('0x2d')])?_0x304de4[a72_0x45a7('0x27')][a72_0x45a7('0x9')][a72_0x45a7('0x29')][a72_0x45a7('0x2')](_0x3b2783[a72_0x45a7('0x2d')])['user'][a72_0x45a7('0x2a')]:_0x3b2783['user'],'value':_0x3b2783[a72_0x45a7('0x3')]+a72_0x45a7('0x11')+_0x512ed2['get'](_0x3b2783[a72_0x45a7('0x3')])[a72_0x45a7('0x13')]+a72_0x45a7('0x22')})),_0x308480[a72_0x45a7('0x30')]);await _0x304de4[a72_0x45a7('0xd')]['send']({'embed':{'color':tesseract_1[a72_0x45a7('0x1c')]['COLORS'][a72_0x45a7('0x1')],'title':a72_0x45a7('0xa'),'fields':_0x1a7c9f[a72_0x45a7('0x34')],'footer':{'text':a72_0x45a7('0x26')+_0x1a7c9f['page']+a72_0x45a7('0x6')+_0x1a7c9f['pages']}}});};}};