const a74_0x4a8f=['exec','\x20Uses','members','has','tag','test','apply','paginate','fetchInvites','client','referralsDisable','disable','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','language','COLORS','getString','@bastion/tesseract','keys','RED','page','default','user','locale','document','cache','findByIdAndUpdate','Referrals\x20Channel','referral','guild','info','../../utils/pagination','author','get','enable','referrals\x20--enable','Page\x20','referrals\x20--page\x20NUMBER','constructor','from','items','return\x20/\x22\x20+\x20this\x20+\x20\x22/','\x20of\x20','send','channel','Referrals','IRIS','map','MANAGE_GUILD','Command','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','referrals','referrals\x20--disable'];(function(_0x5cfde0,_0x4a8fc0){const _0x109ac7=function(_0x10a9ff){while(--_0x10a9ff){_0x5cfde0['push'](_0x5cfde0['shift']());}},_0x3f138a=function(){const _0xf28e1d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x139d3c,_0x3844ba,_0x2cc95c,_0x222ce4){_0x222ce4=_0x222ce4||{};let _0x3d623e=_0x3844ba+'='+_0x2cc95c,_0x554a28=0x0;for(let _0x47c1b9=0x0,_0x39796b=_0x139d3c['length'];_0x47c1b9<_0x39796b;_0x47c1b9++){const _0xeebd85=_0x139d3c[_0x47c1b9];_0x3d623e+=';\x20'+_0xeebd85;const _0x5cf29a=_0x139d3c[_0xeebd85];_0x139d3c['push'](_0x5cf29a),_0x39796b=_0x139d3c['length'],_0x5cf29a!==!![]&&(_0x3d623e+='='+_0x5cf29a);}_0x222ce4['cookie']=_0x3d623e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x246c21,_0x15387b){_0x246c21=_0x246c21||function(_0x165405){return _0x165405;};const _0x1e34ff=_0x246c21(new RegExp('(?:^|;\x20)'+_0x15387b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x200c0f=function(_0x4cf7ef,_0x26f1d4){_0x4cf7ef(++_0x26f1d4);};return _0x200c0f(_0x109ac7,_0x4a8fc0),_0x1e34ff?decodeURIComponent(_0x1e34ff[0x1]):undefined;}},_0xfb433b=function(){const _0x3988e2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3988e2['test'](_0xf28e1d['removeCookie']['toString']());};_0xf28e1d['updateCookie']=_0xfb433b;let _0x12636b='';const _0x2f59d6=_0xf28e1d['updateCookie']();if(!_0x2f59d6)_0xf28e1d['setCookie'](['*'],'counter',0x1);else _0x2f59d6?_0x12636b=_0xf28e1d['getCookie'](null,'counter'):_0xf28e1d['removeCookie']();};_0x3f138a();}(a74_0x4a8f,0x1eb));const a74_0x109a=function(_0x5cfde0,_0x4a8fc0){_0x5cfde0=_0x5cfde0-0x0;let _0x109ac7=a74_0x4a8f[_0x5cfde0];return _0x109ac7;};const a74_0xf28e1d=function(){let _0x12636b=!![];return function(_0x2f59d6,_0x139d3c){const _0x3844ba=_0x12636b?function(){if(_0x139d3c){const _0x2cc95c=_0x139d3c[a74_0x109a('0x2d')](_0x2f59d6,arguments);return _0x139d3c=null,_0x2cc95c;}}:function(){};return _0x12636b=![],_0x3844ba;};}(),a74_0x10a9ff=a74_0xf28e1d(this,function(){const _0x222ce4=function(){const _0x3d623e=_0x222ce4[a74_0x109a('0x17')](a74_0x109a('0x1a'))()[a74_0x109a('0x17')](a74_0x109a('0x24'));return!_0x3d623e[a74_0x109a('0x2c')](a74_0x10a9ff);};return _0x222ce4();});a74_0x10a9ff();'use strict';const tesseract_1=require(a74_0x109a('0x2')),Guild_1=require('../../models/Guild'),Member_1=require('../../models/Member'),pagination=require(a74_0x109a('0x10'));module['exports']=class ReferralsCommand extends tesseract_1[a74_0x109a('0x22')]{constructor(){super(a74_0x109a('0x25'),{'description':a74_0x109a('0x33'),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':['enable',a74_0x109a('0x32')],'number':[a74_0x109a('0x5')]},'scope':a74_0x109a('0xe'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a74_0x109a('0x21')],'userPermissions':[],'syntax':[a74_0x109a('0x25'),a74_0x109a('0x16'),a74_0x109a('0x14'),a74_0x109a('0x26')]}),this[a74_0x109a('0x27')]=async(_0x554a28,_0x47c1b9)=>{if(_0x47c1b9[a74_0x109a('0x13')]||_0x47c1b9['disable'])return _0x47c1b9['enable']?await Guild_1['default'][a74_0x109a('0xb')](_0x554a28[a74_0x109a('0xe')]['id'],{'referralsChannel':_0x554a28[a74_0x109a('0x1d')]['id']}):await Guild_1[a74_0x109a('0x6')][a74_0x109a('0xb')](_0x554a28[a74_0x109a('0xe')]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x554a28[a74_0x109a('0x1d')][a74_0x109a('0x1c')]({'embed':{'color':_0x47c1b9[a74_0x109a('0x13')]?tesseract_1['Constants'][a74_0x109a('0x0')]['GREEN']:tesseract_1['Constants'][a74_0x109a('0x0')][a74_0x109a('0x4')],'title':a74_0x109a('0xc'),'description':this[a74_0x109a('0x30')][a74_0x109a('0x8')][a74_0x109a('0x1')](_0x554a28['guild'][a74_0x109a('0x9')][a74_0x109a('0x34')],a74_0x109a('0xf'),_0x47c1b9[a74_0x109a('0x13')]?'referralsEnable':a74_0x109a('0x31'),_0x554a28[a74_0x109a('0x11')]['tag'])}});const _0x39796b=await Member_1[a74_0x109a('0x6')]['find']({'guild':_0x554a28[a74_0x109a('0xe')]['id'],'referral':{'$exists':!![]}}),_0xeebd85=await _0x554a28[a74_0x109a('0xe')][a74_0x109a('0x2f')](),_0x5cf29a=pagination[a74_0x109a('0x2e')](_0x39796b['filter'](_0x246c21=>_0x246c21[a74_0x109a('0xd')]&&Array[a74_0x109a('0x18')](_0xeebd85[a74_0x109a('0x3')]())['includes'](_0x246c21[a74_0x109a('0xd')]))[a74_0x109a('0x20')](_0x15387b=>({'name':_0x554a28[a74_0x109a('0xe')][a74_0x109a('0x29')][a74_0x109a('0xa')][a74_0x109a('0x2a')](_0x15387b[a74_0x109a('0x7')])?_0x554a28['guild'][a74_0x109a('0x29')][a74_0x109a('0xa')][a74_0x109a('0x12')](_0x15387b[a74_0x109a('0x7')])[a74_0x109a('0x7')][a74_0x109a('0x2b')]:_0x15387b['user'],'value':_0x15387b[a74_0x109a('0xd')]+'\x20-\x20'+_0xeebd85[a74_0x109a('0x12')](_0x15387b[a74_0x109a('0xd')])['uses']+a74_0x109a('0x28')})),_0x47c1b9['page']);await _0x554a28[a74_0x109a('0x1d')][a74_0x109a('0x1c')]({'embed':{'color':tesseract_1[a74_0x109a('0x23')][a74_0x109a('0x0')][a74_0x109a('0x1f')],'title':a74_0x109a('0x1e'),'fields':_0x5cf29a[a74_0x109a('0x19')],'footer':{'text':a74_0x109a('0x15')+_0x5cf29a['page']+a74_0x109a('0x1b')+_0x5cf29a['pages']}}});};}};