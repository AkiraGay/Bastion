const a93_0x2dcd=['3qeskYH','from','user','Page\x20','COLORS','445729BDaBhU','32ZZzpzA','GREEN','author','../../utils/pagination','exports','11409YpzfId','find','page','It\x20allows\x20you\x20set\x20the\x20Referrals\x20Channel\x20so\x20that\x20members\x20can\x20invite\x20others\x20to\x20the\x20server\x20and\x20gain\x20referral\x20rewards.\x20And\x20it\x20also\x20allows\x20you\x20to\x20track\x20the\x20members\x27\x20invites.','131398wAaPRU','paginate','3yqVqKx','referralsDisable','locale','map','\x20Uses','119465MemhTK','findByIdAndUpdate','IRIS','send','RED','has','\x20-\x20','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','client','11581YUqJSR','get','guild','default','tag','disable','cache','Referrals','enable','pages','document','members','referralsEnable','Command','\x20of\x20','3coHJeA','referrals','channel','referrals\x20--page\x20NUMBER','keys','Referrals\x20Channel','fetchInvites','244732lwBrDt','Constants','constructor','MANAGE_GUILD','items','referral','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apply','info','includes','231774TSNoZH'];const a93_0xf14f=function(_0x34fb10,_0x2e23bb){_0x34fb10=_0x34fb10-0x17b;let _0x3541e6=a93_0x2dcd[_0x34fb10];return _0x3541e6;};const a93_0x581375=a93_0xf14f;(function(_0x28a56c,_0x2e0372){const _0x132414=a93_0xf14f;while(!![]){try{const _0x1a2f6f=parseInt(_0x132414(0x1af))+parseInt(_0x132414(0x189))*parseInt(_0x132414(0x1b0))+-parseInt(_0x132414(0x1a9))+-parseInt(_0x132414(0x17b))*parseInt(_0x132414(0x1b9))+parseInt(_0x132414(0x1aa))*-parseInt(_0x132414(0x1b5))+-parseInt(_0x132414(0x19f))+parseInt(_0x132414(0x198))*parseInt(_0x132414(0x180));if(_0x1a2f6f===_0x2e0372)break;else _0x28a56c['push'](_0x28a56c['shift']());}catch(_0xde4f77){_0x28a56c['push'](_0x28a56c['shift']());}}}(a93_0x2dcd,0x41ddd));const a93_0x29fcf4=function(){let _0x5bfd62=!![];return function(_0x5ebda9,_0x36c64d){const _0x46472b=_0x5bfd62?function(){const _0x404c99=a93_0xf14f;if(_0x36c64d){const _0x4fdf18=_0x36c64d[_0x404c99(0x1a6)](_0x5ebda9,arguments);return _0x36c64d=null,_0x4fdf18;}}:function(){};return _0x5bfd62=![],_0x46472b;};}(),a93_0x4f7b2e=a93_0x29fcf4(this,function(){const _0x567d54=function(){const _0x3778e2=a93_0xf14f,_0x11ed09=_0x567d54[_0x3778e2(0x1a1)](_0x3778e2(0x1a5))()['constructor'](_0x3778e2(0x187));return!_0x11ed09['test'](a93_0x4f7b2e);};return _0x567d54();});a93_0x4f7b2e();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require('../../models/Guild'),Member_1=require('../../models/Member'),pagination=require(a93_0x581375(0x1b3));module[a93_0x581375(0x1b4)]=class ReferralsCommand extends tesseract_1[a93_0x581375(0x196)]{constructor(){const _0x7b7eda=a93_0x581375;super(_0x7b7eda(0x199),{'description':_0x7b7eda(0x1b8),'triggers':[],'arguments':{'alias':{'page':['p']},'boolean':[_0x7b7eda(0x191),_0x7b7eda(0x18e)],'number':[_0x7b7eda(0x1b7)]},'scope':_0x7b7eda(0x18b),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[_0x7b7eda(0x1a2)],'userPermissions':[],'syntax':['referrals',_0x7b7eda(0x19b),'referrals\x20--enable','referrals\x20--disable']}),this['exec']=async(_0x54d7b3,_0x521b92)=>{const _0xce6738=_0x7b7eda;if(_0x521b92[_0xce6738(0x191)]||_0x521b92[_0xce6738(0x18e)])return _0x521b92[_0xce6738(0x191)]?await Guild_1['default'][_0xce6738(0x181)](_0x54d7b3['guild']['id'],{'referralsChannel':_0x54d7b3[_0xce6738(0x19a)]['id']}):await Guild_1[_0xce6738(0x18c)][_0xce6738(0x181)](_0x54d7b3[_0xce6738(0x18b)]['id'],{'$unset':{'referralsChannel':0x1}}),await _0x54d7b3[_0xce6738(0x19a)][_0xce6738(0x183)]({'embed':{'color':_0x521b92['enable']?tesseract_1[_0xce6738(0x1a0)][_0xce6738(0x1ae)][_0xce6738(0x1b1)]:tesseract_1[_0xce6738(0x1a0)][_0xce6738(0x1ae)][_0xce6738(0x184)],'title':_0xce6738(0x19d),'description':this[_0xce6738(0x188)][_0xce6738(0x17d)]['getString'](_0x54d7b3['guild'][_0xce6738(0x193)]['language'],_0xce6738(0x1a7),_0x521b92[_0xce6738(0x191)]?_0xce6738(0x195):_0xce6738(0x17c),_0x54d7b3[_0xce6738(0x1b2)][_0xce6738(0x18d)])}});const _0x2a0d28=await Member_1[_0xce6738(0x18c)][_0xce6738(0x1b6)]({'guild':_0x54d7b3[_0xce6738(0x18b)]['id'],'referral':{'$exists':!![]}}),_0x2a0927=await _0x54d7b3[_0xce6738(0x18b)][_0xce6738(0x19e)](),_0x21090f=pagination[_0xce6738(0x1ba)](_0x2a0d28['filter'](_0x57b9ed=>_0x57b9ed[_0xce6738(0x1a4)]&&Array[_0xce6738(0x1ab)](_0x2a0927[_0xce6738(0x19c)]())[_0xce6738(0x1a8)](_0x57b9ed[_0xce6738(0x1a4)]))[_0xce6738(0x17e)](_0x2ba67a=>({'name':_0x54d7b3[_0xce6738(0x18b)][_0xce6738(0x194)][_0xce6738(0x18f)][_0xce6738(0x185)](_0x2ba67a['user'])?_0x54d7b3[_0xce6738(0x18b)][_0xce6738(0x194)][_0xce6738(0x18f)][_0xce6738(0x18a)](_0x2ba67a[_0xce6738(0x1ac)])['user'][_0xce6738(0x18d)]:_0x2ba67a[_0xce6738(0x1ac)],'value':_0x2ba67a[_0xce6738(0x1a4)]+_0xce6738(0x186)+_0x2a0927[_0xce6738(0x18a)](_0x2ba67a[_0xce6738(0x1a4)])['uses']+_0xce6738(0x17f)})),_0x521b92['page']);await _0x54d7b3['channel'][_0xce6738(0x183)]({'embed':{'color':tesseract_1['Constants'][_0xce6738(0x1ae)][_0xce6738(0x182)],'title':_0xce6738(0x190),'fields':_0x21090f[_0xce6738(0x1a3)],'footer':{'text':_0xce6738(0x1ad)+_0x21090f[_0xce6738(0x1b7)]+_0xce6738(0x197)+_0x21090f[_0xce6738(0x192)]}}});};}};