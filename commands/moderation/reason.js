const a298_0x572f=['default','guild','getString','test','messages','name','BASTION_ERROR_TYPE','edit','member','size','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','type','document','DiscordError','news','case','filter','exec','locale','findOne','author','cache','../../utils/numbers','MANAGE_GUILD','compile','constructor','Reason','exports','TextChannel','number','get','discord.js','channels','length','find','roles','MAX_SAFE_INTEGER','language','NewsChannel','../../utils/errors','moderationLogChannelId','@bastion/tesseract','caseNotFound','fields','embeds','text','fetch','INVALID_COMMAND_SYNTAX','apply','It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','errors','floor','permissions'];(function(_0x64791b,_0x572f93){const _0x5f2837=function(_0x12ad61){while(--_0x12ad61){_0x64791b['push'](_0x64791b['shift']());}};const _0x2637f1=function(){const _0x5d8cf6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4de2a3,_0xf92323,_0x3a8ca8,_0x259734){_0x259734=_0x259734||{};let _0xdfb11e=_0xf92323+'='+_0x3a8ca8;let _0x2c8cf3=0x0;for(let _0x5a9c88=0x0,_0x26678b=_0x4de2a3['length'];_0x5a9c88<_0x26678b;_0x5a9c88++){const _0x2c88ea=_0x4de2a3[_0x5a9c88];_0xdfb11e+=';\x20'+_0x2c88ea;const _0x181e77=_0x4de2a3[_0x2c88ea];_0x4de2a3['push'](_0x181e77);_0x26678b=_0x4de2a3['length'];if(_0x181e77!==!![]){_0xdfb11e+='='+_0x181e77;}}_0x259734['cookie']=_0xdfb11e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x52d618,_0x58bb33){_0x52d618=_0x52d618||function(_0x1de657){return _0x1de657;};const _0xe6b879=_0x52d618(new RegExp('(?:^|;\x20)'+_0x58bb33['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3abe41=function(_0x4e430b,_0x5593e5){_0x4e430b(++_0x5593e5);};_0x3abe41(_0x5f2837,_0x572f93);return _0xe6b879?decodeURIComponent(_0xe6b879[0x1]):undefined;}};const _0x4baecb=function(){const _0x2ccb70=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ccb70['test'](_0x5d8cf6['removeCookie']['toString']());};_0x5d8cf6['updateCookie']=_0x4baecb;let _0x2d9956='';const _0x15789c=_0x5d8cf6['updateCookie']();if(!_0x15789c){_0x5d8cf6['setCookie'](['*'],'counter',0x1);}else if(_0x15789c){_0x2d9956=_0x5d8cf6['getCookie'](null,'counter');}else{_0x5d8cf6['removeCookie']();}};_0x2637f1();}(a298_0x572f,0x7e));const a298_0x5f28=function(_0x64791b,_0x572f93){_0x64791b=_0x64791b-0x0;let _0x5f2837=a298_0x572f[_0x64791b];return _0x5f2837;};const a298_0x5d8cf6=function(){let _0x531eee=!![];return function(_0xc5f9f4,_0x12f62d){const _0x5e4084=_0x531eee?function(){if(_0x12f62d){const _0x31a4df=_0x12f62d[a298_0x5f28('0x1c')](_0xc5f9f4,arguments);_0x12f62d=null;return _0x31a4df;}}:function(){};_0x531eee=![];return _0x5e4084;};}();const a298_0x12ad61=a298_0x5d8cf6(this,function(){const _0x3c10e8=function(){const _0x3cd9cd=_0x3c10e8[a298_0x5f28('0x5')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a298_0x5f28('0x4')](a298_0x5f28('0x2b'));return!_0x3cd9cd[a298_0x5f28('0x24')](a298_0x12ad61);};return _0x3c10e8();});a298_0x12ad61();'use strict';const tesseract_1=require(a298_0x5f28('0x15'));const discord_js_1=require(a298_0x5f28('0xb'));const Case_1=require('../../models/Case');const numbers=require(a298_0x5f28('0x2'));const errors=require(a298_0x5f28('0x13'));module[a298_0x5f28('0x7')]=class ReasonCommand extends tesseract_1['Command']{constructor(){super('reason',{'description':a298_0x5f28('0x1d'),'triggers':[],'arguments':{'alias':{'case':'n'},'number':[a298_0x5f28('0x30')],'coerce':{'case':_0x2ef999=>Math[a298_0x5f28('0x1f')](numbers['clamp'](_0x2ef999,0x1,Number[a298_0x5f28('0x10')]))}},'scope':a298_0x5f28('0x22'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['reason\x20--case\x20NUMBER\x20--\x20REASON']});this[a298_0x5f28('0x32')]=async(_0x325b9f,_0x21e91a)=>{if(_0x325b9f[a298_0x5f28('0x0')]['id']!==_0x325b9f[a298_0x5f28('0x22')]['ownerID']||_0x325b9f[a298_0x5f28('0x29')][a298_0x5f28('0xf')][a298_0x5f28('0x1')][a298_0x5f28('0x2a')]<0x2)return;if(!_0x21e91a['number']||!_0x21e91a['_'][a298_0x5f28('0xd')])throw new errors[(a298_0x5f28('0x2e'))](errors[a298_0x5f28('0x27')][a298_0x5f28('0x1b')],this[a298_0x5f28('0x26')]);const _0x5190e2=await Case_1[a298_0x5f28('0x21')][a298_0x5f28('0x34')]({'guild':_0x325b9f[a298_0x5f28('0x22')]['id'],'number':_0x21e91a[a298_0x5f28('0x9')]});if(!_0x5190e2)throw new Error(this['client'][a298_0x5f28('0x33')][a298_0x5f28('0x23')](_0x325b9f['guild'][a298_0x5f28('0x2d')][a298_0x5f28('0x11')],a298_0x5f28('0x1e'),a298_0x5f28('0x16')));const _0x4f2a4e=_0x325b9f[a298_0x5f28('0x22')][a298_0x5f28('0xc')][a298_0x5f28('0x1')][a298_0x5f28('0x31')](_0x11de66=>_0x11de66[a298_0x5f28('0x2c')]===a298_0x5f28('0x19')||_0x11de66[a298_0x5f28('0x2c')]===a298_0x5f28('0x2f'));if(_0x325b9f[a298_0x5f28('0x22')][a298_0x5f28('0x2d')]['moderationLogChannelId']&&_0x4f2a4e['has'](_0x325b9f[a298_0x5f28('0x22')][a298_0x5f28('0x2d')][a298_0x5f28('0x14')])){const _0x5b4233=_0x4f2a4e[a298_0x5f28('0xa')](_0x325b9f['guild']['document'][a298_0x5f28('0x14')]);if(_0x5b4233 instanceof discord_js_1[a298_0x5f28('0x12')]||_0x5b4233 instanceof discord_js_1[a298_0x5f28('0x8')]){const _0x1842ae=await _0x5b4233[a298_0x5f28('0x25')][a298_0x5f28('0x1a')](_0x5190e2['messageId']);const _0x1a831f=_0x1842ae[a298_0x5f28('0x18')][0x0];if(!_0x325b9f[a298_0x5f28('0x29')][a298_0x5f28('0x20')]['has'](a298_0x5f28('0x3'))||_0x1a831f['fields'][a298_0x5f28('0xe')](_0xcef681=>_0xcef681['name']==='Moderator\x20ID')['value']!==_0x325b9f['author']['id'])return;_0x1a831f[a298_0x5f28('0x17')][a298_0x5f28('0xe')](_0x2eb9e2=>_0x2eb9e2['name']===a298_0x5f28('0x6'))['value']=_0x21e91a['_']['join']('\x20');await _0x1842ae[a298_0x5f28('0x28')]({'embed':_0x1a831f});}}};}};