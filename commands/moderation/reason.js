const a78_0x2fdd=['getString','reason\x20--case\x20NUMBER\x20--\x20REASON','../../models/Case','fields','fetch','DiscordError','channels','findOne','news','It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','join','document','clamp','name','permissions','cache','find','../../utils/numbers','value','has','test','number','locale','length','moderationLogChannelId','reason','guild','MAX_SAFE_INTEGER','MANAGE_GUILD','constructor','author','case','Moderator\x20ID','client','errors','messages','default','compile','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','TextChannel','text','edit','Reason','member','@bastion/tesseract','type','return\x20/\x22\x20+\x20this\x20+\x20\x22/','floor','messageId','get','embeds','INVALID_COMMAND_SYNTAX','roles','language','exec'];(function(_0x4700c6,_0x2fdd1f){const _0x4893e2=function(_0x4dc637){while(--_0x4dc637){_0x4700c6['push'](_0x4700c6['shift']());}};const _0x44ed2e=function(){const _0x1f5a06={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1d4f07,_0x1b56d4,_0x350d50,_0xae6981){_0xae6981=_0xae6981||{};let _0x1fe0c8=_0x1b56d4+'='+_0x350d50;let _0x544d43=0x0;for(let _0x2e3c33=0x0,_0xf7c6dc=_0x1d4f07['length'];_0x2e3c33<_0xf7c6dc;_0x2e3c33++){const _0x53f6d9=_0x1d4f07[_0x2e3c33];_0x1fe0c8+=';\x20'+_0x53f6d9;const _0x4bc0ec=_0x1d4f07[_0x53f6d9];_0x1d4f07['push'](_0x4bc0ec);_0xf7c6dc=_0x1d4f07['length'];if(_0x4bc0ec!==!![]){_0x1fe0c8+='='+_0x4bc0ec;}}_0xae6981['cookie']=_0x1fe0c8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x52b3af,_0x9b3304){_0x52b3af=_0x52b3af||function(_0x956c6f){return _0x956c6f;};const _0x4336df=_0x52b3af(new RegExp('(?:^|;\x20)'+_0x9b3304['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x288310=function(_0x207c50,_0x69f45a){_0x207c50(++_0x69f45a);};_0x288310(_0x4893e2,_0x2fdd1f);return _0x4336df?decodeURIComponent(_0x4336df[0x1]):undefined;}};const _0xd8f380=function(){const _0x57a81c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x57a81c['test'](_0x1f5a06['removeCookie']['toString']());};_0x1f5a06['updateCookie']=_0xd8f380;let _0x4d817c='';const _0x21df4f=_0x1f5a06['updateCookie']();if(!_0x21df4f){_0x1f5a06['setCookie'](['*'],'counter',0x1);}else if(_0x21df4f){_0x4d817c=_0x1f5a06['getCookie'](null,'counter');}else{_0x1f5a06['removeCookie']();}};_0x44ed2e();}(a78_0x2fdd,0x18e));const a78_0x4893=function(_0x4700c6,_0x2fdd1f){_0x4700c6=_0x4700c6-0x0;let _0x4893e2=a78_0x2fdd[_0x4700c6];return _0x4893e2;};const a78_0x1f5a06=function(){let _0x15ec07=!![];return function(_0x549eca,_0x34e080){const _0x2c8e80=_0x15ec07?function(){if(_0x34e080){const _0x273e93=_0x34e080['apply'](_0x549eca,arguments);_0x34e080=null;return _0x273e93;}}:function(){};_0x15ec07=![];return _0x2c8e80;};}();const a78_0x4dc637=a78_0x1f5a06(this,function(){const _0x13c8a6=function(){const _0x4cd688=_0x13c8a6[a78_0x4893('0x10')](a78_0x4893('0x21'))()[a78_0x4893('0x18')](a78_0x4893('0x19'));return!_0x4cd688[a78_0x4893('0x7')](a78_0x4dc637);};return _0x13c8a6();});a78_0x4dc637();'use strict';const tesseract_1=require(a78_0x4893('0x1f'));const discord_js_1=require('discord.js');const Case_1=require(a78_0x4893('0x2c'));const numbers=require(a78_0x4893('0x4'));const errors=require('../../utils/errors');module['exports']=class ReasonCommand extends tesseract_1['Command']{constructor(){super(a78_0x4893('0xc'),{'description':a78_0x4893('0x33'),'triggers':[],'arguments':{'alias':{'case':'n'},'number':[a78_0x4893('0x12')],'coerce':{'case':_0x16c387=>Math[a78_0x4893('0x22')](numbers[a78_0x4893('0x36')](_0x16c387,0x1,Number[a78_0x4893('0xe')]))}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a78_0x4893('0x2b')]});this[a78_0x4893('0x29')]=async(_0x2965ae,_0x563249)=>{if(_0x2965ae['author']['id']!==_0x2965ae[a78_0x4893('0xd')]['ownerID']||_0x2965ae[a78_0x4893('0x1e')][a78_0x4893('0x27')][a78_0x4893('0x2')]['size']<0x2)return;if(!_0x563249[a78_0x4893('0x8')]||!_0x563249['_'][a78_0x4893('0xa')])throw new errors[(a78_0x4893('0x2f'))](errors['BASTION_ERROR_TYPE'][a78_0x4893('0x26')],this[a78_0x4893('0x0')]);const _0x4fd33c=await Case_1[a78_0x4893('0x17')][a78_0x4893('0x31')]({'guild':_0x2965ae[a78_0x4893('0xd')]['id'],'number':_0x563249[a78_0x4893('0x8')]});if(!_0x4fd33c)throw new Error(this[a78_0x4893('0x14')][a78_0x4893('0x9')][a78_0x4893('0x2a')](_0x2965ae[a78_0x4893('0xd')]['document'][a78_0x4893('0x28')],a78_0x4893('0x15'),'caseNotFound'));const _0x1c2902=_0x2965ae['guild'][a78_0x4893('0x30')][a78_0x4893('0x2')]['filter'](_0xd9527=>_0xd9527['type']===a78_0x4893('0x1b')||_0xd9527[a78_0x4893('0x20')]===a78_0x4893('0x32'));if(_0x2965ae[a78_0x4893('0xd')][a78_0x4893('0x35')][a78_0x4893('0xb')]&&_0x1c2902[a78_0x4893('0x6')](_0x2965ae['guild']['document']['moderationLogChannelId'])){const _0x59dd7c=_0x1c2902[a78_0x4893('0x24')](_0x2965ae[a78_0x4893('0xd')]['document']['moderationLogChannelId']);if(_0x59dd7c instanceof discord_js_1['NewsChannel']||_0x59dd7c instanceof discord_js_1[a78_0x4893('0x1a')]){const _0x343968=await _0x59dd7c[a78_0x4893('0x16')][a78_0x4893('0x2e')](_0x4fd33c[a78_0x4893('0x23')]);const _0x25077c=_0x343968[a78_0x4893('0x25')][0x0];if(!_0x2965ae['member'][a78_0x4893('0x1')][a78_0x4893('0x6')](a78_0x4893('0xf'))||_0x25077c[a78_0x4893('0x2d')]['find'](_0x1f449e=>_0x1f449e['name']===a78_0x4893('0x13'))[a78_0x4893('0x5')]!==_0x2965ae[a78_0x4893('0x11')]['id'])return;_0x25077c[a78_0x4893('0x2d')][a78_0x4893('0x3')](_0xe2f87b=>_0xe2f87b[a78_0x4893('0x0')]===a78_0x4893('0x1d'))[a78_0x4893('0x5')]=_0x563249['_'][a78_0x4893('0x34')]('\x20');await _0x343968[a78_0x4893('0x1c')]({'embed':_0x25077c});}}};}};