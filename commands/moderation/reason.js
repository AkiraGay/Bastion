const a86_0x2ef7=['../../utils/errors','size','join','floor','roles','number','DiscordError','BASTION_ERROR_TYPE','reason\x20--case\x20NUMBER\x20--\x20REASON','INVALID_COMMAND_SYNTAX','clamp','messageId','exports','client','Command','constructor','author','NewsChannel','permissions','has','cache','apply','value','getString','../../utils/numbers','guild','It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','exec','findOne','TextChannel','channels','length','reason','fields','ownerID','find','member','type','document','case','errors','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../models/Case','language','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','moderationLogChannelId','text','@bastion/tesseract','locale'];(function(_0x1d25b6,_0x2ef7bf){const _0x685f6f=function(_0x5ea5c4){while(--_0x5ea5c4){_0x1d25b6['push'](_0x1d25b6['shift']());}},_0x2b5915=function(){const _0x17bd73={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x26a4b0,_0x533500,_0x520a1c,_0x409aa1){_0x409aa1=_0x409aa1||{};let _0x37a4b4=_0x533500+'='+_0x520a1c,_0x238cbe=0x0;for(let _0x3d821a=0x0,_0x1a5468=_0x26a4b0['length'];_0x3d821a<_0x1a5468;_0x3d821a++){const _0x4fcb66=_0x26a4b0[_0x3d821a];_0x37a4b4+=';\x20'+_0x4fcb66;const _0x3ed003=_0x26a4b0[_0x4fcb66];_0x26a4b0['push'](_0x3ed003),_0x1a5468=_0x26a4b0['length'],_0x3ed003!==!![]&&(_0x37a4b4+='='+_0x3ed003);}_0x409aa1['cookie']=_0x37a4b4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19d423,_0x2b6961){_0x19d423=_0x19d423||function(_0x4d6ee1){return _0x4d6ee1;};const _0xb74e0f=_0x19d423(new RegExp('(?:^|;\x20)'+_0x2b6961['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xe3c929=function(_0x4a3bb2,_0x321433){_0x4a3bb2(++_0x321433);};return _0xe3c929(_0x685f6f,_0x2ef7bf),_0xb74e0f?decodeURIComponent(_0xb74e0f[0x1]):undefined;}},_0x58937b=function(){const _0x29fb86=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x29fb86['test'](_0x17bd73['removeCookie']['toString']());};_0x17bd73['updateCookie']=_0x58937b;let _0x3ecf65='';const _0x517df1=_0x17bd73['updateCookie']();if(!_0x517df1)_0x17bd73['setCookie'](['*'],'counter',0x1);else _0x517df1?_0x3ecf65=_0x17bd73['getCookie'](null,'counter'):_0x17bd73['removeCookie']();};_0x2b5915();}(a86_0x2ef7,0xde));const a86_0x685f=function(_0x1d25b6,_0x2ef7bf){_0x1d25b6=_0x1d25b6-0x0;let _0x685f6f=a86_0x2ef7[_0x1d25b6];return _0x685f6f;};const a86_0x17bd73=function(){let _0x3ecf65=!![];return function(_0x517df1,_0x26a4b0){const _0x533500=_0x3ecf65?function(){if(_0x26a4b0){const _0x520a1c=_0x26a4b0[a86_0x685f('0x31')](_0x517df1,arguments);return _0x26a4b0=null,_0x520a1c;}}:function(){};return _0x3ecf65=![],_0x533500;};}(),a86_0x5ea5c4=a86_0x17bd73(this,function(){const _0x409aa1=function(){const _0x37a4b4=_0x409aa1[a86_0x685f('0x2b')](a86_0x685f('0x13'))()[a86_0x685f('0x2b')](a86_0x685f('0x16'));return!_0x37a4b4['test'](a86_0x5ea5c4);};return _0x409aa1();});a86_0x5ea5c4();'use strict';const tesseract_1=require(a86_0x685f('0x1a')),discord_js_1=require('discord.js'),Case_1=require(a86_0x685f('0x14')),numbers=require(a86_0x685f('0x2')),errors=require(a86_0x685f('0x1c'));module[a86_0x685f('0x28')]=class ReasonCommand extends tesseract_1[a86_0x685f('0x2a')]{constructor(){super(a86_0x685f('0xa'),{'description':a86_0x685f('0x4'),'triggers':[],'arguments':{'alias':{'case':'n'},'number':[a86_0x685f('0x11')],'coerce':{'case':_0x238cbe=>Math[a86_0x685f('0x1f')](numbers[a86_0x685f('0x26')](_0x238cbe,0x1,Number['MAX_SAFE_INTEGER']))}},'scope':a86_0x685f('0x3'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a86_0x685f('0x24')]}),this[a86_0x685f('0x5')]=async(_0x3d821a,_0x1a5468)=>{if(_0x3d821a[a86_0x685f('0x2c')]['id']!==_0x3d821a[a86_0x685f('0x3')][a86_0x685f('0xc')]||_0x3d821a[a86_0x685f('0xe')][a86_0x685f('0x20')][a86_0x685f('0x30')][a86_0x685f('0x1d')]<0x2)return;if(!_0x1a5468['number']||!_0x1a5468['_'][a86_0x685f('0x9')])throw new errors[(a86_0x685f('0x22'))](errors[a86_0x685f('0x23')][a86_0x685f('0x25')],this['name']);const _0x4fcb66=await Case_1[a86_0x685f('0x17')][a86_0x685f('0x6')]({'guild':_0x3d821a['guild']['id'],'number':_0x1a5468[a86_0x685f('0x21')]});if(!_0x4fcb66)throw new Error(this[a86_0x685f('0x29')][a86_0x685f('0x1b')][a86_0x685f('0x1')](_0x3d821a[a86_0x685f('0x3')][a86_0x685f('0x10')][a86_0x685f('0x15')],a86_0x685f('0x12'),'caseNotFound'));const _0x3ed003=_0x3d821a['guild'][a86_0x685f('0x8')][a86_0x685f('0x30')]['filter'](_0x19d423=>_0x19d423[a86_0x685f('0xf')]===a86_0x685f('0x19')||_0x19d423[a86_0x685f('0xf')]==='news');if(_0x3d821a[a86_0x685f('0x3')][a86_0x685f('0x10')]['moderationLogChannelId']&&_0x3ed003[a86_0x685f('0x2f')](_0x3d821a[a86_0x685f('0x3')]['document'][a86_0x685f('0x18')])){const _0x2b6961=_0x3ed003['get'](_0x3d821a[a86_0x685f('0x3')][a86_0x685f('0x10')][a86_0x685f('0x18')]);if(_0x2b6961 instanceof discord_js_1[a86_0x685f('0x2d')]||_0x2b6961 instanceof discord_js_1[a86_0x685f('0x7')]){const _0xb74e0f=await _0x2b6961['messages']['fetch'](_0x4fcb66[a86_0x685f('0x27')]),_0xe3c929=_0xb74e0f['embeds'][0x0];if(!_0x3d821a[a86_0x685f('0xe')][a86_0x685f('0x2e')]['has']('MANAGE_GUILD')||_0xe3c929['fields'][a86_0x685f('0xd')](_0x4d6ee1=>_0x4d6ee1['name']==='Moderator\x20ID')[a86_0x685f('0x0')]!==_0x3d821a['author']['id'])return;_0xe3c929[a86_0x685f('0xb')][a86_0x685f('0xd')](_0x4a3bb2=>_0x4a3bb2['name']==='Reason')[a86_0x685f('0x0')]=_0x1a5468['_'][a86_0x685f('0x1e')]('\x20'),await _0xb74e0f['edit']({'embed':_0xe3c929});}}};}};