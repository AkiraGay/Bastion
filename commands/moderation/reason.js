const a87_0x3c6c=['apply','exports','embeds','MAX_SAFE_INTEGER','document','findOne','INVALID_COMMAND_SYNTAX','caseNotFound','test','discord.js','find','channels','edit','roles','permissions','client','DiscordError','size','errors','fields','return\x20/\x22\x20+\x20this\x20+\x20\x22/','guild','Moderator\x20ID','value','member','case','messages','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','NewsChannel','Reason','author','moderationLogChannelId','cache','type','fetch','number','reason\x20--case\x20NUMBER\x20--\x20REASON','language','reason','../../models/Case','constructor','name','join','floor','getString','MANAGE_GUILD','BASTION_ERROR_TYPE','text','ownerID','length'];(function(_0x150f28,_0x3c6c23){const _0xf286b9=function(_0xb8632e){while(--_0xb8632e){_0x150f28['push'](_0x150f28['shift']());}},_0x25ac92=function(){const _0x17df7f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xe39ef9,_0x3752a7,_0x2f4298,_0x64d6f2){_0x64d6f2=_0x64d6f2||{};let _0x28409c=_0x3752a7+'='+_0x2f4298,_0x377d0e=0x0;for(let _0xb76e21=0x0,_0x48fc32=_0xe39ef9['length'];_0xb76e21<_0x48fc32;_0xb76e21++){const _0x3c0535=_0xe39ef9[_0xb76e21];_0x28409c+=';\x20'+_0x3c0535;const _0x2e3f3a=_0xe39ef9[_0x3c0535];_0xe39ef9['push'](_0x2e3f3a),_0x48fc32=_0xe39ef9['length'],_0x2e3f3a!==!![]&&(_0x28409c+='='+_0x2e3f3a);}_0x64d6f2['cookie']=_0x28409c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x115ad4,_0x5e103f){_0x115ad4=_0x115ad4||function(_0x346467){return _0x346467;};const _0xc38f3c=_0x115ad4(new RegExp('(?:^|;\x20)'+_0x5e103f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x314647=function(_0x568902,_0x8da50e){_0x568902(++_0x8da50e);};return _0x314647(_0xf286b9,_0x3c6c23),_0xc38f3c?decodeURIComponent(_0xc38f3c[0x1]):undefined;}},_0x57e39b=function(){const _0x4355d4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4355d4['test'](_0x17df7f['removeCookie']['toString']());};_0x17df7f['updateCookie']=_0x57e39b;let _0x58578e='';const _0x32d95e=_0x17df7f['updateCookie']();if(!_0x32d95e)_0x17df7f['setCookie'](['*'],'counter',0x1);else _0x32d95e?_0x58578e=_0x17df7f['getCookie'](null,'counter'):_0x17df7f['removeCookie']();};_0x25ac92();}(a87_0x3c6c,0xbc));const a87_0xf286=function(_0x150f28,_0x3c6c23){_0x150f28=_0x150f28-0x0;let _0xf286b9=a87_0x3c6c[_0x150f28];return _0xf286b9;};const a87_0x17df7f=function(){let _0x58578e=!![];return function(_0x32d95e,_0xe39ef9){const _0x3752a7=_0x58578e?function(){if(_0xe39ef9){const _0x2f4298=_0xe39ef9[a87_0xf286('0xc')](_0x32d95e,arguments);return _0xe39ef9=null,_0x2f4298;}}:function(){};return _0x58578e=![],_0x3752a7;};}(),a87_0xb8632e=a87_0x17df7f(this,function(){const _0x64d6f2=function(){const _0x28409c=_0x64d6f2['constructor'](a87_0xf286('0x20'))()[a87_0xf286('0x2')](a87_0xf286('0x27'));return!_0x28409c[a87_0xf286('0x14')](a87_0xb8632e);};return _0x64d6f2();});a87_0xb8632e();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a87_0xf286('0x15')),Case_1=require(a87_0xf286('0x1')),numbers=require('../../utils/numbers'),errors=require('../../utils/errors');module[a87_0xf286('0xd')]=class ReasonCommand extends tesseract_1['Command']{constructor(){super(a87_0xf286('0x0'),{'description':'It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','triggers':[],'arguments':{'alias':{'case':'n'},'number':[a87_0xf286('0x25')],'coerce':{'case':_0x377d0e=>Math[a87_0xf286('0x5')](numbers['clamp'](_0x377d0e,0x1,Number[a87_0xf286('0xf')]))}},'scope':a87_0xf286('0x21'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a87_0xf286('0x30')]}),this['exec']=async(_0xb76e21,_0x48fc32)=>{if(_0xb76e21[a87_0xf286('0x2a')]['id']!==_0xb76e21[a87_0xf286('0x21')][a87_0xf286('0xa')]||_0xb76e21[a87_0xf286('0x24')][a87_0xf286('0x19')][a87_0xf286('0x2c')][a87_0xf286('0x1d')]<0x2)return;if(!_0x48fc32[a87_0xf286('0x2f')]||!_0x48fc32['_'][a87_0xf286('0xb')])throw new errors[(a87_0xf286('0x1c'))](errors[a87_0xf286('0x8')][a87_0xf286('0x12')],this['name']);const _0x3c0535=await Case_1['default'][a87_0xf286('0x11')]({'guild':_0xb76e21['guild']['id'],'number':_0x48fc32[a87_0xf286('0x2f')]});if(!_0x3c0535)throw new Error(this[a87_0xf286('0x1b')]['locale'][a87_0xf286('0x6')](_0xb76e21[a87_0xf286('0x21')][a87_0xf286('0x10')][a87_0xf286('0x31')],a87_0xf286('0x1e'),a87_0xf286('0x13')));const _0x2e3f3a=_0xb76e21[a87_0xf286('0x21')][a87_0xf286('0x17')][a87_0xf286('0x2c')]['filter'](_0x115ad4=>_0x115ad4[a87_0xf286('0x2d')]===a87_0xf286('0x9')||_0x115ad4['type']==='news');if(_0xb76e21[a87_0xf286('0x21')][a87_0xf286('0x10')][a87_0xf286('0x2b')]&&_0x2e3f3a['has'](_0xb76e21[a87_0xf286('0x21')][a87_0xf286('0x10')][a87_0xf286('0x2b')])){const _0x5e103f=_0x2e3f3a['get'](_0xb76e21['guild'][a87_0xf286('0x10')]['moderationLogChannelId']);if(_0x5e103f instanceof discord_js_1[a87_0xf286('0x28')]||_0x5e103f instanceof discord_js_1['TextChannel']){const _0xc38f3c=await _0x5e103f[a87_0xf286('0x26')][a87_0xf286('0x2e')](_0x3c0535['messageId']),_0x314647=_0xc38f3c[a87_0xf286('0xe')][0x0];if(!_0xb76e21[a87_0xf286('0x24')][a87_0xf286('0x1a')]['has'](a87_0xf286('0x7'))||_0x314647['fields'][a87_0xf286('0x16')](_0x346467=>_0x346467[a87_0xf286('0x3')]===a87_0xf286('0x22'))[a87_0xf286('0x23')]!==_0xb76e21[a87_0xf286('0x2a')]['id'])return;_0x314647[a87_0xf286('0x1f')][a87_0xf286('0x16')](_0x568902=>_0x568902[a87_0xf286('0x3')]===a87_0xf286('0x29'))[a87_0xf286('0x23')]=_0x48fc32['_'][a87_0xf286('0x4')]('\x20'),await _0xc38f3c[a87_0xf286('0x18')]({'embed':_0x314647});}}};}};