const a88_0x2732=['language','name','find','messageId','default','size','has','get','edit','filter','BASTION_ERROR_TYPE','test','INVALID_COMMAND_SYNTAX','errors','Reason','discord.js','fetch','getString','document','TextChannel','MAX_SAFE_INTEGER','clamp','messages','floor','value','guild','embeds','roles','reason\x20--case\x20NUMBER\x20--\x20REASON','caseNotFound','reason','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','member','fields','moderationLogChannelId','news','exec','number','findOne','return\x20/\x22\x20+\x20this\x20+\x20\x22/','client','author','case','exports','cache','join','ownerID','type','Moderator\x20ID','constructor'];(function(_0x313a08,_0x2732b4){const _0x26a5d3=function(_0x3a3f71){while(--_0x3a3f71){_0x313a08['push'](_0x313a08['shift']());}},_0x39407b=function(){const _0x48e18e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x51a833,_0x26afa5,_0x433e84,_0x2fc741){_0x2fc741=_0x2fc741||{};let _0x39159f=_0x26afa5+'='+_0x433e84,_0x140b03=0x0;for(let _0x2b56e5=0x0,_0x787a9a=_0x51a833['length'];_0x2b56e5<_0x787a9a;_0x2b56e5++){const _0x486191=_0x51a833[_0x2b56e5];_0x39159f+=';\x20'+_0x486191;const _0x4bc1f7=_0x51a833[_0x486191];_0x51a833['push'](_0x4bc1f7),_0x787a9a=_0x51a833['length'],_0x4bc1f7!==!![]&&(_0x39159f+='='+_0x4bc1f7);}_0x2fc741['cookie']=_0x39159f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x39b09e,_0x4d134e){_0x39b09e=_0x39b09e||function(_0x3db906){return _0x3db906;};const _0x163b97=_0x39b09e(new RegExp('(?:^|;\x20)'+_0x4d134e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1b2d48=function(_0x36952d,_0x5918f8){_0x36952d(++_0x5918f8);};return _0x1b2d48(_0x26a5d3,_0x2732b4),_0x163b97?decodeURIComponent(_0x163b97[0x1]):undefined;}},_0x3527e9=function(){const _0x3d8dd4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3d8dd4['test'](_0x48e18e['removeCookie']['toString']());};_0x48e18e['updateCookie']=_0x3527e9;let _0x356fcb='';const _0x23cad8=_0x48e18e['updateCookie']();if(!_0x23cad8)_0x48e18e['setCookie'](['*'],'counter',0x1);else _0x23cad8?_0x356fcb=_0x48e18e['getCookie'](null,'counter'):_0x48e18e['removeCookie']();};_0x39407b();}(a88_0x2732,0x1f4));const a88_0x26a5=function(_0x313a08,_0x2732b4){_0x313a08=_0x313a08-0x0;let _0x26a5d3=a88_0x2732[_0x313a08];return _0x26a5d3;};const _0x4163e9=a88_0x26a5,a88_0x48e18e=function(){let _0x356fcb=!![];return function(_0x23cad8,_0x51a833){const _0x26afa5=_0x356fcb?function(){if(_0x51a833){const _0x433e84=_0x51a833['apply'](_0x23cad8,arguments);return _0x51a833=null,_0x433e84;}}:function(){};return _0x356fcb=![],_0x26afa5;};}(),a88_0x3a3f71=a88_0x48e18e(this,function(){const _0x2fc741=function(){const _0x13e184=a88_0x26a5,_0x39159f=_0x2fc741[_0x13e184('0x9')](_0x13e184('0x32'))()[_0x13e184('0x9')](_0x13e184('0x29'));return!_0x39159f[_0x13e184('0x15')](a88_0x3a3f71);};return _0x2fc741();});a88_0x3a3f71();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(_0x4163e9('0x19')),Case_1=require('../../models/Case'),numbers=require('../../utils/numbers'),errors=require('../../utils/errors');module[_0x4163e9('0x3')]=class ReasonCommand extends tesseract_1['Command']{constructor(){const _0x35073e=_0x4163e9;super(_0x35073e('0x28'),{'description':_0x35073e('0x2a'),'triggers':[],'arguments':{'alias':{'case':'n'},'number':[_0x35073e('0x2')],'coerce':{'case':_0x140b03=>Math[_0x35073e('0x21')](numbers[_0x35073e('0x1f')](_0x140b03,0x1,Number[_0x35073e('0x1e')]))}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x35073e('0x26')]}),this[_0x35073e('0x2f')]=async(_0x2b56e5,_0x787a9a)=>{const _0x434125=_0x35073e;if(_0x2b56e5[_0x434125('0x1')]['id']!==_0x2b56e5[_0x434125('0x23')][_0x434125('0x6')]||_0x2b56e5[_0x434125('0x2b')][_0x434125('0x25')][_0x434125('0x4')][_0x434125('0xf')]<0x2)return;if(!_0x787a9a[_0x434125('0x30')]||!_0x787a9a['_']['length'])throw new errors['DiscordError'](errors[_0x434125('0x14')][_0x434125('0x16')],this[_0x434125('0xb')]);const _0x486191=await Case_1[_0x434125('0xe')][_0x434125('0x31')]({'guild':_0x2b56e5[_0x434125('0x23')]['id'],'number':_0x787a9a[_0x434125('0x30')]});if(!_0x486191)throw new Error(this[_0x434125('0x0')]['locale'][_0x434125('0x1b')](_0x2b56e5['guild'][_0x434125('0x1c')][_0x434125('0xa')],_0x434125('0x17'),_0x434125('0x27')));const _0x4bc1f7=_0x2b56e5[_0x434125('0x23')]['channels']['cache'][_0x434125('0x13')](_0x39b09e=>_0x39b09e[_0x434125('0x7')]==='text'||_0x39b09e[_0x434125('0x7')]===_0x434125('0x2e'));if(_0x2b56e5[_0x434125('0x23')][_0x434125('0x1c')][_0x434125('0x2d')]&&_0x4bc1f7[_0x434125('0x10')](_0x2b56e5[_0x434125('0x23')][_0x434125('0x1c')][_0x434125('0x2d')])){const _0x4d134e=_0x4bc1f7[_0x434125('0x11')](_0x2b56e5[_0x434125('0x23')][_0x434125('0x1c')][_0x434125('0x2d')]);if(_0x4d134e instanceof discord_js_1['NewsChannel']||_0x4d134e instanceof discord_js_1[_0x434125('0x1d')]){const _0x163b97=await _0x4d134e[_0x434125('0x20')][_0x434125('0x1a')](_0x486191[_0x434125('0xd')]),_0x1b2d48=_0x163b97[_0x434125('0x24')][0x0];if(!_0x2b56e5[_0x434125('0x2b')]['permissions'][_0x434125('0x10')]('MANAGE_GUILD')||_0x1b2d48[_0x434125('0x2c')][_0x434125('0xc')](_0x3db906=>_0x3db906[_0x434125('0xb')]===_0x434125('0x8'))['value']!==_0x2b56e5['author']['id'])return;_0x1b2d48[_0x434125('0x2c')][_0x434125('0xc')](_0x36952d=>_0x36952d[_0x434125('0xb')]===_0x434125('0x18'))[_0x434125('0x22')]=_0x787a9a['_'][_0x434125('0x5')]('\x20'),await _0x163b97[_0x434125('0x12')]({'embed':_0x1b2d48});}}};}};