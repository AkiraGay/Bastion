const a518_0x245e=['@bastion/tesseract','roles','findOne','Command','MANAGE_GUILD','name','find','DiscordError','author','../../models/Case','type','guild','news','size','member','number','document','edit','../../utils/errors','Reason','INVALID_COMMAND_SYNTAX','clamp','embeds','moderationLogChannelId','channels','reason','get','exec','messages','TextChannel','value','fields','has','BASTION_ERROR_TYPE','client','ownerID','default','length','exports','Moderator\x20ID','cache','constructor','It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','getString','messageId','test','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x1acd57,_0x245e29){const _0x5c6e5f=function(_0x45cf68){while(--_0x45cf68){_0x1acd57['push'](_0x1acd57['shift']());}};const _0x213d7e=function(){const _0x331692={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3577f1,_0x5b568b,_0x52baea,_0x3b82d8){_0x3b82d8=_0x3b82d8||{};let _0x3b8872=_0x5b568b+'='+_0x52baea;let _0x4c1b88=0x0;for(let _0xcb503f=0x0,_0x560a4e=_0x3577f1['length'];_0xcb503f<_0x560a4e;_0xcb503f++){const _0x9c34ba=_0x3577f1[_0xcb503f];_0x3b8872+=';\x20'+_0x9c34ba;const _0x2ee10f=_0x3577f1[_0x9c34ba];_0x3577f1['push'](_0x2ee10f);_0x560a4e=_0x3577f1['length'];if(_0x2ee10f!==!![]){_0x3b8872+='='+_0x2ee10f;}}_0x3b82d8['cookie']=_0x3b8872;},'removeCookie':function(){return'dev';},'getCookie':function(_0x248bb5,_0x1940c2){_0x248bb5=_0x248bb5||function(_0x5e12cc){return _0x5e12cc;};const _0x4370bf=_0x248bb5(new RegExp('(?:^|;\x20)'+_0x1940c2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4d3bd3=function(_0x22af77,_0x493052){_0x22af77(++_0x493052);};_0x4d3bd3(_0x5c6e5f,_0x245e29);return _0x4370bf?decodeURIComponent(_0x4370bf[0x1]):undefined;}};const _0x298784=function(){const _0x5e4924=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5e4924['test'](_0x331692['removeCookie']['toString']());};_0x331692['updateCookie']=_0x298784;let _0x4ed325='';const _0x2f4657=_0x331692['updateCookie']();if(!_0x2f4657){_0x331692['setCookie'](['*'],'counter',0x1);}else if(_0x2f4657){_0x4ed325=_0x331692['getCookie'](null,'counter');}else{_0x331692['removeCookie']();}};_0x213d7e();}(a518_0x245e,0xd4));const a518_0x5c6e=function(_0x1acd57,_0x245e29){_0x1acd57=_0x1acd57-0x0;let _0x5c6e5f=a518_0x245e[_0x1acd57];return _0x5c6e5f;};const a518_0x331692=function(){let _0x4227f6=!![];return function(_0x3bd04d,_0x2ad982){const _0xa07457=_0x4227f6?function(){if(_0x2ad982){const _0x11e76a=_0x2ad982['apply'](_0x3bd04d,arguments);_0x2ad982=null;return _0x11e76a;}}:function(){};_0x4227f6=![];return _0xa07457;};}();const a518_0x45cf68=a518_0x331692(this,function(){const _0x4472bc=function(){const _0x4d74f1=_0x4472bc[a518_0x5c6e('0x11')](a518_0x5c6e('0x16'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4d74f1[a518_0x5c6e('0x15')](a518_0x45cf68);};return _0x4472bc();});a518_0x45cf68();'use strict';const tesseract_1=require(a518_0x5c6e('0x17'));const discord_js_1=require('discord.js');const Case_1=require(a518_0x5c6e('0x20'));const numbers=require('../../utils/numbers');const errors=require(a518_0x5c6e('0x29'));module[a518_0x5c6e('0xe')]=class ReasonCommand extends tesseract_1[a518_0x5c6e('0x1a')]{constructor(){super(a518_0x5c6e('0x1'),{'description':a518_0x5c6e('0x12'),'triggers':[],'arguments':{'alias':{'case':'n'},'number':['case'],'coerce':{'case':_0x415e92=>Math['floor'](numbers[a518_0x5c6e('0x2c')](_0x415e92,0x1,Number['MAX_SAFE_INTEGER']))}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['reason\x20--case\x20NUMBER\x20--\x20REASON']});this[a518_0x5c6e('0x3')]=async(_0x462dcb,_0x4a25b0)=>{if(_0x462dcb[a518_0x5c6e('0x1f')]['id']!==_0x462dcb[a518_0x5c6e('0x22')][a518_0x5c6e('0xb')]||_0x462dcb['member'][a518_0x5c6e('0x18')][a518_0x5c6e('0x10')][a518_0x5c6e('0x24')]<0x2)return;if(!_0x4a25b0[a518_0x5c6e('0x26')]||!_0x4a25b0['_'][a518_0x5c6e('0xd')])throw new errors[(a518_0x5c6e('0x1e'))](errors[a518_0x5c6e('0x9')][a518_0x5c6e('0x2b')],this[a518_0x5c6e('0x1c')]);const _0x4594cd=await Case_1[a518_0x5c6e('0xc')][a518_0x5c6e('0x19')]({'guild':_0x462dcb[a518_0x5c6e('0x22')]['id'],'number':_0x4a25b0[a518_0x5c6e('0x26')]});if(!_0x4594cd)throw new Error(this[a518_0x5c6e('0xa')]['locale'][a518_0x5c6e('0x13')](_0x462dcb[a518_0x5c6e('0x22')][a518_0x5c6e('0x27')]['language'],'errors','caseNotFound'));const _0x118fc3=_0x462dcb[a518_0x5c6e('0x22')][a518_0x5c6e('0x0')][a518_0x5c6e('0x10')]['filter'](_0x137630=>_0x137630['type']==='text'||_0x137630[a518_0x5c6e('0x21')]===a518_0x5c6e('0x23'));if(_0x462dcb[a518_0x5c6e('0x22')][a518_0x5c6e('0x27')][a518_0x5c6e('0x2e')]&&_0x118fc3['has'](_0x462dcb[a518_0x5c6e('0x22')][a518_0x5c6e('0x27')][a518_0x5c6e('0x2e')])){const _0x14b6b5=_0x118fc3[a518_0x5c6e('0x2')](_0x462dcb[a518_0x5c6e('0x22')][a518_0x5c6e('0x27')][a518_0x5c6e('0x2e')]);if(_0x14b6b5 instanceof discord_js_1['NewsChannel']||_0x14b6b5 instanceof discord_js_1[a518_0x5c6e('0x5')]){const _0x125647=await _0x14b6b5[a518_0x5c6e('0x4')]['fetch'](_0x4594cd[a518_0x5c6e('0x14')]);const _0x5b64fd=_0x125647[a518_0x5c6e('0x2d')][0x0];if(!_0x462dcb[a518_0x5c6e('0x25')]['permissions'][a518_0x5c6e('0x8')](a518_0x5c6e('0x1b'))||_0x5b64fd[a518_0x5c6e('0x7')][a518_0x5c6e('0x1d')](_0x330607=>_0x330607[a518_0x5c6e('0x1c')]===a518_0x5c6e('0xf'))[a518_0x5c6e('0x6')]!==_0x462dcb[a518_0x5c6e('0x1f')]['id'])return;_0x5b64fd['fields'][a518_0x5c6e('0x1d')](_0x225fd0=>_0x225fd0['name']===a518_0x5c6e('0x2a'))[a518_0x5c6e('0x6')]=_0x4a25b0['_']['join']('\x20');await _0x125647[a518_0x5c6e('0x28')]({'embed':_0x5b64fd});}}};}};