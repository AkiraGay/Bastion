const a101_0x564d=['author','member','has','moderationLogChannelId','../../utils/errors','@bastion/tesseract','edit','BASTION_ERROR_TYPE','../../utils/numbers','TextChannel','../../models/Case','text','getString','number','messages','reason\x20--case\x20NUMBER\x20--\x20REASON','find','news','reason','exec','language','apply','fields','clamp','value','errors','guild','filter','document','cache','permissions','name','locale','get','case','join','fetch','type','default','channels','floor','size','MANAGE_GUILD','caseNotFound','Command','exports','client','length','Moderator\x20ID','discord.js','test','MAX_SAFE_INTEGER','constructor','messageId','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x41bc07,_0x564d46){const _0x252dbd=function(_0x27ee17){while(--_0x27ee17){_0x41bc07['push'](_0x41bc07['shift']());}},_0x417606=function(){const _0x27beaf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x40fd8f,_0x3c8f15,_0x55e87d,_0x5d8124){_0x5d8124=_0x5d8124||{};let _0x4fc135=_0x3c8f15+'='+_0x55e87d,_0x5c0b30=0x0;for(let _0x81d2a8=0x0,_0x5a8d3b=_0x40fd8f['length'];_0x81d2a8<_0x5a8d3b;_0x81d2a8++){const _0x547c34=_0x40fd8f[_0x81d2a8];_0x4fc135+=';\x20'+_0x547c34;const _0x5f0383=_0x40fd8f[_0x547c34];_0x40fd8f['push'](_0x5f0383),_0x5a8d3b=_0x40fd8f['length'],_0x5f0383!==!![]&&(_0x4fc135+='='+_0x5f0383);}_0x5d8124['cookie']=_0x4fc135;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5852be,_0x31c2b7){_0x5852be=_0x5852be||function(_0x1771d3){return _0x1771d3;};const _0x868869=_0x5852be(new RegExp('(?:^|;\x20)'+_0x31c2b7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x348d70=function(_0x18a523,_0xc5050e){_0x18a523(++_0xc5050e);};return _0x348d70(_0x252dbd,_0x564d46),_0x868869?decodeURIComponent(_0x868869[0x1]):undefined;}},_0x466a61=function(){const _0x316d14=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x316d14['test'](_0x27beaf['removeCookie']['toString']());};_0x27beaf['updateCookie']=_0x466a61;let _0x592ad7='';const _0x2325d1=_0x27beaf['updateCookie']();if(!_0x2325d1)_0x27beaf['setCookie'](['*'],'counter',0x1);else _0x2325d1?_0x592ad7=_0x27beaf['getCookie'](null,'counter'):_0x27beaf['removeCookie']();};_0x417606();}(a101_0x564d,0x1df));const a101_0x252d=function(_0x41bc07,_0x564d46){_0x41bc07=_0x41bc07-0x0;let _0x252dbd=a101_0x564d[_0x41bc07];return _0x252dbd;};const _0x8590dd=a101_0x252d,a101_0x27beaf=function(){let _0x592ad7=!![];return function(_0x2325d1,_0x40fd8f){const _0x3c8f15=_0x592ad7?function(){const _0xe3d2c9=a101_0x252d;if(_0x40fd8f){const _0x55e87d=_0x40fd8f[_0xe3d2c9('0x25')](_0x2325d1,arguments);return _0x40fd8f=null,_0x55e87d;}}:function(){};return _0x592ad7=![],_0x3c8f15;};}(),a101_0x27ee17=a101_0x27beaf(this,function(){const _0x5d8124=function(){const _0xe1dafe=a101_0x252d,_0x4fc135=_0x5d8124[_0xe1dafe('0xd')](_0xe1dafe('0xf'))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4fc135[_0xe1dafe('0xb')](a101_0x27ee17);};return _0x5d8124();});a101_0x27ee17();'use strict';const tesseract_1=require(_0x8590dd('0x15')),discord_js_1=require(_0x8590dd('0xa')),Case_1=require(_0x8590dd('0x1a')),numbers=require(_0x8590dd('0x18')),errors=require(_0x8590dd('0x14'));module[_0x8590dd('0x6')]=class ReasonCommand extends tesseract_1[_0x8590dd('0x5')]{constructor(){const _0x5c7487=_0x8590dd;super(_0x5c7487('0x22'),{'description':'It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','triggers':[],'arguments':{'alias':{'case':'n'},'number':[_0x5c7487('0x32')],'coerce':{'case':_0x5c0b30=>Math[_0x5c7487('0x1')](numbers[_0x5c7487('0x27')](_0x5c0b30,0x1,Number[_0x5c7487('0xc')]))}},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x5c7487('0x1f')]}),this[_0x5c7487('0x23')]=async(_0x81d2a8,_0x5a8d3b)=>{const _0x3390db=_0x5c7487;if(_0x81d2a8[_0x3390db('0x10')]['id']!==_0x81d2a8[_0x3390db('0x2a')]['ownerID']||_0x81d2a8['member']['roles'][_0x3390db('0x2d')][_0x3390db('0x2')]<0x2)return;if(!_0x5a8d3b[_0x3390db('0x1d')]||!_0x5a8d3b['_'][_0x3390db('0x8')])throw new errors['DiscordError'](errors[_0x3390db('0x17')]['INVALID_COMMAND_SYNTAX'],this[_0x3390db('0x2f')]);const _0x547c34=await Case_1[_0x3390db('0x36')]['findOne']({'guild':_0x81d2a8[_0x3390db('0x2a')]['id'],'number':_0x5a8d3b[_0x3390db('0x1d')]});if(!_0x547c34)throw new Error(this[_0x3390db('0x7')][_0x3390db('0x30')][_0x3390db('0x1c')](_0x81d2a8[_0x3390db('0x2a')]['document'][_0x3390db('0x24')],_0x3390db('0x29'),_0x3390db('0x4')));const _0x5f0383=_0x81d2a8[_0x3390db('0x2a')][_0x3390db('0x0')][_0x3390db('0x2d')][_0x3390db('0x2b')](_0x5852be=>_0x5852be['type']===_0x3390db('0x1b')||_0x5852be[_0x3390db('0x35')]===_0x3390db('0x21'));if(_0x81d2a8[_0x3390db('0x2a')][_0x3390db('0x2c')][_0x3390db('0x13')]&&_0x5f0383['has'](_0x81d2a8[_0x3390db('0x2a')][_0x3390db('0x2c')]['moderationLogChannelId'])){const _0x31c2b7=_0x5f0383[_0x3390db('0x31')](_0x81d2a8[_0x3390db('0x2a')]['document'][_0x3390db('0x13')]);if(_0x31c2b7 instanceof discord_js_1['NewsChannel']||_0x31c2b7 instanceof discord_js_1[_0x3390db('0x19')]){const _0x868869=await _0x31c2b7[_0x3390db('0x1e')][_0x3390db('0x34')](_0x547c34[_0x3390db('0xe')]),_0x348d70=_0x868869['embeds'][0x0];if(!_0x81d2a8[_0x3390db('0x11')][_0x3390db('0x2e')][_0x3390db('0x12')](_0x3390db('0x3'))||_0x348d70[_0x3390db('0x26')][_0x3390db('0x20')](_0x1771d3=>_0x1771d3[_0x3390db('0x2f')]===_0x3390db('0x9'))[_0x3390db('0x28')]!==_0x81d2a8[_0x3390db('0x10')]['id'])return;_0x348d70[_0x3390db('0x26')][_0x3390db('0x20')](_0x18a523=>_0x18a523[_0x3390db('0x2f')]==='Reason')[_0x3390db('0x28')]=_0x5a8d3b['_'][_0x3390db('0x33')]('\x20'),await _0x868869[_0x3390db('0x16')]({'embed':_0x348d70});}}};}};