const a89_0x2190=['value','messages','../../models/Case','fields','NewsChannel','constructor','permissions','news','filter','discord.js','language','BASTION_ERROR_TYPE','channels','text','guild','test','moderationLogChannelId','INVALID_COMMAND_SYNTAX','number','reason','type','Command','MANAGE_GUILD','name','exec','@bastion/tesseract','member','Moderator\x20ID','length','cache','Reason','get','join','embeds','getString','apply','case','exports','../../utils/errors','author','roles','locale','ownerID','client','reason\x20--case\x20NUMBER\x20--\x20REASON','document','fetch','messageId','MAX_SAFE_INTEGER','DiscordError','errors'];(function(_0x1bdf89,_0x219026){const _0x42124c=function(_0x213b64){while(--_0x213b64){_0x1bdf89['push'](_0x1bdf89['shift']());}},_0xa0c576=function(){const _0x6f7b36={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2741cb,_0x1d0ee4,_0x2e8214,_0xe8310c){_0xe8310c=_0xe8310c||{};let _0x234859=_0x1d0ee4+'='+_0x2e8214,_0x5ea4e9=0x0;for(let _0x3f40ba=0x0,_0x3b866e=_0x2741cb['length'];_0x3f40ba<_0x3b866e;_0x3f40ba++){const _0x32d596=_0x2741cb[_0x3f40ba];_0x234859+=';\x20'+_0x32d596;const _0x5e3659=_0x2741cb[_0x32d596];_0x2741cb['push'](_0x5e3659),_0x3b866e=_0x2741cb['length'],_0x5e3659!==!![]&&(_0x234859+='='+_0x5e3659);}_0xe8310c['cookie']=_0x234859;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5108b9,_0x671644){_0x5108b9=_0x5108b9||function(_0x1144c1){return _0x1144c1;};const _0x399b2f=_0x5108b9(new RegExp('(?:^|;\x20)'+_0x671644['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x57e3db=function(_0x1c5a1a,_0x325631){_0x1c5a1a(++_0x325631);};return _0x57e3db(_0x42124c,_0x219026),_0x399b2f?decodeURIComponent(_0x399b2f[0x1]):undefined;}},_0x26b216=function(){const _0x10d763=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x10d763['test'](_0x6f7b36['removeCookie']['toString']());};_0x6f7b36['updateCookie']=_0x26b216;let _0x188546='';const _0x344925=_0x6f7b36['updateCookie']();if(!_0x344925)_0x6f7b36['setCookie'](['*'],'counter',0x1);else _0x344925?_0x188546=_0x6f7b36['getCookie'](null,'counter'):_0x6f7b36['removeCookie']();};_0xa0c576();}(a89_0x2190,0x94));const a89_0x4212=function(_0x1bdf89,_0x219026){_0x1bdf89=_0x1bdf89-0x0;let _0x42124c=a89_0x2190[_0x1bdf89];return _0x42124c;};const _0x3f4110=a89_0x4212,a89_0x6f7b36=function(){let _0x188546=!![];return function(_0x344925,_0x2741cb){const _0x1d0ee4=_0x188546?function(){const _0x2de825=a89_0x4212;if(_0x2741cb){const _0x2e8214=_0x2741cb[_0x2de825('0x28')](_0x344925,arguments);return _0x2741cb=null,_0x2e8214;}}:function(){};return _0x188546=![],_0x1d0ee4;};}(),a89_0x213b64=a89_0x6f7b36(this,function(){const _0xe8310c=function(){const _0x164c27=a89_0x4212,_0x234859=_0xe8310c[_0x164c27('0xa')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x164c27('0xa')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x234859[_0x164c27('0x14')](a89_0x213b64);};return _0xe8310c();});a89_0x213b64();'use strict';const tesseract_1=require(_0x3f4110('0x1e')),discord_js_1=require(_0x3f4110('0xe')),Case_1=require(_0x3f4110('0x7')),numbers=require('../../utils/numbers'),errors=require(_0x3f4110('0x2b'));module[_0x3f4110('0x2a')]=class ReasonCommand extends tesseract_1[_0x3f4110('0x1a')]{constructor(){const _0x288255=_0x3f4110;super(_0x288255('0x18'),{'description':'It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','triggers':[],'arguments':{'alias':{'case':'n'},'number':[_0x288255('0x29')],'coerce':{'case':_0x5ea4e9=>Math['floor'](numbers['clamp'](_0x5ea4e9,0x1,Number[_0x288255('0x2')]))}},'scope':_0x288255('0x13'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x288255('0x31')]}),this[_0x288255('0x1d')]=async(_0x3f40ba,_0x3b866e)=>{const _0x342f36=_0x288255;if(_0x3f40ba['author']['id']!==_0x3f40ba['guild'][_0x342f36('0x2f')]||_0x3f40ba['member'][_0x342f36('0x2d')]['cache']['size']<0x2)return;if(!_0x3b866e[_0x342f36('0x17')]||!_0x3b866e['_'][_0x342f36('0x21')])throw new errors[(_0x342f36('0x3'))](errors[_0x342f36('0x10')][_0x342f36('0x16')],this[_0x342f36('0x1c')]);const _0x32d596=await Case_1['default']['findOne']({'guild':_0x3f40ba[_0x342f36('0x13')]['id'],'number':_0x3b866e[_0x342f36('0x17')]});if(!_0x32d596)throw new Error(this[_0x342f36('0x30')][_0x342f36('0x2e')][_0x342f36('0x27')](_0x3f40ba[_0x342f36('0x13')][_0x342f36('0x32')][_0x342f36('0xf')],_0x342f36('0x4'),'caseNotFound'));const _0x5e3659=_0x3f40ba['guild'][_0x342f36('0x11')][_0x342f36('0x22')][_0x342f36('0xd')](_0x5108b9=>_0x5108b9[_0x342f36('0x19')]===_0x342f36('0x12')||_0x5108b9[_0x342f36('0x19')]===_0x342f36('0xc'));if(_0x3f40ba['guild']['document'][_0x342f36('0x15')]&&_0x5e3659['has'](_0x3f40ba[_0x342f36('0x13')]['document'][_0x342f36('0x15')])){const _0x671644=_0x5e3659[_0x342f36('0x24')](_0x3f40ba[_0x342f36('0x13')]['document'][_0x342f36('0x15')]);if(_0x671644 instanceof discord_js_1[_0x342f36('0x9')]||_0x671644 instanceof discord_js_1['TextChannel']){const _0x399b2f=await _0x671644[_0x342f36('0x6')][_0x342f36('0x0')](_0x32d596[_0x342f36('0x1')]),_0x57e3db=_0x399b2f[_0x342f36('0x26')][0x0];if(!_0x3f40ba[_0x342f36('0x1f')][_0x342f36('0xb')]['has'](_0x342f36('0x1b'))||_0x57e3db[_0x342f36('0x8')]['find'](_0x1144c1=>_0x1144c1['name']===_0x342f36('0x20'))[_0x342f36('0x5')]!==_0x3f40ba[_0x342f36('0x2c')]['id'])return;_0x57e3db[_0x342f36('0x8')]['find'](_0x1c5a1a=>_0x1c5a1a[_0x342f36('0x1c')]===_0x342f36('0x23'))[_0x342f36('0x5')]=_0x3b866e['_'][_0x342f36('0x25')]('\x20'),await _0x399b2f['edit']({'embed':_0x57e3db});}}};}};