const a105_0x2f40=['roles','cache','529843fRbFqy','guild','415901GsHYSX','errors','edit','member','Command','reason\x20--case\x20NUMBER\x20--\x20REASON','1412229bRkrGS','exec','join','caseNotFound','766394wgFnZw','find','messages','type','getString','moderationLogChannelId','author','length','Reason','807743DuszNe','935EyBxtT','get','value','It\x20allows\x20you\x20to\x20update\x20the\x20reason\x20of\x20a\x20moderation\x20case.\x20Forgot\x20to\x20set\x20a\x20reason?\x20Did\x20a\x20typo?\x20Here\x27s\x20your\x20second\x20chance.','has','DiscordError','embeds','name','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','apply','448958YsCoZc','Moderator\x20ID','489mpGvLy','channels','fields','ownerID','TextChannel','return\x20/\x22\x20+\x20this\x20+\x20\x22/','1hxERKq','../../utils/errors','constructor','exports','fetch','reason','language','1Jpunkr','BASTION_ERROR_TYPE','INVALID_COMMAND_SYNTAX','test','document','clamp','permissions','MAX_SAFE_INTEGER','@bastion/tesseract'];const a105_0x139e=function(_0x493cf8,_0x4ab955){_0x493cf8=_0x493cf8-0x1e1;let _0xf7e177=a105_0x2f40[_0x493cf8];return _0xf7e177;};const a105_0x553eaa=a105_0x139e;(function(_0x575fe6,_0x15a456){const _0x2fdbc6=a105_0x139e;while(!![]){try{const _0xd00c73=parseInt(_0x2fdbc6(0x1ea))+parseInt(_0x2fdbc6(0x1e2))+parseInt(_0x2fdbc6(0x1f8))*-parseInt(_0x2fdbc6(0x204))+-parseInt(_0x2fdbc6(0x211))*parseInt(_0x2fdbc6(0x1ee))+parseInt(_0x2fdbc6(0x202))+-parseInt(_0x2fdbc6(0x1f7))+parseInt(_0x2fdbc6(0x1e4))*parseInt(_0x2fdbc6(0x20a));if(_0xd00c73===_0x15a456)break;else _0x575fe6['push'](_0x575fe6['shift']());}catch(_0x5d8ebd){_0x575fe6['push'](_0x575fe6['shift']());}}}(a105_0x2f40,0xbd59b));const a105_0x478de7=function(){let _0x19957e=!![];return function(_0x2a2151,_0x1aadfc){const _0xc7a9e0=_0x19957e?function(){const _0x34d20d=a105_0x139e;if(_0x1aadfc){const _0x369c8c=_0x1aadfc[_0x34d20d(0x201)](_0x2a2151,arguments);return _0x1aadfc=null,_0x369c8c;}}:function(){};return _0x19957e=![],_0xc7a9e0;};}(),a105_0x411bbf=a105_0x478de7(this,function(){const _0x4a314a=function(){const _0x390b42=a105_0x139e,_0x53195f=_0x4a314a[_0x390b42(0x20c)](_0x390b42(0x209))()['constructor'](_0x390b42(0x200));return!_0x53195f[_0x390b42(0x214)](a105_0x411bbf);};return _0x4a314a();});a105_0x411bbf();'use strict';const tesseract_1=require(a105_0x553eaa(0x219)),discord_js_1=require('discord.js'),Case_1=require('../../models/Case'),numbers=require('../../utils/numbers'),errors=require(a105_0x553eaa(0x20b));module[a105_0x553eaa(0x20d)]=class ReasonCommand extends tesseract_1[a105_0x553eaa(0x1e8)]{constructor(){const _0x2db7c3=a105_0x553eaa;super(_0x2db7c3(0x20f),{'description':_0x2db7c3(0x1fb),'triggers':[],'arguments':{'alias':{'case':'n'},'number':['case'],'coerce':{'case':_0x5b4e89=>Math['floor'](numbers[_0x2db7c3(0x216)](_0x5b4e89,0x1,Number[_0x2db7c3(0x218)]))}},'scope':_0x2db7c3(0x1e3),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x2db7c3(0x1e9)]}),this[_0x2db7c3(0x1eb)]=async(_0x185682,_0x59e782)=>{const _0x4d1663=_0x2db7c3;if(_0x185682[_0x4d1663(0x1f4)]['id']!==_0x185682[_0x4d1663(0x1e3)][_0x4d1663(0x207)]||_0x185682[_0x4d1663(0x1e7)][_0x4d1663(0x21a)][_0x4d1663(0x1e1)]['size']<0x2)return;if(!_0x59e782['number']||!_0x59e782['_'][_0x4d1663(0x1f5)])throw new errors[(_0x4d1663(0x1fd))](errors[_0x4d1663(0x212)][_0x4d1663(0x213)],this[_0x4d1663(0x1ff)]);const _0x2d4298=await Case_1['default']['findOne']({'guild':_0x185682[_0x4d1663(0x1e3)]['id'],'number':_0x59e782['number']});if(!_0x2d4298)throw new Error(this['client']['locale'][_0x4d1663(0x1f2)](_0x185682[_0x4d1663(0x1e3)][_0x4d1663(0x215)][_0x4d1663(0x210)],_0x4d1663(0x1e5),_0x4d1663(0x1ed)));const _0x2c6bf9=_0x185682['guild'][_0x4d1663(0x205)]['cache']['filter'](_0x5d05ee=>_0x5d05ee[_0x4d1663(0x1f1)]==='text'||_0x5d05ee['type']==='news');if(_0x185682[_0x4d1663(0x1e3)]['document'][_0x4d1663(0x1f3)]&&_0x2c6bf9[_0x4d1663(0x1fc)](_0x185682[_0x4d1663(0x1e3)]['document'][_0x4d1663(0x1f3)])){const _0x295a37=_0x2c6bf9[_0x4d1663(0x1f9)](_0x185682[_0x4d1663(0x1e3)][_0x4d1663(0x215)]['moderationLogChannelId']);if(_0x295a37 instanceof discord_js_1['NewsChannel']||_0x295a37 instanceof discord_js_1[_0x4d1663(0x208)]){const _0x25aaa0=await _0x295a37[_0x4d1663(0x1f0)][_0x4d1663(0x20e)](_0x2d4298['messageId']),_0x10ec87=_0x25aaa0[_0x4d1663(0x1fe)][0x0];if(!_0x185682['member'][_0x4d1663(0x217)]['has']('MANAGE_GUILD')||_0x10ec87[_0x4d1663(0x206)]['find'](_0x32a961=>_0x32a961[_0x4d1663(0x1ff)]===_0x4d1663(0x203))[_0x4d1663(0x1fa)]!==_0x185682[_0x4d1663(0x1f4)]['id'])return;_0x10ec87[_0x4d1663(0x206)][_0x4d1663(0x1ef)](_0x33df21=>_0x33df21[_0x4d1663(0x1ff)]===_0x4d1663(0x1f6))['value']=_0x59e782['_'][_0x4d1663(0x1ec)]('\x20'),await _0x25aaa0[_0x4d1663(0x1e6)]({'embed':_0x10ec87});}}};}};