const a137_0x48ea=['1244555AWaezB','length','createInvite','../../models/Member','87484yqQqtw','info','toLocaleString','get','1xkyzEn','20YzVvPa','tag','5164KQKnIR','referral','BASTION_ERROR_TYPE','@bastion/tesseract','Referral\x20Invite','../../utils/errors','IRIS','save','getString','referralsChannel','url','1007043OTpWJb','map','It\x20allows\x20you\x20to\x20see\x20your\x20referral\x20invite\x20that\x20you\x20can\x20use\x20to\x20invite\x20people\x20to\x20the\x20server\x20and\x20increase\x20your\x20referral\x20points.\x20It\x20can\x20also\x20be\x20used\x20to\x20claim\x20your\x20referral\x20rewards\x20set\x20by\x20the\x20server\x20managers.','send','referralRewardsClaim','language','168685HKcQEv','Uses','COLORS','findOne','uses','Referral\x20invite\x20generated\x20for\x20','11QTqcpN','1242719WKldHn','1PMLjnx','guild','find','code','fetchInvites','exec','default','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','noReferralsChannel','document','referral\x20--claim','claim','locale','constructor','client','1ZqMXwM','channel','Code','DiscordError','1243357lonjyj','noReferralRewards','author','Constants','return\x20/\x22\x20+\x20this\x20+\x20\x22/','test','Command','exports','cache','ERROR'];const a137_0x2cca=function(_0x1a67b4,_0xca32ae){_0x1a67b4=_0x1a67b4-0x1e9;let _0x57e0fd=a137_0x48ea[_0x1a67b4];return _0x57e0fd;};const a137_0x4e910e=a137_0x2cca;(function(_0x555a23,_0xa39b50){const _0x14003c=a137_0x2cca;while(!![]){try{const _0x17f43=-parseInt(_0x14003c(0x209))*-parseInt(_0x14003c(0x20b))+parseInt(_0x14003c(0x216))+parseInt(_0x14003c(0x224))*-parseInt(_0x14003c(0x1f6))+-parseInt(_0x14003c(0x21c))*-parseInt(_0x14003c(0x1f2))+-parseInt(_0x14003c(0x208))*-parseInt(_0x14003c(0x223))+-parseInt(_0x14003c(0x200))+parseInt(_0x14003c(0x222))*parseInt(_0x14003c(0x204));if(_0x17f43===_0xa39b50)break;else _0x555a23['push'](_0x555a23['shift']());}catch(_0x1b891e){_0x555a23['push'](_0x555a23['shift']());}}}(a137_0x48ea,0xf332b));const a137_0xf9b547=function(){let _0x264e9e=!![];return function(_0x3ade5c,_0x134a5f){const _0x114e17=_0x264e9e?function(){if(_0x134a5f){const _0x5cf6d2=_0x134a5f['apply'](_0x3ade5c,arguments);return _0x134a5f=null,_0x5cf6d2;}}:function(){};return _0x264e9e=![],_0x114e17;};}(),a137_0x1ec98a=a137_0xf9b547(this,function(){const _0xb7baec=function(){const _0x30a5c1=a137_0x2cca,_0x34235e=_0xb7baec['constructor'](_0x30a5c1(0x1fa))()[_0x30a5c1(0x1f0)](_0x30a5c1(0x1ea));return!_0x34235e[_0x30a5c1(0x1fb)](a137_0x1ec98a);};return _0xb7baec();});a137_0x1ec98a();'use strict';const tesseract_1=require(a137_0x4e910e(0x20e)),Member_1=require(a137_0x4e910e(0x203)),Role_1=require('../../models/Role'),errors=require(a137_0x4e910e(0x210));module[a137_0x4e910e(0x1fd)]=class ReferralCommand extends tesseract_1[a137_0x4e910e(0x1fc)]{constructor(){const _0x19c8b4=a137_0x4e910e;super('referral',{'description':_0x19c8b4(0x218),'triggers':[],'arguments':{'boolean':[_0x19c8b4(0x1ee)]},'scope':_0x19c8b4(0x225),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x19c8b4(0x20c),_0x19c8b4(0x1ed)]}),this[_0x19c8b4(0x229)]=async(_0x162e22,_0x56dd27)=>{const _0x2fc9f1=_0x19c8b4,_0xae7725=await Member_1[_0x2fc9f1(0x1e9)][_0x2fc9f1(0x21f)]({'user':_0x162e22[_0x2fc9f1(0x1f8)]['id'],'guild':_0x162e22[_0x2fc9f1(0x225)]['id']});let _0x243ff8;if(_0xae7725[_0x2fc9f1(0x20c)]){const _0x196d5c=await _0x162e22['guild'][_0x2fc9f1(0x228)]();_0x243ff8=_0x196d5c[_0x2fc9f1(0x207)](_0xae7725[_0x2fc9f1(0x20c)]);}if(!_0x243ff8){const _0x32ae9a=_0x162e22['guild']['channels'][_0x2fc9f1(0x1fe)][_0x2fc9f1(0x207)](_0x162e22[_0x2fc9f1(0x225)][_0x2fc9f1(0x1ec)][_0x2fc9f1(0x214)]);if(!_0x32ae9a)throw new errors[(_0x2fc9f1(0x1f5))](errors[_0x2fc9f1(0x20d)]['ERROR'],this[_0x2fc9f1(0x1f1)]['locale'][_0x2fc9f1(0x213)](_0x162e22['guild'][_0x2fc9f1(0x1ec)]['language'],'errors',_0x2fc9f1(0x1eb)));_0x243ff8=await _0x32ae9a[_0x2fc9f1(0x202)]({'reason':_0x2fc9f1(0x221)+_0x162e22['author'][_0x2fc9f1(0x20a)],'temporary':![],'maxAge':0x0,'maxUses':0x0,'unique':!![]}),_0xae7725['referral']=_0x243ff8['code'],await _0xae7725[_0x2fc9f1(0x212)]();}if(_0x56dd27[_0x2fc9f1(0x1ee)]){const _0x1489a2=await Role_1[_0x2fc9f1(0x1e9)][_0x2fc9f1(0x226)]({'guild':_0x162e22['guild']['id'],'referrals':{'$lte':_0x243ff8['uses']}});if(!_0x1489a2[_0x2fc9f1(0x201)])throw new errors[(_0x2fc9f1(0x1f5))](errors[_0x2fc9f1(0x20d)][_0x2fc9f1(0x1ff)],this['client'][_0x2fc9f1(0x1ef)][_0x2fc9f1(0x213)](_0x162e22[_0x2fc9f1(0x225)]['document'][_0x2fc9f1(0x21b)],'errors',_0x2fc9f1(0x1f7),_0x243ff8[_0x2fc9f1(0x220)]));await _0x162e22['member']['roles']['add'](_0x1489a2[_0x2fc9f1(0x217)](_0x556343=>_0x556343['id'])),await _0x162e22[_0x2fc9f1(0x1f3)]['send']({'embed':{'color':tesseract_1[_0x2fc9f1(0x1f9)][_0x2fc9f1(0x21e)][_0x2fc9f1(0x211)],'title':'Referral\x20Reward\x20Claimed','description':this[_0x2fc9f1(0x1f1)][_0x2fc9f1(0x1ef)][_0x2fc9f1(0x213)](_0x162e22[_0x2fc9f1(0x225)]['document'][_0x2fc9f1(0x21b)],_0x2fc9f1(0x205),_0x2fc9f1(0x21a),_0x162e22[_0x2fc9f1(0x1f8)][_0x2fc9f1(0x20a)],_0x243ff8['uses'])}});}else await _0x162e22['channel'][_0x2fc9f1(0x219)]({'embed':{'color':tesseract_1[_0x2fc9f1(0x1f9)][_0x2fc9f1(0x21e)][_0x2fc9f1(0x211)],'title':_0x2fc9f1(0x20f),'description':_0x243ff8[_0x2fc9f1(0x215)],'fields':[{'name':_0x2fc9f1(0x1f4),'value':_0x243ff8[_0x2fc9f1(0x227)],'inline':!![]},{'name':_0x2fc9f1(0x21d),'value':(_0x243ff8['uses']||0x0)[_0x2fc9f1(0x206)](),'inline':!![]}]}});};}};