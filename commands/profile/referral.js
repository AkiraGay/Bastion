const a136_0x1bc4=['../../models/Role','errors','DiscordError','IRIS','Command','claim','test','exec','../../utils/errors','../../models/Member','ERROR','Referral\x20Invite','save','COLORS','findOne','Constants','tag','send','default','constructor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','channels','referralsChannel','uses','code','client','Uses','document','map','apply','noReferralRewards','url','find','language','referral','cache','Referral\x20invite\x20generated\x20for\x20','fetchInvites','member','It\x20allows\x20you\x20to\x20see\x20your\x20referral\x20invite\x20that\x20you\x20can\x20use\x20to\x20invite\x20people\x20to\x20the\x20server\x20and\x20increase\x20your\x20referral\x20points.\x20It\x20can\x20also\x20be\x20used\x20to\x20claim\x20your\x20referral\x20rewards\x20set\x20by\x20the\x20server\x20managers.','referralRewardsClaim','BASTION_ERROR_TYPE','channel','getString','locale','get','guild','author','createInvite','roles','add'];(function(_0x19d5c3,_0x43b74d){const _0x1bc415=function(_0x2066dc){while(--_0x2066dc){_0x19d5c3['push'](_0x19d5c3['shift']());}},_0x592c6d=function(){const _0xa3fe9d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x193a04,_0x528e6c,_0x30d6d4,_0x3fe878){_0x3fe878=_0x3fe878||{};let _0x3252d4=_0x528e6c+'='+_0x30d6d4,_0x3cfc86=0x0;for(let _0x3203bc=0x0,_0x127611=_0x193a04['length'];_0x3203bc<_0x127611;_0x3203bc++){const _0x120dfc=_0x193a04[_0x3203bc];_0x3252d4+=';\x20'+_0x120dfc;const _0x2eecdf=_0x193a04[_0x120dfc];_0x193a04['push'](_0x2eecdf),_0x127611=_0x193a04['length'],_0x2eecdf!==!![]&&(_0x3252d4+='='+_0x2eecdf);}_0x3fe878['cookie']=_0x3252d4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1fd155,_0x251401){_0x1fd155=_0x1fd155||function(_0x35f286){return _0x35f286;};const _0x551225=_0x1fd155(new RegExp('(?:^|;\x20)'+_0x251401['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x55fbfb=function(_0x1a9533,_0x6dc411){_0x1a9533(++_0x6dc411);};return _0x55fbfb(_0x1bc415,_0x43b74d),_0x551225?decodeURIComponent(_0x551225[0x1]):undefined;}},_0x356acd=function(){const _0x2bc4e7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2bc4e7['test'](_0xa3fe9d['removeCookie']['toString']());};_0xa3fe9d['updateCookie']=_0x356acd;let _0x1516ac='';const _0x494c23=_0xa3fe9d['updateCookie']();if(!_0x494c23)_0xa3fe9d['setCookie'](['*'],'counter',0x1);else _0x494c23?_0x1516ac=_0xa3fe9d['getCookie'](null,'counter'):_0xa3fe9d['removeCookie']();};_0x592c6d();}(a136_0x1bc4,0xf0));const a136_0x592c=function(_0x19d5c3,_0x43b74d){_0x19d5c3=_0x19d5c3-0x1b2;let _0x1bc415=a136_0x1bc4[_0x19d5c3];return _0x1bc415;};const _0x15c618=a136_0x592c,a136_0x356acd=function(){let _0x494c23=!![];return function(_0x193a04,_0x528e6c){const _0x30d6d4=_0x494c23?function(){const _0xc25951=a136_0x592c;if(_0x528e6c){const _0x3fe878=_0x528e6c[_0xc25951(0x1de)](_0x193a04,arguments);return _0x528e6c=null,_0x3fe878;}}:function(){};return _0x494c23=![],_0x30d6d4;};}(),a136_0xa3fe9d=a136_0x356acd(this,function(){const _0x3252d4=function(){const _0x4e0d79=a136_0x592c,_0x3cfc86=_0x3252d4[_0x4e0d79(0x1d4)](_0x4e0d79(0x1d5))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3cfc86[_0x4e0d79(0x1c7)](a136_0xa3fe9d);};return _0x3252d4();});a136_0xa3fe9d();'use strict';const tesseract_1=require('@bastion/tesseract'),Member_1=require(_0x15c618(0x1ca)),Role_1=require(_0x15c618(0x1c1)),errors=require(_0x15c618(0x1c9));module['exports']=class ReferralCommand extends tesseract_1[_0x15c618(0x1c5)]{constructor(){const _0x17dfe4=_0x15c618;super(_0x17dfe4(0x1e3),{'description':_0x17dfe4(0x1b5),'triggers':[],'arguments':{'boolean':['claim']},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['referral','referral\x20--claim']}),this[_0x17dfe4(0x1c8)]=async(_0x3203bc,_0x127611)=>{const _0xf9a59c=_0x17dfe4,_0x120dfc=await Member_1[_0xf9a59c(0x1d3)][_0xf9a59c(0x1cf)]({'user':_0x3203bc[_0xf9a59c(0x1bd)]['id'],'guild':_0x3203bc[_0xf9a59c(0x1bc)]['id']});let _0x2eecdf;if(_0x120dfc[_0xf9a59c(0x1e3)]){const _0x1fd155=await _0x3203bc['guild'][_0xf9a59c(0x1b3)]();_0x2eecdf=_0x1fd155['get'](_0x120dfc[_0xf9a59c(0x1e3)]);}if(!_0x2eecdf){const _0x251401=_0x3203bc[_0xf9a59c(0x1bc)][_0xf9a59c(0x1d6)][_0xf9a59c(0x1e4)][_0xf9a59c(0x1bb)](_0x3203bc[_0xf9a59c(0x1bc)][_0xf9a59c(0x1dc)][_0xf9a59c(0x1d7)]);if(!_0x251401)throw new errors[(_0xf9a59c(0x1c3))](errors['BASTION_ERROR_TYPE'][_0xf9a59c(0x1cb)],this['client'][_0xf9a59c(0x1ba)][_0xf9a59c(0x1b9)](_0x3203bc[_0xf9a59c(0x1bc)]['document'][_0xf9a59c(0x1e2)],_0xf9a59c(0x1c2),'noReferralsChannel'));_0x2eecdf=await _0x251401[_0xf9a59c(0x1be)]({'reason':_0xf9a59c(0x1b2)+_0x3203bc[_0xf9a59c(0x1bd)][_0xf9a59c(0x1d1)],'temporary':![],'maxAge':0x0,'maxUses':0x0,'unique':!![]}),_0x120dfc[_0xf9a59c(0x1e3)]=_0x2eecdf[_0xf9a59c(0x1d9)],await _0x120dfc[_0xf9a59c(0x1cd)]();}if(_0x127611[_0xf9a59c(0x1c6)]){const _0x551225=await Role_1['default'][_0xf9a59c(0x1e1)]({'guild':_0x3203bc[_0xf9a59c(0x1bc)]['id'],'referrals':{'$lte':_0x2eecdf[_0xf9a59c(0x1d8)]}});if(!_0x551225['length'])throw new errors[(_0xf9a59c(0x1c3))](errors[_0xf9a59c(0x1b7)][_0xf9a59c(0x1cb)],this[_0xf9a59c(0x1da)][_0xf9a59c(0x1ba)][_0xf9a59c(0x1b9)](_0x3203bc[_0xf9a59c(0x1bc)][_0xf9a59c(0x1dc)][_0xf9a59c(0x1e2)],_0xf9a59c(0x1c2),_0xf9a59c(0x1df),_0x2eecdf[_0xf9a59c(0x1d8)]));await _0x3203bc[_0xf9a59c(0x1b4)][_0xf9a59c(0x1bf)][_0xf9a59c(0x1c0)](_0x551225[_0xf9a59c(0x1dd)](_0x55fbfb=>_0x55fbfb['id'])),await _0x3203bc[_0xf9a59c(0x1b8)][_0xf9a59c(0x1d2)]({'embed':{'color':tesseract_1['Constants'][_0xf9a59c(0x1ce)][_0xf9a59c(0x1c4)],'title':'Referral\x20Reward\x20Claimed','description':this[_0xf9a59c(0x1da)][_0xf9a59c(0x1ba)][_0xf9a59c(0x1b9)](_0x3203bc[_0xf9a59c(0x1bc)][_0xf9a59c(0x1dc)][_0xf9a59c(0x1e2)],'info',_0xf9a59c(0x1b6),_0x3203bc[_0xf9a59c(0x1bd)][_0xf9a59c(0x1d1)],_0x2eecdf[_0xf9a59c(0x1d8)])}});}else await _0x3203bc[_0xf9a59c(0x1b8)]['send']({'embed':{'color':tesseract_1[_0xf9a59c(0x1d0)][_0xf9a59c(0x1ce)][_0xf9a59c(0x1c4)],'title':_0xf9a59c(0x1cc),'description':_0x2eecdf[_0xf9a59c(0x1e0)],'fields':[{'name':'Code','value':_0x2eecdf[_0xf9a59c(0x1d9)],'inline':!![]},{'name':_0xf9a59c(0x1db),'value':(_0x2eecdf[_0xf9a59c(0x1d8)]||0x0)['toLocaleString'](),'inline':!![]}]}});};}};