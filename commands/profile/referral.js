const a137_0x30ae=['createInvite','test','default','channel','referralsChannel','fetchInvites','Referral\x20Reward\x20Claimed','../../models/Role','IRIS','referralRewardsClaim','referral','../../utils/errors','Command','get','constructor','uses','apply','client','noReferralRewards','Uses','document','code','save','map','ERROR','Referral\x20invite\x20generated\x20for\x20','locale','@bastion/tesseract','It\x20allows\x20you\x20to\x20see\x20your\x20referral\x20invite\x20that\x20you\x20can\x20use\x20to\x20invite\x20people\x20to\x20the\x20server\x20and\x20increase\x20your\x20referral\x20points.\x20It\x20can\x20also\x20be\x20used\x20to\x20claim\x20your\x20referral\x20rewards\x20set\x20by\x20the\x20server\x20managers.','errors','info','add','claim','guild','Referral\x20Invite','DiscordError','language','return\x20/\x22\x20+\x20this\x20+\x20\x22/','channels','getString','author','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','tag','Code','findOne','member','exports','COLORS','send','Constants','../../models/Member'];(function(_0x2401ea,_0x41aa5a){const _0x30ae89=function(_0x5c22b7){while(--_0x5c22b7){_0x2401ea['push'](_0x2401ea['shift']());}},_0x1f060d=function(){const _0x37aa36={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3fff3e,_0x4794ca,_0x34de2d,_0x45dc1d){_0x45dc1d=_0x45dc1d||{};let _0x35df59=_0x4794ca+'='+_0x34de2d,_0x265275=0x0;for(let _0x2b9019=0x0,_0x51f66b=_0x3fff3e['length'];_0x2b9019<_0x51f66b;_0x2b9019++){const _0x2ac009=_0x3fff3e[_0x2b9019];_0x35df59+=';\x20'+_0x2ac009;const _0x28a605=_0x3fff3e[_0x2ac009];_0x3fff3e['push'](_0x28a605),_0x51f66b=_0x3fff3e['length'],_0x28a605!==!![]&&(_0x35df59+='='+_0x28a605);}_0x45dc1d['cookie']=_0x35df59;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2cfcc2,_0x5bb33e){_0x2cfcc2=_0x2cfcc2||function(_0xc7feaf){return _0xc7feaf;};const _0x593158=_0x2cfcc2(new RegExp('(?:^|;\x20)'+_0x5bb33e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x77901c=function(_0x5b1d86,_0x47cb15){_0x5b1d86(++_0x47cb15);};return _0x77901c(_0x30ae89,_0x41aa5a),_0x593158?decodeURIComponent(_0x593158[0x1]):undefined;}},_0x1d4c42=function(){const _0x30b55b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x30b55b['test'](_0x37aa36['removeCookie']['toString']());};_0x37aa36['updateCookie']=_0x1d4c42;let _0xd0bef='';const _0x6ba43e=_0x37aa36['updateCookie']();if(!_0x6ba43e)_0x37aa36['setCookie'](['*'],'counter',0x1);else _0x6ba43e?_0xd0bef=_0x37aa36['getCookie'](null,'counter'):_0x37aa36['removeCookie']();};_0x1f060d();}(a137_0x30ae,0x6a));const a137_0x1f06=function(_0x2401ea,_0x41aa5a){_0x2401ea=_0x2401ea-0x179;let _0x30ae89=a137_0x30ae[_0x2401ea];return _0x30ae89;};const a137_0x2be8a2=a137_0x1f06,a137_0x1d4c42=function(){let _0x6ba43e=!![];return function(_0x3fff3e,_0x4794ca){const _0x34de2d=_0x6ba43e?function(){const _0x3e3ba3=a137_0x1f06;if(_0x4794ca){const _0x45dc1d=_0x4794ca[_0x3e3ba3(0x185)](_0x3fff3e,arguments);return _0x4794ca=null,_0x45dc1d;}}:function(){};return _0x6ba43e=![],_0x34de2d;};}(),a137_0x37aa36=a137_0x1d4c42(this,function(){const _0x35df59=function(){const _0x678388=a137_0x1f06,_0x265275=_0x35df59['constructor'](_0x678388(0x19a))()[_0x678388(0x183)](_0x678388(0x19e));return!_0x265275[_0x678388(0x1a9)](a137_0x37aa36);};return _0x35df59();});a137_0x37aa36();'use strict';const tesseract_1=require(a137_0x2be8a2(0x190)),Member_1=require(a137_0x2be8a2(0x1a7)),Role_1=require(a137_0x2be8a2(0x17c)),errors=require(a137_0x2be8a2(0x180));module[a137_0x2be8a2(0x1a3)]=class ReferralCommand extends tesseract_1[a137_0x2be8a2(0x181)]{constructor(){const _0x12fb7f=a137_0x2be8a2;super(_0x12fb7f(0x17f),{'description':_0x12fb7f(0x191),'triggers':[],'arguments':{'boolean':[_0x12fb7f(0x195)]},'scope':_0x12fb7f(0x196),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['referral','referral\x20--claim']}),this['exec']=async(_0x2b9019,_0x51f66b)=>{const _0x5b0392=_0x12fb7f,_0x2ac009=await Member_1[_0x5b0392(0x1aa)][_0x5b0392(0x1a1)]({'user':_0x2b9019[_0x5b0392(0x19d)]['id'],'guild':_0x2b9019[_0x5b0392(0x196)]['id']});let _0x28a605;if(_0x2ac009[_0x5b0392(0x17f)]){const _0x2cfcc2=await _0x2b9019[_0x5b0392(0x196)][_0x5b0392(0x17a)]();_0x28a605=_0x2cfcc2['get'](_0x2ac009[_0x5b0392(0x17f)]);}if(!_0x28a605){const _0x5bb33e=_0x2b9019[_0x5b0392(0x196)][_0x5b0392(0x19b)]['cache'][_0x5b0392(0x182)](_0x2b9019['guild'][_0x5b0392(0x189)][_0x5b0392(0x179)]);if(!_0x5bb33e)throw new errors[(_0x5b0392(0x198))](errors['BASTION_ERROR_TYPE'][_0x5b0392(0x18d)],this[_0x5b0392(0x186)][_0x5b0392(0x18f)][_0x5b0392(0x19c)](_0x2b9019[_0x5b0392(0x196)][_0x5b0392(0x189)][_0x5b0392(0x199)],'errors','noReferralsChannel'));_0x28a605=await _0x5bb33e[_0x5b0392(0x1a8)]({'reason':_0x5b0392(0x18e)+_0x2b9019[_0x5b0392(0x19d)][_0x5b0392(0x19f)],'temporary':![],'maxAge':0x0,'maxUses':0x0,'unique':!![]}),_0x2ac009[_0x5b0392(0x17f)]=_0x28a605[_0x5b0392(0x18a)],await _0x2ac009[_0x5b0392(0x18b)]();}if(_0x51f66b[_0x5b0392(0x195)]){const _0x593158=await Role_1[_0x5b0392(0x1aa)]['find']({'guild':_0x2b9019[_0x5b0392(0x196)]['id'],'referrals':{'$lte':_0x28a605['uses']}});if(!_0x593158['length'])throw new errors[(_0x5b0392(0x198))](errors['BASTION_ERROR_TYPE']['ERROR'],this['client'][_0x5b0392(0x18f)]['getString'](_0x2b9019[_0x5b0392(0x196)][_0x5b0392(0x189)][_0x5b0392(0x199)],_0x5b0392(0x192),_0x5b0392(0x187),_0x28a605[_0x5b0392(0x184)]));await _0x2b9019[_0x5b0392(0x1a2)]['roles'][_0x5b0392(0x194)](_0x593158[_0x5b0392(0x18c)](_0x77901c=>_0x77901c['id'])),await _0x2b9019['channel'][_0x5b0392(0x1a5)]({'embed':{'color':tesseract_1[_0x5b0392(0x1a6)][_0x5b0392(0x1a4)][_0x5b0392(0x17d)],'title':_0x5b0392(0x17b),'description':this[_0x5b0392(0x186)][_0x5b0392(0x18f)]['getString'](_0x2b9019[_0x5b0392(0x196)][_0x5b0392(0x189)][_0x5b0392(0x199)],_0x5b0392(0x193),_0x5b0392(0x17e),_0x2b9019[_0x5b0392(0x19d)]['tag'],_0x28a605[_0x5b0392(0x184)])}});}else await _0x2b9019[_0x5b0392(0x1ab)][_0x5b0392(0x1a5)]({'embed':{'color':tesseract_1[_0x5b0392(0x1a6)][_0x5b0392(0x1a4)]['IRIS'],'title':_0x5b0392(0x197),'description':_0x28a605['url'],'fields':[{'name':_0x5b0392(0x1a0),'value':_0x28a605[_0x5b0392(0x18a)],'inline':!![]},{'name':_0x5b0392(0x188),'value':(_0x28a605[_0x5b0392(0x184)]||0x0)['toLocaleString'](),'inline':!![]}]}});};}};