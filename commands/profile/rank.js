const a115_0x3aa8=['resolveGuildMember','memberNotFound','send','client','document','guild','displayAvatarURL','find','rank','author','errors','return\x20/\x22\x20+\x20this\x20+\x20\x22/','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20rank,\x20level,\x20experience,\x20and\x20karma.','exec','Rank\x20','findOne','Karma','locale','IRIS','member','constructor','experience','Level','karma','tag','level','resolver','exports','language','COLORS','user','apply','@bastion/tesseract','Command','countDocuments','rank\x20USER','test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','color','channel','checkProfile','default','getString'];(function(_0x5cb586,_0x3aa8b1){const _0x6ae9c6=function(_0xbdbba2){while(--_0xbdbba2){_0x5cb586['push'](_0x5cb586['shift']());}},_0x1b6539=function(){const _0xbe8954={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4a482f,_0x141380,_0x5263a5,_0x549c1e){_0x549c1e=_0x549c1e||{};let _0x2997ed=_0x141380+'='+_0x5263a5,_0x346786=0x0;for(let _0x50e99d=0x0,_0x5bf2b2=_0x4a482f['length'];_0x50e99d<_0x5bf2b2;_0x50e99d++){const _0x287072=_0x4a482f[_0x50e99d];_0x2997ed+=';\x20'+_0x287072;const _0x42ff0a=_0x4a482f[_0x287072];_0x4a482f['push'](_0x42ff0a),_0x5bf2b2=_0x4a482f['length'],_0x42ff0a!==!![]&&(_0x2997ed+='='+_0x42ff0a);}_0x549c1e['cookie']=_0x2997ed;},'removeCookie':function(){return'dev';},'getCookie':function(_0x41b6ff,_0x4facce){_0x41b6ff=_0x41b6ff||function(_0x3948f2){return _0x3948f2;};const _0x49e19a=_0x41b6ff(new RegExp('(?:^|;\x20)'+_0x4facce['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x15920f=function(_0x32305b,_0x38664f){_0x32305b(++_0x38664f);};return _0x15920f(_0x6ae9c6,_0x3aa8b1),_0x49e19a?decodeURIComponent(_0x49e19a[0x1]):undefined;}},_0x909b72=function(){const _0x3604f2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3604f2['test'](_0xbe8954['removeCookie']['toString']());};_0xbe8954['updateCookie']=_0x909b72;let _0x57de50='';const _0x5962cd=_0xbe8954['updateCookie']();if(!_0x5962cd)_0xbe8954['setCookie'](['*'],'counter',0x1);else _0x5962cd?_0x57de50=_0xbe8954['getCookie'](null,'counter'):_0xbe8954['removeCookie']();};_0x1b6539();}(a115_0x3aa8,0x7c));const a115_0x6ae9=function(_0x5cb586,_0x3aa8b1){_0x5cb586=_0x5cb586-0x0;let _0x6ae9c6=a115_0x3aa8[_0x5cb586];return _0x6ae9c6;};const a115_0x5263a5=function(){let _0x33c1bd=!![];return function(_0x21a5eb,_0x4fc55b){const _0x7be84=_0x33c1bd?function(){if(_0x4fc55b){const _0x352525=_0x4fc55b[a115_0x6ae9('0x24')](_0x21a5eb,arguments);return _0x4fc55b=null,_0x352525;}}:function(){};return _0x33c1bd=![],_0x7be84;};}(),a115_0x141380=a115_0x5263a5(this,function(){const _0x46f46c=function(){const _0xc737a3=_0x46f46c[a115_0x6ae9('0x19')](a115_0x6ae9('0x10'))()['constructor'](a115_0x6ae9('0x2a'));return!_0xc737a3[a115_0x6ae9('0x29')](a115_0x141380);};return _0x46f46c();});a115_0x141380();'use strict';const tesseract_1=require(a115_0x6ae9('0x25')),Member_1=require('../../models/Member'),User_1=require('../../models/User');module[a115_0x6ae9('0x20')]=class RankCommand extends tesseract_1[a115_0x6ae9('0x26')]{constructor(){super(a115_0x6ae9('0xd'),{'description':a115_0x6ae9('0x11'),'triggers':[a115_0x6ae9('0x1e'),'xp'],'arguments':{},'scope':a115_0x6ae9('0xa'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a115_0x6ae9('0xd'),a115_0x6ae9('0x28')]}),this[a115_0x6ae9('0x12')]=async(_0x146152,_0x546971)=>{const _0x1218b5=_0x546971['_']['length']?_0x546971['_'][0x0]:_0x146152['author']['id'],_0x4b25d8=_0x1218b5===_0x146152[a115_0x6ae9('0xe')]['id']?_0x146152[a115_0x6ae9('0x18')]:this[a115_0x6ae9('0x8')][a115_0x6ae9('0x1f')][a115_0x6ae9('0x5')](_0x146152[a115_0x6ae9('0xa')],_0x1218b5);if(!_0x4b25d8)throw new Error(this[a115_0x6ae9('0x8')][a115_0x6ae9('0x16')][a115_0x6ae9('0x4')](_0x146152[a115_0x6ae9('0xa')][a115_0x6ae9('0x9')][a115_0x6ae9('0x21')],'errors',a115_0x6ae9('0x6')));const _0x3931d1=_0x1218b5===_0x146152[a115_0x6ae9('0xe')]['id']?_0x146152[a115_0x6ae9('0xe')][a115_0x6ae9('0x9')]:await User_1['default']['findById'](_0x1218b5),_0x5aab54=_0x1218b5===_0x146152[a115_0x6ae9('0xe')]['id']?_0x4b25d8[a115_0x6ae9('0x9')]:await Member_1[a115_0x6ae9('0x3')][a115_0x6ae9('0x14')]({'user':_0x1218b5,'guild':_0x146152[a115_0x6ae9('0xa')]['id']});if(!_0x3931d1||!_0x5aab54)throw new Error(this['client'][a115_0x6ae9('0x16')][a115_0x6ae9('0x4')](_0x146152[a115_0x6ae9('0xa')][a115_0x6ae9('0x9')][a115_0x6ae9('0x21')],a115_0x6ae9('0xf'),'profileNotFound',_0x4b25d8[a115_0x6ae9('0x23')][a115_0x6ae9('0x1d')]));const _0x53d932=await Member_1[a115_0x6ae9('0x3')][a115_0x6ae9('0xc')]({'guild':_0x146152[a115_0x6ae9('0xa')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a115_0x6ae9('0x27')]({'$or':[{'level':{'$gt':_0x5aab54['level']}},{'level':_0x5aab54[a115_0x6ae9('0x1e')],'experience':{'$gt':_0x5aab54[a115_0x6ae9('0x1a')]}},{'level':_0x5aab54['level'],'experience':_0x5aab54[a115_0x6ae9('0x1a')],'karma':{'$gt':_0x5aab54[a115_0x6ae9('0x1c')]}},{'level':_0x5aab54[a115_0x6ae9('0x1e')],'experience':_0x5aab54['experience'],'karma':_0x5aab54['karma'],'balance':{'$gt':_0x5aab54['balance']}}]});await _0x146152[a115_0x6ae9('0x1')][a115_0x6ae9('0x7')]({'embed':{'color':_0x3931d1[a115_0x6ae9('0x0')]||tesseract_1['Constants'][a115_0x6ae9('0x22')][a115_0x6ae9('0x17')],'author':{'name':_0x4b25d8['user'][a115_0x6ae9('0x1d')]},'title':a115_0x6ae9('0x13')+(_0x53d932+0x1),'description':this[a115_0x6ae9('0x8')][a115_0x6ae9('0x16')]['getString'](_0x146152[a115_0x6ae9('0xa')]['document'][a115_0x6ae9('0x21')],'info',a115_0x6ae9('0x2')),'fields':[{'name':a115_0x6ae9('0x1b'),'value':_0x5aab54[a115_0x6ae9('0x1e')],'inline':!![]},{'name':'Experience','value':_0x5aab54[a115_0x6ae9('0x1a')],'inline':!![]},{'name':a115_0x6ae9('0x15'),'value':_0x5aab54[a115_0x6ae9('0x1c')],'inline':!![]}],'thumbnail':{'url':_0x4b25d8['user'][a115_0x6ae9('0xb')]({'dynamic':!![],'size':0x200})}}})['catch'](()=>{});};}};