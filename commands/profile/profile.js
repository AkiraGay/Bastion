const a113_0x41c6=['resolveGuildMember','author','language','Progress\x20-\x20','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','balance','Rank','find','Bastion\x20Profile','tag','errors','return\x20/\x22\x20+\x20this\x20+\x20\x22/','\x20-\x20','../../models/Member','gamification','profileNotFound','fetchBadges','user','default','backdrop','COLORS','toDateString','document','Experience','info','../../models/User','Level','locale','constructor','author.discord.id','Karma','../../utils/constants','Cake\x20Day','nextLevel','resolver','level','location','countDocuments','client','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','displayAvatarURL','member','getConstant','round','color','\x20/\x20','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','map','Bastion\x20Coins','getString','DEFAUL_LEVELUP_MULTIPLIER','join','then','multiplier','currentLevel','experience','Constants','send','guild','findOne','badgeValue','memberNotFound','exports','karma','Location','computeExperience','catch','resolveBadges','isPublicBastion','@bastion/tesseract','../../utils/badges','Command','About'];(function(_0x3c8d82,_0x41c6d9){const _0x5b7406=function(_0x47b65b){while(--_0x47b65b){_0x3c8d82['push'](_0x3c8d82['shift']());}},_0x2c51bd=function(){const _0x1d3ef0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2beaa1,_0x303c36,_0x43b0a3,_0x579114){_0x579114=_0x579114||{};let _0x4e998d=_0x303c36+'='+_0x43b0a3,_0x4ea158=0x0;for(let _0x16dc11=0x0,_0x78c4b8=_0x2beaa1['length'];_0x16dc11<_0x78c4b8;_0x16dc11++){const _0x450682=_0x2beaa1[_0x16dc11];_0x4e998d+=';\x20'+_0x450682;const _0x5db9a3=_0x2beaa1[_0x450682];_0x2beaa1['push'](_0x5db9a3),_0x78c4b8=_0x2beaa1['length'],_0x5db9a3!==!![]&&(_0x4e998d+='='+_0x5db9a3);}_0x579114['cookie']=_0x4e998d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x962ce2,_0x1fe4bd){_0x962ce2=_0x962ce2||function(_0x9def52){return _0x9def52;};const _0x178d6c=_0x962ce2(new RegExp('(?:^|;\x20)'+_0x1fe4bd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2e766e=function(_0x5081ab,_0x558568){_0x5081ab(++_0x558568);};return _0x2e766e(_0x5b7406,_0x41c6d9),_0x178d6c?decodeURIComponent(_0x178d6c[0x1]):undefined;}},_0x343f88=function(){const _0x2c06ac=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2c06ac['test'](_0x1d3ef0['removeCookie']['toString']());};_0x1d3ef0['updateCookie']=_0x343f88;let _0x4a8913='';const _0x4cb002=_0x1d3ef0['updateCookie']();if(!_0x4cb002)_0x1d3ef0['setCookie'](['*'],'counter',0x1);else _0x4cb002?_0x4a8913=_0x1d3ef0['getCookie'](null,'counter'):_0x1d3ef0['removeCookie']();};_0x2c51bd();}(a113_0x41c6,0x162));const a113_0x5b74=function(_0x3c8d82,_0x41c6d9){_0x3c8d82=_0x3c8d82-0x0;let _0x5b7406=a113_0x41c6[_0x3c8d82];return _0x5b7406;};const a113_0x43b0a3=function(){let _0x5c3cab=!![];return function(_0x2f5ad2,_0x403d4a){const _0x2e0c61=_0x5c3cab?function(){if(_0x403d4a){const _0x134739=_0x403d4a['apply'](_0x2f5ad2,arguments);return _0x403d4a=null,_0x134739;}}:function(){};return _0x5c3cab=![],_0x2e0c61;};}(),a113_0x303c36=a113_0x43b0a3(this,function(){const _0x1d7a49=function(){const _0x10f6af=_0x1d7a49['constructor'](a113_0x5b74('0x16'))()[a113_0x5b74('0x27')](a113_0x5b74('0x39'));return!_0x10f6af['test'](a113_0x303c36);};return _0x1d7a49();});a113_0x303c36();'use strict';const tesseract_1=require(a113_0x5b74('0x7')),Member_1=require(a113_0x5b74('0x18')),User_1=require(a113_0x5b74('0x24')),badges=require(a113_0x5b74('0x8')),constants=require(a113_0x5b74('0x2a')),gamification=require('../../utils/gamification'),progress_1=require('../../utils/progress');module[a113_0x5b74('0x0')]=class ProfileCommand extends tesseract_1[a113_0x5b74('0x9')]{constructor(){super('profile',{'description':a113_0x5b74('0xf'),'triggers':[],'arguments':{},'scope':a113_0x5b74('0x45'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile','profile\x20USER']}),this['exec']=async(_0x3412bb,_0x4ce7e2)=>{const _0x2087bc=_0x4ce7e2['_']['length']?_0x4ce7e2['_'][0x0]:_0x3412bb[a113_0x5b74('0xc')]['id'],_0xf76f78=_0x2087bc===_0x3412bb[a113_0x5b74('0xc')]['id']?_0x3412bb[a113_0x5b74('0x34')]:this[a113_0x5b74('0x31')][a113_0x5b74('0x2d')][a113_0x5b74('0xb')](_0x3412bb['guild'],_0x2087bc);if(!_0xf76f78)throw new Error(this[a113_0x5b74('0x31')][a113_0x5b74('0x26')][a113_0x5b74('0x3c')](_0x3412bb[a113_0x5b74('0x45')]['document'][a113_0x5b74('0xd')],'errors',a113_0x5b74('0x48')));const _0x544219=_0x2087bc===_0x3412bb['author']['id']?_0x3412bb['author']['document']:await User_1[a113_0x5b74('0x1d')]['findById'](_0x2087bc),_0x51cda9=_0x2087bc===_0x3412bb['author']['id']?_0xf76f78[a113_0x5b74('0x21')]:await Member_1[a113_0x5b74('0x1d')][a113_0x5b74('0x46')]({'user':_0x2087bc,'guild':_0x3412bb[a113_0x5b74('0x45')]['id']});if(!_0x544219||!_0x51cda9)throw new Error(this[a113_0x5b74('0x31')][a113_0x5b74('0x26')]['getString'](_0x3412bb[a113_0x5b74('0x45')][a113_0x5b74('0x21')][a113_0x5b74('0xd')],a113_0x5b74('0x15'),a113_0x5b74('0x1a'),_0xf76f78[a113_0x5b74('0x1c')][a113_0x5b74('0x14')]));const _0x3a018e=await Member_1['default'][a113_0x5b74('0x12')]({'guild':_0x3412bb[a113_0x5b74('0x45')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a113_0x5b74('0x30')]({'$or':[{'level':{'$gt':_0x51cda9[a113_0x5b74('0x2e')]}},{'level':_0x51cda9['level'],'experience':{'$gt':_0x51cda9['experience']}},{'level':_0x51cda9['level'],'experience':_0x51cda9['experience'],'karma':{'$gt':_0x51cda9[a113_0x5b74('0x1')]}},{'level':_0x51cda9[a113_0x5b74('0x2e')],'experience':_0x51cda9[a113_0x5b74('0x42')],'karma':_0x51cda9[a113_0x5b74('0x1')],'balance':{'$gt':_0x51cda9['balance']}}]}),_0xde8ee7={'currentLevel':gamification[a113_0x5b74('0x3')](_0x51cda9[a113_0x5b74('0x2e')],_0x3412bb[a113_0x5b74('0x45')][a113_0x5b74('0x21')][a113_0x5b74('0x19')]?_0x3412bb[a113_0x5b74('0x45')][a113_0x5b74('0x21')]['gamification'][a113_0x5b74('0x40')]:gamification[a113_0x5b74('0x3d')]),'nextLevel':gamification['computeExperience'](_0x51cda9[a113_0x5b74('0x2e')]+0x1,_0x3412bb['guild'][a113_0x5b74('0x21')][a113_0x5b74('0x19')]?_0x3412bb[a113_0x5b74('0x45')]['document'][a113_0x5b74('0x19')][a113_0x5b74('0x40')]:gamification['DEFAUL_LEVELUP_MULTIPLIER'])},_0x1a99db={'currentLevel':_0x51cda9[a113_0x5b74('0x42')]-_0xde8ee7['currentLevel'],'nextLevel':_0xde8ee7[a113_0x5b74('0x2c')]-_0xde8ee7[a113_0x5b74('0x41')]},_0x453ae5=_0x1a99db[a113_0x5b74('0x41')]/_0x1a99db['nextLevel']*0x64,_0x3a6aca=constants[a113_0x5b74('0x6')](this['client'][a113_0x5b74('0x1c')])&&await badges[a113_0x5b74('0x1b')](_0xf76f78['id'])[a113_0x5b74('0x3f')](_0xba22c=>_0xba22c['json']())[a113_0x5b74('0x4')](()=>{});_0x3412bb['channel'][a113_0x5b74('0x44')]({'embed':{'color':_0x544219[a113_0x5b74('0x37')]||tesseract_1[a113_0x5b74('0x43')][a113_0x5b74('0x1f')]['IRIS'],'author':{'name':_0xf76f78[a113_0x5b74('0x1c')][a113_0x5b74('0x14')]},'title':a113_0x5b74('0x13'),'description':(_0x3a6aca&&a113_0x5b74('0x47')in _0x3a6aca?badges[a113_0x5b74('0x5')](_0x3a6aca[a113_0x5b74('0x47')]):[])[a113_0x5b74('0x3a')](_0x50fc0f=>_0x50fc0f['emoji'])[a113_0x5b74('0x3e')]('\x20'),'fields':[{'name':a113_0x5b74('0xa'),'value':_0x544219[a113_0x5b74('0x23')]||'-'},{'name':a113_0x5b74('0x11'),'value':_0x3a018e+0x1,'inline':!![]},{'name':a113_0x5b74('0x25'),'value':_0x51cda9[a113_0x5b74('0x2e')],'inline':!![]},{'name':a113_0x5b74('0x22'),'value':_0x51cda9[a113_0x5b74('0x42')],'inline':!![]},{'name':a113_0x5b74('0x29'),'value':_0x51cda9[a113_0x5b74('0x1')],'inline':!![]},{'name':a113_0x5b74('0x3b'),'value':_0x51cda9[a113_0x5b74('0x10')],'inline':!![]},{'name':a113_0x5b74('0xe')+_0x1a99db[a113_0x5b74('0x41')]+a113_0x5b74('0x38')+_0x1a99db['nextLevel']+a113_0x5b74('0x17')+Math[a113_0x5b74('0x36')](_0x453ae5)+'%','value':'`'+progress_1[a113_0x5b74('0x1d')](_0x453ae5,0x23)+'`'},{'name':a113_0x5b74('0x2b'),'value':_0x544219['cakeDay']?_0x544219['cakeDay'][a113_0x5b74('0x20')]():'-','inline':!![]},{'name':a113_0x5b74('0x2'),'value':_0x544219[a113_0x5b74('0x2f')]||'-','inline':!![]}],'thumbnail':{'url':_0xf76f78[a113_0x5b74('0x1c')][a113_0x5b74('0x33')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x544219[a113_0x5b74('0x1e')]},'footer':{'text':_0xf76f78['id']===this['client']['locale'][a113_0x5b74('0x35')](a113_0x5b74('0x28'))?a113_0x5b74('0x32'):''}}})[a113_0x5b74('0x4')](()=>{});};}};