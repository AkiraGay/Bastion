const a109_0x5e3d=['channel','toDateString','Bastion\x20Profile','findById','computeExperience','json','COLORS','../../models/User','tag','nextLevel','errors','Command','@bastion/tesseract','DEFAUL_LEVELUP_MULTIPLIER','isPublicBastion','Location','Progress\x20-\x20','document','experience','exports','IRIS','find','catch','fetchBadges','user','countDocuments','Cake\x20Day','map','language','profile','Level','findOne','client','Experience','../../utils/badges','\x20/\x20','compile','locale','profileNotFound','gamification','badgeValue','getString','apply','currentLevel','color','round','send','test','../../utils/gamification','profile\x20USER','karma','backdrop','balance','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','getConstant','length','author','Karma','level','default','Constants','../../utils/constants','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','constructor','guild','Rank','cakeDay','resolveBadges'];(function(_0x8c0d0f,_0x5e3d5d){const _0x429ad6=function(_0xa24ed5){while(--_0xa24ed5){_0x8c0d0f['push'](_0x8c0d0f['shift']());}};const _0x505b75=function(){const _0x2cee56={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3c00f0,_0x365b15,_0x4ca2b2,_0x379c4f){_0x379c4f=_0x379c4f||{};let _0x66009c=_0x365b15+'='+_0x4ca2b2;let _0x4c5e4e=0x0;for(let _0x341ac8=0x0,_0x286beb=_0x3c00f0['length'];_0x341ac8<_0x286beb;_0x341ac8++){const _0x2143a8=_0x3c00f0[_0x341ac8];_0x66009c+=';\x20'+_0x2143a8;const _0x3d4588=_0x3c00f0[_0x2143a8];_0x3c00f0['push'](_0x3d4588);_0x286beb=_0x3c00f0['length'];if(_0x3d4588!==!![]){_0x66009c+='='+_0x3d4588;}}_0x379c4f['cookie']=_0x66009c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x55b578,_0x3dc286){_0x55b578=_0x55b578||function(_0x32e833){return _0x32e833;};const _0x2dde7a=_0x55b578(new RegExp('(?:^|;\x20)'+_0x3dc286['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x199548=function(_0x2da352,_0x47a947){_0x2da352(++_0x47a947);};_0x199548(_0x429ad6,_0x5e3d5d);return _0x2dde7a?decodeURIComponent(_0x2dde7a[0x1]):undefined;}};const _0x37f4d9=function(){const _0x32fd3a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x32fd3a['test'](_0x2cee56['removeCookie']['toString']());};_0x2cee56['updateCookie']=_0x37f4d9;let _0x146320='';const _0x3a1dd5=_0x2cee56['updateCookie']();if(!_0x3a1dd5){_0x2cee56['setCookie'](['*'],'counter',0x1);}else if(_0x3a1dd5){_0x146320=_0x2cee56['getCookie'](null,'counter');}else{_0x2cee56['removeCookie']();}};_0x505b75();}(a109_0x5e3d,0x88));const a109_0x429a=function(_0x8c0d0f,_0x5e3d5d){_0x8c0d0f=_0x8c0d0f-0x0;let _0x429ad6=a109_0x5e3d[_0x8c0d0f];return _0x429ad6;};const a109_0x2cee56=function(){let _0x8dc83d=!![];return function(_0x24d699,_0x55fe57){const _0x231f06=_0x8dc83d?function(){if(_0x55fe57){const _0x49127f=_0x55fe57[a109_0x429a('0x2c')](_0x24d699,arguments);_0x55fe57=null;return _0x49127f;}}:function(){};_0x8dc83d=![];return _0x231f06;};}();const a109_0xa24ed5=a109_0x2cee56(this,function(){const _0x15338d=function(){const _0x5cb2cf=_0x15338d[a109_0x429a('0x42')](a109_0x429a('0x37'))()[a109_0x429a('0x26')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5cb2cf[a109_0x429a('0x31')](a109_0xa24ed5);};return _0x15338d();});a109_0xa24ed5();'use strict';const tesseract_1=require(a109_0x429a('0xe'));const Member_1=require('../../models/Member');const User_1=require(a109_0x429a('0x9'));const badges=require(a109_0x429a('0x24'));const constants=require(a109_0x429a('0x40'));const gamification=require(a109_0x429a('0x32'));const progress_1=require('../../utils/progress');module[a109_0x429a('0x15')]=class ProfileCommand extends tesseract_1[a109_0x429a('0xd')]{constructor(){super(a109_0x429a('0x1f'),{'description':a109_0x429a('0x41'),'triggers':[],'arguments':{},'scope':a109_0x429a('0x43'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',a109_0x429a('0x33')]});this['exec']=async(_0x2d1fcb,_0x48bfc8)=>{const _0x32687c=_0x48bfc8['_'][a109_0x429a('0x3a')]?_0x48bfc8['_'][0x0]:_0x2d1fcb['author']['id'];const _0x52ddb5=_0x32687c===_0x2d1fcb['author']['id']?_0x2d1fcb['member']:this['client']['resolver']['resolveGuildMember'](_0x2d1fcb[a109_0x429a('0x43')],_0x32687c);if(!_0x52ddb5)throw new Error(this[a109_0x429a('0x22')][a109_0x429a('0x27')]['getString'](_0x2d1fcb[a109_0x429a('0x43')][a109_0x429a('0x13')][a109_0x429a('0x1e')],a109_0x429a('0xc'),'memberNotFound'));const _0x3f5414=_0x32687c===_0x2d1fcb[a109_0x429a('0x3b')]['id']?_0x2d1fcb['author']['document']:await User_1[a109_0x429a('0x3e')][a109_0x429a('0x5')](_0x32687c);const _0x1518c5=_0x32687c===_0x2d1fcb[a109_0x429a('0x3b')]['id']?_0x52ddb5[a109_0x429a('0x13')]:await Member_1[a109_0x429a('0x3e')][a109_0x429a('0x21')]({'user':_0x32687c,'guild':_0x2d1fcb[a109_0x429a('0x43')]['id']});if(!_0x3f5414||!_0x1518c5)throw new Error(this[a109_0x429a('0x22')][a109_0x429a('0x27')][a109_0x429a('0x2b')](_0x2d1fcb[a109_0x429a('0x43')]['document'][a109_0x429a('0x1e')],a109_0x429a('0xc'),a109_0x429a('0x28')));const _0x4ef370=await Member_1[a109_0x429a('0x3e')][a109_0x429a('0x17')]({'guild':_0x2d1fcb[a109_0x429a('0x43')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a109_0x429a('0x1b')]({'$or':[{'level':{'$gt':_0x1518c5[a109_0x429a('0x3d')]}},{'level':_0x1518c5[a109_0x429a('0x3d')],'experience':{'$gt':_0x1518c5['experience']}},{'level':_0x1518c5[a109_0x429a('0x3d')],'experience':_0x1518c5[a109_0x429a('0x14')],'karma':{'$gt':_0x1518c5[a109_0x429a('0x34')]}},{'level':_0x1518c5[a109_0x429a('0x3d')],'experience':_0x1518c5[a109_0x429a('0x14')],'karma':_0x1518c5['karma'],'balance':{'$gt':_0x1518c5['balance']}}]});const _0x2a561={'currentLevel':gamification[a109_0x429a('0x6')](_0x1518c5['level'],_0x2d1fcb[a109_0x429a('0x43')][a109_0x429a('0x13')][a109_0x429a('0x29')]?_0x2d1fcb['guild'][a109_0x429a('0x13')][a109_0x429a('0x29')]['multiplier']:gamification[a109_0x429a('0xf')]),'nextLevel':gamification['computeExperience'](_0x1518c5[a109_0x429a('0x3d')]+0x1,_0x2d1fcb[a109_0x429a('0x43')][a109_0x429a('0x13')][a109_0x429a('0x29')]?_0x2d1fcb[a109_0x429a('0x43')][a109_0x429a('0x13')]['gamification']['multiplier']:gamification['DEFAUL_LEVELUP_MULTIPLIER'])};const _0xf5df03={'currentLevel':_0x1518c5[a109_0x429a('0x14')]-_0x2a561['currentLevel'],'nextLevel':_0x2a561[a109_0x429a('0xb')]-_0x2a561['currentLevel']};const _0xa8d97=_0xf5df03['currentLevel']/_0xf5df03[a109_0x429a('0xb')]*0x64;const _0x1bab1d=constants[a109_0x429a('0x10')](this[a109_0x429a('0x22')][a109_0x429a('0x1a')])&&await badges[a109_0x429a('0x19')](_0x52ddb5['id'])['then'](_0x57e0b2=>_0x57e0b2[a109_0x429a('0x7')]())[a109_0x429a('0x18')](()=>{});_0x2d1fcb[a109_0x429a('0x2')][a109_0x429a('0x30')]({'embed':{'color':_0x3f5414[a109_0x429a('0x2e')]||tesseract_1[a109_0x429a('0x3f')][a109_0x429a('0x8')][a109_0x429a('0x16')],'author':{'name':_0x52ddb5[a109_0x429a('0x1a')][a109_0x429a('0xa')]},'title':a109_0x429a('0x4'),'description':(_0x1bab1d&&a109_0x429a('0x2a')in _0x1bab1d?badges[a109_0x429a('0x1')](_0x1bab1d[a109_0x429a('0x2a')]):[])[a109_0x429a('0x1d')](_0x3e1be4=>_0x3e1be4['emoji'])['join']('\x20'),'fields':[{'name':'About','value':_0x3f5414['info']||'-'},{'name':a109_0x429a('0x44'),'value':_0x4ef370+0x1,'inline':!![]},{'name':a109_0x429a('0x20'),'value':_0x1518c5['level'],'inline':!![]},{'name':a109_0x429a('0x23'),'value':_0x1518c5[a109_0x429a('0x14')],'inline':!![]},{'name':a109_0x429a('0x3c'),'value':_0x1518c5[a109_0x429a('0x34')],'inline':!![]},{'name':'Bastion\x20Coins','value':_0x1518c5[a109_0x429a('0x36')],'inline':!![]},{'name':a109_0x429a('0x12')+_0xf5df03[a109_0x429a('0x2d')]+a109_0x429a('0x25')+_0xf5df03[a109_0x429a('0xb')]+'\x20-\x20'+Math[a109_0x429a('0x2f')](_0xa8d97)+'%','value':'`'+progress_1[a109_0x429a('0x3e')](_0xa8d97,0x23)+'`'},{'name':a109_0x429a('0x1c'),'value':_0x3f5414[a109_0x429a('0x0')]?_0x3f5414['cakeDay'][a109_0x429a('0x3')]():'-','inline':!![]},{'name':a109_0x429a('0x11'),'value':_0x3f5414['location']||'-','inline':!![]}],'thumbnail':{'url':_0x52ddb5[a109_0x429a('0x1a')]['displayAvatarURL']({'dynamic':!![],'size':0x200})},'image':{'url':_0x3f5414[a109_0x429a('0x35')]},'footer':{'text':_0x52ddb5['id']===this[a109_0x429a('0x22')][a109_0x429a('0x27')][a109_0x429a('0x39')]('author.discord.id')?a109_0x429a('0x38'):''}}})[a109_0x429a('0x18')](()=>{});};}};