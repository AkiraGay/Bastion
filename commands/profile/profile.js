const a109_0x3110=['color','user','About','Bastion\x20Coins','COLORS','resolveGuildMember','../../models/User','Cake\x20Day','karma','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','test','resolveBadges','Rank','guild','locale','channel','countDocuments','length','displayAvatarURL','badgeValue','language','DEFAUL_LEVELUP_MULTIPLIER','return\x20/\x22\x20+\x20this\x20+\x20\x22/','exec','../../utils/constants','send','isPublicBastion','../../models/Member','profile\x20USER','author.discord.id','nextLevel','cakeDay','../../utils/progress','catch','balance','info','getConstant','findById','backdrop','author','../../utils/badges','currentLevel','location','computeExperience','level','multiplier','../../utils/gamification','client','round','member','findOne','experience','document','constructor','Progress\x20-\x20','\x20/\x20','getString','profileNotFound','json','tag','Karma','fetchBadges','gamification','toDateString','Bastion\x20Profile','resolver','map','errors','@bastion/tesseract','apply','default','join','Command','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','Constants'];(function(_0x4d0507,_0x311073){const _0x408b9f=function(_0x358c70){while(--_0x358c70){_0x4d0507['push'](_0x4d0507['shift']());}};const _0x30b6ee=function(){const _0x5f5d0e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x387885,_0x4efc23,_0xe70e89,_0x29e486){_0x29e486=_0x29e486||{};let _0x154b6f=_0x4efc23+'='+_0xe70e89;let _0x2e36f7=0x0;for(let _0x2b12ca=0x0,_0x317de5=_0x387885['length'];_0x2b12ca<_0x317de5;_0x2b12ca++){const _0xd9f793=_0x387885[_0x2b12ca];_0x154b6f+=';\x20'+_0xd9f793;const _0x4700de=_0x387885[_0xd9f793];_0x387885['push'](_0x4700de);_0x317de5=_0x387885['length'];if(_0x4700de!==!![]){_0x154b6f+='='+_0x4700de;}}_0x29e486['cookie']=_0x154b6f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x12df96,_0x53b08b){_0x12df96=_0x12df96||function(_0x493998){return _0x493998;};const _0x44c800=_0x12df96(new RegExp('(?:^|;\x20)'+_0x53b08b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4ce710=function(_0x5af082,_0x59bb42){_0x5af082(++_0x59bb42);};_0x4ce710(_0x408b9f,_0x311073);return _0x44c800?decodeURIComponent(_0x44c800[0x1]):undefined;}};const _0x78401f=function(){const _0x2c156f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2c156f['test'](_0x5f5d0e['removeCookie']['toString']());};_0x5f5d0e['updateCookie']=_0x78401f;let _0xbd54a0='';const _0x2ebd91=_0x5f5d0e['updateCookie']();if(!_0x2ebd91){_0x5f5d0e['setCookie'](['*'],'counter',0x1);}else if(_0x2ebd91){_0xbd54a0=_0x5f5d0e['getCookie'](null,'counter');}else{_0x5f5d0e['removeCookie']();}};_0x30b6ee();}(a109_0x3110,0x78));const a109_0x408b=function(_0x4d0507,_0x311073){_0x4d0507=_0x4d0507-0x0;let _0x408b9f=a109_0x3110[_0x4d0507];return _0x408b9f;};const a109_0x5f5d0e=function(){let _0xa3ae5d=!![];return function(_0x176617,_0x29c962){const _0x5b0a67=_0xa3ae5d?function(){if(_0x29c962){const _0x586433=_0x29c962[a109_0x408b('0x18')](_0x176617,arguments);_0x29c962=null;return _0x586433;}}:function(){};_0xa3ae5d=![];return _0x5b0a67;};}();const a109_0x358c70=a109_0x5f5d0e(this,function(){const _0x153a8a=function(){const _0x372714=_0x153a8a[a109_0x408b('0x8')](a109_0x408b('0x34'))()['compile'](a109_0x408b('0x27'));return!_0x372714[a109_0x408b('0x28')](a109_0x358c70);};return _0x153a8a();});a109_0x358c70();'use strict';const tesseract_1=require(a109_0x408b('0x17'));const Member_1=require(a109_0x408b('0x39'));const User_1=require(a109_0x408b('0x24'));const badges=require(a109_0x408b('0x46'));const constants=require(a109_0x408b('0x36'));const gamification=require(a109_0x408b('0x1'));const progress_1=require(a109_0x408b('0x3e'));module['exports']=class ProfileCommand extends tesseract_1[a109_0x408b('0x1b')]{constructor(){super('profile',{'description':'It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','triggers':[],'arguments':{},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',a109_0x408b('0x3a')]});this[a109_0x408b('0x35')]=async(_0x567f9a,_0x24be3a)=>{const _0x3ddf13=_0x24be3a['_'][a109_0x408b('0x2f')]?_0x24be3a['_'][0x0]:_0x567f9a[a109_0x408b('0x45')]['id'];const _0x55a3c1=_0x3ddf13===_0x567f9a[a109_0x408b('0x45')]['id']?_0x567f9a[a109_0x408b('0x4')]:this[a109_0x408b('0x2')][a109_0x408b('0x14')][a109_0x408b('0x23')](_0x567f9a['guild'],_0x3ddf13);if(!_0x55a3c1)throw new Error(this[a109_0x408b('0x2')]['locale']['getString'](_0x567f9a[a109_0x408b('0x2b')][a109_0x408b('0x7')]['language'],'errors','memberNotFound'));const _0x30b9e2=_0x3ddf13===_0x567f9a[a109_0x408b('0x45')]['id']?_0x567f9a['author'][a109_0x408b('0x7')]:await User_1['default'][a109_0x408b('0x43')](_0x3ddf13);const _0x2fe311=_0x3ddf13===_0x567f9a['author']['id']?_0x55a3c1[a109_0x408b('0x7')]:await Member_1[a109_0x408b('0x19')][a109_0x408b('0x5')]({'user':_0x3ddf13,'guild':_0x567f9a['guild']['id']});if(!_0x30b9e2||!_0x2fe311)throw new Error(this[a109_0x408b('0x2')][a109_0x408b('0x2c')][a109_0x408b('0xb')](_0x567f9a['guild'][a109_0x408b('0x7')][a109_0x408b('0x32')],a109_0x408b('0x16'),a109_0x408b('0xc')));const _0x4089ef=await Member_1[a109_0x408b('0x19')]['find']({'guild':_0x567f9a['guild']['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a109_0x408b('0x2e')]({'$or':[{'level':{'$gt':_0x2fe311[a109_0x408b('0x4a')]}},{'level':_0x2fe311[a109_0x408b('0x4a')],'experience':{'$gt':_0x2fe311['experience']}},{'level':_0x2fe311[a109_0x408b('0x4a')],'experience':_0x2fe311['experience'],'karma':{'$gt':_0x2fe311[a109_0x408b('0x26')]}},{'level':_0x2fe311[a109_0x408b('0x4a')],'experience':_0x2fe311[a109_0x408b('0x6')],'karma':_0x2fe311[a109_0x408b('0x26')],'balance':{'$gt':_0x2fe311[a109_0x408b('0x40')]}}]});const _0x2abd9e={'currentLevel':gamification[a109_0x408b('0x49')](_0x2fe311[a109_0x408b('0x4a')],_0x567f9a['guild'][a109_0x408b('0x7')][a109_0x408b('0x11')]?_0x567f9a[a109_0x408b('0x2b')]['document'][a109_0x408b('0x11')][a109_0x408b('0x0')]:gamification[a109_0x408b('0x33')]),'nextLevel':gamification['computeExperience'](_0x2fe311[a109_0x408b('0x4a')]+0x1,_0x567f9a[a109_0x408b('0x2b')][a109_0x408b('0x7')]['gamification']?_0x567f9a[a109_0x408b('0x2b')][a109_0x408b('0x7')]['gamification'][a109_0x408b('0x0')]:gamification[a109_0x408b('0x33')])};const _0x164670={'currentLevel':_0x2fe311[a109_0x408b('0x6')]-_0x2abd9e[a109_0x408b('0x47')],'nextLevel':_0x2abd9e[a109_0x408b('0x3c')]-_0x2abd9e[a109_0x408b('0x47')]};const _0x9b8330=_0x164670['currentLevel']/_0x164670[a109_0x408b('0x3c')]*0x64;const _0x2f03b5=constants[a109_0x408b('0x38')](this[a109_0x408b('0x2')][a109_0x408b('0x1f')])&&await badges[a109_0x408b('0x10')](_0x55a3c1['id'])['then'](_0x49fab3=>_0x49fab3[a109_0x408b('0xd')]())[a109_0x408b('0x3f')](()=>{});_0x567f9a[a109_0x408b('0x2d')][a109_0x408b('0x37')]({'embed':{'color':_0x30b9e2[a109_0x408b('0x1e')]||tesseract_1[a109_0x408b('0x1d')][a109_0x408b('0x22')]['IRIS'],'author':{'name':_0x55a3c1[a109_0x408b('0x1f')][a109_0x408b('0xe')]},'title':a109_0x408b('0x13'),'description':(_0x2f03b5&&a109_0x408b('0x31')in _0x2f03b5?badges[a109_0x408b('0x29')](_0x2f03b5[a109_0x408b('0x31')]):[])[a109_0x408b('0x15')](_0x283a43=>_0x283a43['emoji'])[a109_0x408b('0x1a')]('\x20'),'fields':[{'name':a109_0x408b('0x20'),'value':_0x30b9e2[a109_0x408b('0x41')]||'-'},{'name':a109_0x408b('0x2a'),'value':_0x4089ef+0x1,'inline':!![]},{'name':'Level','value':_0x2fe311[a109_0x408b('0x4a')],'inline':!![]},{'name':'Experience','value':_0x2fe311['experience'],'inline':!![]},{'name':a109_0x408b('0xf'),'value':_0x2fe311[a109_0x408b('0x26')],'inline':!![]},{'name':a109_0x408b('0x21'),'value':_0x2fe311[a109_0x408b('0x40')],'inline':!![]},{'name':a109_0x408b('0x9')+_0x164670[a109_0x408b('0x47')]+a109_0x408b('0xa')+_0x164670[a109_0x408b('0x3c')]+'\x20-\x20'+Math[a109_0x408b('0x3')](_0x9b8330)+'%','value':'`'+progress_1[a109_0x408b('0x19')](_0x9b8330,0x23)+'`'},{'name':a109_0x408b('0x25'),'value':_0x30b9e2[a109_0x408b('0x3d')]?_0x30b9e2[a109_0x408b('0x3d')][a109_0x408b('0x12')]():'-','inline':!![]},{'name':'Location','value':_0x30b9e2[a109_0x408b('0x48')]||'-','inline':!![]}],'thumbnail':{'url':_0x55a3c1[a109_0x408b('0x1f')][a109_0x408b('0x30')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x30b9e2[a109_0x408b('0x44')]},'footer':{'text':_0x55a3c1['id']===this['client']['locale'][a109_0x408b('0x42')](a109_0x408b('0x3b'))?a109_0x408b('0x1c'):''}}})[a109_0x408b('0x3f')](()=>{});};}};