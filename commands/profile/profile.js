const a135_0x45a2=['slice','badgeValue','Constants','findOne','errors','experience','Progress\x20-\x20','Karma','author','round','document','exec','profileNotFound','resolveBadges','catch','@bastion/tesseract','fetchBadges','author.discord.id','Rank','Experience','profile\x20--bio\x20TEXT','../../models/User','isPublicBastion','language','1SArpzO','33fdJAWA','json','resolver','length','updateLocation','598649fGIlLw','175583XyVhUd','multiplier','getString','findByIdAndUpdate','1nceHyO','profile','map','findById','default','profile\x20USER','memberNotFound','user','If\x20you\x20know\x20','backdrop','../../utils/constants','test','emoji','gamification','IRIS','resolveGuildMember','1yPSsGP','Bastion\x20Coins','client','about','then','location','Bastion\x20Profile','\x20-\x20','Level','210437cDpEmt','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','DEFAUL_LEVELUP_MULTIPLIER','215541EGaOUY','member','color','countDocuments','../../utils/badges','join','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Command','1RbeYxV','find','constructor','channel','locale','level','6101oIAvMk','updateInfo','profile\x20--location\x20TEXT','nextLevel','260606bQkFPJ','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.\x20It\x20also\x20allows\x20you\x20to\x20edit\x20your\x20profile.','tag','info','COLORS','currentLevel','karma','getConstant','guild','send','computeExperience','207937myIJFE','apply'];const a135_0x52bc=function(_0x1a22d3,_0x10cacc){_0x1a22d3=_0x1a22d3-0x7f;let _0x30c3ca=a135_0x45a2[_0x1a22d3];return _0x30c3ca;};const a135_0xedd007=a135_0x52bc;(function(_0x2d6501,_0x3acaf8){const _0x3755ed=a135_0x52bc;while(!![]){try{const _0x2e4049=-parseInt(_0x3755ed(0x94))*parseInt(_0x3755ed(0xc9))+-parseInt(_0x3755ed(0x9a))+-parseInt(_0x3755ed(0xc3))*parseInt(_0x3755ed(0xcd))+-parseInt(_0x3755ed(0x93))*-parseInt(_0x3755ed(0xd8))+parseInt(_0x3755ed(0xb7))+-parseInt(_0x3755ed(0xbb))*parseInt(_0x3755ed(0x9e))+parseInt(_0x3755ed(0x99))*parseInt(_0x3755ed(0xae));if(_0x2e4049===_0x3acaf8)break;else _0x2d6501['push'](_0x2d6501['shift']());}catch(_0x3117d8){_0x2d6501['push'](_0x2d6501['shift']());}}}(a135_0x45a2,0x28078));const a135_0x22adc5=function(){let _0x589639=!![];return function(_0x16560e,_0x59df02){const _0x4b3d43=_0x589639?function(){const _0x3f8323=a135_0x52bc;if(_0x59df02){const _0x2922c9=_0x59df02[_0x3f8323(0xd9)](_0x16560e,arguments);return _0x59df02=null,_0x2922c9;}}:function(){};return _0x589639=![],_0x4b3d43;};}(),a135_0x17255b=a135_0x22adc5(this,function(){const _0x358afd=function(){const _0x437bbd=a135_0x52bc,_0x44b1ab=_0x358afd[_0x437bbd(0xc5)](_0x437bbd(0xc1))()[_0x437bbd(0xc5)](_0x437bbd(0xb9));return!_0x44b1ab[_0x437bbd(0xa9)](a135_0x17255b);};return _0x358afd();});a135_0x17255b();'use strict';const tesseract_1=require(a135_0xedd007(0x8a)),Member_1=require('../../models/Member'),User_1=require(a135_0xedd007(0x90)),badges=require(a135_0xedd007(0xbf)),constants=require(a135_0xedd007(0xa8)),gamification=require('../../utils/gamification'),progress_1=require('../../utils/progress');module[a135_0xedd007(0xb8)]=class ProfileCommand extends tesseract_1[a135_0xedd007(0xc2)]{constructor(){const _0x231933=a135_0xedd007;super(_0x231933(0x9f),{'description':_0x231933(0xce),'triggers':[],'arguments':{'alias':{'info':[_0x231933(0xb1),'bio']},'array':[_0x231933(0xd0),_0x231933(0xb3)],'string':[_0x231933(0xd0),_0x231933(0xb3)]},'scope':_0x231933(0xd5),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',_0x231933(0xa3),_0x231933(0x8f),_0x231933(0xcb)]}),this[_0x231933(0x86)]=async(_0x405d51,_0x5668cd)=>{const _0x5d8e3c=_0x231933;if(_0x5668cd[_0x5d8e3c(0xd0)]&&_0x5668cd[_0x5d8e3c(0xd0)][_0x5d8e3c(0x97)])return await User_1[_0x5d8e3c(0xa2)][_0x5d8e3c(0x9d)](_0x405d51[_0x5d8e3c(0x83)]['id'],{'info':_0x5668cd[_0x5d8e3c(0xd0)][_0x5d8e3c(0xc0)]('\x20')[_0x5d8e3c(0xda)](0x0,0x100)}),await _0x405d51['channel'][_0x5d8e3c(0xd6)]({'embed':{'color':tesseract_1['Constants'][_0x5d8e3c(0xd1)][_0x5d8e3c(0xac)],'description':this['client'][_0x5d8e3c(0xc7)]['getString'](_0x405d51[_0x5d8e3c(0xd5)]['document'][_0x5d8e3c(0x92)],_0x5d8e3c(0xd0),_0x5d8e3c(0xca),_0x405d51[_0x5d8e3c(0x83)]['tag'])}});if(_0x5668cd[_0x5d8e3c(0xb3)]&&_0x5668cd['location']['length'])return await User_1[_0x5d8e3c(0xa2)]['findByIdAndUpdate'](_0x405d51['author']['id'],{'location':_0x5668cd[_0x5d8e3c(0xb3)]['join']('\x20')[_0x5d8e3c(0xda)](0x0,0x10)}),await _0x405d51[_0x5d8e3c(0xc6)][_0x5d8e3c(0xd6)]({'embed':{'color':tesseract_1[_0x5d8e3c(0xdc)][_0x5d8e3c(0xd1)][_0x5d8e3c(0xac)],'description':this['client'][_0x5d8e3c(0xc7)][_0x5d8e3c(0x9c)](_0x405d51[_0x5d8e3c(0xd5)][_0x5d8e3c(0x85)][_0x5d8e3c(0x92)],_0x5d8e3c(0xd0),_0x5d8e3c(0x98),_0x405d51[_0x5d8e3c(0x83)][_0x5d8e3c(0xcf)])}});const _0x2c62c1=_0x5668cd['_']['length']?_0x5668cd['_'][0x0]:_0x405d51[_0x5d8e3c(0x83)]['id'],_0x3bcb5b=_0x2c62c1===_0x405d51[_0x5d8e3c(0x83)]['id']?_0x405d51[_0x5d8e3c(0xbc)]:this['client'][_0x5d8e3c(0x96)][_0x5d8e3c(0xad)](_0x405d51[_0x5d8e3c(0xd5)],_0x2c62c1);if(!_0x3bcb5b)throw new Error(this['client'][_0x5d8e3c(0xc7)][_0x5d8e3c(0x9c)](_0x405d51[_0x5d8e3c(0xd5)][_0x5d8e3c(0x85)][_0x5d8e3c(0x92)],_0x5d8e3c(0x7f),_0x5d8e3c(0xa4)));const _0x8597d4=_0x2c62c1===_0x405d51['author']['id']?_0x405d51[_0x5d8e3c(0x83)]['document']:await User_1[_0x5d8e3c(0xa2)][_0x5d8e3c(0xa1)](_0x2c62c1),_0x537627=_0x2c62c1===_0x405d51[_0x5d8e3c(0x83)]['id']?_0x3bcb5b[_0x5d8e3c(0x85)]:await Member_1[_0x5d8e3c(0xa2)][_0x5d8e3c(0xdd)]({'user':_0x2c62c1,'guild':_0x405d51[_0x5d8e3c(0xd5)]['id']});if(!_0x8597d4||!_0x537627)throw new Error(this['client'][_0x5d8e3c(0xc7)]['getString'](_0x405d51[_0x5d8e3c(0xd5)]['document'][_0x5d8e3c(0x92)],'errors',_0x5d8e3c(0x87),_0x3bcb5b[_0x5d8e3c(0xa5)][_0x5d8e3c(0xcf)]));const _0x455ece=await Member_1[_0x5d8e3c(0xa2)][_0x5d8e3c(0xc4)]({'guild':_0x405d51[_0x5d8e3c(0xd5)]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[_0x5d8e3c(0xbe)]({'$or':[{'level':{'$gt':_0x537627[_0x5d8e3c(0xc8)]}},{'level':_0x537627[_0x5d8e3c(0xc8)],'experience':{'$gt':_0x537627[_0x5d8e3c(0x80)]}},{'level':_0x537627[_0x5d8e3c(0xc8)],'experience':_0x537627[_0x5d8e3c(0x80)],'karma':{'$gt':_0x537627[_0x5d8e3c(0xd3)]}},{'level':_0x537627['level'],'experience':_0x537627[_0x5d8e3c(0x80)],'karma':_0x537627[_0x5d8e3c(0xd3)],'balance':{'$gt':_0x537627['balance']}}]}),_0x369364={'currentLevel':gamification[_0x5d8e3c(0xd7)](_0x537627[_0x5d8e3c(0xc8)],_0x405d51['guild']['document']['gamification']?_0x405d51[_0x5d8e3c(0xd5)][_0x5d8e3c(0x85)][_0x5d8e3c(0xab)][_0x5d8e3c(0x9b)]:gamification['DEFAUL_LEVELUP_MULTIPLIER']),'nextLevel':gamification[_0x5d8e3c(0xd7)](_0x537627[_0x5d8e3c(0xc8)]+0x1,_0x405d51[_0x5d8e3c(0xd5)][_0x5d8e3c(0x85)]['gamification']?_0x405d51[_0x5d8e3c(0xd5)][_0x5d8e3c(0x85)][_0x5d8e3c(0xab)][_0x5d8e3c(0x9b)]:gamification[_0x5d8e3c(0xba)])},_0x34d0ac={'currentLevel':_0x537627[_0x5d8e3c(0x80)]-_0x369364[_0x5d8e3c(0xd2)],'nextLevel':_0x369364['nextLevel']-_0x369364['currentLevel']},_0x39b181=_0x34d0ac[_0x5d8e3c(0xd2)]/_0x34d0ac['nextLevel']*0x64,_0xbd22fd=constants[_0x5d8e3c(0x91)](this[_0x5d8e3c(0xb0)][_0x5d8e3c(0xa5)])&&await badges[_0x5d8e3c(0x8b)](_0x3bcb5b['id'])[_0x5d8e3c(0xb2)](_0x39ba33=>_0x39ba33[_0x5d8e3c(0x95)]())[_0x5d8e3c(0x89)](()=>{});_0x405d51['channel'][_0x5d8e3c(0xd6)]({'embed':{'color':_0x8597d4[_0x5d8e3c(0xbd)]||tesseract_1['Constants'][_0x5d8e3c(0xd1)]['IRIS'],'author':{'name':_0x3bcb5b[_0x5d8e3c(0xa5)][_0x5d8e3c(0xcf)]},'title':_0x5d8e3c(0xb4),'description':(_0xbd22fd&&_0x5d8e3c(0xdb)in _0xbd22fd?badges[_0x5d8e3c(0x88)](_0xbd22fd[_0x5d8e3c(0xdb)]):[])[_0x5d8e3c(0xa0)](_0xa54cde=>_0xa54cde[_0x5d8e3c(0xaa)])[_0x5d8e3c(0xc0)]('\x20')+'\x0a\x0a'+(_0x8597d4[_0x5d8e3c(0xd0)]?_0x8597d4[_0x5d8e3c(0xd0)]:''),'fields':[{'name':_0x5d8e3c(0x8d),'value':_0x455ece+0x1,'inline':!![]},{'name':_0x5d8e3c(0xb6),'value':_0x537627[_0x5d8e3c(0xc8)],'inline':!![]},{'name':_0x5d8e3c(0x8e),'value':_0x537627['experience'],'inline':!![]},{'name':_0x5d8e3c(0x82),'value':_0x537627[_0x5d8e3c(0xd3)],'inline':!![]},{'name':_0x5d8e3c(0xaf),'value':_0x537627['balance'],'inline':!![]},{'name':'Location','value':_0x8597d4[_0x5d8e3c(0xb3)]||'-','inline':!![]},{'name':_0x5d8e3c(0x81)+_0x34d0ac[_0x5d8e3c(0xd2)]+'\x20/\x20'+_0x34d0ac[_0x5d8e3c(0xcc)]+_0x5d8e3c(0xb5)+Math[_0x5d8e3c(0x84)](_0x39b181)+'%','value':'`'+progress_1[_0x5d8e3c(0xa2)](_0x39b181,0x23)+'`'}],'thumbnail':{'url':_0x3bcb5b['user']['displayAvatarURL']({'dynamic':!![],'size':0x200})},'image':{'url':_0x8597d4[_0x5d8e3c(0xa7)]},'footer':{'text':_0x3bcb5b['id']===this['client']['locale'][_0x5d8e3c(0xd4)](_0x5d8e3c(0x8c))?'':_0x5d8e3c(0xa6)+_0x3bcb5b['displayName']+',\x20send\x20them\x20a\x20message.'}}})[_0x5d8e3c(0x89)](()=>{});};}};