const a111_0x1cd5=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','author','findOne','user','emoji','profile','Rank','fetchBadges','resolver','locale','DEFAUL_LEVELUP_MULTIPLIER','json','Karma','default','Level','balance','multiplier','../../utils/progress','../../utils/badges','computeExperience','errors','gamification','document','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','COLORS','apply','experience','findById','profileNotFound','then','location','IRIS','guild','../../utils/constants','level','cakeDay','resolveGuildMember','exec','catch','client','exports','Bastion\x20Profile','info','nextLevel','constructor','displayAvatarURL','profile\x20USER','@bastion/tesseract','currentLevel','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','Constants','test','isPublicBastion','\x20-\x20','badgeValue','join','toDateString','find','getString','memberNotFound','About','countDocuments','karma','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','../../models/User','Experience','language','color','getConstant','Cake\x20Day','backdrop'];(function(_0x2be112,_0x1cd570){const _0x4bcd23=function(_0x8f6d4e){while(--_0x8f6d4e){_0x2be112['push'](_0x2be112['shift']());}},_0x432eb7=function(){const _0x1e8cee={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x7a3335,_0x1da57a,_0x3fdc7d,_0x148bc1){_0x148bc1=_0x148bc1||{};let _0x906844=_0x1da57a+'='+_0x3fdc7d,_0x31ed9e=0x0;for(let _0x377e20=0x0,_0x5d0494=_0x7a3335['length'];_0x377e20<_0x5d0494;_0x377e20++){const _0x2e8cfb=_0x7a3335[_0x377e20];_0x906844+=';\x20'+_0x2e8cfb;const _0x19a6e6=_0x7a3335[_0x2e8cfb];_0x7a3335['push'](_0x19a6e6),_0x5d0494=_0x7a3335['length'],_0x19a6e6!==!![]&&(_0x906844+='='+_0x19a6e6);}_0x148bc1['cookie']=_0x906844;},'removeCookie':function(){return'dev';},'getCookie':function(_0xf30ea0,_0x5b8e76){_0xf30ea0=_0xf30ea0||function(_0x2aaf3a){return _0x2aaf3a;};const _0x36d4e0=_0xf30ea0(new RegExp('(?:^|;\x20)'+_0x5b8e76['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x41cb77=function(_0x584d10,_0x1b8c12){_0x584d10(++_0x1b8c12);};return _0x41cb77(_0x4bcd23,_0x1cd570),_0x36d4e0?decodeURIComponent(_0x36d4e0[0x1]):undefined;}},_0x1d6f7f=function(){const _0x1ffe1d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1ffe1d['test'](_0x1e8cee['removeCookie']['toString']());};_0x1e8cee['updateCookie']=_0x1d6f7f;let _0x50fb8c='';const _0x4dbe05=_0x1e8cee['updateCookie']();if(!_0x4dbe05)_0x1e8cee['setCookie'](['*'],'counter',0x1);else _0x4dbe05?_0x50fb8c=_0x1e8cee['getCookie'](null,'counter'):_0x1e8cee['removeCookie']();};_0x432eb7();}(a111_0x1cd5,0x11c));const a111_0x4bcd=function(_0x2be112,_0x1cd570){_0x2be112=_0x2be112-0x0;let _0x4bcd23=a111_0x1cd5[_0x2be112];return _0x4bcd23;};const a111_0x3fdc7d=function(){let _0x445311=!![];return function(_0x34c469,_0x2964ee){const _0x3addf8=_0x445311?function(){if(_0x2964ee){const _0x585054=_0x2964ee[a111_0x4bcd('0x19')](_0x34c469,arguments);return _0x2964ee=null,_0x585054;}}:function(){};return _0x445311=![],_0x3addf8;};}(),a111_0x1da57a=a111_0x3fdc7d(this,function(){const _0x4ed253=function(){const _0xf6afa=_0x4ed253[a111_0x4bcd('0x2c')](a111_0x4bcd('0x0'))()['constructor'](a111_0x4bcd('0x17'));return!_0xf6afa[a111_0x4bcd('0x33')](a111_0x1da57a);};return _0x4ed253();});a111_0x1da57a();'use strict';const tesseract_1=require(a111_0x4bcd('0x2f')),Member_1=require('../../models/Member'),User_1=require(a111_0x4bcd('0x40')),badges=require(a111_0x4bcd('0x12')),constants=require(a111_0x4bcd('0x21')),gamification=require('../../utils/gamification'),progress_1=require(a111_0x4bcd('0x11'));module[a111_0x4bcd('0x28')]=class ProfileCommand extends tesseract_1['Command']{constructor(){super(a111_0x4bcd('0x5'),{'description':a111_0x4bcd('0x31'),'triggers':[],'arguments':{},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',a111_0x4bcd('0x2e')]}),this[a111_0x4bcd('0x25')]=async(_0x1fef26,_0x565aaf)=>{const _0x14ada7=_0x565aaf['_']['length']?_0x565aaf['_'][0x0]:_0x1fef26['author']['id'],_0x5ce9e6=_0x14ada7===_0x1fef26[a111_0x4bcd('0x1')]['id']?_0x1fef26['member']:this['client'][a111_0x4bcd('0x8')][a111_0x4bcd('0x24')](_0x1fef26[a111_0x4bcd('0x20')],_0x14ada7);if(!_0x5ce9e6)throw new Error(this['client']['locale'][a111_0x4bcd('0x3a')](_0x1fef26[a111_0x4bcd('0x20')][a111_0x4bcd('0x16')][a111_0x4bcd('0x42')],a111_0x4bcd('0x14'),a111_0x4bcd('0x3b')));const _0x2ef416=_0x14ada7===_0x1fef26['author']['id']?_0x1fef26[a111_0x4bcd('0x1')][a111_0x4bcd('0x16')]:await User_1['default'][a111_0x4bcd('0x1b')](_0x14ada7),_0x13bd5e=_0x14ada7===_0x1fef26['author']['id']?_0x5ce9e6[a111_0x4bcd('0x16')]:await Member_1[a111_0x4bcd('0xd')][a111_0x4bcd('0x2')]({'user':_0x14ada7,'guild':_0x1fef26[a111_0x4bcd('0x20')]['id']});if(!_0x2ef416||!_0x13bd5e)throw new Error(this[a111_0x4bcd('0x27')]['locale'][a111_0x4bcd('0x3a')](_0x1fef26[a111_0x4bcd('0x20')][a111_0x4bcd('0x16')][a111_0x4bcd('0x42')],a111_0x4bcd('0x14'),a111_0x4bcd('0x1c')));const _0x276164=await Member_1[a111_0x4bcd('0xd')][a111_0x4bcd('0x39')]({'guild':_0x1fef26[a111_0x4bcd('0x20')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a111_0x4bcd('0x3d')]({'$or':[{'level':{'$gt':_0x13bd5e[a111_0x4bcd('0x22')]}},{'level':_0x13bd5e[a111_0x4bcd('0x22')],'experience':{'$gt':_0x13bd5e['experience']}},{'level':_0x13bd5e[a111_0x4bcd('0x22')],'experience':_0x13bd5e['experience'],'karma':{'$gt':_0x13bd5e[a111_0x4bcd('0x3e')]}},{'level':_0x13bd5e[a111_0x4bcd('0x22')],'experience':_0x13bd5e[a111_0x4bcd('0x1a')],'karma':_0x13bd5e[a111_0x4bcd('0x3e')],'balance':{'$gt':_0x13bd5e['balance']}}]}),_0x41e6e6={'currentLevel':gamification[a111_0x4bcd('0x13')](_0x13bd5e[a111_0x4bcd('0x22')],_0x1fef26[a111_0x4bcd('0x20')][a111_0x4bcd('0x16')][a111_0x4bcd('0x15')]?_0x1fef26[a111_0x4bcd('0x20')][a111_0x4bcd('0x16')]['gamification'][a111_0x4bcd('0x10')]:gamification[a111_0x4bcd('0xa')]),'nextLevel':gamification[a111_0x4bcd('0x13')](_0x13bd5e[a111_0x4bcd('0x22')]+0x1,_0x1fef26[a111_0x4bcd('0x20')][a111_0x4bcd('0x16')]['gamification']?_0x1fef26[a111_0x4bcd('0x20')]['document'][a111_0x4bcd('0x15')][a111_0x4bcd('0x10')]:gamification[a111_0x4bcd('0xa')])},_0x11cb47={'currentLevel':_0x13bd5e[a111_0x4bcd('0x1a')]-_0x41e6e6[a111_0x4bcd('0x30')],'nextLevel':_0x41e6e6[a111_0x4bcd('0x2b')]-_0x41e6e6[a111_0x4bcd('0x30')]},_0x197e33=_0x11cb47[a111_0x4bcd('0x30')]/_0x11cb47[a111_0x4bcd('0x2b')]*0x64,_0x56bd48=constants[a111_0x4bcd('0x34')](this[a111_0x4bcd('0x27')][a111_0x4bcd('0x3')])&&await badges[a111_0x4bcd('0x7')](_0x5ce9e6['id'])[a111_0x4bcd('0x1d')](_0x3529e1=>_0x3529e1[a111_0x4bcd('0xb')]())['catch'](()=>{});_0x1fef26['channel']['send']({'embed':{'color':_0x2ef416[a111_0x4bcd('0x43')]||tesseract_1[a111_0x4bcd('0x32')][a111_0x4bcd('0x18')][a111_0x4bcd('0x1f')],'author':{'name':_0x5ce9e6[a111_0x4bcd('0x3')]['tag']},'title':a111_0x4bcd('0x29'),'description':(_0x56bd48&&a111_0x4bcd('0x36')in _0x56bd48?badges['resolveBadges'](_0x56bd48[a111_0x4bcd('0x36')]):[])['map'](_0x240be3=>_0x240be3[a111_0x4bcd('0x4')])[a111_0x4bcd('0x37')]('\x20'),'fields':[{'name':a111_0x4bcd('0x3c'),'value':_0x2ef416[a111_0x4bcd('0x2a')]||'-'},{'name':a111_0x4bcd('0x6'),'value':_0x276164+0x1,'inline':!![]},{'name':a111_0x4bcd('0xe'),'value':_0x13bd5e[a111_0x4bcd('0x22')],'inline':!![]},{'name':a111_0x4bcd('0x41'),'value':_0x13bd5e[a111_0x4bcd('0x1a')],'inline':!![]},{'name':a111_0x4bcd('0xc'),'value':_0x13bd5e['karma'],'inline':!![]},{'name':'Bastion\x20Coins','value':_0x13bd5e[a111_0x4bcd('0xf')],'inline':!![]},{'name':'Progress\x20-\x20'+_0x11cb47[a111_0x4bcd('0x30')]+'\x20/\x20'+_0x11cb47['nextLevel']+a111_0x4bcd('0x35')+Math['round'](_0x197e33)+'%','value':'`'+progress_1[a111_0x4bcd('0xd')](_0x197e33,0x23)+'`'},{'name':a111_0x4bcd('0x45'),'value':_0x2ef416[a111_0x4bcd('0x23')]?_0x2ef416[a111_0x4bcd('0x23')][a111_0x4bcd('0x38')]():'-','inline':!![]},{'name':'Location','value':_0x2ef416[a111_0x4bcd('0x1e')]||'-','inline':!![]}],'thumbnail':{'url':_0x5ce9e6[a111_0x4bcd('0x3')][a111_0x4bcd('0x2d')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x2ef416[a111_0x4bcd('0x46')]},'footer':{'text':_0x5ce9e6['id']===this[a111_0x4bcd('0x27')][a111_0x4bcd('0x9')][a111_0x4bcd('0x44')]('author.discord.id')?a111_0x4bcd('0x3f'):''}}})[a111_0x4bcd('0x26')](()=>{});};}};