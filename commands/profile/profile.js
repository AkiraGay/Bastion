const a135_0x51f5=['profile\x20--bio\x20TEXT','resolveBadges','\x20/\x20','../../models/Member','DEFAUL_LEVELUP_MULTIPLIER','exec','getString','displayName','experience','default','Level','Location','about','findById','locale','language','Constants','updateInfo','map','member','test','COLORS','countDocuments','profile\x20USER','profileNotFound','computeExperience','info','location','author.discord.id','IRIS','Karma','resolver','Bastion\x20Profile','profile','client','user','join','level','channel','balance','length','currentLevel','Rank',',\x20send\x20them\x20a\x20message.','author','Command','slice','badgeValue','document','multiplier','fetchBadges','guild','../../utils/constants','bio','apply','backdrop','tag','nextLevel','../../utils/badges','If\x20you\x20know\x20','send','../../models/User','\x20-\x20','constructor','gamification','emoji','Experience','../../utils/gamification','karma','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.\x20It\x20also\x20allows\x20you\x20to\x20edit\x20your\x20profile.','then','findByIdAndUpdate','Bastion\x20Coins','json'];(function(_0x17ff09,_0x324719){const _0x51f50f=function(_0x3945bb){while(--_0x3945bb){_0x17ff09['push'](_0x17ff09['shift']());}},_0x451e1e=function(){const _0xfa8efa={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x17f44c,_0x5c0f24,_0x3dfa1c,_0x224095){_0x224095=_0x224095||{};let _0x346b1b=_0x5c0f24+'='+_0x3dfa1c,_0x3c5ddc=0x0;for(let _0x2bbfe1=0x0,_0x4ae3f1=_0x17f44c['length'];_0x2bbfe1<_0x4ae3f1;_0x2bbfe1++){const _0x5a6e68=_0x17f44c[_0x2bbfe1];_0x346b1b+=';\x20'+_0x5a6e68;const _0x5cebc=_0x17f44c[_0x5a6e68];_0x17f44c['push'](_0x5cebc),_0x4ae3f1=_0x17f44c['length'],_0x5cebc!==!![]&&(_0x346b1b+='='+_0x5cebc);}_0x224095['cookie']=_0x346b1b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x222de4,_0x306938){_0x222de4=_0x222de4||function(_0x56dbc9){return _0x56dbc9;};const _0x3cd34f=_0x222de4(new RegExp('(?:^|;\x20)'+_0x306938['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3623da=function(_0x144f6e,_0x115966){_0x144f6e(++_0x115966);};return _0x3623da(_0x51f50f,_0x324719),_0x3cd34f?decodeURIComponent(_0x3cd34f[0x1]):undefined;}},_0x2963fd=function(){const _0x472a58=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x472a58['test'](_0xfa8efa['removeCookie']['toString']());};_0xfa8efa['updateCookie']=_0x2963fd;let _0x3c97bd='';const _0x549b9f=_0xfa8efa['updateCookie']();if(!_0x549b9f)_0xfa8efa['setCookie'](['*'],'counter',0x1);else _0x549b9f?_0x3c97bd=_0xfa8efa['getCookie'](null,'counter'):_0xfa8efa['removeCookie']();};_0x451e1e();}(a135_0x51f5,0x9b));const a135_0x451e=function(_0x17ff09,_0x324719){_0x17ff09=_0x17ff09-0xa7;let _0x51f50f=a135_0x51f5[_0x17ff09];return _0x51f50f;};const a135_0x50fac7=a135_0x451e,a135_0x2963fd=function(){let _0x549b9f=!![];return function(_0x17f44c,_0x5c0f24){const _0x3dfa1c=_0x549b9f?function(){const _0x3b22ef=a135_0x451e;if(_0x5c0f24){const _0x224095=_0x5c0f24[_0x3b22ef(0xd6)](_0x17f44c,arguments);return _0x5c0f24=null,_0x224095;}}:function(){};return _0x549b9f=![],_0x3dfa1c;};}(),a135_0xfa8efa=a135_0x2963fd(this,function(){const _0x346b1b=function(){const _0x2c01ec=a135_0x451e,_0x3c5ddc=_0x346b1b[_0x2c01ec(0xdf)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x2c01ec(0xdf)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3c5ddc[_0x2c01ec(0xb4)](a135_0xfa8efa);};return _0x346b1b();});a135_0xfa8efa();'use strict';const tesseract_1=require('@bastion/tesseract'),Member_1=require(a135_0x50fac7(0xed)),User_1=require(a135_0x50fac7(0xdd)),badges=require(a135_0x50fac7(0xda)),constants=require(a135_0x50fac7(0xd4)),gamification=require(a135_0x50fac7(0xe3)),progress_1=require('../../utils/progress');module['exports']=class ProfileCommand extends tesseract_1[a135_0x50fac7(0xcd)]{constructor(){const _0xad7c08=a135_0x50fac7;super(_0xad7c08(0xc1),{'description':_0xad7c08(0xe5),'triggers':[],'arguments':{'alias':{'info':[_0xad7c08(0xac),_0xad7c08(0xd5)]},'array':['info',_0xad7c08(0xbb)],'string':[_0xad7c08(0xba),_0xad7c08(0xbb)]},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0xad7c08(0xc1),_0xad7c08(0xb7),_0xad7c08(0xea),'profile\x20--location\x20TEXT']}),this[_0xad7c08(0xef)]=async(_0x2bbfe1,_0x4ae3f1)=>{const _0x41b85b=_0xad7c08;if(_0x4ae3f1[_0x41b85b(0xba)]&&_0x4ae3f1[_0x41b85b(0xba)][_0x41b85b(0xc8)])return await User_1[_0x41b85b(0xa9)][_0x41b85b(0xe7)](_0x2bbfe1[_0x41b85b(0xcc)]['id'],{'info':_0x4ae3f1[_0x41b85b(0xba)][_0x41b85b(0xc4)]('\x20')[_0x41b85b(0xce)](0x0,0x100)}),await _0x2bbfe1[_0x41b85b(0xc6)][_0x41b85b(0xdc)]({'embed':{'color':tesseract_1[_0x41b85b(0xb0)][_0x41b85b(0xb5)][_0x41b85b(0xbd)],'description':this['client'][_0x41b85b(0xae)]['getString'](_0x2bbfe1[_0x41b85b(0xd3)][_0x41b85b(0xd0)][_0x41b85b(0xaf)],_0x41b85b(0xba),_0x41b85b(0xb1),_0x2bbfe1[_0x41b85b(0xcc)]['tag'])}});if(_0x4ae3f1[_0x41b85b(0xbb)]&&_0x4ae3f1[_0x41b85b(0xbb)][_0x41b85b(0xc8)])return await User_1[_0x41b85b(0xa9)][_0x41b85b(0xe7)](_0x2bbfe1[_0x41b85b(0xcc)]['id'],{'location':_0x4ae3f1[_0x41b85b(0xbb)][_0x41b85b(0xc4)]('\x20')[_0x41b85b(0xce)](0x0,0x10)}),await _0x2bbfe1[_0x41b85b(0xc6)]['send']({'embed':{'color':tesseract_1[_0x41b85b(0xb0)]['COLORS'][_0x41b85b(0xbd)],'description':this['client'][_0x41b85b(0xae)][_0x41b85b(0xf0)](_0x2bbfe1['guild'][_0x41b85b(0xd0)]['language'],_0x41b85b(0xba),'updateLocation',_0x2bbfe1['author'][_0x41b85b(0xd8)])}});const _0x5a6e68=_0x4ae3f1['_']['length']?_0x4ae3f1['_'][0x0]:_0x2bbfe1[_0x41b85b(0xcc)]['id'],_0x5cebc=_0x5a6e68===_0x2bbfe1[_0x41b85b(0xcc)]['id']?_0x2bbfe1[_0x41b85b(0xb3)]:this[_0x41b85b(0xc2)][_0x41b85b(0xbf)]['resolveGuildMember'](_0x2bbfe1[_0x41b85b(0xd3)],_0x5a6e68);if(!_0x5cebc)throw new Error(this[_0x41b85b(0xc2)][_0x41b85b(0xae)]['getString'](_0x2bbfe1[_0x41b85b(0xd3)][_0x41b85b(0xd0)][_0x41b85b(0xaf)],'errors','memberNotFound'));const _0x222de4=_0x5a6e68===_0x2bbfe1[_0x41b85b(0xcc)]['id']?_0x2bbfe1['author'][_0x41b85b(0xd0)]:await User_1[_0x41b85b(0xa9)][_0x41b85b(0xad)](_0x5a6e68),_0x306938=_0x5a6e68===_0x2bbfe1['author']['id']?_0x5cebc[_0x41b85b(0xd0)]:await Member_1[_0x41b85b(0xa9)]['findOne']({'user':_0x5a6e68,'guild':_0x2bbfe1[_0x41b85b(0xd3)]['id']});if(!_0x222de4||!_0x306938)throw new Error(this['client'][_0x41b85b(0xae)][_0x41b85b(0xf0)](_0x2bbfe1[_0x41b85b(0xd3)][_0x41b85b(0xd0)][_0x41b85b(0xaf)],'errors',_0x41b85b(0xb8),_0x5cebc[_0x41b85b(0xc3)][_0x41b85b(0xd8)]));const _0x3cd34f=await Member_1['default']['find']({'guild':_0x2bbfe1[_0x41b85b(0xd3)]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[_0x41b85b(0xb6)]({'$or':[{'level':{'$gt':_0x306938[_0x41b85b(0xc5)]}},{'level':_0x306938[_0x41b85b(0xc5)],'experience':{'$gt':_0x306938[_0x41b85b(0xa8)]}},{'level':_0x306938[_0x41b85b(0xc5)],'experience':_0x306938[_0x41b85b(0xa8)],'karma':{'$gt':_0x306938[_0x41b85b(0xe4)]}},{'level':_0x306938[_0x41b85b(0xc5)],'experience':_0x306938[_0x41b85b(0xa8)],'karma':_0x306938['karma'],'balance':{'$gt':_0x306938[_0x41b85b(0xc7)]}}]}),_0x3623da={'currentLevel':gamification['computeExperience'](_0x306938[_0x41b85b(0xc5)],_0x2bbfe1[_0x41b85b(0xd3)]['document'][_0x41b85b(0xe0)]?_0x2bbfe1[_0x41b85b(0xd3)][_0x41b85b(0xd0)][_0x41b85b(0xe0)][_0x41b85b(0xd1)]:gamification[_0x41b85b(0xee)]),'nextLevel':gamification[_0x41b85b(0xb9)](_0x306938['level']+0x1,_0x2bbfe1[_0x41b85b(0xd3)][_0x41b85b(0xd0)]['gamification']?_0x2bbfe1['guild'][_0x41b85b(0xd0)][_0x41b85b(0xe0)][_0x41b85b(0xd1)]:gamification[_0x41b85b(0xee)])},_0x56dbc9={'currentLevel':_0x306938[_0x41b85b(0xa8)]-_0x3623da[_0x41b85b(0xc9)],'nextLevel':_0x3623da[_0x41b85b(0xd9)]-_0x3623da['currentLevel']},_0x144f6e=_0x56dbc9['currentLevel']/_0x56dbc9[_0x41b85b(0xd9)]*0x64,_0x115966=constants['isPublicBastion'](this[_0x41b85b(0xc2)][_0x41b85b(0xc3)])&&await badges[_0x41b85b(0xd2)](_0x5cebc['id'])[_0x41b85b(0xe6)](_0x472a58=>_0x472a58[_0x41b85b(0xe9)]())['catch'](()=>{});_0x2bbfe1[_0x41b85b(0xc6)][_0x41b85b(0xdc)]({'embed':{'color':_0x222de4['color']||tesseract_1['Constants']['COLORS'][_0x41b85b(0xbd)],'author':{'name':_0x5cebc['user']['tag']},'title':_0x41b85b(0xc0),'description':(_0x115966&&_0x41b85b(0xcf)in _0x115966?badges[_0x41b85b(0xeb)](_0x115966['badgeValue']):[])[_0x41b85b(0xb2)](_0x1bdf3f=>_0x1bdf3f[_0x41b85b(0xe1)])[_0x41b85b(0xc4)]('\x20')+'\x0a\x0a'+(_0x222de4[_0x41b85b(0xba)]?_0x222de4[_0x41b85b(0xba)]:''),'fields':[{'name':_0x41b85b(0xca),'value':_0x3cd34f+0x1,'inline':!![]},{'name':_0x41b85b(0xaa),'value':_0x306938['level'],'inline':!![]},{'name':_0x41b85b(0xe2),'value':_0x306938[_0x41b85b(0xa8)],'inline':!![]},{'name':_0x41b85b(0xbe),'value':_0x306938['karma'],'inline':!![]},{'name':_0x41b85b(0xe8),'value':_0x306938[_0x41b85b(0xc7)],'inline':!![]},{'name':_0x41b85b(0xab),'value':_0x222de4[_0x41b85b(0xbb)]||'-','inline':!![]},{'name':'Progress\x20-\x20'+_0x56dbc9[_0x41b85b(0xc9)]+_0x41b85b(0xec)+_0x56dbc9[_0x41b85b(0xd9)]+_0x41b85b(0xde)+Math['round'](_0x144f6e)+'%','value':'`'+progress_1[_0x41b85b(0xa9)](_0x144f6e,0x23)+'`'}],'thumbnail':{'url':_0x5cebc[_0x41b85b(0xc3)]['displayAvatarURL']({'dynamic':!![],'size':0x200})},'image':{'url':_0x222de4[_0x41b85b(0xd7)]},'footer':{'text':_0x5cebc['id']===this[_0x41b85b(0xc2)][_0x41b85b(0xae)]['getConstant'](_0x41b85b(0xbc))?'':_0x41b85b(0xdb)+_0x5cebc[_0x41b85b(0xa7)]+_0x41b85b(0xcb)}}})['catch'](()=>{});};}};