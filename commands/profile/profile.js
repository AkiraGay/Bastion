const a135_0x2b24=['Bastion\x20Profile','gamification','constructor','locale','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','then','resolveBadges','../../utils/constants','guild','IRIS','emoji','\x20-\x20','catch','document','isPublicBastion','profile','errors','join','badgeValue','DEFAUL_LEVELUP_MULTIPLIER','Experience','round','computeExperience','toDateString','Rank','default','resolveGuildMember','\x20/\x20','karma','channel','experience','fetchBadges','Progress\x20-\x20','location','apply','member','About','Cake\x20Day','author','countDocuments','../../models/User','multiplier','profile\x20USER','Karma','send','../../utils/gamification','@bastion/tesseract','language','exec','cakeDay','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','getString','Constants','level','author.discord.id','getConstant','findOne','Command','nextLevel','client','../../utils/badges','test','tag','currentLevel','length','displayAvatarURL','findById','balance','map','../../models/Member','json','../../utils/progress','user'];(function(_0x4c9e94,_0x2b3c51){const _0x2b246b=function(_0x5433cd){while(--_0x5433cd){_0x4c9e94['push'](_0x4c9e94['shift']());}},_0x16994a=function(){const _0x546c81={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x23b48d,_0x487d9b,_0x1e196d,_0x59709c){_0x59709c=_0x59709c||{};let _0x3aca37=_0x487d9b+'='+_0x1e196d,_0x46ce72=0x0;for(let _0x3d80dd=0x0,_0x186a9d=_0x23b48d['length'];_0x3d80dd<_0x186a9d;_0x3d80dd++){const _0x1632e6=_0x23b48d[_0x3d80dd];_0x3aca37+=';\x20'+_0x1632e6;const _0x449aab=_0x23b48d[_0x1632e6];_0x23b48d['push'](_0x449aab),_0x186a9d=_0x23b48d['length'],_0x449aab!==!![]&&(_0x3aca37+='='+_0x449aab);}_0x59709c['cookie']=_0x3aca37;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1d0504,_0x143fbf){_0x1d0504=_0x1d0504||function(_0x37ac5c){return _0x37ac5c;};const _0x1c2706=_0x1d0504(new RegExp('(?:^|;\x20)'+_0x143fbf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x58467a=function(_0x3e0cf2,_0x14434f){_0x3e0cf2(++_0x14434f);};return _0x58467a(_0x2b246b,_0x2b3c51),_0x1c2706?decodeURIComponent(_0x1c2706[0x1]):undefined;}},_0xab29a8=function(){const _0x51d222=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x51d222['test'](_0x546c81['removeCookie']['toString']());};_0x546c81['updateCookie']=_0xab29a8;let _0x57a0be='';const _0x4baf44=_0x546c81['updateCookie']();if(!_0x4baf44)_0x546c81['setCookie'](['*'],'counter',0x1);else _0x4baf44?_0x57a0be=_0x546c81['getCookie'](null,'counter'):_0x546c81['removeCookie']();};_0x16994a();}(a135_0x2b24,0x1b7));const a135_0x1699=function(_0x4c9e94,_0x2b3c51){_0x4c9e94=_0x4c9e94-0x71;let _0x2b246b=a135_0x2b24[_0x4c9e94];return _0x2b246b;};const a135_0x573a02=a135_0x1699,a135_0xab29a8=function(){let _0x4baf44=!![];return function(_0x23b48d,_0x487d9b){const _0x1e196d=_0x4baf44?function(){const _0x243572=a135_0x1699;if(_0x487d9b){const _0x59709c=_0x487d9b[_0x243572(0x99)](_0x23b48d,arguments);return _0x487d9b=null,_0x59709c;}}:function(){};return _0x4baf44=![],_0x1e196d;};}(),a135_0x546c81=a135_0xab29a8(this,function(){const _0x3aca37=function(){const _0x305830=a135_0x1699,_0x46ce72=_0x3aca37[_0x305830(0x78)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x305830(0x78)](_0x305830(0x7a));return!_0x46ce72[_0x305830(0xb4)](a135_0x546c81);};return _0x3aca37();});a135_0x546c81();'use strict';const tesseract_1=require(a135_0x573a02(0xa5)),Member_1=require(a135_0x573a02(0x72)),User_1=require(a135_0x573a02(0x9f)),badges=require(a135_0x573a02(0xb3)),constants=require(a135_0x573a02(0x7e)),gamification=require(a135_0x573a02(0xa4)),progress_1=require(a135_0x573a02(0x74));module['exports']=class ProfileCommand extends tesseract_1[a135_0x573a02(0xb0)]{constructor(){const _0x31d4d5=a135_0x573a02;super(_0x31d4d5(0x86),{'description':_0x31d4d5(0xa9),'triggers':[],'arguments':{},'scope':_0x31d4d5(0x7f),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[_0x31d4d5(0x86),_0x31d4d5(0xa1)]}),this[_0x31d4d5(0xa7)]=async(_0x3d80dd,_0x186a9d)=>{const _0xc36371=_0x31d4d5,_0x1632e6=_0x186a9d['_'][_0xc36371(0xb7)]?_0x186a9d['_'][0x0]:_0x3d80dd['author']['id'],_0x449aab=_0x1632e6===_0x3d80dd['author']['id']?_0x3d80dd[_0xc36371(0x9a)]:this[_0xc36371(0xb2)]['resolver'][_0xc36371(0x91)](_0x3d80dd[_0xc36371(0x7f)],_0x1632e6);if(!_0x449aab)throw new Error(this['client'][_0xc36371(0x79)][_0xc36371(0xaa)](_0x3d80dd[_0xc36371(0x7f)][_0xc36371(0x84)][_0xc36371(0xa6)],_0xc36371(0x87),'memberNotFound'));const _0x1d0504=_0x1632e6===_0x3d80dd[_0xc36371(0x9d)]['id']?_0x3d80dd['author'][_0xc36371(0x84)]:await User_1[_0xc36371(0x90)][_0xc36371(0xb9)](_0x1632e6),_0x143fbf=_0x1632e6===_0x3d80dd[_0xc36371(0x9d)]['id']?_0x449aab[_0xc36371(0x84)]:await Member_1['default'][_0xc36371(0xaf)]({'user':_0x1632e6,'guild':_0x3d80dd['guild']['id']});if(!_0x1d0504||!_0x143fbf)throw new Error(this[_0xc36371(0xb2)]['locale']['getString'](_0x3d80dd['guild']['document'][_0xc36371(0xa6)],_0xc36371(0x87),'profileNotFound',_0x449aab['user']['tag']));const _0x1c2706=await Member_1['default']['find']({'guild':_0x3d80dd['guild']['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[_0xc36371(0x9e)]({'$or':[{'level':{'$gt':_0x143fbf[_0xc36371(0xac)]}},{'level':_0x143fbf[_0xc36371(0xac)],'experience':{'$gt':_0x143fbf[_0xc36371(0x95)]}},{'level':_0x143fbf[_0xc36371(0xac)],'experience':_0x143fbf[_0xc36371(0x95)],'karma':{'$gt':_0x143fbf['karma']}},{'level':_0x143fbf[_0xc36371(0xac)],'experience':_0x143fbf['experience'],'karma':_0x143fbf[_0xc36371(0x93)],'balance':{'$gt':_0x143fbf[_0xc36371(0xba)]}}]}),_0x58467a={'currentLevel':gamification[_0xc36371(0x8d)](_0x143fbf[_0xc36371(0xac)],_0x3d80dd[_0xc36371(0x7f)][_0xc36371(0x84)][_0xc36371(0x77)]?_0x3d80dd[_0xc36371(0x7f)]['document'][_0xc36371(0x77)][_0xc36371(0xa0)]:gamification[_0xc36371(0x8a)]),'nextLevel':gamification[_0xc36371(0x8d)](_0x143fbf[_0xc36371(0xac)]+0x1,_0x3d80dd[_0xc36371(0x7f)][_0xc36371(0x84)]['gamification']?_0x3d80dd[_0xc36371(0x7f)]['document']['gamification'][_0xc36371(0xa0)]:gamification[_0xc36371(0x8a)])},_0x37ac5c={'currentLevel':_0x143fbf[_0xc36371(0x95)]-_0x58467a[_0xc36371(0xb6)],'nextLevel':_0x58467a[_0xc36371(0xb1)]-_0x58467a[_0xc36371(0xb6)]},_0x3e0cf2=_0x37ac5c['currentLevel']/_0x37ac5c[_0xc36371(0xb1)]*0x64,_0x14434f=constants[_0xc36371(0x85)](this['client']['user'])&&await badges[_0xc36371(0x96)](_0x449aab['id'])[_0xc36371(0x7c)](_0x51d222=>_0x51d222[_0xc36371(0x73)]())['catch'](()=>{});_0x3d80dd[_0xc36371(0x94)][_0xc36371(0xa3)]({'embed':{'color':_0x1d0504['color']||tesseract_1[_0xc36371(0xab)]['COLORS'][_0xc36371(0x80)],'author':{'name':_0x449aab[_0xc36371(0x75)][_0xc36371(0xb5)]},'title':_0xc36371(0x76),'description':(_0x14434f&&_0xc36371(0x89)in _0x14434f?badges[_0xc36371(0x7d)](_0x14434f['badgeValue']):[])[_0xc36371(0x71)](_0x358294=>_0x358294[_0xc36371(0x81)])[_0xc36371(0x88)]('\x20'),'fields':[{'name':_0xc36371(0x9b),'value':_0x1d0504['info']||'-'},{'name':_0xc36371(0x8f),'value':_0x1c2706+0x1,'inline':!![]},{'name':'Level','value':_0x143fbf['level'],'inline':!![]},{'name':_0xc36371(0x8b),'value':_0x143fbf[_0xc36371(0x95)],'inline':!![]},{'name':_0xc36371(0xa2),'value':_0x143fbf[_0xc36371(0x93)],'inline':!![]},{'name':'Bastion\x20Coins','value':_0x143fbf[_0xc36371(0xba)],'inline':!![]},{'name':_0xc36371(0x97)+_0x37ac5c[_0xc36371(0xb6)]+_0xc36371(0x92)+_0x37ac5c[_0xc36371(0xb1)]+_0xc36371(0x82)+Math[_0xc36371(0x8c)](_0x3e0cf2)+'%','value':'`'+progress_1['default'](_0x3e0cf2,0x23)+'`'},{'name':_0xc36371(0x9c),'value':_0x1d0504['cakeDay']?_0x1d0504[_0xc36371(0xa8)][_0xc36371(0x8e)]():'-','inline':!![]},{'name':'Location','value':_0x1d0504[_0xc36371(0x98)]||'-','inline':!![]}],'thumbnail':{'url':_0x449aab['user'][_0xc36371(0xb8)]({'dynamic':!![],'size':0x200})},'image':{'url':_0x1d0504['backdrop']},'footer':{'text':_0x449aab['id']===this[_0xc36371(0xb2)][_0xc36371(0x79)][_0xc36371(0xae)](_0xc36371(0xad))?_0xc36371(0x7b):''}}})[_0xc36371(0x83)](()=>{});};}};