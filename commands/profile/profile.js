const a108_0x5cc5=['then','backdrop','user','Rank','getConstant','length','\x20/\x20','Bastion\x20Coins','../../utils/constants','DEFAUL_LEVELUP_MULTIPLIER','exec','displayAvatarURL','Cake\x20Day','color','apply','getString','fetchBadges','../../utils/progress','Karma','currentLevel','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','info','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','emoji','errors','client','resolveGuildMember','Constants','language','author','location','badgeValue','../../utils/badges','round','computeExperience','document','guild','constructor','../../models/Member','locale','About','cakeDay','../../models/User','find','karma','default','multiplier','catch','profile\x20USER','findById','send','IRIS','nextLevel','gamification','json','\x20-\x20','level','experience','COLORS','test','member','countDocuments','Bastion\x20Profile'];(function(_0x471fe0,_0x5cc550){const _0x304820=function(_0x2f11f0){while(--_0x2f11f0){_0x471fe0['push'](_0x471fe0['shift']());}};const _0x150f91=function(){const _0x2d891c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x58453e,_0x56bc79,_0x3c626f,_0x1c63f9){_0x1c63f9=_0x1c63f9||{};let _0x479910=_0x56bc79+'='+_0x3c626f;let _0x37fcb3=0x0;for(let _0x32f224=0x0,_0x136b5e=_0x58453e['length'];_0x32f224<_0x136b5e;_0x32f224++){const _0x259bee=_0x58453e[_0x32f224];_0x479910+=';\x20'+_0x259bee;const _0x4d5f23=_0x58453e[_0x259bee];_0x58453e['push'](_0x4d5f23);_0x136b5e=_0x58453e['length'];if(_0x4d5f23!==!![]){_0x479910+='='+_0x4d5f23;}}_0x1c63f9['cookie']=_0x479910;},'removeCookie':function(){return'dev';},'getCookie':function(_0xee5369,_0x57d596){_0xee5369=_0xee5369||function(_0x2500b6){return _0x2500b6;};const _0x534680=_0xee5369(new RegExp('(?:^|;\x20)'+_0x57d596['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5ee3dc=function(_0x19034a,_0x4a1929){_0x19034a(++_0x4a1929);};_0x5ee3dc(_0x304820,_0x5cc550);return _0x534680?decodeURIComponent(_0x534680[0x1]):undefined;}};const _0x4dae9b=function(){const _0x14116b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x14116b['test'](_0x2d891c['removeCookie']['toString']());};_0x2d891c['updateCookie']=_0x4dae9b;let _0x20fcf4='';const _0x2edbea=_0x2d891c['updateCookie']();if(!_0x2edbea){_0x2d891c['setCookie'](['*'],'counter',0x1);}else if(_0x2edbea){_0x20fcf4=_0x2d891c['getCookie'](null,'counter');}else{_0x2d891c['removeCookie']();}};_0x150f91();}(a108_0x5cc5,0x18f));const a108_0x3048=function(_0x471fe0,_0x5cc550){_0x471fe0=_0x471fe0-0x0;let _0x304820=a108_0x5cc5[_0x471fe0];return _0x304820;};const a108_0x2d891c=function(){let _0x30f15d=!![];return function(_0x1917c1,_0x2909c7){const _0x4de295=_0x30f15d?function(){if(_0x2909c7){const _0x4b3117=_0x2909c7[a108_0x3048('0x38')](_0x1917c1,arguments);_0x2909c7=null;return _0x4b3117;}}:function(){};_0x30f15d=![];return _0x4de295;};}();const a108_0x2f11f0=a108_0x2d891c(this,function(){const _0x4b433c=function(){const _0x1c235c=_0x4b433c[a108_0x3048('0x10')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a108_0x3048('0x1'));return!_0x1c235c[a108_0x3048('0x26')](a108_0x2f11f0);};return _0x4b433c();});a108_0x2f11f0();'use strict';const tesseract_1=require('@bastion/tesseract');const Member_1=require(a108_0x3048('0x11'));const User_1=require(a108_0x3048('0x15'));const badges=require(a108_0x3048('0xb'));const constants=require(a108_0x3048('0x32'));const gamification=require('../../utils/gamification');const progress_1=require(a108_0x3048('0x3b'));module['exports']=class ProfileCommand extends tesseract_1['Command']{constructor(){super('profile',{'description':a108_0x3048('0x3e'),'triggers':[],'arguments':{},'scope':a108_0x3048('0xf'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',a108_0x3048('0x1b')]});this[a108_0x3048('0x34')]=async(_0x158f6c,_0x1ba330)=>{const _0x317852=_0x1ba330['_'][a108_0x3048('0x2f')]?_0x1ba330['_'][0x0]:_0x158f6c['author']['id'];const _0x1e4098=_0x317852===_0x158f6c['author']['id']?_0x158f6c[a108_0x3048('0x27')]:this[a108_0x3048('0x4')]['resolver'][a108_0x3048('0x5')](_0x158f6c[a108_0x3048('0xf')],_0x317852);if(!_0x1e4098)throw new Error(this[a108_0x3048('0x4')][a108_0x3048('0x12')][a108_0x3048('0x39')](_0x158f6c[a108_0x3048('0xf')][a108_0x3048('0xe')]['language'],a108_0x3048('0x3'),'memberNotFound'));const _0x48c001=_0x317852===_0x158f6c[a108_0x3048('0x8')]['id']?_0x158f6c[a108_0x3048('0x8')][a108_0x3048('0xe')]:await User_1['default'][a108_0x3048('0x1c')](_0x317852);const _0x3120d7=_0x317852===_0x158f6c[a108_0x3048('0x8')]['id']?_0x1e4098[a108_0x3048('0xe')]:await Member_1[a108_0x3048('0x18')]['findOne']({'user':_0x317852,'guild':_0x158f6c['guild']['id']});if(!_0x48c001||!_0x3120d7)throw new Error(this[a108_0x3048('0x4')][a108_0x3048('0x12')][a108_0x3048('0x39')](_0x158f6c[a108_0x3048('0xf')][a108_0x3048('0xe')][a108_0x3048('0x7')],a108_0x3048('0x3'),'profileNotFound'));const _0x2966ce=await Member_1['default'][a108_0x3048('0x16')]({'guild':_0x158f6c[a108_0x3048('0xf')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a108_0x3048('0x28')]({'$or':[{'level':{'$gt':_0x3120d7[a108_0x3048('0x23')]}},{'level':_0x3120d7[a108_0x3048('0x23')],'experience':{'$gt':_0x3120d7[a108_0x3048('0x24')]}},{'level':_0x3120d7[a108_0x3048('0x23')],'experience':_0x3120d7[a108_0x3048('0x24')],'karma':{'$gt':_0x3120d7['karma']}},{'level':_0x3120d7[a108_0x3048('0x23')],'experience':_0x3120d7[a108_0x3048('0x24')],'karma':_0x3120d7[a108_0x3048('0x17')],'balance':{'$gt':_0x3120d7['balance']}}]});const _0x5e5377={'currentLevel':gamification[a108_0x3048('0xd')](_0x3120d7['level'],_0x158f6c[a108_0x3048('0xf')]['document'][a108_0x3048('0x20')]?_0x158f6c[a108_0x3048('0xf')][a108_0x3048('0xe')]['gamification']['multiplier']:gamification[a108_0x3048('0x33')]),'nextLevel':gamification[a108_0x3048('0xd')](_0x3120d7['level']+0x1,_0x158f6c[a108_0x3048('0xf')][a108_0x3048('0xe')][a108_0x3048('0x20')]?_0x158f6c[a108_0x3048('0xf')]['document'][a108_0x3048('0x20')][a108_0x3048('0x19')]:gamification[a108_0x3048('0x33')])};const _0x3bf926={'currentLevel':_0x3120d7[a108_0x3048('0x24')]-_0x5e5377['currentLevel'],'nextLevel':_0x5e5377['nextLevel']-_0x5e5377[a108_0x3048('0x3d')]};const _0x28fbf3=_0x3bf926['currentLevel']/_0x3bf926[a108_0x3048('0x1f')]*0x64;const _0x228e1a=constants['isPublicBastion'](this['client'][a108_0x3048('0x2c')])&&await badges[a108_0x3048('0x3a')](_0x1e4098['id'])[a108_0x3048('0x2a')](_0x626612=>_0x626612[a108_0x3048('0x21')]())[a108_0x3048('0x1a')](()=>{});_0x158f6c['channel'][a108_0x3048('0x1d')]({'embed':{'color':_0x48c001[a108_0x3048('0x37')]||tesseract_1[a108_0x3048('0x6')][a108_0x3048('0x25')][a108_0x3048('0x1e')],'author':{'name':_0x1e4098[a108_0x3048('0x2c')]['tag']},'title':a108_0x3048('0x29'),'description':(_0x228e1a&&'badgeValue'in _0x228e1a?badges['resolveBadges'](_0x228e1a[a108_0x3048('0xa')]):[])['map'](_0x47a1d7=>_0x47a1d7[a108_0x3048('0x2')])['join']('\x20'),'fields':[{'name':a108_0x3048('0x13'),'value':_0x48c001[a108_0x3048('0x0')]||'-'},{'name':a108_0x3048('0x2d'),'value':_0x2966ce+0x1,'inline':!![]},{'name':'Level','value':_0x3120d7[a108_0x3048('0x23')],'inline':!![]},{'name':'Experience','value':_0x3120d7['experience'],'inline':!![]},{'name':a108_0x3048('0x3c'),'value':_0x3120d7[a108_0x3048('0x17')],'inline':!![]},{'name':a108_0x3048('0x31'),'value':_0x3120d7['balance'],'inline':!![]},{'name':'Progress\x20-\x20'+_0x3bf926[a108_0x3048('0x3d')]+a108_0x3048('0x30')+_0x3bf926[a108_0x3048('0x1f')]+a108_0x3048('0x22')+Math[a108_0x3048('0xc')](_0x28fbf3)+'%','value':'`'+progress_1['default'](_0x28fbf3,0x23)+'`'},{'name':a108_0x3048('0x36'),'value':_0x48c001[a108_0x3048('0x14')]?_0x48c001[a108_0x3048('0x14')]['toDateString']():'-','inline':!![]},{'name':'Location','value':_0x48c001[a108_0x3048('0x9')]||'-','inline':!![]}],'thumbnail':{'url':_0x1e4098[a108_0x3048('0x2c')][a108_0x3048('0x35')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x48c001[a108_0x3048('0x2b')]},'footer':{'text':_0x1e4098['id']===this[a108_0x3048('0x4')][a108_0x3048('0x12')][a108_0x3048('0x2e')]('author.discord.id')?'Oh,\x20hey!\x20Here\x27s\x20my\x20developer!':''}}})[a108_0x3048('0x1a')](()=>{});};}};