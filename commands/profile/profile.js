const a114_0x24de=['badgeValue','Karma','experience','exports','karma','json','errors','emoji','../../utils/gamification','multiplier','Cake\x20Day','countDocuments','../../models/User','profile','../../utils/progress','author.discord.id','findOne','length','round','About','document','catch','Location','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','@bastion/tesseract','\x20-\x20','../../utils/constants','default','author','exec','client','Progress\x20-\x20','map','language','find','resolveBadges','Bastion\x20Profile','info','getString','nextLevel','cakeDay','fetchBadges','backdrop','resolveGuildMember','currentLevel','gamification','channel','toDateString','IRIS','guild','return\x20/\x22\x20+\x20this\x20+\x20\x22/','locale','isPublicBastion','COLORS','level','Bastion\x20Coins','send','\x20/\x20','getConstant','Constants','tag','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','join','member','balance','DEFAUL_LEVELUP_MULTIPLIER','findById','then','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!'];(function(_0x3a1334,_0x24de10){const _0x5b99b4=function(_0x22b162){while(--_0x22b162){_0x3a1334['push'](_0x3a1334['shift']());}},_0x2291a6=function(){const _0x1751f9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x25e13b,_0x29d5b8,_0x32e178,_0x28561c){_0x28561c=_0x28561c||{};let _0x4c0edc=_0x29d5b8+'='+_0x32e178,_0x5759e3=0x0;for(let _0x2b6769=0x0,_0x5b0e63=_0x25e13b['length'];_0x2b6769<_0x5b0e63;_0x2b6769++){const _0x20f71c=_0x25e13b[_0x2b6769];_0x4c0edc+=';\x20'+_0x20f71c;const _0x4dd086=_0x25e13b[_0x20f71c];_0x25e13b['push'](_0x4dd086),_0x5b0e63=_0x25e13b['length'],_0x4dd086!==!![]&&(_0x4c0edc+='='+_0x4dd086);}_0x28561c['cookie']=_0x4c0edc;},'removeCookie':function(){return'dev';},'getCookie':function(_0x218dde,_0x5f098d){_0x218dde=_0x218dde||function(_0x16f46f){return _0x16f46f;};const _0x3b6c0c=_0x218dde(new RegExp('(?:^|;\x20)'+_0x5f098d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5c0ecd=function(_0x166bc3,_0x11e9dd){_0x166bc3(++_0x11e9dd);};return _0x5c0ecd(_0x5b99b4,_0x24de10),_0x3b6c0c?decodeURIComponent(_0x3b6c0c[0x1]):undefined;}},_0x5dff10=function(){const _0x22b758=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x22b758['test'](_0x1751f9['removeCookie']['toString']());};_0x1751f9['updateCookie']=_0x5dff10;let _0x37bfa2='';const _0x394735=_0x1751f9['updateCookie']();if(!_0x394735)_0x1751f9['setCookie'](['*'],'counter',0x1);else _0x394735?_0x37bfa2=_0x1751f9['getCookie'](null,'counter'):_0x1751f9['removeCookie']();};_0x2291a6();}(a114_0x24de,0x158));const a114_0x5b99=function(_0x3a1334,_0x24de10){_0x3a1334=_0x3a1334-0x0;let _0x5b99b4=a114_0x24de[_0x3a1334];return _0x5b99b4;};const a114_0x32e178=function(){let _0x4ffba2=!![];return function(_0x2576c4,_0x5a3ba3){const _0x2b41d6=_0x4ffba2?function(){if(_0x5a3ba3){const _0xf18832=_0x5a3ba3['apply'](_0x2576c4,arguments);return _0x5a3ba3=null,_0xf18832;}}:function(){};return _0x4ffba2=![],_0x2b41d6;};}(),a114_0x29d5b8=a114_0x32e178(this,function(){const _0x42c013=function(){const _0x16dbc6=_0x42c013['constructor'](a114_0x5b99('0x33'))()['constructor'](a114_0x5b99('0x18'));return!_0x16dbc6['test'](a114_0x29d5b8);};return _0x42c013();});a114_0x29d5b8();'use strict';const tesseract_1=require(a114_0x5b99('0x19')),Member_1=require('../../models/Member'),User_1=require(a114_0x5b99('0xd')),badges=require('../../utils/badges'),constants=require(a114_0x5b99('0x1b')),gamification=require(a114_0x5b99('0x9')),progress_1=require(a114_0x5b99('0xf'));module[a114_0x5b99('0x4')]=class ProfileCommand extends tesseract_1['Command']{constructor(){super(a114_0x5b99('0xe'),{'description':a114_0x5b99('0x3e'),'triggers':[],'arguments':{},'scope':a114_0x5b99('0x32'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile','profile\x20USER']}),this[a114_0x5b99('0x1e')]=async(_0x364727,_0x3dd481)=>{const _0x5bb0b1=_0x3dd481['_'][a114_0x5b99('0x12')]?_0x3dd481['_'][0x0]:_0x364727[a114_0x5b99('0x1d')]['id'],_0x200f18=_0x5bb0b1===_0x364727[a114_0x5b99('0x1d')]['id']?_0x364727[a114_0x5b99('0x40')]:this['client']['resolver'][a114_0x5b99('0x2c')](_0x364727[a114_0x5b99('0x32')],_0x5bb0b1);if(!_0x200f18)throw new Error(this[a114_0x5b99('0x1f')][a114_0x5b99('0x34')][a114_0x5b99('0x27')](_0x364727[a114_0x5b99('0x32')]['document'][a114_0x5b99('0x22')],'errors','memberNotFound'));const _0x449667=_0x5bb0b1===_0x364727[a114_0x5b99('0x1d')]['id']?_0x364727['author'][a114_0x5b99('0x15')]:await User_1[a114_0x5b99('0x1c')][a114_0x5b99('0x43')](_0x5bb0b1),_0x4881cd=_0x5bb0b1===_0x364727[a114_0x5b99('0x1d')]['id']?_0x200f18[a114_0x5b99('0x15')]:await Member_1['default'][a114_0x5b99('0x11')]({'user':_0x5bb0b1,'guild':_0x364727['guild']['id']});if(!_0x449667||!_0x4881cd)throw new Error(this[a114_0x5b99('0x1f')]['locale']['getString'](_0x364727['guild'][a114_0x5b99('0x15')][a114_0x5b99('0x22')],a114_0x5b99('0x7'),'profileNotFound',_0x200f18['user'][a114_0x5b99('0x3d')]));const _0x5e1709=await Member_1['default'][a114_0x5b99('0x23')]({'guild':_0x364727[a114_0x5b99('0x32')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a114_0x5b99('0xc')]({'$or':[{'level':{'$gt':_0x4881cd['level']}},{'level':_0x4881cd['level'],'experience':{'$gt':_0x4881cd[a114_0x5b99('0x3')]}},{'level':_0x4881cd[a114_0x5b99('0x37')],'experience':_0x4881cd['experience'],'karma':{'$gt':_0x4881cd[a114_0x5b99('0x5')]}},{'level':_0x4881cd[a114_0x5b99('0x37')],'experience':_0x4881cd[a114_0x5b99('0x3')],'karma':_0x4881cd['karma'],'balance':{'$gt':_0x4881cd[a114_0x5b99('0x41')]}}]}),_0x4b5429={'currentLevel':gamification['computeExperience'](_0x4881cd['level'],_0x364727[a114_0x5b99('0x32')][a114_0x5b99('0x15')][a114_0x5b99('0x2e')]?_0x364727['guild']['document']['gamification'][a114_0x5b99('0xa')]:gamification['DEFAUL_LEVELUP_MULTIPLIER']),'nextLevel':gamification['computeExperience'](_0x4881cd['level']+0x1,_0x364727[a114_0x5b99('0x32')][a114_0x5b99('0x15')][a114_0x5b99('0x2e')]?_0x364727[a114_0x5b99('0x32')][a114_0x5b99('0x15')]['gamification'][a114_0x5b99('0xa')]:gamification[a114_0x5b99('0x42')])},_0x593a29={'currentLevel':_0x4881cd[a114_0x5b99('0x3')]-_0x4b5429[a114_0x5b99('0x2d')],'nextLevel':_0x4b5429[a114_0x5b99('0x28')]-_0x4b5429[a114_0x5b99('0x2d')]},_0x40e15a=_0x593a29[a114_0x5b99('0x2d')]/_0x593a29['nextLevel']*0x64,_0xdd5d29=constants[a114_0x5b99('0x35')](this['client']['user'])&&await badges[a114_0x5b99('0x2a')](_0x200f18['id'])[a114_0x5b99('0x44')](_0x55b798=>_0x55b798[a114_0x5b99('0x6')]())[a114_0x5b99('0x16')](()=>{});_0x364727[a114_0x5b99('0x2f')][a114_0x5b99('0x39')]({'embed':{'color':_0x449667['color']||tesseract_1[a114_0x5b99('0x3c')][a114_0x5b99('0x36')][a114_0x5b99('0x31')],'author':{'name':_0x200f18['user']['tag']},'title':a114_0x5b99('0x25'),'description':(_0xdd5d29&&a114_0x5b99('0x1')in _0xdd5d29?badges[a114_0x5b99('0x24')](_0xdd5d29['badgeValue']):[])[a114_0x5b99('0x21')](_0x1d8ec1=>_0x1d8ec1[a114_0x5b99('0x8')])[a114_0x5b99('0x3f')]('\x20'),'fields':[{'name':a114_0x5b99('0x14'),'value':_0x449667[a114_0x5b99('0x26')]||'-'},{'name':'Rank','value':_0x5e1709+0x1,'inline':!![]},{'name':'Level','value':_0x4881cd['level'],'inline':!![]},{'name':'Experience','value':_0x4881cd[a114_0x5b99('0x3')],'inline':!![]},{'name':a114_0x5b99('0x2'),'value':_0x4881cd[a114_0x5b99('0x5')],'inline':!![]},{'name':a114_0x5b99('0x38'),'value':_0x4881cd['balance'],'inline':!![]},{'name':a114_0x5b99('0x20')+_0x593a29[a114_0x5b99('0x2d')]+a114_0x5b99('0x3a')+_0x593a29[a114_0x5b99('0x28')]+a114_0x5b99('0x1a')+Math[a114_0x5b99('0x13')](_0x40e15a)+'%','value':'`'+progress_1['default'](_0x40e15a,0x23)+'`'},{'name':a114_0x5b99('0xb'),'value':_0x449667[a114_0x5b99('0x29')]?_0x449667[a114_0x5b99('0x29')][a114_0x5b99('0x30')]():'-','inline':!![]},{'name':a114_0x5b99('0x17'),'value':_0x449667['location']||'-','inline':!![]}],'thumbnail':{'url':_0x200f18['user']['displayAvatarURL']({'dynamic':!![],'size':0x200})},'image':{'url':_0x449667[a114_0x5b99('0x2b')]},'footer':{'text':_0x200f18['id']===this['client'][a114_0x5b99('0x34')][a114_0x5b99('0x3b')](a114_0x5b99('0x10'))?a114_0x5b99('0x0'):''}}})[a114_0x5b99('0x16')](()=>{});};}};