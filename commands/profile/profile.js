const a135_0xad6d=['exports','profile\x20USER','user','language','errors','DEFAUL_LEVELUP_MULTIPLIER','constructor','../../utils/constants','Level','color','balance','@bastion/tesseract','countDocuments','Karma','\x20-\x20','Location','../../models/Member','member','locale','\x20/\x20','catch','document','length','send','backdrop','COLORS','../../utils/progress','IRIS','Progress\x20-\x20','gamification','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','round','karma','../../models/User','then','toDateString','../../utils/gamification','test','getString','find','channel','resolver','default','badgeValue','Command','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','fetchBadges','tag','experience','computeExperience','multiplier','About','level','apply','resolveGuildMember','Cake\x20Day','author','../../utils/badges','Constants','client','map','guild','return\x20/\x22\x20+\x20this\x20+\x20\x22/','currentLevel','getConstant'];(function(_0x46fd96,_0x297ae6){const _0xad6d6e=function(_0x2e6c8b){while(--_0x2e6c8b){_0x46fd96['push'](_0x46fd96['shift']());}},_0x208ada=function(){const _0x416d8b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x320959,_0x14704b,_0x15b17a,_0x57a3a1){_0x57a3a1=_0x57a3a1||{};let _0x1f4e8e=_0x14704b+'='+_0x15b17a,_0x4933dd=0x0;for(let _0x403b85=0x0,_0x50e379=_0x320959['length'];_0x403b85<_0x50e379;_0x403b85++){const _0x586947=_0x320959[_0x403b85];_0x1f4e8e+=';\x20'+_0x586947;const _0x7f8d57=_0x320959[_0x586947];_0x320959['push'](_0x7f8d57),_0x50e379=_0x320959['length'],_0x7f8d57!==!![]&&(_0x1f4e8e+='='+_0x7f8d57);}_0x57a3a1['cookie']=_0x1f4e8e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f9400,_0x1d95dd){_0x2f9400=_0x2f9400||function(_0xbccdb6){return _0xbccdb6;};const _0x2830c4=_0x2f9400(new RegExp('(?:^|;\x20)'+_0x1d95dd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1d3392=function(_0x24bdc7,_0x1078c8){_0x24bdc7(++_0x1078c8);};return _0x1d3392(_0xad6d6e,_0x297ae6),_0x2830c4?decodeURIComponent(_0x2830c4[0x1]):undefined;}},_0x33f925=function(){const _0x1e183f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e183f['test'](_0x416d8b['removeCookie']['toString']());};_0x416d8b['updateCookie']=_0x33f925;let _0x3b9efd='';const _0x482dd7=_0x416d8b['updateCookie']();if(!_0x482dd7)_0x416d8b['setCookie'](['*'],'counter',0x1);else _0x482dd7?_0x3b9efd=_0x416d8b['getCookie'](null,'counter'):_0x416d8b['removeCookie']();};_0x208ada();}(a135_0xad6d,0xf9));const a135_0x208a=function(_0x46fd96,_0x297ae6){_0x46fd96=_0x46fd96-0x1bb;let _0xad6d6e=a135_0xad6d[_0x46fd96];return _0xad6d6e;};const a135_0x3a151a=a135_0x208a,a135_0x33f925=function(){let _0x482dd7=!![];return function(_0x320959,_0x14704b){const _0x15b17a=_0x482dd7?function(){const _0x55aec5=a135_0x208a;if(_0x14704b){const _0x57a3a1=_0x14704b[_0x55aec5(0x1fb)](_0x320959,arguments);return _0x14704b=null,_0x57a3a1;}}:function(){};return _0x482dd7=![],_0x15b17a;};}(),a135_0x416d8b=a135_0x33f925(this,function(){const _0x1f4e8e=function(){const _0x506234=a135_0x208a,_0x4933dd=_0x1f4e8e[_0x506234(0x1cc)](_0x506234(0x1c3))()['constructor'](_0x506234(0x1e4));return!_0x4933dd[_0x506234(0x1eb)](a135_0x416d8b);};return _0x1f4e8e();});a135_0x416d8b();'use strict';const tesseract_1=require(a135_0x3a151a(0x1d1)),Member_1=require(a135_0x3a151a(0x1d6)),User_1=require(a135_0x3a151a(0x1e7)),badges=require(a135_0x3a151a(0x1be)),constants=require(a135_0x3a151a(0x1cd)),gamification=require(a135_0x3a151a(0x1ea)),progress_1=require(a135_0x3a151a(0x1e0));module[a135_0x3a151a(0x1c6)]=class ProfileCommand extends tesseract_1[a135_0x3a151a(0x1f2)]{constructor(){const _0x1cab7e=a135_0x3a151a;super('profile',{'description':'It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','triggers':[],'arguments':{},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',_0x1cab7e(0x1c7)]}),this['exec']=async(_0x403b85,_0x50e379)=>{const _0x5beea7=_0x1cab7e,_0x586947=_0x50e379['_'][_0x5beea7(0x1dc)]?_0x50e379['_'][0x0]:_0x403b85[_0x5beea7(0x1bd)]['id'],_0x7f8d57=_0x586947===_0x403b85[_0x5beea7(0x1bd)]['id']?_0x403b85[_0x5beea7(0x1d7)]:this[_0x5beea7(0x1c0)][_0x5beea7(0x1ef)][_0x5beea7(0x1bb)](_0x403b85['guild'],_0x586947);if(!_0x7f8d57)throw new Error(this[_0x5beea7(0x1c0)][_0x5beea7(0x1d8)]['getString'](_0x403b85['guild'][_0x5beea7(0x1db)][_0x5beea7(0x1c9)],_0x5beea7(0x1ca),'memberNotFound'));const _0x2f9400=_0x586947===_0x403b85['author']['id']?_0x403b85['author'][_0x5beea7(0x1db)]:await User_1[_0x5beea7(0x1f0)]['findById'](_0x586947),_0x1d95dd=_0x586947===_0x403b85[_0x5beea7(0x1bd)]['id']?_0x7f8d57[_0x5beea7(0x1db)]:await Member_1[_0x5beea7(0x1f0)]['findOne']({'user':_0x586947,'guild':_0x403b85['guild']['id']});if(!_0x2f9400||!_0x1d95dd)throw new Error(this[_0x5beea7(0x1c0)][_0x5beea7(0x1d8)][_0x5beea7(0x1ec)](_0x403b85[_0x5beea7(0x1c2)][_0x5beea7(0x1db)]['language'],_0x5beea7(0x1ca),'profileNotFound',_0x7f8d57[_0x5beea7(0x1c8)][_0x5beea7(0x1f5)]));const _0x2830c4=await Member_1['default'][_0x5beea7(0x1ed)]({'guild':_0x403b85[_0x5beea7(0x1c2)]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[_0x5beea7(0x1d2)]({'$or':[{'level':{'$gt':_0x1d95dd[_0x5beea7(0x1fa)]}},{'level':_0x1d95dd[_0x5beea7(0x1fa)],'experience':{'$gt':_0x1d95dd[_0x5beea7(0x1f6)]}},{'level':_0x1d95dd['level'],'experience':_0x1d95dd['experience'],'karma':{'$gt':_0x1d95dd[_0x5beea7(0x1e6)]}},{'level':_0x1d95dd[_0x5beea7(0x1fa)],'experience':_0x1d95dd[_0x5beea7(0x1f6)],'karma':_0x1d95dd['karma'],'balance':{'$gt':_0x1d95dd['balance']}}]}),_0x1d3392={'currentLevel':gamification[_0x5beea7(0x1f7)](_0x1d95dd['level'],_0x403b85[_0x5beea7(0x1c2)][_0x5beea7(0x1db)][_0x5beea7(0x1e3)]?_0x403b85[_0x5beea7(0x1c2)][_0x5beea7(0x1db)][_0x5beea7(0x1e3)][_0x5beea7(0x1f8)]:gamification[_0x5beea7(0x1cb)]),'nextLevel':gamification[_0x5beea7(0x1f7)](_0x1d95dd[_0x5beea7(0x1fa)]+0x1,_0x403b85[_0x5beea7(0x1c2)][_0x5beea7(0x1db)]['gamification']?_0x403b85[_0x5beea7(0x1c2)]['document'][_0x5beea7(0x1e3)][_0x5beea7(0x1f8)]:gamification[_0x5beea7(0x1cb)])},_0xbccdb6={'currentLevel':_0x1d95dd[_0x5beea7(0x1f6)]-_0x1d3392[_0x5beea7(0x1c4)],'nextLevel':_0x1d3392['nextLevel']-_0x1d3392[_0x5beea7(0x1c4)]},_0x24bdc7=_0xbccdb6['currentLevel']/_0xbccdb6['nextLevel']*0x64,_0x1078c8=constants['isPublicBastion'](this[_0x5beea7(0x1c0)][_0x5beea7(0x1c8)])&&await badges[_0x5beea7(0x1f4)](_0x7f8d57['id'])[_0x5beea7(0x1e8)](_0x1e183f=>_0x1e183f['json']())[_0x5beea7(0x1da)](()=>{});_0x403b85[_0x5beea7(0x1ee)][_0x5beea7(0x1dd)]({'embed':{'color':_0x2f9400[_0x5beea7(0x1cf)]||tesseract_1[_0x5beea7(0x1bf)][_0x5beea7(0x1df)][_0x5beea7(0x1e1)],'author':{'name':_0x7f8d57[_0x5beea7(0x1c8)][_0x5beea7(0x1f5)]},'title':'Bastion\x20Profile','description':(_0x1078c8&&_0x5beea7(0x1f1)in _0x1078c8?badges['resolveBadges'](_0x1078c8['badgeValue']):[])[_0x5beea7(0x1c1)](_0xc74648=>_0xc74648['emoji'])['join']('\x20'),'fields':[{'name':_0x5beea7(0x1f9),'value':_0x2f9400['info']||'-'},{'name':'Rank','value':_0x2830c4+0x1,'inline':!![]},{'name':_0x5beea7(0x1ce),'value':_0x1d95dd[_0x5beea7(0x1fa)],'inline':!![]},{'name':'Experience','value':_0x1d95dd[_0x5beea7(0x1f6)],'inline':!![]},{'name':_0x5beea7(0x1d3),'value':_0x1d95dd['karma'],'inline':!![]},{'name':'Bastion\x20Coins','value':_0x1d95dd[_0x5beea7(0x1d0)],'inline':!![]},{'name':_0x5beea7(0x1e2)+_0xbccdb6['currentLevel']+_0x5beea7(0x1d9)+_0xbccdb6['nextLevel']+_0x5beea7(0x1d4)+Math[_0x5beea7(0x1e5)](_0x24bdc7)+'%','value':'`'+progress_1['default'](_0x24bdc7,0x23)+'`'},{'name':_0x5beea7(0x1bc),'value':_0x2f9400['cakeDay']?_0x2f9400['cakeDay'][_0x5beea7(0x1e9)]():'-','inline':!![]},{'name':_0x5beea7(0x1d5),'value':_0x2f9400['location']||'-','inline':!![]}],'thumbnail':{'url':_0x7f8d57[_0x5beea7(0x1c8)]['displayAvatarURL']({'dynamic':!![],'size':0x200})},'image':{'url':_0x2f9400[_0x5beea7(0x1de)]},'footer':{'text':_0x7f8d57['id']===this[_0x5beea7(0x1c0)][_0x5beea7(0x1d8)][_0x5beea7(0x1c5)]('author.discord.id')?_0x5beea7(0x1f3):''}}})[_0x5beea7(0x1da)](()=>{});};}};