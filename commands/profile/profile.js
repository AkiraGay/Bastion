function a137_0x535c(){const _0x1f0a02=['findOne','info','currentLevel','80530yvsTTh','karma','map','author','document','level','nextLevel','send','Experience','1343646PcFjWc','location','findByIdAndUpdate','fetchBadges','displayAvatarURL','search','1588SYMRzv','profile','multiplier','getConstant','apply','228365WCeHbl','then','723pcWWGR','channel','about','color','badgeValue','If\x20you\x20know\x20','user','1379886XUiirq','displayName','language','experience','12wHTtOp','author.discord.id','computeExperience','10AwKqtR','COLORS','join','default','countDocuments','findById','locale','toString','../../utils/gamification','slice','tag','11grYYjU','resolveGuildMember','(((.+)+)+)+$','getString','@bastion/tesseract','IRIS','find','catch','6WKqsUp','5986799VhUArV','Progress\x20-\x20','client','../../utils/progress',',\x20send\x20them\x20a\x20message.','backdrop','balance','length','exec','resolveBadges','errors','emoji','guild','Command','Constants','profile\x20USER','DEFAUL_LEVELUP_MULTIPLIER','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.\x20It\x20also\x20allows\x20you\x20to\x20edit\x20your\x20profile.','3056WbzfhS','constructor','profileNotFound','gamification','updateLocation','isPublicBastion','profile\x20--location\x20TEXT','Bastion\x20Coins','Rank','../../models/Member','memberNotFound','round','Bastion\x20Profile','4613eKbvgO'];a137_0x535c=function(){return _0x1f0a02;};return a137_0x535c();}const a137_0x2b3ee4=a137_0x1bc3;(function(_0x430065,_0xe59bcb){const _0x10641a=a137_0x1bc3,_0x5de52c=_0x430065();while(!![]){try{const _0x1f063d=parseInt(_0x10641a(0x11f))/0x1*(parseInt(_0x10641a(0x142))/0x2)+parseInt(_0x10641a(0x121))/0x3*(parseInt(_0x10641a(0x11a))/0x4)+parseInt(_0x10641a(0x12f))/0x5*(parseInt(_0x10641a(0x128))/0x6)+parseInt(_0x10641a(0x107))/0x7*(-parseInt(_0x10641a(0xfa))/0x8)+-parseInt(_0x10641a(0x114))/0x9+-parseInt(_0x10641a(0x10b))/0xa*(parseInt(_0x10641a(0x13a))/0xb)+-parseInt(_0x10641a(0x12c))/0xc*(parseInt(_0x10641a(0x143))/0xd);if(_0x1f063d===_0xe59bcb)break;else _0x5de52c['push'](_0x5de52c['shift']());}catch(_0xb9d9cd){_0x5de52c['push'](_0x5de52c['shift']());}}}(a137_0x535c,0x5a9b6));const a137_0x5759cc=(function(){let _0x5f2022=!![];return function(_0x5577b4,_0x2c5997){const _0x2bef99=_0x5f2022?function(){const _0x43f96b=a137_0x1bc3;if(_0x2c5997){const _0xa6d307=_0x2c5997[_0x43f96b(0x11e)](_0x5577b4,arguments);return _0x2c5997=null,_0xa6d307;}}:function(){};return _0x5f2022=![],_0x2bef99;};}()),a137_0xdec05f=a137_0x5759cc(this,function(){const _0x37698c=a137_0x1bc3;return a137_0xdec05f[_0x37698c(0x136)]()[_0x37698c(0x119)](_0x37698c(0x13c))[_0x37698c(0x136)]()[_0x37698c(0xfb)](a137_0xdec05f)['search'](_0x37698c(0x13c));});a137_0xdec05f();function a137_0x1bc3(_0x4cdb6d,_0xfb1cd1){const _0x34e9f6=a137_0x535c();return a137_0x1bc3=function(_0xdec05f,_0x5759cc){_0xdec05f=_0xdec05f-0xf2;let _0x535cf5=_0x34e9f6[_0xdec05f];return _0x535cf5;},a137_0x1bc3(_0x4cdb6d,_0xfb1cd1);}'use strict';const tesseract_1=require(a137_0x2b3ee4(0x13e)),Member_1=require(a137_0x2b3ee4(0x103)),User_1=require('../../models/User'),badges=require('../../utils/badges'),constants=require('../../utils/constants'),gamification=require(a137_0x2b3ee4(0x137)),progress_1=require(a137_0x2b3ee4(0x146));module['exports']=class ProfileCommand extends tesseract_1[a137_0x2b3ee4(0xf5)]{constructor(){const _0x11a421=a137_0x2b3ee4;super(_0x11a421(0x11b),{'description':_0x11a421(0xf9),'triggers':[],'arguments':{'alias':{'info':[_0x11a421(0x123),'bio']},'array':[_0x11a421(0x109),_0x11a421(0x115)],'string':[_0x11a421(0x109),_0x11a421(0x115)]},'scope':_0x11a421(0xf4),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',_0x11a421(0xf7),'profile\x20--bio\x20TEXT',_0x11a421(0x100)]});}[a137_0x2b3ee4(0x14b)]=async(_0x38c012,_0x19a285)=>{const _0x2742ad=a137_0x2b3ee4;if(_0x19a285[_0x2742ad(0x109)]&&_0x19a285[_0x2742ad(0x109)][_0x2742ad(0x14a)])return await User_1[_0x2742ad(0x132)][_0x2742ad(0x116)](_0x38c012['author']['id'],{'info':_0x19a285[_0x2742ad(0x109)]['join']('\x20')[_0x2742ad(0x138)](0x0,0x100)}),await _0x38c012['channel'][_0x2742ad(0x112)]({'embed':{'color':tesseract_1[_0x2742ad(0xf6)][_0x2742ad(0x130)][_0x2742ad(0x13f)],'description':this[_0x2742ad(0x145)][_0x2742ad(0x135)][_0x2742ad(0x13d)](_0x38c012[_0x2742ad(0xf4)][_0x2742ad(0x10f)][_0x2742ad(0x12a)],'info','updateInfo',_0x38c012[_0x2742ad(0x10e)][_0x2742ad(0x139)])}});if(_0x19a285[_0x2742ad(0x115)]&&_0x19a285[_0x2742ad(0x115)][_0x2742ad(0x14a)])return await User_1['default'][_0x2742ad(0x116)](_0x38c012['author']['id'],{'location':_0x19a285[_0x2742ad(0x115)][_0x2742ad(0x131)]('\x20')[_0x2742ad(0x138)](0x0,0x10)}),await _0x38c012[_0x2742ad(0x122)][_0x2742ad(0x112)]({'embed':{'color':tesseract_1[_0x2742ad(0xf6)][_0x2742ad(0x130)][_0x2742ad(0x13f)],'description':this[_0x2742ad(0x145)][_0x2742ad(0x135)][_0x2742ad(0x13d)](_0x38c012[_0x2742ad(0xf4)]['document'][_0x2742ad(0x12a)],'info',_0x2742ad(0xfe),_0x38c012[_0x2742ad(0x10e)][_0x2742ad(0x139)])}});const _0x3026d4=_0x19a285['_'][_0x2742ad(0x14a)]?_0x19a285['_'][0x0]:_0x38c012[_0x2742ad(0x10e)]['id'],_0x1abcc9=_0x3026d4===_0x38c012[_0x2742ad(0x10e)]['id']?_0x38c012['member']:this['client']['resolver'][_0x2742ad(0x13b)](_0x38c012[_0x2742ad(0xf4)],_0x3026d4);if(!_0x1abcc9)throw new Error(this[_0x2742ad(0x145)]['locale'][_0x2742ad(0x13d)](_0x38c012[_0x2742ad(0xf4)]['document']['language'],_0x2742ad(0xf2),_0x2742ad(0x104)));const _0x414b15=_0x3026d4===_0x38c012[_0x2742ad(0x10e)]['id']?_0x38c012['author'][_0x2742ad(0x10f)]:await User_1[_0x2742ad(0x132)][_0x2742ad(0x134)](_0x3026d4),_0x4a9423=_0x3026d4===_0x38c012[_0x2742ad(0x10e)]['id']?_0x1abcc9[_0x2742ad(0x10f)]:await Member_1[_0x2742ad(0x132)][_0x2742ad(0x108)]({'user':_0x3026d4,'guild':_0x38c012['guild']['id']});if(!_0x414b15||!_0x4a9423)throw new Error(this[_0x2742ad(0x145)][_0x2742ad(0x135)][_0x2742ad(0x13d)](_0x38c012[_0x2742ad(0xf4)]['document'][_0x2742ad(0x12a)],_0x2742ad(0xf2),_0x2742ad(0xfc),_0x1abcc9[_0x2742ad(0x127)][_0x2742ad(0x139)]));const _0x520c38=await Member_1['default'][_0x2742ad(0x140)]({'guild':_0x38c012[_0x2742ad(0xf4)]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[_0x2742ad(0x133)]({'$or':[{'level':{'$gt':_0x4a9423[_0x2742ad(0x110)]}},{'level':_0x4a9423[_0x2742ad(0x110)],'experience':{'$gt':_0x4a9423[_0x2742ad(0x12b)]}},{'level':_0x4a9423[_0x2742ad(0x110)],'experience':_0x4a9423[_0x2742ad(0x12b)],'karma':{'$gt':_0x4a9423['karma']}},{'level':_0x4a9423[_0x2742ad(0x110)],'experience':_0x4a9423['experience'],'karma':_0x4a9423[_0x2742ad(0x10c)],'balance':{'$gt':_0x4a9423['balance']}}]}),_0x533102={'currentLevel':gamification['computeExperience'](_0x4a9423[_0x2742ad(0x110)],_0x38c012['guild'][_0x2742ad(0x10f)][_0x2742ad(0xfd)]?_0x38c012[_0x2742ad(0xf4)][_0x2742ad(0x10f)][_0x2742ad(0xfd)][_0x2742ad(0x11c)]:gamification['DEFAUL_LEVELUP_MULTIPLIER']),'nextLevel':gamification[_0x2742ad(0x12e)](_0x4a9423['level']+0x1,_0x38c012[_0x2742ad(0xf4)][_0x2742ad(0x10f)][_0x2742ad(0xfd)]?_0x38c012[_0x2742ad(0xf4)]['document'][_0x2742ad(0xfd)][_0x2742ad(0x11c)]:gamification[_0x2742ad(0xf8)])},_0x61d892={'currentLevel':_0x4a9423[_0x2742ad(0x12b)]-_0x533102[_0x2742ad(0x10a)],'nextLevel':_0x533102['nextLevel']-_0x533102[_0x2742ad(0x10a)]},_0x2c4958=_0x61d892[_0x2742ad(0x10a)]/_0x61d892[_0x2742ad(0x111)]*0x64,_0xaeaa63=constants[_0x2742ad(0xff)](this['client'][_0x2742ad(0x127)])&&await badges[_0x2742ad(0x117)](_0x1abcc9['id'])[_0x2742ad(0x120)](_0x5c6b7a=>_0x5c6b7a['json']())[_0x2742ad(0x141)](()=>{});_0x38c012[_0x2742ad(0x122)][_0x2742ad(0x112)]({'embed':{'color':_0x414b15[_0x2742ad(0x124)]||tesseract_1[_0x2742ad(0xf6)][_0x2742ad(0x130)][_0x2742ad(0x13f)],'author':{'name':_0x1abcc9['user']['tag']},'title':_0x2742ad(0x106),'description':(_0xaeaa63&&_0x2742ad(0x125)in _0xaeaa63?badges[_0x2742ad(0x14c)](_0xaeaa63[_0x2742ad(0x125)]):[])[_0x2742ad(0x10d)](_0x5902b5=>_0x5902b5[_0x2742ad(0xf3)])[_0x2742ad(0x131)]('\x20')+'\x0a\x0a'+(_0x414b15[_0x2742ad(0x109)]?_0x414b15[_0x2742ad(0x109)]:''),'fields':[{'name':_0x2742ad(0x102),'value':_0x520c38+0x1,'inline':!![]},{'name':'Level','value':_0x4a9423['level'],'inline':!![]},{'name':_0x2742ad(0x113),'value':_0x4a9423['experience'],'inline':!![]},{'name':'Karma','value':_0x4a9423[_0x2742ad(0x10c)],'inline':!![]},{'name':_0x2742ad(0x101),'value':_0x4a9423[_0x2742ad(0x149)],'inline':!![]},{'name':'Location','value':_0x414b15['location']||'-','inline':!![]},{'name':_0x2742ad(0x144)+_0x61d892[_0x2742ad(0x10a)]+'\x20/\x20'+_0x61d892[_0x2742ad(0x111)]+'\x20-\x20'+Math[_0x2742ad(0x105)](_0x2c4958)+'%','value':'`'+(0x0,progress_1[_0x2742ad(0x132)])(_0x2c4958,0x23)+'`'}],'thumbnail':{'url':_0x1abcc9[_0x2742ad(0x127)][_0x2742ad(0x118)]({'dynamic':!![],'size':0x200})},'image':{'url':_0x414b15[_0x2742ad(0x148)]},'footer':{'text':_0x1abcc9['id']===this[_0x2742ad(0x145)]['locale'][_0x2742ad(0x11d)](_0x2742ad(0x12d))?'':_0x2742ad(0x126)+_0x1abcc9[_0x2742ad(0x129)]+_0x2742ad(0x147)}}})[_0x2742ad(0x141)](()=>{});};};