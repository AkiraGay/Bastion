const a108_0x1cdd=['test','Location','emoji','../../models/Member','Level','Progress\x20-\x20','find','send','balance','isPublicBastion','Bastion\x20Coins','findById','DEFAUL_LEVELUP_MULTIPLIER','tag','getConstant','profile','computeExperience','apply','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','errors','getString','Karma','level','channel','nextLevel','color','\x20/\x20','catch','displayAvatarURL','user','memberNotFound','About','profileNotFound','multiplier','resolveGuildMember','resolver','IRIS','experience','countDocuments','author','document','Bastion\x20Profile','resolveBadges','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','info','../../utils/progress','cakeDay','COLORS','badgeValue','Command','../../utils/constants','profile\x20USER','karma','client','../../utils/badges','currentLevel','gamification','guild','length','exports','language','round','location','compile','constructor','locale'];(function(_0x4ae1ae,_0x1cdd93){const _0x46f283=function(_0x3b2930){while(--_0x3b2930){_0x4ae1ae['push'](_0x4ae1ae['shift']());}};const _0x1ecd44=function(){const _0x8f083={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x56aa5b,_0x304210,_0x13e3ca,_0x43b82c){_0x43b82c=_0x43b82c||{};let _0x53b7e4=_0x304210+'='+_0x13e3ca;let _0x90132=0x0;for(let _0x51d321=0x0,_0x2befc5=_0x56aa5b['length'];_0x51d321<_0x2befc5;_0x51d321++){const _0x1dcc71=_0x56aa5b[_0x51d321];_0x53b7e4+=';\x20'+_0x1dcc71;const _0x4ec50f=_0x56aa5b[_0x1dcc71];_0x56aa5b['push'](_0x4ec50f);_0x2befc5=_0x56aa5b['length'];if(_0x4ec50f!==!![]){_0x53b7e4+='='+_0x4ec50f;}}_0x43b82c['cookie']=_0x53b7e4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x46c478,_0x3596f1){_0x46c478=_0x46c478||function(_0x446d73){return _0x446d73;};const _0x450074=_0x46c478(new RegExp('(?:^|;\x20)'+_0x3596f1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x25cbbc=function(_0x163893,_0x2a4fff){_0x163893(++_0x2a4fff);};_0x25cbbc(_0x46f283,_0x1cdd93);return _0x450074?decodeURIComponent(_0x450074[0x1]):undefined;}};const _0x4cef07=function(){const _0x12143b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x12143b['test'](_0x8f083['removeCookie']['toString']());};_0x8f083['updateCookie']=_0x4cef07;let _0x2fc042='';const _0x226c28=_0x8f083['updateCookie']();if(!_0x226c28){_0x8f083['setCookie'](['*'],'counter',0x1);}else if(_0x226c28){_0x2fc042=_0x8f083['getCookie'](null,'counter');}else{_0x8f083['removeCookie']();}};_0x1ecd44();}(a108_0x1cdd,0x19e));const a108_0x46f2=function(_0x4ae1ae,_0x1cdd93){_0x4ae1ae=_0x4ae1ae-0x0;let _0x46f283=a108_0x1cdd[_0x4ae1ae];return _0x46f283;};const a108_0x8f083=function(){let _0x594fcb=!![];return function(_0x120879,_0x12ff89){const _0x499e8e=_0x594fcb?function(){if(_0x12ff89){const _0x49eba2=_0x12ff89[a108_0x46f2('0x5')](_0x120879,arguments);_0x12ff89=null;return _0x49eba2;}}:function(){};_0x594fcb=![];return _0x499e8e;};}();const a108_0x3b2930=a108_0x8f083(this,function(){const _0x2ac27a=function(){const _0x293319=_0x2ac27a[a108_0x46f2('0x35')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a108_0x46f2('0x34')](a108_0x46f2('0x1f'));return!_0x293319[a108_0x46f2('0x37')](a108_0x3b2930);};return _0x2ac27a();});a108_0x3b2930();'use strict';const tesseract_1=require('@bastion/tesseract');const Member_1=require(a108_0x46f2('0x3a'));const User_1=require('../../models/User');const badges=require(a108_0x46f2('0x2b'));const constants=require(a108_0x46f2('0x27'));const gamification=require('../../utils/gamification');const progress_1=require(a108_0x46f2('0x22'));module[a108_0x46f2('0x30')]=class ProfileCommand extends tesseract_1[a108_0x46f2('0x26')]{constructor(){super(a108_0x46f2('0x3'),{'description':a108_0x46f2('0x6'),'triggers':[],'arguments':{},'scope':a108_0x46f2('0x2e'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a108_0x46f2('0x3'),a108_0x46f2('0x28')]});this['exec']=async(_0x5c6d1c,_0x5d52cf)=>{const _0x5e21b8=_0x5d52cf['_'][a108_0x46f2('0x2f')]?_0x5d52cf['_'][0x0]:_0x5c6d1c[a108_0x46f2('0x1b')]['id'];const _0x4d42d6=_0x5e21b8===_0x5c6d1c['author']['id']?_0x5c6d1c['member']:this[a108_0x46f2('0x2a')][a108_0x46f2('0x17')][a108_0x46f2('0x16')](_0x5c6d1c['guild'],_0x5e21b8);if(!_0x4d42d6)throw new Error(this[a108_0x46f2('0x2a')][a108_0x46f2('0x36')][a108_0x46f2('0x8')](_0x5c6d1c[a108_0x46f2('0x2e')][a108_0x46f2('0x1c')][a108_0x46f2('0x31')],a108_0x46f2('0x7'),a108_0x46f2('0x12')));const _0x356609=_0x5e21b8===_0x5c6d1c[a108_0x46f2('0x1b')]['id']?_0x5c6d1c['author'][a108_0x46f2('0x1c')]:await User_1[a108_0x46f2('0x20')][a108_0x46f2('0x42')](_0x5e21b8);const _0x2b922c=_0x5e21b8===_0x5c6d1c[a108_0x46f2('0x1b')]['id']?_0x4d42d6[a108_0x46f2('0x1c')]:await Member_1[a108_0x46f2('0x20')]['findOne']({'user':_0x5e21b8,'guild':_0x5c6d1c['guild']['id']});if(!_0x356609||!_0x2b922c)throw new Error(this[a108_0x46f2('0x2a')][a108_0x46f2('0x36')][a108_0x46f2('0x8')](_0x5c6d1c[a108_0x46f2('0x2e')][a108_0x46f2('0x1c')][a108_0x46f2('0x31')],a108_0x46f2('0x7'),a108_0x46f2('0x14')));const _0x2f9390=await Member_1[a108_0x46f2('0x20')][a108_0x46f2('0x3d')]({'guild':_0x5c6d1c[a108_0x46f2('0x2e')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a108_0x46f2('0x1a')]({'$or':[{'level':{'$gt':_0x2b922c[a108_0x46f2('0xa')]}},{'level':_0x2b922c[a108_0x46f2('0xa')],'experience':{'$gt':_0x2b922c[a108_0x46f2('0x19')]}},{'level':_0x2b922c[a108_0x46f2('0xa')],'experience':_0x2b922c['experience'],'karma':{'$gt':_0x2b922c['karma']}},{'level':_0x2b922c[a108_0x46f2('0xa')],'experience':_0x2b922c[a108_0x46f2('0x19')],'karma':_0x2b922c[a108_0x46f2('0x29')],'balance':{'$gt':_0x2b922c[a108_0x46f2('0x3f')]}}]});const _0x4f1fbf={'currentLevel':gamification[a108_0x46f2('0x4')](_0x2b922c['level'],_0x5c6d1c[a108_0x46f2('0x2e')][a108_0x46f2('0x1c')]['gamification']?_0x5c6d1c[a108_0x46f2('0x2e')][a108_0x46f2('0x1c')][a108_0x46f2('0x2d')][a108_0x46f2('0x15')]:gamification[a108_0x46f2('0x0')]),'nextLevel':gamification['computeExperience'](_0x2b922c[a108_0x46f2('0xa')]+0x1,_0x5c6d1c[a108_0x46f2('0x2e')][a108_0x46f2('0x1c')][a108_0x46f2('0x2d')]?_0x5c6d1c[a108_0x46f2('0x2e')]['document'][a108_0x46f2('0x2d')][a108_0x46f2('0x15')]:gamification[a108_0x46f2('0x0')])};const _0x2156d4={'currentLevel':_0x2b922c[a108_0x46f2('0x19')]-_0x4f1fbf['currentLevel'],'nextLevel':_0x4f1fbf['nextLevel']-_0x4f1fbf[a108_0x46f2('0x2c')]};const _0x2c1492=_0x2156d4[a108_0x46f2('0x2c')]/_0x2156d4[a108_0x46f2('0xc')]*0x64;const _0x2a065e=constants[a108_0x46f2('0x40')](this[a108_0x46f2('0x2a')][a108_0x46f2('0x11')])&&await badges['fetchBadges'](_0x4d42d6['id'])['then'](_0x160055=>_0x160055['json']())['catch'](()=>{});_0x5c6d1c[a108_0x46f2('0xb')][a108_0x46f2('0x3e')]({'embed':{'color':_0x356609[a108_0x46f2('0xd')]||tesseract_1['Constants'][a108_0x46f2('0x24')][a108_0x46f2('0x18')],'author':{'name':_0x4d42d6[a108_0x46f2('0x11')][a108_0x46f2('0x1')]},'title':a108_0x46f2('0x1d'),'description':(_0x2a065e&&a108_0x46f2('0x25')in _0x2a065e?badges[a108_0x46f2('0x1e')](_0x2a065e[a108_0x46f2('0x25')]):[])['map'](_0x242a32=>_0x242a32[a108_0x46f2('0x39')])['join']('\x20'),'fields':[{'name':a108_0x46f2('0x13'),'value':_0x356609[a108_0x46f2('0x21')]||'-'},{'name':'Rank','value':_0x2f9390+0x1,'inline':!![]},{'name':a108_0x46f2('0x3b'),'value':_0x2b922c[a108_0x46f2('0xa')],'inline':!![]},{'name':'Experience','value':_0x2b922c[a108_0x46f2('0x19')],'inline':!![]},{'name':a108_0x46f2('0x9'),'value':_0x2b922c[a108_0x46f2('0x29')],'inline':!![]},{'name':a108_0x46f2('0x41'),'value':_0x2b922c['balance'],'inline':!![]},{'name':a108_0x46f2('0x3c')+_0x2156d4[a108_0x46f2('0x2c')]+a108_0x46f2('0xe')+_0x2156d4[a108_0x46f2('0xc')]+'\x20-\x20'+Math[a108_0x46f2('0x32')](_0x2c1492)+'%','value':'`'+progress_1['default'](_0x2c1492,0x23)+'`'},{'name':'Cake\x20Day','value':_0x356609[a108_0x46f2('0x23')]?_0x356609[a108_0x46f2('0x23')]['toDateString']():'-','inline':!![]},{'name':a108_0x46f2('0x38'),'value':_0x356609[a108_0x46f2('0x33')]||'-','inline':!![]}],'thumbnail':{'url':_0x4d42d6[a108_0x46f2('0x11')][a108_0x46f2('0x10')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x356609['backdrop']},'footer':{'text':_0x4d42d6['id']===this[a108_0x46f2('0x2a')][a108_0x46f2('0x36')][a108_0x46f2('0x2')]('author.discord.id')?'Oh,\x20hey!\x20Here\x27s\x20my\x20developer!':''}}})[a108_0x46f2('0xf')](()=>{});};}};