const a108_0x418e=['findOne','info','Rank','then','computeExperience','Location','author.discord.id','backdrop','emoji','karma','getString','nextLevel','Cake\x20Day','location','round','toDateString','length','Oh,\x20hey!\x20Here\x27s\x20my\x20developer!','gamification','getConstant','../../models/Member','currentLevel','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','profileNotFound','Progress\x20-\x20','language','fetchBadges','../../models/User','user','findById','member','join','@bastion/tesseract','cakeDay','Constants','DEFAUL_LEVELUP_MULTIPLIER','find','locale','channel','client','level','../../utils/gamification','../../utils/constants','Karma','send','apply','COLORS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','resolveGuildMember','catch','resolver','default','isPublicBastion','badgeValue','../../utils/progress','Command','countDocuments','map','multiplier','test','guild','color','compile','errors','../../utils/badges','\x20-\x20','exec','displayAvatarURL','experience','document','profile','author'];(function(_0x5c48cb,_0x418e7c){const _0x599566=function(_0x2b6b80){while(--_0x2b6b80){_0x5c48cb['push'](_0x5c48cb['shift']());}};const _0x59b21c=function(){const _0x29330c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5912ef,_0x308d9b,_0xc7ac4,_0x269780){_0x269780=_0x269780||{};let _0x1381e5=_0x308d9b+'='+_0xc7ac4;let _0x35878f=0x0;for(let _0x44c6e6=0x0,_0x22842e=_0x5912ef['length'];_0x44c6e6<_0x22842e;_0x44c6e6++){const _0x41daa3=_0x5912ef[_0x44c6e6];_0x1381e5+=';\x20'+_0x41daa3;const _0x16da5c=_0x5912ef[_0x41daa3];_0x5912ef['push'](_0x16da5c);_0x22842e=_0x5912ef['length'];if(_0x16da5c!==!![]){_0x1381e5+='='+_0x16da5c;}}_0x269780['cookie']=_0x1381e5;},'removeCookie':function(){return'dev';},'getCookie':function(_0x23d84d,_0x578434){_0x23d84d=_0x23d84d||function(_0x2c6e44){return _0x2c6e44;};const _0x459fe3=_0x23d84d(new RegExp('(?:^|;\x20)'+_0x578434['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2afa2b=function(_0x496781,_0x5a998c){_0x496781(++_0x5a998c);};_0x2afa2b(_0x599566,_0x418e7c);return _0x459fe3?decodeURIComponent(_0x459fe3[0x1]):undefined;}};const _0x4c7df2=function(){const _0x58f42b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x58f42b['test'](_0x29330c['removeCookie']['toString']());};_0x29330c['updateCookie']=_0x4c7df2;let _0x2a3a69='';const _0x5c6873=_0x29330c['updateCookie']();if(!_0x5c6873){_0x29330c['setCookie'](['*'],'counter',0x1);}else if(_0x5c6873){_0x2a3a69=_0x29330c['getCookie'](null,'counter');}else{_0x29330c['removeCookie']();}};_0x59b21c();}(a108_0x418e,0x1e8));const a108_0x5995=function(_0x5c48cb,_0x418e7c){_0x5c48cb=_0x5c48cb-0x0;let _0x599566=a108_0x418e[_0x5c48cb];return _0x599566;};const a108_0x29330c=function(){let _0x54943c=!![];return function(_0x69536a,_0x3b005d){const _0x2d776d=_0x54943c?function(){if(_0x3b005d){const _0x1fec00=_0x3b005d[a108_0x5995('0x3d')](_0x69536a,arguments);_0x3b005d=null;return _0x1fec00;}}:function(){};_0x54943c=![];return _0x2d776d;};}();const a108_0x2b6b80=a108_0x29330c(this,function(){const _0x21c264=function(){const _0x287421=_0x21c264['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a108_0x5995('0x6')](a108_0x5995('0x3f'));return!_0x287421[a108_0x5995('0x3')](a108_0x2b6b80);};return _0x21c264();});a108_0x2b6b80();'use strict';const tesseract_1=require(a108_0x5995('0x30'));const Member_1=require(a108_0x5995('0x24'));const User_1=require(a108_0x5995('0x2b'));const badges=require(a108_0x5995('0x8'));const constants=require(a108_0x5995('0x3a'));const gamification=require(a108_0x5995('0x39'));const progress_1=require(a108_0x5995('0x46'));module['exports']=class ProfileCommand extends tesseract_1[a108_0x5995('0x47')]{constructor(){super(a108_0x5995('0xe'),{'description':a108_0x5995('0x26'),'triggers':[],'arguments':{},'scope':a108_0x5995('0x4'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile','profile\x20USER']});this[a108_0x5995('0xa')]=async(_0x3d79ba,_0x44e1db)=>{const _0x542d8f=_0x44e1db['_'][a108_0x5995('0x20')]?_0x44e1db['_'][0x0]:_0x3d79ba['author']['id'];const _0x378612=_0x542d8f===_0x3d79ba['author']['id']?_0x3d79ba[a108_0x5995('0x2e')]:this[a108_0x5995('0x37')][a108_0x5995('0x42')][a108_0x5995('0x40')](_0x3d79ba[a108_0x5995('0x4')],_0x542d8f);if(!_0x378612)throw new Error(this[a108_0x5995('0x37')]['locale']['getString'](_0x3d79ba[a108_0x5995('0x4')][a108_0x5995('0xd')][a108_0x5995('0x29')],a108_0x5995('0x7'),'memberNotFound'));const _0x4743a1=_0x542d8f===_0x3d79ba[a108_0x5995('0xf')]['id']?_0x3d79ba[a108_0x5995('0xf')][a108_0x5995('0xd')]:await User_1[a108_0x5995('0x43')][a108_0x5995('0x2d')](_0x542d8f);const _0x292aa4=_0x542d8f===_0x3d79ba[a108_0x5995('0xf')]['id']?_0x378612['document']:await Member_1[a108_0x5995('0x43')][a108_0x5995('0x10')]({'user':_0x542d8f,'guild':_0x3d79ba[a108_0x5995('0x4')]['id']});if(!_0x4743a1||!_0x292aa4)throw new Error(this[a108_0x5995('0x37')][a108_0x5995('0x35')][a108_0x5995('0x1a')](_0x3d79ba[a108_0x5995('0x4')][a108_0x5995('0xd')][a108_0x5995('0x29')],a108_0x5995('0x7'),a108_0x5995('0x27')));const _0x573451=await Member_1['default'][a108_0x5995('0x34')]({'guild':_0x3d79ba[a108_0x5995('0x4')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a108_0x5995('0x0')]({'$or':[{'level':{'$gt':_0x292aa4[a108_0x5995('0x38')]}},{'level':_0x292aa4['level'],'experience':{'$gt':_0x292aa4['experience']}},{'level':_0x292aa4[a108_0x5995('0x38')],'experience':_0x292aa4['experience'],'karma':{'$gt':_0x292aa4['karma']}},{'level':_0x292aa4[a108_0x5995('0x38')],'experience':_0x292aa4['experience'],'karma':_0x292aa4[a108_0x5995('0x19')],'balance':{'$gt':_0x292aa4['balance']}}]});const _0x23b865={'currentLevel':gamification[a108_0x5995('0x14')](_0x292aa4[a108_0x5995('0x38')],_0x3d79ba['guild']['document'][a108_0x5995('0x22')]?_0x3d79ba[a108_0x5995('0x4')][a108_0x5995('0xd')][a108_0x5995('0x22')][a108_0x5995('0x2')]:gamification[a108_0x5995('0x33')]),'nextLevel':gamification['computeExperience'](_0x292aa4[a108_0x5995('0x38')]+0x1,_0x3d79ba[a108_0x5995('0x4')][a108_0x5995('0xd')][a108_0x5995('0x22')]?_0x3d79ba[a108_0x5995('0x4')]['document'][a108_0x5995('0x22')]['multiplier']:gamification['DEFAUL_LEVELUP_MULTIPLIER'])};const _0x4ed776={'currentLevel':_0x292aa4[a108_0x5995('0xc')]-_0x23b865['currentLevel'],'nextLevel':_0x23b865[a108_0x5995('0x1b')]-_0x23b865[a108_0x5995('0x25')]};const _0x2025b9=_0x4ed776[a108_0x5995('0x25')]/_0x4ed776[a108_0x5995('0x1b')]*0x64;const _0x164e41=constants[a108_0x5995('0x44')](this[a108_0x5995('0x37')][a108_0x5995('0x2c')])&&await badges[a108_0x5995('0x2a')](_0x378612['id'])[a108_0x5995('0x13')](_0x205bcc=>_0x205bcc['json']())[a108_0x5995('0x41')](()=>{});_0x3d79ba[a108_0x5995('0x36')][a108_0x5995('0x3c')]({'embed':{'color':_0x4743a1[a108_0x5995('0x5')]||tesseract_1[a108_0x5995('0x32')][a108_0x5995('0x3e')]['IRIS'],'author':{'name':_0x378612[a108_0x5995('0x2c')]['tag']},'title':'Bastion\x20Profile','description':(_0x164e41&&a108_0x5995('0x45')in _0x164e41?badges['resolveBadges'](_0x164e41[a108_0x5995('0x45')]):[])[a108_0x5995('0x1')](_0xfd52fc=>_0xfd52fc[a108_0x5995('0x18')])[a108_0x5995('0x2f')]('\x20'),'fields':[{'name':'About','value':_0x4743a1[a108_0x5995('0x11')]||'-'},{'name':a108_0x5995('0x12'),'value':_0x573451+0x1,'inline':!![]},{'name':'Level','value':_0x292aa4[a108_0x5995('0x38')],'inline':!![]},{'name':'Experience','value':_0x292aa4['experience'],'inline':!![]},{'name':a108_0x5995('0x3b'),'value':_0x292aa4[a108_0x5995('0x19')],'inline':!![]},{'name':'Bastion\x20Coins','value':_0x292aa4['balance'],'inline':!![]},{'name':a108_0x5995('0x28')+_0x4ed776[a108_0x5995('0x25')]+'\x20/\x20'+_0x4ed776['nextLevel']+a108_0x5995('0x9')+Math[a108_0x5995('0x1e')](_0x2025b9)+'%','value':'`'+progress_1[a108_0x5995('0x43')](_0x2025b9,0x23)+'`'},{'name':a108_0x5995('0x1c'),'value':_0x4743a1[a108_0x5995('0x31')]?_0x4743a1['cakeDay'][a108_0x5995('0x1f')]():'-','inline':!![]},{'name':a108_0x5995('0x15'),'value':_0x4743a1[a108_0x5995('0x1d')]||'-','inline':!![]}],'thumbnail':{'url':_0x378612['user'][a108_0x5995('0xb')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x4743a1[a108_0x5995('0x17')]},'footer':{'text':_0x378612['id']===this['client'][a108_0x5995('0x35')][a108_0x5995('0x23')](a108_0x5995('0x16'))?a108_0x5995('0x21'):''}}})[a108_0x5995('0x41')](()=>{});};}};