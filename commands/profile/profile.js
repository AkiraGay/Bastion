const a108_0xe44c=['language','@bastion/tesseract','profile\x20USER','resolver','exports','countDocuments','../../utils/gamification','author','About','join','info','document','fetchBadges','../../models/Member','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','test','color','constructor','toDateString','COLORS','Rank','map','profileNotFound','profile','karma','level','badgeValue','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','../../utils/constants','../../utils/progress','Cake\x20Day','locale','Level','then','\x20-\x20','tag','findOne','round','Experience','computeExperience','member','nextLevel','balance','location','Progress\x20-\x20','send','experience','channel','guild','Location','gamification','catch','author.discord.id','user','cakeDay','multiplier','\x20/\x20','isPublicBastion','emoji','getString','errors','displayAvatarURL','Bastion\x20Coins','backdrop','find','client','IRIS','default','Command','currentLevel','memberNotFound'];(function(_0x462526,_0xe44c57){const _0x1316a3=function(_0x44cfac){while(--_0x44cfac){_0x462526['push'](_0x462526['shift']());}};const _0x2db3a0=function(){const _0x35c45c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xa37a0d,_0x4eb402,_0xef0c1b,_0x15c6b0){_0x15c6b0=_0x15c6b0||{};let _0x160fe6=_0x4eb402+'='+_0xef0c1b;let _0x1f6809=0x0;for(let _0x55a4ed=0x0,_0x565efe=_0xa37a0d['length'];_0x55a4ed<_0x565efe;_0x55a4ed++){const _0x18054c=_0xa37a0d[_0x55a4ed];_0x160fe6+=';\x20'+_0x18054c;const _0x11e832=_0xa37a0d[_0x18054c];_0xa37a0d['push'](_0x11e832);_0x565efe=_0xa37a0d['length'];if(_0x11e832!==!![]){_0x160fe6+='='+_0x11e832;}}_0x15c6b0['cookie']=_0x160fe6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3d8d0b,_0x3b11f6){_0x3d8d0b=_0x3d8d0b||function(_0x51ee40){return _0x51ee40;};const _0x36020d=_0x3d8d0b(new RegExp('(?:^|;\x20)'+_0x3b11f6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1cb542=function(_0x4a1b4a,_0x203dd7){_0x4a1b4a(++_0x203dd7);};_0x1cb542(_0x1316a3,_0xe44c57);return _0x36020d?decodeURIComponent(_0x36020d[0x1]):undefined;}};const _0x4adb46=function(){const _0x3a0d1b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3a0d1b['test'](_0x35c45c['removeCookie']['toString']());};_0x35c45c['updateCookie']=_0x4adb46;let _0x4c8600='';const _0x3fb513=_0x35c45c['updateCookie']();if(!_0x3fb513){_0x35c45c['setCookie'](['*'],'counter',0x1);}else if(_0x3fb513){_0x4c8600=_0x35c45c['getCookie'](null,'counter');}else{_0x35c45c['removeCookie']();}};_0x2db3a0();}(a108_0xe44c,0x18a));const a108_0x1316=function(_0x462526,_0xe44c57){_0x462526=_0x462526-0x0;let _0x1316a3=a108_0xe44c[_0x462526];return _0x1316a3;};const a108_0x35c45c=function(){let _0xfcb66e=!![];return function(_0x2f1d50,_0x366a2c){const _0x197c72=_0xfcb66e?function(){if(_0x366a2c){const _0x1babbf=_0x366a2c['apply'](_0x2f1d50,arguments);_0x366a2c=null;return _0x1babbf;}}:function(){};_0xfcb66e=![];return _0x197c72;};}();const a108_0x44cfac=a108_0x35c45c(this,function(){const _0x8a4bd7=function(){const _0x482ae3=_0x8a4bd7[a108_0x1316('0x37')](a108_0x1316('0x41'))()['compile'](a108_0x1316('0x34'));return!_0x482ae3[a108_0x1316('0x35')](a108_0x44cfac);};return _0x8a4bd7();});a108_0x44cfac();'use strict';const tesseract_1=require(a108_0x1316('0x27'));const Member_1=require(a108_0x1316('0x33'));const User_1=require('../../models/User');const badges=require('../../utils/badges');const constants=require(a108_0x1316('0x43'));const gamification=require(a108_0x1316('0x2c'));const progress_1=require(a108_0x1316('0x44'));module[a108_0x1316('0x2a')]=class ProfileCommand extends tesseract_1[a108_0x1316('0x23')]{constructor(){super(a108_0x1316('0x3d'),{'description':'It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','triggers':[],'arguments':{},'scope':'guild','owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a108_0x1316('0x3d'),a108_0x1316('0x28')]});this['exec']=async(_0x23eaf8,_0x43d0ec)=>{const _0x2840b4=_0x43d0ec['_'][a108_0x1316('0x42')]?_0x43d0ec['_'][0x0]:_0x23eaf8[a108_0x1316('0x2d')]['id'];const _0x4de94c=_0x2840b4===_0x23eaf8[a108_0x1316('0x2d')]['id']?_0x23eaf8[a108_0x1316('0x7')]:this[a108_0x1316('0x20')][a108_0x1316('0x29')]['resolveGuildMember'](_0x23eaf8[a108_0x1316('0xf')],_0x2840b4);if(!_0x4de94c)throw new Error(this[a108_0x1316('0x20')][a108_0x1316('0x46')]['getString'](_0x23eaf8[a108_0x1316('0xf')]['document'][a108_0x1316('0x26')],a108_0x1316('0x1b'),a108_0x1316('0x25')));const _0x474b09=_0x2840b4===_0x23eaf8[a108_0x1316('0x2d')]['id']?_0x23eaf8['author'][a108_0x1316('0x31')]:await User_1['default']['findById'](_0x2840b4);const _0x2f697b=_0x2840b4===_0x23eaf8[a108_0x1316('0x2d')]['id']?_0x4de94c[a108_0x1316('0x31')]:await Member_1[a108_0x1316('0x22')][a108_0x1316('0x3')]({'user':_0x2840b4,'guild':_0x23eaf8[a108_0x1316('0xf')]['id']});if(!_0x474b09||!_0x2f697b)throw new Error(this[a108_0x1316('0x20')]['locale'][a108_0x1316('0x1a')](_0x23eaf8[a108_0x1316('0xf')][a108_0x1316('0x31')][a108_0x1316('0x26')],a108_0x1316('0x1b'),a108_0x1316('0x3c')));const _0x330a47=await Member_1[a108_0x1316('0x22')][a108_0x1316('0x1f')]({'guild':_0x23eaf8[a108_0x1316('0xf')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a108_0x1316('0x2b')]({'$or':[{'level':{'$gt':_0x2f697b[a108_0x1316('0x3f')]}},{'level':_0x2f697b[a108_0x1316('0x3f')],'experience':{'$gt':_0x2f697b[a108_0x1316('0xd')]}},{'level':_0x2f697b[a108_0x1316('0x3f')],'experience':_0x2f697b[a108_0x1316('0xd')],'karma':{'$gt':_0x2f697b['karma']}},{'level':_0x2f697b[a108_0x1316('0x3f')],'experience':_0x2f697b[a108_0x1316('0xd')],'karma':_0x2f697b[a108_0x1316('0x3e')],'balance':{'$gt':_0x2f697b[a108_0x1316('0x9')]}}]});const _0x524910={'currentLevel':gamification[a108_0x1316('0x6')](_0x2f697b[a108_0x1316('0x3f')],_0x23eaf8[a108_0x1316('0xf')][a108_0x1316('0x31')][a108_0x1316('0x11')]?_0x23eaf8[a108_0x1316('0xf')][a108_0x1316('0x31')][a108_0x1316('0x11')][a108_0x1316('0x16')]:gamification['DEFAUL_LEVELUP_MULTIPLIER']),'nextLevel':gamification[a108_0x1316('0x6')](_0x2f697b[a108_0x1316('0x3f')]+0x1,_0x23eaf8[a108_0x1316('0xf')][a108_0x1316('0x31')]['gamification']?_0x23eaf8['guild'][a108_0x1316('0x31')][a108_0x1316('0x11')]['multiplier']:gamification['DEFAUL_LEVELUP_MULTIPLIER'])};const _0x836ace={'currentLevel':_0x2f697b['experience']-_0x524910[a108_0x1316('0x24')],'nextLevel':_0x524910[a108_0x1316('0x8')]-_0x524910[a108_0x1316('0x24')]};const _0x3d93b1=_0x836ace['currentLevel']/_0x836ace['nextLevel']*0x64;const _0x208a4d=constants[a108_0x1316('0x18')](this[a108_0x1316('0x20')][a108_0x1316('0x14')])&&await badges[a108_0x1316('0x32')](_0x4de94c['id'])[a108_0x1316('0x0')](_0x2813df=>_0x2813df['json']())[a108_0x1316('0x12')](()=>{});_0x23eaf8[a108_0x1316('0xe')][a108_0x1316('0xc')]({'embed':{'color':_0x474b09[a108_0x1316('0x36')]||tesseract_1['Constants'][a108_0x1316('0x39')][a108_0x1316('0x21')],'author':{'name':_0x4de94c[a108_0x1316('0x14')][a108_0x1316('0x2')]},'title':'Bastion\x20Profile','description':(_0x208a4d&&a108_0x1316('0x40')in _0x208a4d?badges['resolveBadges'](_0x208a4d['badgeValue']):[])[a108_0x1316('0x3b')](_0x2bab05=>_0x2bab05[a108_0x1316('0x19')])[a108_0x1316('0x2f')]('\x20'),'fields':[{'name':a108_0x1316('0x2e'),'value':_0x474b09[a108_0x1316('0x30')]||'-'},{'name':a108_0x1316('0x3a'),'value':_0x330a47+0x1,'inline':!![]},{'name':a108_0x1316('0x47'),'value':_0x2f697b['level'],'inline':!![]},{'name':a108_0x1316('0x5'),'value':_0x2f697b[a108_0x1316('0xd')],'inline':!![]},{'name':'Karma','value':_0x2f697b[a108_0x1316('0x3e')],'inline':!![]},{'name':a108_0x1316('0x1d'),'value':_0x2f697b[a108_0x1316('0x9')],'inline':!![]},{'name':a108_0x1316('0xb')+_0x836ace[a108_0x1316('0x24')]+a108_0x1316('0x17')+_0x836ace[a108_0x1316('0x8')]+a108_0x1316('0x1')+Math[a108_0x1316('0x4')](_0x3d93b1)+'%','value':'`'+progress_1[a108_0x1316('0x22')](_0x3d93b1,0x23)+'`'},{'name':a108_0x1316('0x45'),'value':_0x474b09[a108_0x1316('0x15')]?_0x474b09[a108_0x1316('0x15')][a108_0x1316('0x38')]():'-','inline':!![]},{'name':a108_0x1316('0x10'),'value':_0x474b09[a108_0x1316('0xa')]||'-','inline':!![]}],'thumbnail':{'url':_0x4de94c[a108_0x1316('0x14')][a108_0x1316('0x1c')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x474b09[a108_0x1316('0x1e')]},'footer':{'text':_0x4de94c['id']===this[a108_0x1316('0x20')]['locale']['getConstant'](a108_0x1316('0x13'))?'Oh,\x20hey!\x20Here\x27s\x20my\x20developer!':''}}})[a108_0x1316('0x12')](()=>{});};}};