const a108_0x4b44=['countDocuments','send','nextLevel','experience','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','catch','gamification','emoji','multiplier','resolveBadges','findById','toDateString','round','Command','map','../../utils/badges','level','\x20/\x20','cakeDay','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','member','compile','client','default','location','profile\x20USER','karma','memberNotFound','user','channel','@bastion/tesseract','fetchBadges','About','Bastion\x20Profile','currentLevel','findOne','../../utils/progress','test','apply','profile','resolver','language','color','badgeValue','getString','exports','locale','exec','backdrop','guild','Progress\x20-\x20','displayAvatarURL','json','../../utils/gamification','Rank','Location','tag','getConstant','Experience','Bastion\x20Coins','author','document','computeExperience','then','balance','profileNotFound','length','info','errors','return\x20/\x22\x20+\x20this\x20+\x20\x22/','DEFAUL_LEVELUP_MULTIPLIER','resolveGuildMember'];(function(_0x5dc0c5,_0x4b440b){const _0x3e41cc=function(_0x2b1c81){while(--_0x2b1c81){_0x5dc0c5['push'](_0x5dc0c5['shift']());}};const _0x3cfcbf=function(){const _0x47fc01={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x29c259,_0xf7920d,_0x28a7e4,_0x1827af){_0x1827af=_0x1827af||{};let _0x3678d4=_0xf7920d+'='+_0x28a7e4;let _0x5c6f16=0x0;for(let _0x578ba3=0x0,_0x1472df=_0x29c259['length'];_0x578ba3<_0x1472df;_0x578ba3++){const _0xfcb0d6=_0x29c259[_0x578ba3];_0x3678d4+=';\x20'+_0xfcb0d6;const _0x4431ea=_0x29c259[_0xfcb0d6];_0x29c259['push'](_0x4431ea);_0x1472df=_0x29c259['length'];if(_0x4431ea!==!![]){_0x3678d4+='='+_0x4431ea;}}_0x1827af['cookie']=_0x3678d4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2bcb38,_0x1ae7b8){_0x2bcb38=_0x2bcb38||function(_0x362947){return _0x362947;};const _0x2efba9=_0x2bcb38(new RegExp('(?:^|;\x20)'+_0x1ae7b8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x31b4b0=function(_0x3e17f3,_0x31cb7a){_0x3e17f3(++_0x31cb7a);};_0x31b4b0(_0x3e41cc,_0x4b440b);return _0x2efba9?decodeURIComponent(_0x2efba9[0x1]):undefined;}};const _0x4545cb=function(){const _0x3e7ea6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3e7ea6['test'](_0x47fc01['removeCookie']['toString']());};_0x47fc01['updateCookie']=_0x4545cb;let _0xaabb6b='';const _0x4f911a=_0x47fc01['updateCookie']();if(!_0x4f911a){_0x47fc01['setCookie'](['*'],'counter',0x1);}else if(_0x4f911a){_0xaabb6b=_0x47fc01['getCookie'](null,'counter');}else{_0x47fc01['removeCookie']();}};_0x3cfcbf();}(a108_0x4b44,0x1ee));const a108_0x3e41=function(_0x5dc0c5,_0x4b440b){_0x5dc0c5=_0x5dc0c5-0x0;let _0x3e41cc=a108_0x4b44[_0x5dc0c5];return _0x3e41cc;};const a108_0x47fc01=function(){let _0x55f5f1=!![];return function(_0x489c56,_0x3324f3){const _0x4d1c33=_0x55f5f1?function(){if(_0x3324f3){const _0x1c615f=_0x3324f3[a108_0x3e41('0x30')](_0x489c56,arguments);_0x3324f3=null;return _0x1c615f;}}:function(){};_0x55f5f1=![];return _0x4d1c33;};}();const a108_0x2b1c81=a108_0x47fc01(this,function(){const _0x5c663e=function(){const _0x4d10a6=_0x5c663e['constructor'](a108_0x3e41('0x7'))()[a108_0x3e41('0x1f')](a108_0x3e41('0xe'));return!_0x4d10a6[a108_0x3e41('0x2f')](a108_0x2b1c81);};return _0x5c663e();});a108_0x2b1c81();'use strict';const tesseract_1=require(a108_0x3e41('0x28'));const Member_1=require('../../models/Member');const User_1=require('../../models/User');const badges=require(a108_0x3e41('0x19'));const gamification=require(a108_0x3e41('0x3f'));const progress_1=require(a108_0x3e41('0x2e'));module[a108_0x3e41('0x37')]=class ProfileCommand extends tesseract_1[a108_0x3e41('0x17')]{constructor(){super(a108_0x3e41('0x31'),{'description':a108_0x3e41('0x1d'),'triggers':[],'arguments':{},'scope':a108_0x3e41('0x3b'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a108_0x3e41('0x31'),a108_0x3e41('0x23')]});this[a108_0x3e41('0x39')]=async(_0x3c9847,_0x3d8c7d)=>{const _0x2ba1ad=_0x3d8c7d['_'][a108_0x3e41('0x4')]?_0x3d8c7d['_'][0x0]:_0x3c9847[a108_0x3e41('0x46')]['id'];const _0xc0a5c4=_0x2ba1ad===_0x3c9847['author']['id']?_0x3c9847[a108_0x3e41('0x1e')]:this['client'][a108_0x3e41('0x32')][a108_0x3e41('0x9')](_0x3c9847[a108_0x3e41('0x3b')],_0x2ba1ad);if(!_0xc0a5c4)throw new Error(this[a108_0x3e41('0x20')]['locale'][a108_0x3e41('0x36')](_0x3c9847[a108_0x3e41('0x3b')][a108_0x3e41('0x47')][a108_0x3e41('0x33')],a108_0x3e41('0x6'),a108_0x3e41('0x25')));const _0x5a2fda=_0x2ba1ad===_0x3c9847[a108_0x3e41('0x46')]['id']?_0x3c9847[a108_0x3e41('0x46')][a108_0x3e41('0x47')]:await User_1[a108_0x3e41('0x21')][a108_0x3e41('0x14')](_0x2ba1ad);const _0x57db18=_0x2ba1ad===_0x3c9847['author']['id']?_0xc0a5c4['document']:await Member_1[a108_0x3e41('0x21')][a108_0x3e41('0x2d')]({'user':_0x2ba1ad,'guild':_0x3c9847[a108_0x3e41('0x3b')]['id']});if(!_0x5a2fda||!_0x57db18)throw new Error(this[a108_0x3e41('0x20')][a108_0x3e41('0x38')][a108_0x3e41('0x36')](_0x3c9847[a108_0x3e41('0x3b')][a108_0x3e41('0x47')][a108_0x3e41('0x33')],a108_0x3e41('0x6'),a108_0x3e41('0x3')));const _0x5e62c8=await Member_1[a108_0x3e41('0x21')]['find']({'guild':_0x3c9847['guild']['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a108_0x3e41('0xa')]({'$or':[{'level':{'$gt':_0x57db18[a108_0x3e41('0x1a')]}},{'level':_0x57db18['level'],'experience':{'$gt':_0x57db18[a108_0x3e41('0xd')]}},{'level':_0x57db18[a108_0x3e41('0x1a')],'experience':_0x57db18['experience'],'karma':{'$gt':_0x57db18[a108_0x3e41('0x24')]}},{'level':_0x57db18['level'],'experience':_0x57db18[a108_0x3e41('0xd')],'karma':_0x57db18[a108_0x3e41('0x24')],'balance':{'$gt':_0x57db18[a108_0x3e41('0x2')]}}]});const _0xb2b75c={'currentLevel':gamification[a108_0x3e41('0x0')](_0x57db18['level'],_0x3c9847['guild'][a108_0x3e41('0x47')][a108_0x3e41('0x10')]?_0x3c9847[a108_0x3e41('0x3b')][a108_0x3e41('0x47')][a108_0x3e41('0x10')][a108_0x3e41('0x12')]:gamification[a108_0x3e41('0x8')]),'nextLevel':gamification[a108_0x3e41('0x0')](_0x57db18[a108_0x3e41('0x1a')]+0x1,_0x3c9847[a108_0x3e41('0x3b')][a108_0x3e41('0x47')][a108_0x3e41('0x10')]?_0x3c9847[a108_0x3e41('0x3b')][a108_0x3e41('0x47')]['gamification'][a108_0x3e41('0x12')]:gamification[a108_0x3e41('0x8')])};const _0x3b7e9d={'currentLevel':_0x57db18[a108_0x3e41('0xd')]-_0xb2b75c[a108_0x3e41('0x2c')],'nextLevel':_0xb2b75c[a108_0x3e41('0xc')]-_0xb2b75c[a108_0x3e41('0x2c')]};const _0x2ac68c=_0x3b7e9d[a108_0x3e41('0x2c')]/_0x3b7e9d[a108_0x3e41('0xc')]*0x64;const _0x4c8539=await badges[a108_0x3e41('0x29')](_0xc0a5c4['id'])[a108_0x3e41('0x1')](_0x33491f=>_0x33491f[a108_0x3e41('0x3e')]())[a108_0x3e41('0xf')](()=>{});_0x3c9847[a108_0x3e41('0x27')][a108_0x3e41('0xb')]({'embed':{'color':_0x5a2fda[a108_0x3e41('0x34')]||tesseract_1['Constants']['COLORS']['IRIS'],'author':{'name':_0xc0a5c4[a108_0x3e41('0x26')][a108_0x3e41('0x42')]},'title':a108_0x3e41('0x2b'),'description':(_0x4c8539&&'badgeValue'in _0x4c8539?badges[a108_0x3e41('0x13')](_0x4c8539[a108_0x3e41('0x35')]):[])[a108_0x3e41('0x18')](_0x197610=>_0x197610[a108_0x3e41('0x11')])['join']('\x20'),'fields':[{'name':a108_0x3e41('0x2a'),'value':_0x5a2fda[a108_0x3e41('0x5')]||'-'},{'name':a108_0x3e41('0x40'),'value':_0x5e62c8+0x1,'inline':!![]},{'name':'Level','value':_0x57db18[a108_0x3e41('0x1a')],'inline':!![]},{'name':a108_0x3e41('0x44'),'value':_0x57db18[a108_0x3e41('0xd')],'inline':!![]},{'name':'Karma','value':_0x57db18[a108_0x3e41('0x24')],'inline':!![]},{'name':a108_0x3e41('0x45'),'value':_0x57db18[a108_0x3e41('0x2')],'inline':!![]},{'name':a108_0x3e41('0x3c')+_0x3b7e9d[a108_0x3e41('0x2c')]+a108_0x3e41('0x1b')+_0x3b7e9d[a108_0x3e41('0xc')]+'\x20-\x20'+Math[a108_0x3e41('0x16')](_0x2ac68c)+'%','value':'`'+progress_1[a108_0x3e41('0x21')](_0x2ac68c,0x23)+'`'},{'name':'Cake\x20Day','value':_0x5a2fda[a108_0x3e41('0x1c')]?_0x5a2fda[a108_0x3e41('0x1c')][a108_0x3e41('0x15')]():'-','inline':!![]},{'name':a108_0x3e41('0x41'),'value':_0x5a2fda[a108_0x3e41('0x22')]||'-','inline':!![]}],'thumbnail':{'url':_0xc0a5c4[a108_0x3e41('0x26')][a108_0x3e41('0x3d')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x5a2fda[a108_0x3e41('0x3a')]},'footer':{'text':_0xc0a5c4['id']===this['client'][a108_0x3e41('0x38')][a108_0x3e41('0x43')]('author.discord.id')?'Oh,\x20hey!\x20Here\x27s\x20my\x20developer!':''}}})[a108_0x3e41('0xf')](()=>{});};}};