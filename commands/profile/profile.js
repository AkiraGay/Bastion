const a548_0x4354=['displayAvatarURL','author','author.discord.id','compile','document','map','nextLevel','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','constructor','tag','DEFAUL_LEVELUP_MULTIPLIER','IRIS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','language','guild','level','Karma','locale','Bastion\x20Profile','../../models/Member','emoji','multiplier','../../utils/badges','channel','exec','findById','fetchBadges','toDateString','getString','badgeValue','default','Bastion\x20Coins','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','\x20-\x20','member','Cake\x20Day','getConstant','user','Experience','catch','computeExperience','../../utils/constants','balance','client','COLORS','errors','karma','gamification','info','round','countDocuments','memberNotFound','experience','profile','join','../../models/User','Progress\x20-\x20','Constants','backdrop','apply','../../utils/gamification','profile\x20USER','@bastion/tesseract','currentLevel'];(function(_0x363998,_0x435496){const _0x424562=function(_0x42d178){while(--_0x42d178){_0x363998['push'](_0x363998['shift']());}};const _0xb97269=function(){const _0x5bd5f6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x261051,_0x4611b6,_0x190f26,_0x4ee707){_0x4ee707=_0x4ee707||{};let _0x3fd369=_0x4611b6+'='+_0x190f26;let _0x25d4a7=0x0;for(let _0x1b95f3=0x0,_0x25abe7=_0x261051['length'];_0x1b95f3<_0x25abe7;_0x1b95f3++){const _0x789144=_0x261051[_0x1b95f3];_0x3fd369+=';\x20'+_0x789144;const _0x43ffee=_0x261051[_0x789144];_0x261051['push'](_0x43ffee);_0x25abe7=_0x261051['length'];if(_0x43ffee!==!![]){_0x3fd369+='='+_0x43ffee;}}_0x4ee707['cookie']=_0x3fd369;},'removeCookie':function(){return'dev';},'getCookie':function(_0x55b13e,_0x489dbc){_0x55b13e=_0x55b13e||function(_0x38b65a){return _0x38b65a;};const _0x5678f4=_0x55b13e(new RegExp('(?:^|;\x20)'+_0x489dbc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2723c4=function(_0x345f5c,_0x5272bd){_0x345f5c(++_0x5272bd);};_0x2723c4(_0x424562,_0x435496);return _0x5678f4?decodeURIComponent(_0x5678f4[0x1]):undefined;}};const _0x3d0360=function(){const _0x3dd321=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3dd321['test'](_0x5bd5f6['removeCookie']['toString']());};_0x5bd5f6['updateCookie']=_0x3d0360;let _0x34f863='';const _0x1b3abf=_0x5bd5f6['updateCookie']();if(!_0x1b3abf){_0x5bd5f6['setCookie'](['*'],'counter',0x1);}else if(_0x1b3abf){_0x34f863=_0x5bd5f6['getCookie'](null,'counter');}else{_0x5bd5f6['removeCookie']();}};_0xb97269();}(a548_0x4354,0x147));const a548_0x4245=function(_0x363998,_0x435496){_0x363998=_0x363998-0x0;let _0x424562=a548_0x4354[_0x363998];return _0x424562;};const a548_0x5bd5f6=function(){let _0x10c844=!![];return function(_0x412ab9,_0x36dd3e){const _0xaba31=_0x10c844?function(){if(_0x36dd3e){const _0x37d462=_0x36dd3e[a548_0x4245('0x3a')](_0x412ab9,arguments);_0x36dd3e=null;return _0x37d462;}}:function(){};_0x10c844=![];return _0xaba31;};}();const a548_0x42d178=a548_0x5bd5f6(this,function(){const _0x11eac7=function(){const _0x6e0544=_0x11eac7[a548_0x4245('0x6')](a548_0x4245('0xa'))()[a548_0x4245('0x1')](a548_0x4245('0x1f'));return!_0x6e0544['test'](a548_0x42d178);};return _0x11eac7();});a548_0x42d178();'use strict';const tesseract_1=require(a548_0x4245('0x3d'));const Member_1=require(a548_0x4245('0x12'));const User_1=require(a548_0x4245('0x36'));const badges=require(a548_0x4245('0x15'));const constants=require(a548_0x4245('0x28'));const gamification=require(a548_0x4245('0x3b'));const progress_1=require('../../utils/progress');module['exports']=class ProfileCommand extends tesseract_1['Command']{constructor(){super(a548_0x4245('0x34'),{'description':a548_0x4245('0x5'),'triggers':[],'arguments':{},'scope':a548_0x4245('0xd'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['profile',a548_0x4245('0x3c')]});this[a548_0x4245('0x17')]=async(_0xb46064,_0x2e796b)=>{const _0x4ac87f=_0x2e796b['_'][a548_0x4245('0xb')]?_0x2e796b['_'][0x0]:_0xb46064[a548_0x4245('0x40')]['id'];const _0x1b2810=_0x4ac87f===_0xb46064['author']['id']?_0xb46064[a548_0x4245('0x21')]:this[a548_0x4245('0x2a')]['resolver']['resolveGuildMember'](_0xb46064[a548_0x4245('0xd')],_0x4ac87f);if(!_0x1b2810)throw new Error(this[a548_0x4245('0x2a')][a548_0x4245('0x10')][a548_0x4245('0x1b')](_0xb46064['guild'][a548_0x4245('0x2')][a548_0x4245('0xc')],a548_0x4245('0x2c'),a548_0x4245('0x32')));const _0x203da0=_0x4ac87f===_0xb46064['author']['id']?_0xb46064['author'][a548_0x4245('0x2')]:await User_1[a548_0x4245('0x1d')][a548_0x4245('0x18')](_0x4ac87f);const _0x9aabee=_0x4ac87f===_0xb46064[a548_0x4245('0x40')]['id']?_0x1b2810[a548_0x4245('0x2')]:await Member_1['default']['findOne']({'user':_0x4ac87f,'guild':_0xb46064['guild']['id']});if(!_0x203da0||!_0x9aabee)throw new Error(this['client'][a548_0x4245('0x10')][a548_0x4245('0x1b')](_0xb46064[a548_0x4245('0xd')]['document'][a548_0x4245('0xc')],a548_0x4245('0x2c'),'profileNotFound'));const _0x22f349=await Member_1[a548_0x4245('0x1d')]['find']({'guild':_0xb46064[a548_0x4245('0xd')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a548_0x4245('0x31')]({'$or':[{'level':{'$gt':_0x9aabee[a548_0x4245('0xe')]}},{'level':_0x9aabee[a548_0x4245('0xe')],'experience':{'$gt':_0x9aabee[a548_0x4245('0x33')]}},{'level':_0x9aabee[a548_0x4245('0xe')],'experience':_0x9aabee[a548_0x4245('0x33')],'karma':{'$gt':_0x9aabee[a548_0x4245('0x2d')]}},{'level':_0x9aabee[a548_0x4245('0xe')],'experience':_0x9aabee[a548_0x4245('0x33')],'karma':_0x9aabee['karma'],'balance':{'$gt':_0x9aabee[a548_0x4245('0x29')]}}]});const _0x5c82e3={'currentLevel':gamification['computeExperience'](_0x9aabee['level'],_0xb46064['guild'][a548_0x4245('0x2')]['gamification']?_0xb46064[a548_0x4245('0xd')][a548_0x4245('0x2')][a548_0x4245('0x2e')][a548_0x4245('0x14')]:gamification['DEFAUL_LEVELUP_MULTIPLIER']),'nextLevel':gamification[a548_0x4245('0x27')](_0x9aabee[a548_0x4245('0xe')]+0x1,_0xb46064[a548_0x4245('0xd')][a548_0x4245('0x2')][a548_0x4245('0x2e')]?_0xb46064[a548_0x4245('0xd')][a548_0x4245('0x2')][a548_0x4245('0x2e')][a548_0x4245('0x14')]:gamification[a548_0x4245('0x8')])};const _0x37fc5a={'currentLevel':_0x9aabee[a548_0x4245('0x33')]-_0x5c82e3[a548_0x4245('0x3e')],'nextLevel':_0x5c82e3[a548_0x4245('0x4')]-_0x5c82e3[a548_0x4245('0x3e')]};const _0x441967=_0x37fc5a[a548_0x4245('0x3e')]/_0x37fc5a[a548_0x4245('0x4')]*0x64;const _0x9904a1=constants['isPublicBastion'](this[a548_0x4245('0x2a')][a548_0x4245('0x24')])&&await badges[a548_0x4245('0x19')](_0x1b2810['id'])['then'](_0x2ad773=>_0x2ad773['json']())[a548_0x4245('0x26')](()=>{});_0xb46064[a548_0x4245('0x16')]['send']({'embed':{'color':_0x203da0['color']||tesseract_1[a548_0x4245('0x38')][a548_0x4245('0x2b')][a548_0x4245('0x9')],'author':{'name':_0x1b2810[a548_0x4245('0x24')][a548_0x4245('0x7')]},'title':a548_0x4245('0x11'),'description':(_0x9904a1&&a548_0x4245('0x1c')in _0x9904a1?badges['resolveBadges'](_0x9904a1['badgeValue']):[])[a548_0x4245('0x3')](_0x1d20e9=>_0x1d20e9[a548_0x4245('0x13')])[a548_0x4245('0x35')]('\x20'),'fields':[{'name':'About','value':_0x203da0[a548_0x4245('0x2f')]||'-'},{'name':'Rank','value':_0x22f349+0x1,'inline':!![]},{'name':'Level','value':_0x9aabee[a548_0x4245('0xe')],'inline':!![]},{'name':a548_0x4245('0x25'),'value':_0x9aabee[a548_0x4245('0x33')],'inline':!![]},{'name':a548_0x4245('0xf'),'value':_0x9aabee[a548_0x4245('0x2d')],'inline':!![]},{'name':a548_0x4245('0x1e'),'value':_0x9aabee['balance'],'inline':!![]},{'name':a548_0x4245('0x37')+_0x37fc5a[a548_0x4245('0x3e')]+'\x20/\x20'+_0x37fc5a['nextLevel']+a548_0x4245('0x20')+Math[a548_0x4245('0x30')](_0x441967)+'%','value':'`'+progress_1['default'](_0x441967,0x23)+'`'},{'name':a548_0x4245('0x22'),'value':_0x203da0['cakeDay']?_0x203da0['cakeDay'][a548_0x4245('0x1a')]():'-','inline':!![]},{'name':'Location','value':_0x203da0['location']||'-','inline':!![]}],'thumbnail':{'url':_0x1b2810[a548_0x4245('0x24')][a548_0x4245('0x3f')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x203da0[a548_0x4245('0x39')]},'footer':{'text':_0x1b2810['id']===this[a548_0x4245('0x2a')][a548_0x4245('0x10')][a548_0x4245('0x23')](a548_0x4245('0x0'))?'Oh,\x20hey!\x20Here\x27s\x20my\x20developer!':''}}})['catch'](()=>{});};}};