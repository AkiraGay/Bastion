const a1_0x266e=['send','client','ðŸ“£\x20','author','catch','join','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','apply','announce\x20--message\x20MESSAGE','get','announcementsChannelId','message','BASTION_ERROR_TYPE','../../utils/errors','name','announce\x20--title\x20TITLE\x20--message\x20MESSAGE','channel','@bastion/tesseract','channels','INVALID_COMMAND_SYNTAX','IRIS','Constants','find','constructor','tag','announce','title','cache','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Command','default','test','Announced','PUPIL','\x20/\x20'];(function(_0x2ba91b,_0x266e50){const _0x5cec7d=function(_0x1b8ed8){while(--_0x1b8ed8){_0x2ba91b['push'](_0x2ba91b['shift']());}},_0x176c0e=function(){const _0x202b86={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x380653,_0x30ce77,_0x5e86d5,_0x559692){_0x559692=_0x559692||{};let _0xe26d73=_0x30ce77+'='+_0x5e86d5,_0x3264e2=0x0;for(let _0x250cb3=0x0,_0x3cb86f=_0x380653['length'];_0x250cb3<_0x3cb86f;_0x250cb3++){const _0x4260e9=_0x380653[_0x250cb3];_0xe26d73+=';\x20'+_0x4260e9;const _0x40e456=_0x380653[_0x4260e9];_0x380653['push'](_0x40e456),_0x3cb86f=_0x380653['length'],_0x40e456!==!![]&&(_0xe26d73+='='+_0x40e456);}_0x559692['cookie']=_0xe26d73;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2620fb,_0x523746){_0x2620fb=_0x2620fb||function(_0x45e908){return _0x45e908;};const _0x21cd7e=_0x2620fb(new RegExp('(?:^|;\x20)'+_0x523746['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5c391a=function(_0x2d35a2,_0x52882e){_0x2d35a2(++_0x52882e);};return _0x5c391a(_0x5cec7d,_0x266e50),_0x21cd7e?decodeURIComponent(_0x21cd7e[0x1]):undefined;}},_0x44a4ef=function(){const _0x5f7f66=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5f7f66['test'](_0x202b86['removeCookie']['toString']());};_0x202b86['updateCookie']=_0x44a4ef;let _0x3023ef='';const _0x41432e=_0x202b86['updateCookie']();if(!_0x41432e)_0x202b86['setCookie'](['*'],'counter',0x1);else _0x41432e?_0x3023ef=_0x202b86['getCookie'](null,'counter'):_0x202b86['removeCookie']();};_0x176c0e();}(a1_0x266e,0x11b));const a1_0x5cec=function(_0x2ba91b,_0x266e50){_0x2ba91b=_0x2ba91b-0x0;let _0x5cec7d=a1_0x266e[_0x2ba91b];return _0x5cec7d;};const a1_0x5e86d5=function(){let _0x495235=!![];return function(_0x2ec90a,_0x553e4b){const _0x43d2ae=_0x495235?function(){if(_0x553e4b){const _0x74b8f7=_0x553e4b[a1_0x5cec('0x4')](_0x2ec90a,arguments);return _0x553e4b=null,_0x74b8f7;}}:function(){};return _0x495235=![],_0x43d2ae;};}(),a1_0x30ce77=a1_0x5e86d5(this,function(){const _0x336fc3=function(){const _0x5bf611=_0x336fc3[a1_0x5cec('0x14')](a1_0x5cec('0x19'))()[a1_0x5cec('0x14')](a1_0x5cec('0x3'));return!_0x5bf611[a1_0x5cec('0x1c')](a1_0x30ce77);};return _0x336fc3();});a1_0x30ce77();'use strict';const tesseract_1=require(a1_0x5cec('0xe')),Guild_1=require('../../models/Guild'),errors=require(a1_0x5cec('0xa'));module['exports']=class Announce extends tesseract_1[a1_0x5cec('0x1a')]{constructor(){super(a1_0x5cec('0x16'),{'description':'It\x20allows\x20you\x20to\x20send\x20announcements\x20to\x20the\x20announcement\x20channels\x20in\x20the\x20servers\x20where\x20it\x20has\x20been\x20set.','triggers':[],'arguments':{'array':[a1_0x5cec('0x8'),a1_0x5cec('0x17')],'string':[a1_0x5cec('0x8'),a1_0x5cec('0x17')]},'scope':'guild','owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a1_0x5cec('0x5'),a1_0x5cec('0xc')]}),this['exec']=async(_0x1d2618,_0x2bfbaa)=>{const _0x4c6d66=_0x2bfbaa[a1_0x5cec('0x17')]&&_0x2bfbaa['title'][a1_0x5cec('0x2')]('\x20'),_0x189dbb=_0x2bfbaa[a1_0x5cec('0x8')]&&_0x2bfbaa[a1_0x5cec('0x8')][a1_0x5cec('0x2')]('\x20');if(!_0x189dbb)throw new errors['DiscordError'](errors[a1_0x5cec('0x9')][a1_0x5cec('0x10')],this[a1_0x5cec('0xb')]);const _0x472fea=await Guild_1[a1_0x5cec('0x1b')][a1_0x5cec('0x13')]({'announcementsChannelId':{'$exists':!![]}});for(const _0x26fca6 of _0x472fea){if(this['client'][a1_0x5cec('0xf')][a1_0x5cec('0x18')]['has'](_0x26fca6['announcementsChannelId'])){const _0x95c7ae=this[a1_0x5cec('0x21')]['channels']['cache'][a1_0x5cec('0x6')](_0x26fca6[a1_0x5cec('0x7')]);_0x95c7ae['send']({'embed':{'color':tesseract_1[a1_0x5cec('0x12')]['COLORS'][a1_0x5cec('0x11')],'title':_0x4c6d66,'description':_0x189dbb,'footer':{'text':a1_0x5cec('0x22')+_0x1d2618[a1_0x5cec('0x0')][a1_0x5cec('0x15')]+a1_0x5cec('0x1f')+_0x1d2618['author']['id']}}})[a1_0x5cec('0x1')](()=>{});}}await _0x1d2618[a1_0x5cec('0xd')][a1_0x5cec('0x20')]({'embed':{'color':tesseract_1[a1_0x5cec('0x12')]['COLORS'][a1_0x5cec('0x1e')],'author':{'name':a1_0x5cec('0x1d')},'title':_0x4c6d66,'description':_0x189dbb,'footer':{'text':a1_0x5cec('0x22')+_0x1d2618[a1_0x5cec('0x0')][a1_0x5cec('0x15')]+a1_0x5cec('0x1f')+_0x1d2618[a1_0x5cec('0x0')]['id']}}})[a1_0x5cec('0x1')](()=>{});};}};