const a1_0x40ba=['../../models/Guild','announce\x20--title\x20TITLE\x20--message\x20MESSAGE','channels','cache','COLORS','Announced','author','message','default','ðŸ“£\x20','IRIS','apply','Command','exec','constructor','name','send','catch','join','channel','\x20/\x20','tag','announce\x20--message\x20MESSAGE','test','It\x20allows\x20you\x20to\x20send\x20announcements\x20to\x20the\x20announcement\x20channels\x20in\x20the\x20servers\x20where\x20it\x20has\x20been\x20set.','BASTION_ERROR_TYPE','announce','return\x20/\x22\x20+\x20this\x20+\x20\x22/','title','announcementsChannelId','DiscordError','client','PUPIL'];(function(_0x5853ae,_0x40baf0){const _0x19e19c=function(_0x1a3de5){while(--_0x1a3de5){_0x5853ae['push'](_0x5853ae['shift']());}},_0x37fad0=function(){const _0x3a2eaf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x8d831b,_0x5b9c23,_0x2a7dd5,_0x1768d6){_0x1768d6=_0x1768d6||{};let _0x5dedba=_0x5b9c23+'='+_0x2a7dd5,_0x207f45=0x0;for(let _0x5b8f8d=0x0,_0x1b7205=_0x8d831b['length'];_0x5b8f8d<_0x1b7205;_0x5b8f8d++){const _0x3c6cd8=_0x8d831b[_0x5b8f8d];_0x5dedba+=';\x20'+_0x3c6cd8;const _0x48add5=_0x8d831b[_0x3c6cd8];_0x8d831b['push'](_0x48add5),_0x1b7205=_0x8d831b['length'],_0x48add5!==!![]&&(_0x5dedba+='='+_0x48add5);}_0x1768d6['cookie']=_0x5dedba;},'removeCookie':function(){return'dev';},'getCookie':function(_0x473582,_0x3f9978){_0x473582=_0x473582||function(_0x299e6b){return _0x299e6b;};const _0x437f4a=_0x473582(new RegExp('(?:^|;\x20)'+_0x3f9978['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4031ab=function(_0xcd532,_0x4f0412){_0xcd532(++_0x4f0412);};return _0x4031ab(_0x19e19c,_0x40baf0),_0x437f4a?decodeURIComponent(_0x437f4a[0x1]):undefined;}},_0x562c38=function(){const _0x35a015=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x35a015['test'](_0x3a2eaf['removeCookie']['toString']());};_0x3a2eaf['updateCookie']=_0x562c38;let _0x8fc8fa='';const _0xc1d32b=_0x3a2eaf['updateCookie']();if(!_0xc1d32b)_0x3a2eaf['setCookie'](['*'],'counter',0x1);else _0xc1d32b?_0x8fc8fa=_0x3a2eaf['getCookie'](null,'counter'):_0x3a2eaf['removeCookie']();};_0x37fad0();}(a1_0x40ba,0x1d7));const a1_0x19e1=function(_0x5853ae,_0x40baf0){_0x5853ae=_0x5853ae-0x0;let _0x19e19c=a1_0x40ba[_0x5853ae];return _0x19e19c;};const a1_0x3a2eaf=function(){let _0x8fc8fa=!![];return function(_0xc1d32b,_0x8d831b){const _0x5b9c23=_0x8fc8fa?function(){if(_0x8d831b){const _0x2a7dd5=_0x8d831b[a1_0x19e1('0x2')](_0xc1d32b,arguments);return _0x8d831b=null,_0x2a7dd5;}}:function(){};return _0x8fc8fa=![],_0x5b9c23;};}(),a1_0x1a3de5=a1_0x3a2eaf(this,function(){const _0x1768d6=function(){const _0x5dedba=_0x1768d6[a1_0x19e1('0x5')](a1_0x19e1('0x12'))()[a1_0x19e1('0x5')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5dedba[a1_0x19e1('0xe')](a1_0x1a3de5);};return _0x1768d6();});a1_0x1a3de5();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require(a1_0x19e1('0x18')),errors=require('../../utils/errors');module['exports']=class Announce extends tesseract_1[a1_0x19e1('0x3')]{constructor(){super(a1_0x19e1('0x11'),{'description':a1_0x19e1('0xf'),'triggers':[],'arguments':{'array':[a1_0x19e1('0x1f'),a1_0x19e1('0x13')],'string':[a1_0x19e1('0x1f'),a1_0x19e1('0x13')]},'scope':'guild','owner':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a1_0x19e1('0xd'),a1_0x19e1('0x19')]}),this[a1_0x19e1('0x4')]=async(_0x207f45,_0x5b8f8d)=>{const _0x1b7205=_0x5b8f8d['title']&&_0x5b8f8d['title'][a1_0x19e1('0x9')]('\x20'),_0x3c6cd8=_0x5b8f8d[a1_0x19e1('0x1f')]&&_0x5b8f8d['message'][a1_0x19e1('0x9')]('\x20');if(!_0x3c6cd8)throw new errors[(a1_0x19e1('0x15'))](errors[a1_0x19e1('0x10')]['INVALID_COMMAND_SYNTAX'],this[a1_0x19e1('0x6')]);const _0x48add5=await Guild_1[a1_0x19e1('0x20')]['find']({'announcementsChannelId':{'$exists':!![]}});for(const _0x473582 of _0x48add5){if(this['client'][a1_0x19e1('0x1a')][a1_0x19e1('0x1b')]['has'](_0x473582[a1_0x19e1('0x14')])){const _0x3f9978=this[a1_0x19e1('0x16')][a1_0x19e1('0x1a')][a1_0x19e1('0x1b')]['get'](_0x473582['announcementsChannelId']);_0x3f9978['send']({'embed':{'color':tesseract_1['Constants']['COLORS'][a1_0x19e1('0x1')],'title':_0x1b7205,'description':_0x3c6cd8,'footer':{'text':a1_0x19e1('0x0')+_0x207f45['author'][a1_0x19e1('0xc')]+a1_0x19e1('0xb')+_0x207f45[a1_0x19e1('0x1e')]['id']}}})[a1_0x19e1('0x8')](()=>{});}}await _0x207f45[a1_0x19e1('0xa')][a1_0x19e1('0x7')]({'embed':{'color':tesseract_1['Constants'][a1_0x19e1('0x1c')][a1_0x19e1('0x17')],'author':{'name':a1_0x19e1('0x1d')},'title':_0x1b7205,'description':_0x3c6cd8,'footer':{'text':'ðŸ“£\x20'+_0x207f45[a1_0x19e1('0x1e')][a1_0x19e1('0xc')]+'\x20/\x20'+_0x207f45[a1_0x19e1('0x1e')]['id']}}})['catch'](()=>{});};}};