const a155_0x193c=['permissionsFor','messageFilter','@bastion/tesseract','member','constructor','some','exec','test','filters','delete','enabled','replace','apply','patterns','testPatterns','MANAGE_CHANNELS','toLowerCase','document','has','channel','Violated\x20message\x20filter.','guild','name','catch','author','\x20/\x20','addInfraction','cache','roles','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','content','createModerationLog'];(function(_0x32027f,_0x193c31){const _0x3a25ef=function(_0x42d06e){while(--_0x42d06e){_0x32027f['push'](_0x32027f['shift']());}},_0x244fa2=function(){const _0x107f42={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x59fa2c,_0x1dffa7,_0x498b93,_0x527b6a){_0x527b6a=_0x527b6a||{};let _0x35275a=_0x1dffa7+'='+_0x498b93,_0x15474c=0x0;for(let _0x1e5dd7=0x0,_0x77f66d=_0x59fa2c['length'];_0x1e5dd7<_0x77f66d;_0x1e5dd7++){const _0xe7df85=_0x59fa2c[_0x1e5dd7];_0x35275a+=';\x20'+_0xe7df85;const _0x25b52c=_0x59fa2c[_0xe7df85];_0x59fa2c['push'](_0x25b52c),_0x77f66d=_0x59fa2c['length'],_0x25b52c!==!![]&&(_0x35275a+='='+_0x25b52c);}_0x527b6a['cookie']=_0x35275a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x223781,_0x4e679d){_0x223781=_0x223781||function(_0x549b2a){return _0x549b2a;};const _0x3322b4=_0x223781(new RegExp('(?:^|;\x20)'+_0x4e679d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xc55b2f=function(_0x2badb4,_0x1990c8){_0x2badb4(++_0x1990c8);};return _0xc55b2f(_0x3a25ef,_0x193c31),_0x3322b4?decodeURIComponent(_0x3322b4[0x1]):undefined;}},_0x1ad83e=function(){const _0x2a4d10=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2a4d10['test'](_0x107f42['removeCookie']['toString']());};_0x107f42['updateCookie']=_0x1ad83e;let _0x4d9cc1='';const _0x9b3a0f=_0x107f42['updateCookie']();if(!_0x9b3a0f)_0x107f42['setCookie'](['*'],'counter',0x1);else _0x9b3a0f?_0x4d9cc1=_0x107f42['getCookie'](null,'counter'):_0x107f42['removeCookie']();};_0x244fa2();}(a155_0x193c,0x136));const a155_0x3a25=function(_0x32027f,_0x193c31){_0x32027f=_0x32027f-0x0;let _0x3a25ef=a155_0x193c[_0x32027f];return _0x3a25ef;};const a155_0x107f42=function(){let _0x4d9cc1=!![];return function(_0x9b3a0f,_0x59fa2c){const _0x1dffa7=_0x4d9cc1?function(){if(_0x59fa2c){const _0x498b93=_0x59fa2c[a155_0x3a25('0x20')](_0x9b3a0f,arguments);return _0x59fa2c=null,_0x498b93;}}:function(){};return _0x4d9cc1=![],_0x1dffa7;};}(),a155_0x42d06e=a155_0x107f42(this,function(){const _0x527b6a=function(){const _0x35275a=_0x527b6a['constructor'](a155_0x3a25('0x11'))()[a155_0x3a25('0x18')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x35275a[a155_0x3a25('0x1b')](a155_0x42d06e);};return _0x527b6a();});a155_0x42d06e();'use strict';const tesseract_1=require(a155_0x3a25('0x16')),discord_js_1=require('discord.js');module[a155_0x3a25('0x10')]=class MessageFilter extends tesseract_1['Interrupt']{constructor(){super(a155_0x3a25('0x15'),{'type':0x0}),this['testPatterns']=(_0x15474c,_0x1e5dd7)=>{for(const _0x77f66d of _0x1e5dd7){const _0xe7df85=new RegExp(_0x77f66d['replace'](/\?/g,'.')[a155_0x3a25('0x1f')](/\*+/g,'.*'),'ig');if(_0xe7df85[a155_0x3a25('0x1b')](_0x15474c))return!![];}return![];},this[a155_0x3a25('0x1a')]=async _0x25b52c=>{if(!_0x25b52c['guild'])return;if(!(_0x25b52c['channel']instanceof discord_js_1['TextChannel']))return;if(!_0x25b52c[a155_0x3a25('0x12')]||!_0x25b52c['content']['length'])return![];const _0x223781=_0x25b52c[a155_0x3a25('0x8')];if(_0x25b52c['member']&&_0x25b52c['member'][a155_0x3a25('0xf')][a155_0x3a25('0xe')][a155_0x3a25('0x19')](_0x4e679d=>_0x4e679d[a155_0x3a25('0x9')][a155_0x3a25('0x3')]()==='safelist'))return![];if(_0x25b52c[a155_0x3a25('0x6')][a155_0x3a25('0x14')](_0x25b52c[a155_0x3a25('0x17')])&&_0x25b52c[a155_0x3a25('0x6')][a155_0x3a25('0x14')](_0x25b52c[a155_0x3a25('0x17')])[a155_0x3a25('0x5')]([a155_0x3a25('0x2'),'MANAGE_MESSAGES']))return![];if(!_0x223781[a155_0x3a25('0x4')]||!_0x223781[a155_0x3a25('0x4')][a155_0x3a25('0x1c')]||!_0x223781[a155_0x3a25('0x4')]['filters'][a155_0x3a25('0x15')]||!_0x223781[a155_0x3a25('0x4')][a155_0x3a25('0x1c')][a155_0x3a25('0x15')][a155_0x3a25('0x1e')]||!_0x223781[a155_0x3a25('0x4')][a155_0x3a25('0x1c')]['messageFilter'][a155_0x3a25('0x0')])return![];if(this[a155_0x3a25('0x1')](_0x25b52c['content'],_0x223781['document'][a155_0x3a25('0x1c')]['messageFilter']['patterns'])){_0x25b52c[a155_0x3a25('0x17')][a155_0x3a25('0xd')](a155_0x3a25('0x7'));if(_0x25b52c['deletable'])_0x25b52c[a155_0x3a25('0x1d')]()[a155_0x3a25('0xa')](()=>{});return _0x223781[a155_0x3a25('0x13')]({'event':a155_0x3a25('0x15'),'fields':[{'name':'User','value':_0x25b52c['author']['tag']+'\x20/\x20'+_0x25b52c[a155_0x3a25('0xb')]['id']},{'name':'Channel','value':_0x25b52c[a155_0x3a25('0x6')][a155_0x3a25('0x9')]+a155_0x3a25('0xc')+_0x25b52c[a155_0x3a25('0x6')]['id']}]})[a155_0x3a25('0xa')](()=>{}),!![];}return![];};}};