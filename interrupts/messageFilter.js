const a173_0x561c=['discord.js','document','TextChannel','messageFilter','roles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MANAGE_MESSAGES','some','exec','tag','catch','channel','Interrupt','cache','testPatterns','deletable','exports','author','replace','has','return\x20/\x22\x20+\x20this\x20+\x20\x22/','test','patterns','enabled','filters','permissionsFor','constructor','\x20/\x20','name','safelist','content','toLowerCase','member','addInfraction','Channel','guild','apply'];(function(_0x3d984f,_0x41ef77){const _0x561c8f=function(_0x34fe93){while(--_0x34fe93){_0x3d984f['push'](_0x3d984f['shift']());}},_0x21edec=function(){const _0x51115c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x17d51c,_0x4a3552,_0x49b924,_0x539c2a){_0x539c2a=_0x539c2a||{};let _0x8e6e42=_0x4a3552+'='+_0x49b924,_0x50a846=0x0;for(let _0x514825=0x0,_0x18f911=_0x17d51c['length'];_0x514825<_0x18f911;_0x514825++){const _0x146f63=_0x17d51c[_0x514825];_0x8e6e42+=';\x20'+_0x146f63;const _0xf7ecc=_0x17d51c[_0x146f63];_0x17d51c['push'](_0xf7ecc),_0x18f911=_0x17d51c['length'],_0xf7ecc!==!![]&&(_0x8e6e42+='='+_0xf7ecc);}_0x539c2a['cookie']=_0x8e6e42;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2a4789,_0x1f8bf3){_0x2a4789=_0x2a4789||function(_0x127127){return _0x127127;};const _0x144b8a=_0x2a4789(new RegExp('(?:^|;\x20)'+_0x1f8bf3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2ce838=function(_0x39a97c,_0xbc3a9e){_0x39a97c(++_0xbc3a9e);};return _0x2ce838(_0x561c8f,_0x41ef77),_0x144b8a?decodeURIComponent(_0x144b8a[0x1]):undefined;}},_0x3a79e2=function(){const _0xf610cb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xf610cb['test'](_0x51115c['removeCookie']['toString']());};_0x51115c['updateCookie']=_0x3a79e2;let _0x44b3c8='';const _0x3673c4=_0x51115c['updateCookie']();if(!_0x3673c4)_0x51115c['setCookie'](['*'],'counter',0x1);else _0x3673c4?_0x44b3c8=_0x51115c['getCookie'](null,'counter'):_0x51115c['removeCookie']();};_0x21edec();}(a173_0x561c,0xc0));const a173_0x21ed=function(_0x3d984f,_0x41ef77){_0x3d984f=_0x3d984f-0x74;let _0x561c8f=a173_0x561c[_0x3d984f];return _0x561c8f;};const a173_0x118667=a173_0x21ed,a173_0x3a79e2=function(){let _0x3673c4=!![];return function(_0x17d51c,_0x4a3552){const _0x49b924=_0x3673c4?function(){const _0x544331=a173_0x21ed;if(_0x4a3552){const _0x539c2a=_0x4a3552[_0x544331(0x91)](_0x17d51c,arguments);return _0x4a3552=null,_0x539c2a;}}:function(){};return _0x3673c4=![],_0x49b924;};}(),a173_0x51115c=a173_0x3a79e2(this,function(){const _0x8e6e42=function(){const _0xdf28d7=a173_0x21ed,_0x50a846=_0x8e6e42[_0xdf28d7(0x87)](_0xdf28d7(0x81))()[_0xdf28d7(0x87)](_0xdf28d7(0x97));return!_0x50a846[_0xdf28d7(0x82)](a173_0x51115c);};return _0x8e6e42();});a173_0x51115c();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a173_0x118667(0x92));module[a173_0x118667(0x7d)]=class MessageFilter extends tesseract_1[a173_0x118667(0x79)]{constructor(){const _0x4380ee=a173_0x118667;super(_0x4380ee(0x95),{'type':0x0}),this[_0x4380ee(0x7b)]=(_0x514825,_0x18f911)=>{const _0x5255f7=_0x4380ee;for(const _0x146f63 of _0x18f911){const _0xf7ecc=new RegExp(_0x146f63['replace'](/\?/g,'.')[_0x5255f7(0x7f)](/\*+/g,'.*'),'ig');if(_0xf7ecc[_0x5255f7(0x82)](_0x514825))return!![];}return![];},this[_0x4380ee(0x75)]=async _0x2a4789=>{const _0x31c16b=_0x4380ee;if(!_0x2a4789[_0x31c16b(0x90)])return;if(!(_0x2a4789[_0x31c16b(0x78)]instanceof discord_js_1[_0x31c16b(0x94)]))return;if(!_0x2a4789[_0x31c16b(0x8b)]||!_0x2a4789[_0x31c16b(0x8b)]['length'])return![];const _0x1f8bf3=_0x2a4789[_0x31c16b(0x90)];if(_0x2a4789['member']&&_0x2a4789[_0x31c16b(0x8d)][_0x31c16b(0x96)][_0x31c16b(0x7a)][_0x31c16b(0x74)](_0x144b8a=>_0x144b8a[_0x31c16b(0x89)][_0x31c16b(0x8c)]()===_0x31c16b(0x8a)))return![];if(_0x2a4789[_0x31c16b(0x78)][_0x31c16b(0x86)](_0x2a4789['member'])&&_0x2a4789[_0x31c16b(0x78)]['permissionsFor'](_0x2a4789[_0x31c16b(0x8d)])[_0x31c16b(0x80)](['MANAGE_CHANNELS',_0x31c16b(0x98)]))return![];if(!_0x1f8bf3[_0x31c16b(0x93)]||!_0x1f8bf3[_0x31c16b(0x93)]['filters']||!_0x1f8bf3[_0x31c16b(0x93)]['filters']['messageFilter']||!_0x1f8bf3['document'][_0x31c16b(0x85)][_0x31c16b(0x95)][_0x31c16b(0x84)]||!_0x1f8bf3[_0x31c16b(0x93)]['filters'][_0x31c16b(0x95)][_0x31c16b(0x83)])return![];if(this[_0x31c16b(0x7b)](_0x2a4789[_0x31c16b(0x8b)],_0x1f8bf3[_0x31c16b(0x93)][_0x31c16b(0x85)][_0x31c16b(0x95)][_0x31c16b(0x83)])){_0x2a4789[_0x31c16b(0x8d)][_0x31c16b(0x8e)]('Violated\x20message\x20filter.');if(_0x2a4789[_0x31c16b(0x7c)])_0x2a4789['delete']()[_0x31c16b(0x77)](()=>{});return _0x1f8bf3['createModerationLog']({'event':_0x31c16b(0x95),'fields':[{'name':'User','value':_0x2a4789[_0x31c16b(0x7e)][_0x31c16b(0x76)]+'\x20/\x20'+_0x2a4789[_0x31c16b(0x7e)]['id']},{'name':_0x31c16b(0x8f),'value':_0x2a4789[_0x31c16b(0x78)]['name']+_0x31c16b(0x88)+_0x2a4789[_0x31c16b(0x78)]['id']}]})[_0x31c16b(0x77)](()=>{}),!![];}return![];};}};