const a173_0xb5b2=['filters','name','testPatterns','MANAGE_CHANNELS','cache','has','discord.js','enabled','permissionsFor','messageFilter','exec','\x20/\x20','guild','MANAGE_MESSAGES','catch','addInfraction','document','createModerationLog','member','Channel','tag','safelist','roles','delete','content','deletable','author','channel','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','constructor','replace','some'];(function(_0x28592b,_0x2ccac8){const _0xb5b2fb=function(_0x4a77c9){while(--_0x4a77c9){_0x28592b['push'](_0x28592b['shift']());}},_0x2dfe7d=function(){const _0x281144={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3926cf,_0x2c2805,_0x2371f9,_0x244929){_0x244929=_0x244929||{};let _0x1fe920=_0x2c2805+'='+_0x2371f9,_0x4eba49=0x0;for(let _0x44424d=0x0,_0xb6a79=_0x3926cf['length'];_0x44424d<_0xb6a79;_0x44424d++){const _0x31e12c=_0x3926cf[_0x44424d];_0x1fe920+=';\x20'+_0x31e12c;const _0x386912=_0x3926cf[_0x31e12c];_0x3926cf['push'](_0x386912),_0xb6a79=_0x3926cf['length'],_0x386912!==!![]&&(_0x1fe920+='='+_0x386912);}_0x244929['cookie']=_0x1fe920;},'removeCookie':function(){return'dev';},'getCookie':function(_0x42f8e,_0x5cfdad){_0x42f8e=_0x42f8e||function(_0xa8f1fc){return _0xa8f1fc;};const _0x1d85cf=_0x42f8e(new RegExp('(?:^|;\x20)'+_0x5cfdad['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5225d6=function(_0x4abe62,_0x51e069){_0x4abe62(++_0x51e069);};return _0x5225d6(_0xb5b2fb,_0x2ccac8),_0x1d85cf?decodeURIComponent(_0x1d85cf[0x1]):undefined;}},_0x3cae52=function(){const _0x895772=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x895772['test'](_0x281144['removeCookie']['toString']());};_0x281144['updateCookie']=_0x3cae52;let _0x2fc1d6='';const _0x355591=_0x281144['updateCookie']();if(!_0x355591)_0x281144['setCookie'](['*'],'counter',0x1);else _0x355591?_0x2fc1d6=_0x281144['getCookie'](null,'counter'):_0x281144['removeCookie']();};_0x2dfe7d();}(a173_0xb5b2,0x13f));const a173_0x2dfe=function(_0x28592b,_0x2ccac8){_0x28592b=_0x28592b-0x12c;let _0xb5b2fb=a173_0xb5b2[_0x28592b];return _0xb5b2fb;};const a173_0x477f12=a173_0x2dfe,a173_0x3cae52=function(){let _0x355591=!![];return function(_0x3926cf,_0x2c2805){const _0x2371f9=_0x355591?function(){if(_0x2c2805){const _0x244929=_0x2c2805['apply'](_0x3926cf,arguments);return _0x2c2805=null,_0x244929;}}:function(){};return _0x355591=![],_0x2371f9;};}(),a173_0x281144=a173_0x3cae52(this,function(){const _0x1fe920=function(){const _0xcfefb7=a173_0x2dfe,_0x4eba49=_0x1fe920[_0xcfefb7(0x14a)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0xcfefb7(0x14a)](_0xcfefb7(0x149));return!_0x4eba49['test'](a173_0x281144);};return _0x1fe920();});a173_0x281144();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a173_0x477f12(0x133));module['exports']=class MessageFilter extends tesseract_1['Interrupt']{constructor(){const _0x5b5d24=a173_0x477f12;super(_0x5b5d24(0x136),{'type':0x0}),this['testPatterns']=(_0x44424d,_0xb6a79)=>{const _0x4a092c=_0x5b5d24;for(const _0x31e12c of _0xb6a79){const _0x386912=new RegExp(_0x31e12c[_0x4a092c(0x14b)](/\?/g,'.')[_0x4a092c(0x14b)](/\*+/g,'.*'),'ig');if(_0x386912['test'](_0x44424d))return!![];}return![];},this[_0x5b5d24(0x137)]=async _0x42f8e=>{const _0x3f9dd8=_0x5b5d24;if(!_0x42f8e[_0x3f9dd8(0x139)])return;if(!(_0x42f8e[_0x3f9dd8(0x148)]instanceof discord_js_1['TextChannel']))return;if(!_0x42f8e[_0x3f9dd8(0x145)]||!_0x42f8e[_0x3f9dd8(0x145)]['length'])return![];const _0x5cfdad=_0x42f8e[_0x3f9dd8(0x139)];if(_0x42f8e['member']&&_0x42f8e[_0x3f9dd8(0x13f)][_0x3f9dd8(0x143)][_0x3f9dd8(0x131)][_0x3f9dd8(0x12c)](_0x1d85cf=>_0x1d85cf['name']['toLowerCase']()===_0x3f9dd8(0x142)))return![];if(_0x42f8e[_0x3f9dd8(0x148)][_0x3f9dd8(0x135)](_0x42f8e['member'])&&_0x42f8e[_0x3f9dd8(0x148)]['permissionsFor'](_0x42f8e[_0x3f9dd8(0x13f)])[_0x3f9dd8(0x132)]([_0x3f9dd8(0x130),_0x3f9dd8(0x13a)]))return![];if(!_0x5cfdad[_0x3f9dd8(0x13d)]||!_0x5cfdad['document'][_0x3f9dd8(0x12d)]||!_0x5cfdad[_0x3f9dd8(0x13d)]['filters']['messageFilter']||!_0x5cfdad[_0x3f9dd8(0x13d)]['filters'][_0x3f9dd8(0x136)][_0x3f9dd8(0x134)]||!_0x5cfdad[_0x3f9dd8(0x13d)][_0x3f9dd8(0x12d)][_0x3f9dd8(0x136)]['patterns'])return![];if(this[_0x3f9dd8(0x12f)](_0x42f8e[_0x3f9dd8(0x145)],_0x5cfdad[_0x3f9dd8(0x13d)][_0x3f9dd8(0x12d)][_0x3f9dd8(0x136)]['patterns'])){_0x42f8e[_0x3f9dd8(0x13f)][_0x3f9dd8(0x13c)]('Violated\x20message\x20filter.');if(_0x42f8e[_0x3f9dd8(0x146)])_0x42f8e[_0x3f9dd8(0x144)]()[_0x3f9dd8(0x13b)](()=>{});return _0x5cfdad[_0x3f9dd8(0x13e)]({'event':_0x3f9dd8(0x136),'fields':[{'name':'User','value':_0x42f8e[_0x3f9dd8(0x147)][_0x3f9dd8(0x141)]+'\x20/\x20'+_0x42f8e[_0x3f9dd8(0x147)]['id']},{'name':_0x3f9dd8(0x140),'value':_0x42f8e[_0x3f9dd8(0x148)][_0x3f9dd8(0x12e)]+_0x3f9dd8(0x138)+_0x42f8e[_0x3f9dd8(0x148)]['id']}]})[_0x3f9dd8(0x13b)](()=>{}),!![];}return![];};}};