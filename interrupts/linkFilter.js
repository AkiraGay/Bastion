const a143_0x1ee4=['some','deletable','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','whitelist','catch','exec','deleteLink','MANAGE_CHANNELS','permissionsFor','channel','author','member','Channel','Unauthorized\x20to\x20send\x20links.','\x20/\x20','discord.js','User','guild','document','TextChannel','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','delete','constructor','createModerationLog','cache','URI','toLowerCase','content','Interrupt','filters','has','roles','name','length','includes','linkFilter','@bastion/tesseract','test','tag','addInfraction'];(function(_0x3185ae,_0x1ee4ad){const _0x4f2d47=function(_0x3514be){while(--_0x3514be){_0x3185ae['push'](_0x3185ae['shift']());}},_0x154f64=function(){const _0x4679b5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x239e42,_0x4f62ec,_0x2a4711,_0x1f091b){_0x1f091b=_0x1f091b||{};let _0x4900f0=_0x4f62ec+'='+_0x2a4711,_0x3d1d61=0x0;for(let _0x152449=0x0,_0x170d1d=_0x239e42['length'];_0x152449<_0x170d1d;_0x152449++){const _0x3c54a2=_0x239e42[_0x152449];_0x4900f0+=';\x20'+_0x3c54a2;const _0x5e4cbc=_0x239e42[_0x3c54a2];_0x239e42['push'](_0x5e4cbc),_0x170d1d=_0x239e42['length'],_0x5e4cbc!==!![]&&(_0x4900f0+='='+_0x5e4cbc);}_0x1f091b['cookie']=_0x4900f0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x342db7,_0xf8a277){_0x342db7=_0x342db7||function(_0x22b979){return _0x22b979;};const _0x5114a1=_0x342db7(new RegExp('(?:^|;\x20)'+_0xf8a277['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xe99cea=function(_0x4fc6e1,_0x54f241){_0x4fc6e1(++_0x54f241);};return _0xe99cea(_0x4f2d47,_0x1ee4ad),_0x5114a1?decodeURIComponent(_0x5114a1[0x1]):undefined;}},_0x5dd565=function(){const _0x2ccb72=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ccb72['test'](_0x4679b5['removeCookie']['toString']());};_0x4679b5['updateCookie']=_0x5dd565;let _0x2dd947='';const _0x57498b=_0x4679b5['updateCookie']();if(!_0x57498b)_0x4679b5['setCookie'](['*'],'counter',0x1);else _0x57498b?_0x2dd947=_0x4679b5['getCookie'](null,'counter'):_0x4679b5['removeCookie']();};_0x154f64();}(a143_0x1ee4,0x134));const a143_0x4f2d=function(_0x3185ae,_0x1ee4ad){_0x3185ae=_0x3185ae-0x0;let _0x4f2d47=a143_0x1ee4[_0x3185ae];return _0x4f2d47;};const a143_0x2a4711=function(){let _0x54b89f=!![];return function(_0x485e2e,_0x4d8e64){const _0x5d26f3=_0x54b89f?function(){if(_0x4d8e64){const _0x63a07e=_0x4d8e64['apply'](_0x485e2e,arguments);return _0x4d8e64=null,_0x63a07e;}}:function(){};return _0x54b89f=![],_0x5d26f3;};}(),a143_0x4f62ec=a143_0x2a4711(this,function(){const _0xa3e80b=function(){const _0x109dd8=_0xa3e80b[a143_0x4f2d('0x2')](a143_0x4f2d('0x17'))()[a143_0x4f2d('0x2')](a143_0x4f2d('0x0'));return!_0x109dd8['test'](a143_0x4f62ec);};return _0xa3e80b();});a143_0x4f62ec();'use strict';const tesseract_1=require(a143_0x4f2d('0x10')),discord_js_1=require(a143_0x4f2d('0x24')),regex=require('../utils/regex');module[a143_0x4f2d('0x16')]=class LinkFilter extends tesseract_1[a143_0x4f2d('0x8')]{constructor(){super('linkFilter',{'type':0x0}),this['deleteLink']=_0x2a5599=>{if(_0x2a5599[a143_0x4f2d('0x15')])_0x2a5599[a143_0x4f2d('0x1')]()[a143_0x4f2d('0x19')](()=>{});},this[a143_0x4f2d('0x1a')]=async _0xd771ef=>{if(!_0xd771ef[a143_0x4f2d('0x26')])return;if(!(_0xd771ef[a143_0x4f2d('0x1e')]instanceof discord_js_1[a143_0x4f2d('0x28')]))return;if(!_0xd771ef[a143_0x4f2d('0x7')]||!_0xd771ef['content'][a143_0x4f2d('0xd')])return![];const _0x22c6cd=_0xd771ef[a143_0x4f2d('0x26')];if(_0xd771ef[a143_0x4f2d('0x20')]&&_0xd771ef[a143_0x4f2d('0x20')][a143_0x4f2d('0xb')][a143_0x4f2d('0x4')][a143_0x4f2d('0x14')](_0x55663c=>_0x55663c[a143_0x4f2d('0xc')][a143_0x4f2d('0x6')]()==='safelist'))return![];if(_0xd771ef['channel'][a143_0x4f2d('0x1d')](_0xd771ef[a143_0x4f2d('0x20')])&&_0xd771ef[a143_0x4f2d('0x1e')][a143_0x4f2d('0x1d')](_0xd771ef['member'])[a143_0x4f2d('0xa')]([a143_0x4f2d('0x1c'),'MANAGE_MESSAGES']))return![];if(!_0x22c6cd[a143_0x4f2d('0x27')]||!_0x22c6cd[a143_0x4f2d('0x27')][a143_0x4f2d('0x9')]||!_0x22c6cd['document'][a143_0x4f2d('0x9')]['linkFilter']||!_0x22c6cd['document'][a143_0x4f2d('0x9')][a143_0x4f2d('0xf')]['enabled'])return![];if(_0x22c6cd[a143_0x4f2d('0x27')][a143_0x4f2d('0x9')][a143_0x4f2d('0xf')][a143_0x4f2d('0x18')]){if(_0x22c6cd[a143_0x4f2d('0x27')][a143_0x4f2d('0x9')][a143_0x4f2d('0xf')]['whitelist'][a143_0x4f2d('0xe')](_0xd771ef['channel']['id']))return![];if(_0x22c6cd[a143_0x4f2d('0x27')][a143_0x4f2d('0x9')][a143_0x4f2d('0xf')]['whitelist'][a143_0x4f2d('0x14')](_0x5894=>_0xd771ef[a143_0x4f2d('0x20')][a143_0x4f2d('0xb')][a143_0x4f2d('0x4')][a143_0x4f2d('0xa')](_0x5894)))return![];}if(regex[a143_0x4f2d('0x5')][a143_0x4f2d('0x11')](_0xd771ef[a143_0x4f2d('0x7')]))return _0xd771ef[a143_0x4f2d('0x20')][a143_0x4f2d('0x13')](a143_0x4f2d('0x22')),this[a143_0x4f2d('0x1b')](_0xd771ef),_0x22c6cd[a143_0x4f2d('0x3')]({'event':'linkFilter','fields':[{'name':a143_0x4f2d('0x25'),'value':_0xd771ef['author'][a143_0x4f2d('0x12')]+a143_0x4f2d('0x23')+_0xd771ef[a143_0x4f2d('0x1f')]['id']},{'name':a143_0x4f2d('0x21'),'value':_0xd771ef['channel'][a143_0x4f2d('0xc')]+a143_0x4f2d('0x23')+_0xd771ef['channel']['id']}]})['catch'](()=>{}),!![];return![];};}};