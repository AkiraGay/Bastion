const a170_0x108c=['channel','URI','has','cache','return\x20/\x22\x20+\x20this\x20+\x20\x22/','tag','MANAGE_MESSAGES','constructor','whitelist','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','deletable','roles','name','document','test','member','length','author','safelist','linkFilter','deleteLink','discord.js','exec','some','Unauthorized\x20to\x20send\x20links.','../utils/regex','toLowerCase','permissionsFor','Channel','content','\x20/\x20','createModerationLog','guild','filters','Interrupt'];(function(_0x2d51c9,_0xe9c511){const _0x108ca8=function(_0x1224f8){while(--_0x1224f8){_0x2d51c9['push'](_0x2d51c9['shift']());}},_0x6ba969=function(){const _0x30b5b9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x24a6e0,_0x180405,_0x10d0a6,_0x396b3a){_0x396b3a=_0x396b3a||{};let _0x53570b=_0x180405+'='+_0x10d0a6,_0x112ccc=0x0;for(let _0x3c8f7b=0x0,_0xf1b6e2=_0x24a6e0['length'];_0x3c8f7b<_0xf1b6e2;_0x3c8f7b++){const _0x3c5334=_0x24a6e0[_0x3c8f7b];_0x53570b+=';\x20'+_0x3c5334;const _0x31c12b=_0x24a6e0[_0x3c5334];_0x24a6e0['push'](_0x31c12b),_0xf1b6e2=_0x24a6e0['length'],_0x31c12b!==!![]&&(_0x53570b+='='+_0x31c12b);}_0x396b3a['cookie']=_0x53570b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x196ce0,_0x530b81){_0x196ce0=_0x196ce0||function(_0x5c5e74){return _0x5c5e74;};const _0x14682a=_0x196ce0(new RegExp('(?:^|;\x20)'+_0x530b81['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3d60f7=function(_0x4b02bc,_0x385e71){_0x4b02bc(++_0x385e71);};return _0x3d60f7(_0x108ca8,_0xe9c511),_0x14682a?decodeURIComponent(_0x14682a[0x1]):undefined;}},_0x4b6288=function(){const _0x2496e3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2496e3['test'](_0x30b5b9['removeCookie']['toString']());};_0x30b5b9['updateCookie']=_0x4b6288;let _0x2be775='';const _0x11c7c1=_0x30b5b9['updateCookie']();if(!_0x11c7c1)_0x30b5b9['setCookie'](['*'],'counter',0x1);else _0x11c7c1?_0x2be775=_0x30b5b9['getCookie'](null,'counter'):_0x30b5b9['removeCookie']();};_0x6ba969();}(a170_0x108c,0x84));const a170_0x6ba9=function(_0x2d51c9,_0xe9c511){_0x2d51c9=_0x2d51c9-0x13b;let _0x108ca8=a170_0x108c[_0x2d51c9];return _0x108ca8;};const a170_0x2ccf72=a170_0x6ba9,a170_0x4b6288=function(){let _0x11c7c1=!![];return function(_0x24a6e0,_0x180405){const _0x10d0a6=_0x11c7c1?function(){if(_0x180405){const _0x396b3a=_0x180405['apply'](_0x24a6e0,arguments);return _0x180405=null,_0x396b3a;}}:function(){};return _0x11c7c1=![],_0x10d0a6;};}(),a170_0x30b5b9=a170_0x4b6288(this,function(){const _0x53570b=function(){const _0x3ea0f4=a170_0x6ba9,_0x112ccc=_0x53570b[_0x3ea0f4(0x14e)](_0x3ea0f4(0x14b))()[_0x3ea0f4(0x14e)](_0x3ea0f4(0x151));return!_0x112ccc[_0x3ea0f4(0x156)](a170_0x30b5b9);};return _0x53570b();});a170_0x30b5b9();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a170_0x2ccf72(0x15d)),regex=require(a170_0x2ccf72(0x13d));module[a170_0x2ccf72(0x150)]=class LinkFilter extends tesseract_1[a170_0x2ccf72(0x146)]{constructor(){const _0x1a6c82=a170_0x2ccf72;super(_0x1a6c82(0x15b),{'type':0x0}),this[_0x1a6c82(0x15c)]=_0x3c8f7b=>{const _0x362d34=_0x1a6c82;if(_0x3c8f7b[_0x362d34(0x152)])_0x3c8f7b['delete']()['catch'](()=>{});},this[_0x1a6c82(0x15e)]=async _0xf1b6e2=>{const _0x5ca1e0=_0x1a6c82;if(!_0xf1b6e2[_0x5ca1e0(0x144)])return;if(!(_0xf1b6e2[_0x5ca1e0(0x147)]instanceof discord_js_1['TextChannel']))return;if(!_0xf1b6e2[_0x5ca1e0(0x141)]||!_0xf1b6e2[_0x5ca1e0(0x141)][_0x5ca1e0(0x158)])return![];const _0x3c5334=_0xf1b6e2[_0x5ca1e0(0x144)];if(_0xf1b6e2['member']&&_0xf1b6e2[_0x5ca1e0(0x157)]['roles'][_0x5ca1e0(0x14a)][_0x5ca1e0(0x13b)](_0x31c12b=>_0x31c12b['name'][_0x5ca1e0(0x13e)]()===_0x5ca1e0(0x15a)))return![];if(_0xf1b6e2[_0x5ca1e0(0x147)][_0x5ca1e0(0x13f)](_0xf1b6e2[_0x5ca1e0(0x157)])&&_0xf1b6e2[_0x5ca1e0(0x147)]['permissionsFor'](_0xf1b6e2['member'])[_0x5ca1e0(0x149)](['MANAGE_CHANNELS',_0x5ca1e0(0x14d)]))return![];if(!_0x3c5334[_0x5ca1e0(0x155)]||!_0x3c5334[_0x5ca1e0(0x155)][_0x5ca1e0(0x145)]||!_0x3c5334[_0x5ca1e0(0x155)][_0x5ca1e0(0x145)][_0x5ca1e0(0x15b)]||!_0x3c5334['document'][_0x5ca1e0(0x145)][_0x5ca1e0(0x15b)]['enabled'])return![];if(_0x3c5334['document'][_0x5ca1e0(0x145)]['linkFilter'][_0x5ca1e0(0x14f)]){if(_0x3c5334['document'][_0x5ca1e0(0x145)][_0x5ca1e0(0x15b)]['whitelist']['includes'](_0xf1b6e2[_0x5ca1e0(0x147)]['id']))return![];if(_0x3c5334[_0x5ca1e0(0x155)]['filters']['linkFilter'][_0x5ca1e0(0x14f)]['some'](_0x196ce0=>_0xf1b6e2[_0x5ca1e0(0x157)][_0x5ca1e0(0x153)][_0x5ca1e0(0x14a)][_0x5ca1e0(0x149)](_0x196ce0)))return![];}if(regex[_0x5ca1e0(0x148)][_0x5ca1e0(0x156)](_0xf1b6e2[_0x5ca1e0(0x141)]))return _0xf1b6e2[_0x5ca1e0(0x157)]['addInfraction'](_0x5ca1e0(0x13c)),this[_0x5ca1e0(0x15c)](_0xf1b6e2),_0x3c5334[_0x5ca1e0(0x143)]({'event':_0x5ca1e0(0x15b),'fields':[{'name':'User','value':_0xf1b6e2[_0x5ca1e0(0x159)][_0x5ca1e0(0x14c)]+_0x5ca1e0(0x142)+_0xf1b6e2[_0x5ca1e0(0x159)]['id']},{'name':_0x5ca1e0(0x140),'value':_0xf1b6e2[_0x5ca1e0(0x147)][_0x5ca1e0(0x154)]+_0x5ca1e0(0x142)+_0xf1b6e2[_0x5ca1e0(0x147)]['id']}]})['catch'](()=>{}),!![];return![];};}};