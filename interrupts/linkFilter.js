const a580_0x4fce=['discord.js','content','enabled','filters','tag','apply','test','whitelist','TextChannel','linkFilter','permissionsFor','constructor','catch','compile','User','../utils/regex','deletable','member','author','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','document','some','cache','channel','Interrupt','exec','exports','deleteLink','roles','\x20/\x20','guild','has','return\x20/\x22\x20+\x20this\x20+\x20\x22/','MANAGE_MESSAGES','@bastion/tesseract','length'];(function(_0x451903,_0x4fce2f){const _0xdc9a32=function(_0x4daf56){while(--_0x4daf56){_0x451903['push'](_0x451903['shift']());}};const _0x54f317=function(){const _0x4a5237={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x26d5d7,_0x3d0404,_0x25d686,_0x5abbfb){_0x5abbfb=_0x5abbfb||{};let _0x18e78d=_0x3d0404+'='+_0x25d686;let _0x2bd803=0x0;for(let _0x1ef5f6=0x0,_0x37ef46=_0x26d5d7['length'];_0x1ef5f6<_0x37ef46;_0x1ef5f6++){const _0x3ed423=_0x26d5d7[_0x1ef5f6];_0x18e78d+=';\x20'+_0x3ed423;const _0x24b75d=_0x26d5d7[_0x3ed423];_0x26d5d7['push'](_0x24b75d);_0x37ef46=_0x26d5d7['length'];if(_0x24b75d!==!![]){_0x18e78d+='='+_0x24b75d;}}_0x5abbfb['cookie']=_0x18e78d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x35f494,_0x10a00b){_0x35f494=_0x35f494||function(_0x45729c){return _0x45729c;};const _0x505c85=_0x35f494(new RegExp('(?:^|;\x20)'+_0x10a00b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x173dd9=function(_0x420f6a,_0x38ae6){_0x420f6a(++_0x38ae6);};_0x173dd9(_0xdc9a32,_0x4fce2f);return _0x505c85?decodeURIComponent(_0x505c85[0x1]):undefined;}};const _0x364753=function(){const _0x11c315=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x11c315['test'](_0x4a5237['removeCookie']['toString']());};_0x4a5237['updateCookie']=_0x364753;let _0x40dffa='';const _0x102afe=_0x4a5237['updateCookie']();if(!_0x102afe){_0x4a5237['setCookie'](['*'],'counter',0x1);}else if(_0x102afe){_0x40dffa=_0x4a5237['getCookie'](null,'counter');}else{_0x4a5237['removeCookie']();}};_0x54f317();}(a580_0x4fce,0x186));const a580_0xdc9a=function(_0x451903,_0x4fce2f){_0x451903=_0x451903-0x0;let _0xdc9a32=a580_0x4fce[_0x451903];return _0xdc9a32;};const a580_0x4a5237=function(){let _0x33a19a=!![];return function(_0x373e33,_0x11561e){const _0x24b258=_0x33a19a?function(){if(_0x11561e){const _0x4f21cc=_0x11561e[a580_0xdc9a('0xb')](_0x373e33,arguments);_0x11561e=null;return _0x4f21cc;}}:function(){};_0x33a19a=![];return _0x24b258;};}();const a580_0x4daf56=a580_0x4a5237(this,function(){const _0xa21d80=function(){const _0x4d3f29=_0xa21d80[a580_0xdc9a('0x11')](a580_0xdc9a('0x2'))()[a580_0xdc9a('0x13')](a580_0xdc9a('0x19'));return!_0x4d3f29[a580_0xdc9a('0xc')](a580_0x4daf56);};return _0xa21d80();});a580_0x4daf56();'use strict';const tesseract_1=require(a580_0xdc9a('0x4'));const discord_js_1=require(a580_0xdc9a('0x6'));const regex=require(a580_0xdc9a('0x15'));module[a580_0xdc9a('0x20')]=class LinkFilter extends tesseract_1[a580_0xdc9a('0x1e')]{constructor(){super(a580_0xdc9a('0xf'),{'type':0x0});this[a580_0xdc9a('0x21')]=_0x4a9c61=>{if(_0x4a9c61[a580_0xdc9a('0x16')])_0x4a9c61['delete']()[a580_0xdc9a('0x12')](()=>{});};this[a580_0xdc9a('0x1f')]=async _0x208484=>{if(!_0x208484[a580_0xdc9a('0x0')])return;if(!(_0x208484[a580_0xdc9a('0x1d')]instanceof discord_js_1[a580_0xdc9a('0xe')]))return;if(!_0x208484[a580_0xdc9a('0x7')]||!_0x208484['content'][a580_0xdc9a('0x5')])return![];const _0x81754b=_0x208484[a580_0xdc9a('0x0')];if(_0x208484[a580_0xdc9a('0x1d')][a580_0xdc9a('0x10')](_0x208484[a580_0xdc9a('0x17')])&&_0x208484[a580_0xdc9a('0x1d')]['permissionsFor'](_0x208484['member'])[a580_0xdc9a('0x1')](['MANAGE_CHANNELS',a580_0xdc9a('0x3')]))return![];if(!_0x81754b['document']||!_0x81754b[a580_0xdc9a('0x1a')]['filters']||!_0x81754b[a580_0xdc9a('0x1a')]['filters']['linkFilter']||!_0x81754b[a580_0xdc9a('0x1a')][a580_0xdc9a('0x9')]['linkFilter'][a580_0xdc9a('0x8')])return![];if(_0x81754b[a580_0xdc9a('0x1a')]['filters'][a580_0xdc9a('0xf')]['whitelist']){if(_0x81754b[a580_0xdc9a('0x1a')][a580_0xdc9a('0x9')][a580_0xdc9a('0xf')][a580_0xdc9a('0xd')]['includes'](_0x208484[a580_0xdc9a('0x1d')]['id']))return![];if(_0x81754b[a580_0xdc9a('0x1a')]['filters'][a580_0xdc9a('0xf')]['whitelist'][a580_0xdc9a('0x1b')](_0x43bb08=>_0x208484[a580_0xdc9a('0x17')][a580_0xdc9a('0x22')][a580_0xdc9a('0x1c')][a580_0xdc9a('0x1')](_0x43bb08)))return![];}if(regex['URI'][a580_0xdc9a('0xc')](_0x208484[a580_0xdc9a('0x7')])){this[a580_0xdc9a('0x21')](_0x208484);_0x81754b['createModerationLog']({'event':'linkFilter','fields':[{'name':a580_0xdc9a('0x14'),'value':_0x208484['author'][a580_0xdc9a('0xa')]+a580_0xdc9a('0x23')+_0x208484[a580_0xdc9a('0x18')]['id']},{'name':'Channel','value':_0x208484[a580_0xdc9a('0x1d')]['name']+a580_0xdc9a('0x23')+_0x208484[a580_0xdc9a('0x1d')]['id']}]})[a580_0xdc9a('0x12')](()=>{});return!![];}return![];};}};