const a360_0x54db=['../utils/regex','permissionsFor','author','cache','Channel','discord.js','member','MANAGE_CHANNELS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','linkFilter','length','@bastion/tesseract','apply','tag','filters','deletable','name','createModerationLog','User','exports','roles','constructor','enabled','content','has','deleteLink','delete','channel','test','document','guild','catch','compile','exec','\x20/\x20','Interrupt','whitelist'];(function(_0x222f2f,_0x54db80){const _0x307161=function(_0x298036){while(--_0x298036){_0x222f2f['push'](_0x222f2f['shift']());}};const _0x31a8c2=function(){const _0x1e6c39={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x503262,_0x90dad0,_0x1d10ac,_0x3d7eb0){_0x3d7eb0=_0x3d7eb0||{};let _0xe91812=_0x90dad0+'='+_0x1d10ac;let _0x448750=0x0;for(let _0x603df5=0x0,_0x43a6c2=_0x503262['length'];_0x603df5<_0x43a6c2;_0x603df5++){const _0x6b65c8=_0x503262[_0x603df5];_0xe91812+=';\x20'+_0x6b65c8;const _0x538c23=_0x503262[_0x6b65c8];_0x503262['push'](_0x538c23);_0x43a6c2=_0x503262['length'];if(_0x538c23!==!![]){_0xe91812+='='+_0x538c23;}}_0x3d7eb0['cookie']=_0xe91812;},'removeCookie':function(){return'dev';},'getCookie':function(_0x16e423,_0x358dc6){_0x16e423=_0x16e423||function(_0x11ed1a){return _0x11ed1a;};const _0x38385a=_0x16e423(new RegExp('(?:^|;\x20)'+_0x358dc6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x415f40=function(_0x40da5d,_0x4acc46){_0x40da5d(++_0x4acc46);};_0x415f40(_0x307161,_0x54db80);return _0x38385a?decodeURIComponent(_0x38385a[0x1]):undefined;}};const _0x51ec57=function(){const _0x4fca76=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4fca76['test'](_0x1e6c39['removeCookie']['toString']());};_0x1e6c39['updateCookie']=_0x51ec57;let _0x46627f='';const _0x180a3a=_0x1e6c39['updateCookie']();if(!_0x180a3a){_0x1e6c39['setCookie'](['*'],'counter',0x1);}else if(_0x180a3a){_0x46627f=_0x1e6c39['getCookie'](null,'counter');}else{_0x1e6c39['removeCookie']();}};_0x31a8c2();}(a360_0x54db,0xf3));const a360_0x3071=function(_0x222f2f,_0x54db80){_0x222f2f=_0x222f2f-0x0;let _0x307161=a360_0x54db[_0x222f2f];return _0x307161;};const a360_0x1e6c39=function(){let _0x50e1f3=!![];return function(_0x460f3e,_0x59652f){const _0x130023=_0x50e1f3?function(){if(_0x59652f){const _0x23c5ef=_0x59652f[a360_0x3071('0x1c')](_0x460f3e,arguments);_0x59652f=null;return _0x23c5ef;}}:function(){};_0x50e1f3=![];return _0x130023;};}();const a360_0x298036=a360_0x1e6c39(this,function(){const _0x56ba4d=function(){const _0x33acda=_0x56ba4d[a360_0x3071('0x0')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a360_0x3071('0xb')](a360_0x3071('0x18'));return!_0x33acda[a360_0x3071('0x7')](a360_0x298036);};return _0x56ba4d();});a360_0x298036();'use strict';const tesseract_1=require(a360_0x3071('0x1b'));const discord_js_1=require(a360_0x3071('0x15'));const regex=require(a360_0x3071('0x10'));module[a360_0x3071('0x23')]=class LinkFilter extends tesseract_1[a360_0x3071('0xe')]{constructor(){super(a360_0x3071('0x19'),{'type':0x0});this[a360_0x3071('0x4')]=_0x20c1c5=>{if(_0x20c1c5[a360_0x3071('0x1f')])_0x20c1c5[a360_0x3071('0x5')]()[a360_0x3071('0xa')](()=>{});};this[a360_0x3071('0xc')]=async _0x2d1b66=>{if(!_0x2d1b66[a360_0x3071('0x9')])return;if(!(_0x2d1b66['channel']instanceof discord_js_1['TextChannel']))return;if(!_0x2d1b66[a360_0x3071('0x2')]||!_0x2d1b66[a360_0x3071('0x2')][a360_0x3071('0x1a')])return![];const _0x4025c7=_0x2d1b66[a360_0x3071('0x9')];if(_0x2d1b66[a360_0x3071('0x6')][a360_0x3071('0x11')](_0x2d1b66[a360_0x3071('0x16')])&&_0x2d1b66['channel'][a360_0x3071('0x11')](_0x2d1b66[a360_0x3071('0x16')])[a360_0x3071('0x3')]([a360_0x3071('0x17'),'MANAGE_MESSAGES']))return![];if(!_0x4025c7[a360_0x3071('0x8')]||!_0x4025c7[a360_0x3071('0x8')][a360_0x3071('0x1e')]||!_0x4025c7[a360_0x3071('0x8')][a360_0x3071('0x1e')]['linkFilter']||!_0x4025c7[a360_0x3071('0x8')]['filters'][a360_0x3071('0x19')][a360_0x3071('0x1')])return![];if(_0x4025c7[a360_0x3071('0x8')][a360_0x3071('0x1e')]['linkFilter'][a360_0x3071('0xf')]){if(_0x4025c7[a360_0x3071('0x8')][a360_0x3071('0x1e')][a360_0x3071('0x19')][a360_0x3071('0xf')]['includes'](_0x2d1b66['channel']['id']))return![];if(_0x4025c7[a360_0x3071('0x8')][a360_0x3071('0x1e')][a360_0x3071('0x19')][a360_0x3071('0xf')]['some'](_0x14795a=>_0x2d1b66[a360_0x3071('0x16')][a360_0x3071('0x24')][a360_0x3071('0x13')][a360_0x3071('0x3')](_0x14795a)))return![];}if(regex['URI']['test'](_0x2d1b66[a360_0x3071('0x2')])){this[a360_0x3071('0x4')](_0x2d1b66);_0x4025c7[a360_0x3071('0x21')]({'event':a360_0x3071('0x19'),'fields':[{'name':a360_0x3071('0x22'),'value':_0x2d1b66[a360_0x3071('0x12')][a360_0x3071('0x1d')]+a360_0x3071('0xd')+_0x2d1b66['author']['id']},{'name':a360_0x3071('0x14'),'value':_0x2d1b66['channel'][a360_0x3071('0x20')]+a360_0x3071('0xd')+_0x2d1b66[a360_0x3071('0x6')]['id']}]})[a360_0x3071('0xa')](()=>{});return!![];}return![];};}};