const a166_0x51be=['linkFilter','\x20/\x20','document','has','URI','return\x20/\x22\x20+\x20this\x20+\x20\x22/','cache','whitelist','apply','TextChannel','catch','Unauthorized\x20to\x20send\x20links.','exports','some','discord.js','test','permissionsFor','guild','author','roles','constructor','enabled','deletable','member','filters','@bastion/tesseract','Channel','delete','addInfraction','channel','User','length','MANAGE_CHANNELS','includes','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','name','deleteLink','MANAGE_MESSAGES','Interrupt'];(function(_0x1b8c27,_0x51bef2){const _0x42bbd9=function(_0x3e6df2){while(--_0x3e6df2){_0x1b8c27['push'](_0x1b8c27['shift']());}},_0x57ea9e=function(){const _0x1350e4={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x54475e,_0x1dd114,_0x3dc9fe,_0x36e6f9){_0x36e6f9=_0x36e6f9||{};let _0x40f825=_0x1dd114+'='+_0x3dc9fe,_0x320681=0x0;for(let _0x4c24fd=0x0,_0x22ab0a=_0x54475e['length'];_0x4c24fd<_0x22ab0a;_0x4c24fd++){const _0x31ce24=_0x54475e[_0x4c24fd];_0x40f825+=';\x20'+_0x31ce24;const _0x6f59a6=_0x54475e[_0x31ce24];_0x54475e['push'](_0x6f59a6),_0x22ab0a=_0x54475e['length'],_0x6f59a6!==!![]&&(_0x40f825+='='+_0x6f59a6);}_0x36e6f9['cookie']=_0x40f825;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19b05e,_0x2affbc){_0x19b05e=_0x19b05e||function(_0x39a8d2){return _0x39a8d2;};const _0x192077=_0x19b05e(new RegExp('(?:^|;\x20)'+_0x2affbc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x584199=function(_0x410f7a,_0x4367b0){_0x410f7a(++_0x4367b0);};return _0x584199(_0x42bbd9,_0x51bef2),_0x192077?decodeURIComponent(_0x192077[0x1]):undefined;}},_0x23e6a1=function(){const _0x5f4247=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5f4247['test'](_0x1350e4['removeCookie']['toString']());};_0x1350e4['updateCookie']=_0x23e6a1;let _0x2dc36d='';const _0x4cc665=_0x1350e4['updateCookie']();if(!_0x4cc665)_0x1350e4['setCookie'](['*'],'counter',0x1);else _0x4cc665?_0x2dc36d=_0x1350e4['getCookie'](null,'counter'):_0x1350e4['removeCookie']();};_0x57ea9e();}(a166_0x51be,0xf9));const a166_0x42bb=function(_0x1b8c27,_0x51bef2){_0x1b8c27=_0x1b8c27-0x0;let _0x42bbd9=a166_0x51be[_0x1b8c27];return _0x42bbd9;};const _0x5762b6=a166_0x42bb,a166_0x1350e4=function(){let _0x2dc36d=!![];return function(_0x4cc665,_0x54475e){const _0x1dd114=_0x2dc36d?function(){const _0x4d6094=a166_0x42bb;if(_0x54475e){const _0x3dc9fe=_0x54475e[_0x4d6094('0x20')](_0x4cc665,arguments);return _0x54475e=null,_0x3dc9fe;}}:function(){};return _0x2dc36d=![],_0x1dd114;};}(),a166_0x3e6df2=a166_0x1350e4(this,function(){const _0x36e6f9=function(){const _0x9cef13=a166_0x42bb,_0x40f825=_0x36e6f9[_0x9cef13('0x5')](_0x9cef13('0x1d'))()[_0x9cef13('0x5')](_0x9cef13('0x13'));return!_0x40f825[_0x9cef13('0x0')](a166_0x3e6df2);};return _0x36e6f9();});a166_0x3e6df2();'use strict';const tesseract_1=require(_0x5762b6('0xa')),discord_js_1=require(_0x5762b6('0x26')),regex=require('../utils/regex');module[_0x5762b6('0x24')]=class LinkFilter extends tesseract_1[_0x5762b6('0x17')]{constructor(){const _0x53b087=_0x5762b6;super('linkFilter',{'type':0x0}),this[_0x53b087('0x15')]=_0x320681=>{const _0x13ed7f=_0x53b087;if(_0x320681[_0x13ed7f('0x7')])_0x320681[_0x13ed7f('0xc')]()[_0x13ed7f('0x22')](()=>{});},this['exec']=async _0x4c24fd=>{const _0x47ff64=_0x53b087;if(!_0x4c24fd[_0x47ff64('0x2')])return;if(!(_0x4c24fd[_0x47ff64('0xe')]instanceof discord_js_1[_0x47ff64('0x21')]))return;if(!_0x4c24fd['content']||!_0x4c24fd['content'][_0x47ff64('0x10')])return![];const _0x22ab0a=_0x4c24fd[_0x47ff64('0x2')];if(_0x4c24fd[_0x47ff64('0x8')]&&_0x4c24fd['member'][_0x47ff64('0x4')][_0x47ff64('0x1e')][_0x47ff64('0x25')](_0x31ce24=>_0x31ce24[_0x47ff64('0x14')]['toLowerCase']()==='safelist'))return![];if(_0x4c24fd[_0x47ff64('0xe')][_0x47ff64('0x1')](_0x4c24fd[_0x47ff64('0x8')])&&_0x4c24fd[_0x47ff64('0xe')][_0x47ff64('0x1')](_0x4c24fd[_0x47ff64('0x8')])[_0x47ff64('0x1b')]([_0x47ff64('0x11'),_0x47ff64('0x16')]))return![];if(!_0x22ab0a[_0x47ff64('0x1a')]||!_0x22ab0a['document'][_0x47ff64('0x9')]||!_0x22ab0a[_0x47ff64('0x1a')][_0x47ff64('0x9')][_0x47ff64('0x18')]||!_0x22ab0a['document'][_0x47ff64('0x9')][_0x47ff64('0x18')][_0x47ff64('0x6')])return![];if(_0x22ab0a['document'][_0x47ff64('0x9')]['linkFilter'][_0x47ff64('0x1f')]){if(_0x22ab0a[_0x47ff64('0x1a')][_0x47ff64('0x9')][_0x47ff64('0x18')][_0x47ff64('0x1f')][_0x47ff64('0x12')](_0x4c24fd[_0x47ff64('0xe')]['id']))return![];if(_0x22ab0a[_0x47ff64('0x1a')]['filters'][_0x47ff64('0x18')][_0x47ff64('0x1f')][_0x47ff64('0x25')](_0x6f59a6=>_0x4c24fd[_0x47ff64('0x8')][_0x47ff64('0x4')][_0x47ff64('0x1e')]['has'](_0x6f59a6)))return![];}if(regex[_0x47ff64('0x1c')]['test'](_0x4c24fd['content']))return _0x4c24fd[_0x47ff64('0x8')][_0x47ff64('0xd')](_0x47ff64('0x23')),this[_0x47ff64('0x15')](_0x4c24fd),_0x22ab0a['createModerationLog']({'event':_0x47ff64('0x18'),'fields':[{'name':_0x47ff64('0xf'),'value':_0x4c24fd[_0x47ff64('0x3')]['tag']+_0x47ff64('0x19')+_0x4c24fd[_0x47ff64('0x3')]['id']},{'name':_0x47ff64('0xb'),'value':_0x4c24fd['channel'][_0x47ff64('0x14')]+'\x20/\x20'+_0x4c24fd['channel']['id']}]})[_0x47ff64('0x22')](()=>{}),!![];return![];};}};