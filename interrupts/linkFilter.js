const a140_0x3e17=['User','enabled','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','whitelist','name','tag','../utils/regex','delete','filters','exports','constructor','author','includes','\x20/\x20','channel','member','document','some','roles','test','content','length','@bastion/tesseract','MANAGE_CHANNELS','guild','TextChannel','linkFilter','deleteLink','discord.js','has','cache','compile','deletable','permissionsFor'];(function(_0x4fc255,_0x3e17dd){const _0x5e1533=function(_0x3f2fa6){while(--_0x3f2fa6){_0x4fc255['push'](_0x4fc255['shift']());}};const _0x2621d4=function(){const _0x29f8e8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5e11d8,_0x12b719,_0x2ca76c,_0x4544e2){_0x4544e2=_0x4544e2||{};let _0x1f7808=_0x12b719+'='+_0x2ca76c;let _0x1dc1c4=0x0;for(let _0x446571=0x0,_0xb61618=_0x5e11d8['length'];_0x446571<_0xb61618;_0x446571++){const _0x57fb05=_0x5e11d8[_0x446571];_0x1f7808+=';\x20'+_0x57fb05;const _0x3f0220=_0x5e11d8[_0x57fb05];_0x5e11d8['push'](_0x3f0220);_0xb61618=_0x5e11d8['length'];if(_0x3f0220!==!![]){_0x1f7808+='='+_0x3f0220;}}_0x4544e2['cookie']=_0x1f7808;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1b1cc4,_0x3049b1){_0x1b1cc4=_0x1b1cc4||function(_0x57bf36){return _0x57bf36;};const _0x47387c=_0x1b1cc4(new RegExp('(?:^|;\x20)'+_0x3049b1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4b28b8=function(_0x343cf4,_0x504cbe){_0x343cf4(++_0x504cbe);};_0x4b28b8(_0x5e1533,_0x3e17dd);return _0x47387c?decodeURIComponent(_0x47387c[0x1]):undefined;}};const _0x5b57b4=function(){const _0x2f78da=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2f78da['test'](_0x29f8e8['removeCookie']['toString']());};_0x29f8e8['updateCookie']=_0x5b57b4;let _0x55b326='';const _0x410f72=_0x29f8e8['updateCookie']();if(!_0x410f72){_0x29f8e8['setCookie'](['*'],'counter',0x1);}else if(_0x410f72){_0x55b326=_0x29f8e8['getCookie'](null,'counter');}else{_0x29f8e8['removeCookie']();}};_0x2621d4();}(a140_0x3e17,0x1b3));const a140_0x5e15=function(_0x4fc255,_0x3e17dd){_0x4fc255=_0x4fc255-0x0;let _0x5e1533=a140_0x3e17[_0x4fc255];return _0x5e1533;};const a140_0x29f8e8=function(){let _0x510cc0=!![];return function(_0x5a8bc7,_0x4996c2){const _0x2f04fa=_0x510cc0?function(){if(_0x4996c2){const _0x20e4ea=_0x4996c2['apply'](_0x5a8bc7,arguments);_0x4996c2=null;return _0x20e4ea;}}:function(){};_0x510cc0=![];return _0x2f04fa;};}();const a140_0x3f2fa6=a140_0x29f8e8(this,function(){const _0x43f97c=function(){const _0x37b367=_0x43f97c[a140_0x5e15('0x11')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a140_0x5e15('0x4')](a140_0x5e15('0x9'));return!_0x37b367[a140_0x5e15('0x1a')](a140_0x3f2fa6);};return _0x43f97c();});a140_0x3f2fa6();'use strict';const tesseract_1=require(a140_0x5e15('0x1d'));const discord_js_1=require(a140_0x5e15('0x1'));const regex=require(a140_0x5e15('0xd'));module[a140_0x5e15('0x10')]=class LinkFilter extends tesseract_1['Interrupt']{constructor(){super(a140_0x5e15('0x21'),{'type':0x0});this[a140_0x5e15('0x0')]=_0x388a05=>{if(_0x388a05[a140_0x5e15('0x5')])_0x388a05[a140_0x5e15('0xe')]()['catch'](()=>{});};this['exec']=async _0xc427b0=>{if(!_0xc427b0[a140_0x5e15('0x1f')])return;if(!(_0xc427b0['channel']instanceof discord_js_1[a140_0x5e15('0x20')]))return;if(!_0xc427b0[a140_0x5e15('0x1b')]||!_0xc427b0[a140_0x5e15('0x1b')][a140_0x5e15('0x1c')])return![];const _0x51d683=_0xc427b0['guild'];if(_0xc427b0['channel'][a140_0x5e15('0x6')](_0xc427b0['member'])&&_0xc427b0[a140_0x5e15('0x15')][a140_0x5e15('0x6')](_0xc427b0[a140_0x5e15('0x16')])[a140_0x5e15('0x2')]([a140_0x5e15('0x1e'),'MANAGE_MESSAGES']))return![];if(!_0x51d683[a140_0x5e15('0x17')]||!_0x51d683[a140_0x5e15('0x17')][a140_0x5e15('0xf')]||!_0x51d683[a140_0x5e15('0x17')][a140_0x5e15('0xf')][a140_0x5e15('0x21')]||!_0x51d683[a140_0x5e15('0x17')][a140_0x5e15('0xf')][a140_0x5e15('0x21')][a140_0x5e15('0x8')])return![];if(_0x51d683[a140_0x5e15('0x17')][a140_0x5e15('0xf')][a140_0x5e15('0x21')][a140_0x5e15('0xa')]){if(_0x51d683[a140_0x5e15('0x17')][a140_0x5e15('0xf')][a140_0x5e15('0x21')][a140_0x5e15('0xa')][a140_0x5e15('0x13')](_0xc427b0[a140_0x5e15('0x15')]['id']))return![];if(_0x51d683[a140_0x5e15('0x17')][a140_0x5e15('0xf')]['linkFilter']['whitelist'][a140_0x5e15('0x18')](_0x28a357=>_0xc427b0[a140_0x5e15('0x16')][a140_0x5e15('0x19')][a140_0x5e15('0x3')][a140_0x5e15('0x2')](_0x28a357)))return![];}if(regex['URI'][a140_0x5e15('0x1a')](_0xc427b0[a140_0x5e15('0x1b')])){this[a140_0x5e15('0x0')](_0xc427b0);_0x51d683['createModerationLog']({'event':a140_0x5e15('0x21'),'fields':[{'name':a140_0x5e15('0x7'),'value':_0xc427b0['author'][a140_0x5e15('0xc')]+'\x20/\x20'+_0xc427b0[a140_0x5e15('0x12')]['id']},{'name':'Channel','value':_0xc427b0[a140_0x5e15('0x15')][a140_0x5e15('0xb')]+a140_0x5e15('0x14')+_0xc427b0['channel']['id']}]})['catch'](()=>{});return!![];}return![];};}};