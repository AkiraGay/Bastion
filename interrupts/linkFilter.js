const a141_0x484a=['some','document','apply','createModerationLog','linkFilter','author','../utils/regex','deleteLink','User','enabled','deletable','MANAGE_MESSAGES','whitelist','member','channel','guild','roles','catch','TextChannel','Interrupt','URI','permissionsFor','discord.js','addInfraction','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','exec','\x20/\x20','tag','return\x20/\x22\x20+\x20this\x20+\x20\x22/','has','Channel','delete','filters'];(function(_0x217e5f,_0x484adf){const _0x4666ca=function(_0x4fc50d){while(--_0x4fc50d){_0x217e5f['push'](_0x217e5f['shift']());}};const _0x461fdf=function(){const _0x2bd77e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x35586c,_0x58f7c5,_0x1f5b31,_0x48b284){_0x48b284=_0x48b284||{};let _0x53f46b=_0x58f7c5+'='+_0x1f5b31;let _0xc03a38=0x0;for(let _0x1448c2=0x0,_0x5dc2f8=_0x35586c['length'];_0x1448c2<_0x5dc2f8;_0x1448c2++){const _0x396566=_0x35586c[_0x1448c2];_0x53f46b+=';\x20'+_0x396566;const _0x5935d5=_0x35586c[_0x396566];_0x35586c['push'](_0x5935d5);_0x5dc2f8=_0x35586c['length'];if(_0x5935d5!==!![]){_0x53f46b+='='+_0x5935d5;}}_0x48b284['cookie']=_0x53f46b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x157458,_0xfb4022){_0x157458=_0x157458||function(_0x20e8fc){return _0x20e8fc;};const _0x5c6cb3=_0x157458(new RegExp('(?:^|;\x20)'+_0xfb4022['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x19ac71=function(_0x3d446f,_0x150cad){_0x3d446f(++_0x150cad);};_0x19ac71(_0x4666ca,_0x484adf);return _0x5c6cb3?decodeURIComponent(_0x5c6cb3[0x1]):undefined;}};const _0x4147bc=function(){const _0x419a7d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x419a7d['test'](_0x2bd77e['removeCookie']['toString']());};_0x2bd77e['updateCookie']=_0x4147bc;let _0x3d5bb0='';const _0x57161c=_0x2bd77e['updateCookie']();if(!_0x57161c){_0x2bd77e['setCookie'](['*'],'counter',0x1);}else if(_0x57161c){_0x3d5bb0=_0x2bd77e['getCookie'](null,'counter');}else{_0x2bd77e['removeCookie']();}};_0x461fdf();}(a141_0x484a,0xf0));const a141_0x4666=function(_0x217e5f,_0x484adf){_0x217e5f=_0x217e5f-0x0;let _0x4666ca=a141_0x484a[_0x217e5f];return _0x4666ca;};const a141_0x2bd77e=function(){let _0x4fe0c9=!![];return function(_0x2d2260,_0x57fbb2){const _0x49d8c0=_0x4fe0c9?function(){if(_0x57fbb2){const _0x1fc5a5=_0x57fbb2[a141_0x4666('0x1a')](_0x2d2260,arguments);_0x57fbb2=null;return _0x1fc5a5;}}:function(){};_0x4fe0c9=![];return _0x49d8c0;};}();const a141_0x4fc50d=a141_0x2bd77e(this,function(){const _0x355c94=function(){const _0x2dd998=_0x355c94['constructor'](a141_0x4666('0x13'))()['compile'](a141_0x4666('0xf'));return!_0x2dd998['test'](a141_0x4fc50d);};return _0x355c94();});a141_0x4fc50d();'use strict';const tesseract_1=require('@bastion/tesseract');const discord_js_1=require(a141_0x4666('0xd'));const regex=require(a141_0x4666('0x1e'));module['exports']=class LinkFilter extends tesseract_1[a141_0x4666('0xa')]{constructor(){super('linkFilter',{'type':0x0});this[a141_0x4666('0x1f')]=_0xf462d0=>{if(_0xf462d0[a141_0x4666('0x1')])_0xf462d0[a141_0x4666('0x16')]()[a141_0x4666('0x8')](()=>{});};this[a141_0x4666('0x10')]=async _0x29e790=>{if(!_0x29e790[a141_0x4666('0x6')])return;if(!(_0x29e790[a141_0x4666('0x5')]instanceof discord_js_1[a141_0x4666('0x9')]))return;if(!_0x29e790['content']||!_0x29e790['content']['length'])return![];const _0x4df1a8=_0x29e790['guild'];if(_0x29e790[a141_0x4666('0x5')]['permissionsFor'](_0x29e790[a141_0x4666('0x4')])&&_0x29e790[a141_0x4666('0x5')][a141_0x4666('0xc')](_0x29e790[a141_0x4666('0x4')])[a141_0x4666('0x14')](['MANAGE_CHANNELS',a141_0x4666('0x2')]))return![];if(!_0x4df1a8[a141_0x4666('0x19')]||!_0x4df1a8['document'][a141_0x4666('0x17')]||!_0x4df1a8[a141_0x4666('0x19')][a141_0x4666('0x17')]['linkFilter']||!_0x4df1a8[a141_0x4666('0x19')]['filters'][a141_0x4666('0x1c')][a141_0x4666('0x0')])return![];if(_0x4df1a8['document'][a141_0x4666('0x17')]['linkFilter']['whitelist']){if(_0x4df1a8[a141_0x4666('0x19')]['filters']['linkFilter']['whitelist']['includes'](_0x29e790[a141_0x4666('0x5')]['id']))return![];if(_0x4df1a8['document'][a141_0x4666('0x17')][a141_0x4666('0x1c')][a141_0x4666('0x3')][a141_0x4666('0x18')](_0x485a13=>_0x29e790[a141_0x4666('0x4')][a141_0x4666('0x7')]['cache'][a141_0x4666('0x14')](_0x485a13)))return![];}if(regex[a141_0x4666('0xb')]['test'](_0x29e790['content'])){_0x29e790[a141_0x4666('0x4')][a141_0x4666('0xe')]('Unauthorized\x20to\x20send\x20links.');this[a141_0x4666('0x1f')](_0x29e790);_0x4df1a8[a141_0x4666('0x1b')]({'event':'linkFilter','fields':[{'name':a141_0x4666('0x20'),'value':_0x29e790[a141_0x4666('0x1d')][a141_0x4666('0x12')]+a141_0x4666('0x11')+_0x29e790[a141_0x4666('0x1d')]['id']},{'name':a141_0x4666('0x15'),'value':_0x29e790[a141_0x4666('0x5')]['name']+a141_0x4666('0x11')+_0x29e790[a141_0x4666('0x5')]['id']}]})[a141_0x4666('0x8')](()=>{});return!![];}return![];};}};