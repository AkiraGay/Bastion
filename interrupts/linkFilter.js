const a141_0x3959=['channel','addInfraction','constructor','deleteLink','return\x20/\x22\x20+\x20this\x20+\x20\x22/','includes','Channel','MANAGE_CHANNELS','linkFilter','test','name','content','permissionsFor','guild','cache','member','deletable','tag','whitelist','URI','Unauthorized\x20to\x20send\x20links.','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../utils/regex','enabled','@bastion/tesseract','author','discord.js','document','exec','has','apply','delete','exports','filters','catch','some'];(function(_0xd831e6,_0x395954){const _0xacbe0d=function(_0x2137be){while(--_0x2137be){_0xd831e6['push'](_0xd831e6['shift']());}};const _0x241ce6=function(){const _0x8efacd={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2efb07,_0x4f9f94,_0x4075f8,_0x1d39d3){_0x1d39d3=_0x1d39d3||{};let _0x3d3751=_0x4f9f94+'='+_0x4075f8;let _0x3da22f=0x0;for(let _0x3e84fa=0x0,_0x426496=_0x2efb07['length'];_0x3e84fa<_0x426496;_0x3e84fa++){const _0x4cb0f0=_0x2efb07[_0x3e84fa];_0x3d3751+=';\x20'+_0x4cb0f0;const _0x53b10e=_0x2efb07[_0x4cb0f0];_0x2efb07['push'](_0x53b10e);_0x426496=_0x2efb07['length'];if(_0x53b10e!==!![]){_0x3d3751+='='+_0x53b10e;}}_0x1d39d3['cookie']=_0x3d3751;},'removeCookie':function(){return'dev';},'getCookie':function(_0x17bcb9,_0x20dd93){_0x17bcb9=_0x17bcb9||function(_0x3d7966){return _0x3d7966;};const _0x7b1d7e=_0x17bcb9(new RegExp('(?:^|;\x20)'+_0x20dd93['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x244356=function(_0x3b7915,_0x3432e6){_0x3b7915(++_0x3432e6);};_0x244356(_0xacbe0d,_0x395954);return _0x7b1d7e?decodeURIComponent(_0x7b1d7e[0x1]):undefined;}};const _0x5a6007=function(){const _0x50c906=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x50c906['test'](_0x8efacd['removeCookie']['toString']());};_0x8efacd['updateCookie']=_0x5a6007;let _0x461407='';const _0x15955b=_0x8efacd['updateCookie']();if(!_0x15955b){_0x8efacd['setCookie'](['*'],'counter',0x1);}else if(_0x15955b){_0x461407=_0x8efacd['getCookie'](null,'counter');}else{_0x8efacd['removeCookie']();}};_0x241ce6();}(a141_0x3959,0x9c));const a141_0xacbe=function(_0xd831e6,_0x395954){_0xd831e6=_0xd831e6-0x0;let _0xacbe0d=a141_0x3959[_0xd831e6];return _0xacbe0d;};const a141_0x8efacd=function(){let _0x589c13=!![];return function(_0x2564a6,_0x147868){const _0x250bac=_0x589c13?function(){if(_0x147868){const _0x299f9e=_0x147868[a141_0xacbe('0x12')](_0x2564a6,arguments);_0x147868=null;return _0x299f9e;}}:function(){};_0x589c13=![];return _0x250bac;};}();const a141_0x2137be=a141_0x8efacd(this,function(){const _0x10f915=function(){const _0x914c15=_0x10f915[a141_0xacbe('0x1a')](a141_0xacbe('0x1c'))()['compile'](a141_0xacbe('0x9'));return!_0x914c15[a141_0xacbe('0x21')](a141_0x2137be);};return _0x10f915();});a141_0x2137be();'use strict';const tesseract_1=require(a141_0xacbe('0xc'));const discord_js_1=require(a141_0xacbe('0xe'));const regex=require(a141_0xacbe('0xa'));module[a141_0xacbe('0x14')]=class LinkFilter extends tesseract_1['Interrupt']{constructor(){super('linkFilter',{'type':0x0});this[a141_0xacbe('0x1b')]=_0x3e9188=>{if(_0x3e9188[a141_0xacbe('0x4')])_0x3e9188[a141_0xacbe('0x13')]()[a141_0xacbe('0x16')](()=>{});};this[a141_0xacbe('0x10')]=async _0x349170=>{if(!_0x349170[a141_0xacbe('0x1')])return;if(!(_0x349170[a141_0xacbe('0x18')]instanceof discord_js_1['TextChannel']))return;if(!_0x349170[a141_0xacbe('0x23')]||!_0x349170[a141_0xacbe('0x23')]['length'])return![];const _0x5c93d3=_0x349170[a141_0xacbe('0x1')];if(_0x349170['channel'][a141_0xacbe('0x0')](_0x349170['member'])&&_0x349170[a141_0xacbe('0x18')][a141_0xacbe('0x0')](_0x349170[a141_0xacbe('0x3')])[a141_0xacbe('0x11')]([a141_0xacbe('0x1f'),'MANAGE_MESSAGES']))return![];if(!_0x5c93d3[a141_0xacbe('0xf')]||!_0x5c93d3[a141_0xacbe('0xf')][a141_0xacbe('0x15')]||!_0x5c93d3[a141_0xacbe('0xf')][a141_0xacbe('0x15')]['linkFilter']||!_0x5c93d3[a141_0xacbe('0xf')]['filters'][a141_0xacbe('0x20')][a141_0xacbe('0xb')])return![];if(_0x5c93d3['document'][a141_0xacbe('0x15')][a141_0xacbe('0x20')][a141_0xacbe('0x6')]){if(_0x5c93d3[a141_0xacbe('0xf')][a141_0xacbe('0x15')][a141_0xacbe('0x20')][a141_0xacbe('0x6')][a141_0xacbe('0x1d')](_0x349170[a141_0xacbe('0x18')]['id']))return![];if(_0x5c93d3[a141_0xacbe('0xf')][a141_0xacbe('0x15')][a141_0xacbe('0x20')]['whitelist'][a141_0xacbe('0x17')](_0x40f06d=>_0x349170['member']['roles'][a141_0xacbe('0x2')][a141_0xacbe('0x11')](_0x40f06d)))return![];}if(regex[a141_0xacbe('0x7')]['test'](_0x349170[a141_0xacbe('0x23')])){_0x349170[a141_0xacbe('0x3')][a141_0xacbe('0x19')](a141_0xacbe('0x8'));this[a141_0xacbe('0x1b')](_0x349170);_0x5c93d3['createModerationLog']({'event':a141_0xacbe('0x20'),'fields':[{'name':'User','value':_0x349170['author'][a141_0xacbe('0x5')]+'\x20/\x20'+_0x349170[a141_0xacbe('0xd')]['id']},{'name':a141_0xacbe('0x1e'),'value':_0x349170[a141_0xacbe('0x18')][a141_0xacbe('0x22')]+'\x20/\x20'+_0x349170['channel']['id']}]})[a141_0xacbe('0x16')](()=>{});return!![];}return![];};}};