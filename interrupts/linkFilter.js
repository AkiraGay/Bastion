const a141_0x504a=['channel','name','exports','deletable','MANAGE_MESSAGES','author','deleteLink','exec','discord.js','some','constructor','Channel','guild','permissionsFor','member','return\x20/\x22\x20+\x20this\x20+\x20\x22/','compile','\x20/\x20','delete','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','document','Unauthorized\x20to\x20send\x20links.','Interrupt','linkFilter','content','User','../utils/regex','apply','MANAGE_CHANNELS','whitelist','createModerationLog','filters','has','catch','URI','cache','tag','@bastion/tesseract','length'];(function(_0x489eab,_0x504a33){const _0x4e2681=function(_0x39ae0a){while(--_0x39ae0a){_0x489eab['push'](_0x489eab['shift']());}};const _0x3ef827=function(){const _0xd6d9a0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x7fa8c7,_0x27e6ba,_0x1ad3a0,_0x553690){_0x553690=_0x553690||{};let _0x136d64=_0x27e6ba+'='+_0x1ad3a0;let _0x32a10f=0x0;for(let _0x444ae1=0x0,_0x22a51a=_0x7fa8c7['length'];_0x444ae1<_0x22a51a;_0x444ae1++){const _0x16e7b6=_0x7fa8c7[_0x444ae1];_0x136d64+=';\x20'+_0x16e7b6;const _0x355d6f=_0x7fa8c7[_0x16e7b6];_0x7fa8c7['push'](_0x355d6f);_0x22a51a=_0x7fa8c7['length'];if(_0x355d6f!==!![]){_0x136d64+='='+_0x355d6f;}}_0x553690['cookie']=_0x136d64;},'removeCookie':function(){return'dev';},'getCookie':function(_0xbe658e,_0x38d46e){_0xbe658e=_0xbe658e||function(_0x712662){return _0x712662;};const _0x1e7de4=_0xbe658e(new RegExp('(?:^|;\x20)'+_0x38d46e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x420ed3=function(_0x4e52bc,_0x251743){_0x4e52bc(++_0x251743);};_0x420ed3(_0x4e2681,_0x504a33);return _0x1e7de4?decodeURIComponent(_0x1e7de4[0x1]):undefined;}};const _0xbcf25f=function(){const _0x4c55aa=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4c55aa['test'](_0xd6d9a0['removeCookie']['toString']());};_0xd6d9a0['updateCookie']=_0xbcf25f;let _0x19f47a='';const _0x13a1ef=_0xd6d9a0['updateCookie']();if(!_0x13a1ef){_0xd6d9a0['setCookie'](['*'],'counter',0x1);}else if(_0x13a1ef){_0x19f47a=_0xd6d9a0['getCookie'](null,'counter');}else{_0xd6d9a0['removeCookie']();}};_0x3ef827();}(a141_0x504a,0x195));const a141_0x4e26=function(_0x489eab,_0x504a33){_0x489eab=_0x489eab-0x0;let _0x4e2681=a141_0x504a[_0x489eab];return _0x4e2681;};const a141_0xd6d9a0=function(){let _0x55569f=!![];return function(_0x2f9f0d,_0x4f77a3){const _0x260920=_0x55569f?function(){if(_0x4f77a3){const _0x104bdc=_0x4f77a3[a141_0x4e26('0xc')](_0x2f9f0d,arguments);_0x4f77a3=null;return _0x104bdc;}}:function(){};_0x55569f=![];return _0x260920;};}();const a141_0x39ae0a=a141_0xd6d9a0(this,function(){const _0x1139db=function(){const _0x2abca4=_0x1139db[a141_0x4e26('0x22')](a141_0x4e26('0x0'))()[a141_0x4e26('0x1')](a141_0x4e26('0x4'));return!_0x2abca4['test'](a141_0x39ae0a);};return _0x1139db();});a141_0x39ae0a();'use strict';const tesseract_1=require(a141_0x4e26('0x16'));const discord_js_1=require(a141_0x4e26('0x20'));const regex=require(a141_0x4e26('0xb'));module[a141_0x4e26('0x1a')]=class LinkFilter extends tesseract_1[a141_0x4e26('0x7')]{constructor(){super(a141_0x4e26('0x8'),{'type':0x0});this[a141_0x4e26('0x1e')]=_0x5567a9=>{if(_0x5567a9[a141_0x4e26('0x1b')])_0x5567a9[a141_0x4e26('0x3')]()[a141_0x4e26('0x12')](()=>{});};this[a141_0x4e26('0x1f')]=async _0x247b0f=>{if(!_0x247b0f['guild'])return;if(!(_0x247b0f[a141_0x4e26('0x18')]instanceof discord_js_1['TextChannel']))return;if(!_0x247b0f[a141_0x4e26('0x9')]||!_0x247b0f[a141_0x4e26('0x9')][a141_0x4e26('0x17')])return![];const _0x57e77b=_0x247b0f[a141_0x4e26('0x24')];if(_0x247b0f[a141_0x4e26('0x18')][a141_0x4e26('0x25')](_0x247b0f[a141_0x4e26('0x26')])&&_0x247b0f[a141_0x4e26('0x18')][a141_0x4e26('0x25')](_0x247b0f[a141_0x4e26('0x26')])[a141_0x4e26('0x11')]([a141_0x4e26('0xd'),a141_0x4e26('0x1c')]))return![];if(!_0x57e77b[a141_0x4e26('0x5')]||!_0x57e77b['document'][a141_0x4e26('0x10')]||!_0x57e77b['document'][a141_0x4e26('0x10')][a141_0x4e26('0x8')]||!_0x57e77b[a141_0x4e26('0x5')][a141_0x4e26('0x10')]['linkFilter']['enabled'])return![];if(_0x57e77b[a141_0x4e26('0x5')][a141_0x4e26('0x10')][a141_0x4e26('0x8')][a141_0x4e26('0xe')]){if(_0x57e77b[a141_0x4e26('0x5')][a141_0x4e26('0x10')][a141_0x4e26('0x8')][a141_0x4e26('0xe')]['includes'](_0x247b0f[a141_0x4e26('0x18')]['id']))return![];if(_0x57e77b[a141_0x4e26('0x5')]['filters'][a141_0x4e26('0x8')][a141_0x4e26('0xe')][a141_0x4e26('0x21')](_0x22370c=>_0x247b0f[a141_0x4e26('0x26')]['roles'][a141_0x4e26('0x14')][a141_0x4e26('0x11')](_0x22370c)))return![];}if(regex[a141_0x4e26('0x13')]['test'](_0x247b0f[a141_0x4e26('0x9')])){_0x247b0f[a141_0x4e26('0x26')]['addInfraction'](a141_0x4e26('0x6'));this['deleteLink'](_0x247b0f);_0x57e77b[a141_0x4e26('0xf')]({'event':a141_0x4e26('0x8'),'fields':[{'name':a141_0x4e26('0xa'),'value':_0x247b0f[a141_0x4e26('0x1d')][a141_0x4e26('0x15')]+'\x20/\x20'+_0x247b0f[a141_0x4e26('0x1d')]['id']},{'name':a141_0x4e26('0x23'),'value':_0x247b0f[a141_0x4e26('0x18')][a141_0x4e26('0x19')]+a141_0x4e26('0x2')+_0x247b0f[a141_0x4e26('0x18')]['id']}]})[a141_0x4e26('0x12')](()=>{});return!![];}return![];};}};