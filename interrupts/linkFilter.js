const a149_0x1061=['has','whitelist','catch','deletable','apply','linkFilter','User','return\x20/\x22\x20+\x20this\x20+\x20\x22/','TextChannel','member','@bastion/tesseract','permissionsFor','delete','length','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Channel','toLowerCase','filters','channel','../utils/regex','name','guild','Unauthorized\x20to\x20send\x20links.','MANAGE_MESSAGES','createModerationLog','exports','author','constructor','roles','exec','URI','cache','addInfraction','includes','deleteLink','some','document','\x20/\x20','test','content','safelist'];(function(_0x4ca21b,_0x106162){const _0x56b57d=function(_0x35fb2e){while(--_0x35fb2e){_0x4ca21b['push'](_0x4ca21b['shift']());}},_0x373cae=function(){const _0x2d2513={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3e30f5,_0x276ee9,_0x302bc9,_0x13337f){_0x13337f=_0x13337f||{};let _0x2d61bb=_0x276ee9+'='+_0x302bc9,_0x212365=0x0;for(let _0x34e5b9=0x0,_0xc4747c=_0x3e30f5['length'];_0x34e5b9<_0xc4747c;_0x34e5b9++){const _0xf13dea=_0x3e30f5[_0x34e5b9];_0x2d61bb+=';\x20'+_0xf13dea;const _0x196e21=_0x3e30f5[_0xf13dea];_0x3e30f5['push'](_0x196e21),_0xc4747c=_0x3e30f5['length'],_0x196e21!==!![]&&(_0x2d61bb+='='+_0x196e21);}_0x13337f['cookie']=_0x2d61bb;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1f52c1,_0x4f63cd){_0x1f52c1=_0x1f52c1||function(_0x59df7e){return _0x59df7e;};const _0x463df8=_0x1f52c1(new RegExp('(?:^|;\x20)'+_0x4f63cd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x137145=function(_0x4da1c5,_0x20ea25){_0x4da1c5(++_0x20ea25);};return _0x137145(_0x56b57d,_0x106162),_0x463df8?decodeURIComponent(_0x463df8[0x1]):undefined;}},_0x4f0cdc=function(){const _0x31c772=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x31c772['test'](_0x2d2513['removeCookie']['toString']());};_0x2d2513['updateCookie']=_0x4f0cdc;let _0x3f2c2='';const _0x311285=_0x2d2513['updateCookie']();if(!_0x311285)_0x2d2513['setCookie'](['*'],'counter',0x1);else _0x311285?_0x3f2c2=_0x2d2513['getCookie'](null,'counter'):_0x2d2513['removeCookie']();};_0x373cae();}(a149_0x1061,0x1a6));const a149_0x56b5=function(_0x4ca21b,_0x106162){_0x4ca21b=_0x4ca21b-0x0;let _0x56b57d=a149_0x1061[_0x4ca21b];return _0x56b57d;};const a149_0x302bc9=function(){let _0x565f91=!![];return function(_0x5afe8b,_0x5e18a7){const _0x1cbe28=_0x565f91?function(){if(_0x5e18a7){const _0x1728eb=_0x5e18a7[a149_0x56b5('0x21')](_0x5afe8b,arguments);return _0x5e18a7=null,_0x1728eb;}}:function(){};return _0x565f91=![],_0x1cbe28;};}(),a149_0x276ee9=a149_0x302bc9(this,function(){const _0x2badbc=function(){const _0x518d66=_0x2badbc[a149_0x56b5('0xf')](a149_0x56b5('0x24'))()[a149_0x56b5('0xf')](a149_0x56b5('0x2'));return!_0x518d66[a149_0x56b5('0x1a')](a149_0x276ee9);};return _0x2badbc();});a149_0x276ee9();'use strict';const tesseract_1=require(a149_0x56b5('0x27')),discord_js_1=require('discord.js'),regex=require(a149_0x56b5('0x7'));module[a149_0x56b5('0xd')]=class LinkFilter extends tesseract_1['Interrupt']{constructor(){super('linkFilter',{'type':0x0}),this[a149_0x56b5('0x16')]=_0x4d1b51=>{if(_0x4d1b51[a149_0x56b5('0x20')])_0x4d1b51[a149_0x56b5('0x0')]()['catch'](()=>{});},this[a149_0x56b5('0x11')]=async _0x2e1544=>{if(!_0x2e1544[a149_0x56b5('0x9')])return;if(!(_0x2e1544[a149_0x56b5('0x6')]instanceof discord_js_1[a149_0x56b5('0x25')]))return;if(!_0x2e1544[a149_0x56b5('0x1b')]||!_0x2e1544[a149_0x56b5('0x1b')][a149_0x56b5('0x1')])return![];const _0xcb1f4d=_0x2e1544['guild'];if(_0x2e1544['member']&&_0x2e1544[a149_0x56b5('0x26')]['roles'][a149_0x56b5('0x13')]['some'](_0x4cd07a=>_0x4cd07a[a149_0x56b5('0x8')][a149_0x56b5('0x4')]()===a149_0x56b5('0x1c')))return![];if(_0x2e1544[a149_0x56b5('0x6')][a149_0x56b5('0x28')](_0x2e1544[a149_0x56b5('0x26')])&&_0x2e1544[a149_0x56b5('0x6')][a149_0x56b5('0x28')](_0x2e1544['member'])[a149_0x56b5('0x1d')](['MANAGE_CHANNELS',a149_0x56b5('0xb')]))return![];if(!_0xcb1f4d[a149_0x56b5('0x18')]||!_0xcb1f4d[a149_0x56b5('0x18')][a149_0x56b5('0x5')]||!_0xcb1f4d[a149_0x56b5('0x18')]['filters'][a149_0x56b5('0x22')]||!_0xcb1f4d[a149_0x56b5('0x18')][a149_0x56b5('0x5')][a149_0x56b5('0x22')]['enabled'])return![];if(_0xcb1f4d[a149_0x56b5('0x18')][a149_0x56b5('0x5')][a149_0x56b5('0x22')][a149_0x56b5('0x1e')]){if(_0xcb1f4d[a149_0x56b5('0x18')][a149_0x56b5('0x5')][a149_0x56b5('0x22')][a149_0x56b5('0x1e')][a149_0x56b5('0x15')](_0x2e1544['channel']['id']))return![];if(_0xcb1f4d[a149_0x56b5('0x18')]['filters'][a149_0x56b5('0x22')]['whitelist'][a149_0x56b5('0x17')](_0x285ab0=>_0x2e1544[a149_0x56b5('0x26')][a149_0x56b5('0x10')][a149_0x56b5('0x13')][a149_0x56b5('0x1d')](_0x285ab0)))return![];}if(regex[a149_0x56b5('0x12')][a149_0x56b5('0x1a')](_0x2e1544['content']))return _0x2e1544['member'][a149_0x56b5('0x14')](a149_0x56b5('0xa')),this[a149_0x56b5('0x16')](_0x2e1544),_0xcb1f4d[a149_0x56b5('0xc')]({'event':a149_0x56b5('0x22'),'fields':[{'name':a149_0x56b5('0x23'),'value':_0x2e1544[a149_0x56b5('0xe')]['tag']+a149_0x56b5('0x19')+_0x2e1544[a149_0x56b5('0xe')]['id']},{'name':a149_0x56b5('0x3'),'value':_0x2e1544[a149_0x56b5('0x6')]['name']+a149_0x56b5('0x19')+_0x2e1544[a149_0x56b5('0x6')]['id']}]})[a149_0x56b5('0x1f')](()=>{}),!![];return![];};}};