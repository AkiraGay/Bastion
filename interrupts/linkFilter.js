const a151_0x1d2c=['Unauthorized\x20to\x20send\x20links.','channel','author','roles','User','permissionsFor','whitelist','discord.js','includes','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','delete','apply','URI','filters','document','tag','\x20/\x20','deleteLink','has','deletable','catch','toLowerCase','addInfraction','cache','test','createModerationLog','some','linkFilter','length','member','content','exports','Interrupt','enabled','Channel','TextChannel','name','guild','return\x20/\x22\x20+\x20this\x20+\x20\x22/','MANAGE_CHANNELS','constructor'];(function(_0x4059c7,_0x1d2c68){const _0x358bfc=function(_0x579244){while(--_0x579244){_0x4059c7['push'](_0x4059c7['shift']());}},_0x22b984=function(){const _0x116cea={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3bfd41,_0xad5cbc,_0x25b193,_0x505598){_0x505598=_0x505598||{};let _0x5540a8=_0xad5cbc+'='+_0x25b193,_0x59f04a=0x0;for(let _0x5ce268=0x0,_0x553b55=_0x3bfd41['length'];_0x5ce268<_0x553b55;_0x5ce268++){const _0x582dd1=_0x3bfd41[_0x5ce268];_0x5540a8+=';\x20'+_0x582dd1;const _0x264b1f=_0x3bfd41[_0x582dd1];_0x3bfd41['push'](_0x264b1f),_0x553b55=_0x3bfd41['length'],_0x264b1f!==!![]&&(_0x5540a8+='='+_0x264b1f);}_0x505598['cookie']=_0x5540a8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x293ec8,_0x28e304){_0x293ec8=_0x293ec8||function(_0x1bc8c8){return _0x1bc8c8;};const _0x36a957=_0x293ec8(new RegExp('(?:^|;\x20)'+_0x28e304['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x182e44=function(_0x2b291c,_0x23ddfa){_0x2b291c(++_0x23ddfa);};return _0x182e44(_0x358bfc,_0x1d2c68),_0x36a957?decodeURIComponent(_0x36a957[0x1]):undefined;}},_0x1d20dc=function(){const _0x7c6dc0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x7c6dc0['test'](_0x116cea['removeCookie']['toString']());};_0x116cea['updateCookie']=_0x1d20dc;let _0x1aca5d='';const _0x4dd746=_0x116cea['updateCookie']();if(!_0x4dd746)_0x116cea['setCookie'](['*'],'counter',0x1);else _0x4dd746?_0x1aca5d=_0x116cea['getCookie'](null,'counter'):_0x116cea['removeCookie']();};_0x22b984();}(a151_0x1d2c,0x172));const a151_0x358b=function(_0x4059c7,_0x1d2c68){_0x4059c7=_0x4059c7-0x0;let _0x358bfc=a151_0x1d2c[_0x4059c7];return _0x358bfc;};const a151_0x116cea=function(){let _0x1aca5d=!![];return function(_0x4dd746,_0x3bfd41){const _0xad5cbc=_0x1aca5d?function(){if(_0x3bfd41){const _0x25b193=_0x3bfd41[a151_0x358b('0xa')](_0x4dd746,arguments);return _0x3bfd41=null,_0x25b193;}}:function(){};return _0x1aca5d=![],_0xad5cbc;};}(),a151_0x579244=a151_0x116cea(this,function(){const _0x505598=function(){const _0x5540a8=_0x505598[a151_0x358b('0x27')](a151_0x358b('0x25'))()[a151_0x358b('0x27')](a151_0x358b('0x8'));return!_0x5540a8[a151_0x358b('0x17')](a151_0x579244);};return _0x505598();});a151_0x579244();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a151_0x358b('0x6')),regex=require('../utils/regex');module[a151_0x358b('0x1e')]=class LinkFilter extends tesseract_1[a151_0x358b('0x1f')]{constructor(){super(a151_0x358b('0x1a'),{'type':0x0}),this[a151_0x358b('0x10')]=_0x59f04a=>{if(_0x59f04a[a151_0x358b('0x12')])_0x59f04a[a151_0x358b('0x9')]()[a151_0x358b('0x13')](()=>{});},this['exec']=async _0x5ce268=>{if(!_0x5ce268['guild'])return;if(!(_0x5ce268[a151_0x358b('0x0')]instanceof discord_js_1[a151_0x358b('0x22')]))return;if(!_0x5ce268['content']||!_0x5ce268[a151_0x358b('0x1d')][a151_0x358b('0x1b')])return![];const _0x553b55=_0x5ce268[a151_0x358b('0x24')];if(_0x5ce268[a151_0x358b('0x1c')]&&_0x5ce268['member'][a151_0x358b('0x2')]['cache'][a151_0x358b('0x19')](_0x582dd1=>_0x582dd1['name'][a151_0x358b('0x14')]()==='safelist'))return![];if(_0x5ce268[a151_0x358b('0x0')]['permissionsFor'](_0x5ce268[a151_0x358b('0x1c')])&&_0x5ce268[a151_0x358b('0x0')][a151_0x358b('0x4')](_0x5ce268[a151_0x358b('0x1c')])['has']([a151_0x358b('0x26'),'MANAGE_MESSAGES']))return![];if(!_0x553b55[a151_0x358b('0xd')]||!_0x553b55['document'][a151_0x358b('0xc')]||!_0x553b55[a151_0x358b('0xd')][a151_0x358b('0xc')]['linkFilter']||!_0x553b55[a151_0x358b('0xd')][a151_0x358b('0xc')][a151_0x358b('0x1a')][a151_0x358b('0x20')])return![];if(_0x553b55[a151_0x358b('0xd')][a151_0x358b('0xc')][a151_0x358b('0x1a')]['whitelist']){if(_0x553b55['document'][a151_0x358b('0xc')][a151_0x358b('0x1a')][a151_0x358b('0x5')][a151_0x358b('0x7')](_0x5ce268[a151_0x358b('0x0')]['id']))return![];if(_0x553b55[a151_0x358b('0xd')][a151_0x358b('0xc')][a151_0x358b('0x1a')][a151_0x358b('0x5')]['some'](_0x264b1f=>_0x5ce268[a151_0x358b('0x1c')][a151_0x358b('0x2')][a151_0x358b('0x16')][a151_0x358b('0x11')](_0x264b1f)))return![];}if(regex[a151_0x358b('0xb')]['test'](_0x5ce268['content']))return _0x5ce268[a151_0x358b('0x1c')][a151_0x358b('0x15')](a151_0x358b('0x28')),this[a151_0x358b('0x10')](_0x5ce268),_0x553b55[a151_0x358b('0x18')]({'event':a151_0x358b('0x1a'),'fields':[{'name':a151_0x358b('0x3'),'value':_0x5ce268[a151_0x358b('0x1')][a151_0x358b('0xe')]+a151_0x358b('0xf')+_0x5ce268[a151_0x358b('0x1')]['id']},{'name':a151_0x358b('0x21'),'value':_0x5ce268['channel'][a151_0x358b('0x23')]+a151_0x358b('0xf')+_0x5ce268[a151_0x358b('0x0')]['id']}]})[a151_0x358b('0x13')](()=>{}),!![];return![];};}};