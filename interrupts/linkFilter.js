const a170_0x2a81=['deleteLink','Unauthorized\x20to\x20send\x20links.','some','\x20/\x20','URI','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','document','whitelist','tag','discord.js','User','permissionsFor','catch','addInfraction','safelist','delete','return\x20/\x22\x20+\x20this\x20+\x20\x22/','enabled','createModerationLog','roles','has','Channel','channel','author','constructor','exec','cache','MANAGE_CHANNELS','length','guild','filters','content','name','includes','toLowerCase','member','linkFilter','MANAGE_MESSAGES','apply','TextChannel','test'];(function(_0x2e4aa4,_0x2c6596){const _0x2a81eb=function(_0x125a44){while(--_0x125a44){_0x2e4aa4['push'](_0x2e4aa4['shift']());}},_0x2f7dc3=function(){const _0x5356b2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4a1c1b,_0x4dc66b,_0x112442,_0x871840){_0x871840=_0x871840||{};let _0x4ad5cb=_0x4dc66b+'='+_0x112442,_0x29fc65=0x0;for(let _0x19226f=0x0,_0x263a8e=_0x4a1c1b['length'];_0x19226f<_0x263a8e;_0x19226f++){const _0x29904a=_0x4a1c1b[_0x19226f];_0x4ad5cb+=';\x20'+_0x29904a;const _0x26003e=_0x4a1c1b[_0x29904a];_0x4a1c1b['push'](_0x26003e),_0x263a8e=_0x4a1c1b['length'],_0x26003e!==!![]&&(_0x4ad5cb+='='+_0x26003e);}_0x871840['cookie']=_0x4ad5cb;},'removeCookie':function(){return'dev';},'getCookie':function(_0x558c8a,_0x46785f){_0x558c8a=_0x558c8a||function(_0xe71409){return _0xe71409;};const _0xd17805=_0x558c8a(new RegExp('(?:^|;\x20)'+_0x46785f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x415b36=function(_0xe4c1ae,_0x9630f5){_0xe4c1ae(++_0x9630f5);};return _0x415b36(_0x2a81eb,_0x2c6596),_0xd17805?decodeURIComponent(_0xd17805[0x1]):undefined;}},_0x6c21b9=function(){const _0x382d4a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x382d4a['test'](_0x5356b2['removeCookie']['toString']());};_0x5356b2['updateCookie']=_0x6c21b9;let _0x3785a1='';const _0x54ec82=_0x5356b2['updateCookie']();if(!_0x54ec82)_0x5356b2['setCookie'](['*'],'counter',0x1);else _0x54ec82?_0x3785a1=_0x5356b2['getCookie'](null,'counter'):_0x5356b2['removeCookie']();};_0x2f7dc3();}(a170_0x2a81,0xf2));const a170_0x2f7d=function(_0x2e4aa4,_0x2c6596){_0x2e4aa4=_0x2e4aa4-0x106;let _0x2a81eb=a170_0x2a81[_0x2e4aa4];return _0x2a81eb;};const a170_0x231c72=a170_0x2f7d,a170_0x6c21b9=function(){let _0x54ec82=!![];return function(_0x4a1c1b,_0x4dc66b){const _0x112442=_0x54ec82?function(){const _0x3b5868=a170_0x2f7d;if(_0x4dc66b){const _0x871840=_0x4dc66b[_0x3b5868(0x107)](_0x4a1c1b,arguments);return _0x4dc66b=null,_0x871840;}}:function(){};return _0x54ec82=![],_0x112442;};}(),a170_0x5356b2=a170_0x6c21b9(this,function(){const _0x4ad5cb=function(){const _0x208b79=a170_0x2f7d,_0x29fc65=_0x4ad5cb[_0x208b79(0x122)](_0x208b79(0x11a))()[_0x208b79(0x122)](_0x208b79(0x10f));return!_0x29fc65[_0x208b79(0x109)](a170_0x5356b2);};return _0x4ad5cb();});a170_0x5356b2();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a170_0x231c72(0x113)),regex=require('../utils/regex');module['exports']=class LinkFilter extends tesseract_1['Interrupt']{constructor(){const _0x152e5b=a170_0x231c72;super(_0x152e5b(0x12e),{'type':0x0}),this[_0x152e5b(0x10a)]=_0x19226f=>{const _0x1f1738=_0x152e5b;if(_0x19226f['deletable'])_0x19226f[_0x1f1738(0x119)]()[_0x1f1738(0x116)](()=>{});},this[_0x152e5b(0x123)]=async _0x263a8e=>{const _0x4e2340=_0x152e5b;if(!_0x263a8e[_0x4e2340(0x127)])return;if(!(_0x263a8e[_0x4e2340(0x120)]instanceof discord_js_1[_0x4e2340(0x108)]))return;if(!_0x263a8e[_0x4e2340(0x129)]||!_0x263a8e[_0x4e2340(0x129)][_0x4e2340(0x126)])return![];const _0x29904a=_0x263a8e[_0x4e2340(0x127)];if(_0x263a8e['member']&&_0x263a8e[_0x4e2340(0x12d)][_0x4e2340(0x11d)][_0x4e2340(0x124)]['some'](_0x26003e=>_0x26003e['name'][_0x4e2340(0x12c)]()===_0x4e2340(0x118)))return![];if(_0x263a8e[_0x4e2340(0x120)][_0x4e2340(0x115)](_0x263a8e[_0x4e2340(0x12d)])&&_0x263a8e['channel'][_0x4e2340(0x115)](_0x263a8e['member'])[_0x4e2340(0x11e)]([_0x4e2340(0x125),_0x4e2340(0x106)]))return![];if(!_0x29904a[_0x4e2340(0x110)]||!_0x29904a['document'][_0x4e2340(0x128)]||!_0x29904a[_0x4e2340(0x110)]['filters'][_0x4e2340(0x12e)]||!_0x29904a[_0x4e2340(0x110)][_0x4e2340(0x128)][_0x4e2340(0x12e)][_0x4e2340(0x11b)])return![];if(_0x29904a[_0x4e2340(0x110)][_0x4e2340(0x128)]['linkFilter'][_0x4e2340(0x111)]){if(_0x29904a['document'][_0x4e2340(0x128)]['linkFilter'][_0x4e2340(0x111)][_0x4e2340(0x12b)](_0x263a8e[_0x4e2340(0x120)]['id']))return![];if(_0x29904a[_0x4e2340(0x110)][_0x4e2340(0x128)][_0x4e2340(0x12e)][_0x4e2340(0x111)][_0x4e2340(0x10c)](_0x558c8a=>_0x263a8e['member'][_0x4e2340(0x11d)][_0x4e2340(0x124)][_0x4e2340(0x11e)](_0x558c8a)))return![];}if(regex[_0x4e2340(0x10e)][_0x4e2340(0x109)](_0x263a8e['content']))return _0x263a8e[_0x4e2340(0x12d)][_0x4e2340(0x117)](_0x4e2340(0x10b)),this['deleteLink'](_0x263a8e),_0x29904a[_0x4e2340(0x11c)]({'event':'linkFilter','fields':[{'name':_0x4e2340(0x114),'value':_0x263a8e[_0x4e2340(0x121)][_0x4e2340(0x112)]+_0x4e2340(0x10d)+_0x263a8e['author']['id']},{'name':_0x4e2340(0x11f),'value':_0x263a8e[_0x4e2340(0x120)][_0x4e2340(0x12a)]+'\x20/\x20'+_0x263a8e[_0x4e2340(0x120)]['id']}]})[_0x4e2340(0x116)](()=>{}),!![];return![];};}};