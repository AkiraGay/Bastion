const a140_0x4768=['channel','constructor','../utils/regex','cache','author','linkFilter','document','member','exports','has','whitelist','createModerationLog','apply','MANAGE_CHANNELS','enabled','guild','roles','User','content','filters','exec','tag','name','some','permissionsFor','deletable','deleteLink','\x20/\x20','Interrupt','includes','@bastion/tesseract','Channel','length','test','MANAGE_MESSAGES'];(function(_0x3a8210,_0x476864){const _0x53dcb4=function(_0x220e5c){while(--_0x220e5c){_0x3a8210['push'](_0x3a8210['shift']());}};const _0x1de0ce=function(){const _0xf3ddd9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5b0ed6,_0x50cbc9,_0x5c0e26,_0x5b4f0d){_0x5b4f0d=_0x5b4f0d||{};let _0x4719ba=_0x50cbc9+'='+_0x5c0e26;let _0x5d494c=0x0;for(let _0x29e634=0x0,_0x99de4c=_0x5b0ed6['length'];_0x29e634<_0x99de4c;_0x29e634++){const _0x3f054e=_0x5b0ed6[_0x29e634];_0x4719ba+=';\x20'+_0x3f054e;const _0x55a1ed=_0x5b0ed6[_0x3f054e];_0x5b0ed6['push'](_0x55a1ed);_0x99de4c=_0x5b0ed6['length'];if(_0x55a1ed!==!![]){_0x4719ba+='='+_0x55a1ed;}}_0x5b4f0d['cookie']=_0x4719ba;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4594d3,_0x3454db){_0x4594d3=_0x4594d3||function(_0x258294){return _0x258294;};const _0x5aa115=_0x4594d3(new RegExp('(?:^|;\x20)'+_0x3454db['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x49aac4=function(_0x271c39,_0x1703a8){_0x271c39(++_0x1703a8);};_0x49aac4(_0x53dcb4,_0x476864);return _0x5aa115?decodeURIComponent(_0x5aa115[0x1]):undefined;}};const _0x4021d9=function(){const _0x580aa3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x580aa3['test'](_0xf3ddd9['removeCookie']['toString']());};_0xf3ddd9['updateCookie']=_0x4021d9;let _0x1467b7='';const _0x28f98c=_0xf3ddd9['updateCookie']();if(!_0x28f98c){_0xf3ddd9['setCookie'](['*'],'counter',0x1);}else if(_0x28f98c){_0x1467b7=_0xf3ddd9['getCookie'](null,'counter');}else{_0xf3ddd9['removeCookie']();}};_0x1de0ce();}(a140_0x4768,0x159));const a140_0x53dc=function(_0x3a8210,_0x476864){_0x3a8210=_0x3a8210-0x0;let _0x53dcb4=a140_0x4768[_0x3a8210];return _0x53dcb4;};const a140_0xf3ddd9=function(){let _0x5ca683=!![];return function(_0x7da8a5,_0x890ddf){const _0x42d293=_0x5ca683?function(){if(_0x890ddf){const _0x201b85=_0x890ddf[a140_0x53dc('0x11')](_0x7da8a5,arguments);_0x890ddf=null;return _0x201b85;}}:function(){};_0x5ca683=![];return _0x42d293;};}();const a140_0x220e5c=a140_0xf3ddd9(this,function(){const _0x4dc5c8=function(){const _0x396159=_0x4dc5c8[a140_0x53dc('0x6')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x396159[a140_0x53dc('0x3')](a140_0x220e5c);};return _0x4dc5c8();});a140_0x220e5c();'use strict';const tesseract_1=require(a140_0x53dc('0x0'));const discord_js_1=require('discord.js');const regex=require(a140_0x53dc('0x7'));module[a140_0x53dc('0xd')]=class LinkFilter extends tesseract_1[a140_0x53dc('0x21')]{constructor(){super('linkFilter',{'type':0x0});this[a140_0x53dc('0x1f')]=_0x2a30cd=>{if(_0x2a30cd[a140_0x53dc('0x1e')])_0x2a30cd['delete']()['catch'](()=>{});};this[a140_0x53dc('0x19')]=async _0x3fc720=>{if(!_0x3fc720[a140_0x53dc('0x14')])return;if(!(_0x3fc720[a140_0x53dc('0x5')]instanceof discord_js_1['TextChannel']))return;if(!_0x3fc720['content']||!_0x3fc720['content'][a140_0x53dc('0x2')])return![];const _0x551e6f=_0x3fc720[a140_0x53dc('0x14')];if(_0x3fc720[a140_0x53dc('0x5')]['permissionsFor'](_0x3fc720[a140_0x53dc('0xc')])&&_0x3fc720[a140_0x53dc('0x5')][a140_0x53dc('0x1d')](_0x3fc720[a140_0x53dc('0xc')])[a140_0x53dc('0xe')]([a140_0x53dc('0x12'),a140_0x53dc('0x4')]))return![];if(!_0x551e6f['document']||!_0x551e6f[a140_0x53dc('0xb')]['filters']||!_0x551e6f[a140_0x53dc('0xb')][a140_0x53dc('0x18')][a140_0x53dc('0xa')]||!_0x551e6f[a140_0x53dc('0xb')][a140_0x53dc('0x18')]['linkFilter'][a140_0x53dc('0x13')])return![];if(_0x551e6f[a140_0x53dc('0xb')][a140_0x53dc('0x18')][a140_0x53dc('0xa')][a140_0x53dc('0xf')]){if(_0x551e6f['document'][a140_0x53dc('0x18')][a140_0x53dc('0xa')]['whitelist'][a140_0x53dc('0x22')](_0x3fc720[a140_0x53dc('0x5')]['id']))return![];if(_0x551e6f['document'][a140_0x53dc('0x18')][a140_0x53dc('0xa')][a140_0x53dc('0xf')][a140_0x53dc('0x1c')](_0xc98eb6=>_0x3fc720[a140_0x53dc('0xc')][a140_0x53dc('0x15')][a140_0x53dc('0x8')][a140_0x53dc('0xe')](_0xc98eb6)))return![];}if(regex['URI'][a140_0x53dc('0x3')](_0x3fc720[a140_0x53dc('0x17')])){this[a140_0x53dc('0x1f')](_0x3fc720);_0x551e6f[a140_0x53dc('0x10')]({'event':a140_0x53dc('0xa'),'fields':[{'name':a140_0x53dc('0x16'),'value':_0x3fc720[a140_0x53dc('0x9')][a140_0x53dc('0x1a')]+'\x20/\x20'+_0x3fc720[a140_0x53dc('0x9')]['id']},{'name':a140_0x53dc('0x1'),'value':_0x3fc720[a140_0x53dc('0x5')][a140_0x53dc('0x1b')]+a140_0x53dc('0x20')+_0x3fc720[a140_0x53dc('0x5')]['id']}]})['catch'](()=>{});return!![];}return![];};}};