const a152_0x505e=['MANAGE_MESSAGES','fetchVanityData','member','permissionsFor','some','document','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','TextChannel','channel','author','apply','return\x20/\x22\x20+\x20this\x20+\x20\x22/','catch','every','whitelist','SERVER_INVITE','filters','@bastion/tesseract','cache','safelist','match','length','User','\x20/\x20','name','has','deletable','push','test','exports','MANAGE_CHANNELS','inviteFilter','code','constructor','content','guild','Interrupt','deleteInvite','discord.js','roles','../utils/regex','createModerationLog'];(function(_0x289c1b,_0x505ef2){const _0x56589e=function(_0x236b6c){while(--_0x236b6c){_0x289c1b['push'](_0x289c1b['shift']());}},_0x29a96d=function(){const _0x546349={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x592b9e,_0x201554,_0x29ac69,_0x30c120){_0x30c120=_0x30c120||{};let _0xbec7c1=_0x201554+'='+_0x29ac69,_0x1ef1cd=0x0;for(let _0x3c9de6=0x0,_0x4bc5a6=_0x592b9e['length'];_0x3c9de6<_0x4bc5a6;_0x3c9de6++){const _0x56665c=_0x592b9e[_0x3c9de6];_0xbec7c1+=';\x20'+_0x56665c;const _0x493631=_0x592b9e[_0x56665c];_0x592b9e['push'](_0x493631),_0x4bc5a6=_0x592b9e['length'],_0x493631!==!![]&&(_0xbec7c1+='='+_0x493631);}_0x30c120['cookie']=_0xbec7c1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5eb59f,_0x4fd898){_0x5eb59f=_0x5eb59f||function(_0x2fb116){return _0x2fb116;};const _0x3a4a9d=_0x5eb59f(new RegExp('(?:^|;\x20)'+_0x4fd898['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x47caa8=function(_0x1093d1,_0xfb30c2){_0x1093d1(++_0xfb30c2);};return _0x47caa8(_0x56589e,_0x505ef2),_0x3a4a9d?decodeURIComponent(_0x3a4a9d[0x1]):undefined;}},_0x3cacf5=function(){const _0x5aa59f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5aa59f['test'](_0x546349['removeCookie']['toString']());};_0x546349['updateCookie']=_0x3cacf5;let _0x2bd5b1='';const _0x39011f=_0x546349['updateCookie']();if(!_0x39011f)_0x546349['setCookie'](['*'],'counter',0x1);else _0x39011f?_0x2bd5b1=_0x546349['getCookie'](null,'counter'):_0x546349['removeCookie']();};_0x29a96d();}(a152_0x505e,0x8d));const a152_0x5658=function(_0x289c1b,_0x505ef2){_0x289c1b=_0x289c1b-0x0;let _0x56589e=a152_0x505e[_0x289c1b];return _0x56589e;};const _0x1b8641=a152_0x5658,a152_0x546349=function(){let _0x2bd5b1=!![];return function(_0x39011f,_0x592b9e){const _0x201554=_0x2bd5b1?function(){const _0x19bf9b=a152_0x5658;if(_0x592b9e){const _0x29ac69=_0x592b9e[_0x19bf9b('0x25')](_0x39011f,arguments);return _0x592b9e=null,_0x29ac69;}}:function(){};return _0x2bd5b1=![],_0x201554;};}(),a152_0x236b6c=a152_0x546349(this,function(){const _0x30c120=function(){const _0x40bae5=a152_0x5658,_0xbec7c1=_0x30c120['constructor'](_0x40bae5('0x26'))()[_0x40bae5('0x12')](_0x40bae5('0x21'));return!_0xbec7c1['test'](a152_0x236b6c);};return _0x30c120();});a152_0x236b6c();'use strict';const tesseract_1=require(_0x1b8641('0x2')),discord_js_1=require(_0x1b8641('0x17')),regex=require(_0x1b8641('0x19'));module[_0x1b8641('0xe')]=class InviteFilter extends tesseract_1[_0x1b8641('0x15')]{constructor(){const _0x18515e=_0x1b8641;super(_0x18515e('0x10'),{'type':0x0}),this[_0x18515e('0x16')]=_0x1ef1cd=>{const _0x11b04c=_0x18515e;if(_0x1ef1cd[_0x11b04c('0xb')])_0x1ef1cd['delete']()[_0x11b04c('0x27')](()=>{});},this['exec']=async _0x3c9de6=>{const _0x5d01f6=_0x18515e;if(!_0x3c9de6[_0x5d01f6('0x14')])return;if(!(_0x3c9de6[_0x5d01f6('0x23')]instanceof discord_js_1[_0x5d01f6('0x22')]))return;if(!_0x3c9de6[_0x5d01f6('0x13')]||!_0x3c9de6[_0x5d01f6('0x13')][_0x5d01f6('0x6')])return![];const _0x4bc5a6=_0x3c9de6[_0x5d01f6('0x14')];if(_0x3c9de6['member']&&_0x3c9de6[_0x5d01f6('0x1d')]['roles'][_0x5d01f6('0x3')][_0x5d01f6('0x1f')](_0x56665c=>_0x56665c['name']['toLowerCase']()===_0x5d01f6('0x4')))return![];if(_0x3c9de6[_0x5d01f6('0x23')][_0x5d01f6('0x1e')](_0x3c9de6['member'])&&_0x3c9de6['channel'][_0x5d01f6('0x1e')](_0x3c9de6[_0x5d01f6('0x1d')])['has']([_0x5d01f6('0xf'),_0x5d01f6('0x1b')]))return![];if(!_0x4bc5a6[_0x5d01f6('0x20')]||!_0x4bc5a6[_0x5d01f6('0x20')][_0x5d01f6('0x1')]||!_0x4bc5a6[_0x5d01f6('0x20')][_0x5d01f6('0x1')][_0x5d01f6('0x10')]||!_0x4bc5a6['document'][_0x5d01f6('0x1')][_0x5d01f6('0x10')]['enabled'])return![];if(_0x4bc5a6[_0x5d01f6('0x20')][_0x5d01f6('0x1')]['inviteFilter']['whitelist']){if(_0x4bc5a6['document'][_0x5d01f6('0x1')][_0x5d01f6('0x10')][_0x5d01f6('0x29')]['includes'](_0x3c9de6[_0x5d01f6('0x23')]['id']))return![];if(_0x4bc5a6[_0x5d01f6('0x20')][_0x5d01f6('0x1')][_0x5d01f6('0x10')]['whitelist']['some'](_0x493631=>_0x3c9de6[_0x5d01f6('0x1d')][_0x5d01f6('0x18')][_0x5d01f6('0x3')][_0x5d01f6('0xa')](_0x493631)))return![];}if(regex[_0x5d01f6('0x0')][_0x5d01f6('0xd')](_0x3c9de6[_0x5d01f6('0x13')])){const _0x5eb59f=[],_0x4fd898=await _0x3c9de6[_0x5d01f6('0x14')]['fetchInvites']()[_0x5d01f6('0x27')](()=>{});if(_0x4fd898)_0x5eb59f[_0x5d01f6('0xc')](..._0x4fd898['keys']());const _0x3a4a9d=await _0x3c9de6[_0x5d01f6('0x14')][_0x5d01f6('0x1c')]()[_0x5d01f6('0x27')](()=>{});if(_0x3a4a9d&&_0x3a4a9d['code'])_0x5eb59f['push'](_0x3a4a9d[_0x5d01f6('0x11')]);const _0x47caa8=_0x3c9de6['content'][_0x5d01f6('0x5')](new RegExp(regex[_0x5d01f6('0x0')],'g'));if(_0x5eb59f['length']&&_0x47caa8[_0x5d01f6('0x28')](_0x2fb116=>_0x5eb59f['includes'](_0x2fb116)))return![];return _0x3c9de6[_0x5d01f6('0x1d')]['addInfraction']('Unauthorized\x20to\x20send\x20Server\x20Invites.'),this[_0x5d01f6('0x16')](_0x3c9de6),_0x4bc5a6[_0x5d01f6('0x1a')]({'event':'inviteFilter','fields':[{'name':_0x5d01f6('0x7'),'value':_0x3c9de6['author']['tag']+_0x5d01f6('0x8')+_0x3c9de6[_0x5d01f6('0x24')]['id']},{'name':'Channel','value':_0x3c9de6[_0x5d01f6('0x23')][_0x5d01f6('0x9')]+'\x20/\x20'+_0x3c9de6[_0x5d01f6('0x23')]['id']}]})[_0x5d01f6('0x27')](()=>{}),!![];}return![];};}};