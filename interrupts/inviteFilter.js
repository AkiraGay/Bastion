const a169_0x8027=['has','MANAGE_MESSAGES','document','code','content','toLowerCase','Unauthorized\x20to\x20send\x20Server\x20Invites.','guild','createModerationLog','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../utils/regex','constructor','apply','@bastion/tesseract','Channel','addInfraction','name','enabled','deletable','cache','return\x20/\x22\x20+\x20this\x20+\x20\x22/','SERVER_INVITE','match','whitelist','inviteFilter','filters','some','length','deleteInvite','member','author','\x20/\x20','test','roles','permissionsFor','MANAGE_CHANNELS','every','catch','includes','push','channel'];(function(_0x5bc39f,_0x1dbd2b){const _0x802727=function(_0x139186){while(--_0x139186){_0x5bc39f['push'](_0x5bc39f['shift']());}},_0x17d1d2=function(){const _0x442ce9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x55d47f,_0x4c6779,_0x2a9d33,_0x284ed5){_0x284ed5=_0x284ed5||{};let _0x18f067=_0x4c6779+'='+_0x2a9d33,_0x25196a=0x0;for(let _0x2b5057=0x0,_0x1db3b9=_0x55d47f['length'];_0x2b5057<_0x1db3b9;_0x2b5057++){const _0x581e90=_0x55d47f[_0x2b5057];_0x18f067+=';\x20'+_0x581e90;const _0x2623b2=_0x55d47f[_0x581e90];_0x55d47f['push'](_0x2623b2),_0x1db3b9=_0x55d47f['length'],_0x2623b2!==!![]&&(_0x18f067+='='+_0x2623b2);}_0x284ed5['cookie']=_0x18f067;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5e1d4b,_0x3ad037){_0x5e1d4b=_0x5e1d4b||function(_0x16a212){return _0x16a212;};const _0x42f29f=_0x5e1d4b(new RegExp('(?:^|;\x20)'+_0x3ad037['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4bba1b=function(_0x1c3049,_0x16a7e4){_0x1c3049(++_0x16a7e4);};return _0x4bba1b(_0x802727,_0x1dbd2b),_0x42f29f?decodeURIComponent(_0x42f29f[0x1]):undefined;}},_0x438929=function(){const _0x58ddef=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x58ddef['test'](_0x442ce9['removeCookie']['toString']());};_0x442ce9['updateCookie']=_0x438929;let _0x4f1ae5='';const _0x27ff7b=_0x442ce9['updateCookie']();if(!_0x27ff7b)_0x442ce9['setCookie'](['*'],'counter',0x1);else _0x27ff7b?_0x4f1ae5=_0x442ce9['getCookie'](null,'counter'):_0x442ce9['removeCookie']();};_0x17d1d2();}(a169_0x8027,0x152));const a169_0x17d1=function(_0x5bc39f,_0x1dbd2b){_0x5bc39f=_0x5bc39f-0x12a;let _0x802727=a169_0x8027[_0x5bc39f];return _0x802727;};const a169_0x150b27=a169_0x17d1,a169_0x438929=function(){let _0x27ff7b=!![];return function(_0x55d47f,_0x4c6779){const _0x2a9d33=_0x27ff7b?function(){const _0x345f40=a169_0x17d1;if(_0x4c6779){const _0x284ed5=_0x4c6779[_0x345f40(0x135)](_0x55d47f,arguments);return _0x4c6779=null,_0x284ed5;}}:function(){};return _0x27ff7b=![],_0x2a9d33;};}(),a169_0x442ce9=a169_0x438929(this,function(){const _0x18f067=function(){const _0x45d020=a169_0x17d1,_0x25196a=_0x18f067[_0x45d020(0x134)](_0x45d020(0x13d))()[_0x45d020(0x134)](_0x45d020(0x132));return!_0x25196a[_0x45d020(0x149)](a169_0x442ce9);};return _0x18f067();});a169_0x442ce9();'use strict';const tesseract_1=require(a169_0x150b27(0x136)),discord_js_1=require('discord.js'),regex=require(a169_0x150b27(0x133));module[a169_0x150b27(0x131)]=class InviteFilter extends tesseract_1['Interrupt']{constructor(){const _0x5c7813=a169_0x150b27;super(_0x5c7813(0x141),{'type':0x0}),this[_0x5c7813(0x145)]=_0x2b5057=>{const _0x2e8d8f=_0x5c7813;if(_0x2b5057[_0x2e8d8f(0x13b)])_0x2b5057['delete']()[_0x2e8d8f(0x14e)](()=>{});},this['exec']=async _0x1db3b9=>{const _0x575025=_0x5c7813;if(!_0x1db3b9['guild'])return;if(!(_0x1db3b9[_0x575025(0x151)]instanceof discord_js_1['TextChannel']))return;if(!_0x1db3b9[_0x575025(0x12c)]||!_0x1db3b9['content'][_0x575025(0x144)])return![];const _0x581e90=_0x1db3b9['guild'];if(_0x1db3b9[_0x575025(0x146)]&&_0x1db3b9['member'][_0x575025(0x14a)][_0x575025(0x13c)][_0x575025(0x143)](_0x2623b2=>_0x2623b2[_0x575025(0x139)][_0x575025(0x12d)]()==='safelist'))return![];if(_0x1db3b9[_0x575025(0x151)][_0x575025(0x14b)](_0x1db3b9[_0x575025(0x146)])&&_0x1db3b9[_0x575025(0x151)][_0x575025(0x14b)](_0x1db3b9[_0x575025(0x146)])[_0x575025(0x152)]([_0x575025(0x14c),_0x575025(0x153)]))return![];if(!_0x581e90[_0x575025(0x12a)]||!_0x581e90[_0x575025(0x12a)]['filters']||!_0x581e90[_0x575025(0x12a)][_0x575025(0x142)][_0x575025(0x141)]||!_0x581e90[_0x575025(0x12a)][_0x575025(0x142)]['inviteFilter'][_0x575025(0x13a)])return![];if(_0x581e90[_0x575025(0x12a)][_0x575025(0x142)][_0x575025(0x141)]['whitelist']){if(_0x581e90[_0x575025(0x12a)][_0x575025(0x142)]['inviteFilter']['whitelist'][_0x575025(0x14f)](_0x1db3b9[_0x575025(0x151)]['id']))return![];if(_0x581e90[_0x575025(0x12a)][_0x575025(0x142)][_0x575025(0x141)][_0x575025(0x140)][_0x575025(0x143)](_0x5e1d4b=>_0x1db3b9['member'][_0x575025(0x14a)]['cache'][_0x575025(0x152)](_0x5e1d4b)))return![];}if(regex[_0x575025(0x13e)]['test'](_0x1db3b9[_0x575025(0x12c)])){const _0x3ad037=[],_0x42f29f=await _0x1db3b9['guild']['fetchInvites']()['catch'](()=>{});if(_0x42f29f)_0x3ad037[_0x575025(0x150)](..._0x42f29f['keys']());const _0x4bba1b=await _0x1db3b9[_0x575025(0x12f)]['fetchVanityData']()[_0x575025(0x14e)](()=>{});if(_0x4bba1b&&_0x4bba1b['code'])_0x3ad037['push'](_0x4bba1b[_0x575025(0x12b)]);const _0x16a212=_0x1db3b9['content'][_0x575025(0x13f)](new RegExp(regex[_0x575025(0x13e)],'g'));if(_0x3ad037['length']&&_0x16a212[_0x575025(0x14d)](_0x1c3049=>_0x3ad037['includes'](_0x1c3049)))return![];return _0x1db3b9[_0x575025(0x146)][_0x575025(0x138)](_0x575025(0x12e)),this[_0x575025(0x145)](_0x1db3b9),_0x581e90[_0x575025(0x130)]({'event':_0x575025(0x141),'fields':[{'name':'User','value':_0x1db3b9[_0x575025(0x147)]['tag']+_0x575025(0x148)+_0x1db3b9[_0x575025(0x147)]['id']},{'name':_0x575025(0x137),'value':_0x1db3b9[_0x575025(0x151)]['name']+_0x575025(0x148)+_0x1db3b9[_0x575025(0x151)]['id']}]})[_0x575025(0x14e)](()=>{}),!![];}return![];};}};