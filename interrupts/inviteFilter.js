const a139_0x1332=['fetchVanityCode','apply','has','cache','SERVER_INVITE','catch','content','enabled','compile','deletable','User','\x20/\x20','channel','guild','includes','whitelist','MANAGE_CHANNELS','exports','filters','permissionsFor','../utils/regex','roles','constructor','Channel','length','push','deleteInvite','@bastion/tesseract','some','Interrupt','TextChannel','exec','test','inviteFilter','document','member','author','delete'];(function(_0x24fb3f,_0x1332dc){const _0x22049e=function(_0x4bb95f){while(--_0x4bb95f){_0x24fb3f['push'](_0x24fb3f['shift']());}};const _0x1c804a=function(){const _0x1c24fb={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4cbf13,_0x3ece73,_0x5a0efd,_0x8e2ffc){_0x8e2ffc=_0x8e2ffc||{};let _0xba6ce1=_0x3ece73+'='+_0x5a0efd;let _0x483eff=0x0;for(let _0xc92965=0x0,_0x38216c=_0x4cbf13['length'];_0xc92965<_0x38216c;_0xc92965++){const _0x1d1e22=_0x4cbf13[_0xc92965];_0xba6ce1+=';\x20'+_0x1d1e22;const _0x149545=_0x4cbf13[_0x1d1e22];_0x4cbf13['push'](_0x149545);_0x38216c=_0x4cbf13['length'];if(_0x149545!==!![]){_0xba6ce1+='='+_0x149545;}}_0x8e2ffc['cookie']=_0xba6ce1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x28d5b9,_0x4156fd){_0x28d5b9=_0x28d5b9||function(_0x402369){return _0x402369;};const _0x29f7f4=_0x28d5b9(new RegExp('(?:^|;\x20)'+_0x4156fd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x14819c=function(_0x1fa12e,_0x1d90cd){_0x1fa12e(++_0x1d90cd);};_0x14819c(_0x22049e,_0x1332dc);return _0x29f7f4?decodeURIComponent(_0x29f7f4[0x1]):undefined;}};const _0x1d0588=function(){const _0x15824e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x15824e['test'](_0x1c24fb['removeCookie']['toString']());};_0x1c24fb['updateCookie']=_0x1d0588;let _0x128c4d='';const _0x27f064=_0x1c24fb['updateCookie']();if(!_0x27f064){_0x1c24fb['setCookie'](['*'],'counter',0x1);}else if(_0x27f064){_0x128c4d=_0x1c24fb['getCookie'](null,'counter');}else{_0x1c24fb['removeCookie']();}};_0x1c804a();}(a139_0x1332,0xff));const a139_0x2204=function(_0x24fb3f,_0x1332dc){_0x24fb3f=_0x24fb3f-0x0;let _0x22049e=a139_0x1332[_0x24fb3f];return _0x22049e;};const a139_0x1c24fb=function(){let _0x49c4d8=!![];return function(_0x3d9351,_0x345085){const _0x14ff1c=_0x49c4d8?function(){if(_0x345085){const _0x444789=_0x345085[a139_0x2204('0xc')](_0x3d9351,arguments);_0x345085=null;return _0x444789;}}:function(){};_0x49c4d8=![];return _0x14ff1c;};}();const a139_0x4bb95f=a139_0x1c24fb(this,function(){const _0x5c2007=function(){const _0x5e1a7c=_0x5c2007[a139_0x2204('0x21')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a139_0x2204('0x13')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5e1a7c[a139_0x2204('0x5')](a139_0x4bb95f);};return _0x5c2007();});a139_0x4bb95f();'use strict';const tesseract_1=require(a139_0x2204('0x0'));const discord_js_1=require('discord.js');const regex=require(a139_0x2204('0x1f'));module[a139_0x2204('0x1c')]=class InviteFilter extends tesseract_1[a139_0x2204('0x2')]{constructor(){super(a139_0x2204('0x6'),{'type':0x0});this[a139_0x2204('0x25')]=_0x2a09ee=>{if(_0x2a09ee[a139_0x2204('0x14')])_0x2a09ee[a139_0x2204('0xa')]()[a139_0x2204('0x10')](()=>{});};this[a139_0x2204('0x4')]=async _0x877b2e=>{if(!_0x877b2e[a139_0x2204('0x18')])return;if(!(_0x877b2e[a139_0x2204('0x17')]instanceof discord_js_1[a139_0x2204('0x3')]))return;if(!_0x877b2e[a139_0x2204('0x11')]||!_0x877b2e[a139_0x2204('0x11')][a139_0x2204('0x23')])return![];const _0x3269fe=_0x877b2e[a139_0x2204('0x18')];if(_0x877b2e[a139_0x2204('0x17')]['permissionsFor'](_0x877b2e[a139_0x2204('0x8')])&&_0x877b2e[a139_0x2204('0x17')][a139_0x2204('0x1e')](_0x877b2e['member'])['has']([a139_0x2204('0x1b'),'MANAGE_MESSAGES']))return![];if(!_0x3269fe[a139_0x2204('0x7')]||!_0x3269fe[a139_0x2204('0x7')]['filters']||!_0x3269fe[a139_0x2204('0x7')][a139_0x2204('0x1d')][a139_0x2204('0x6')]||!_0x3269fe[a139_0x2204('0x7')][a139_0x2204('0x1d')]['inviteFilter'][a139_0x2204('0x12')])return![];if(_0x3269fe[a139_0x2204('0x7')]['filters'][a139_0x2204('0x6')]['whitelist']){if(_0x3269fe[a139_0x2204('0x7')][a139_0x2204('0x1d')]['inviteFilter']['whitelist'][a139_0x2204('0x19')](_0x877b2e['channel']['id']))return![];if(_0x3269fe[a139_0x2204('0x7')][a139_0x2204('0x1d')][a139_0x2204('0x6')][a139_0x2204('0x1a')][a139_0x2204('0x1')](_0x3390e0=>_0x877b2e[a139_0x2204('0x8')][a139_0x2204('0x20')][a139_0x2204('0xe')][a139_0x2204('0xd')](_0x3390e0)))return![];}if(regex[a139_0x2204('0xf')]['test'](_0x877b2e[a139_0x2204('0x11')])){const _0x3611d7=[];const _0x369ec3=await _0x877b2e[a139_0x2204('0x18')]['fetchInvites']()[a139_0x2204('0x10')](()=>{});if(_0x369ec3)_0x3611d7[a139_0x2204('0x24')](..._0x369ec3['keys']());const _0x112055=await _0x877b2e['guild'][a139_0x2204('0xb')]();if(_0x112055)_0x3611d7[a139_0x2204('0x24')](_0x112055);const _0x4243d6=_0x877b2e['content']['match'](new RegExp(regex[a139_0x2204('0xf')],'g'));if(_0x3611d7[a139_0x2204('0x23')]&&_0x4243d6['every'](_0x585f73=>_0x3611d7[a139_0x2204('0x19')](_0x585f73)))return![];this['deleteInvite'](_0x877b2e);_0x3269fe['createModerationLog']({'event':a139_0x2204('0x6'),'fields':[{'name':a139_0x2204('0x15'),'value':_0x877b2e[a139_0x2204('0x9')]['tag']+a139_0x2204('0x16')+_0x877b2e[a139_0x2204('0x9')]['id']},{'name':a139_0x2204('0x22'),'value':_0x877b2e[a139_0x2204('0x17')]['name']+a139_0x2204('0x16')+_0x877b2e['channel']['id']}]})[a139_0x2204('0x10')](()=>{});return!![];}return![];};}};