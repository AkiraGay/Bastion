const a139_0x42f1=['match','inviteFilter','some','compile','has','permissionsFor','fetchInvites','fetchVanityCode','filters','exports','test','Interrupt','guild','constructor','MANAGE_CHANNELS','document','\x20/\x20','includes','Channel','MANAGE_MESSAGES','channel','catch','author','content','exec','whitelist','length','return\x20/\x22\x20+\x20this\x20+\x20\x22/','every','deleteInvite','roles','member','discord.js','push','SERVER_INVITE','TextChannel'];(function(_0x3ce72c,_0x42f1ce){const _0x58af53=function(_0x32b87b){while(--_0x32b87b){_0x3ce72c['push'](_0x3ce72c['shift']());}};const _0x226956=function(){const _0x45592f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x43e57d,_0x2da691,_0x54975f,_0x224afa){_0x224afa=_0x224afa||{};let _0x479042=_0x2da691+'='+_0x54975f;let _0x11033d=0x0;for(let _0x528110=0x0,_0x1b6875=_0x43e57d['length'];_0x528110<_0x1b6875;_0x528110++){const _0x6214a3=_0x43e57d[_0x528110];_0x479042+=';\x20'+_0x6214a3;const _0x553dbb=_0x43e57d[_0x6214a3];_0x43e57d['push'](_0x553dbb);_0x1b6875=_0x43e57d['length'];if(_0x553dbb!==!![]){_0x479042+='='+_0x553dbb;}}_0x224afa['cookie']=_0x479042;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1e18d3,_0x579646){_0x1e18d3=_0x1e18d3||function(_0x355082){return _0x355082;};const _0x5100b3=_0x1e18d3(new RegExp('(?:^|;\x20)'+_0x579646['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2418d3=function(_0x246e22,_0x1003db){_0x246e22(++_0x1003db);};_0x2418d3(_0x58af53,_0x42f1ce);return _0x5100b3?decodeURIComponent(_0x5100b3[0x1]):undefined;}};const _0xf1b166=function(){const _0x3b576e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3b576e['test'](_0x45592f['removeCookie']['toString']());};_0x45592f['updateCookie']=_0xf1b166;let _0x479d18='';const _0x39b617=_0x45592f['updateCookie']();if(!_0x39b617){_0x45592f['setCookie'](['*'],'counter',0x1);}else if(_0x39b617){_0x479d18=_0x45592f['getCookie'](null,'counter');}else{_0x45592f['removeCookie']();}};_0x226956();}(a139_0x42f1,0x164));const a139_0x58af=function(_0x3ce72c,_0x42f1ce){_0x3ce72c=_0x3ce72c-0x0;let _0x58af53=a139_0x42f1[_0x3ce72c];return _0x58af53;};const a139_0x45592f=function(){let _0xdcd11b=!![];return function(_0x8a7589,_0x4861f3){const _0x539eab=_0xdcd11b?function(){if(_0x4861f3){const _0x35ea66=_0x4861f3['apply'](_0x8a7589,arguments);_0x4861f3=null;return _0x35ea66;}}:function(){};_0xdcd11b=![];return _0x539eab;};}();const a139_0x32b87b=a139_0x45592f(this,function(){const _0x4e8200=function(){const _0x16c9a6=_0x4e8200[a139_0x58af('0x11')](a139_0x58af('0x1f'))()[a139_0x58af('0x7')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x16c9a6[a139_0x58af('0xe')](a139_0x32b87b);};return _0x4e8200();});a139_0x32b87b();'use strict';const tesseract_1=require('@bastion/tesseract');const discord_js_1=require(a139_0x58af('0x0'));const regex=require('../utils/regex');module[a139_0x58af('0xd')]=class InviteFilter extends tesseract_1[a139_0x58af('0xf')]{constructor(){super('inviteFilter',{'type':0x0});this[a139_0x58af('0x21')]=_0x454347=>{if(_0x454347['deletable'])_0x454347['delete']()[a139_0x58af('0x19')](()=>{});};this[a139_0x58af('0x1c')]=async _0x4e131b=>{if(!_0x4e131b[a139_0x58af('0x10')])return;if(!(_0x4e131b[a139_0x58af('0x18')]instanceof discord_js_1[a139_0x58af('0x3')]))return;if(!_0x4e131b['content']||!_0x4e131b[a139_0x58af('0x1b')][a139_0x58af('0x1e')])return![];const _0x36a390=_0x4e131b[a139_0x58af('0x10')];if(_0x4e131b[a139_0x58af('0x18')][a139_0x58af('0x9')](_0x4e131b[a139_0x58af('0x23')])&&_0x4e131b[a139_0x58af('0x18')][a139_0x58af('0x9')](_0x4e131b[a139_0x58af('0x23')])['has']([a139_0x58af('0x12'),a139_0x58af('0x17')]))return![];if(!_0x36a390['document']||!_0x36a390[a139_0x58af('0x13')][a139_0x58af('0xc')]||!_0x36a390[a139_0x58af('0x13')][a139_0x58af('0xc')][a139_0x58af('0x5')]||!_0x36a390[a139_0x58af('0x13')]['filters']['inviteFilter']['enabled'])return![];if(_0x36a390[a139_0x58af('0x13')][a139_0x58af('0xc')][a139_0x58af('0x5')]['whitelist']){if(_0x36a390['document']['filters'][a139_0x58af('0x5')]['whitelist'][a139_0x58af('0x15')](_0x4e131b[a139_0x58af('0x18')]['id']))return![];if(_0x36a390[a139_0x58af('0x13')][a139_0x58af('0xc')]['inviteFilter'][a139_0x58af('0x1d')][a139_0x58af('0x6')](_0xeb0a=>_0x4e131b[a139_0x58af('0x23')][a139_0x58af('0x22')]['cache'][a139_0x58af('0x8')](_0xeb0a)))return![];}if(regex['SERVER_INVITE'][a139_0x58af('0xe')](_0x4e131b[a139_0x58af('0x1b')])){const _0x595eb1=[];const _0x2e2682=await _0x4e131b[a139_0x58af('0x10')][a139_0x58af('0xa')]()[a139_0x58af('0x19')](()=>{});if(_0x2e2682)_0x595eb1[a139_0x58af('0x1')](..._0x2e2682['keys']());const _0x282b8c=await _0x4e131b[a139_0x58af('0x10')][a139_0x58af('0xb')]();if(_0x282b8c)_0x595eb1[a139_0x58af('0x1')](_0x282b8c);const _0x5d5ac4=_0x4e131b[a139_0x58af('0x1b')][a139_0x58af('0x4')](new RegExp(regex[a139_0x58af('0x2')],'g'));if(_0x595eb1[a139_0x58af('0x1e')]&&_0x5d5ac4[a139_0x58af('0x20')](_0x2e2064=>_0x595eb1[a139_0x58af('0x15')](_0x2e2064)))return![];this['deleteInvite'](_0x4e131b);_0x36a390['createModerationLog']({'event':a139_0x58af('0x5'),'fields':[{'name':'User','value':_0x4e131b[a139_0x58af('0x1a')]['tag']+a139_0x58af('0x14')+_0x4e131b[a139_0x58af('0x1a')]['id']},{'name':a139_0x58af('0x16'),'value':_0x4e131b[a139_0x58af('0x18')]['name']+a139_0x58af('0x14')+_0x4e131b['channel']['id']}]})['catch'](()=>{});return!![];}return![];};}};