const a223_0x1543=['filter','_id','guild','cache','exports','then','constructor','0\x20*/15\x20*\x20*\x20*\x20*','../models/Giveaway','reactions','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','get','Congratulations','@bastion/tesseract','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','Constants','test','RED','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','catch','guilds','channels','readyTimestamp','COLORS','embeds','users','GIVEAWAY\x20ENDED','title','random','join','fetch','deleteMany','floor','length','has','Scheduler','Logger','messages','bot','push','apply','values','find','size','channel','default','edit','exec','winners','map','client'];(function(_0x300e0f,_0x3bf7db){const _0x154340=function(_0x125909){while(--_0x125909){_0x300e0f['push'](_0x300e0f['shift']());}},_0xa39d72=function(){const _0xe8d7e7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xf4c79a,_0x1db2d9,_0x554970,_0x234132){_0x234132=_0x234132||{};let _0x2b874e=_0x1db2d9+'='+_0x554970,_0x70c26b=0x0;for(let _0x550e74=0x0,_0x1fb813=_0xf4c79a['length'];_0x550e74<_0x1fb813;_0x550e74++){const _0x3cc9e9=_0xf4c79a[_0x550e74];_0x2b874e+=';\x20'+_0x3cc9e9;const _0xa3cbb8=_0xf4c79a[_0x3cc9e9];_0xf4c79a['push'](_0xa3cbb8),_0x1fb813=_0xf4c79a['length'],_0xa3cbb8!==!![]&&(_0x2b874e+='='+_0xa3cbb8);}_0x234132['cookie']=_0x2b874e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4ee3ac,_0x3145f7){_0x4ee3ac=_0x4ee3ac||function(_0x5c1081){return _0x5c1081;};const _0x1b0346=_0x4ee3ac(new RegExp('(?:^|;\x20)'+_0x3145f7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x23fa7a=function(_0x31aba6,_0x16d368){_0x31aba6(++_0x16d368);};return _0x23fa7a(_0x154340,_0x3bf7db),_0x1b0346?decodeURIComponent(_0x1b0346[0x1]):undefined;}},_0xf2995f=function(){const _0x3b9c5e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3b9c5e['test'](_0xe8d7e7['removeCookie']['toString']());};_0xe8d7e7['updateCookie']=_0xf2995f;let _0x27f91e='';const _0x1810f2=_0xe8d7e7['updateCookie']();if(!_0x1810f2)_0xe8d7e7['setCookie'](['*'],'counter',0x1);else _0x1810f2?_0x27f91e=_0xe8d7e7['getCookie'](null,'counter'):_0xe8d7e7['removeCookie']();};_0xa39d72();}(a223_0x1543,0xc0));const a223_0xa39d=function(_0x300e0f,_0x3bf7db){_0x300e0f=_0x300e0f-0xda;let _0x154340=a223_0x1543[_0x300e0f];return _0x154340;};const a223_0x404f92=a223_0xa39d,a223_0xf2995f=function(){let _0x1810f2=!![];return function(_0xf4c79a,_0x1db2d9){const _0x554970=_0x1810f2?function(){const _0x5934bf=a223_0xa39d;if(_0x1db2d9){const _0x234132=_0x1db2d9[_0x5934bf(0xdb)](_0xf4c79a,arguments);return _0x1db2d9=null,_0x234132;}}:function(){};return _0x1810f2=![],_0x554970;};}(),a223_0xe8d7e7=a223_0xf2995f(this,function(){const _0x2b874e=function(){const _0x3d8a80=a223_0xa39d,_0x70c26b=_0x2b874e[_0x3d8a80(0xec)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x3d8a80(0xf8));return!_0x70c26b[_0x3d8a80(0xf6)](a223_0xe8d7e7);};return _0x2b874e();});a223_0xe8d7e7();'use strict';const tesseract_1=require(a223_0x404f92(0xf3)),Giveaway_1=require(a223_0x404f92(0xee));module[a223_0x404f92(0xea)]=class GiveawayScheduler extends tesseract_1[a223_0x404f92(0x109)]{constructor(){const _0x5266de=a223_0x404f92;super('giveaways',{'cronTime':_0x5266de(0xed)}),this[_0x5266de(0xe2)]=async()=>{const _0x3f9cf0=_0x5266de;try{if(!this[_0x3f9cf0(0xe5)][_0x3f9cf0(0xfc)])return;if(!this[_0x3f9cf0(0xe5)][_0x3f9cf0(0xfa)][_0x3f9cf0(0xe9)][_0x3f9cf0(0xde)])return;const _0x550e74=await Giveaway_1[_0x3f9cf0(0xe0)][_0x3f9cf0(0xdd)]({'$or':this[_0x3f9cf0(0xe5)][_0x3f9cf0(0xfa)][_0x3f9cf0(0xe9)][_0x3f9cf0(0xe4)](_0x3cc9e9=>({'guild':_0x3cc9e9['id']})),'ends':{'$lte':new Date()}}),_0x1fb813=[];for(const _0xa3cbb8 of _0x550e74){const _0x4ee3ac=this[_0x3f9cf0(0xe5)][_0x3f9cf0(0xfa)][_0x3f9cf0(0xe9)]['get'](_0xa3cbb8[_0x3f9cf0(0xe8)]);if(_0x4ee3ac['channels'][_0x3f9cf0(0xe9)][_0x3f9cf0(0x108)](_0xa3cbb8['channel'])){const _0x3145f7=_0x4ee3ac[_0x3f9cf0(0xfb)][_0x3f9cf0(0xe9)][_0x3f9cf0(0xf1)](_0xa3cbb8[_0x3f9cf0(0xdf)]),_0x1b0346=await _0x3145f7[_0x3f9cf0(0x10b)][_0x3f9cf0(0x104)](_0xa3cbb8[_0x3f9cf0(0xe7)])[_0x3f9cf0(0xf9)](()=>{});if(!_0x1b0346)continue;let _0x23fa7a=[];for(const _0x31aba6 of['ðŸŽŠ','ðŸŽ‰']){_0x1b0346[_0x3f9cf0(0xef)][_0x3f9cf0(0xe9)]['has'](_0x31aba6)&&(await _0x1b0346[_0x3f9cf0(0xef)][_0x3f9cf0(0xe9)][_0x3f9cf0(0xf1)](_0x31aba6)['users']['fetch']()['catch'](()=>{}),_0x23fa7a[_0x3f9cf0(0xda)](..._0x1b0346[_0x3f9cf0(0xef)]['cache']['get'](_0x31aba6)[_0x3f9cf0(0xff)][_0x3f9cf0(0xe9)][_0x3f9cf0(0xe6)](_0x16d368=>!_0x16d368[_0x3f9cf0(0x10c)])[_0x3f9cf0(0xdc)]()));}const _0x5c1081=[];for(let _0x3b9c5e=0x0;_0x3b9c5e<(_0xa3cbb8[_0x3f9cf0(0xe3)]||0x1);_0x3b9c5e++){if(!_0x23fa7a['length'])break;const _0x1fe273=_0x23fa7a[Math[_0x3f9cf0(0x106)](Math[_0x3f9cf0(0x102)]()*_0x23fa7a['length'])];_0x5c1081[_0x3f9cf0(0xda)](_0x1fe273),_0x23fa7a=_0x23fa7a[_0x3f9cf0(0xe6)](_0x24d27b=>_0x24d27b['id']!==_0x1fe273['id']);}_0x5c1081['length']?await _0x1b0346[_0x3f9cf0(0xe1)]({'embed':{'color':tesseract_1[_0x3f9cf0(0xf5)][_0x3f9cf0(0xfd)]['SOMEWHAT_DARK'],'author':{'name':_0x3f9cf0(0x100)},'title':_0x1b0346['embeds'][0x0][_0x3f9cf0(0x101)],'description':_0x3f9cf0(0xf4),'fields':[{'name':_0x3f9cf0(0xf2),'value':_0x5c1081[_0x3f9cf0(0x103)](',\x20')}],'footer':{'text':_0x1b0346['id']},'timestamp':new Date()}})[_0x3f9cf0(0xeb)](()=>{const _0x2125fc=_0x3f9cf0;_0x1fb813[_0x2125fc(0xda)](_0x1b0346['id']);})[_0x3f9cf0(0xf9)](()=>{}):await _0x1b0346['edit']({'embed':{'color':tesseract_1[_0x3f9cf0(0xf5)][_0x3f9cf0(0xfd)][_0x3f9cf0(0xf7)],'author':{'name':_0x3f9cf0(0x100)},'title':_0x1b0346[_0x3f9cf0(0xfe)][0x0][_0x3f9cf0(0x101)],'description':_0x3f9cf0(0xf0),'footer':{'text':_0x1b0346['id']},'timestamp':new Date()}})[_0x3f9cf0(0xeb)](()=>{const _0x16f2e1=_0x3f9cf0;_0x1fb813[_0x16f2e1(0xda)](_0x1b0346['id']);})[_0x3f9cf0(0xf9)](()=>{});}}_0x1fb813[_0x3f9cf0(0x107)]&&await Giveaway_1[_0x3f9cf0(0xe0)][_0x3f9cf0(0x105)]({'$or':_0x1fb813['map'](_0x2500b7=>({'_id':_0x2500b7}))})['catch'](()=>{});}catch(_0x27c3d6){tesseract_1[_0x3f9cf0(0x10a)]['error'](_0x27c3d6);}};}};