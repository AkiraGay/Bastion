const a224_0x7c15=['default','guilds','fetch','1qogLLB','exec','reactions','has','map','readyTimestamp','random','bot','test','COLORS','SOMEWHAT_DARK','9453rnWTdc','Congratulations','push','floor','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','546989rNBSvQ','get','edit','catch','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channels','client','cache','Scheduler','_id','messages','find','constructor','Constants','83xfVmFn','Logger','return\x20/\x22\x20+\x20this\x20+\x20\x22/','winners','exports','183138IQpuik','channel','RED','giveaways','join','error','title','680183uXHNMQ','@bastion/tesseract','length','748829eJGXtH','then','GIVEAWAY\x20ENDED','deleteMany','filter','guild','1130500nvFuJm','embeds','15925GPgJfV','apply'];const a224_0x2cbc=function(_0x46a1c8,_0x1b2607){_0x46a1c8=_0x46a1c8-0x118;let _0x245261=a224_0x7c15[_0x46a1c8];return _0x245261;};const a224_0x187ac5=a224_0x2cbc;(function(_0x560f69,_0x80b5c5){const _0x72f0ea=a224_0x2cbc;while(!![]){try{const _0x25037d=parseInt(_0x72f0ea(0x133))+-parseInt(_0x72f0ea(0x143))*-parseInt(_0x72f0ea(0x11c))+-parseInt(_0x72f0ea(0x138))*-parseInt(_0x72f0ea(0x148))+-parseInt(_0x72f0ea(0x128))+parseInt(_0x72f0ea(0x12b))+parseInt(_0x72f0ea(0x121))+-parseInt(_0x72f0ea(0x131));if(_0x25037d===_0x80b5c5)break;else _0x560f69['push'](_0x560f69['shift']());}catch(_0x23b369){_0x560f69['push'](_0x560f69['shift']());}}}(a224_0x7c15,0x7273d));const a224_0x236535=function(){let _0x562ccb=!![];return function(_0x39d0b3,_0x57f4fb){const _0x29ccbc=_0x562ccb?function(){const _0x1f7f0d=a224_0x2cbc;if(_0x57f4fb){const _0xb4bb0=_0x57f4fb[_0x1f7f0d(0x134)](_0x39d0b3,arguments);return _0x57f4fb=null,_0xb4bb0;}}:function(){};return _0x562ccb=![],_0x29ccbc;};}(),a224_0x5a69d3=a224_0x236535(this,function(){const _0x52b827=function(){const _0x37e24d=a224_0x2cbc,_0xf918bd=_0x52b827[_0x37e24d(0x11a)](_0x37e24d(0x11e))()[_0x37e24d(0x11a)](_0x37e24d(0x14c));return!_0xf918bd[_0x37e24d(0x140)](a224_0x5a69d3);};return _0x52b827();});a224_0x5a69d3();'use strict';const tesseract_1=require(a224_0x187ac5(0x129)),Giveaway_1=require('../models/Giveaway');module[a224_0x187ac5(0x120)]=class GiveawayScheduler extends tesseract_1[a224_0x187ac5(0x150)]{constructor(){const _0x274680=a224_0x187ac5;super(_0x274680(0x124),{'cronTime':'0\x20*/15\x20*\x20*\x20*\x20*'}),this[_0x274680(0x139)]=async()=>{const _0x20de5e=_0x274680;try{if(!this[_0x20de5e(0x14e)][_0x20de5e(0x13d)])return;if(!this['client'][_0x20de5e(0x136)][_0x20de5e(0x14f)]['size'])return;const _0x28ed48=await Giveaway_1[_0x20de5e(0x135)][_0x20de5e(0x119)]({'$or':this[_0x20de5e(0x14e)][_0x20de5e(0x136)][_0x20de5e(0x14f)][_0x20de5e(0x13c)](_0x120ab5=>({'guild':_0x120ab5['id']})),'ends':{'$lte':new Date()}}),_0x52db7c=[];for(const _0x54855c of _0x28ed48){const _0x45e91c=this['client']['guilds'][_0x20de5e(0x14f)][_0x20de5e(0x149)](_0x54855c[_0x20de5e(0x130)]);if(_0x45e91c[_0x20de5e(0x14d)][_0x20de5e(0x14f)][_0x20de5e(0x13b)](_0x54855c['channel'])){const _0x304bf3=_0x45e91c[_0x20de5e(0x14d)]['cache'][_0x20de5e(0x149)](_0x54855c[_0x20de5e(0x122)]),_0x27c337=await _0x304bf3[_0x20de5e(0x118)][_0x20de5e(0x137)](_0x54855c[_0x20de5e(0x151)])['catch'](()=>{});if(!_0x27c337)continue;let _0x265a8e=[];for(const _0x426bae of['ðŸŽŠ','ðŸŽ‰']){_0x27c337[_0x20de5e(0x13a)][_0x20de5e(0x14f)]['has'](_0x426bae)&&(await _0x27c337[_0x20de5e(0x13a)][_0x20de5e(0x14f)][_0x20de5e(0x149)](_0x426bae)['users'][_0x20de5e(0x137)]()['catch'](()=>{}),_0x265a8e[_0x20de5e(0x145)](..._0x27c337[_0x20de5e(0x13a)]['cache'][_0x20de5e(0x149)](_0x426bae)['users'][_0x20de5e(0x14f)][_0x20de5e(0x12f)](_0x24b734=>!_0x24b734[_0x20de5e(0x13f)])['values']()));}const _0x236ca1=[];for(let _0x35444f=0x0;_0x35444f<(_0x54855c[_0x20de5e(0x11f)]||0x1);_0x35444f++){if(!_0x265a8e[_0x20de5e(0x12a)])break;const _0x411238=_0x265a8e[Math[_0x20de5e(0x146)](Math[_0x20de5e(0x13e)]()*_0x265a8e[_0x20de5e(0x12a)])];_0x236ca1[_0x20de5e(0x145)](_0x411238),_0x265a8e=_0x265a8e[_0x20de5e(0x12f)](_0x50bab4=>_0x50bab4['id']!==_0x411238['id']);}_0x236ca1[_0x20de5e(0x12a)]?await _0x27c337[_0x20de5e(0x14a)]({'embed':{'color':tesseract_1[_0x20de5e(0x11b)][_0x20de5e(0x141)][_0x20de5e(0x142)],'author':{'name':_0x20de5e(0x12d)},'title':_0x27c337[_0x20de5e(0x132)][0x0][_0x20de5e(0x127)],'description':_0x20de5e(0x147),'fields':[{'name':_0x20de5e(0x144),'value':_0x236ca1[_0x20de5e(0x125)](',\x20')}],'footer':{'text':_0x27c337['id']},'timestamp':new Date()}})[_0x20de5e(0x12c)](()=>{_0x52db7c['push'](_0x27c337['id']);})[_0x20de5e(0x14b)](()=>{}):await _0x27c337[_0x20de5e(0x14a)]({'embed':{'color':tesseract_1[_0x20de5e(0x11b)][_0x20de5e(0x141)][_0x20de5e(0x123)],'author':{'name':_0x20de5e(0x12d)},'title':_0x27c337[_0x20de5e(0x132)][0x0][_0x20de5e(0x127)],'description':'Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','footer':{'text':_0x27c337['id']},'timestamp':new Date()}})[_0x20de5e(0x12c)](()=>{const _0x2968b5=_0x20de5e;_0x52db7c[_0x2968b5(0x145)](_0x27c337['id']);})[_0x20de5e(0x14b)](()=>{});}}_0x52db7c[_0x20de5e(0x12a)]&&await Giveaway_1['default'][_0x20de5e(0x12e)]({'$or':_0x52db7c[_0x20de5e(0x13c)](_0x35fd4d=>({'_id':_0x35fd4d}))})[_0x20de5e(0x14b)](()=>{});}catch(_0x38b07c){tesseract_1[_0x20de5e(0x11d)][_0x20de5e(0x126)](_0x38b07c);}};}};