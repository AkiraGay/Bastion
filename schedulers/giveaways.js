const a632_0x3794=['edit','deleteMany','catch','compile','has','apply','client','COLORS','0\x20*/15\x20*\x20*\x20*\x20*','Constants','Scheduler','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','length','channels','floor','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','fetch','exports','size','return\x20/\x22\x20+\x20this\x20+\x20\x22/','default','get','cache','guilds','test','guild','users','channel','_id','bot','title','SOMEWHAT_DARK','random','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','embeds','giveaways','map','join','GIVEAWAY\x20ENDED','values','then','filter','Congratulations','find','winners','reactions','RED','push'];(function(_0x32ff9c,_0x379450){const _0x4beeb5=function(_0x2826a8){while(--_0x2826a8){_0x32ff9c['push'](_0x32ff9c['shift']());}};const _0x4cfb04=function(){const _0x340c2a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xc09ddd,_0x15651f,_0x271d0c,_0x21d4b0){_0x21d4b0=_0x21d4b0||{};let _0x4f66ad=_0x15651f+'='+_0x271d0c;let _0x496929=0x0;for(let _0x1954cc=0x0,_0x41256e=_0xc09ddd['length'];_0x1954cc<_0x41256e;_0x1954cc++){const _0x10f713=_0xc09ddd[_0x1954cc];_0x4f66ad+=';\x20'+_0x10f713;const _0x401999=_0xc09ddd[_0x10f713];_0xc09ddd['push'](_0x401999);_0x41256e=_0xc09ddd['length'];if(_0x401999!==!![]){_0x4f66ad+='='+_0x401999;}}_0x21d4b0['cookie']=_0x4f66ad;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4e5d20,_0x3de55a){_0x4e5d20=_0x4e5d20||function(_0x34398a){return _0x34398a;};const _0x569acc=_0x4e5d20(new RegExp('(?:^|;\x20)'+_0x3de55a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x133da3=function(_0x314ad3,_0x3433d8){_0x314ad3(++_0x3433d8);};_0x133da3(_0x4beeb5,_0x379450);return _0x569acc?decodeURIComponent(_0x569acc[0x1]):undefined;}};const _0xe7cfed=function(){const _0x5b4b48=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5b4b48['test'](_0x340c2a['removeCookie']['toString']());};_0x340c2a['updateCookie']=_0xe7cfed;let _0x47254e='';const _0x5945ce=_0x340c2a['updateCookie']();if(!_0x5945ce){_0x340c2a['setCookie'](['*'],'counter',0x1);}else if(_0x5945ce){_0x47254e=_0x340c2a['getCookie'](null,'counter');}else{_0x340c2a['removeCookie']();}};_0x4cfb04();}(a632_0x3794,0x13a));const a632_0x4bee=function(_0x32ff9c,_0x379450){_0x32ff9c=_0x32ff9c-0x0;let _0x4beeb5=a632_0x3794[_0x32ff9c];return _0x4beeb5;};const a632_0x340c2a=function(){let _0x2f0718=!![];return function(_0x2d7eed,_0x5bfc27){const _0x565bd2=_0x2f0718?function(){if(_0x5bfc27){const _0x573a95=_0x5bfc27[a632_0x4bee('0x1b')](_0x2d7eed,arguments);_0x5bfc27=null;return _0x573a95;}}:function(){};_0x2f0718=![];return _0x565bd2;};}();const a632_0x2826a8=a632_0x340c2a(this,function(){const _0x16e904=function(){const _0x244d4e=_0x16e904['constructor'](a632_0x4bee('0x29'))()[a632_0x4bee('0x19')](a632_0x4bee('0x21'));return!_0x244d4e[a632_0x4bee('0x2e')](a632_0x2826a8);};return _0x16e904();});a632_0x2826a8();'use strict';const tesseract_1=require('@bastion/tesseract');const Giveaway_1=require('../models/Giveaway');module[a632_0x4bee('0x27')]=class GiveawayScheduler extends tesseract_1[a632_0x4bee('0x20')]{constructor(){super(a632_0x4bee('0x9'),{'cronTime':a632_0x4bee('0x1e')});this['exec']=async()=>{if(!this[a632_0x4bee('0x1c')]['readyTimestamp'])return;if(!this[a632_0x4bee('0x1c')][a632_0x4bee('0x2d')][a632_0x4bee('0x2c')][a632_0x4bee('0x28')])return;const _0x5d476d=await Giveaway_1[a632_0x4bee('0x2a')][a632_0x4bee('0x11')]({'$or':this[a632_0x4bee('0x1c')][a632_0x4bee('0x2d')][a632_0x4bee('0x2c')][a632_0x4bee('0xa')](_0x39521d=>({'guild':_0x39521d['id']})),'ends':{'$lte':new Date()}});const _0x30d12e=[];for(const _0x323521 of _0x5d476d){const _0x47daea=this['client'][a632_0x4bee('0x2d')][a632_0x4bee('0x2c')][a632_0x4bee('0x2b')](_0x323521[a632_0x4bee('0x2f')]);if(_0x47daea[a632_0x4bee('0x23')][a632_0x4bee('0x2c')]['has'](_0x323521[a632_0x4bee('0x1')])){const _0x22dcbc=_0x47daea['channels'][a632_0x4bee('0x2c')][a632_0x4bee('0x2b')](_0x323521['channel']);const _0xb94c0=await _0x22dcbc['messages'][a632_0x4bee('0x26')](_0x323521[a632_0x4bee('0x2')])[a632_0x4bee('0x18')](()=>{});if(!_0xb94c0)continue;let _0x3e5987=[];for(const _0xa43961 of['ðŸŽŠ','ðŸŽ‰']){if(_0xb94c0[a632_0x4bee('0x13')][a632_0x4bee('0x2c')][a632_0x4bee('0x1a')](_0xa43961)){await _0xb94c0[a632_0x4bee('0x13')]['cache'][a632_0x4bee('0x2b')](_0xa43961)[a632_0x4bee('0x0')][a632_0x4bee('0x26')]()[a632_0x4bee('0x18')](()=>{});_0x3e5987[a632_0x4bee('0x15')](..._0xb94c0['reactions'][a632_0x4bee('0x2c')][a632_0x4bee('0x2b')](_0xa43961)['users'][a632_0x4bee('0x2c')]['filter'](_0x4aa903=>!_0x4aa903[a632_0x4bee('0x3')])[a632_0x4bee('0xd')]());}}const _0x410c1d=[];for(let _0x43fc0c=0x0;_0x43fc0c<(_0x323521[a632_0x4bee('0x12')]||0x1);_0x43fc0c++){if(!_0x3e5987[a632_0x4bee('0x22')])break;const _0xbbbb39=_0x3e5987[Math[a632_0x4bee('0x24')](Math[a632_0x4bee('0x6')]()*_0x3e5987['length'])];_0x410c1d[a632_0x4bee('0x15')](_0xbbbb39);_0x3e5987=_0x3e5987[a632_0x4bee('0xf')](_0x248619=>_0x248619['id']!==_0xbbbb39['id']);}if(_0x410c1d[a632_0x4bee('0x22')]){await _0xb94c0[a632_0x4bee('0x16')]({'embed':{'color':tesseract_1[a632_0x4bee('0x1f')]['COLORS'][a632_0x4bee('0x5')],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0xb94c0[a632_0x4bee('0x8')][0x0][a632_0x4bee('0x4')],'description':a632_0x4bee('0x25'),'fields':[{'name':a632_0x4bee('0x10'),'value':_0x410c1d[a632_0x4bee('0xb')](',\x20')}],'footer':{'text':_0xb94c0['id']},'timestamp':new Date()}})[a632_0x4bee('0xe')](()=>{_0x30d12e[a632_0x4bee('0x15')](_0xb94c0['id']);})[a632_0x4bee('0x18')](()=>{});}else{await _0xb94c0[a632_0x4bee('0x16')]({'embed':{'color':tesseract_1[a632_0x4bee('0x1f')][a632_0x4bee('0x1d')][a632_0x4bee('0x14')],'author':{'name':a632_0x4bee('0xc')},'title':_0xb94c0['embeds'][0x0][a632_0x4bee('0x4')],'description':a632_0x4bee('0x7'),'footer':{'text':_0xb94c0['id']},'timestamp':new Date()}})[a632_0x4bee('0xe')](()=>{_0x30d12e[a632_0x4bee('0x15')](_0xb94c0['id']);})[a632_0x4bee('0x18')](()=>{});}}}if(_0x30d12e[a632_0x4bee('0x22')]){await Giveaway_1[a632_0x4bee('0x2a')][a632_0x4bee('0x17')]({'$or':_0x30d12e[a632_0x4bee('0xa')](_0x4d8dfd=>({'_id':_0x4d8dfd}))})[a632_0x4bee('0x18')](()=>{});}};}};