const a200_0x4ea7=['map','edit','exec','users','test','0\x20*/15\x20*\x20*\x20*\x20*','Scheduler','filter','winners','client','title','apply','guilds','random','SOMEWHAT_DARK','COLORS','@bastion/tesseract','GIVEAWAY\x20ENDED','catch','_id','Constants','cache','fetch','channel','deleteMany','size','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','embeds','bot','push','constructor','length','then','reactions','messages','values','channels','Congratulations','floor','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','get','find'];(function(_0x4c1638,_0x4ea7b8){const _0x19a876=function(_0xb2166b){while(--_0xb2166b){_0x4c1638['push'](_0x4c1638['shift']());}},_0x1aa2b5=function(){const _0x22f142={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x30bf3f,_0x870106,_0x41ec1e,_0x158ce1){_0x158ce1=_0x158ce1||{};let _0xdd8d93=_0x870106+'='+_0x41ec1e,_0x5b594e=0x0;for(let _0x4b10a9=0x0,_0x655350=_0x30bf3f['length'];_0x4b10a9<_0x655350;_0x4b10a9++){const _0x50dbcd=_0x30bf3f[_0x4b10a9];_0xdd8d93+=';\x20'+_0x50dbcd;const _0xfb0684=_0x30bf3f[_0x50dbcd];_0x30bf3f['push'](_0xfb0684),_0x655350=_0x30bf3f['length'],_0xfb0684!==!![]&&(_0xdd8d93+='='+_0xfb0684);}_0x158ce1['cookie']=_0xdd8d93;},'removeCookie':function(){return'dev';},'getCookie':function(_0x30ad00,_0x5e39c0){_0x30ad00=_0x30ad00||function(_0x5c961f){return _0x5c961f;};const _0x4881f0=_0x30ad00(new RegExp('(?:^|;\x20)'+_0x5e39c0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x284dd9=function(_0x1ce052,_0x321e3c){_0x1ce052(++_0x321e3c);};return _0x284dd9(_0x19a876,_0x4ea7b8),_0x4881f0?decodeURIComponent(_0x4881f0[0x1]):undefined;}},_0x5432de=function(){const _0x269bab=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x269bab['test'](_0x22f142['removeCookie']['toString']());};_0x22f142['updateCookie']=_0x5432de;let _0xc56b3c='';const _0x159953=_0x22f142['updateCookie']();if(!_0x159953)_0x22f142['setCookie'](['*'],'counter',0x1);else _0x159953?_0xc56b3c=_0x22f142['getCookie'](null,'counter'):_0x22f142['removeCookie']();};_0x1aa2b5();}(a200_0x4ea7,0x1a3));const a200_0x19a8=function(_0x4c1638,_0x4ea7b8){_0x4c1638=_0x4c1638-0x0;let _0x19a876=a200_0x4ea7[_0x4c1638];return _0x19a876;};const a200_0x41ec1e=function(){let _0x21d541=!![];return function(_0x55ae88,_0x7c890c){const _0x1472bb=_0x21d541?function(){if(_0x7c890c){const _0x21edb7=_0x7c890c[a200_0x19a8('0xc')](_0x55ae88,arguments);return _0x7c890c=null,_0x21edb7;}}:function(){};return _0x21d541=![],_0x1472bb;};}(),a200_0x870106=a200_0x41ec1e(this,function(){const _0x50e52a=function(){const _0x45b4cf=_0x50e52a['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a200_0x19a8('0x1f')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x45b4cf[a200_0x19a8('0x5')](a200_0x870106);};return _0x50e52a();});a200_0x870106();'use strict';const tesseract_1=require(a200_0x19a8('0x11')),Giveaway_1=require('../models/Giveaway');module['exports']=class GiveawayScheduler extends tesseract_1[a200_0x19a8('0x7')]{constructor(){super('giveaways',{'cronTime':a200_0x19a8('0x6')}),this[a200_0x19a8('0x3')]=async()=>{try{if(!this[a200_0x19a8('0xa')]['readyTimestamp'])return;if(!this[a200_0x19a8('0xa')]['guilds'][a200_0x19a8('0x16')][a200_0x19a8('0x1a')])return;const _0x4e4ed2=await Giveaway_1['default'][a200_0x19a8('0x0')]({'$or':this[a200_0x19a8('0xa')][a200_0x19a8('0xd')][a200_0x19a8('0x16')][a200_0x19a8('0x1')](_0x310564=>({'guild':_0x310564['id']})),'ends':{'$lte':new Date()}}),_0x4b1043=[];for(const _0x364c88 of _0x4e4ed2){const _0x47d5e7=this[a200_0x19a8('0xa')][a200_0x19a8('0xd')][a200_0x19a8('0x16')][a200_0x19a8('0x29')](_0x364c88['guild']);if(_0x47d5e7[a200_0x19a8('0x25')][a200_0x19a8('0x16')]['has'](_0x364c88[a200_0x19a8('0x18')])){const _0x3839b6=_0x47d5e7[a200_0x19a8('0x25')]['cache'][a200_0x19a8('0x29')](_0x364c88[a200_0x19a8('0x18')]),_0x358c95=await _0x3839b6[a200_0x19a8('0x23')][a200_0x19a8('0x17')](_0x364c88[a200_0x19a8('0x14')])[a200_0x19a8('0x13')](()=>{});if(!_0x358c95)continue;let _0x301f91=[];for(const _0x473296 of['ðŸŽŠ','ðŸŽ‰']){_0x358c95[a200_0x19a8('0x22')][a200_0x19a8('0x16')]['has'](_0x473296)&&(await _0x358c95['reactions']['cache'][a200_0x19a8('0x29')](_0x473296)[a200_0x19a8('0x4')][a200_0x19a8('0x17')]()[a200_0x19a8('0x13')](()=>{}),_0x301f91[a200_0x19a8('0x1e')](..._0x358c95[a200_0x19a8('0x22')][a200_0x19a8('0x16')][a200_0x19a8('0x29')](_0x473296)['users'][a200_0x19a8('0x16')][a200_0x19a8('0x8')](_0x2a8eb3=>!_0x2a8eb3[a200_0x19a8('0x1d')])[a200_0x19a8('0x24')]()));}const _0x3edf37=[];for(let _0x41fb91=0x0;_0x41fb91<(_0x364c88[a200_0x19a8('0x9')]||0x1);_0x41fb91++){if(!_0x301f91[a200_0x19a8('0x20')])break;const _0x58f96d=_0x301f91[Math[a200_0x19a8('0x27')](Math[a200_0x19a8('0xe')]()*_0x301f91[a200_0x19a8('0x20')])];_0x3edf37[a200_0x19a8('0x1e')](_0x58f96d),_0x301f91=_0x301f91['filter'](_0x3bf1e5=>_0x3bf1e5['id']!==_0x58f96d['id']);}_0x3edf37[a200_0x19a8('0x20')]?await _0x358c95[a200_0x19a8('0x2')]({'embed':{'color':tesseract_1[a200_0x19a8('0x15')][a200_0x19a8('0x10')][a200_0x19a8('0xf')],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0x358c95['embeds'][0x0]['title'],'description':a200_0x19a8('0x1b'),'fields':[{'name':a200_0x19a8('0x26'),'value':_0x3edf37['join'](',\x20')}],'footer':{'text':_0x358c95['id']},'timestamp':new Date()}})['then'](()=>{_0x4b1043[a200_0x19a8('0x1e')](_0x358c95['id']);})[a200_0x19a8('0x13')](()=>{}):await _0x358c95[a200_0x19a8('0x2')]({'embed':{'color':tesseract_1['Constants'][a200_0x19a8('0x10')]['RED'],'author':{'name':a200_0x19a8('0x12')},'title':_0x358c95[a200_0x19a8('0x1c')][0x0][a200_0x19a8('0xb')],'description':a200_0x19a8('0x28'),'footer':{'text':_0x358c95['id']},'timestamp':new Date()}})[a200_0x19a8('0x21')](()=>{_0x4b1043['push'](_0x358c95['id']);})[a200_0x19a8('0x13')](()=>{});}}_0x4b1043[a200_0x19a8('0x20')]&&await Giveaway_1['default'][a200_0x19a8('0x19')]({'$or':_0x4b1043['map'](_0x27d8bf=>({'_id':_0x27d8bf}))})['catch'](()=>{});}catch(_0x5067a7){tesseract_1['Logger']['error'](_0x5067a7);}};}};