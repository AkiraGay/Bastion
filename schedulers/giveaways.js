const a215_0x3577=['_id','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/Giveaway','length','title','COLORS','test','RED','find','client','readyTimestamp','filter','users','apply','map','@bastion/tesseract','floor','guild','Logger','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','random','0\x20*/15\x20*\x20*\x20*\x20*','default','has','reactions','values','channels','catch','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','get','fetch','guilds','then','constructor','giveaways','error','edit','embeds','GIVEAWAY\x20ENDED','channel','messages','cache','Constants','deleteMany','push','winners','SOMEWHAT_DARK'];(function(_0x5b71ea,_0x357705){const _0x45f48e=function(_0x410ff2){while(--_0x410ff2){_0x5b71ea['push'](_0x5b71ea['shift']());}},_0x1d34f9=function(){const _0x10f459={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a9507,_0x370373,_0x1fc7a4,_0x3d992c){_0x3d992c=_0x3d992c||{};let _0x35662f=_0x370373+'='+_0x1fc7a4,_0x4b72=0x0;for(let _0xf9cdee=0x0,_0x12bc4a=_0x2a9507['length'];_0xf9cdee<_0x12bc4a;_0xf9cdee++){const _0x23ca26=_0x2a9507[_0xf9cdee];_0x35662f+=';\x20'+_0x23ca26;const _0x2f3458=_0x2a9507[_0x23ca26];_0x2a9507['push'](_0x2f3458),_0x12bc4a=_0x2a9507['length'],_0x2f3458!==!![]&&(_0x35662f+='='+_0x2f3458);}_0x3d992c['cookie']=_0x35662f;},'removeCookie':function(){return'dev';},'getCookie':function(_0xed651d,_0x1aa352){_0xed651d=_0xed651d||function(_0x5122ce){return _0x5122ce;};const _0x48d3b4=_0xed651d(new RegExp('(?:^|;\x20)'+_0x1aa352['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x980cb2=function(_0xe0a4b9,_0x3b2dd3){_0xe0a4b9(++_0x3b2dd3);};return _0x980cb2(_0x45f48e,_0x357705),_0x48d3b4?decodeURIComponent(_0x48d3b4[0x1]):undefined;}},_0x1963ec=function(){const _0x587820=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x587820['test'](_0x10f459['removeCookie']['toString']());};_0x10f459['updateCookie']=_0x1963ec;let _0x4063ac='';const _0x2daf8d=_0x10f459['updateCookie']();if(!_0x2daf8d)_0x10f459['setCookie'](['*'],'counter',0x1);else _0x2daf8d?_0x4063ac=_0x10f459['getCookie'](null,'counter'):_0x10f459['removeCookie']();};_0x1d34f9();}(a215_0x3577,0x16c));const a215_0x45f4=function(_0x5b71ea,_0x357705){_0x5b71ea=_0x5b71ea-0x0;let _0x45f48e=a215_0x3577[_0x5b71ea];return _0x45f48e;};const _0x2a8854=a215_0x45f4,a215_0x10f459=function(){let _0x4063ac=!![];return function(_0x2daf8d,_0x2a9507){const _0x370373=_0x4063ac?function(){const _0x485953=a215_0x45f4;if(_0x2a9507){const _0x1fc7a4=_0x2a9507[_0x485953('0x19')](_0x2daf8d,arguments);return _0x2a9507=null,_0x1fc7a4;}}:function(){};return _0x4063ac=![],_0x370373;};}(),a215_0x410ff2=a215_0x10f459(this,function(){const _0x3d992c=function(){const _0x4ec03b=a215_0x45f4,_0x35662f=_0x3d992c[_0x4ec03b('0x2d')](_0x4ec03b('0xd'))()[_0x4ec03b('0x2d')](_0x4ec03b('0x28'));return!_0x35662f[_0x4ec03b('0x12')](a215_0x410ff2);};return _0x3d992c();});a215_0x410ff2();'use strict';const tesseract_1=require(_0x2a8854('0x1b')),Giveaway_1=require(_0x2a8854('0xe'));module['exports']=class GiveawayScheduler extends tesseract_1['Scheduler']{constructor(){const _0x3122a4=_0x2a8854;super(_0x3122a4('0x2e'),{'cronTime':_0x3122a4('0x21')}),this['exec']=async()=>{const _0x1ba66c=_0x3122a4;try{if(!this['client'][_0x1ba66c('0x16')])return;if(!this['client'][_0x1ba66c('0x2b')][_0x1ba66c('0x6')]['size'])return;const _0x4b72=await Giveaway_1[_0x1ba66c('0x22')][_0x1ba66c('0x14')]({'$or':this[_0x1ba66c('0x15')][_0x1ba66c('0x2b')]['cache']['map'](_0x12bc4a=>({'guild':_0x12bc4a['id']})),'ends':{'$lte':new Date()}}),_0xf9cdee=[];for(const _0x23ca26 of _0x4b72){const _0x2f3458=this['client'][_0x1ba66c('0x2b')]['cache'][_0x1ba66c('0x29')](_0x23ca26[_0x1ba66c('0x1d')]);if(_0x2f3458[_0x1ba66c('0x26')][_0x1ba66c('0x6')]['has'](_0x23ca26[_0x1ba66c('0x4')])){const _0xed651d=_0x2f3458['channels'][_0x1ba66c('0x6')]['get'](_0x23ca26[_0x1ba66c('0x4')]),_0x1aa352=await _0xed651d[_0x1ba66c('0x5')]['fetch'](_0x23ca26[_0x1ba66c('0xc')])[_0x1ba66c('0x27')](()=>{});if(!_0x1aa352)continue;let _0x48d3b4=[];for(const _0x5122ce of['ðŸŽŠ','ðŸŽ‰']){_0x1aa352[_0x1ba66c('0x24')][_0x1ba66c('0x6')][_0x1ba66c('0x23')](_0x5122ce)&&(await _0x1aa352['reactions'][_0x1ba66c('0x6')]['get'](_0x5122ce)[_0x1ba66c('0x18')][_0x1ba66c('0x2a')]()[_0x1ba66c('0x27')](()=>{}),_0x48d3b4[_0x1ba66c('0x9')](..._0x1aa352['reactions'][_0x1ba66c('0x6')][_0x1ba66c('0x29')](_0x5122ce)[_0x1ba66c('0x18')][_0x1ba66c('0x6')][_0x1ba66c('0x17')](_0xe0a4b9=>!_0xe0a4b9['bot'])[_0x1ba66c('0x25')]()));}const _0x980cb2=[];for(let _0x3b2dd3=0x0;_0x3b2dd3<(_0x23ca26[_0x1ba66c('0xa')]||0x1);_0x3b2dd3++){if(!_0x48d3b4[_0x1ba66c('0xf')])break;const _0x587820=_0x48d3b4[Math[_0x1ba66c('0x1c')](Math[_0x1ba66c('0x20')]()*_0x48d3b4[_0x1ba66c('0xf')])];_0x980cb2[_0x1ba66c('0x9')](_0x587820),_0x48d3b4=_0x48d3b4[_0x1ba66c('0x17')](_0x6e17f3=>_0x6e17f3['id']!==_0x587820['id']);}_0x980cb2[_0x1ba66c('0xf')]?await _0x1aa352[_0x1ba66c('0x1')]({'embed':{'color':tesseract_1[_0x1ba66c('0x7')][_0x1ba66c('0x11')][_0x1ba66c('0xb')],'author':{'name':_0x1ba66c('0x3')},'title':_0x1aa352[_0x1ba66c('0x2')][0x0][_0x1ba66c('0x10')],'description':'The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','fields':[{'name':'Congratulations','value':_0x980cb2['join'](',\x20')}],'footer':{'text':_0x1aa352['id']},'timestamp':new Date()}})['then'](()=>{const _0x57fb18=_0x1ba66c;_0xf9cdee[_0x57fb18('0x9')](_0x1aa352['id']);})[_0x1ba66c('0x27')](()=>{}):await _0x1aa352['edit']({'embed':{'color':tesseract_1[_0x1ba66c('0x7')]['COLORS'][_0x1ba66c('0x13')],'author':{'name':_0x1ba66c('0x3')},'title':_0x1aa352[_0x1ba66c('0x2')][0x0]['title'],'description':_0x1ba66c('0x1f'),'footer':{'text':_0x1aa352['id']},'timestamp':new Date()}})[_0x1ba66c('0x2c')](()=>{const _0x218a84=_0x1ba66c;_0xf9cdee[_0x218a84('0x9')](_0x1aa352['id']);})[_0x1ba66c('0x27')](()=>{});}}_0xf9cdee['length']&&await Giveaway_1[_0x1ba66c('0x22')][_0x1ba66c('0x8')]({'$or':_0xf9cdee[_0x1ba66c('0x1a')](_0x3d6a39=>({'_id':_0x3d6a39}))})['catch'](()=>{});}catch(_0x99274b){tesseract_1[_0x1ba66c('0x1e')][_0x1ba66c('0x0')](_0x99274b);}};}};