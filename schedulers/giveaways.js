const a226_0x515215=a226_0x5adf;(function(_0x141729,_0x34f40e){const _0x32abbd=a226_0x5adf,_0x283190=_0x141729();while(!![]){try{const _0x102921=-parseInt(_0x32abbd(0x16f))/0x1+parseInt(_0x32abbd(0x162))/0x2+-parseInt(_0x32abbd(0x169))/0x3+-parseInt(_0x32abbd(0x16b))/0x4+-parseInt(_0x32abbd(0x16e))/0x5*(-parseInt(_0x32abbd(0x163))/0x6)+-parseInt(_0x32abbd(0x16d))/0x7*(parseInt(_0x32abbd(0x184))/0x8)+parseInt(_0x32abbd(0x18e))/0x9*(parseInt(_0x32abbd(0x178))/0xa);if(_0x102921===_0x34f40e)break;else _0x283190['push'](_0x283190['shift']());}catch(_0x138a45){_0x283190['push'](_0x283190['shift']());}}}(a226_0x32ab,0x6f2d3));const a226_0x2495cc=(function(){let _0x578253=!![];return function(_0x572593,_0x5121d4){const _0x1687ba=_0x578253?function(){const _0x2f483d=a226_0x5adf;if(_0x5121d4){const _0x585f45=_0x5121d4[_0x2f483d(0x180)](_0x572593,arguments);return _0x5121d4=null,_0x585f45;}}:function(){};return _0x578253=![],_0x1687ba;};}()),a226_0x196e9e=a226_0x2495cc(this,function(){const _0x2af8b5=a226_0x5adf;return a226_0x196e9e['toString']()[_0x2af8b5(0x18a)]('(((.+)+)+)+$')[_0x2af8b5(0x17e)]()[_0x2af8b5(0x173)](a226_0x196e9e)[_0x2af8b5(0x18a)](_0x2af8b5(0x186));});a226_0x196e9e();function a226_0x5adf(_0xd1c4ab,_0x4eb6f6){const _0x204524=a226_0x32ab();return a226_0x5adf=function(_0x196e9e,_0x2495cc){_0x196e9e=_0x196e9e-0x161;let _0x32abe7=_0x204524[_0x196e9e];return _0x32abe7;},a226_0x5adf(_0xd1c4ab,_0x4eb6f6);}function a226_0x32ab(){const _0x1b013d=['giveaways','@bastion/tesseract','push','SOMEWHAT_DARK','10KehOzF','edit','error','reactions','Logger','client','toString','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','apply','Congratulations','exports','title','600qJpFHm','embeds','(((.+)+)+)+$','exec','0\x20*/15\x20*\x20*\x20*\x20*','winners','search','../models/Giveaway','cache','filter','12890061pauDWE','default','has','deleteMany','_id','users','length','readyTimestamp','fetch','guilds','1142598vqtbmn','5442FBooXh','channels','catch','guild','map','size','360282ibJoBp','GIVEAWAY\x20ENDED','3496660wwojFa','channel','56133XLYGpj','1405PIxNLn','207332QIWhwB','COLORS','find','Constants','constructor'];a226_0x32ab=function(){return _0x1b013d;};return a226_0x32ab();}'use strict';const tesseract_1=require(a226_0x515215(0x175)),Giveaway_1=require(a226_0x515215(0x18b));module[a226_0x515215(0x182)]=class GiveawayScheduler extends tesseract_1['Scheduler']{constructor(){const _0xdbabc7=a226_0x515215;super(_0xdbabc7(0x174),{'cronTime':_0xdbabc7(0x188)});}[a226_0x515215(0x187)]=async()=>{const _0x335b3a=a226_0x515215;try{if(!this['client'][_0x335b3a(0x195)])return;if(!this[_0x335b3a(0x17d)][_0x335b3a(0x161)][_0x335b3a(0x18c)][_0x335b3a(0x168)])return;const _0x3877d9=await Giveaway_1[_0x335b3a(0x18f)][_0x335b3a(0x171)]({'$or':this[_0x335b3a(0x17d)][_0x335b3a(0x161)][_0x335b3a(0x18c)][_0x335b3a(0x167)](_0xcd2e1b=>({'guild':_0xcd2e1b['id']})),'ends':{'$lte':new Date()}}),_0x42c62d=[];for(const _0x56d1da of _0x3877d9){const _0x1ed794=this[_0x335b3a(0x17d)][_0x335b3a(0x161)]['cache']['get'](_0x56d1da[_0x335b3a(0x166)]);if(_0x1ed794[_0x335b3a(0x164)][_0x335b3a(0x18c)][_0x335b3a(0x190)](_0x56d1da[_0x335b3a(0x16c)])){const _0x325694=_0x1ed794[_0x335b3a(0x164)][_0x335b3a(0x18c)]['get'](_0x56d1da[_0x335b3a(0x16c)]),_0x2bbc48=await _0x325694['messages'][_0x335b3a(0x196)](_0x56d1da[_0x335b3a(0x192)])[_0x335b3a(0x165)](()=>{});if(!_0x2bbc48)continue;let _0x2f491f=[];for(const _0x541c21 of['ðŸŽŠ','ðŸŽ‰']){_0x2bbc48[_0x335b3a(0x17b)][_0x335b3a(0x18c)]['has'](_0x541c21)&&(await _0x2bbc48[_0x335b3a(0x17b)][_0x335b3a(0x18c)]['get'](_0x541c21)[_0x335b3a(0x193)]['fetch']()[_0x335b3a(0x165)](()=>{}),_0x2f491f[_0x335b3a(0x176)](..._0x2bbc48['reactions'][_0x335b3a(0x18c)]['get'](_0x541c21)[_0x335b3a(0x193)][_0x335b3a(0x18c)][_0x335b3a(0x18d)](_0x35e3db=>!_0x35e3db['bot'])['values']()));}const _0x29b56b=[];for(let _0x345250=0x0;_0x345250<(_0x56d1da[_0x335b3a(0x189)]||0x1);_0x345250++){if(!_0x2f491f[_0x335b3a(0x194)])break;const _0x1ddca2=_0x2f491f[Math['floor'](Math['random']()*_0x2f491f['length'])];_0x29b56b['push'](_0x1ddca2),_0x2f491f=_0x2f491f[_0x335b3a(0x18d)](_0x8f70c7=>_0x8f70c7['id']!==_0x1ddca2['id']);}_0x29b56b[_0x335b3a(0x194)]?await _0x2bbc48['edit']({'embed':{'color':tesseract_1[_0x335b3a(0x172)][_0x335b3a(0x170)][_0x335b3a(0x177)],'author':{'name':_0x335b3a(0x16a)},'title':_0x2bbc48[_0x335b3a(0x185)][0x0][_0x335b3a(0x183)],'description':_0x335b3a(0x17f),'fields':[{'name':_0x335b3a(0x181),'value':_0x29b56b['join'](',\x20')}],'footer':{'text':_0x2bbc48['id']},'timestamp':new Date()}})['then'](()=>{const _0x1efd5d=_0x335b3a;_0x42c62d[_0x1efd5d(0x176)](_0x2bbc48['id']);})[_0x335b3a(0x165)](()=>{}):await _0x2bbc48[_0x335b3a(0x179)]({'embed':{'color':tesseract_1[_0x335b3a(0x172)][_0x335b3a(0x170)]['RED'],'author':{'name':_0x335b3a(0x16a)},'title':_0x2bbc48['embeds'][0x0][_0x335b3a(0x183)],'description':'Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','footer':{'text':_0x2bbc48['id']},'timestamp':new Date()}})['then'](()=>{_0x42c62d['push'](_0x2bbc48['id']);})['catch'](()=>{});}}_0x42c62d['length']&&await Giveaway_1[_0x335b3a(0x18f)][_0x335b3a(0x191)]({'$or':_0x42c62d[_0x335b3a(0x167)](_0x575c9b=>({'_id':_0x575c9b}))})[_0x335b3a(0x165)](()=>{});}catch(_0x4b7eb8){tesseract_1[_0x335b3a(0x17c)][_0x335b3a(0x17a)](_0x4b7eb8);}};};