const a223_0xeff9=['push','_id','0\x20*/15\x20*\x20*\x20*\x20*','COLORS','embeds','floor','title','Congratulations','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','guilds','constructor','then','join','Scheduler','edit','catch','Constants','Logger','cache','reactions','filter','apply','error','bot','fetch','has','GIVEAWAY\x20ENDED','get','client','SOMEWHAT_DARK','size','default','map','channels','random','values','@bastion/tesseract','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','users','channel','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','deleteMany','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','giveaways','messages','../models/Giveaway'];(function(_0x1a32d4,_0x5599f0){const _0xeff935=function(_0x49e36f){while(--_0x49e36f){_0x1a32d4['push'](_0x1a32d4['shift']());}},_0x171ba6=function(){const _0x34ece1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x364b63,_0x5c437e,_0x5a5768,_0x192139){_0x192139=_0x192139||{};let _0x7f62ad=_0x5c437e+'='+_0x5a5768,_0x5c7d2c=0x0;for(let _0x4a62db=0x0,_0x174cb1=_0x364b63['length'];_0x4a62db<_0x174cb1;_0x4a62db++){const _0x1f54f2=_0x364b63[_0x4a62db];_0x7f62ad+=';\x20'+_0x1f54f2;const _0x41a9f3=_0x364b63[_0x1f54f2];_0x364b63['push'](_0x41a9f3),_0x174cb1=_0x364b63['length'],_0x41a9f3!==!![]&&(_0x7f62ad+='='+_0x41a9f3);}_0x192139['cookie']=_0x7f62ad;},'removeCookie':function(){return'dev';},'getCookie':function(_0x59bbd1,_0x1c9265){_0x59bbd1=_0x59bbd1||function(_0x1bb2a5){return _0x1bb2a5;};const _0x4afc32=_0x59bbd1(new RegExp('(?:^|;\x20)'+_0x1c9265['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x130624=function(_0x3338e1,_0x4c9ab6){_0x3338e1(++_0x4c9ab6);};return _0x130624(_0xeff935,_0x5599f0),_0x4afc32?decodeURIComponent(_0x4afc32[0x1]):undefined;}},_0x51fc95=function(){const _0x2f6662=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2f6662['test'](_0x34ece1['removeCookie']['toString']());};_0x34ece1['updateCookie']=_0x51fc95;let _0x5ec2dc='';const _0x567c76=_0x34ece1['updateCookie']();if(!_0x567c76)_0x34ece1['setCookie'](['*'],'counter',0x1);else _0x567c76?_0x5ec2dc=_0x34ece1['getCookie'](null,'counter'):_0x34ece1['removeCookie']();};_0x171ba6();}(a223_0xeff9,0x90));const a223_0x171b=function(_0x1a32d4,_0x5599f0){_0x1a32d4=_0x1a32d4-0xf6;let _0xeff935=a223_0xeff9[_0x1a32d4];return _0xeff935;};const a223_0x5561eb=a223_0x171b,a223_0x51fc95=function(){let _0x567c76=!![];return function(_0x364b63,_0x5c437e){const _0x5a5768=_0x567c76?function(){const _0x2a2ede=a223_0x171b;if(_0x5c437e){const _0x192139=_0x5c437e[_0x2a2ede(0x108)](_0x364b63,arguments);return _0x5c437e=null,_0x192139;}}:function(){};return _0x567c76=![],_0x5a5768;};}(),a223_0x34ece1=a223_0x51fc95(this,function(){const _0x7f62ad=function(){const _0x43ae55=a223_0x171b,_0x5c7d2c=_0x7f62ad[_0x43ae55(0xfd)](_0x43ae55(0x11b))()['constructor'](_0x43ae55(0x118));return!_0x5c7d2c['test'](a223_0x34ece1);};return _0x7f62ad();});a223_0x34ece1();'use strict';const tesseract_1=require(a223_0x5561eb(0x117)),Giveaway_1=require(a223_0x5561eb(0x121));module['exports']=class GiveawayScheduler extends tesseract_1[a223_0x5561eb(0x100)]{constructor(){const _0x423f67=a223_0x5561eb;super(_0x423f67(0x11f),{'cronTime':_0x423f67(0x124)}),this['exec']=async()=>{const _0x156c89=_0x423f67;try{if(!this[_0x156c89(0x10f)]['readyTimestamp'])return;if(!this['client'][_0x156c89(0xfc)][_0x156c89(0x105)][_0x156c89(0x111)])return;const _0x4a62db=await Giveaway_1[_0x156c89(0x112)]['find']({'$or':this[_0x156c89(0x10f)][_0x156c89(0xfc)]['cache'][_0x156c89(0x113)](_0x1f54f2=>({'guild':_0x1f54f2['id']})),'ends':{'$lte':new Date()}}),_0x174cb1=[];for(const _0x41a9f3 of _0x4a62db){const _0x59bbd1=this['client'][_0x156c89(0xfc)][_0x156c89(0x105)][_0x156c89(0x10e)](_0x41a9f3['guild']);if(_0x59bbd1[_0x156c89(0x114)][_0x156c89(0x105)][_0x156c89(0x10c)](_0x41a9f3[_0x156c89(0x11a)])){const _0x1c9265=_0x59bbd1[_0x156c89(0x114)][_0x156c89(0x105)]['get'](_0x41a9f3[_0x156c89(0x11a)]),_0x4afc32=await _0x1c9265[_0x156c89(0x120)][_0x156c89(0x10b)](_0x41a9f3[_0x156c89(0x123)])['catch'](()=>{});if(!_0x4afc32)continue;let _0x130624=[];for(const _0x3338e1 of['ðŸŽŠ','ðŸŽ‰']){_0x4afc32['reactions'][_0x156c89(0x105)]['has'](_0x3338e1)&&(await _0x4afc32[_0x156c89(0x106)][_0x156c89(0x105)]['get'](_0x3338e1)[_0x156c89(0x119)][_0x156c89(0x10b)]()[_0x156c89(0x102)](()=>{}),_0x130624[_0x156c89(0x122)](..._0x4afc32[_0x156c89(0x106)][_0x156c89(0x105)][_0x156c89(0x10e)](_0x3338e1)['users'][_0x156c89(0x105)]['filter'](_0x4c9ab6=>!_0x4c9ab6[_0x156c89(0x10a)])[_0x156c89(0x116)]()));}const _0x1bb2a5=[];for(let _0x2f6662=0x0;_0x2f6662<(_0x41a9f3['winners']||0x1);_0x2f6662++){if(!_0x130624['length'])break;const _0x3f5983=_0x130624[Math[_0x156c89(0xf8)](Math[_0x156c89(0x115)]()*_0x130624[_0x156c89(0x11c)])];_0x1bb2a5[_0x156c89(0x122)](_0x3f5983),_0x130624=_0x130624[_0x156c89(0x107)](_0x53a4f3=>_0x53a4f3['id']!==_0x3f5983['id']);}_0x1bb2a5[_0x156c89(0x11c)]?await _0x4afc32[_0x156c89(0x101)]({'embed':{'color':tesseract_1[_0x156c89(0x103)][_0x156c89(0xf6)][_0x156c89(0x110)],'author':{'name':_0x156c89(0x10d)},'title':_0x4afc32[_0x156c89(0xf7)][0x0][_0x156c89(0xf9)],'description':_0x156c89(0x11e),'fields':[{'name':_0x156c89(0xfa),'value':_0x1bb2a5[_0x156c89(0xff)](',\x20')}],'footer':{'text':_0x4afc32['id']},'timestamp':new Date()}})[_0x156c89(0xfe)](()=>{const _0x9372f5=_0x156c89;_0x174cb1[_0x9372f5(0x122)](_0x4afc32['id']);})[_0x156c89(0x102)](()=>{}):await _0x4afc32[_0x156c89(0x101)]({'embed':{'color':tesseract_1[_0x156c89(0x103)][_0x156c89(0xf6)]['RED'],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0x4afc32[_0x156c89(0xf7)][0x0]['title'],'description':_0x156c89(0xfb),'footer':{'text':_0x4afc32['id']},'timestamp':new Date()}})[_0x156c89(0xfe)](()=>{const _0x583a00=_0x156c89;_0x174cb1[_0x583a00(0x122)](_0x4afc32['id']);})[_0x156c89(0x102)](()=>{});}}_0x174cb1['length']&&await Giveaway_1[_0x156c89(0x112)][_0x156c89(0x11d)]({'$or':_0x174cb1[_0x156c89(0x113)](_0x16a8b9=>({'_id':_0x16a8b9}))})['catch'](()=>{});}catch(_0x5548b0){tesseract_1[_0x156c89(0x104)][_0x156c89(0x109)](_0x5548b0);}};}};