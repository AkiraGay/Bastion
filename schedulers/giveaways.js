const a204_0x5d18=['floor','length','Logger','default','cache','@bastion/tesseract','then','filter','title','constructor','push','Constants','map','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','join','Scheduler','get','messages','RED','exec','client','fetch','GIVEAWAY\x20ENDED','guild','embeds','exports','has','SOMEWHAT_DARK','COLORS','find','readyTimestamp','return\x20/\x22\x20+\x20this\x20+\x20\x22/','guilds','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','catch','../models/Giveaway','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','channels','channel','reactions','users'];(function(_0x4b5bda,_0x5d18cb){const _0x1f5c58=function(_0x4aa5f3){while(--_0x4aa5f3){_0x4b5bda['push'](_0x4b5bda['shift']());}},_0x36b670=function(){const _0x427116={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4c1319,_0x496371,_0x377892,_0x1f0a82){_0x1f0a82=_0x1f0a82||{};let _0x59226d=_0x496371+'='+_0x377892,_0x217a18=0x0;for(let _0x43bc36=0x0,_0x3378a2=_0x4c1319['length'];_0x43bc36<_0x3378a2;_0x43bc36++){const _0xe803f3=_0x4c1319[_0x43bc36];_0x59226d+=';\x20'+_0xe803f3;const _0x3cbf87=_0x4c1319[_0xe803f3];_0x4c1319['push'](_0x3cbf87),_0x3378a2=_0x4c1319['length'],_0x3cbf87!==!![]&&(_0x59226d+='='+_0x3cbf87);}_0x1f0a82['cookie']=_0x59226d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x382803,_0x4ccf7e){_0x382803=_0x382803||function(_0x586a01){return _0x586a01;};const _0x14729e=_0x382803(new RegExp('(?:^|;\x20)'+_0x4ccf7e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x55903e=function(_0x3d2b01,_0x196125){_0x3d2b01(++_0x196125);};return _0x55903e(_0x1f5c58,_0x5d18cb),_0x14729e?decodeURIComponent(_0x14729e[0x1]):undefined;}},_0x112e55=function(){const _0x1d10b2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1d10b2['test'](_0x427116['removeCookie']['toString']());};_0x427116['updateCookie']=_0x112e55;let _0x21e083='';const _0x43a89b=_0x427116['updateCookie']();if(!_0x43a89b)_0x427116['setCookie'](['*'],'counter',0x1);else _0x43a89b?_0x21e083=_0x427116['getCookie'](null,'counter'):_0x427116['removeCookie']();};_0x36b670();}(a204_0x5d18,0x1a0));const a204_0x1f5c=function(_0x4b5bda,_0x5d18cb){_0x4b5bda=_0x4b5bda-0x0;let _0x1f5c58=a204_0x5d18[_0x4b5bda];return _0x1f5c58;};const a204_0x427116=function(){let _0x21e083=!![];return function(_0x43a89b,_0x4c1319){const _0x496371=_0x21e083?function(){if(_0x4c1319){const _0x377892=_0x4c1319['apply'](_0x43a89b,arguments);return _0x4c1319=null,_0x377892;}}:function(){};return _0x21e083=![],_0x496371;};}(),a204_0x4aa5f3=a204_0x427116(this,function(){const _0x1f0a82=function(){const _0x59226d=_0x1f0a82[a204_0x1f5c('0x3')](a204_0x1f5c('0x19'))()[a204_0x1f5c('0x3')](a204_0x1f5c('0x7'));return!_0x59226d['test'](a204_0x4aa5f3);};return _0x1f0a82();});a204_0x4aa5f3();'use strict';const tesseract_1=require(a204_0x1f5c('0x28')),Giveaway_1=require(a204_0x1f5c('0x1d'));module[a204_0x1f5c('0x13')]=class GiveawayScheduler extends tesseract_1[a204_0x1f5c('0x9')]{constructor(){super('giveaways',{'cronTime':'0\x20*/15\x20*\x20*\x20*\x20*'}),this[a204_0x1f5c('0xd')]=async()=>{try{if(!this[a204_0x1f5c('0xe')][a204_0x1f5c('0x18')])return;if(!this[a204_0x1f5c('0xe')][a204_0x1f5c('0x1a')][a204_0x1f5c('0x27')]['size'])return;const _0x217a18=await Giveaway_1[a204_0x1f5c('0x26')][a204_0x1f5c('0x17')]({'$or':this[a204_0x1f5c('0xe')][a204_0x1f5c('0x1a')][a204_0x1f5c('0x27')][a204_0x1f5c('0x6')](_0x3378a2=>({'guild':_0x3378a2['id']})),'ends':{'$lte':new Date()}}),_0x43bc36=[];for(const _0xe803f3 of _0x217a18){const _0x3cbf87=this[a204_0x1f5c('0xe')][a204_0x1f5c('0x1a')][a204_0x1f5c('0x27')][a204_0x1f5c('0xa')](_0xe803f3[a204_0x1f5c('0x11')]);if(_0x3cbf87[a204_0x1f5c('0x1f')]['cache']['has'](_0xe803f3[a204_0x1f5c('0x20')])){const _0x382803=_0x3cbf87['channels'][a204_0x1f5c('0x27')][a204_0x1f5c('0xa')](_0xe803f3['channel']),_0x4ccf7e=await _0x382803[a204_0x1f5c('0xb')][a204_0x1f5c('0xf')](_0xe803f3['_id'])[a204_0x1f5c('0x1c')](()=>{});if(!_0x4ccf7e)continue;let _0x14729e=[];for(const _0x586a01 of['ðŸŽŠ','ðŸŽ‰']){_0x4ccf7e[a204_0x1f5c('0x21')]['cache'][a204_0x1f5c('0x14')](_0x586a01)&&(await _0x4ccf7e[a204_0x1f5c('0x21')][a204_0x1f5c('0x27')][a204_0x1f5c('0xa')](_0x586a01)['users'][a204_0x1f5c('0xf')]()[a204_0x1f5c('0x1c')](()=>{}),_0x14729e[a204_0x1f5c('0x4')](..._0x4ccf7e[a204_0x1f5c('0x21')][a204_0x1f5c('0x27')][a204_0x1f5c('0xa')](_0x586a01)[a204_0x1f5c('0x22')][a204_0x1f5c('0x27')][a204_0x1f5c('0x1')](_0x3d2b01=>!_0x3d2b01['bot'])['values']()));}const _0x55903e=[];for(let _0x196125=0x0;_0x196125<(_0xe803f3['winners']||0x1);_0x196125++){if(!_0x14729e[a204_0x1f5c('0x24')])break;const _0x1d10b2=_0x14729e[Math[a204_0x1f5c('0x23')](Math['random']()*_0x14729e[a204_0x1f5c('0x24')])];_0x55903e[a204_0x1f5c('0x4')](_0x1d10b2),_0x14729e=_0x14729e[a204_0x1f5c('0x1')](_0x17e60e=>_0x17e60e['id']!==_0x1d10b2['id']);}_0x55903e[a204_0x1f5c('0x24')]?await _0x4ccf7e['edit']({'embed':{'color':tesseract_1['Constants']['COLORS'][a204_0x1f5c('0x15')],'author':{'name':a204_0x1f5c('0x10')},'title':_0x4ccf7e['embeds'][0x0][a204_0x1f5c('0x2')],'description':a204_0x1f5c('0x1e'),'fields':[{'name':'Congratulations','value':_0x55903e[a204_0x1f5c('0x8')](',\x20')}],'footer':{'text':_0x4ccf7e['id']},'timestamp':new Date()}})[a204_0x1f5c('0x0')](()=>{_0x43bc36[a204_0x1f5c('0x4')](_0x4ccf7e['id']);})[a204_0x1f5c('0x1c')](()=>{}):await _0x4ccf7e['edit']({'embed':{'color':tesseract_1[a204_0x1f5c('0x5')][a204_0x1f5c('0x16')][a204_0x1f5c('0xc')],'author':{'name':a204_0x1f5c('0x10')},'title':_0x4ccf7e[a204_0x1f5c('0x12')][0x0][a204_0x1f5c('0x2')],'description':a204_0x1f5c('0x1b'),'footer':{'text':_0x4ccf7e['id']},'timestamp':new Date()}})['then'](()=>{_0x43bc36[a204_0x1f5c('0x4')](_0x4ccf7e['id']);})[a204_0x1f5c('0x1c')](()=>{});}}_0x43bc36[a204_0x1f5c('0x24')]&&await Giveaway_1[a204_0x1f5c('0x26')]['deleteMany']({'$or':_0x43bc36[a204_0x1f5c('0x6')](_0x1fa889=>({'_id':_0x1fa889}))})['catch'](()=>{});}catch(_0x155bdd){tesseract_1[a204_0x1f5c('0x25')]['error'](_0x155bdd);}};}};