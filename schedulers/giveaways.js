const a192_0x4f18=['giveaways','catch','channels','join','get','embeds','title','readyTimestamp','floor','reactions','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','length','push','values','default','size','test','fetch','COLORS','compile','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','exec','messages','then','../models/Giveaway','channel','filter','Scheduler','map','Constants','Congratulations','winners','apply','users','return\x20/\x22\x20+\x20this\x20+\x20\x22/','_id','cache','RED','GIVEAWAY\x20ENDED','bot','client','has','guilds'];(function(_0x2316c9,_0x4f18aa){const _0x5d8b1d=function(_0x16fd46){while(--_0x16fd46){_0x2316c9['push'](_0x2316c9['shift']());}};const _0x156499=function(){const _0x478b2f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x28c2f6,_0x24191e,_0x40214b,_0x3c5c58){_0x3c5c58=_0x3c5c58||{};let _0x5bc4f1=_0x24191e+'='+_0x40214b;let _0x1e1b58=0x0;for(let _0x4a9d75=0x0,_0x70c7e8=_0x28c2f6['length'];_0x4a9d75<_0x70c7e8;_0x4a9d75++){const _0x249eb5=_0x28c2f6[_0x4a9d75];_0x5bc4f1+=';\x20'+_0x249eb5;const _0x50c8fe=_0x28c2f6[_0x249eb5];_0x28c2f6['push'](_0x50c8fe);_0x70c7e8=_0x28c2f6['length'];if(_0x50c8fe!==!![]){_0x5bc4f1+='='+_0x50c8fe;}}_0x3c5c58['cookie']=_0x5bc4f1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x17ce17,_0x23aa7a){_0x17ce17=_0x17ce17||function(_0x3b8040){return _0x3b8040;};const _0x2e2cb8=_0x17ce17(new RegExp('(?:^|;\x20)'+_0x23aa7a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2f1724=function(_0x63964d,_0x425f85){_0x63964d(++_0x425f85);};_0x2f1724(_0x5d8b1d,_0x4f18aa);return _0x2e2cb8?decodeURIComponent(_0x2e2cb8[0x1]):undefined;}};const _0x2d4465=function(){const _0x322d61=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x322d61['test'](_0x478b2f['removeCookie']['toString']());};_0x478b2f['updateCookie']=_0x2d4465;let _0x3f9aa2='';const _0x576b59=_0x478b2f['updateCookie']();if(!_0x576b59){_0x478b2f['setCookie'](['*'],'counter',0x1);}else if(_0x576b59){_0x3f9aa2=_0x478b2f['getCookie'](null,'counter');}else{_0x478b2f['removeCookie']();}};_0x156499();}(a192_0x4f18,0xf7));const a192_0x5d8b=function(_0x2316c9,_0x4f18aa){_0x2316c9=_0x2316c9-0x0;let _0x5d8b1d=a192_0x4f18[_0x2316c9];return _0x5d8b1d;};const a192_0x478b2f=function(){let _0x90582c=!![];return function(_0x47a2c5,_0x1aedec){const _0x367008=_0x90582c?function(){if(_0x1aedec){const _0x2957e4=_0x1aedec[a192_0x5d8b('0x6')](_0x47a2c5,arguments);_0x1aedec=null;return _0x2957e4;}}:function(){};_0x90582c=![];return _0x367008;};}();const a192_0x16fd46=a192_0x478b2f(this,function(){const _0x24d7a0=function(){const _0x194085=_0x24d7a0['constructor'](a192_0x5d8b('0x8'))()[a192_0x5d8b('0x25')](a192_0x5d8b('0x26'));return!_0x194085[a192_0x5d8b('0x22')](a192_0x16fd46);};return _0x24d7a0();});a192_0x16fd46();'use strict';const tesseract_1=require('@bastion/tesseract');const Giveaway_1=require(a192_0x5d8b('0x2a'));module['exports']=class GiveawayScheduler extends tesseract_1[a192_0x5d8b('0x1')]{constructor(){super(a192_0x5d8b('0x11'),{'cronTime':'0\x20*/15\x20*\x20*\x20*\x20*'});this[a192_0x5d8b('0x27')]=async()=>{if(!this[a192_0x5d8b('0xe')][a192_0x5d8b('0x18')])return;if(!this[a192_0x5d8b('0xe')][a192_0x5d8b('0x10')][a192_0x5d8b('0xa')][a192_0x5d8b('0x21')])return;const _0x3b1318=await Giveaway_1[a192_0x5d8b('0x20')]['find']({'$or':this[a192_0x5d8b('0xe')][a192_0x5d8b('0x10')][a192_0x5d8b('0xa')][a192_0x5d8b('0x2')](_0x3ae85e=>({'guild':_0x3ae85e['id']})),'ends':{'$lte':new Date()}});const _0x1e520e=[];for(const _0x4cea40 of _0x3b1318){const _0x192e9c=this[a192_0x5d8b('0xe')][a192_0x5d8b('0x10')][a192_0x5d8b('0xa')][a192_0x5d8b('0x15')](_0x4cea40['guild']);if(_0x192e9c[a192_0x5d8b('0x13')]['cache'][a192_0x5d8b('0xf')](_0x4cea40[a192_0x5d8b('0x2b')])){const _0x2a0473=_0x192e9c[a192_0x5d8b('0x13')]['cache']['get'](_0x4cea40[a192_0x5d8b('0x2b')]);const _0x2983e3=await _0x2a0473[a192_0x5d8b('0x28')][a192_0x5d8b('0x23')](_0x4cea40[a192_0x5d8b('0x9')])[a192_0x5d8b('0x12')](()=>{});if(!_0x2983e3)continue;let _0x245778=[];for(const _0x34d435 of['ðŸŽŠ','ðŸŽ‰']){if(_0x2983e3[a192_0x5d8b('0x1a')][a192_0x5d8b('0xa')][a192_0x5d8b('0xf')](_0x34d435)){await _0x2983e3['reactions'][a192_0x5d8b('0xa')][a192_0x5d8b('0x15')](_0x34d435)[a192_0x5d8b('0x7')][a192_0x5d8b('0x23')]()[a192_0x5d8b('0x12')](()=>{});_0x245778['push'](..._0x2983e3['reactions'][a192_0x5d8b('0xa')]['get'](_0x34d435)[a192_0x5d8b('0x7')][a192_0x5d8b('0xa')][a192_0x5d8b('0x0')](_0x3abe21=>!_0x3abe21[a192_0x5d8b('0xd')])[a192_0x5d8b('0x1f')]());}}const _0x42772f=[];for(let _0x2af32d=0x0;_0x2af32d<(_0x4cea40[a192_0x5d8b('0x5')]||0x1);_0x2af32d++){if(!_0x245778[a192_0x5d8b('0x1d')])break;const _0x43f18d=_0x245778[Math[a192_0x5d8b('0x19')](Math['random']()*_0x245778[a192_0x5d8b('0x1d')])];_0x42772f[a192_0x5d8b('0x1e')](_0x43f18d);_0x245778=_0x245778[a192_0x5d8b('0x0')](_0x51bdde=>_0x51bdde['id']!==_0x43f18d['id']);}if(_0x42772f[a192_0x5d8b('0x1d')]){await _0x2983e3['edit']({'embed':{'color':tesseract_1[a192_0x5d8b('0x3')][a192_0x5d8b('0x24')]['SOMEWHAT_DARK'],'author':{'name':a192_0x5d8b('0xc')},'title':_0x2983e3[a192_0x5d8b('0x16')][0x0][a192_0x5d8b('0x17')],'description':a192_0x5d8b('0x1c'),'fields':[{'name':a192_0x5d8b('0x4'),'value':_0x42772f[a192_0x5d8b('0x14')](',\x20')}],'footer':{'text':_0x2983e3['id']},'timestamp':new Date()}})[a192_0x5d8b('0x29')](()=>{_0x1e520e[a192_0x5d8b('0x1e')](_0x2983e3['id']);})['catch'](()=>{});}else{await _0x2983e3['edit']({'embed':{'color':tesseract_1['Constants'][a192_0x5d8b('0x24')][a192_0x5d8b('0xb')],'author':{'name':a192_0x5d8b('0xc')},'title':_0x2983e3['embeds'][0x0]['title'],'description':a192_0x5d8b('0x1b'),'footer':{'text':_0x2983e3['id']},'timestamp':new Date()}})[a192_0x5d8b('0x29')](()=>{_0x1e520e['push'](_0x2983e3['id']);})[a192_0x5d8b('0x12')](()=>{});}}}if(_0x1e520e['length']){await Giveaway_1[a192_0x5d8b('0x20')]['deleteMany']({'$or':_0x1e520e[a192_0x5d8b('0x2')](_0x48a6d9=>({'_id':_0x48a6d9}))})[a192_0x5d8b('0x12')](()=>{});}};}};