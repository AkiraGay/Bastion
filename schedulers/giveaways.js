const a222_0x1385=['SOMEWHAT_DARK','bot','Constants','../models/Giveaway','edit','Logger','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','join','users','random','readyTimestamp','channel','fetch','get','catch','GIVEAWAY\x20ENDED','size','then','floor','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','guild','filter','error','map','@bastion/tesseract','constructor','COLORS','has','Scheduler','values','exports','exec','_id','guilds','title','cache','winners','push','deleteMany','length','0\x20*/15\x20*\x20*\x20*\x20*','client','channels','reactions','find','RED'];(function(_0x8628be,_0xfd972b){const _0x13850c=function(_0x3aa47f){while(--_0x3aa47f){_0x8628be['push'](_0x8628be['shift']());}},_0x5023ca=function(){const _0x57360f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x382432,_0x4509ba,_0x5a2c62,_0x2192a9){_0x2192a9=_0x2192a9||{};let _0x556ce2=_0x4509ba+'='+_0x5a2c62,_0x4b079a=0x0;for(let _0x36bb2a=0x0,_0x3a01ff=_0x382432['length'];_0x36bb2a<_0x3a01ff;_0x36bb2a++){const _0x5dbf54=_0x382432[_0x36bb2a];_0x556ce2+=';\x20'+_0x5dbf54;const _0x95fb01=_0x382432[_0x5dbf54];_0x382432['push'](_0x95fb01),_0x3a01ff=_0x382432['length'],_0x95fb01!==!![]&&(_0x556ce2+='='+_0x95fb01);}_0x2192a9['cookie']=_0x556ce2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x367f92,_0x2673e2){_0x367f92=_0x367f92||function(_0x4c04f8){return _0x4c04f8;};const _0x3a0e1b=_0x367f92(new RegExp('(?:^|;\x20)'+_0x2673e2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1fee83=function(_0x265ad0,_0x5a771d){_0x265ad0(++_0x5a771d);};return _0x1fee83(_0x13850c,_0xfd972b),_0x3a0e1b?decodeURIComponent(_0x3a0e1b[0x1]):undefined;}},_0x571baf=function(){const _0x452bec=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x452bec['test'](_0x57360f['removeCookie']['toString']());};_0x57360f['updateCookie']=_0x571baf;let _0x1eb0a1='';const _0x311a05=_0x57360f['updateCookie']();if(!_0x311a05)_0x57360f['setCookie'](['*'],'counter',0x1);else _0x311a05?_0x1eb0a1=_0x57360f['getCookie'](null,'counter'):_0x57360f['removeCookie']();};_0x5023ca();}(a222_0x1385,0x125));const a222_0x5023=function(_0x8628be,_0xfd972b){_0x8628be=_0x8628be-0x109;let _0x13850c=a222_0x1385[_0x8628be];return _0x13850c;};const _0x5b8c57=a222_0x5023,a222_0x571baf=function(){let _0x311a05=!![];return function(_0x382432,_0x4509ba){const _0x5a2c62=_0x311a05?function(){if(_0x4509ba){const _0x2192a9=_0x4509ba['apply'](_0x382432,arguments);return _0x4509ba=null,_0x2192a9;}}:function(){};return _0x311a05=![],_0x5a2c62;};}(),a222_0x57360f=a222_0x571baf(this,function(){const _0x556ce2=function(){const _0x4961e2=a222_0x5023,_0x4b079a=_0x556ce2[_0x4961e2(0x111)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x4961e2(0x111)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4b079a['test'](a222_0x57360f);};return _0x556ce2();});a222_0x57360f();'use strict';const tesseract_1=require(_0x5b8c57(0x110)),Giveaway_1=require(_0x5b8c57(0x129));module[_0x5b8c57(0x116)]=class GiveawayScheduler extends tesseract_1[_0x5b8c57(0x114)]{constructor(){const _0x4b05d8=_0x5b8c57;super('giveaways',{'cronTime':_0x4b05d8(0x120)}),this[_0x4b05d8(0x117)]=async()=>{const _0x305cf5=_0x4b05d8;try{if(!this[_0x305cf5(0x121)][_0x305cf5(0x130)])return;if(!this[_0x305cf5(0x121)][_0x305cf5(0x119)][_0x305cf5(0x11b)][_0x305cf5(0x136)])return;const _0x36bb2a=await Giveaway_1['default'][_0x305cf5(0x124)]({'$or':this[_0x305cf5(0x121)][_0x305cf5(0x119)]['cache']['map'](_0x5dbf54=>({'guild':_0x5dbf54['id']})),'ends':{'$lte':new Date()}}),_0x3a01ff=[];for(const _0x95fb01 of _0x36bb2a){const _0x367f92=this['client'][_0x305cf5(0x119)][_0x305cf5(0x11b)]['get'](_0x95fb01[_0x305cf5(0x10c)]);if(_0x367f92[_0x305cf5(0x122)]['cache'][_0x305cf5(0x113)](_0x95fb01[_0x305cf5(0x131)])){const _0x2673e2=_0x367f92[_0x305cf5(0x122)][_0x305cf5(0x11b)][_0x305cf5(0x133)](_0x95fb01['channel']),_0x3a0e1b=await _0x2673e2['messages'][_0x305cf5(0x132)](_0x95fb01[_0x305cf5(0x118)])['catch'](()=>{});if(!_0x3a0e1b)continue;let _0x1fee83=[];for(const _0x265ad0 of['ðŸŽŠ','ðŸŽ‰']){_0x3a0e1b['reactions']['cache'][_0x305cf5(0x113)](_0x265ad0)&&(await _0x3a0e1b[_0x305cf5(0x123)][_0x305cf5(0x11b)][_0x305cf5(0x133)](_0x265ad0)[_0x305cf5(0x12e)][_0x305cf5(0x132)]()[_0x305cf5(0x134)](()=>{}),_0x1fee83[_0x305cf5(0x11d)](..._0x3a0e1b['reactions'][_0x305cf5(0x11b)][_0x305cf5(0x133)](_0x265ad0)[_0x305cf5(0x12e)][_0x305cf5(0x11b)][_0x305cf5(0x10d)](_0x5a771d=>!_0x5a771d[_0x305cf5(0x127)])[_0x305cf5(0x115)]()));}const _0x4c04f8=[];for(let _0x452bec=0x0;_0x452bec<(_0x95fb01[_0x305cf5(0x11c)]||0x1);_0x452bec++){if(!_0x1fee83[_0x305cf5(0x11f)])break;const _0xca4319=_0x1fee83[Math[_0x305cf5(0x10a)](Math[_0x305cf5(0x12f)]()*_0x1fee83[_0x305cf5(0x11f)])];_0x4c04f8[_0x305cf5(0x11d)](_0xca4319),_0x1fee83=_0x1fee83[_0x305cf5(0x10d)](_0x4d3b6d=>_0x4d3b6d['id']!==_0xca4319['id']);}_0x4c04f8[_0x305cf5(0x11f)]?await _0x3a0e1b[_0x305cf5(0x12a)]({'embed':{'color':tesseract_1[_0x305cf5(0x128)][_0x305cf5(0x112)][_0x305cf5(0x126)],'author':{'name':_0x305cf5(0x135)},'title':_0x3a0e1b['embeds'][0x0][_0x305cf5(0x11a)],'description':_0x305cf5(0x12c),'fields':[{'name':'Congratulations','value':_0x4c04f8[_0x305cf5(0x12d)](',\x20')}],'footer':{'text':_0x3a0e1b['id']},'timestamp':new Date()}})[_0x305cf5(0x109)](()=>{const _0xcea7c3=_0x305cf5;_0x3a01ff[_0xcea7c3(0x11d)](_0x3a0e1b['id']);})[_0x305cf5(0x134)](()=>{}):await _0x3a0e1b[_0x305cf5(0x12a)]({'embed':{'color':tesseract_1[_0x305cf5(0x128)][_0x305cf5(0x112)][_0x305cf5(0x125)],'author':{'name':_0x305cf5(0x135)},'title':_0x3a0e1b['embeds'][0x0][_0x305cf5(0x11a)],'description':_0x305cf5(0x10b),'footer':{'text':_0x3a0e1b['id']},'timestamp':new Date()}})['then'](()=>{_0x3a01ff['push'](_0x3a0e1b['id']);})[_0x305cf5(0x134)](()=>{});}}_0x3a01ff[_0x305cf5(0x11f)]&&await Giveaway_1['default'][_0x305cf5(0x11e)]({'$or':_0x3a01ff[_0x305cf5(0x10f)](_0x8ada97=>({'_id':_0x8ada97}))})[_0x305cf5(0x134)](()=>{});}catch(_0x3ab8aa){tesseract_1[_0x305cf5(0x12b)][_0x305cf5(0x10e)](_0x3ab8aa);}};}};