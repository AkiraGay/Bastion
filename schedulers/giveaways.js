const a205_0x1a0b=['size','edit','Logger','reactions','then','constructor','Congratulations','fetch','channel','find','messages','embeds','error','_id','GIVEAWAY\x20ENDED','length','guilds','guild','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','deleteMany','title','get','random','values','channels','Constants','client','default','@bastion/tesseract','COLORS','push','catch','test','apply','cache','map','bot','users','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','0\x20*/15\x20*\x20*\x20*\x20*','SOMEWHAT_DARK','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','return\x20/\x22\x20+\x20this\x20+\x20\x22/','filter'];(function(_0x4a2431,_0x1a0bcc){const _0x2a19fc=function(_0x1c075d){while(--_0x1c075d){_0x4a2431['push'](_0x4a2431['shift']());}},_0x46941f=function(){const _0x33e2b2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x200305,_0x211d7c,_0x20b634,_0x1c7b8f){_0x1c7b8f=_0x1c7b8f||{};let _0x2e6420=_0x211d7c+'='+_0x20b634,_0x1bd14d=0x0;for(let _0x438e7a=0x0,_0xcaf135=_0x200305['length'];_0x438e7a<_0xcaf135;_0x438e7a++){const _0x234fb1=_0x200305[_0x438e7a];_0x2e6420+=';\x20'+_0x234fb1;const _0xc87d9e=_0x200305[_0x234fb1];_0x200305['push'](_0xc87d9e),_0xcaf135=_0x200305['length'],_0xc87d9e!==!![]&&(_0x2e6420+='='+_0xc87d9e);}_0x1c7b8f['cookie']=_0x2e6420;},'removeCookie':function(){return'dev';},'getCookie':function(_0xb7a1e2,_0x5614d2){_0xb7a1e2=_0xb7a1e2||function(_0x47d46b){return _0x47d46b;};const _0x3fbb52=_0xb7a1e2(new RegExp('(?:^|;\x20)'+_0x5614d2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1a7f67=function(_0x4fc3d0,_0x1a3e0e){_0x4fc3d0(++_0x1a3e0e);};return _0x1a7f67(_0x2a19fc,_0x1a0bcc),_0x3fbb52?decodeURIComponent(_0x3fbb52[0x1]):undefined;}},_0x2dbabc=function(){const _0x4ba010=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4ba010['test'](_0x33e2b2['removeCookie']['toString']());};_0x33e2b2['updateCookie']=_0x2dbabc;let _0x4758c2='';const _0x525495=_0x33e2b2['updateCookie']();if(!_0x525495)_0x33e2b2['setCookie'](['*'],'counter',0x1);else _0x525495?_0x4758c2=_0x33e2b2['getCookie'](null,'counter'):_0x33e2b2['removeCookie']();};_0x46941f();}(a205_0x1a0b,0x19b));const a205_0x2a19=function(_0x4a2431,_0x1a0bcc){_0x4a2431=_0x4a2431-0x0;let _0x2a19fc=a205_0x1a0b[_0x4a2431];return _0x2a19fc;};const a205_0x33e2b2=function(){let _0x4758c2=!![];return function(_0x525495,_0x200305){const _0x211d7c=_0x4758c2?function(){if(_0x200305){const _0x20b634=_0x200305[a205_0x2a19('0x12')](_0x525495,arguments);return _0x200305=null,_0x20b634;}}:function(){};return _0x4758c2=![],_0x211d7c;};}(),a205_0x1c075d=a205_0x33e2b2(this,function(){const _0x1c7b8f=function(){const _0x2e6420=_0x1c7b8f[a205_0x2a19('0x22')](a205_0x2a19('0x1b'))()[a205_0x2a19('0x22')](a205_0x2a19('0x1a'));return!_0x2e6420[a205_0x2a19('0x11')](a205_0x1c075d);};return _0x1c7b8f();});a205_0x1c075d();'use strict';const tesseract_1=require(a205_0x2a19('0xd')),Giveaway_1=require('../models/Giveaway');module['exports']=class GiveawayScheduler extends tesseract_1['Scheduler']{constructor(){super('giveaways',{'cronTime':a205_0x2a19('0x18')}),this['exec']=async()=>{try{if(!this[a205_0x2a19('0xb')]['readyTimestamp'])return;if(!this['client'][a205_0x2a19('0x1')][a205_0x2a19('0x13')][a205_0x2a19('0x1d')])return;const _0x1bd14d=await Giveaway_1[a205_0x2a19('0xc')][a205_0x2a19('0x26')]({'$or':this['client']['guilds'][a205_0x2a19('0x13')]['map'](_0xcaf135=>({'guild':_0xcaf135['id']})),'ends':{'$lte':new Date()}}),_0x438e7a=[];for(const _0x234fb1 of _0x1bd14d){const _0xc87d9e=this['client'][a205_0x2a19('0x1')]['cache'][a205_0x2a19('0x6')](_0x234fb1[a205_0x2a19('0x2')]);if(_0xc87d9e[a205_0x2a19('0x9')][a205_0x2a19('0x13')]['has'](_0x234fb1[a205_0x2a19('0x25')])){const _0xb7a1e2=_0xc87d9e[a205_0x2a19('0x9')]['cache'][a205_0x2a19('0x6')](_0x234fb1[a205_0x2a19('0x25')]),_0x5614d2=await _0xb7a1e2[a205_0x2a19('0x27')][a205_0x2a19('0x24')](_0x234fb1[a205_0x2a19('0x2a')])[a205_0x2a19('0x10')](()=>{});if(!_0x5614d2)continue;let _0x3fbb52=[];for(const _0x47d46b of['ðŸŽŠ','ðŸŽ‰']){_0x5614d2[a205_0x2a19('0x20')][a205_0x2a19('0x13')]['has'](_0x47d46b)&&(await _0x5614d2[a205_0x2a19('0x20')][a205_0x2a19('0x13')][a205_0x2a19('0x6')](_0x47d46b)[a205_0x2a19('0x16')][a205_0x2a19('0x24')]()['catch'](()=>{}),_0x3fbb52[a205_0x2a19('0xf')](..._0x5614d2[a205_0x2a19('0x20')][a205_0x2a19('0x13')][a205_0x2a19('0x6')](_0x47d46b)[a205_0x2a19('0x16')]['cache'][a205_0x2a19('0x1c')](_0x4fc3d0=>!_0x4fc3d0[a205_0x2a19('0x15')])[a205_0x2a19('0x8')]()));}const _0x1a7f67=[];for(let _0x1a3e0e=0x0;_0x1a3e0e<(_0x234fb1['winners']||0x1);_0x1a3e0e++){if(!_0x3fbb52[a205_0x2a19('0x0')])break;const _0x4ba010=_0x3fbb52[Math['floor'](Math[a205_0x2a19('0x7')]()*_0x3fbb52[a205_0x2a19('0x0')])];_0x1a7f67[a205_0x2a19('0xf')](_0x4ba010),_0x3fbb52=_0x3fbb52['filter'](_0x3c5fe8=>_0x3c5fe8['id']!==_0x4ba010['id']);}_0x1a7f67[a205_0x2a19('0x0')]?await _0x5614d2[a205_0x2a19('0x1e')]({'embed':{'color':tesseract_1[a205_0x2a19('0xa')][a205_0x2a19('0xe')][a205_0x2a19('0x19')],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0x5614d2[a205_0x2a19('0x28')][0x0]['title'],'description':a205_0x2a19('0x3'),'fields':[{'name':a205_0x2a19('0x23'),'value':_0x1a7f67['join'](',\x20')}],'footer':{'text':_0x5614d2['id']},'timestamp':new Date()}})[a205_0x2a19('0x21')](()=>{_0x438e7a[a205_0x2a19('0xf')](_0x5614d2['id']);})[a205_0x2a19('0x10')](()=>{}):await _0x5614d2[a205_0x2a19('0x1e')]({'embed':{'color':tesseract_1['Constants'][a205_0x2a19('0xe')]['RED'],'author':{'name':a205_0x2a19('0x2b')},'title':_0x5614d2[a205_0x2a19('0x28')][0x0][a205_0x2a19('0x5')],'description':a205_0x2a19('0x17'),'footer':{'text':_0x5614d2['id']},'timestamp':new Date()}})[a205_0x2a19('0x21')](()=>{_0x438e7a[a205_0x2a19('0xf')](_0x5614d2['id']);})[a205_0x2a19('0x10')](()=>{});}}_0x438e7a[a205_0x2a19('0x0')]&&await Giveaway_1[a205_0x2a19('0xc')][a205_0x2a19('0x4')]({'$or':_0x438e7a[a205_0x2a19('0x14')](_0x217792=>({'_id':_0x217792}))})['catch'](()=>{});}catch(_0x479522){tesseract_1[a205_0x2a19('0x1f')][a205_0x2a19('0x29')](_0x479522);}};}};