const a412_0x55e2=['winners','title','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','reactions','guilds','client','values','apply','push','get','cache','COLORS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GIVEAWAY\x20ENDED','@bastion/tesseract','then','has','deleteMany','exports','catch','messages','length','map','Scheduler','bot','exec','channel','SOMEWHAT_DARK','random','readyTimestamp','compile','channels','RED','find','Congratulations','floor','size','fetch','0\x20*/15\x20*\x20*\x20*\x20*','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','users','join','embeds','_id','filter'];(function(_0x50b4c1,_0x55e294){const _0x35b7b8=function(_0x1b0c46){while(--_0x1b0c46){_0x50b4c1['push'](_0x50b4c1['shift']());}};const _0x5140b9=function(){const _0x1fbf31={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4b5974,_0x1d1af1,_0x1124dc,_0x5b5f93){_0x5b5f93=_0x5b5f93||{};let _0x2efada=_0x1d1af1+'='+_0x1124dc;let _0x54e12d=0x0;for(let _0x27e559=0x0,_0x4755da=_0x4b5974['length'];_0x27e559<_0x4755da;_0x27e559++){const _0x4cf844=_0x4b5974[_0x27e559];_0x2efada+=';\x20'+_0x4cf844;const _0x277c33=_0x4b5974[_0x4cf844];_0x4b5974['push'](_0x277c33);_0x4755da=_0x4b5974['length'];if(_0x277c33!==!![]){_0x2efada+='='+_0x277c33;}}_0x5b5f93['cookie']=_0x2efada;},'removeCookie':function(){return'dev';},'getCookie':function(_0x190a90,_0x322d09){_0x190a90=_0x190a90||function(_0x113604){return _0x113604;};const _0x47205f=_0x190a90(new RegExp('(?:^|;\x20)'+_0x322d09['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4220dc=function(_0x3c511d,_0x3110d8){_0x3c511d(++_0x3110d8);};_0x4220dc(_0x35b7b8,_0x55e294);return _0x47205f?decodeURIComponent(_0x47205f[0x1]):undefined;}};const _0x4fc5be=function(){const _0x508229=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x508229['test'](_0x1fbf31['removeCookie']['toString']());};_0x1fbf31['updateCookie']=_0x4fc5be;let _0xe5fe78='';const _0x4b3391=_0x1fbf31['updateCookie']();if(!_0x4b3391){_0x1fbf31['setCookie'](['*'],'counter',0x1);}else if(_0x4b3391){_0xe5fe78=_0x1fbf31['getCookie'](null,'counter');}else{_0x1fbf31['removeCookie']();}};_0x5140b9();}(a412_0x55e2,0x1b7));const a412_0x35b7=function(_0x50b4c1,_0x55e294){_0x50b4c1=_0x50b4c1-0x0;let _0x35b7b8=a412_0x55e2[_0x50b4c1];return _0x35b7b8;};const a412_0x1fbf31=function(){let _0x31a5a5=!![];return function(_0x2c6c91,_0x3b577d){const _0x324020=_0x31a5a5?function(){if(_0x3b577d){const _0x1015ad=_0x3b577d[a412_0x35b7('0x12')](_0x2c6c91,arguments);_0x3b577d=null;return _0x1015ad;}}:function(){};_0x31a5a5=![];return _0x324020;};}();const a412_0x1b0c46=a412_0x1fbf31(this,function(){const _0x5a1951=function(){const _0x116cec=_0x5a1951['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a412_0x35b7('0x29')](a412_0x35b7('0x17'));return!_0x116cec['test'](a412_0x1b0c46);};return _0x5a1951();});a412_0x1b0c46();'use strict';const tesseract_1=require(a412_0x35b7('0x19'));const Giveaway_1=require('../models/Giveaway');module[a412_0x35b7('0x1d')]=class GiveawayScheduler extends tesseract_1[a412_0x35b7('0x22')]{constructor(){super('giveaways',{'cronTime':a412_0x35b7('0x4')});this[a412_0x35b7('0x24')]=async()=>{if(!this[a412_0x35b7('0x10')][a412_0x35b7('0x28')])return;if(!this[a412_0x35b7('0x10')][a412_0x35b7('0xf')][a412_0x35b7('0x15')][a412_0x35b7('0x2')])return;const _0x4604ef=await Giveaway_1['default'][a412_0x35b7('0x2c')]({'$or':this[a412_0x35b7('0x10')]['guilds']['cache']['map'](_0xa2a02d=>({'guild':_0xa2a02d['id']})),'ends':{'$lte':new Date()}});const _0x452d62=[];for(const _0x4a2552 of _0x4604ef){const _0x176e54=this[a412_0x35b7('0x10')][a412_0x35b7('0xf')][a412_0x35b7('0x15')]['get'](_0x4a2552['guild']);if(_0x176e54[a412_0x35b7('0x2a')][a412_0x35b7('0x15')]['has'](_0x4a2552['channel'])){const _0x421222=_0x176e54['channels'][a412_0x35b7('0x15')][a412_0x35b7('0x14')](_0x4a2552[a412_0x35b7('0x25')]);const _0x504c3c=await _0x421222[a412_0x35b7('0x1f')][a412_0x35b7('0x3')](_0x4a2552[a412_0x35b7('0x9')])[a412_0x35b7('0x1e')](()=>{});if(!_0x504c3c)continue;let _0x169bea=[];for(const _0x25fd71 of['ðŸŽŠ','ðŸŽ‰']){if(_0x504c3c[a412_0x35b7('0xe')][a412_0x35b7('0x15')][a412_0x35b7('0x1b')](_0x25fd71)){await _0x504c3c[a412_0x35b7('0xe')][a412_0x35b7('0x15')][a412_0x35b7('0x14')](_0x25fd71)[a412_0x35b7('0x6')][a412_0x35b7('0x3')]()[a412_0x35b7('0x1e')](()=>{});_0x169bea[a412_0x35b7('0x13')](..._0x504c3c['reactions']['cache'][a412_0x35b7('0x14')](_0x25fd71)['users'][a412_0x35b7('0x15')][a412_0x35b7('0xa')](_0x15ac16=>!_0x15ac16[a412_0x35b7('0x23')])[a412_0x35b7('0x11')]());}}const _0x36af17=[];for(let _0x12ba65=0x0;_0x12ba65<(_0x4a2552[a412_0x35b7('0xb')]||0x1);_0x12ba65++){if(!_0x169bea[a412_0x35b7('0x20')])break;const _0x563398=_0x169bea[Math[a412_0x35b7('0x1')](Math[a412_0x35b7('0x27')]()*_0x169bea[a412_0x35b7('0x20')])];_0x36af17[a412_0x35b7('0x13')](_0x563398);_0x169bea=_0x169bea['filter'](_0xf834b=>_0xf834b['id']!==_0x563398['id']);}if(_0x36af17[a412_0x35b7('0x20')]){await _0x504c3c['edit']({'embed':{'color':tesseract_1['Constants'][a412_0x35b7('0x16')][a412_0x35b7('0x26')],'author':{'name':a412_0x35b7('0x18')},'title':_0x504c3c[a412_0x35b7('0x8')][0x0][a412_0x35b7('0xc')],'description':a412_0x35b7('0x5'),'fields':[{'name':a412_0x35b7('0x0'),'value':_0x36af17[a412_0x35b7('0x7')](',\x20')}],'footer':{'text':_0x504c3c['id']},'timestamp':new Date()}})['then'](()=>{_0x452d62[a412_0x35b7('0x13')](_0x504c3c['id']);})[a412_0x35b7('0x1e')](()=>{});}else{await _0x504c3c['edit']({'embed':{'color':tesseract_1['Constants'][a412_0x35b7('0x16')][a412_0x35b7('0x2b')],'author':{'name':a412_0x35b7('0x18')},'title':_0x504c3c['embeds'][0x0][a412_0x35b7('0xc')],'description':a412_0x35b7('0xd'),'footer':{'text':_0x504c3c['id']},'timestamp':new Date()}})[a412_0x35b7('0x1a')](()=>{_0x452d62['push'](_0x504c3c['id']);})[a412_0x35b7('0x1e')](()=>{});}}}if(_0x452d62['length']){await Giveaway_1['default'][a412_0x35b7('0x1c')]({'$or':_0x452d62[a412_0x35b7('0x21')](_0xdbd2b=>({'_id':_0xdbd2b}))})[a412_0x35b7('0x1e')](()=>{});}};}};