const a192_0x3aa6=['test','reactions','has','size','guild','Congratulations','guilds','readyTimestamp','Constants','_id','join','compile','messages','floor','map','length','constructor','SOMEWHAT_DARK','return\x20/\x22\x20+\x20this\x20+\x20\x22/','find','push','cache','exec','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','users','deleteMany','exports','values','embeds','random','default','filter','0\x20*/15\x20*\x20*\x20*\x20*','winners','channels','then','RED','edit','Scheduler','GIVEAWAY\x20ENDED','catch','@bastion/tesseract','get','title','client','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','COLORS','fetch','bot','giveaways'];(function(_0x394429,_0x3aa6ca){const _0x588721=function(_0x521046){while(--_0x521046){_0x394429['push'](_0x394429['shift']());}};const _0x2b87ae=function(){const _0x4f0824={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2504ca,_0x127552,_0xb38f23,_0x49ec5d){_0x49ec5d=_0x49ec5d||{};let _0x2e4cd9=_0x127552+'='+_0xb38f23;let _0x48e4b4=0x0;for(let _0x2db973=0x0,_0xdad52d=_0x2504ca['length'];_0x2db973<_0xdad52d;_0x2db973++){const _0x11939d=_0x2504ca[_0x2db973];_0x2e4cd9+=';\x20'+_0x11939d;const _0x364558=_0x2504ca[_0x11939d];_0x2504ca['push'](_0x364558);_0xdad52d=_0x2504ca['length'];if(_0x364558!==!![]){_0x2e4cd9+='='+_0x364558;}}_0x49ec5d['cookie']=_0x2e4cd9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x347446,_0x432321){_0x347446=_0x347446||function(_0x9a32bc){return _0x9a32bc;};const _0xb586e5=_0x347446(new RegExp('(?:^|;\x20)'+_0x432321['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x213671=function(_0x4e6cc9,_0xa509ca){_0x4e6cc9(++_0xa509ca);};_0x213671(_0x588721,_0x3aa6ca);return _0xb586e5?decodeURIComponent(_0xb586e5[0x1]):undefined;}};const _0x4f60cc=function(){const _0x3e4f47=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3e4f47['test'](_0x4f0824['removeCookie']['toString']());};_0x4f0824['updateCookie']=_0x4f60cc;let _0x5e864f='';const _0x279b26=_0x4f0824['updateCookie']();if(!_0x279b26){_0x4f0824['setCookie'](['*'],'counter',0x1);}else if(_0x279b26){_0x5e864f=_0x4f0824['getCookie'](null,'counter');}else{_0x4f0824['removeCookie']();}};_0x2b87ae();}(a192_0x3aa6,0x154));const a192_0x5887=function(_0x394429,_0x3aa6ca){_0x394429=_0x394429-0x0;let _0x588721=a192_0x3aa6[_0x394429];return _0x588721;};const a192_0x4f0824=function(){let _0x5c1319=!![];return function(_0x4825b6,_0x135853){const _0x4efd19=_0x5c1319?function(){if(_0x135853){const _0x342faa=_0x135853['apply'](_0x4825b6,arguments);_0x135853=null;return _0x342faa;}}:function(){};_0x5c1319=![];return _0x4efd19;};}();const a192_0x521046=a192_0x4f0824(this,function(){const _0x21f234=function(){const _0x1e1587=_0x21f234[a192_0x5887('0x1a')](a192_0x5887('0x1c'))()[a192_0x5887('0x15')](a192_0x5887('0x5'));return!_0x1e1587[a192_0x5887('0xa')](a192_0x521046);};return _0x21f234();});a192_0x521046();'use strict';const tesseract_1=require(a192_0x5887('0x1'));const Giveaway_1=require('../models/Giveaway');module[a192_0x5887('0x24')]=class GiveawayScheduler extends tesseract_1[a192_0x5887('0x30')]{constructor(){super(a192_0x5887('0x9'),{'cronTime':a192_0x5887('0x2a')});this[a192_0x5887('0x20')]=async()=>{if(!this[a192_0x5887('0x4')][a192_0x5887('0x11')])return;if(!this[a192_0x5887('0x4')][a192_0x5887('0x10')]['cache'][a192_0x5887('0xd')])return;const _0x3f4987=await Giveaway_1[a192_0x5887('0x28')][a192_0x5887('0x1d')]({'$or':this[a192_0x5887('0x4')][a192_0x5887('0x10')][a192_0x5887('0x1f')][a192_0x5887('0x18')](_0x3e55f1=>({'guild':_0x3e55f1['id']})),'ends':{'$lte':new Date()}});const _0x527554=[];for(const _0x5051c0 of _0x3f4987){const _0x410e6f=this[a192_0x5887('0x4')]['guilds']['cache'][a192_0x5887('0x2')](_0x5051c0[a192_0x5887('0xe')]);if(_0x410e6f['channels'][a192_0x5887('0x1f')][a192_0x5887('0xc')](_0x5051c0['channel'])){const _0x79841e=_0x410e6f[a192_0x5887('0x2c')][a192_0x5887('0x1f')]['get'](_0x5051c0['channel']);const _0x1ad6f5=await _0x79841e[a192_0x5887('0x16')][a192_0x5887('0x7')](_0x5051c0[a192_0x5887('0x13')])[a192_0x5887('0x0')](()=>{});if(!_0x1ad6f5)continue;let _0x37d2bd=[];for(const _0x512299 of['ðŸŽŠ','ðŸŽ‰']){if(_0x1ad6f5['reactions']['cache'][a192_0x5887('0xc')](_0x512299)){await _0x1ad6f5[a192_0x5887('0xb')][a192_0x5887('0x1f')]['get'](_0x512299)[a192_0x5887('0x22')]['fetch']()[a192_0x5887('0x0')](()=>{});_0x37d2bd['push'](..._0x1ad6f5[a192_0x5887('0xb')][a192_0x5887('0x1f')][a192_0x5887('0x2')](_0x512299)[a192_0x5887('0x22')][a192_0x5887('0x1f')][a192_0x5887('0x29')](_0x3676dc=>!_0x3676dc[a192_0x5887('0x8')])[a192_0x5887('0x25')]());}}const _0x2cc10b=[];for(let _0x54caf1=0x0;_0x54caf1<(_0x5051c0[a192_0x5887('0x2b')]||0x1);_0x54caf1++){if(!_0x37d2bd['length'])break;const _0x696c4a=_0x37d2bd[Math[a192_0x5887('0x17')](Math[a192_0x5887('0x27')]()*_0x37d2bd['length'])];_0x2cc10b[a192_0x5887('0x1e')](_0x696c4a);_0x37d2bd=_0x37d2bd[a192_0x5887('0x29')](_0x208d5d=>_0x208d5d['id']!==_0x696c4a['id']);}if(_0x2cc10b[a192_0x5887('0x19')]){await _0x1ad6f5[a192_0x5887('0x2f')]({'embed':{'color':tesseract_1[a192_0x5887('0x12')][a192_0x5887('0x6')][a192_0x5887('0x1b')],'author':{'name':a192_0x5887('0x31')},'title':_0x1ad6f5[a192_0x5887('0x26')][0x0][a192_0x5887('0x3')],'description':'The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','fields':[{'name':a192_0x5887('0xf'),'value':_0x2cc10b[a192_0x5887('0x14')](',\x20')}],'footer':{'text':_0x1ad6f5['id']},'timestamp':new Date()}})[a192_0x5887('0x2d')](()=>{_0x527554[a192_0x5887('0x1e')](_0x1ad6f5['id']);})[a192_0x5887('0x0')](()=>{});}else{await _0x1ad6f5[a192_0x5887('0x2f')]({'embed':{'color':tesseract_1[a192_0x5887('0x12')][a192_0x5887('0x6')][a192_0x5887('0x2e')],'author':{'name':a192_0x5887('0x31')},'title':_0x1ad6f5[a192_0x5887('0x26')][0x0]['title'],'description':a192_0x5887('0x21'),'footer':{'text':_0x1ad6f5['id']},'timestamp':new Date()}})['then'](()=>{_0x527554[a192_0x5887('0x1e')](_0x1ad6f5['id']);})['catch'](()=>{});}}}if(_0x527554[a192_0x5887('0x19')]){await Giveaway_1[a192_0x5887('0x28')][a192_0x5887('0x23')]({'$or':_0x527554[a192_0x5887('0x18')](_0x57e141=>({'_id':_0x57e141}))})['catch'](()=>{});}};}};