const a192_0x67a9=['title','length','bot','Congratulations','find','GIVEAWAY\x20ENDED','return\x20/\x22\x20+\x20this\x20+\x20\x22/','cache','test','SOMEWHAT_DARK','The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','size','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','RED','users','floor','fetch','_id','map','push','compile','readyTimestamp','0\x20*/15\x20*\x20*\x20*\x20*','values','filter','guilds','exec','has','embeds','reactions','@bastion/tesseract','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','deleteMany','default','client','Constants','catch','messages','join','giveaways','COLORS','channel','Scheduler','guild','get','channels','edit','then'];(function(_0x4b3a65,_0x67a937){const _0x33ecf0=function(_0x4f01e6){while(--_0x4f01e6){_0x4b3a65['push'](_0x4b3a65['shift']());}};const _0x4ee410=function(){const _0x4bf10b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x425c77,_0x26df48,_0x1e79e4,_0xcb7f57){_0xcb7f57=_0xcb7f57||{};let _0x158e6a=_0x26df48+'='+_0x1e79e4;let _0x4ca1b7=0x0;for(let _0xdbdc5a=0x0,_0x1db0a2=_0x425c77['length'];_0xdbdc5a<_0x1db0a2;_0xdbdc5a++){const _0xd6e6be=_0x425c77[_0xdbdc5a];_0x158e6a+=';\x20'+_0xd6e6be;const _0xe0c2d1=_0x425c77[_0xd6e6be];_0x425c77['push'](_0xe0c2d1);_0x1db0a2=_0x425c77['length'];if(_0xe0c2d1!==!![]){_0x158e6a+='='+_0xe0c2d1;}}_0xcb7f57['cookie']=_0x158e6a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1ed8b6,_0x12d7ad){_0x1ed8b6=_0x1ed8b6||function(_0x84ee54){return _0x84ee54;};const _0x86c373=_0x1ed8b6(new RegExp('(?:^|;\x20)'+_0x12d7ad['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x138393=function(_0x57c09d,_0x325ad7){_0x57c09d(++_0x325ad7);};_0x138393(_0x33ecf0,_0x67a937);return _0x86c373?decodeURIComponent(_0x86c373[0x1]):undefined;}};const _0x226ff1=function(){const _0xea2d86=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xea2d86['test'](_0x4bf10b['removeCookie']['toString']());};_0x4bf10b['updateCookie']=_0x226ff1;let _0x5812f2='';const _0x54d99e=_0x4bf10b['updateCookie']();if(!_0x54d99e){_0x4bf10b['setCookie'](['*'],'counter',0x1);}else if(_0x54d99e){_0x5812f2=_0x4bf10b['getCookie'](null,'counter');}else{_0x4bf10b['removeCookie']();}};_0x4ee410();}(a192_0x67a9,0x1a0));const a192_0x33ec=function(_0x4b3a65,_0x67a937){_0x4b3a65=_0x4b3a65-0x0;let _0x33ecf0=a192_0x67a9[_0x4b3a65];return _0x33ecf0;};const a192_0x4bf10b=function(){let _0xd87b06=!![];return function(_0x3150e4,_0x4339c9){const _0x175dcc=_0xd87b06?function(){if(_0x4339c9){const _0x47c68e=_0x4339c9['apply'](_0x3150e4,arguments);_0x4339c9=null;return _0x47c68e;}}:function(){};_0xd87b06=![];return _0x175dcc;};}();const a192_0x4f01e6=a192_0x4bf10b(this,function(){const _0x43969a=function(){const _0xf6e66c=_0x43969a['constructor'](a192_0x33ec('0x1f'))()[a192_0x33ec('0x2d')](a192_0x33ec('0x8'));return!_0xf6e66c[a192_0x33ec('0x21')](a192_0x4f01e6);};return _0x43969a();});a192_0x4f01e6();'use strict';const tesseract_1=require(a192_0x33ec('0x6'));const Giveaway_1=require('../models/Giveaway');module[a192_0x33ec('0x7')]=class GiveawayScheduler extends tesseract_1[a192_0x33ec('0x13')]{constructor(){super(a192_0x33ec('0x10'),{'cronTime':a192_0x33ec('0x2f')});this[a192_0x33ec('0x2')]=async()=>{if(!this[a192_0x33ec('0xb')][a192_0x33ec('0x2e')])return;if(!this[a192_0x33ec('0xb')][a192_0x33ec('0x1')]['cache'][a192_0x33ec('0x24')])return;const _0x186c66=await Giveaway_1[a192_0x33ec('0xa')][a192_0x33ec('0x1d')]({'$or':this[a192_0x33ec('0xb')][a192_0x33ec('0x1')][a192_0x33ec('0x20')]['map'](_0x460072=>({'guild':_0x460072['id']})),'ends':{'$lte':new Date()}});const _0x23cbb7=[];for(const _0x46bbc8 of _0x186c66){const _0x1b3567=this[a192_0x33ec('0xb')][a192_0x33ec('0x1')][a192_0x33ec('0x20')][a192_0x33ec('0x15')](_0x46bbc8[a192_0x33ec('0x14')]);if(_0x1b3567['channels'][a192_0x33ec('0x20')][a192_0x33ec('0x3')](_0x46bbc8[a192_0x33ec('0x12')])){const _0xf4eece=_0x1b3567[a192_0x33ec('0x16')][a192_0x33ec('0x20')][a192_0x33ec('0x15')](_0x46bbc8['channel']);const _0x2fc01a=await _0xf4eece[a192_0x33ec('0xe')][a192_0x33ec('0x29')](_0x46bbc8[a192_0x33ec('0x2a')])[a192_0x33ec('0xd')](()=>{});if(!_0x2fc01a)continue;let _0x38b914=[];for(const _0x39ec12 of['ðŸŽŠ','ðŸŽ‰']){if(_0x2fc01a[a192_0x33ec('0x5')][a192_0x33ec('0x20')][a192_0x33ec('0x3')](_0x39ec12)){await _0x2fc01a[a192_0x33ec('0x5')][a192_0x33ec('0x20')][a192_0x33ec('0x15')](_0x39ec12)[a192_0x33ec('0x27')][a192_0x33ec('0x29')]()[a192_0x33ec('0xd')](()=>{});_0x38b914['push'](..._0x2fc01a['reactions'][a192_0x33ec('0x20')][a192_0x33ec('0x15')](_0x39ec12)['users'][a192_0x33ec('0x20')]['filter'](_0x3417f4=>!_0x3417f4[a192_0x33ec('0x1b')])[a192_0x33ec('0x30')]());}}const _0x16e2ed=[];for(let _0x5b5b87=0x0;_0x5b5b87<(_0x46bbc8['winners']||0x1);_0x5b5b87++){if(!_0x38b914[a192_0x33ec('0x1a')])break;const _0x3b581f=_0x38b914[Math[a192_0x33ec('0x28')](Math['random']()*_0x38b914[a192_0x33ec('0x1a')])];_0x16e2ed[a192_0x33ec('0x2c')](_0x3b581f);_0x38b914=_0x38b914[a192_0x33ec('0x0')](_0x49e5b5=>_0x49e5b5['id']!==_0x3b581f['id']);}if(_0x16e2ed['length']){await _0x2fc01a[a192_0x33ec('0x17')]({'embed':{'color':tesseract_1[a192_0x33ec('0xc')][a192_0x33ec('0x11')][a192_0x33ec('0x22')],'author':{'name':a192_0x33ec('0x1e')},'title':_0x2fc01a['embeds'][0x0][a192_0x33ec('0x19')],'description':a192_0x33ec('0x23'),'fields':[{'name':a192_0x33ec('0x1c'),'value':_0x16e2ed[a192_0x33ec('0xf')](',\x20')}],'footer':{'text':_0x2fc01a['id']},'timestamp':new Date()}})['then'](()=>{_0x23cbb7['push'](_0x2fc01a['id']);})[a192_0x33ec('0xd')](()=>{});}else{await _0x2fc01a[a192_0x33ec('0x17')]({'embed':{'color':tesseract_1[a192_0x33ec('0xc')][a192_0x33ec('0x11')][a192_0x33ec('0x26')],'author':{'name':a192_0x33ec('0x1e')},'title':_0x2fc01a[a192_0x33ec('0x4')][0x0][a192_0x33ec('0x19')],'description':a192_0x33ec('0x25'),'footer':{'text':_0x2fc01a['id']},'timestamp':new Date()}})[a192_0x33ec('0x18')](()=>{_0x23cbb7[a192_0x33ec('0x2c')](_0x2fc01a['id']);})[a192_0x33ec('0xd')](()=>{});}}}if(_0x23cbb7[a192_0x33ec('0x1a')]){await Giveaway_1['default'][a192_0x33ec('0x9')]({'$or':_0x23cbb7[a192_0x33ec('0x2b')](_0x4ad1a2=>({'_id':_0x4ad1a2}))})['catch'](()=>{});}};}};