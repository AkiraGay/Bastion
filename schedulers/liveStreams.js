const a413_0x5947=['user_name','toUpperCase','default','twitchSubscriptions','exec','1280','liveStreams','started_at','return\x20/\x22\x20+\x20this\x20+\x20\x22/','twitch','TWITCH','join','find','Language','then','channelId','apply','client','credentials','has','map','data','&user_login=','Scheduler','push','https://api.twitch.tv/helix/streams/?user_login=','COLORS','get','replace','test','handleTwitchStreamers','streamers','catch','length','application/json','toString','viewer_count','json','clientId','set','../models/Guild','ðŸ”´\x20LIVE','cache','constructor','send','720','@bastion/tesseract','node-fetch','{height}','guilds','users','Bearer\x20','thumbnail_url','_id','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}'];(function(_0x2ec836,_0x5947bb){const _0xb54366=function(_0x721ee4){while(--_0x721ee4){_0x2ec836['push'](_0x2ec836['shift']());}};const _0x35c1d3=function(){const _0x15c1e7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x472c9f,_0x5b5dec,_0x28bf40,_0x2421a0){_0x2421a0=_0x2421a0||{};let _0x42a135=_0x5b5dec+'='+_0x28bf40;let _0x45dbf5=0x0;for(let _0x116d85=0x0,_0x488c2c=_0x472c9f['length'];_0x116d85<_0x488c2c;_0x116d85++){const _0x56c30a=_0x472c9f[_0x116d85];_0x42a135+=';\x20'+_0x56c30a;const _0xd5ae2=_0x472c9f[_0x56c30a];_0x472c9f['push'](_0xd5ae2);_0x488c2c=_0x472c9f['length'];if(_0xd5ae2!==!![]){_0x42a135+='='+_0xd5ae2;}}_0x2421a0['cookie']=_0x42a135;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4217fd,_0x5d584e){_0x4217fd=_0x4217fd||function(_0x53245d){return _0x53245d;};const _0x379ca5=_0x4217fd(new RegExp('(?:^|;\x20)'+_0x5d584e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x320aa4=function(_0x2d337c,_0x7be387){_0x2d337c(++_0x7be387);};_0x320aa4(_0xb54366,_0x5947bb);return _0x379ca5?decodeURIComponent(_0x379ca5[0x1]):undefined;}};const _0x1758e6=function(){const _0x42c8f4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x42c8f4['test'](_0x15c1e7['removeCookie']['toString']());};_0x15c1e7['updateCookie']=_0x1758e6;let _0x46ad73='';const _0x35cdc2=_0x15c1e7['updateCookie']();if(!_0x35cdc2){_0x15c1e7['setCookie'](['*'],'counter',0x1);}else if(_0x35cdc2){_0x46ad73=_0x15c1e7['getCookie'](null,'counter');}else{_0x15c1e7['removeCookie']();}};_0x35c1d3();}(a413_0x5947,0x128));const a413_0xb543=function(_0x2ec836,_0x5947bb){_0x2ec836=_0x2ec836-0x0;let _0xb54366=a413_0x5947[_0x2ec836];return _0xb54366;};const a413_0x15c1e7=function(){let _0x24a81d=!![];return function(_0x29cdfb,_0x56eb8f){const _0x2b4bc1=_0x24a81d?function(){if(_0x56eb8f){const _0x63e232=_0x56eb8f[a413_0xb543('0x32')](_0x29cdfb,arguments);_0x56eb8f=null;return _0x63e232;}}:function(){};_0x24a81d=![];return _0x2b4bc1;};}();const a413_0x721ee4=a413_0x15c1e7(this,function(){const _0x43c3f3=function(){const _0x5e7ead=_0x43c3f3[a413_0xb543('0x16')](a413_0xb543('0x2a'))()['compile'](a413_0xb543('0x21'));return!_0x5e7ead[a413_0xb543('0x8')](a413_0x721ee4);};return _0x43c3f3();});a413_0x721ee4();'use strict';const tesseract_1=require(a413_0xb543('0x19'));const node_fetch_1=require(a413_0xb543('0x1a'));const Guild_1=require(a413_0xb543('0x13'));const constants=require('../utils/constants');module['exports']=class LiveStreams extends tesseract_1[a413_0xb543('0x2')]{constructor(){super(a413_0xb543('0x28'),{'cronTime':'0\x20*/5\x20*\x20*\x20*\x20*'});this[a413_0xb543('0x9')]=async(_0x559aa1,_0x1d6267)=>{if(!this[a413_0xb543('0x33')]['readyTimestamp'])return;if(!this[a413_0xb543('0x25')][a413_0xb543('0x35')](_0x559aa1))this[a413_0xb543('0x25')][a413_0xb543('0x12')](_0x559aa1,[]);const _0x7e931=this[a413_0xb543('0x25')]['get'](_0x559aa1);const _0x238599=await node_fetch_1[a413_0xb543('0x24')](a413_0xb543('0x4')+_0x1d6267['users'][a413_0xb543('0x2d')](a413_0xb543('0x1')),{'headers':{'Accept':a413_0xb543('0xd'),'Authorization':a413_0xb543('0x1e')+this[a413_0xb543('0x33')]['credentials'][a413_0xb543('0x2b')]['accessToken'],'Client-ID':this['client'][a413_0xb543('0x34')][a413_0xb543('0x2b')][a413_0xb543('0x11')]}});const _0x4bb119=(await _0x238599[a413_0xb543('0x10')]())[a413_0xb543('0x0')];for(const _0x244a50 of _0x4bb119){if(_0x7e931['includes'](_0x244a50['id']))continue;if(this[a413_0xb543('0x33')]['channels'][a413_0xb543('0x15')]['has'](_0x1d6267[a413_0xb543('0x31')])){await this[a413_0xb543('0x33')]['channels']['cache'][a413_0xb543('0x6')](_0x1d6267[a413_0xb543('0x31')])[a413_0xb543('0x17')]({'embed':{'color':constants[a413_0xb543('0x5')][a413_0xb543('0x2c')],'author':{'name':_0x244a50[a413_0xb543('0x22')],'url':'https://twitch.tv/'+_0x244a50[a413_0xb543('0x22')]},'description':_0x244a50['title'],'fields':[{'name':'Viewers','value':_0x244a50[a413_0xb543('0xf')][a413_0xb543('0xe')](),'inline':!![]},{'name':a413_0xb543('0x2f'),'value':_0x244a50['language'][a413_0xb543('0x23')](),'inline':!![]}],'image':{'url':_0x244a50[a413_0xb543('0x1f')][a413_0xb543('0x7')]('{width}',a413_0xb543('0x27'))['replace'](a413_0xb543('0x1b'),a413_0xb543('0x18'))},'footer':{'text':a413_0xb543('0x14')},'timestamp':_0x244a50[a413_0xb543('0x29')]}})[a413_0xb543('0x30')](()=>{_0x7e931[a413_0xb543('0x3')](_0x244a50['id']);})[a413_0xb543('0xb')](()=>{});}}this['twitchSubscriptions'][a413_0xb543('0x12')](_0x559aa1,_0x7e931);};this[a413_0xb543('0x26')]=async()=>{if(!this[a413_0xb543('0x33')][a413_0xb543('0x1c')][a413_0xb543('0x15')]['size'])return;const _0x236c6f=await Guild_1[a413_0xb543('0x24')][a413_0xb543('0x2e')]({'$or':this[a413_0xb543('0x33')][a413_0xb543('0x1c')]['cache'][a413_0xb543('0x36')](_0x4f802d=>({'_id':_0x4f802d['id']})),'streamers':{'$exists':!![]}});for(const _0x5ce208 of _0x236c6f){if(_0x5ce208[a413_0xb543('0xa')][a413_0xb543('0x2b')]&&_0x5ce208[a413_0xb543('0xa')]['twitch'][a413_0xb543('0x31')]&&_0x5ce208[a413_0xb543('0xa')][a413_0xb543('0x2b')][a413_0xb543('0x1d')][a413_0xb543('0xc')]){this[a413_0xb543('0x9')](_0x5ce208[a413_0xb543('0x20')],_0x5ce208[a413_0xb543('0xa')]['twitch']);}}};this['twitchSubscriptions']=new Map();}};