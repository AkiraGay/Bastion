const a193_0x564f=['cache','users','then','channels','accessToken','{width}','@bastion/tesseract','title','send','twitchSubscriptions','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','720','guilds','../utils/constants','test','credentials','started_at','toUpperCase','client','exec','COLORS','user_name','apply','clientId','channelId','https://api.twitch.tv/helix/streams/?user_login=','json','has','join','map','Viewers','Scheduler','exports','handleTwitchStreamers','_id','language','catch','twitch','1280','toString','readyTimestamp','https://twitch.tv/','replace','viewer_count','constructor','Language','includes','return\x20/\x22\x20+\x20this\x20+\x20\x22/','set','../models/Guild','streamers','&user_login=','push','find','liveStreams','size','default','ðŸ”´\x20LIVE','data','get'];(function(_0x13f612,_0x564fa8){const _0x54f412=function(_0x571242){while(--_0x571242){_0x13f612['push'](_0x13f612['shift']());}};const _0x437e13=function(){const _0x2808df={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x448347,_0x549e7e,_0x17e1d3,_0x43b1c7){_0x43b1c7=_0x43b1c7||{};let _0x297404=_0x549e7e+'='+_0x17e1d3;let _0x4d76a2=0x0;for(let _0x16d878=0x0,_0x3b98fc=_0x448347['length'];_0x16d878<_0x3b98fc;_0x16d878++){const _0x401064=_0x448347[_0x16d878];_0x297404+=';\x20'+_0x401064;const _0x3d418c=_0x448347[_0x401064];_0x448347['push'](_0x3d418c);_0x3b98fc=_0x448347['length'];if(_0x3d418c!==!![]){_0x297404+='='+_0x3d418c;}}_0x43b1c7['cookie']=_0x297404;},'removeCookie':function(){return'dev';},'getCookie':function(_0x155783,_0x49d0f0){_0x155783=_0x155783||function(_0xf02355){return _0xf02355;};const _0x30c9ad=_0x155783(new RegExp('(?:^|;\x20)'+_0x49d0f0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x25177f=function(_0xb15ef7,_0xbd2bc){_0xb15ef7(++_0xbd2bc);};_0x25177f(_0x54f412,_0x564fa8);return _0x30c9ad?decodeURIComponent(_0x30c9ad[0x1]):undefined;}};const _0x5eba0d=function(){const _0x571cbd=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x571cbd['test'](_0x2808df['removeCookie']['toString']());};_0x2808df['updateCookie']=_0x5eba0d;let _0x193ce0='';const _0x17b0d7=_0x2808df['updateCookie']();if(!_0x17b0d7){_0x2808df['setCookie'](['*'],'counter',0x1);}else if(_0x17b0d7){_0x193ce0=_0x2808df['getCookie'](null,'counter');}else{_0x2808df['removeCookie']();}};_0x437e13();}(a193_0x564f,0xb7));const a193_0x54f4=function(_0x13f612,_0x564fa8){_0x13f612=_0x13f612-0x0;let _0x54f412=a193_0x564f[_0x13f612];return _0x54f412;};const a193_0x2808df=function(){let _0x44d68d=!![];return function(_0x1133c2,_0x365cd8){const _0x58af52=_0x44d68d?function(){if(_0x365cd8){const _0x28cf18=_0x365cd8[a193_0x54f4('0x13')](_0x1133c2,arguments);_0x365cd8=null;return _0x28cf18;}}:function(){};_0x44d68d=![];return _0x58af52;};}();const a193_0x571242=a193_0x2808df(this,function(){const _0x3878e1=function(){const _0x17a937=_0x3878e1[a193_0x54f4('0x29')](a193_0x54f4('0x2c'))()['compile'](a193_0x54f4('0x7'));return!_0x17a937[a193_0x54f4('0xb')](a193_0x571242);};return _0x3878e1();});a193_0x571242();'use strict';const tesseract_1=require(a193_0x54f4('0x3'));const node_fetch_1=require('node-fetch');const Guild_1=require(a193_0x54f4('0x2e'));const constants=require(a193_0x54f4('0xa'));module[a193_0x54f4('0x1d')]=class LiveStreams extends tesseract_1[a193_0x54f4('0x1c')]{constructor(){super(a193_0x54f4('0x33'),{'cronTime':'0\x20*/5\x20*\x20*\x20*\x20*'});this[a193_0x54f4('0x1e')]=async(_0x196390,_0x3f5557)=>{if(!this[a193_0x54f4('0xf')][a193_0x54f4('0x25')])return;if(!this[a193_0x54f4('0x6')][a193_0x54f4('0x18')](_0x196390))this['twitchSubscriptions']['set'](_0x196390,[]);const _0x29d2fb=this[a193_0x54f4('0x6')][a193_0x54f4('0x38')](_0x196390);const _0x1bf6e2=await node_fetch_1[a193_0x54f4('0x35')](a193_0x54f4('0x16')+_0x3f5557[a193_0x54f4('0x3a')][a193_0x54f4('0x19')](a193_0x54f4('0x30')),{'headers':{'Accept':'application/json','Authorization':'Bearer\x20'+this[a193_0x54f4('0xf')][a193_0x54f4('0xc')][a193_0x54f4('0x22')][a193_0x54f4('0x1')],'Client-ID':this['client']['credentials']['twitch'][a193_0x54f4('0x14')]}});const _0x17fa60=(await _0x1bf6e2[a193_0x54f4('0x17')]())[a193_0x54f4('0x37')];for(const _0x47d903 of _0x17fa60){if(_0x29d2fb[a193_0x54f4('0x2b')](_0x47d903['id']))continue;if(this['client'][a193_0x54f4('0x0')]['cache'][a193_0x54f4('0x18')](_0x3f5557['channelId'])){await this[a193_0x54f4('0xf')][a193_0x54f4('0x0')]['cache'][a193_0x54f4('0x38')](_0x3f5557['channelId'])[a193_0x54f4('0x5')]({'embed':{'color':constants[a193_0x54f4('0x11')]['TWITCH'],'author':{'name':_0x47d903[a193_0x54f4('0x12')],'url':a193_0x54f4('0x26')+_0x47d903[a193_0x54f4('0x12')]},'description':_0x47d903[a193_0x54f4('0x4')],'fields':[{'name':a193_0x54f4('0x1b'),'value':_0x47d903[a193_0x54f4('0x28')][a193_0x54f4('0x24')](),'inline':!![]},{'name':a193_0x54f4('0x2a'),'value':_0x47d903[a193_0x54f4('0x20')][a193_0x54f4('0xe')](),'inline':!![]}],'image':{'url':_0x47d903['thumbnail_url'][a193_0x54f4('0x27')](a193_0x54f4('0x2'),a193_0x54f4('0x23'))[a193_0x54f4('0x27')]('{height}',a193_0x54f4('0x8'))},'footer':{'text':a193_0x54f4('0x36')},'timestamp':_0x47d903[a193_0x54f4('0xd')]}})[a193_0x54f4('0x3b')](()=>{_0x29d2fb[a193_0x54f4('0x31')](_0x47d903['id']);})[a193_0x54f4('0x21')](()=>{});}}this['twitchSubscriptions'][a193_0x54f4('0x2d')](_0x196390,_0x29d2fb);};this[a193_0x54f4('0x10')]=async()=>{if(!this[a193_0x54f4('0xf')][a193_0x54f4('0x9')][a193_0x54f4('0x39')][a193_0x54f4('0x34')])return;const _0x3ac6c7=await Guild_1['default'][a193_0x54f4('0x32')]({'$or':this['client'][a193_0x54f4('0x9')]['cache'][a193_0x54f4('0x1a')](_0x2d4caa=>({'_id':_0x2d4caa['id']})),'streamers':{'$exists':!![]}});for(const _0x2e4a40 of _0x3ac6c7){if(_0x2e4a40[a193_0x54f4('0x2f')][a193_0x54f4('0x22')]&&_0x2e4a40[a193_0x54f4('0x2f')][a193_0x54f4('0x22')][a193_0x54f4('0x15')]&&_0x2e4a40[a193_0x54f4('0x2f')][a193_0x54f4('0x22')][a193_0x54f4('0x3a')]['length']){this[a193_0x54f4('0x1e')](_0x2e4a40[a193_0x54f4('0x1f')],_0x2e4a40[a193_0x54f4('0x2f')][a193_0x54f4('0x22')]);}}};this[a193_0x54f4('0x6')]=new Map();}};