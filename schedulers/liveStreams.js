const a206_0x42f7=['default','exports','twitch','find','https://api.twitch.tv/helix/streams/?user_login=','streamers','Language','started_at','thumbnail_url','send','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','map','json','https://twitch.tv/','toUpperCase','channels','channelId','client','user_name','cache','includes','users','TWITCH','{width}','get','0\x20*/5\x20*\x20*\x20*\x20*','apply','../utils/constants','application/json','Logger','join','exec','Viewers','handleTwitchStreamers','720','clientId','set','credentials','@bastion/tesseract','data','constructor','length','../models/Guild','COLORS','error','language','size','test','toString','has','accessToken','title','viewer_count','readyTimestamp','return\x20/\x22\x20+\x20this\x20+\x20\x22/','guilds','{height}','ðŸ”´\x20LIVE','replace','twitchSubscriptions'];(function(_0x2e0c4e,_0x42f757){const _0x3ccaa4=function(_0x4acb2c){while(--_0x4acb2c){_0x2e0c4e['push'](_0x2e0c4e['shift']());}},_0x4c4d2f=function(){const _0x8c97cd={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5f01cf,_0x6912d8,_0x17f889,_0x12c4c6){_0x12c4c6=_0x12c4c6||{};let _0x571dd5=_0x6912d8+'='+_0x17f889,_0x3f194c=0x0;for(let _0x2265ba=0x0,_0x22f686=_0x5f01cf['length'];_0x2265ba<_0x22f686;_0x2265ba++){const _0x562462=_0x5f01cf[_0x2265ba];_0x571dd5+=';\x20'+_0x562462;const _0x37daed=_0x5f01cf[_0x562462];_0x5f01cf['push'](_0x37daed),_0x22f686=_0x5f01cf['length'],_0x37daed!==!![]&&(_0x571dd5+='='+_0x37daed);}_0x12c4c6['cookie']=_0x571dd5;},'removeCookie':function(){return'dev';},'getCookie':function(_0xfae483,_0x2a10c3){_0xfae483=_0xfae483||function(_0x27f743){return _0x27f743;};const _0x502158=_0xfae483(new RegExp('(?:^|;\x20)'+_0x2a10c3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x433d24=function(_0x349346,_0x2c1589){_0x349346(++_0x2c1589);};return _0x433d24(_0x3ccaa4,_0x42f757),_0x502158?decodeURIComponent(_0x502158[0x1]):undefined;}},_0x5cc987=function(){const _0x1e45bc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e45bc['test'](_0x8c97cd['removeCookie']['toString']());};_0x8c97cd['updateCookie']=_0x5cc987;let _0x2617d6='';const _0x51cdd5=_0x8c97cd['updateCookie']();if(!_0x51cdd5)_0x8c97cd['setCookie'](['*'],'counter',0x1);else _0x51cdd5?_0x2617d6=_0x8c97cd['getCookie'](null,'counter'):_0x8c97cd['removeCookie']();};_0x4c4d2f();}(a206_0x42f7,0x125));const a206_0x3cca=function(_0x2e0c4e,_0x42f757){_0x2e0c4e=_0x2e0c4e-0x0;let _0x3ccaa4=a206_0x42f7[_0x2e0c4e];return _0x3ccaa4;};const a206_0x8c97cd=function(){let _0x2617d6=!![];return function(_0x51cdd5,_0x5f01cf){const _0x6912d8=_0x2617d6?function(){if(_0x5f01cf){const _0x17f889=_0x5f01cf[a206_0x3cca('0x21')](_0x51cdd5,arguments);return _0x5f01cf=null,_0x17f889;}}:function(){};return _0x2617d6=![],_0x6912d8;};}(),a206_0x4acb2c=a206_0x8c97cd(this,function(){const _0x12c4c6=function(){const _0x571dd5=_0x12c4c6[a206_0x3cca('0x2f')](a206_0x3cca('0x1'))()[a206_0x3cca('0x2f')](a206_0x3cca('0x11'));return!_0x571dd5[a206_0x3cca('0x36')](a206_0x4acb2c);};return _0x12c4c6();});a206_0x4acb2c();'use strict';const tesseract_1=require(a206_0x3cca('0x2d')),node_fetch_1=require('node-fetch'),Guild_1=require(a206_0x3cca('0x31')),constants=require(a206_0x3cca('0x22'));module[a206_0x3cca('0x8')]=class LiveStreams extends tesseract_1['Scheduler']{constructor(){super('liveStreams',{'cronTime':a206_0x3cca('0x20')}),this[a206_0x3cca('0x28')]=async(_0x3f194c,_0x2265ba)=>{if(!this[a206_0x3cca('0x18')][a206_0x3cca('0x0')])return;if(!this[a206_0x3cca('0x6')]['has'](_0x3f194c))this['twitchSubscriptions'][a206_0x3cca('0x2b')](_0x3f194c,[]);const _0x22f686=this[a206_0x3cca('0x6')][a206_0x3cca('0x1f')](_0x3f194c),_0x562462=await node_fetch_1[a206_0x3cca('0x7')](a206_0x3cca('0xb')+_0x2265ba[a206_0x3cca('0x1c')][a206_0x3cca('0x25')]('&user_login='),{'headers':{'Accept':a206_0x3cca('0x23'),'Authorization':'Bearer\x20'+this[a206_0x3cca('0x18')][a206_0x3cca('0x2c')][a206_0x3cca('0x9')][a206_0x3cca('0x39')],'Client-ID':this[a206_0x3cca('0x18')][a206_0x3cca('0x2c')][a206_0x3cca('0x9')][a206_0x3cca('0x2a')]}}),_0x37daed=(await _0x562462[a206_0x3cca('0x13')]())[a206_0x3cca('0x2e')];for(const _0xfae483 of _0x37daed){if(_0x22f686[a206_0x3cca('0x1b')](_0xfae483['id']))continue;this['client'][a206_0x3cca('0x16')][a206_0x3cca('0x1a')][a206_0x3cca('0x38')](_0x2265ba[a206_0x3cca('0x17')])&&await this[a206_0x3cca('0x18')][a206_0x3cca('0x16')][a206_0x3cca('0x1a')]['get'](_0x2265ba['channelId'])[a206_0x3cca('0x10')]({'embed':{'color':constants[a206_0x3cca('0x32')][a206_0x3cca('0x1d')],'author':{'name':_0xfae483[a206_0x3cca('0x19')],'url':a206_0x3cca('0x14')+_0xfae483[a206_0x3cca('0x19')]},'description':_0xfae483[a206_0x3cca('0x3a')],'fields':[{'name':a206_0x3cca('0x27'),'value':_0xfae483[a206_0x3cca('0x3b')][a206_0x3cca('0x37')](),'inline':!![]},{'name':a206_0x3cca('0xd'),'value':_0xfae483[a206_0x3cca('0x34')][a206_0x3cca('0x15')](),'inline':!![]}],'image':{'url':_0xfae483[a206_0x3cca('0xf')][a206_0x3cca('0x5')](a206_0x3cca('0x1e'),'1280')[a206_0x3cca('0x5')](a206_0x3cca('0x3'),a206_0x3cca('0x29'))},'footer':{'text':a206_0x3cca('0x4')},'timestamp':_0xfae483[a206_0x3cca('0xe')]}})['then'](()=>{_0x22f686['push'](_0xfae483['id']);})['catch'](()=>{});}this[a206_0x3cca('0x6')][a206_0x3cca('0x2b')](_0x3f194c,_0x22f686);},this[a206_0x3cca('0x26')]=async()=>{try{if(!this[a206_0x3cca('0x18')][a206_0x3cca('0x2')][a206_0x3cca('0x1a')][a206_0x3cca('0x35')])return;const _0x2a10c3=await Guild_1[a206_0x3cca('0x7')][a206_0x3cca('0xa')]({'$or':this['client']['guilds']['cache'][a206_0x3cca('0x12')](_0x502158=>({'_id':_0x502158['id']})),'streamers':{'$exists':!![]}});for(const _0x433d24 of _0x2a10c3){_0x433d24[a206_0x3cca('0xc')][a206_0x3cca('0x9')]&&_0x433d24[a206_0x3cca('0xc')][a206_0x3cca('0x9')][a206_0x3cca('0x17')]&&_0x433d24[a206_0x3cca('0xc')][a206_0x3cca('0x9')][a206_0x3cca('0x1c')][a206_0x3cca('0x30')]&&this[a206_0x3cca('0x28')](_0x433d24['_id'],_0x433d24[a206_0x3cca('0xc')][a206_0x3cca('0x9')])['catch'](_0x27f743=>tesseract_1[a206_0x3cca('0x24')][a206_0x3cca('0x33')](_0x27f743));}}catch(_0x349346){tesseract_1[a206_0x3cca('0x24')][a206_0x3cca('0x33')](_0x349346);}},this[a206_0x3cca('0x6')]=new Map();}};