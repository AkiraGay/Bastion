const a193_0x2267=['TWITCH','credentials','@bastion/tesseract','client','Language','language','twitch','liveStreams','size','get','_id','then','720','streamers','Viewers','twitchSubscriptions','includes','channelId','viewer_count','channels','{width}','return\x20/\x22\x20+\x20this\x20+\x20\x22/','users','send','title','find','catch','0\x20*/5\x20*\x20*\x20*\x20*','ðŸ”´\x20LIVE','handleTwitchStreamers','clientId','length','exports','started_at','1280','https://twitch.tv/','node-fetch','../models/Guild','accessToken','COLORS','application/json','../utils/constants','has','compile','apply','data','toUpperCase','replace','cache','{height}','https://api.twitch.tv/helix/streams/?user_login=','map'];(function(_0x44b083,_0x226721){const _0x51ba36=function(_0x38e7b2){while(--_0x38e7b2){_0x44b083['push'](_0x44b083['shift']());}};const _0x195f02=function(){const _0x2f51fe={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x20d2e0,_0x2e68a9,_0x5023d0,_0x5e93bf){_0x5e93bf=_0x5e93bf||{};let _0x9c0433=_0x2e68a9+'='+_0x5023d0;let _0x2b0175=0x0;for(let _0x43dc8f=0x0,_0x237a48=_0x20d2e0['length'];_0x43dc8f<_0x237a48;_0x43dc8f++){const _0x1e624f=_0x20d2e0[_0x43dc8f];_0x9c0433+=';\x20'+_0x1e624f;const _0x5e678b=_0x20d2e0[_0x1e624f];_0x20d2e0['push'](_0x5e678b);_0x237a48=_0x20d2e0['length'];if(_0x5e678b!==!![]){_0x9c0433+='='+_0x5e678b;}}_0x5e93bf['cookie']=_0x9c0433;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3b1739,_0x2a2ff2){_0x3b1739=_0x3b1739||function(_0x5155ea){return _0x5155ea;};const _0x413c3d=_0x3b1739(new RegExp('(?:^|;\x20)'+_0x2a2ff2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0xe9b3d9=function(_0x85f527,_0x3ca5bc){_0x85f527(++_0x3ca5bc);};_0xe9b3d9(_0x51ba36,_0x226721);return _0x413c3d?decodeURIComponent(_0x413c3d[0x1]):undefined;}};const _0x4a6e1f=function(){const _0x43606e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x43606e['test'](_0x2f51fe['removeCookie']['toString']());};_0x2f51fe['updateCookie']=_0x4a6e1f;let _0x40e981='';const _0x519c3c=_0x2f51fe['updateCookie']();if(!_0x519c3c){_0x2f51fe['setCookie'](['*'],'counter',0x1);}else if(_0x519c3c){_0x40e981=_0x2f51fe['getCookie'](null,'counter');}else{_0x2f51fe['removeCookie']();}};_0x195f02();}(a193_0x2267,0x184));const a193_0x51ba=function(_0x44b083,_0x226721){_0x44b083=_0x44b083-0x0;let _0x51ba36=a193_0x2267[_0x44b083];return _0x51ba36;};const a193_0x2f51fe=function(){let _0xeab7ed=!![];return function(_0x7d1fdc,_0x1fa1df){const _0x29e802=_0xeab7ed?function(){if(_0x1fa1df){const _0x345526=_0x1fa1df[a193_0x51ba('0x14')](_0x7d1fdc,arguments);_0x1fa1df=null;return _0x345526;}}:function(){};_0xeab7ed=![];return _0x29e802;};}();const a193_0x38e7b2=a193_0x2f51fe(this,function(){const _0x5db4b8=function(){const _0x5407a9=_0x5db4b8['constructor'](a193_0x51ba('0x31'))()[a193_0x51ba('0x13')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5407a9['test'](a193_0x38e7b2);};return _0x5db4b8();});a193_0x38e7b2();'use strict';const tesseract_1=require(a193_0x51ba('0x1e'));const node_fetch_1=require(a193_0x51ba('0xc'));const Guild_1=require(a193_0x51ba('0xd'));const constants=require(a193_0x51ba('0x11'));module[a193_0x51ba('0x8')]=class LiveStreams extends tesseract_1['Scheduler']{constructor(){super(a193_0x51ba('0x23'),{'cronTime':a193_0x51ba('0x3')});this[a193_0x51ba('0x5')]=async(_0x17ca91,_0x1f4eee)=>{if(!this[a193_0x51ba('0x1f')]['readyTimestamp'])return;if(!this[a193_0x51ba('0x2b')][a193_0x51ba('0x12')](_0x17ca91))this[a193_0x51ba('0x2b')]['set'](_0x17ca91,[]);const _0x56456c=this['twitchSubscriptions'][a193_0x51ba('0x25')](_0x17ca91);const _0x4bdf23=await node_fetch_1['default'](a193_0x51ba('0x1a')+_0x1f4eee[a193_0x51ba('0x32')]['join']('&user_login='),{'headers':{'Accept':a193_0x51ba('0x10'),'Authorization':'Bearer\x20'+this[a193_0x51ba('0x1f')]['credentials'][a193_0x51ba('0x22')][a193_0x51ba('0xe')],'Client-ID':this[a193_0x51ba('0x1f')][a193_0x51ba('0x1d')][a193_0x51ba('0x22')][a193_0x51ba('0x6')]}});const _0x13b671=(await _0x4bdf23['json']())[a193_0x51ba('0x15')];for(const _0x2bd845 of _0x13b671){if(_0x56456c[a193_0x51ba('0x2c')](_0x2bd845['id']))continue;if(this[a193_0x51ba('0x1f')][a193_0x51ba('0x2f')][a193_0x51ba('0x18')][a193_0x51ba('0x12')](_0x1f4eee[a193_0x51ba('0x2d')])){await this[a193_0x51ba('0x1f')]['channels'][a193_0x51ba('0x18')]['get'](_0x1f4eee['channelId'])[a193_0x51ba('0x33')]({'embed':{'color':constants[a193_0x51ba('0xf')][a193_0x51ba('0x1c')],'author':{'name':_0x2bd845['user_name'],'url':a193_0x51ba('0xb')+_0x2bd845['user_name']},'description':_0x2bd845[a193_0x51ba('0x0')],'fields':[{'name':a193_0x51ba('0x2a'),'value':_0x2bd845[a193_0x51ba('0x2e')]['toString'](),'inline':!![]},{'name':a193_0x51ba('0x20'),'value':_0x2bd845[a193_0x51ba('0x21')][a193_0x51ba('0x16')](),'inline':!![]}],'image':{'url':_0x2bd845['thumbnail_url'][a193_0x51ba('0x17')](a193_0x51ba('0x30'),a193_0x51ba('0xa'))[a193_0x51ba('0x17')](a193_0x51ba('0x19'),a193_0x51ba('0x28'))},'footer':{'text':a193_0x51ba('0x4')},'timestamp':_0x2bd845[a193_0x51ba('0x9')]}})[a193_0x51ba('0x27')](()=>{_0x56456c['push'](_0x2bd845['id']);})[a193_0x51ba('0x2')](()=>{});}}this[a193_0x51ba('0x2b')]['set'](_0x17ca91,_0x56456c);};this['exec']=async()=>{if(!this['client']['guilds'][a193_0x51ba('0x18')][a193_0x51ba('0x24')])return;const _0x3a6656=await Guild_1['default'][a193_0x51ba('0x1')]({'$or':this['client']['guilds'][a193_0x51ba('0x18')][a193_0x51ba('0x1b')](_0x3a2cf1=>({'_id':_0x3a2cf1['id']})),'streamers':{'$exists':!![]}});for(const _0x6b4693 of _0x3a6656){if(_0x6b4693[a193_0x51ba('0x29')][a193_0x51ba('0x22')]&&_0x6b4693[a193_0x51ba('0x29')][a193_0x51ba('0x22')][a193_0x51ba('0x2d')]&&_0x6b4693[a193_0x51ba('0x29')][a193_0x51ba('0x22')][a193_0x51ba('0x32')][a193_0x51ba('0x7')]){this[a193_0x51ba('0x5')](_0x6b4693[a193_0x51ba('0x26')],_0x6b4693[a193_0x51ba('0x29')][a193_0x51ba('0x22')]);}}};this[a193_0x51ba('0x2b')]=new Map();}};