const a223_0x42b9=['{height}','Scheduler','https://api.twitch.tv/helix/streams/?user_login=','1280','{width}','length','includes','streamers','toUpperCase','get','../models/Guild','channelId','error','_id','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','client','map','guilds','then','send','Language','replace','push','json','default','../utils/constants','has','accessToken','liveStreams','apply','handleTwitchStreamers','credentials','720','catch','@bastion/tesseract','Logger','started_at','users','cache','exports','&user_login=','set','readyTimestamp','size','https://twitch.tv/','thumbnail_url','node-fetch','title','toString','data','twitchSubscriptions','TWITCH','find','user_name','ðŸ”´\x20LIVE','exec','twitch','Viewers','COLORS','join','constructor','channels'];(function(_0x4f1f7a,_0xa3dbd2){const _0x42b952=function(_0x146bb7){while(--_0x146bb7){_0x4f1f7a['push'](_0x4f1f7a['shift']());}},_0x18c51c=function(){const _0x669d6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x222bbd,_0x56af0e,_0x30a07a,_0x61829c){_0x61829c=_0x61829c||{};let _0x4865ff=_0x56af0e+'='+_0x30a07a,_0x1026ae=0x0;for(let _0x2ff1bb=0x0,_0x5cf625=_0x222bbd['length'];_0x2ff1bb<_0x5cf625;_0x2ff1bb++){const _0x7daffd=_0x222bbd[_0x2ff1bb];_0x4865ff+=';\x20'+_0x7daffd;const _0x2d4ac0=_0x222bbd[_0x7daffd];_0x222bbd['push'](_0x2d4ac0),_0x5cf625=_0x222bbd['length'],_0x2d4ac0!==!![]&&(_0x4865ff+='='+_0x2d4ac0);}_0x61829c['cookie']=_0x4865ff;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4e707a,_0x17eb62){_0x4e707a=_0x4e707a||function(_0x515554){return _0x515554;};const _0x5767b8=_0x4e707a(new RegExp('(?:^|;\x20)'+_0x17eb62['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1b6a5a=function(_0x5561cd,_0x3651b2){_0x5561cd(++_0x3651b2);};return _0x1b6a5a(_0x42b952,_0xa3dbd2),_0x5767b8?decodeURIComponent(_0x5767b8[0x1]):undefined;}},_0x4667ae=function(){const _0x213349=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x213349['test'](_0x669d6['removeCookie']['toString']());};_0x669d6['updateCookie']=_0x4667ae;let _0x359008='';const _0x87440a=_0x669d6['updateCookie']();if(!_0x87440a)_0x669d6['setCookie'](['*'],'counter',0x1);else _0x87440a?_0x359008=_0x669d6['getCookie'](null,'counter'):_0x669d6['removeCookie']();};_0x18c51c();}(a223_0x42b9,0xe9));const a223_0x18c5=function(_0x4f1f7a,_0xa3dbd2){_0x4f1f7a=_0x4f1f7a-0x196;let _0x42b952=a223_0x42b9[_0x4f1f7a];return _0x42b952;};const _0x4ca014=a223_0x18c5,a223_0x4667ae=function(){let _0x87440a=!![];return function(_0x222bbd,_0x56af0e){const _0x30a07a=_0x87440a?function(){const _0x17ed9f=a223_0x18c5;if(_0x56af0e){const _0x61829c=_0x56af0e[_0x17ed9f(0x1c2)](_0x222bbd,arguments);return _0x56af0e=null,_0x61829c;}}:function(){};return _0x87440a=![],_0x30a07a;};}(),a223_0x669d6=a223_0x4667ae(this,function(){const _0x4865ff=function(){const _0x2baca1=a223_0x18c5,_0x1026ae=_0x4865ff[_0x2baca1(0x1a3)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x2baca1(0x1b3));return!_0x1026ae['test'](a223_0x669d6);};return _0x4865ff();});a223_0x669d6();'use strict';const tesseract_1=require(_0x4ca014(0x1c7)),node_fetch_1=require(_0x4ca014(0x1d3)),Guild_1=require(_0x4ca014(0x1af)),constants=require(_0x4ca014(0x1be));module[_0x4ca014(0x1cc)]=class LiveStreams extends tesseract_1[_0x4ca014(0x1a6)]{constructor(){const _0x3ea9a8=_0x4ca014;super(_0x3ea9a8(0x1c1),{'cronTime':'0\x20*/5\x20*\x20*\x20*\x20*'}),this[_0x3ea9a8(0x1c3)]=async(_0x2ff1bb,_0x5cf625)=>{const _0xdf7daf=_0x3ea9a8;if(!this[_0xdf7daf(0x1b4)][_0xdf7daf(0x1cf)])return;if(!this[_0xdf7daf(0x199)][_0xdf7daf(0x1bf)](_0x2ff1bb))this[_0xdf7daf(0x199)]['set'](_0x2ff1bb,[]);const _0x7daffd=this[_0xdf7daf(0x199)][_0xdf7daf(0x1ae)](_0x2ff1bb),_0x2d4ac0=await node_fetch_1[_0xdf7daf(0x1bd)](_0xdf7daf(0x1a7)+_0x5cf625[_0xdf7daf(0x1ca)][_0xdf7daf(0x1a2)](_0xdf7daf(0x1cd)),{'headers':{'Accept':'application/json','Authorization':'Bearer\x20'+this[_0xdf7daf(0x1b4)][_0xdf7daf(0x1c4)][_0xdf7daf(0x19f)][_0xdf7daf(0x1c0)],'Client-ID':this[_0xdf7daf(0x1b4)][_0xdf7daf(0x1c4)][_0xdf7daf(0x19f)]['clientId']}}),_0x4e707a=(await _0x2d4ac0[_0xdf7daf(0x1bc)]())[_0xdf7daf(0x198)];for(const _0x17eb62 of _0x4e707a){if(_0x7daffd[_0xdf7daf(0x1ab)](_0x17eb62['id']))continue;this[_0xdf7daf(0x1b4)][_0xdf7daf(0x1a4)][_0xdf7daf(0x1cb)]['has'](_0x5cf625[_0xdf7daf(0x1b0)])&&await this[_0xdf7daf(0x1b4)][_0xdf7daf(0x1a4)][_0xdf7daf(0x1cb)][_0xdf7daf(0x1ae)](_0x5cf625[_0xdf7daf(0x1b0)])[_0xdf7daf(0x1b8)]({'embed':{'color':constants[_0xdf7daf(0x1a1)][_0xdf7daf(0x19a)],'author':{'name':_0x17eb62[_0xdf7daf(0x19c)],'url':_0xdf7daf(0x1d1)+_0x17eb62[_0xdf7daf(0x19c)]},'description':_0x17eb62[_0xdf7daf(0x196)],'fields':[{'name':_0xdf7daf(0x1a0),'value':_0x17eb62['viewer_count'][_0xdf7daf(0x197)](),'inline':!![]},{'name':_0xdf7daf(0x1b9),'value':_0x17eb62['language'][_0xdf7daf(0x1ad)](),'inline':!![]}],'image':{'url':_0x17eb62[_0xdf7daf(0x1d2)][_0xdf7daf(0x1ba)](_0xdf7daf(0x1a9),_0xdf7daf(0x1a8))['replace'](_0xdf7daf(0x1a5),_0xdf7daf(0x1c5))},'footer':{'text':_0xdf7daf(0x19d)},'timestamp':_0x17eb62[_0xdf7daf(0x1c9)]}})[_0xdf7daf(0x1b7)](()=>{const _0x5c8b12=_0xdf7daf;_0x7daffd[_0x5c8b12(0x1bb)](_0x17eb62['id']);})[_0xdf7daf(0x1c6)](()=>{});}this[_0xdf7daf(0x199)][_0xdf7daf(0x1ce)](_0x2ff1bb,_0x7daffd);},this[_0x3ea9a8(0x19e)]=async()=>{const _0x475a4a=_0x3ea9a8;try{if(!this[_0x475a4a(0x1b4)]['guilds']['cache'][_0x475a4a(0x1d0)])return;const _0x5767b8=await Guild_1[_0x475a4a(0x1bd)][_0x475a4a(0x19b)]({'$or':this[_0x475a4a(0x1b4)][_0x475a4a(0x1b6)][_0x475a4a(0x1cb)][_0x475a4a(0x1b5)](_0x1b6a5a=>({'_id':_0x1b6a5a['id']})),'streamers':{'$exists':!![]}});for(const _0x515554 of _0x5767b8){_0x515554[_0x475a4a(0x1ac)][_0x475a4a(0x19f)]&&_0x515554['streamers']['twitch'][_0x475a4a(0x1b0)]&&_0x515554[_0x475a4a(0x1ac)]['twitch'][_0x475a4a(0x1ca)][_0x475a4a(0x1aa)]&&this[_0x475a4a(0x1c3)](_0x515554[_0x475a4a(0x1b2)],_0x515554[_0x475a4a(0x1ac)][_0x475a4a(0x19f)])[_0x475a4a(0x1c6)](_0x5561cd=>tesseract_1[_0x475a4a(0x1c8)][_0x475a4a(0x1b1)](_0x5561cd));}}catch(_0x3651b2){tesseract_1[_0x475a4a(0x1c8)][_0x475a4a(0x1b1)](_0x3651b2);}},this[_0x3ea9a8(0x199)]=new Map();}};