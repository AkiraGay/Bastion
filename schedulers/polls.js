const a634_0x41f2=['POLL\x20ENDED','cache','channels','has','push','@bastion/tesseract','readyTimestamp','then','../models/Poll','edit','Scheduler','return\x20/\x22\x20+\x20this\x20+\x20\x22/','size','users','default','length','reactions','value','Constants','polls','slice','0\x20*/15\x20*\x20*\x20*\x20*','catch','\x20/\x20','Ended','toFixed','guilds','deleteMany','find','fetch','guild','\x20votes\x20(','messages','fields','embeds','get','test','filter','client','title','name','COLORS','map'];(function(_0x2286fa,_0x41f237){const _0xef75f4=function(_0x563994){while(--_0x563994){_0x2286fa['push'](_0x2286fa['shift']());}};const _0x4a3d78=function(){const _0x22c443={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x208d54,_0x576947,_0x4e3214,_0x5cbab6){_0x5cbab6=_0x5cbab6||{};let _0x367af3=_0x576947+'='+_0x4e3214;let _0x36830c=0x0;for(let _0x4dc109=0x0,_0x43aeb9=_0x208d54['length'];_0x4dc109<_0x43aeb9;_0x4dc109++){const _0x7965a7=_0x208d54[_0x4dc109];_0x367af3+=';\x20'+_0x7965a7;const _0x37a84d=_0x208d54[_0x7965a7];_0x208d54['push'](_0x37a84d);_0x43aeb9=_0x208d54['length'];if(_0x37a84d!==!![]){_0x367af3+='='+_0x37a84d;}}_0x5cbab6['cookie']=_0x367af3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x59f56f,_0x1de020){_0x59f56f=_0x59f56f||function(_0x2a78f2){return _0x2a78f2;};const _0x2bf6d9=_0x59f56f(new RegExp('(?:^|;\x20)'+_0x1de020['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x108f33=function(_0x2c3393,_0x31b43b){_0x2c3393(++_0x31b43b);};_0x108f33(_0xef75f4,_0x41f237);return _0x2bf6d9?decodeURIComponent(_0x2bf6d9[0x1]):undefined;}};const _0x1c5733=function(){const _0x23079e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x23079e['test'](_0x22c443['removeCookie']['toString']());};_0x22c443['updateCookie']=_0x1c5733;let _0x5ee078='';const _0x56e064=_0x22c443['updateCookie']();if(!_0x56e064){_0x22c443['setCookie'](['*'],'counter',0x1);}else if(_0x56e064){_0x5ee078=_0x22c443['getCookie'](null,'counter');}else{_0x22c443['removeCookie']();}};_0x4a3d78();}(a634_0x41f2,0xf5));const a634_0xef75=function(_0x2286fa,_0x41f237){_0x2286fa=_0x2286fa-0x0;let _0xef75f4=a634_0x41f2[_0x2286fa];return _0xef75f4;};const a634_0x22c443=function(){let _0xbd7e19=!![];return function(_0x815a53,_0x17e84d){const _0x5b4a82=_0xbd7e19?function(){if(_0x17e84d){const _0x272d8d=_0x17e84d['apply'](_0x815a53,arguments);_0x17e84d=null;return _0x272d8d;}}:function(){};_0xbd7e19=![];return _0x5b4a82;};}();const a634_0x563994=a634_0x22c443(this,function(){const _0x2576b7=function(){const _0x1084f2=_0x2576b7['constructor'](a634_0xef75('0x18'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1084f2[a634_0xef75('0x6')](a634_0x563994);};return _0x2576b7();});a634_0x563994();'use strict';const tesseract_1=require(a634_0xef75('0x12'));const Poll_1=require(a634_0xef75('0x15'));module['exports']=class PollScheduler extends tesseract_1[a634_0xef75('0x17')]{constructor(){super(a634_0xef75('0x20'),{'cronTime':a634_0xef75('0x22')});this['exec']=async()=>{if(!this[a634_0xef75('0x8')][a634_0xef75('0x13')])return;if(!this[a634_0xef75('0x8')][a634_0xef75('0x27')][a634_0xef75('0xe')][a634_0xef75('0x19')])return;const _0x440b39=await Poll_1[a634_0xef75('0x1b')][a634_0xef75('0x29')]({'$or':this[a634_0xef75('0x8')]['guilds']['cache'][a634_0xef75('0xc')](_0x4d0606=>({'guild':_0x4d0606['id']})),'ends':{'$lte':new Date()}});const _0x2eafcd=[];for(const _0x164daa of _0x440b39){const _0x5053d9=this[a634_0xef75('0x8')][a634_0xef75('0x27')]['cache'][a634_0xef75('0x5')](_0x164daa[a634_0xef75('0x0')]);if(_0x5053d9['channels']['cache']['has'](_0x164daa['channel'])){const _0x31fa21=_0x5053d9[a634_0xef75('0xf')]['cache'][a634_0xef75('0x5')](_0x164daa['channel']);const _0x167bad=await _0x31fa21[a634_0xef75('0x2')]['fetch'](_0x164daa['_id'])['catch'](()=>{});if(!_0x167bad)continue;const _0x251ef2=_0x167bad[a634_0xef75('0x4')][0x0][a634_0xef75('0x3')]['map'](_0x2db650=>_0x2db650[a634_0xef75('0x1e')]);const _0x3e40d3=['ðŸ‡¦','ðŸ‡§','ðŸ‡¨','ðŸ‡©','ðŸ‡ª','ðŸ‡«','ðŸ‡¬','ðŸ‡­','ðŸ‡®','ðŸ‡¯','ðŸ‡°','ðŸ‡±','ðŸ‡²'];const _0x47cdfb={};let _0x53d703=0x0;for(const _0x208201 in _0x3e40d3[a634_0xef75('0x21')](0x0,_0x251ef2['length'])){if(_0x167bad[a634_0xef75('0x1d')][a634_0xef75('0xe')][a634_0xef75('0x10')](_0x3e40d3[_0x208201])){await _0x167bad[a634_0xef75('0x1d')][a634_0xef75('0xe')][a634_0xef75('0x5')](_0x3e40d3[_0x208201])[a634_0xef75('0x1a')][a634_0xef75('0x2a')]()['catch'](()=>{});const _0x25d42a=_0x167bad[a634_0xef75('0x1d')]['cache'][a634_0xef75('0x5')](_0x3e40d3[_0x208201])[a634_0xef75('0x1a')][a634_0xef75('0xe')][a634_0xef75('0x7')](_0x5803b2=>!_0x5803b2['bot'])[a634_0xef75('0x19')];_0x47cdfb[_0x3e40d3[_0x208201]]=_0x25d42a;_0x53d703+=_0x25d42a;}}await _0x167bad[a634_0xef75('0x16')]({'embed':{'color':tesseract_1[a634_0xef75('0x1f')][a634_0xef75('0xb')]['SOMEWHAT_DARK'],'author':{'name':a634_0xef75('0xd')},'title':_0x167bad[a634_0xef75('0x4')][0x0][a634_0xef75('0x9')],'fields':_0x167bad[a634_0xef75('0x4')][0x0]['fields'][a634_0xef75('0xc')](_0x4f00ff=>({'name':_0x4f00ff[a634_0xef75('0xa')]+'\x20'+_0x4f00ff['value'],'value':(_0x47cdfb[_0x4f00ff[a634_0xef75('0xa')]]||0x0)+a634_0xef75('0x24')+_0x53d703+a634_0xef75('0x1')+(_0x47cdfb[_0x4f00ff['name']]?_0x47cdfb[_0x4f00ff[a634_0xef75('0xa')]]/_0x53d703*0x64:0x0)[a634_0xef75('0x26')](0x2)+'%)'})),'footer':{'text':a634_0xef75('0x25')},'timestamp':new Date()}})[a634_0xef75('0x14')](()=>{_0x2eafcd[a634_0xef75('0x11')](_0x167bad['id']);})['catch'](()=>{});}}if(_0x2eafcd[a634_0xef75('0x1c')]){await Poll_1[a634_0xef75('0x1b')][a634_0xef75('0x28')]({'$or':_0x2eafcd['map'](_0x2796e9=>({'_id':_0x2796e9}))})[a634_0xef75('0x23')](()=>{});}};}};