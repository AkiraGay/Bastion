const a207_0x5804=['test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','@bastion/tesseract','isPublicBastion','Constants','create','guild','MUTE_MEMBERS','findById','error','channel','name','\x27s\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Requested\x20by\x20','filter','user','catch','LISTENER_MODE','setChannel','channelID','voice','MOVE_MEMBERS','newSessionChannelPrefix','CREATE_INSTANT_INVITE','parent','delete','premiumTier','parentID','type','toLowerCase','member','endsWith','Members\x20Left','voiceSessions','../models/Guild','replace','CONNECT','exec','VIEW_CHANNEL','constructor','client','includes','fetchPremiumTier','startsWith','apply','size','categories','tag','default'];(function(_0x27ca53,_0x31cf7){const _0x580462=function(_0xa81ba4){while(--_0xa81ba4){_0x27ca53['push'](_0x27ca53['shift']());}},_0x1e3d7f=function(){const _0x48a91b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2ecde7,_0x79afd3,_0x12074a,_0xa1702f){_0xa1702f=_0xa1702f||{};let _0x3c01ca=_0x79afd3+'='+_0x12074a,_0x5083ad=0x0;for(let _0xbed7bb=0x0,_0x377246=_0x2ecde7['length'];_0xbed7bb<_0x377246;_0xbed7bb++){const _0x588838=_0x2ecde7[_0xbed7bb];_0x3c01ca+=';\x20'+_0x588838;const _0x56ec96=_0x2ecde7[_0x588838];_0x2ecde7['push'](_0x56ec96),_0x377246=_0x2ecde7['length'],_0x56ec96!==!![]&&(_0x3c01ca+='='+_0x56ec96);}_0xa1702f['cookie']=_0x3c01ca;},'removeCookie':function(){return'dev';},'getCookie':function(_0x45a1d3,_0x44ee2c){_0x45a1d3=_0x45a1d3||function(_0x190c2e){return _0x190c2e;};const _0x1d4265=_0x45a1d3(new RegExp('(?:^|;\x20)'+_0x44ee2c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x95a795=function(_0x548ff6,_0x152fd7){_0x548ff6(++_0x152fd7);};return _0x95a795(_0x580462,_0x31cf7),_0x1d4265?decodeURIComponent(_0x1d4265[0x1]):undefined;}},_0x377401=function(){const _0x338c8a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x338c8a['test'](_0x48a91b['removeCookie']['toString']());};_0x48a91b['updateCookie']=_0x377401;let _0x28329e='';const _0x289e4d=_0x48a91b['updateCookie']();if(!_0x289e4d)_0x48a91b['setCookie'](['*'],'counter',0x1);else _0x289e4d?_0x28329e=_0x48a91b['getCookie'](null,'counter'):_0x48a91b['removeCookie']();};_0x1e3d7f();}(a207_0x5804,0x18e));const a207_0x1e3d=function(_0x27ca53,_0x31cf7){_0x27ca53=_0x27ca53-0x130;let _0x580462=a207_0x5804[_0x27ca53];return _0x580462;};const a207_0x18383d=a207_0x1e3d,a207_0x377401=function(){let _0x289e4d=!![];return function(_0x2ecde7,_0x79afd3){const _0x12074a=_0x289e4d?function(){const _0x2ec6df=a207_0x1e3d;if(_0x79afd3){const _0xa1702f=_0x79afd3[_0x2ec6df(0x15f)](_0x2ecde7,arguments);return _0x79afd3=null,_0xa1702f;}}:function(){};return _0x289e4d=![],_0x12074a;};}(),a207_0x48a91b=a207_0x377401(this,function(){const _0x3c01ca=function(){const _0x25b6c3=a207_0x1e3d,_0x5083ad=_0x3c01ca['constructor'](_0x25b6c3(0x13f))()[_0x25b6c3(0x15a)](_0x25b6c3(0x133));return!_0x5083ad[_0x25b6c3(0x132)](a207_0x48a91b);};return _0x3c01ca();});a207_0x48a91b();'use strict';const tesseract_1=require(a207_0x18383d(0x134)),Guild_1=require(a207_0x18383d(0x155)),constants=require('../utils/constants'),omnic=require('../utils/omnic');module['exports']=class VoiceStateUpdateListener extends tesseract_1['Listener']{constructor(){const _0x26c6db=a207_0x18383d;super('voiceStateUpdate',{'mode':tesseract_1[_0x26c6db(0x136)][_0x26c6db(0x144)]['ON']}),this[_0x26c6db(0x158)]=async(_0xbed7bb,_0x377246)=>{const _0x3791d7=_0x26c6db;if(_0x377246[_0x3791d7(0x146)]===_0xbed7bb[_0x3791d7(0x146)])return;if(!(_0xbed7bb[_0x3791d7(0x13c)]&&_0xbed7bb[_0x3791d7(0x13c)][_0x3791d7(0x14b)])&&!(_0x377246[_0x3791d7(0x13c)]&&_0x377246[_0x3791d7(0x13c)]['parent']))return;const _0x588838=await Guild_1[_0x3791d7(0x131)][_0x3791d7(0x13a)](_0xbed7bb['guild']?_0xbed7bb['guild']['id']:_0x377246[_0x3791d7(0x138)]['id']);if(!_0x588838[_0x3791d7(0x154)]||!_0x588838['voiceSessions'][_0x3791d7(0x161)])return;if(constants[_0x3791d7(0x135)](this[_0x3791d7(0x15b)][_0x3791d7(0x142)])){const _0x56ec96=await omnic[_0x3791d7(0x15d)](_0xbed7bb[_0x3791d7(0x138)]||_0x377246[_0x3791d7(0x138)])[_0x3791d7(0x143)](()=>{});if(!_0x56ec96)return;}_0xbed7bb[_0x3791d7(0x13c)]&&_0xbed7bb[_0x3791d7(0x13c)][_0x3791d7(0x14b)]&&_0x588838[_0x3791d7(0x154)][_0x3791d7(0x161)][_0x3791d7(0x15c)](_0xbed7bb['channel'][_0x3791d7(0x14e)])&&!_0xbed7bb['channel'][_0x3791d7(0x13d)][_0x3791d7(0x15e)](this[_0x3791d7(0x149)])&&_0xbed7bb[_0x3791d7(0x13c)]['members'][_0x3791d7(0x160)]===0x0&&_0xbed7bb[_0x3791d7(0x13c)]['deletable']&&_0xbed7bb['channel'][_0x3791d7(0x14c)](_0x3791d7(0x153));if(_0x377246[_0x3791d7(0x13c)]&&_0x377246['channel'][_0x3791d7(0x14b)]&&_0x588838[_0x3791d7(0x154)]['categories']['includes'](_0x377246['channel'][_0x3791d7(0x14e)])){if(_0x377246[_0x3791d7(0x13c)][_0x3791d7(0x13d)][_0x3791d7(0x15e)](this[_0x3791d7(0x149)])){const _0x45a1d3=_0x377246['member']['displayName']+(_0x377246[_0x3791d7(0x151)]['displayName'][_0x3791d7(0x150)]()[_0x3791d7(0x152)]('s')?'\x27\x20':_0x3791d7(0x13e))+_0x377246[_0x3791d7(0x13c)][_0x3791d7(0x13d)][_0x3791d7(0x156)](this['newSessionChannelPrefix'],'')['trim'](),_0x44ee2c=await _0x377246[_0x3791d7(0x13c)][_0x3791d7(0x138)]['channels'][_0x3791d7(0x137)](_0x45a1d3+'\x20#'+(_0x377246[_0x3791d7(0x13c)][_0x3791d7(0x14b)]['children'][_0x3791d7(0x141)](_0x1d4265=>_0x1d4265[_0x3791d7(0x14f)]===_0x3791d7(0x147)&&_0x1d4265[_0x3791d7(0x13d)][_0x3791d7(0x15e)](_0x45a1d3+'\x20#'))['size']+0x1),{'type':_0x3791d7(0x147),'bitrate':_0x377246[_0x3791d7(0x13c)][_0x3791d7(0x138)][_0x3791d7(0x14d)]?_0x377246[_0x3791d7(0x13c)][_0x3791d7(0x138)][_0x3791d7(0x14d)]*0x1f400:0x17700,'parent':_0x377246['channel'][_0x3791d7(0x14b)],'permissionOverwrites':[{'id':_0x377246[_0x3791d7(0x151)]['id'],'allow':[_0x3791d7(0x157),_0x3791d7(0x14a),_0x3791d7(0x148),_0x3791d7(0x139)]},{'id':_0x377246[_0x3791d7(0x151)][_0x3791d7(0x138)]['id'],'allow':['SPEAK',_0x3791d7(0x159)],'deny':['CONNECT',_0x3791d7(0x14a)]}],'reason':_0x3791d7(0x140)+(_0x377246[_0x3791d7(0x151)][_0x3791d7(0x142)]?_0x377246[_0x3791d7(0x151)][_0x3791d7(0x142)][_0x3791d7(0x130)]:_0x377246['member']['id'])});await _0x377246[_0x3791d7(0x151)][_0x3791d7(0x147)][_0x3791d7(0x145)](_0x44ee2c)['catch'](console[_0x3791d7(0x13b)]);}}},this['newSessionChannelPrefix']='âž•\x20New';}};