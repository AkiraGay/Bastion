const a178_0x181a=['trim','apply','filter','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','type','children','Listener','setChannel','return\x20/\x22\x20+\x20this\x20+\x20\x22/','@bastion/tesseract','exports','voice','client','user','parent','guild','name','voiceStateUpdate','includes','Requested\x20by\x20','fetchPremiumTier','create','channel','âž•\x20New','constructor','../models/Guild','../utils/constants','../utils/omnic','test','members','findById','member','error','categories','LISTENER_MODE','newSessionChannelPrefix','size','compile','isPublicBastion','voiceSessions','catch','default','premiumTier','tag','startsWith','exec','channelID'];(function(_0x3872ed,_0x181a24){const _0x5d8343=function(_0x37e1c1){while(--_0x37e1c1){_0x3872ed['push'](_0x3872ed['shift']());}};const _0x30cbc4=function(){const _0x168102={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3854fc,_0x3a60e8,_0x12bff3,_0x3ae43a){_0x3ae43a=_0x3ae43a||{};let _0x3a588d=_0x3a60e8+'='+_0x12bff3;let _0x43e771=0x0;for(let _0x188996=0x0,_0x2f2623=_0x3854fc['length'];_0x188996<_0x2f2623;_0x188996++){const _0x1d7de4=_0x3854fc[_0x188996];_0x3a588d+=';\x20'+_0x1d7de4;const _0x119fb9=_0x3854fc[_0x1d7de4];_0x3854fc['push'](_0x119fb9);_0x2f2623=_0x3854fc['length'];if(_0x119fb9!==!![]){_0x3a588d+='='+_0x119fb9;}}_0x3ae43a['cookie']=_0x3a588d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x334404,_0x5aeb09){_0x334404=_0x334404||function(_0x453730){return _0x453730;};const _0x35a06c=_0x334404(new RegExp('(?:^|;\x20)'+_0x5aeb09['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3ffac0=function(_0x4c55b8,_0x57020f){_0x4c55b8(++_0x57020f);};_0x3ffac0(_0x5d8343,_0x181a24);return _0x35a06c?decodeURIComponent(_0x35a06c[0x1]):undefined;}};const _0x36b6c4=function(){const _0x3d3981=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3d3981['test'](_0x168102['removeCookie']['toString']());};_0x168102['updateCookie']=_0x36b6c4;let _0xcdb5a='';const _0x3b2629=_0x168102['updateCookie']();if(!_0x3b2629){_0x168102['setCookie'](['*'],'counter',0x1);}else if(_0x3b2629){_0xcdb5a=_0x168102['getCookie'](null,'counter');}else{_0x168102['removeCookie']();}};_0x30cbc4();}(a178_0x181a,0x151));const a178_0x5d83=function(_0x3872ed,_0x181a24){_0x3872ed=_0x3872ed-0x0;let _0x5d8343=a178_0x181a[_0x3872ed];return _0x5d8343;};const a178_0x168102=function(){let _0x254f2a=!![];return function(_0x18d8b2,_0x518590){const _0x4db272=_0x254f2a?function(){if(_0x518590){const _0x1429c0=_0x518590[a178_0x5d83('0x28')](_0x18d8b2,arguments);_0x518590=null;return _0x1429c0;}}:function(){};_0x254f2a=![];return _0x4db272;};}();const a178_0x37e1c1=a178_0x168102(this,function(){const _0x3ced54=function(){const _0x5b9090=_0x3ced54[a178_0x5d83('0x10')](a178_0x5d83('0x0'))()[a178_0x5d83('0x1d')](a178_0x5d83('0x2a'));return!_0x5b9090[a178_0x5d83('0x14')](a178_0x37e1c1);};return _0x3ced54();});a178_0x37e1c1();'use strict';const tesseract_1=require(a178_0x5d83('0x1'));const Guild_1=require(a178_0x5d83('0x11'));const constants=require(a178_0x5d83('0x12'));const omnic=require(a178_0x5d83('0x13'));module[a178_0x5d83('0x2')]=class VoiceStateUpdateListener extends tesseract_1[a178_0x5d83('0x2d')]{constructor(){super(a178_0x5d83('0x9'),{'mode':tesseract_1['Constants'][a178_0x5d83('0x1a')]['ON']});this[a178_0x5d83('0x25')]=async(_0x3dbcf0,_0x556de4)=>{if(_0x556de4[a178_0x5d83('0x26')]===_0x3dbcf0['channelID'])return;if(!(_0x3dbcf0['channel']&&_0x3dbcf0[a178_0x5d83('0xe')][a178_0x5d83('0x6')])&&!(_0x556de4['channel']&&_0x556de4[a178_0x5d83('0xe')][a178_0x5d83('0x6')]))return;const _0x176b19=await Guild_1[a178_0x5d83('0x21')][a178_0x5d83('0x16')](_0x3dbcf0[a178_0x5d83('0x7')]?_0x3dbcf0['guild']['id']:_0x556de4['guild']['id']);if(!_0x176b19[a178_0x5d83('0x1f')]||!_0x176b19[a178_0x5d83('0x1f')]['categories'])return;if(constants[a178_0x5d83('0x1e')](this[a178_0x5d83('0x4')][a178_0x5d83('0x5')])){const _0x44db42=await omnic[a178_0x5d83('0xc')](_0x3dbcf0[a178_0x5d83('0x7')]||_0x556de4[a178_0x5d83('0x7')])[a178_0x5d83('0x20')](()=>{});if(!_0x44db42)return;}if(_0x3dbcf0[a178_0x5d83('0xe')]&&_0x3dbcf0['channel']['parent']&&_0x176b19[a178_0x5d83('0x1f')][a178_0x5d83('0x19')]['includes'](_0x3dbcf0[a178_0x5d83('0xe')]['parentID'])&&!_0x3dbcf0[a178_0x5d83('0xe')][a178_0x5d83('0x8')][a178_0x5d83('0x24')](this[a178_0x5d83('0x1b')])&&_0x3dbcf0[a178_0x5d83('0xe')][a178_0x5d83('0x15')][a178_0x5d83('0x1c')]===0x0&&_0x3dbcf0[a178_0x5d83('0xe')]['deletable']){_0x3dbcf0[a178_0x5d83('0xe')]['delete']('Members\x20Left');}if(_0x556de4[a178_0x5d83('0xe')]&&_0x556de4[a178_0x5d83('0xe')][a178_0x5d83('0x6')]&&_0x176b19['voiceSessions'][a178_0x5d83('0x19')][a178_0x5d83('0xa')](_0x556de4[a178_0x5d83('0xe')]['parentID'])){if(_0x556de4[a178_0x5d83('0xe')][a178_0x5d83('0x8')][a178_0x5d83('0x24')](this[a178_0x5d83('0x1b')])){const _0x2b2099=_0x556de4['channel']['name']['replace'](this[a178_0x5d83('0x1b')],'')[a178_0x5d83('0x27')]();const _0x4d1e8f=await _0x556de4['channel'][a178_0x5d83('0x7')]['channels'][a178_0x5d83('0xd')](_0x2b2099+'\x20#'+(_0x556de4[a178_0x5d83('0xe')]['parent'][a178_0x5d83('0x2c')][a178_0x5d83('0x29')](_0x61a1eb=>_0x61a1eb[a178_0x5d83('0x2b')]===a178_0x5d83('0x3')&&_0x61a1eb[a178_0x5d83('0x8')][a178_0x5d83('0x24')](_0x2b2099+'\x20#'))[a178_0x5d83('0x1c')]+0x1),{'type':'voice','bitrate':_0x556de4['channel'][a178_0x5d83('0x7')][a178_0x5d83('0x22')]?_0x556de4[a178_0x5d83('0xe')][a178_0x5d83('0x7')]['premiumTier']*0x1f400:0x17700,'parent':_0x556de4[a178_0x5d83('0xe')][a178_0x5d83('0x6')],'reason':a178_0x5d83('0xb')+(_0x556de4['member'][a178_0x5d83('0x5')]?_0x556de4[a178_0x5d83('0x17')]['user'][a178_0x5d83('0x23')]:_0x556de4[a178_0x5d83('0x17')]['id'])});await _0x556de4[a178_0x5d83('0x17')][a178_0x5d83('0x3')][a178_0x5d83('0x2e')](_0x4d1e8f)['catch'](console[a178_0x5d83('0x18')]);}}};this[a178_0x5d83('0x1b')]=a178_0x5d83('0xf');}};