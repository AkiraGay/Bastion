const a208_0x1d7e=['apply','SPEAK','delete','user','../models/Guild','displayName','isPublicBastion','âž•\x20New','622YdEqoc','trim','Constants','categories','10754BPGFOu','voiceSessions','guild','includes','test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Requested\x20by\x20','LISTENER_MODE','2jFXqeh','deletable','startsWith','voice','channels','findById','478882KrKIED','channelID','client','toLowerCase','@bastion/tesseract','channel','1707922tgtqYH','MUTE_MEMBERS','children','setChannel','name','Members\x20Left','3gkjbYt','endsWith','exports','CREATE_INSTANT_INVITE','parent','MOVE_MEMBERS','members','124298luvJfO','1794226EpxuRx','CONNECT','1voypUl','newSessionChannelPrefix','voiceStateUpdate','Listener','12zlquaJ','1143XAojDQ','560806aumecZ','parentID','tag','premiumTier','catch','filter','member','replace','size','VIEW_CHANNEL','type'];const a208_0x1799=function(_0x5df075,_0x59e4f6){_0x5df075=_0x5df075-0x188;let _0x3489ec=a208_0x1d7e[_0x5df075];return _0x3489ec;};const a208_0x4ca369=a208_0x1799;(function(_0x3753b4,_0x1161c5){const _0x5c1dc3=a208_0x1799;while(!![]){try{const _0x33cfc8=parseInt(_0x5c1dc3(0x19d))*-parseInt(_0x5c1dc3(0x1a4))+parseInt(_0x5c1dc3(0x18b))*parseInt(_0x5c1dc3(0x1ad))+parseInt(_0x5c1dc3(0x1a5))+parseInt(_0x5c1dc3(0x1ab))*-parseInt(_0x5c1dc3(0x1c4))+-parseInt(_0x5c1dc3(0x1a7))*parseInt(_0x5c1dc3(0x191))+parseInt(_0x5c1dc3(0x1ac))*parseInt(_0x5c1dc3(0x1c0))+-parseInt(_0x5c1dc3(0x197));if(_0x33cfc8===_0x1161c5)break;else _0x3753b4['push'](_0x3753b4['shift']());}catch(_0x4d8154){_0x3753b4['push'](_0x3753b4['shift']());}}}(a208_0x1d7e,0xe5036));const a208_0x1c6e9a=function(){let _0x27593f=!![];return function(_0x3f9c9d,_0x59fb06){const _0x5b872d=_0x27593f?function(){const _0x2d1364=a208_0x1799;if(_0x59fb06){const _0xe3a314=_0x59fb06[_0x2d1364(0x1b8)](_0x3f9c9d,arguments);return _0x59fb06=null,_0xe3a314;}}:function(){};return _0x27593f=![],_0x5b872d;};}(),a208_0x45279a=a208_0x1c6e9a(this,function(){const _0x55194c=function(){const _0x233497=a208_0x1799,_0x119eb9=_0x55194c['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x233497(0x188));return!_0x119eb9[_0x233497(0x1c8)](a208_0x45279a);};return _0x55194c();});a208_0x45279a();'use strict';const tesseract_1=require(a208_0x4ca369(0x195)),Guild_1=require(a208_0x4ca369(0x1bc)),constants=require('../utils/constants'),omnic=require('../utils/omnic');module[a208_0x4ca369(0x19f)]=class VoiceStateUpdateListener extends tesseract_1[a208_0x4ca369(0x1aa)]{constructor(){const _0x4ff6e8=a208_0x4ca369;super(_0x4ff6e8(0x1a9),{'mode':tesseract_1[_0x4ff6e8(0x1c2)][_0x4ff6e8(0x18a)]['ON']}),this['exec']=async(_0x1f9f01,_0x430a08)=>{const _0xb0f46=_0x4ff6e8;if(_0x430a08[_0xb0f46(0x192)]===_0x1f9f01[_0xb0f46(0x192)])return;if(!(_0x1f9f01[_0xb0f46(0x196)]&&_0x1f9f01[_0xb0f46(0x196)][_0xb0f46(0x1a1)])&&!(_0x430a08[_0xb0f46(0x196)]&&_0x430a08['channel'][_0xb0f46(0x1a1)]))return;const _0x1f120f=await Guild_1['default'][_0xb0f46(0x190)](_0x1f9f01['guild']?_0x1f9f01[_0xb0f46(0x1c6)]['id']:_0x430a08[_0xb0f46(0x1c6)]['id']);if(!_0x1f120f[_0xb0f46(0x1c5)]||!_0x1f120f['voiceSessions'][_0xb0f46(0x1c3)])return;if(constants[_0xb0f46(0x1be)](this[_0xb0f46(0x193)][_0xb0f46(0x1bb)])){const _0x6c5d11=await omnic['fetchPremiumTier'](_0x1f9f01[_0xb0f46(0x1c6)]||_0x430a08[_0xb0f46(0x1c6)])[_0xb0f46(0x1b1)](()=>{});if(!_0x6c5d11)return;}_0x1f9f01[_0xb0f46(0x196)]&&_0x1f9f01[_0xb0f46(0x196)]['parent']&&_0x1f120f['voiceSessions'][_0xb0f46(0x1c3)][_0xb0f46(0x1c7)](_0x1f9f01[_0xb0f46(0x196)][_0xb0f46(0x1ae)])&&!_0x1f9f01['channel'][_0xb0f46(0x19b)]['startsWith'](this['newSessionChannelPrefix'])&&_0x1f9f01[_0xb0f46(0x196)][_0xb0f46(0x1a3)]['size']===0x0&&_0x1f9f01[_0xb0f46(0x196)][_0xb0f46(0x18c)]&&_0x1f9f01['channel'][_0xb0f46(0x1ba)](_0xb0f46(0x19c));if(_0x430a08['channel']&&_0x430a08[_0xb0f46(0x196)][_0xb0f46(0x1a1)]&&_0x1f120f[_0xb0f46(0x1c5)]['categories'][_0xb0f46(0x1c7)](_0x430a08['channel'][_0xb0f46(0x1ae)])){if(_0x430a08['channel'][_0xb0f46(0x19b)][_0xb0f46(0x18d)](this[_0xb0f46(0x1a8)])){const _0x3cca3d=_0x430a08[_0xb0f46(0x1b3)][_0xb0f46(0x1bd)]+(_0x430a08[_0xb0f46(0x1b3)][_0xb0f46(0x1bd)][_0xb0f46(0x194)]()[_0xb0f46(0x19e)]('s')?'\x27\x20':'\x27s\x20')+_0x430a08[_0xb0f46(0x196)][_0xb0f46(0x19b)][_0xb0f46(0x1b4)](this['newSessionChannelPrefix'],'')[_0xb0f46(0x1c1)](),_0x344274=await _0x430a08[_0xb0f46(0x196)]['guild'][_0xb0f46(0x18f)]['create'](_0x3cca3d+'\x20#'+(_0x430a08['channel'][_0xb0f46(0x1a1)][_0xb0f46(0x199)][_0xb0f46(0x1b2)](_0x95e696=>_0x95e696[_0xb0f46(0x1b7)]==='voice'&&_0x95e696[_0xb0f46(0x19b)]['startsWith'](_0x3cca3d+'\x20#'))[_0xb0f46(0x1b5)]+0x1),{'type':_0xb0f46(0x18e),'bitrate':_0x430a08['channel'][_0xb0f46(0x1c6)][_0xb0f46(0x1b0)]?_0x430a08[_0xb0f46(0x196)][_0xb0f46(0x1c6)][_0xb0f46(0x1b0)]*0x1f400:0x17700,'parent':_0x430a08['channel'][_0xb0f46(0x1a1)],'permissionOverwrites':[{'id':_0x430a08[_0xb0f46(0x1b3)]['id'],'allow':[_0xb0f46(0x1a6),_0xb0f46(0x1a0),_0xb0f46(0x1a2),_0xb0f46(0x198)]},{'id':_0x430a08[_0xb0f46(0x1b3)]['guild']['id'],'allow':[_0xb0f46(0x1b9),_0xb0f46(0x1b6)],'deny':['CONNECT','CREATE_INSTANT_INVITE']}],'reason':_0xb0f46(0x189)+(_0x430a08[_0xb0f46(0x1b3)][_0xb0f46(0x1bb)]?_0x430a08[_0xb0f46(0x1b3)]['user'][_0xb0f46(0x1af)]:_0x430a08[_0xb0f46(0x1b3)]['id'])});await _0x430a08[_0xb0f46(0x1b3)][_0xb0f46(0x18e)][_0xb0f46(0x19a)](_0x344274)[_0xb0f46(0x1b1)](console['error']);}}},this[_0x4ff6e8(0x1a8)]=_0x4ff6e8(0x1bf);}};