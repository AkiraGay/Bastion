const a178_0x36ae=['catch','LISTENER_MODE','tag','default','voiceSessions','Constants','Requested\x20by\x20','trim','constructor','parent','member','exec','size','client','isPublicBastion','deletable','categories','user','includes','parentID','startsWith','apply','return\x20/\x22\x20+\x20this\x20+\x20\x22/','create','name','voice','replace','filter','voiceStateUpdate','error','guild','channelID','findById','fetchPremiumTier','../utils/constants','../utils/omnic','../models/Guild','members','channel','newSessionChannelPrefix','@bastion/tesseract','test','channels','Members\x20Left','premiumTier'];(function(_0x2b7a7b,_0x36aee5){const _0x363f86=function(_0x39b839){while(--_0x39b839){_0x2b7a7b['push'](_0x2b7a7b['shift']());}};const _0x21887c=function(){const _0x49e5b8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x31b4a2,_0x4abf9e,_0x4fc80e,_0x2e7eeb){_0x2e7eeb=_0x2e7eeb||{};let _0x2bc1c6=_0x4abf9e+'='+_0x4fc80e;let _0xba7c5=0x0;for(let _0x174414=0x0,_0x146272=_0x31b4a2['length'];_0x174414<_0x146272;_0x174414++){const _0x55c6cb=_0x31b4a2[_0x174414];_0x2bc1c6+=';\x20'+_0x55c6cb;const _0x527f7e=_0x31b4a2[_0x55c6cb];_0x31b4a2['push'](_0x527f7e);_0x146272=_0x31b4a2['length'];if(_0x527f7e!==!![]){_0x2bc1c6+='='+_0x527f7e;}}_0x2e7eeb['cookie']=_0x2bc1c6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x444bfb,_0x279c2a){_0x444bfb=_0x444bfb||function(_0x247022){return _0x247022;};const _0x4610be=_0x444bfb(new RegExp('(?:^|;\x20)'+_0x279c2a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x32bce7=function(_0x58c60d,_0x91124){_0x58c60d(++_0x91124);};_0x32bce7(_0x363f86,_0x36aee5);return _0x4610be?decodeURIComponent(_0x4610be[0x1]):undefined;}};const _0x7b050b=function(){const _0x33c2b0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x33c2b0['test'](_0x49e5b8['removeCookie']['toString']());};_0x49e5b8['updateCookie']=_0x7b050b;let _0x4124b7='';const _0x5680a5=_0x49e5b8['updateCookie']();if(!_0x5680a5){_0x49e5b8['setCookie'](['*'],'counter',0x1);}else if(_0x5680a5){_0x4124b7=_0x49e5b8['getCookie'](null,'counter');}else{_0x49e5b8['removeCookie']();}};_0x21887c();}(a178_0x36ae,0x11a));const a178_0x363f=function(_0x2b7a7b,_0x36aee5){_0x2b7a7b=_0x2b7a7b-0x0;let _0x363f86=a178_0x36ae[_0x2b7a7b];return _0x363f86;};const a178_0x49e5b8=function(){let _0x1af99c=!![];return function(_0x29a07f,_0x5c6b2c){const _0x33b2d7=_0x1af99c?function(){if(_0x5c6b2c){const _0x12794c=_0x5c6b2c[a178_0x363f('0x9')](_0x29a07f,arguments);_0x5c6b2c=null;return _0x12794c;}}:function(){};_0x1af99c=![];return _0x33b2d7;};}();const a178_0x39b839=a178_0x49e5b8(this,function(){const _0x5aa6cb=function(){const _0x2bfe4a=_0x5aa6cb[a178_0x363f('0x29')](a178_0x363f('0xa'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2bfe4a[a178_0x363f('0x1d')](a178_0x39b839);};return _0x5aa6cb();});a178_0x39b839();'use strict';const tesseract_1=require(a178_0x363f('0x1c'));const Guild_1=require(a178_0x363f('0x18'));const constants=require(a178_0x363f('0x16'));const omnic=require(a178_0x363f('0x17'));module['exports']=class VoiceStateUpdateListener extends tesseract_1['Listener']{constructor(){super(a178_0x363f('0x10'),{'mode':tesseract_1[a178_0x363f('0x26')][a178_0x363f('0x22')]['ON']});this[a178_0x363f('0x2c')]=async(_0x19d070,_0x41fcd8)=>{if(_0x41fcd8[a178_0x363f('0x13')]===_0x19d070['channelID'])return;if(!(_0x19d070[a178_0x363f('0x1a')]&&_0x19d070[a178_0x363f('0x1a')][a178_0x363f('0x2a')])&&!(_0x41fcd8[a178_0x363f('0x1a')]&&_0x41fcd8[a178_0x363f('0x1a')]['parent']))return;const _0x2cbb9a=await Guild_1[a178_0x363f('0x24')][a178_0x363f('0x14')](_0x19d070[a178_0x363f('0x12')]?_0x19d070[a178_0x363f('0x12')]['id']:_0x41fcd8['guild']['id']);if(!_0x2cbb9a[a178_0x363f('0x25')]||!_0x2cbb9a[a178_0x363f('0x25')][a178_0x363f('0x4')])return;if(constants[a178_0x363f('0x2')](this[a178_0x363f('0x1')][a178_0x363f('0x5')])){const _0x131a83=await omnic[a178_0x363f('0x15')](_0x19d070[a178_0x363f('0x12')]||_0x41fcd8[a178_0x363f('0x12')])[a178_0x363f('0x21')](()=>{});if(!_0x131a83)return;}if(_0x19d070[a178_0x363f('0x1a')]&&_0x19d070[a178_0x363f('0x1a')][a178_0x363f('0x2a')]&&_0x2cbb9a['voiceSessions'][a178_0x363f('0x4')][a178_0x363f('0x6')](_0x19d070['channel']['parentID'])&&!_0x19d070[a178_0x363f('0x1a')][a178_0x363f('0xc')][a178_0x363f('0x8')](this['newSessionChannelPrefix'])&&_0x19d070[a178_0x363f('0x1a')][a178_0x363f('0x19')][a178_0x363f('0x0')]===0x0&&_0x19d070[a178_0x363f('0x1a')][a178_0x363f('0x3')]){_0x19d070[a178_0x363f('0x1a')]['delete'](a178_0x363f('0x1f'));}if(_0x41fcd8[a178_0x363f('0x1a')]&&_0x41fcd8[a178_0x363f('0x1a')][a178_0x363f('0x2a')]&&_0x2cbb9a['voiceSessions'][a178_0x363f('0x4')][a178_0x363f('0x6')](_0x41fcd8[a178_0x363f('0x1a')][a178_0x363f('0x7')])){if(_0x41fcd8['channel'][a178_0x363f('0xc')][a178_0x363f('0x8')](this['newSessionChannelPrefix'])){const _0x35a89f=_0x41fcd8['channel'][a178_0x363f('0xc')][a178_0x363f('0xe')](this[a178_0x363f('0x1b')],'')[a178_0x363f('0x28')]();const _0x28fa59=await _0x41fcd8[a178_0x363f('0x1a')][a178_0x363f('0x12')][a178_0x363f('0x1e')][a178_0x363f('0xb')](_0x35a89f+'\x20#'+(_0x41fcd8['channel'][a178_0x363f('0x2a')]['children'][a178_0x363f('0xf')](_0x2d53f2=>_0x2d53f2['type']==='voice'&&_0x2d53f2[a178_0x363f('0xc')]['startsWith'](_0x35a89f+'\x20#'))[a178_0x363f('0x0')]+0x1),{'type':a178_0x363f('0xd'),'bitrate':_0x41fcd8[a178_0x363f('0x1a')][a178_0x363f('0x12')]['premiumTier']?_0x41fcd8['channel'][a178_0x363f('0x12')][a178_0x363f('0x20')]*0x1f400:0x17700,'parent':_0x41fcd8['channel'][a178_0x363f('0x2a')],'reason':a178_0x363f('0x27')+(_0x41fcd8[a178_0x363f('0x2b')][a178_0x363f('0x5')]?_0x41fcd8[a178_0x363f('0x2b')]['user'][a178_0x363f('0x23')]:_0x41fcd8[a178_0x363f('0x2b')]['id'])});await _0x41fcd8['member'][a178_0x363f('0xd')]['setChannel'](_0x28fa59)['catch'](console[a178_0x363f('0x11')]);}}};this['newSessionChannelPrefix']='âž•\x20New';}};