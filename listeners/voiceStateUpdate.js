const a177_0x5b90=['children','create','catch','voice','tag','user','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/Guild','compile','exports','parent','../utils/constants','../utils/omnic','default','guild','name','members','@bastion/tesseract','Members\x20Left','client','test','replace','apply','startsWith','size','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','deletable','premiumTier','voiceSessions','Constants','channelID','âž•\x20New','channels','newSessionChannelPrefix','error','type','Listener','member','filter','includes','channel','categories','parentID'];(function(_0x3ed59a,_0x5b9054){const _0x3f7bfa=function(_0x171274){while(--_0x171274){_0x3ed59a['push'](_0x3ed59a['shift']());}};const _0xa67ceb=function(){const _0x2a4c10={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x272fa0,_0x216cb5,_0x257321,_0x2772a2){_0x2772a2=_0x2772a2||{};let _0x42c841=_0x216cb5+'='+_0x257321;let _0x446ea8=0x0;for(let _0x2de865=0x0,_0x124309=_0x272fa0['length'];_0x2de865<_0x124309;_0x2de865++){const _0x30a775=_0x272fa0[_0x2de865];_0x42c841+=';\x20'+_0x30a775;const _0x250cb0=_0x272fa0[_0x30a775];_0x272fa0['push'](_0x250cb0);_0x124309=_0x272fa0['length'];if(_0x250cb0!==!![]){_0x42c841+='='+_0x250cb0;}}_0x2772a2['cookie']=_0x42c841;},'removeCookie':function(){return'dev';},'getCookie':function(_0x536b40,_0x16da36){_0x536b40=_0x536b40||function(_0x1cd798){return _0x1cd798;};const _0x50eac0=_0x536b40(new RegExp('(?:^|;\x20)'+_0x16da36['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5e4ba4=function(_0x292f63,_0x58dd7a){_0x292f63(++_0x58dd7a);};_0x5e4ba4(_0x3f7bfa,_0x5b9054);return _0x50eac0?decodeURIComponent(_0x50eac0[0x1]):undefined;}};const _0x1a51b8=function(){const _0x127a2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x127a2['test'](_0x2a4c10['removeCookie']['toString']());};_0x2a4c10['updateCookie']=_0x1a51b8;let _0x461a0c='';const _0x59cf13=_0x2a4c10['updateCookie']();if(!_0x59cf13){_0x2a4c10['setCookie'](['*'],'counter',0x1);}else if(_0x59cf13){_0x461a0c=_0x2a4c10['getCookie'](null,'counter');}else{_0x2a4c10['removeCookie']();}};_0xa67ceb();}(a177_0x5b90,0x16c));const a177_0x3f7b=function(_0x3ed59a,_0x5b9054){_0x3ed59a=_0x3ed59a-0x0;let _0x3f7bfa=a177_0x5b90[_0x3ed59a];return _0x3f7bfa;};const a177_0x2a4c10=function(){let _0x48dd45=!![];return function(_0x21743c,_0x195eda){const _0x3d3cfc=_0x48dd45?function(){if(_0x195eda){const _0x367b9b=_0x195eda[a177_0x3f7b('0x2')](_0x21743c,arguments);_0x195eda=null;return _0x367b9b;}}:function(){};_0x48dd45=![];return _0x3d3cfc;};}();const a177_0x171274=a177_0x2a4c10(this,function(){const _0x192398=function(){const _0x4c4200=_0x192398['constructor'](a177_0x3f7b('0x1d'))()[a177_0x3f7b('0x1f')](a177_0x3f7b('0x5'));return!_0x4c4200[a177_0x3f7b('0x0')](a177_0x171274);};return _0x192398();});a177_0x171274();'use strict';const tesseract_1=require(a177_0x3f7b('0x28'));const Guild_1=require(a177_0x3f7b('0x1e'));const constants=require(a177_0x3f7b('0x22'));const omnic=require(a177_0x3f7b('0x23'));module[a177_0x3f7b('0x20')]=class VoiceStateUpdateListener extends tesseract_1[a177_0x3f7b('0x10')]{constructor(){super('voiceStateUpdate',{'mode':tesseract_1[a177_0x3f7b('0x9')]['LISTENER_MODE']['ON']});this['exec']=async(_0x333431,_0x4fe062)=>{if(_0x4fe062[a177_0x3f7b('0xa')]===_0x333431[a177_0x3f7b('0xa')])return;if(!(_0x333431['channel']&&_0x333431[a177_0x3f7b('0x14')][a177_0x3f7b('0x21')])&&!(_0x4fe062[a177_0x3f7b('0x14')]&&_0x4fe062[a177_0x3f7b('0x14')][a177_0x3f7b('0x21')]))return;const _0xa73d99=await Guild_1[a177_0x3f7b('0x24')]['findById'](_0x333431['guild']?_0x333431[a177_0x3f7b('0x25')]['id']:_0x4fe062[a177_0x3f7b('0x25')]['id']);if(!_0xa73d99[a177_0x3f7b('0x8')]||!_0xa73d99[a177_0x3f7b('0x8')][a177_0x3f7b('0x15')])return;if(constants['isPublicBastion'](this[a177_0x3f7b('0x2a')]['user'])){const _0x186965=await omnic['fetchPremiumTier'](_0x333431[a177_0x3f7b('0x25')]||_0x4fe062['guild'])[a177_0x3f7b('0x19')](()=>{});if(!_0x186965)return;}if(_0x333431[a177_0x3f7b('0x14')]&&_0x333431[a177_0x3f7b('0x14')]['parent']&&_0xa73d99[a177_0x3f7b('0x8')][a177_0x3f7b('0x15')]['includes'](_0x333431[a177_0x3f7b('0x14')][a177_0x3f7b('0x16')])&&!_0x333431['channel'][a177_0x3f7b('0x26')][a177_0x3f7b('0x3')](this[a177_0x3f7b('0xd')])&&_0x333431[a177_0x3f7b('0x14')][a177_0x3f7b('0x27')][a177_0x3f7b('0x4')]===0x0&&_0x333431[a177_0x3f7b('0x14')][a177_0x3f7b('0x6')]){_0x333431[a177_0x3f7b('0x14')]['delete'](a177_0x3f7b('0x29'));}if(_0x4fe062['channel']&&_0x4fe062['channel'][a177_0x3f7b('0x21')]&&_0xa73d99[a177_0x3f7b('0x8')]['categories'][a177_0x3f7b('0x13')](_0x4fe062['channel'][a177_0x3f7b('0x16')])){if(_0x4fe062[a177_0x3f7b('0x14')]['name'][a177_0x3f7b('0x3')](this[a177_0x3f7b('0xd')])){const _0x2f3c3f=_0x4fe062[a177_0x3f7b('0x14')][a177_0x3f7b('0x26')][a177_0x3f7b('0x1')](this[a177_0x3f7b('0xd')],'')['trim']();const _0x1a3574=await _0x4fe062[a177_0x3f7b('0x14')][a177_0x3f7b('0x25')][a177_0x3f7b('0xc')][a177_0x3f7b('0x18')](_0x2f3c3f+'\x20#'+(_0x4fe062[a177_0x3f7b('0x14')][a177_0x3f7b('0x21')][a177_0x3f7b('0x17')][a177_0x3f7b('0x12')](_0x2b226e=>_0x2b226e[a177_0x3f7b('0xf')]==='voice'&&_0x2b226e[a177_0x3f7b('0x26')][a177_0x3f7b('0x3')](_0x2f3c3f+'\x20#'))[a177_0x3f7b('0x4')]+0x1),{'type':a177_0x3f7b('0x1a'),'bitrate':_0x4fe062[a177_0x3f7b('0x14')][a177_0x3f7b('0x25')][a177_0x3f7b('0x7')]?_0x4fe062['channel'][a177_0x3f7b('0x25')][a177_0x3f7b('0x7')]*0x1f400:0x17700,'parent':_0x4fe062['channel']['parent'],'reason':'Requested\x20by\x20'+(_0x4fe062['member'][a177_0x3f7b('0x1c')]?_0x4fe062['member'][a177_0x3f7b('0x1c')][a177_0x3f7b('0x1b')]:_0x4fe062['member']['id'])});await _0x4fe062[a177_0x3f7b('0x11')][a177_0x3f7b('0x1a')]['setChannel'](_0x1a3574)['catch'](console[a177_0x3f7b('0xe')]);}}};this[a177_0x3f7b('0xd')]=a177_0x3f7b('0xb');}};