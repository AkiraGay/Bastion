const a617_0x73e6=['replace','Listener','trim','user','newSessionChannelPrefix','voice','../utils/omnic','âž•\x20New','includes','channel','voiceStateUpdate','type','delete','name','constructor','../utils/constants','compile','startsWith','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','create','default','Constants','size','parentID','Members\x20Left','client','apply','isPublicBastion','voiceSessions','return\x20/\x22\x20+\x20this\x20+\x20\x22/','deletable','setChannel','guild','Requested\x20by\x20','member','LISTENER_MODE','categories','error','findById','parent','channelID','channels'];(function(_0x399ceb,_0x73e67e){const _0x940f73=function(_0x554d1e){while(--_0x554d1e){_0x399ceb['push'](_0x399ceb['shift']());}};const _0x10e22f=function(){const _0x414438={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xd1056e,_0x38973b,_0x12a7b9,_0x58fbfb){_0x58fbfb=_0x58fbfb||{};let _0x5aa925=_0x38973b+'='+_0x12a7b9;let _0x4ae5bf=0x0;for(let _0x3a0324=0x0,_0x36d30a=_0xd1056e['length'];_0x3a0324<_0x36d30a;_0x3a0324++){const _0x4fc513=_0xd1056e[_0x3a0324];_0x5aa925+=';\x20'+_0x4fc513;const _0x465312=_0xd1056e[_0x4fc513];_0xd1056e['push'](_0x465312);_0x36d30a=_0xd1056e['length'];if(_0x465312!==!![]){_0x5aa925+='='+_0x465312;}}_0x58fbfb['cookie']=_0x5aa925;},'removeCookie':function(){return'dev';},'getCookie':function(_0x425ff1,_0x1754f1){_0x425ff1=_0x425ff1||function(_0x531927){return _0x531927;};const _0xd7b740=_0x425ff1(new RegExp('(?:^|;\x20)'+_0x1754f1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4e8dcc=function(_0x46f3fb,_0x5b1e36){_0x46f3fb(++_0x5b1e36);};_0x4e8dcc(_0x940f73,_0x73e67e);return _0xd7b740?decodeURIComponent(_0xd7b740[0x1]):undefined;}};const _0x23ff20=function(){const _0x40224f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x40224f['test'](_0x414438['removeCookie']['toString']());};_0x414438['updateCookie']=_0x23ff20;let _0x4345d4='';const _0x23432a=_0x414438['updateCookie']();if(!_0x23432a){_0x414438['setCookie'](['*'],'counter',0x1);}else if(_0x23432a){_0x4345d4=_0x414438['getCookie'](null,'counter');}else{_0x414438['removeCookie']();}};_0x10e22f();}(a617_0x73e6,0x156));const a617_0x940f=function(_0x399ceb,_0x73e67e){_0x399ceb=_0x399ceb-0x0;let _0x940f73=a617_0x73e6[_0x399ceb];return _0x940f73;};const a617_0x414438=function(){let _0x3385cc=!![];return function(_0x4d700e,_0x1f9654){const _0x54add0=_0x3385cc?function(){if(_0x1f9654){const _0x33c695=_0x1f9654[a617_0x940f('0x14')](_0x4d700e,arguments);_0x1f9654=null;return _0x33c695;}}:function(){};_0x3385cc=![];return _0x54add0;};}();const a617_0x554d1e=a617_0x414438(this,function(){const _0x3e88f1=function(){const _0x332d01=_0x3e88f1[a617_0x940f('0x8')](a617_0x940f('0x17'))()[a617_0x940f('0xa')](a617_0x940f('0xc'));return!_0x332d01['test'](a617_0x554d1e);};return _0x3e88f1();});a617_0x554d1e();'use strict';const tesseract_1=require('@bastion/tesseract');const Guild_1=require('../models/Guild');const constants=require(a617_0x940f('0x9'));const omnic=require(a617_0x940f('0x0'));module['exports']=class VoiceStateUpdateListener extends tesseract_1[a617_0x940f('0x25')]{constructor(){super(a617_0x940f('0x4'),{'mode':tesseract_1[a617_0x940f('0xf')][a617_0x940f('0x1d')]['ON']});this['exec']=async(_0x3dada4,_0x347e9e)=>{if(_0x347e9e['channelID']===_0x3dada4[a617_0x940f('0x22')])return;if(!(_0x3dada4['channel']&&_0x3dada4[a617_0x940f('0x3')][a617_0x940f('0x21')])&&!(_0x347e9e[a617_0x940f('0x3')]&&_0x347e9e[a617_0x940f('0x3')][a617_0x940f('0x21')]))return;const _0x36e6ac=await Guild_1[a617_0x940f('0xe')][a617_0x940f('0x20')](_0x3dada4[a617_0x940f('0x1a')]?_0x3dada4[a617_0x940f('0x1a')]['id']:_0x347e9e[a617_0x940f('0x1a')]['id']);if(!_0x36e6ac['voiceSessions']||!_0x36e6ac[a617_0x940f('0x16')][a617_0x940f('0x1e')])return;if(constants[a617_0x940f('0x15')](this[a617_0x940f('0x13')][a617_0x940f('0x27')])){const _0x2ed94f=await omnic['fetchPremiumTier'](_0x3dada4[a617_0x940f('0x1a')]||_0x347e9e[a617_0x940f('0x1a')])['catch'](()=>{});if(!_0x2ed94f)return;}if(_0x3dada4[a617_0x940f('0x3')]&&_0x3dada4[a617_0x940f('0x3')][a617_0x940f('0x21')]&&_0x36e6ac[a617_0x940f('0x16')][a617_0x940f('0x1e')][a617_0x940f('0x2')](_0x3dada4[a617_0x940f('0x3')][a617_0x940f('0x11')])&&!_0x3dada4[a617_0x940f('0x3')][a617_0x940f('0x7')]['startsWith'](this['newSessionChannelPrefix'])&&_0x3dada4[a617_0x940f('0x3')]['members'][a617_0x940f('0x10')]===0x0&&_0x3dada4[a617_0x940f('0x3')][a617_0x940f('0x18')]){_0x3dada4[a617_0x940f('0x3')][a617_0x940f('0x6')](a617_0x940f('0x12'));}if(_0x347e9e['channel']&&_0x347e9e[a617_0x940f('0x3')][a617_0x940f('0x21')]&&_0x36e6ac[a617_0x940f('0x16')][a617_0x940f('0x1e')][a617_0x940f('0x2')](_0x347e9e['channel'][a617_0x940f('0x11')])){if(_0x347e9e[a617_0x940f('0x3')]['name'][a617_0x940f('0xb')](this['newSessionChannelPrefix'])){const _0x36cebc=_0x347e9e[a617_0x940f('0x3')][a617_0x940f('0x7')][a617_0x940f('0x24')](this[a617_0x940f('0x28')],'')[a617_0x940f('0x26')]();const _0x34fab1=await _0x347e9e[a617_0x940f('0x3')][a617_0x940f('0x1a')][a617_0x940f('0x23')][a617_0x940f('0xd')](_0x36cebc+'\x20#'+(_0x347e9e[a617_0x940f('0x3')][a617_0x940f('0x21')]['children']['filter'](_0x4256da=>_0x4256da[a617_0x940f('0x5')]===a617_0x940f('0x29')&&_0x4256da[a617_0x940f('0x7')][a617_0x940f('0xb')](_0x36cebc+'\x20#'))[a617_0x940f('0x10')]+0x1),{'type':a617_0x940f('0x29'),'bitrate':_0x347e9e[a617_0x940f('0x3')][a617_0x940f('0x1a')]['premiumTier']?_0x347e9e['channel'][a617_0x940f('0x1a')]['premiumTier']*0x1f400:0x17700,'parent':_0x347e9e[a617_0x940f('0x3')]['parent'],'reason':a617_0x940f('0x1b')+(_0x347e9e['member'][a617_0x940f('0x27')]?_0x347e9e[a617_0x940f('0x1c')][a617_0x940f('0x27')]['tag']:_0x347e9e[a617_0x940f('0x1c')]['id'])});await _0x347e9e['member']['voice'][a617_0x940f('0x19')](_0x34fab1)['catch'](console[a617_0x940f('0x1f')]);}}};this[a617_0x940f('0x28')]=a617_0x940f('0x1');}};