const a177_0x3fa0=['delete','members','parentID','guild','size','isPublicBastion','children','Constants','user','../utils/constants','trim','voice','voiceSessions','newSessionChannelPrefix','categories','compile','tag','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','replace','Requested\x20by\x20','channelID','@bastion/tesseract','findById','test','create','parent','voiceStateUpdate','member','startsWith','LISTENER_MODE','channel','apply','name','âž•\x20New','exports','../models/Guild','error','premiumTier','catch','exec','deletable','return\x20/\x22\x20+\x20this\x20+\x20\x22/','type','fetchPremiumTier','filter','default','includes','Members\x20Left','channels'];(function(_0x1a97c4,_0x3fa066){const _0x474cf1=function(_0x4e5d02){while(--_0x4e5d02){_0x1a97c4['push'](_0x1a97c4['shift']());}};const _0x2cb8f8=function(){const _0x198436={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2187d4,_0x3fac13,_0x333d88,_0x37355d){_0x37355d=_0x37355d||{};let _0x2f6b8c=_0x3fac13+'='+_0x333d88;let _0x2f05f6=0x0;for(let _0x77b307=0x0,_0x4b171c=_0x2187d4['length'];_0x77b307<_0x4b171c;_0x77b307++){const _0xcee27b=_0x2187d4[_0x77b307];_0x2f6b8c+=';\x20'+_0xcee27b;const _0x4dd135=_0x2187d4[_0xcee27b];_0x2187d4['push'](_0x4dd135);_0x4b171c=_0x2187d4['length'];if(_0x4dd135!==!![]){_0x2f6b8c+='='+_0x4dd135;}}_0x37355d['cookie']=_0x2f6b8c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x14cd27,_0x1b4061){_0x14cd27=_0x14cd27||function(_0x34622e){return _0x34622e;};const _0x25a49e=_0x14cd27(new RegExp('(?:^|;\x20)'+_0x1b4061['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x404041=function(_0x207976,_0x1d9114){_0x207976(++_0x1d9114);};_0x404041(_0x474cf1,_0x3fa066);return _0x25a49e?decodeURIComponent(_0x25a49e[0x1]):undefined;}};const _0x585712=function(){const _0x392544=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x392544['test'](_0x198436['removeCookie']['toString']());};_0x198436['updateCookie']=_0x585712;let _0x41591e='';const _0x4ae16b=_0x198436['updateCookie']();if(!_0x4ae16b){_0x198436['setCookie'](['*'],'counter',0x1);}else if(_0x4ae16b){_0x41591e=_0x198436['getCookie'](null,'counter');}else{_0x198436['removeCookie']();}};_0x2cb8f8();}(a177_0x3fa0,0xd3));const a177_0x474c=function(_0x1a97c4,_0x3fa066){_0x1a97c4=_0x1a97c4-0x0;let _0x474cf1=a177_0x3fa0[_0x1a97c4];return _0x474cf1;};const a177_0x198436=function(){let _0x28bcb5=!![];return function(_0x20b7cd,_0x2c872e){const _0x3007d0=_0x28bcb5?function(){if(_0x2c872e){const _0x312f5e=_0x2c872e[a177_0x474c('0x10')](_0x20b7cd,arguments);_0x2c872e=null;return _0x312f5e;}}:function(){};_0x28bcb5=![];return _0x3007d0;};}();const a177_0x4e5d02=a177_0x198436(this,function(){const _0x294f90=function(){const _0x2b032f=_0x294f90['constructor'](a177_0x474c('0x1a'))()[a177_0x474c('0x0')](a177_0x474c('0x2'));return!_0x2b032f[a177_0x474c('0x8')](a177_0x4e5d02);};return _0x294f90();});a177_0x4e5d02();'use strict';const tesseract_1=require(a177_0x474c('0x6'));const Guild_1=require(a177_0x474c('0x14'));const constants=require(a177_0x474c('0x2b'));const omnic=require('../utils/omnic');module[a177_0x474c('0x13')]=class VoiceStateUpdateListener extends tesseract_1['Listener']{constructor(){super(a177_0x474c('0xb'),{'mode':tesseract_1[a177_0x474c('0x29')][a177_0x474c('0xe')]['ON']});this[a177_0x474c('0x18')]=async(_0x2ecdf2,_0x24be4d)=>{if(_0x24be4d[a177_0x474c('0x5')]===_0x2ecdf2[a177_0x474c('0x5')])return;if(!(_0x2ecdf2[a177_0x474c('0xf')]&&_0x2ecdf2[a177_0x474c('0xf')]['parent'])&&!(_0x24be4d[a177_0x474c('0xf')]&&_0x24be4d['channel'][a177_0x474c('0xa')]))return;const _0x337252=await Guild_1[a177_0x474c('0x1e')][a177_0x474c('0x7')](_0x2ecdf2[a177_0x474c('0x25')]?_0x2ecdf2['guild']['id']:_0x24be4d['guild']['id']);if(!_0x337252['voiceSessions']||!_0x337252['voiceSessions'][a177_0x474c('0x30')])return;if(constants[a177_0x474c('0x27')](this['client'][a177_0x474c('0x2a')])){const _0x2abfb1=await omnic[a177_0x474c('0x1c')](_0x2ecdf2['guild']||_0x24be4d['guild'])[a177_0x474c('0x17')](()=>{});if(!_0x2abfb1)return;}if(_0x2ecdf2[a177_0x474c('0xf')]&&_0x2ecdf2[a177_0x474c('0xf')][a177_0x474c('0xa')]&&_0x337252[a177_0x474c('0x2e')][a177_0x474c('0x30')][a177_0x474c('0x1f')](_0x2ecdf2[a177_0x474c('0xf')][a177_0x474c('0x24')])&&!_0x2ecdf2[a177_0x474c('0xf')][a177_0x474c('0x11')][a177_0x474c('0xd')](this[a177_0x474c('0x2f')])&&_0x2ecdf2[a177_0x474c('0xf')][a177_0x474c('0x23')]['size']===0x0&&_0x2ecdf2[a177_0x474c('0xf')][a177_0x474c('0x19')]){_0x2ecdf2[a177_0x474c('0xf')][a177_0x474c('0x22')](a177_0x474c('0x20'));}if(_0x24be4d['channel']&&_0x24be4d[a177_0x474c('0xf')][a177_0x474c('0xa')]&&_0x337252[a177_0x474c('0x2e')]['categories'][a177_0x474c('0x1f')](_0x24be4d[a177_0x474c('0xf')][a177_0x474c('0x24')])){if(_0x24be4d[a177_0x474c('0xf')][a177_0x474c('0x11')][a177_0x474c('0xd')](this[a177_0x474c('0x2f')])){const _0xa2a15a=_0x24be4d[a177_0x474c('0xf')][a177_0x474c('0x11')][a177_0x474c('0x3')](this[a177_0x474c('0x2f')],'')[a177_0x474c('0x2c')]();const _0x55e0ee=await _0x24be4d[a177_0x474c('0xf')]['guild'][a177_0x474c('0x21')][a177_0x474c('0x9')](_0xa2a15a+'\x20#'+(_0x24be4d[a177_0x474c('0xf')][a177_0x474c('0xa')][a177_0x474c('0x28')][a177_0x474c('0x1d')](_0x1d87b6=>_0x1d87b6[a177_0x474c('0x1b')]===a177_0x474c('0x2d')&&_0x1d87b6[a177_0x474c('0x11')][a177_0x474c('0xd')](_0xa2a15a+'\x20#'))[a177_0x474c('0x26')]+0x1),{'type':a177_0x474c('0x2d'),'bitrate':_0x24be4d['channel'][a177_0x474c('0x25')]['premiumTier']?_0x24be4d[a177_0x474c('0xf')][a177_0x474c('0x25')][a177_0x474c('0x16')]*0x1f400:0x17700,'parent':_0x24be4d[a177_0x474c('0xf')]['parent'],'reason':a177_0x474c('0x4')+(_0x24be4d[a177_0x474c('0xc')]['user']?_0x24be4d['member'][a177_0x474c('0x2a')][a177_0x474c('0x1')]:_0x24be4d[a177_0x474c('0xc')]['id'])});await _0x24be4d[a177_0x474c('0xc')][a177_0x474c('0x2d')]['setChannel'](_0x55e0ee)[a177_0x474c('0x17')](console[a177_0x474c('0x15')]);}}};this['newSessionChannelPrefix']=a177_0x474c('0x12');}};