const a207_0x4ece=['newSessionChannelPrefix','trim','setChannel','displayName','type','channels','findById','client','isPublicBastion','startsWith','replace','../utils/omnic','parentID','default','user','error','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channel','create','constructor','voiceSessions','return\x20/\x22\x20+\x20this\x20+\x20\x22/','size','member','../models/Guild','@bastion/tesseract','toLowerCase','members','MOVE_MEMBERS','name','Listener','LISTENER_MODE','test','exports','includes','SPEAK','parent','categories','guild','channelID','voice','CONNECT','âž•\x20New','deletable','delete','premiumTier','exec','VIEW_CHANNEL','\x27s\x20','../utils/constants','CREATE_INSTANT_INVITE','apply'];(function(_0x30d64e,_0x4937f3){const _0x4ece87=function(_0x287b20){while(--_0x287b20){_0x30d64e['push'](_0x30d64e['shift']());}},_0x2ec12f=function(){const _0x28d287={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x376af3,_0x5e9a1f,_0xad3f68,_0x29e812){_0x29e812=_0x29e812||{};let _0x1e678b=_0x5e9a1f+'='+_0xad3f68,_0x428d31=0x0;for(let _0x3f690c=0x0,_0x5c88e7=_0x376af3['length'];_0x3f690c<_0x5c88e7;_0x3f690c++){const _0x3e3a53=_0x376af3[_0x3f690c];_0x1e678b+=';\x20'+_0x3e3a53;const _0x380cf7=_0x376af3[_0x3e3a53];_0x376af3['push'](_0x380cf7),_0x5c88e7=_0x376af3['length'],_0x380cf7!==!![]&&(_0x1e678b+='='+_0x380cf7);}_0x29e812['cookie']=_0x1e678b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1f1bb3,_0x2ee3ef){_0x1f1bb3=_0x1f1bb3||function(_0x421c63){return _0x421c63;};const _0x753061=_0x1f1bb3(new RegExp('(?:^|;\x20)'+_0x2ee3ef['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1411a6=function(_0x3b7bf2,_0x23ad20){_0x3b7bf2(++_0x23ad20);};return _0x1411a6(_0x4ece87,_0x4937f3),_0x753061?decodeURIComponent(_0x753061[0x1]):undefined;}},_0x54fc5d=function(){const _0x45b22f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x45b22f['test'](_0x28d287['removeCookie']['toString']());};_0x28d287['updateCookie']=_0x54fc5d;let _0x5c1392='';const _0x2b4d57=_0x28d287['updateCookie']();if(!_0x2b4d57)_0x28d287['setCookie'](['*'],'counter',0x1);else _0x2b4d57?_0x5c1392=_0x28d287['getCookie'](null,'counter'):_0x28d287['removeCookie']();};_0x2ec12f();}(a207_0x4ece,0xd0));const a207_0x2ec1=function(_0x30d64e,_0x4937f3){_0x30d64e=_0x30d64e-0x1ef;let _0x4ece87=a207_0x4ece[_0x30d64e];return _0x4ece87;};const a207_0x1ebd7a=a207_0x2ec1,a207_0x54fc5d=function(){let _0x2b4d57=!![];return function(_0x376af3,_0x5e9a1f){const _0xad3f68=_0x2b4d57?function(){const _0x371080=a207_0x2ec1;if(_0x5e9a1f){const _0x29e812=_0x5e9a1f[_0x371080(0x222)](_0x376af3,arguments);return _0x5e9a1f=null,_0x29e812;}}:function(){};return _0x2b4d57=![],_0xad3f68;};}(),a207_0x28d287=a207_0x54fc5d(this,function(){const _0x1e678b=function(){const _0x2caeff=a207_0x2ec1,_0x428d31=_0x1e678b[_0x2caeff(0x202)](_0x2caeff(0x204))()['constructor'](_0x2caeff(0x1ff));return!_0x428d31[_0x2caeff(0x20f)](a207_0x28d287);};return _0x1e678b();});a207_0x28d287();'use strict';const tesseract_1=require(a207_0x1ebd7a(0x208)),Guild_1=require(a207_0x1ebd7a(0x207)),constants=require(a207_0x1ebd7a(0x220)),omnic=require(a207_0x1ebd7a(0x1fa));module[a207_0x1ebd7a(0x210)]=class VoiceStateUpdateListener extends tesseract_1[a207_0x1ebd7a(0x20d)]{constructor(){const _0x5c5760=a207_0x1ebd7a;super('voiceStateUpdate',{'mode':tesseract_1['Constants'][_0x5c5760(0x20e)]['ON']}),this[_0x5c5760(0x21d)]=async(_0x3f690c,_0x5c88e7)=>{const _0x48c013=_0x5c5760;if(_0x5c88e7[_0x48c013(0x216)]===_0x3f690c[_0x48c013(0x216)])return;if(!(_0x3f690c[_0x48c013(0x200)]&&_0x3f690c[_0x48c013(0x200)]['parent'])&&!(_0x5c88e7[_0x48c013(0x200)]&&_0x5c88e7['channel'][_0x48c013(0x213)]))return;const _0x3e3a53=await Guild_1[_0x48c013(0x1fc)][_0x48c013(0x1f5)](_0x3f690c[_0x48c013(0x215)]?_0x3f690c[_0x48c013(0x215)]['id']:_0x5c88e7[_0x48c013(0x215)]['id']);if(!_0x3e3a53['voiceSessions']||!_0x3e3a53[_0x48c013(0x203)]['categories'])return;if(constants[_0x48c013(0x1f7)](this[_0x48c013(0x1f6)][_0x48c013(0x1fd)])){const _0x380cf7=await omnic['fetchPremiumTier'](_0x3f690c['guild']||_0x5c88e7[_0x48c013(0x215)])['catch'](()=>{});if(!_0x380cf7)return;}_0x3f690c['channel']&&_0x3f690c[_0x48c013(0x200)][_0x48c013(0x213)]&&_0x3e3a53['voiceSessions']['categories'][_0x48c013(0x211)](_0x3f690c[_0x48c013(0x200)][_0x48c013(0x1fb)])&&!_0x3f690c['channel']['name'][_0x48c013(0x1f8)](this[_0x48c013(0x1ef)])&&_0x3f690c[_0x48c013(0x200)][_0x48c013(0x20a)][_0x48c013(0x205)]===0x0&&_0x3f690c['channel'][_0x48c013(0x21a)]&&_0x3f690c['channel'][_0x48c013(0x21b)]('Members\x20Left');if(_0x5c88e7[_0x48c013(0x200)]&&_0x5c88e7['channel'][_0x48c013(0x213)]&&_0x3e3a53[_0x48c013(0x203)][_0x48c013(0x214)][_0x48c013(0x211)](_0x5c88e7[_0x48c013(0x200)][_0x48c013(0x1fb)])){if(_0x5c88e7[_0x48c013(0x200)][_0x48c013(0x20c)][_0x48c013(0x1f8)](this['newSessionChannelPrefix'])){const _0x1f1bb3=_0x5c88e7['member'][_0x48c013(0x1f2)]+(_0x5c88e7[_0x48c013(0x206)][_0x48c013(0x1f2)][_0x48c013(0x209)]()['endsWith']('s')?'\x27\x20':_0x48c013(0x21f))+_0x5c88e7[_0x48c013(0x200)][_0x48c013(0x20c)][_0x48c013(0x1f9)](this[_0x48c013(0x1ef)],'')[_0x48c013(0x1f0)](),_0x2ee3ef=await _0x5c88e7[_0x48c013(0x200)][_0x48c013(0x215)][_0x48c013(0x1f4)][_0x48c013(0x201)](_0x1f1bb3+'\x20#'+(_0x5c88e7[_0x48c013(0x200)]['parent']['children']['filter'](_0x753061=>_0x753061[_0x48c013(0x1f3)]==='voice'&&_0x753061[_0x48c013(0x20c)][_0x48c013(0x1f8)](_0x1f1bb3+'\x20#'))[_0x48c013(0x205)]+0x1),{'type':_0x48c013(0x217),'bitrate':_0x5c88e7[_0x48c013(0x200)][_0x48c013(0x215)][_0x48c013(0x21c)]?_0x5c88e7[_0x48c013(0x200)]['guild'][_0x48c013(0x21c)]*0x1f400:0x17700,'parent':_0x5c88e7[_0x48c013(0x200)][_0x48c013(0x213)],'permissionOverwrites':[{'id':_0x5c88e7[_0x48c013(0x206)]['id'],'allow':['CONNECT',_0x48c013(0x221),_0x48c013(0x20b),'MUTE_MEMBERS']},{'id':_0x5c88e7['member'][_0x48c013(0x215)]['id'],'allow':[_0x48c013(0x212),_0x48c013(0x21e)],'deny':[_0x48c013(0x218),_0x48c013(0x221)]}],'reason':'Requested\x20by\x20'+(_0x5c88e7[_0x48c013(0x206)][_0x48c013(0x1fd)]?_0x5c88e7['member']['user']['tag']:_0x5c88e7['member']['id'])});await _0x5c88e7[_0x48c013(0x206)][_0x48c013(0x217)][_0x48c013(0x1f1)](_0x2ee3ef)['catch'](console[_0x48c013(0x1fe)]);}}},this[_0x5c5760(0x1ef)]=_0x5c5760(0x219);}};