const a177_0x2e50=['exports','channel','channelID','premiumTier','includes','Listener','catch','newSessionChannelPrefix','guild','constructor','parent','âž•\x20New','type','findById','user','../models/Guild','test','../utils/omnic','return\x20/\x22\x20+\x20this\x20+\x20\x22/','size','categories','isPublicBastion','fetchPremiumTier','startsWith','apply','deletable','parentID','setChannel','Members\x20Left','error','voice','delete','voiceStateUpdate','../utils/constants','name','client','tag','voiceSessions','member','filter','Constants','members','replace'];(function(_0x1e86b1,_0x2e50a6){const _0x55b35d=function(_0x18e694){while(--_0x18e694){_0x1e86b1['push'](_0x1e86b1['shift']());}};const _0x9d7ff4=function(){const _0x406493={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x10ba63,_0x546435,_0x58208d,_0x3edfeb){_0x3edfeb=_0x3edfeb||{};let _0x4e7b4e=_0x546435+'='+_0x58208d;let _0xf0357c=0x0;for(let _0x35ffad=0x0,_0x2b0107=_0x10ba63['length'];_0x35ffad<_0x2b0107;_0x35ffad++){const _0x1131cc=_0x10ba63[_0x35ffad];_0x4e7b4e+=';\x20'+_0x1131cc;const _0x4d92e1=_0x10ba63[_0x1131cc];_0x10ba63['push'](_0x4d92e1);_0x2b0107=_0x10ba63['length'];if(_0x4d92e1!==!![]){_0x4e7b4e+='='+_0x4d92e1;}}_0x3edfeb['cookie']=_0x4e7b4e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x460db3,_0x335db3){_0x460db3=_0x460db3||function(_0x24ba0c){return _0x24ba0c;};const _0x481c7a=_0x460db3(new RegExp('(?:^|;\x20)'+_0x335db3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4aa584=function(_0x1cd845,_0x2e2607){_0x1cd845(++_0x2e2607);};_0x4aa584(_0x55b35d,_0x2e50a6);return _0x481c7a?decodeURIComponent(_0x481c7a[0x1]):undefined;}};const _0x3735e0=function(){const _0x39e72a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x39e72a['test'](_0x406493['removeCookie']['toString']());};_0x406493['updateCookie']=_0x3735e0;let _0x4228af='';const _0x331c72=_0x406493['updateCookie']();if(!_0x331c72){_0x406493['setCookie'](['*'],'counter',0x1);}else if(_0x331c72){_0x4228af=_0x406493['getCookie'](null,'counter');}else{_0x406493['removeCookie']();}};_0x9d7ff4();}(a177_0x2e50,0xe4));const a177_0x55b3=function(_0x1e86b1,_0x2e50a6){_0x1e86b1=_0x1e86b1-0x0;let _0x55b35d=a177_0x2e50[_0x1e86b1];return _0x55b35d;};const a177_0x406493=function(){let _0x2e46bc=!![];return function(_0x332e85,_0x43a2ef){const _0x4093e9=_0x2e46bc?function(){if(_0x43a2ef){const _0x31bd98=_0x43a2ef[a177_0x55b3('0xb')](_0x332e85,arguments);_0x43a2ef=null;return _0x31bd98;}}:function(){};_0x2e46bc=![];return _0x4093e9;};}();const a177_0x18e694=a177_0x406493(this,function(){const _0x70c31=function(){const _0x4a6f0c=_0x70c31[a177_0x55b3('0x27')](a177_0x55b3('0x5'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4a6f0c[a177_0x55b3('0x3')](a177_0x18e694);};return _0x70c31();});a177_0x18e694();'use strict';const tesseract_1=require('@bastion/tesseract');const Guild_1=require(a177_0x55b3('0x2'));const constants=require(a177_0x55b3('0x14'));const omnic=require(a177_0x55b3('0x4'));module[a177_0x55b3('0x1e')]=class VoiceStateUpdateListener extends tesseract_1[a177_0x55b3('0x23')]{constructor(){super(a177_0x55b3('0x13'),{'mode':tesseract_1[a177_0x55b3('0x1b')]['LISTENER_MODE']['ON']});this['exec']=async(_0x545aa2,_0x2603e0)=>{if(_0x2603e0[a177_0x55b3('0x20')]===_0x545aa2[a177_0x55b3('0x20')])return;if(!(_0x545aa2[a177_0x55b3('0x1f')]&&_0x545aa2[a177_0x55b3('0x1f')][a177_0x55b3('0x28')])&&!(_0x2603e0[a177_0x55b3('0x1f')]&&_0x2603e0['channel'][a177_0x55b3('0x28')]))return;const _0x56f055=await Guild_1['default'][a177_0x55b3('0x0')](_0x545aa2[a177_0x55b3('0x26')]?_0x545aa2[a177_0x55b3('0x26')]['id']:_0x2603e0[a177_0x55b3('0x26')]['id']);if(!_0x56f055[a177_0x55b3('0x18')]||!_0x56f055[a177_0x55b3('0x18')][a177_0x55b3('0x7')])return;if(constants[a177_0x55b3('0x8')](this[a177_0x55b3('0x16')][a177_0x55b3('0x1')])){const _0x1042e2=await omnic[a177_0x55b3('0x9')](_0x545aa2[a177_0x55b3('0x26')]||_0x2603e0[a177_0x55b3('0x26')])[a177_0x55b3('0x24')](()=>{});if(!_0x1042e2)return;}if(_0x545aa2[a177_0x55b3('0x1f')]&&_0x545aa2[a177_0x55b3('0x1f')][a177_0x55b3('0x28')]&&_0x56f055[a177_0x55b3('0x18')][a177_0x55b3('0x7')][a177_0x55b3('0x22')](_0x545aa2[a177_0x55b3('0x1f')][a177_0x55b3('0xd')])&&!_0x545aa2[a177_0x55b3('0x1f')]['name'][a177_0x55b3('0xa')](this[a177_0x55b3('0x25')])&&_0x545aa2[a177_0x55b3('0x1f')][a177_0x55b3('0x1c')][a177_0x55b3('0x6')]===0x0&&_0x545aa2['channel'][a177_0x55b3('0xc')]){_0x545aa2[a177_0x55b3('0x1f')][a177_0x55b3('0x12')](a177_0x55b3('0xf'));}if(_0x2603e0[a177_0x55b3('0x1f')]&&_0x2603e0[a177_0x55b3('0x1f')]['parent']&&_0x56f055[a177_0x55b3('0x18')]['categories'][a177_0x55b3('0x22')](_0x2603e0['channel'][a177_0x55b3('0xd')])){if(_0x2603e0['channel'][a177_0x55b3('0x15')][a177_0x55b3('0xa')](this[a177_0x55b3('0x25')])){const _0x52e133=_0x2603e0[a177_0x55b3('0x1f')][a177_0x55b3('0x15')][a177_0x55b3('0x1d')](this['newSessionChannelPrefix'],'')['trim']();const _0x2521c3=await _0x2603e0[a177_0x55b3('0x1f')][a177_0x55b3('0x26')]['channels']['create'](_0x52e133+'\x20#'+(_0x2603e0[a177_0x55b3('0x1f')][a177_0x55b3('0x28')]['children'][a177_0x55b3('0x1a')](_0xbb6c8d=>_0xbb6c8d[a177_0x55b3('0x2a')]===a177_0x55b3('0x11')&&_0xbb6c8d[a177_0x55b3('0x15')][a177_0x55b3('0xa')](_0x52e133+'\x20#'))[a177_0x55b3('0x6')]+0x1),{'type':'voice','bitrate':_0x2603e0[a177_0x55b3('0x1f')][a177_0x55b3('0x26')][a177_0x55b3('0x21')]?_0x2603e0[a177_0x55b3('0x1f')][a177_0x55b3('0x26')][a177_0x55b3('0x21')]*0x1f400:0x17700,'parent':_0x2603e0[a177_0x55b3('0x1f')]['parent'],'reason':'Requested\x20by\x20'+(_0x2603e0[a177_0x55b3('0x19')]['user']?_0x2603e0[a177_0x55b3('0x19')][a177_0x55b3('0x1')][a177_0x55b3('0x17')]:_0x2603e0[a177_0x55b3('0x19')]['id'])});await _0x2603e0[a177_0x55b3('0x19')][a177_0x55b3('0x11')][a177_0x55b3('0xe')](_0x2521c3)[a177_0x55b3('0x24')](console[a177_0x55b3('0x10')]);}}};this[a177_0x55b3('0x25')]=a177_0x55b3('0x29');}};