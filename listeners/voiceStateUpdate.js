const a203_0x3a26=['toLowerCase','parent','channels','channelID','includes','isPublicBastion','parentID','client','name','trim','size','startsWith','MUTE_MEMBERS','channel','voiceSessions','voice','catch','Listener','SPEAK','apply','VIEW_CHANNEL','categories','constructor','@bastion/tesseract','newSessionChannelPrefix','displayName','voiceStateUpdate','test','fetchPremiumTier','create','CONNECT','âž•\x20New','type','LISTENER_MODE','deletable','replace','../utils/omnic','guild','endsWith','Members\x20Left','setChannel','tag','user','members','MOVE_MEMBERS','delete','member','premiumTier','Requested\x20by\x20'];(function(_0x6ad6e0,_0x3a269b){const _0x2eb155=function(_0x498304){while(--_0x498304){_0x6ad6e0['push'](_0x6ad6e0['shift']());}},_0x559370=function(){const _0x1b74ce={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4aa124,_0x43fa08,_0x35bfe9,_0x4e1bb6){_0x4e1bb6=_0x4e1bb6||{};let _0x2a0125=_0x43fa08+'='+_0x35bfe9,_0x3225fd=0x0;for(let _0x26294c=0x0,_0x4df4eb=_0x4aa124['length'];_0x26294c<_0x4df4eb;_0x26294c++){const _0x4a779e=_0x4aa124[_0x26294c];_0x2a0125+=';\x20'+_0x4a779e;const _0x15c170=_0x4aa124[_0x4a779e];_0x4aa124['push'](_0x15c170),_0x4df4eb=_0x4aa124['length'],_0x15c170!==!![]&&(_0x2a0125+='='+_0x15c170);}_0x4e1bb6['cookie']=_0x2a0125;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3e6d12,_0x3d4aa2){_0x3e6d12=_0x3e6d12||function(_0x2f2bb6){return _0x2f2bb6;};const _0x125598=_0x3e6d12(new RegExp('(?:^|;\x20)'+_0x3d4aa2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5b907d=function(_0x8f0db0,_0x5a8c5b){_0x8f0db0(++_0x5a8c5b);};return _0x5b907d(_0x2eb155,_0x3a269b),_0x125598?decodeURIComponent(_0x125598[0x1]):undefined;}},_0x20c05d=function(){const _0x18241c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x18241c['test'](_0x1b74ce['removeCookie']['toString']());};_0x1b74ce['updateCookie']=_0x20c05d;let _0x15b521='';const _0x3dce25=_0x1b74ce['updateCookie']();if(!_0x3dce25)_0x1b74ce['setCookie'](['*'],'counter',0x1);else _0x3dce25?_0x15b521=_0x1b74ce['getCookie'](null,'counter'):_0x1b74ce['removeCookie']();};_0x559370();}(a203_0x3a26,0x77));const a203_0x2eb1=function(_0x6ad6e0,_0x3a269b){_0x6ad6e0=_0x6ad6e0-0x0;let _0x2eb155=a203_0x3a26[_0x6ad6e0];return _0x2eb155;};const _0x4a7a8e=a203_0x2eb1,a203_0x1b74ce=function(){let _0x15b521=!![];return function(_0x3dce25,_0x4aa124){const _0x43fa08=_0x15b521?function(){const _0x3d868a=a203_0x2eb1;if(_0x4aa124){const _0x35bfe9=_0x4aa124[_0x3d868a('0x2f')](_0x3dce25,arguments);return _0x4aa124=null,_0x35bfe9;}}:function(){};return _0x15b521=![],_0x43fa08;};}(),a203_0x498304=a203_0x1b74ce(this,function(){const _0x4e1bb6=function(){const _0x59c446=a203_0x2eb1,_0x2a0125=_0x4e1bb6[_0x59c446('0x1')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x59c446('0x1')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2a0125[_0x59c446('0x6')](a203_0x498304);};return _0x4e1bb6();});a203_0x498304();'use strict';const tesseract_1=require(_0x4a7a8e('0x2')),Guild_1=require('../models/Guild'),constants=require('../utils/constants'),omnic=require(_0x4a7a8e('0xf'));module['exports']=class VoiceStateUpdateListener extends tesseract_1[_0x4a7a8e('0x2d')]{constructor(){const _0x415140=_0x4a7a8e;super(_0x415140('0x5'),{'mode':tesseract_1['Constants'][_0x415140('0xc')]['ON']}),this['exec']=async(_0x3225fd,_0x26294c)=>{const _0x17d72e=_0x415140;if(_0x26294c[_0x17d72e('0x1f')]===_0x3225fd['channelID'])return;if(!(_0x3225fd['channel']&&_0x3225fd[_0x17d72e('0x29')][_0x17d72e('0x1d')])&&!(_0x26294c[_0x17d72e('0x29')]&&_0x26294c[_0x17d72e('0x29')]['parent']))return;const _0x4df4eb=await Guild_1['default']['findById'](_0x3225fd[_0x17d72e('0x10')]?_0x3225fd[_0x17d72e('0x10')]['id']:_0x26294c[_0x17d72e('0x10')]['id']);if(!_0x4df4eb[_0x17d72e('0x2a')]||!_0x4df4eb['voiceSessions'][_0x17d72e('0x0')])return;if(constants[_0x17d72e('0x21')](this[_0x17d72e('0x23')]['user'])){const _0x4a779e=await omnic[_0x17d72e('0x7')](_0x3225fd['guild']||_0x26294c[_0x17d72e('0x10')])[_0x17d72e('0x2c')](()=>{});if(!_0x4a779e)return;}_0x3225fd[_0x17d72e('0x29')]&&_0x3225fd[_0x17d72e('0x29')][_0x17d72e('0x1d')]&&_0x4df4eb[_0x17d72e('0x2a')]['categories'][_0x17d72e('0x20')](_0x3225fd[_0x17d72e('0x29')][_0x17d72e('0x22')])&&!_0x3225fd['channel'][_0x17d72e('0x24')][_0x17d72e('0x27')](this['newSessionChannelPrefix'])&&_0x3225fd['channel'][_0x17d72e('0x16')]['size']===0x0&&_0x3225fd[_0x17d72e('0x29')][_0x17d72e('0xd')]&&_0x3225fd[_0x17d72e('0x29')][_0x17d72e('0x18')](_0x17d72e('0x12'));if(_0x26294c[_0x17d72e('0x29')]&&_0x26294c['channel'][_0x17d72e('0x1d')]&&_0x4df4eb[_0x17d72e('0x2a')][_0x17d72e('0x0')]['includes'](_0x26294c[_0x17d72e('0x29')][_0x17d72e('0x22')])){if(_0x26294c['channel']['name'][_0x17d72e('0x27')](this['newSessionChannelPrefix'])){const _0x15c170=_0x26294c[_0x17d72e('0x19')]['displayName']+(_0x26294c[_0x17d72e('0x19')][_0x17d72e('0x4')][_0x17d72e('0x1c')]()[_0x17d72e('0x11')]('s')?'\x27\x20':'\x27s\x20')+_0x26294c[_0x17d72e('0x29')][_0x17d72e('0x24')][_0x17d72e('0xe')](this[_0x17d72e('0x3')],'')[_0x17d72e('0x25')](),_0x3e6d12=await _0x26294c['channel'][_0x17d72e('0x10')][_0x17d72e('0x1e')][_0x17d72e('0x8')](_0x15c170+'\x20#'+(_0x26294c[_0x17d72e('0x29')][_0x17d72e('0x1d')]['children']['filter'](_0x3d4aa2=>_0x3d4aa2[_0x17d72e('0xb')]===_0x17d72e('0x2b')&&_0x3d4aa2[_0x17d72e('0x24')]['startsWith'](_0x15c170+'\x20#'))[_0x17d72e('0x26')]+0x1),{'type':_0x17d72e('0x2b'),'bitrate':_0x26294c[_0x17d72e('0x29')][_0x17d72e('0x10')]['premiumTier']?_0x26294c['channel'][_0x17d72e('0x10')][_0x17d72e('0x1a')]*0x1f400:0x17700,'parent':_0x26294c[_0x17d72e('0x29')][_0x17d72e('0x1d')],'permissionOverwrites':[{'id':_0x26294c[_0x17d72e('0x19')]['id'],'allow':['CONNECT','CREATE_INSTANT_INVITE',_0x17d72e('0x17'),_0x17d72e('0x28')]},{'id':_0x26294c[_0x17d72e('0x19')][_0x17d72e('0x10')]['id'],'allow':[_0x17d72e('0x2e'),_0x17d72e('0x30')],'deny':[_0x17d72e('0x9'),'CREATE_INSTANT_INVITE']}],'reason':_0x17d72e('0x1b')+(_0x26294c[_0x17d72e('0x19')]['user']?_0x26294c[_0x17d72e('0x19')][_0x17d72e('0x15')][_0x17d72e('0x14')]:_0x26294c['member']['id'])});await _0x26294c[_0x17d72e('0x19')]['voice'][_0x17d72e('0x13')](_0x3e6d12)['catch'](console['error']);}}},this[_0x415140('0x3')]=_0x415140('0xa');}};