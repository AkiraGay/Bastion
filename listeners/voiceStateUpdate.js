const a206_0x2d19=['includes','CONNECT','client','type','isPublicBastion','user','Requested\x20by\x20','trim','MOVE_MEMBERS','VIEW_CHANNEL','premiumTier','replace','parent','../utils/omnic','delete','Listener','children','endsWith','fetchPremiumTier','MUTE_MEMBERS','members','../utils/constants','parentID','guild','voice','size','catch','Constants','../models/Guild','channel','member','deletable','LISTENER_MODE','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','CREATE_INSTANT_INVITE','test','channels','startsWith','name','newSessionChannelPrefix','categories','voiceStateUpdate','displayName','channelID','Members\x20Left','error','\x27s\x20','constructor','voiceSessions'];(function(_0x31b1db,_0x4b2fb7){const _0x2d194b=function(_0x2770fa){while(--_0x2770fa){_0x31b1db['push'](_0x31b1db['shift']());}},_0x159797=function(){const _0x3a1dbf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x66bb3d,_0xeab919,_0x27b00f,_0x5877a9){_0x5877a9=_0x5877a9||{};let _0x1cc264=_0xeab919+'='+_0x27b00f,_0x421d36=0x0;for(let _0x4e2cf2=0x0,_0x43ff9d=_0x66bb3d['length'];_0x4e2cf2<_0x43ff9d;_0x4e2cf2++){const _0x126cd4=_0x66bb3d[_0x4e2cf2];_0x1cc264+=';\x20'+_0x126cd4;const _0x1cdd01=_0x66bb3d[_0x126cd4];_0x66bb3d['push'](_0x1cdd01),_0x43ff9d=_0x66bb3d['length'],_0x1cdd01!==!![]&&(_0x1cc264+='='+_0x1cdd01);}_0x5877a9['cookie']=_0x1cc264;},'removeCookie':function(){return'dev';},'getCookie':function(_0x373426,_0x2ef521){_0x373426=_0x373426||function(_0x3bc262){return _0x3bc262;};const _0x106ee7=_0x373426(new RegExp('(?:^|;\x20)'+_0x2ef521['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x50ac31=function(_0x44d0db,_0x555746){_0x44d0db(++_0x555746);};return _0x50ac31(_0x2d194b,_0x4b2fb7),_0x106ee7?decodeURIComponent(_0x106ee7[0x1]):undefined;}},_0x324285=function(){const _0x2b5123=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2b5123['test'](_0x3a1dbf['removeCookie']['toString']());};_0x3a1dbf['updateCookie']=_0x324285;let _0x5b4ef5='';const _0x46dfa6=_0x3a1dbf['updateCookie']();if(!_0x46dfa6)_0x3a1dbf['setCookie'](['*'],'counter',0x1);else _0x46dfa6?_0x5b4ef5=_0x3a1dbf['getCookie'](null,'counter'):_0x3a1dbf['removeCookie']();};_0x159797();}(a206_0x2d19,0xc8));const a206_0x1597=function(_0x31b1db,_0x4b2fb7){_0x31b1db=_0x31b1db-0x11b;let _0x2d194b=a206_0x2d19[_0x31b1db];return _0x2d194b;};const _0x5748d5=a206_0x1597,a206_0x324285=function(){let _0x46dfa6=!![];return function(_0x66bb3d,_0xeab919){const _0x27b00f=_0x46dfa6?function(){if(_0xeab919){const _0x5877a9=_0xeab919['apply'](_0x66bb3d,arguments);return _0xeab919=null,_0x5877a9;}}:function(){};return _0x46dfa6=![],_0x27b00f;};}(),a206_0x3a1dbf=a206_0x324285(this,function(){const _0x1cc264=function(){const _0x40128f=a206_0x1597,_0x421d36=_0x1cc264[_0x40128f(0x146)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x40128f(0x146)](_0x40128f(0x138));return!_0x421d36[_0x40128f(0x13a)](a206_0x3a1dbf);};return _0x1cc264();});a206_0x3a1dbf();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require(_0x5748d5(0x133)),constants=require(_0x5748d5(0x12c)),omnic=require(_0x5748d5(0x124));module['exports']=class VoiceStateUpdateListener extends tesseract_1[_0x5748d5(0x126)]{constructor(){const _0x46e3b9=_0x5748d5;super(_0x46e3b9(0x140),{'mode':tesseract_1[_0x46e3b9(0x132)][_0x46e3b9(0x137)]['ON']}),this['exec']=async(_0x4e2cf2,_0x43ff9d)=>{const _0x53a391=_0x46e3b9;if(_0x43ff9d[_0x53a391(0x142)]===_0x4e2cf2[_0x53a391(0x142)])return;if(!(_0x4e2cf2[_0x53a391(0x134)]&&_0x4e2cf2['channel'][_0x53a391(0x123)])&&!(_0x43ff9d['channel']&&_0x43ff9d['channel'][_0x53a391(0x123)]))return;const _0x126cd4=await Guild_1['default']['findById'](_0x4e2cf2[_0x53a391(0x12e)]?_0x4e2cf2[_0x53a391(0x12e)]['id']:_0x43ff9d[_0x53a391(0x12e)]['id']);if(!_0x126cd4['voiceSessions']||!_0x126cd4[_0x53a391(0x147)]['categories'])return;if(constants[_0x53a391(0x11b)](this[_0x53a391(0x14a)]['user'])){const _0x1cdd01=await omnic[_0x53a391(0x129)](_0x4e2cf2['guild']||_0x43ff9d[_0x53a391(0x12e)])['catch'](()=>{});if(!_0x1cdd01)return;}_0x4e2cf2['channel']&&_0x4e2cf2[_0x53a391(0x134)][_0x53a391(0x123)]&&_0x126cd4['voiceSessions'][_0x53a391(0x13f)]['includes'](_0x4e2cf2['channel'][_0x53a391(0x12d)])&&!_0x4e2cf2[_0x53a391(0x134)][_0x53a391(0x13d)]['startsWith'](this[_0x53a391(0x13e)])&&_0x4e2cf2['channel'][_0x53a391(0x12b)]['size']===0x0&&_0x4e2cf2['channel'][_0x53a391(0x136)]&&_0x4e2cf2[_0x53a391(0x134)][_0x53a391(0x125)](_0x53a391(0x143));if(_0x43ff9d[_0x53a391(0x134)]&&_0x43ff9d[_0x53a391(0x134)][_0x53a391(0x123)]&&_0x126cd4['voiceSessions'][_0x53a391(0x13f)][_0x53a391(0x148)](_0x43ff9d[_0x53a391(0x134)][_0x53a391(0x12d)])){if(_0x43ff9d[_0x53a391(0x134)][_0x53a391(0x13d)][_0x53a391(0x13c)](this[_0x53a391(0x13e)])){const _0x373426=_0x43ff9d['member']['displayName']+(_0x43ff9d[_0x53a391(0x135)][_0x53a391(0x141)]['toLowerCase']()[_0x53a391(0x128)]('s')?'\x27\x20':_0x53a391(0x145))+_0x43ff9d[_0x53a391(0x134)]['name'][_0x53a391(0x122)](this['newSessionChannelPrefix'],'')[_0x53a391(0x11e)](),_0x2ef521=await _0x43ff9d[_0x53a391(0x134)][_0x53a391(0x12e)][_0x53a391(0x13b)]['create'](_0x373426+'\x20#'+(_0x43ff9d[_0x53a391(0x134)][_0x53a391(0x123)][_0x53a391(0x127)]['filter'](_0x106ee7=>_0x106ee7[_0x53a391(0x14b)]==='voice'&&_0x106ee7['name']['startsWith'](_0x373426+'\x20#'))[_0x53a391(0x130)]+0x1),{'type':_0x53a391(0x12f),'bitrate':_0x43ff9d[_0x53a391(0x134)]['guild'][_0x53a391(0x121)]?_0x43ff9d[_0x53a391(0x134)][_0x53a391(0x12e)][_0x53a391(0x121)]*0x1f400:0x17700,'parent':_0x43ff9d[_0x53a391(0x134)][_0x53a391(0x123)],'permissionOverwrites':[{'id':_0x43ff9d[_0x53a391(0x135)]['id'],'allow':[_0x53a391(0x149),'CREATE_INSTANT_INVITE',_0x53a391(0x11f),_0x53a391(0x12a)]},{'id':_0x43ff9d[_0x53a391(0x135)][_0x53a391(0x12e)]['id'],'allow':['SPEAK',_0x53a391(0x120)],'deny':[_0x53a391(0x149),_0x53a391(0x139)]}],'reason':_0x53a391(0x11d)+(_0x43ff9d[_0x53a391(0x135)][_0x53a391(0x11c)]?_0x43ff9d[_0x53a391(0x135)][_0x53a391(0x11c)]['tag']:_0x43ff9d[_0x53a391(0x135)]['id'])});await _0x43ff9d['member'][_0x53a391(0x12f)]['setChannel'](_0x2ef521)[_0x53a391(0x131)](console[_0x53a391(0x144)]);}}},this[_0x46e3b9(0x13e)]='âž•\x20New';}};