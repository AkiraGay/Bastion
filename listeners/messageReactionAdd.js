const a164_0x22ae=['name','handleStarboard','\x20‚Ä¢\x20','values','length','edit','send','COLORS','author','animated','GREEN','content','channels','embeds','Suggestion\x20','permissionsFor','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','Starboard','Added\x20via\x20Reaction\x20Roles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Constants','YELLOW','title','cache','exec','MANAGE_MESSAGES','permissions','catch','constructor','Source','guild','channel','first','remove','MANAGE_GUILD','../utils/emojis','announcementsChannelId','url','handleSuggestions','Auto\x20Removed\x20via\x20Reaction\x20Roles','suggestionsChannelId','value','\x20announced\x20via\x20Announcement\x20Pinnning.','text','member','handleReactionPinning','attachments','has','../models/Role','partial','users','handleReactionAnnouncement','message','default','reactions','@bastion/tesseract','footer','Rejected','Listener','getDocument','parseEmoji','exclusive','apply','_id','user','emoji','tag','bot','fetch','handleReactionRoles','exports','findById','../models/ReactionRoleGroup','starboardChannelId','includes','add','width','INDIGO','test','roles','LISTENER_MODE'];(function(_0x22a6b9,_0x22ae52){const _0x5a83ac=function(_0x59c6b4){while(--_0x59c6b4){_0x22a6b9['push'](_0x22a6b9['shift']());}};const _0x25af10=function(){const _0x3c389e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4b994c,_0x4a52b4,_0x3c5f8f,_0x42cba5){_0x42cba5=_0x42cba5||{};let _0x3b3aea=_0x4a52b4+'='+_0x3c5f8f;let _0x14a90c=0x0;for(let _0x29b98e=0x0,_0x133656=_0x4b994c['length'];_0x29b98e<_0x133656;_0x29b98e++){const _0x28c175=_0x4b994c[_0x29b98e];_0x3b3aea+=';\x20'+_0x28c175;const _0x2e3ee3=_0x4b994c[_0x28c175];_0x4b994c['push'](_0x2e3ee3);_0x133656=_0x4b994c['length'];if(_0x2e3ee3!==!![]){_0x3b3aea+='='+_0x2e3ee3;}}_0x42cba5['cookie']=_0x3b3aea;},'removeCookie':function(){return'dev';},'getCookie':function(_0x516337,_0x217896){_0x516337=_0x516337||function(_0xba30ca){return _0xba30ca;};const _0x3804da=_0x516337(new RegExp('(?:^|;\x20)'+_0x217896['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x14b898=function(_0x3f71d6,_0x28d5b8){_0x3f71d6(++_0x28d5b8);};_0x14b898(_0x5a83ac,_0x22ae52);return _0x3804da?decodeURIComponent(_0x3804da[0x1]):undefined;}};const _0x171718=function(){const _0x1e3c8d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e3c8d['test'](_0x3c389e['removeCookie']['toString']());};_0x3c389e['updateCookie']=_0x171718;let _0xdf7918='';const _0x2653d8=_0x3c389e['updateCookie']();if(!_0x2653d8){_0x3c389e['setCookie'](['*'],'counter',0x1);}else if(_0x2653d8){_0xdf7918=_0x3c389e['getCookie'](null,'counter');}else{_0x3c389e['removeCookie']();}};_0x25af10();}(a164_0x22ae,0xf5));const a164_0x5a83=function(_0x22a6b9,_0x22ae52){_0x22a6b9=_0x22a6b9-0x0;let _0x5a83ac=a164_0x22ae[_0x22a6b9];return _0x5a83ac;};const a164_0x3c389e=function(){let _0x41fdd9=!![];return function(_0x197f91,_0xa2e763){const _0x56cc72=_0x41fdd9?function(){if(_0xa2e763){const _0x49a6df=_0xa2e763[a164_0x5a83('0x3c')](_0x197f91,arguments);_0xa2e763=null;return _0x49a6df;}}:function(){};_0x41fdd9=![];return _0x56cc72;};}();const a164_0x59c6b4=a164_0x3c389e(this,function(){const _0x35e1bf=function(){const _0x2e0762=_0x35e1bf[a164_0x5a83('0x1a')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a164_0x5a83('0x11'));return!_0x2e0762[a164_0x5a83('0x4c')](a164_0x59c6b4);};return _0x35e1bf();});a164_0x59c6b4();'use strict';const tesseract_1=require(a164_0x5a83('0x35'));const ReactionRoleGroup_1=require(a164_0x5a83('0x46'));const Role_1=require(a164_0x5a83('0x2e'));const emojis=require(a164_0x5a83('0x21'));module[a164_0x5a83('0x44')]=class MessageReactionAddListener extends tesseract_1[a164_0x5a83('0x38')]{constructor(){super('messageReactionAdd',{'mode':tesseract_1[a164_0x5a83('0x12')][a164_0x5a83('0x4e')]['ON']});this[a164_0x5a83('0x24')]=async(_0x3d4aa3,_0x46c823)=>{if(_0x46c823[a164_0x5a83('0x3e')][a164_0x5a83('0x41')])return;if(!['‚úÖ','‚ùé'][a164_0x5a83('0x48')](_0x3d4aa3[a164_0x5a83('0x3f')]['name']))return;if(!_0x3d4aa3['message'][a164_0x5a83('0x1d')]['permissionsFor'](_0x46c823)[a164_0x5a83('0x2d')]('MANAGE_CHANNELS'))return;const _0x2cbbc5=_0x3d4aa3['message'];const _0x2f088e=_0x2cbbc5[a164_0x5a83('0xb')][0x0];if(!_0x2f088e)return;if(!_0x2f088e['title']['startsWith']('Suggestion'))return;_0x2f088e['color']=_0x3d4aa3[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')]==='‚úÖ'?tesseract_1[a164_0x5a83('0x12')][a164_0x5a83('0x5')][a164_0x5a83('0x8')]:_0x3d4aa3['emoji'][a164_0x5a83('0x4f')]==='‚ùé'?tesseract_1[a164_0x5a83('0x12')]['COLORS']['RED']:tesseract_1['Constants']['COLORS'][a164_0x5a83('0x4b')];_0x2f088e[a164_0x5a83('0x14')]=a164_0x5a83('0xc')+(_0x3d4aa3[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')]==='‚úÖ'?'Accepted':_0x3d4aa3[a164_0x5a83('0x3f')]['name']==='‚ùé'?a164_0x5a83('0x37'):'');await _0x2cbbc5[a164_0x5a83('0x3')]({'embed':_0x2f088e});};this[a164_0x5a83('0x50')]=async(_0x2367c1,_0x30991a,_0x2ebd0a)=>{if(!['üå†','üåü','‚≠ê'][a164_0x5a83('0x48')](_0x2367c1[a164_0x5a83('0x3f')]['name']))return;if(_0x30991a[a164_0x5a83('0x4d')][a164_0x5a83('0x15')]['size']<=0x1)return;if(_0x2367c1[a164_0x5a83('0x32')]['author']['id']===_0x30991a['user']['id'])return;const _0x1ac476=_0x2367c1[a164_0x5a83('0x32')][a164_0x5a83('0x2c')]['filter'](_0x530b76=>Boolean(_0x530b76['height']&&_0x530b76[a164_0x5a83('0x4a')]));const _0x2ed87c=_0x1ac476[a164_0x5a83('0x1e')]();if(!_0x2367c1[a164_0x5a83('0x32')][a164_0x5a83('0x9')]&&!_0x2ed87c)return;await _0x2ebd0a['send']({'embed':{'color':tesseract_1[a164_0x5a83('0x12')][a164_0x5a83('0x5')][a164_0x5a83('0x13')],'author':{'name':_0x2367c1[a164_0x5a83('0x32')][a164_0x5a83('0x6')][a164_0x5a83('0x40')],'iconURL':_0x2367c1[a164_0x5a83('0x32')][a164_0x5a83('0x6')]['displayAvatarURL']({'dynamic':!![],'size':0x40})},'description':_0x2367c1[a164_0x5a83('0x32')]['content'],'fields':[{'name':a164_0x5a83('0x1b'),'value':a164_0x5a83('0xe')+_0x2367c1[a164_0x5a83('0x32')][a164_0x5a83('0x23')]+')','inline':!![]}],'image':{'url':_0x2ed87c?_0x2ed87c[a164_0x5a83('0x23')]:null},'footer':{'text':a164_0x5a83('0xf')}}});};this[a164_0x5a83('0x31')]=async(_0x473879,_0x10cd6e,_0x1662aa)=>{if(!['üì£','üì¢'][a164_0x5a83('0x48')](_0x473879[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')]))return;if(!_0x10cd6e[a164_0x5a83('0x18')][a164_0x5a83('0x2d')](a164_0x5a83('0x20')))return;const _0x229feb=_0x10cd6e[a164_0x5a83('0x3e')][a164_0x5a83('0x40')]+a164_0x5a83('0x28');const _0x12cd0c=_0x473879[a164_0x5a83('0x32')][a164_0x5a83('0xb')]&&_0x473879['message'][a164_0x5a83('0xb')][a164_0x5a83('0x2')]?_0x473879[a164_0x5a83('0x32')][a164_0x5a83('0xb')][0x0]:{};_0x12cd0c[a164_0x5a83('0x36')]={..._0x12cd0c[a164_0x5a83('0x36')],'text':_0x12cd0c[a164_0x5a83('0x36')]&&_0x12cd0c[a164_0x5a83('0x36')][a164_0x5a83('0x29')]?_0x229feb+a164_0x5a83('0x0')+_0x12cd0c[a164_0x5a83('0x36')]['text']:_0x229feb};await _0x1662aa[a164_0x5a83('0x4')](_0x473879[a164_0x5a83('0x32')][a164_0x5a83('0x9')],{'embed':_0x12cd0c,'files':[..._0x473879['message']['attachments'][a164_0x5a83('0x1')]()]});};this[a164_0x5a83('0x2b')]=async(_0x2e3fee,_0x109b54)=>{if(!['üìå','üìç'][a164_0x5a83('0x48')](_0x2e3fee[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')]))return;if(!_0x2e3fee[a164_0x5a83('0x32')]['channel'][a164_0x5a83('0xd')](_0x109b54)[a164_0x5a83('0x2d')](a164_0x5a83('0x17')))return;await _0x2e3fee[a164_0x5a83('0x32')]['pin']();};this[a164_0x5a83('0x43')]=async(_0x1342e0,_0x5dc629)=>{if(_0x5dc629[a164_0x5a83('0x3e')][a164_0x5a83('0x41')])return;const _0x4621ab=await ReactionRoleGroup_1[a164_0x5a83('0x33')][a164_0x5a83('0x45')](_0x1342e0['message']['id']);if(!_0x4621ab)return;const _0x2b5002=_0x1342e0[a164_0x5a83('0x3f')]['id']?'<'+(_0x1342e0[a164_0x5a83('0x3f')][a164_0x5a83('0x7')]?'a':'')+':'+_0x1342e0[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')]+':'+_0x1342e0[a164_0x5a83('0x3f')]['id']+'>':_0x1342e0[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')];const _0x5843d6=emojis[a164_0x5a83('0x3a')](_0x2b5002);if(_0x5843d6){const _0xb9c376=await Role_1[a164_0x5a83('0x33')]['findOne']({'$or':_0x4621ab['roles']['map'](_0x216e2d=>({'_id':_0x216e2d})),'guild':_0x1342e0['message']['guild']['id'],'emoji':_0x5843d6[a164_0x5a83('0x27')]});if(!_0xb9c376)return;if(_0x4621ab[a164_0x5a83('0x3b')]){for(const _0x4615a7 of _0x1342e0['message'][a164_0x5a83('0x34')][a164_0x5a83('0x15')]['filter'](_0x37aa79=>_0x37aa79[a164_0x5a83('0x30')][a164_0x5a83('0x15')][a164_0x5a83('0x2d')](_0x5dc629[a164_0x5a83('0x3e')]['id'])&&_0x37aa79[a164_0x5a83('0x3f')][a164_0x5a83('0x4f')]!==_0x1342e0[a164_0x5a83('0x3f')]['name'])[a164_0x5a83('0x1')]()){await _0x4615a7['users'][a164_0x5a83('0x1f')](_0x5dc629)[a164_0x5a83('0x19')](()=>{});}await _0x5dc629[a164_0x5a83('0x4d')][a164_0x5a83('0x1f')](_0x4621ab[a164_0x5a83('0x4d')],a164_0x5a83('0x25'));}await _0x5dc629['roles'][a164_0x5a83('0x49')](_0xb9c376[a164_0x5a83('0x3d')],a164_0x5a83('0x10'));}};this[a164_0x5a83('0x16')]=async(_0x398c89,_0xf2f0a2)=>{if(_0x398c89[a164_0x5a83('0x2f')]){_0x398c89=await _0x398c89[a164_0x5a83('0x42')]();}if(_0x398c89[a164_0x5a83('0x32')]['partial']){_0x398c89[a164_0x5a83('0x32')]=await _0x398c89[a164_0x5a83('0x32')][a164_0x5a83('0x42')]();}if(!_0x398c89[a164_0x5a83('0x32')]['guild'])return;const _0x4a84f9=_0x398c89[a164_0x5a83('0x32')][a164_0x5a83('0x1c')][a164_0x5a83('0x2a')](_0xf2f0a2);this[a164_0x5a83('0x43')](_0x398c89,_0x4a84f9)[a164_0x5a83('0x19')](()=>{});const _0x5a2b05=await _0x398c89[a164_0x5a83('0x32')]['guild'][a164_0x5a83('0x39')]();if(_0x5a2b05[a164_0x5a83('0x26')]&&_0x398c89[a164_0x5a83('0x32')]['channel']['id']===_0x5a2b05['suggestionsChannelId']){this[a164_0x5a83('0x24')](_0x398c89,_0x4a84f9)['catch'](()=>{});}if(_0x5a2b05[a164_0x5a83('0x47')]&&_0x398c89['message'][a164_0x5a83('0x1c')][a164_0x5a83('0xa')][a164_0x5a83('0x15')][a164_0x5a83('0x2d')](_0x5a2b05[a164_0x5a83('0x47')])){this[a164_0x5a83('0x50')](_0x398c89,_0x4a84f9,_0x398c89[a164_0x5a83('0x32')]['guild'][a164_0x5a83('0xa')][a164_0x5a83('0x15')]['get'](_0x5a2b05[a164_0x5a83('0x47')]))[a164_0x5a83('0x19')](()=>{});}if(_0x5a2b05['reactionAnnouncements']&&_0x398c89[a164_0x5a83('0x32')][a164_0x5a83('0x1c')]['channels'][a164_0x5a83('0x15')][a164_0x5a83('0x2d')](_0x5a2b05['announcementsChannelId'])){this[a164_0x5a83('0x31')](_0x398c89,_0x4a84f9,_0x398c89[a164_0x5a83('0x32')][a164_0x5a83('0x1c')][a164_0x5a83('0xa')][a164_0x5a83('0x15')]['get'](_0x5a2b05[a164_0x5a83('0x22')]))[a164_0x5a83('0x19')](()=>{});}if(_0x5a2b05['reactionPinning']){this['handleReactionPinning'](_0x398c89,_0x4a84f9)['catch'](()=>{});}};}};