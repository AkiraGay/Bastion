const a168_0x3d03=['COLORS','findOne','permissionsFor','pin','findById','attachments','partial','constructor','starboard','MANAGE_MESSAGES','parseEmoji','handleStarboard','Source','\x20announced\x20via\x20Announcement\x20Pinnning.','@bastion/tesseract','Listener','filter','MANAGE_GUILD','user','bot','width','handleSuggestions','displayAvatarURL','emoji','Added\x20via\x20Reaction\x20Roles','reactions','height','roles','send','users','YELLOW','url','announcementsChannelId','exec','guild','title','starboardChannelId','default','../utils/emojis','includes','name','size','member','color','Starboard','exports','apply','get','permissions','Auto\x20Removed\x20via\x20Reaction\x20Roles','channel','message','Constants','handleReactionAnnouncement','remove','animated','text','Rejected','_id','cache','has','RED','push','exclusive','Suggestion','fetch','suggestionsChannelId','reactionPinning','tag','catch','author','map','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','embeds','channels','Suggestion\x20','GREEN','startsWith','content','../utils/memcache','values','reactionAnnouncements','handleReactionPinning','footer','value','handleReactionRoles'];(function(_0x45d45c,_0x3d0307){const _0x50e9be=function(_0x4fd74d){while(--_0x4fd74d){_0x45d45c['push'](_0x45d45c['shift']());}},_0x161f81=function(){const _0x420db8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x278aab,_0x3e6a39,_0x3df9e5,_0x315768){_0x315768=_0x315768||{};let _0xeef1e0=_0x3e6a39+'='+_0x3df9e5,_0x4fc7ee=0x0;for(let _0x4bfa9f=0x0,_0x1b6a37=_0x278aab['length'];_0x4bfa9f<_0x1b6a37;_0x4bfa9f++){const _0x5a076e=_0x278aab[_0x4bfa9f];_0xeef1e0+=';\x20'+_0x5a076e;const _0x501c43=_0x278aab[_0x5a076e];_0x278aab['push'](_0x501c43),_0x1b6a37=_0x278aab['length'],_0x501c43!==!![]&&(_0xeef1e0+='='+_0x501c43);}_0x315768['cookie']=_0xeef1e0;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd73dc7,_0x4dbe01){_0xd73dc7=_0xd73dc7||function(_0x2a0165){return _0x2a0165;};const _0x4bd970=_0xd73dc7(new RegExp('(?:^|;\x20)'+_0x4dbe01['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x392a71=function(_0x42bae4,_0x871fb1){_0x42bae4(++_0x871fb1);};return _0x392a71(_0x50e9be,_0x3d0307),_0x4bd970?decodeURIComponent(_0x4bd970[0x1]):undefined;}},_0x5b42c7=function(){const _0x5929d8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5929d8['test'](_0x420db8['removeCookie']['toString']());};_0x420db8['updateCookie']=_0x5b42c7;let _0x1c90ba='';const _0x3fb43e=_0x420db8['updateCookie']();if(!_0x3fb43e)_0x420db8['setCookie'](['*'],'counter',0x1);else _0x3fb43e?_0x1c90ba=_0x420db8['getCookie'](null,'counter'):_0x420db8['removeCookie']();};_0x161f81();}(a168_0x3d03,0x189));const a168_0x50e9=function(_0x45d45c,_0x3d0307){_0x45d45c=_0x45d45c-0x0;let _0x50e9be=a168_0x3d03[_0x45d45c];return _0x50e9be;};const a168_0x3df9e5=function(){let _0x58f496=!![];return function(_0x16821,_0x1c0bb5){const _0x1de05c=_0x58f496?function(){if(_0x1c0bb5){const _0x56300d=_0x1c0bb5[a168_0x50e9('0x53')](_0x16821,arguments);return _0x1c0bb5=null,_0x56300d;}}:function(){};return _0x58f496=![],_0x1de05c;};}(),a168_0x3e6a39=a168_0x3df9e5(this,function(){const _0x2181aa=function(){const _0x54986e=_0x2181aa['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a168_0x50e9('0x2c')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x54986e['test'](a168_0x3e6a39);};return _0x2181aa();});a168_0x3e6a39();'use strict';const tesseract_1=require(a168_0x50e9('0x33')),ReactionRoleGroup_1=require('../models/ReactionRoleGroup'),Role_1=require('../models/Role'),emojis=require(a168_0x50e9('0x4b')),memcache_1=require(a168_0x50e9('0x1e'));module[a168_0x50e9('0x52')]=class MessageReactionAddListener extends tesseract_1[a168_0x50e9('0x34')]{constructor(){super('messageReactionAdd',{'mode':tesseract_1[a168_0x50e9('0x3')]['LISTENER_MODE']['ON']}),this[a168_0x50e9('0x3a')]=async(_0x3d2def,_0x89255b)=>{if(_0x89255b[a168_0x50e9('0x37')][a168_0x50e9('0x38')])return;if(!['‚úÖ','‚ùé'][a168_0x50e9('0x4c')](_0x3d2def[a168_0x50e9('0x3c')][a168_0x50e9('0x4d')]))return;if(!_0x3d2def[a168_0x50e9('0x2')][a168_0x50e9('0x1')]['permissionsFor'](_0x89255b)[a168_0x50e9('0xb')]('MANAGE_CHANNELS'))return;const _0x573d72=_0x3d2def['message'],_0x10992c=_0x573d72[a168_0x50e9('0x18')][0x0];if(!_0x10992c)return;if(!_0x10992c[a168_0x50e9('0x48')][a168_0x50e9('0x1c')](a168_0x50e9('0xf')))return;_0x10992c[a168_0x50e9('0x50')]=_0x3d2def['emoji']['name']==='‚úÖ'?tesseract_1[a168_0x50e9('0x3')]['COLORS'][a168_0x50e9('0x1b')]:_0x3d2def[a168_0x50e9('0x3c')][a168_0x50e9('0x4d')]==='‚ùé'?tesseract_1[a168_0x50e9('0x3')]['COLORS'][a168_0x50e9('0xc')]:tesseract_1[a168_0x50e9('0x3')][a168_0x50e9('0x25')]['INDIGO'],_0x10992c['title']=a168_0x50e9('0x1a')+(_0x3d2def[a168_0x50e9('0x3c')][a168_0x50e9('0x4d')]==='‚úÖ'?'Accepted':_0x3d2def[a168_0x50e9('0x3c')][a168_0x50e9('0x4d')]==='‚ùé'?a168_0x50e9('0x8'):''),await _0x573d72['edit']({'embed':_0x10992c});},this['handleStarboard']=async(_0x22d1de,_0x1735a3,_0x29e668)=>{if(!['üå†','üåü','‚≠ê']['includes'](_0x22d1de[a168_0x50e9('0x3c')]['name']))return;if(_0x1735a3[a168_0x50e9('0x40')][a168_0x50e9('0xa')][a168_0x50e9('0x4e')]<=0x1)return;if(_0x22d1de[a168_0x50e9('0x2')][a168_0x50e9('0x15')]['id']===_0x1735a3[a168_0x50e9('0x37')]['id'])return;const _0x40a7d4=_0x22d1de['message'][a168_0x50e9('0x2a')][a168_0x50e9('0x35')](_0x209cba=>Boolean(_0x209cba[a168_0x50e9('0x3f')]&&_0x209cba[a168_0x50e9('0x39')])),_0x4f5c43=_0x40a7d4['first']();if(!_0x22d1de[a168_0x50e9('0x2')][a168_0x50e9('0x1d')]&&!_0x4f5c43)return;const _0x4a7aec=memcache_1[a168_0x50e9('0x4a')][a168_0x50e9('0x54')](a168_0x50e9('0x2d'));if(_0x4a7aec&&_0x4a7aec instanceof Array&&_0x4a7aec[a168_0x50e9('0x4c')](_0x22d1de[a168_0x50e9('0x2')]['id']))return;await _0x29e668['send']({'embed':{'color':tesseract_1['Constants'][a168_0x50e9('0x25')][a168_0x50e9('0x43')],'author':{'name':_0x22d1de[a168_0x50e9('0x2')][a168_0x50e9('0x15')][a168_0x50e9('0x13')],'iconURL':_0x22d1de['message'][a168_0x50e9('0x15')][a168_0x50e9('0x3b')]({'dynamic':!![],'size':0x40})},'description':_0x22d1de[a168_0x50e9('0x2')]['content'],'fields':[{'name':a168_0x50e9('0x31'),'value':a168_0x50e9('0x17')+_0x22d1de['message'][a168_0x50e9('0x44')]+')','inline':!![]}],'image':{'url':_0x4f5c43?_0x4f5c43[a168_0x50e9('0x44')]:null},'footer':{'text':a168_0x50e9('0x51')}}}),_0x4a7aec&&_0x4a7aec instanceof Array&&_0x4a7aec[a168_0x50e9('0xd')](_0x22d1de[a168_0x50e9('0x2')]['id']),memcache_1[a168_0x50e9('0x4a')]['set']('starboard',_0x4a7aec?_0x4a7aec:[_0x22d1de['message']['id']]);},this[a168_0x50e9('0x4')]=async(_0x24100c,_0x8cc171,_0x463d0f)=>{if(!['üì£','üì¢']['includes'](_0x24100c[a168_0x50e9('0x3c')][a168_0x50e9('0x4d')]))return;if(!_0x8cc171[a168_0x50e9('0x55')]['has'](a168_0x50e9('0x36')))return;const _0x3a4411=_0x8cc171[a168_0x50e9('0x37')][a168_0x50e9('0x13')]+a168_0x50e9('0x32'),_0x161b7c=_0x24100c[a168_0x50e9('0x2')][a168_0x50e9('0x18')]&&_0x24100c['message'][a168_0x50e9('0x18')]['length']?_0x24100c[a168_0x50e9('0x2')][a168_0x50e9('0x18')][0x0]:{};_0x161b7c[a168_0x50e9('0x22')]={..._0x161b7c[a168_0x50e9('0x22')],'text':_0x161b7c[a168_0x50e9('0x22')]&&_0x161b7c[a168_0x50e9('0x22')][a168_0x50e9('0x7')]?_0x3a4411+'\x20‚Ä¢\x20'+_0x161b7c[a168_0x50e9('0x22')][a168_0x50e9('0x7')]:_0x3a4411},await _0x463d0f[a168_0x50e9('0x41')](_0x24100c[a168_0x50e9('0x2')][a168_0x50e9('0x1d')],{'embed':_0x161b7c,'files':[..._0x24100c[a168_0x50e9('0x2')][a168_0x50e9('0x2a')]['values']()]});},this[a168_0x50e9('0x21')]=async(_0x446f55,_0x4187cd)=>{if(!['üìå','üìç']['includes'](_0x446f55[a168_0x50e9('0x3c')][a168_0x50e9('0x4d')]))return;if(!_0x446f55[a168_0x50e9('0x2')][a168_0x50e9('0x1')][a168_0x50e9('0x27')](_0x4187cd)['has'](a168_0x50e9('0x2e')))return;await _0x446f55['message'][a168_0x50e9('0x28')]();},this[a168_0x50e9('0x24')]=async(_0x49e447,_0x12ec88)=>{if(_0x12ec88[a168_0x50e9('0x37')][a168_0x50e9('0x38')])return;const _0x516b49=await ReactionRoleGroup_1['default'][a168_0x50e9('0x29')](_0x49e447[a168_0x50e9('0x2')]['id']);if(!_0x516b49)return;const _0x5d30cf=_0x49e447['emoji']['id']?'<'+(_0x49e447[a168_0x50e9('0x3c')][a168_0x50e9('0x6')]?'a':'')+':'+_0x49e447['emoji'][a168_0x50e9('0x4d')]+':'+_0x49e447[a168_0x50e9('0x3c')]['id']+'>':_0x49e447[a168_0x50e9('0x3c')]['name'],_0x44bc8e=emojis[a168_0x50e9('0x2f')](_0x5d30cf);if(_0x44bc8e){const _0x2baefd=await Role_1[a168_0x50e9('0x4a')][a168_0x50e9('0x26')]({'$or':_0x516b49['roles'][a168_0x50e9('0x16')](_0x1e28c2=>({'_id':_0x1e28c2})),'guild':_0x49e447['message'][a168_0x50e9('0x47')]['id'],'emoji':_0x44bc8e[a168_0x50e9('0x23')]});if(!_0x2baefd)return;if(_0x516b49[a168_0x50e9('0xe')]){for(const _0x43fca9 of _0x49e447[a168_0x50e9('0x2')][a168_0x50e9('0x3e')][a168_0x50e9('0xa')][a168_0x50e9('0x35')](_0x28e4da=>_0x28e4da[a168_0x50e9('0x42')][a168_0x50e9('0xa')][a168_0x50e9('0xb')](_0x12ec88['user']['id'])&&_0x28e4da[a168_0x50e9('0x3c')]['name']!==_0x49e447['emoji'][a168_0x50e9('0x4d')])[a168_0x50e9('0x1f')]()){await _0x43fca9[a168_0x50e9('0x42')]['remove'](_0x12ec88)[a168_0x50e9('0x14')](()=>{});}await _0x12ec88[a168_0x50e9('0x40')][a168_0x50e9('0x5')](_0x516b49[a168_0x50e9('0x40')],a168_0x50e9('0x0'));}await _0x12ec88[a168_0x50e9('0x40')]['add'](_0x2baefd[a168_0x50e9('0x9')],a168_0x50e9('0x3d'));}},this[a168_0x50e9('0x46')]=async(_0x293d79,_0x1d1afc)=>{_0x293d79[a168_0x50e9('0x2b')]&&(_0x293d79=await _0x293d79[a168_0x50e9('0x10')]());_0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x2b')]&&(_0x293d79['message']=await _0x293d79[a168_0x50e9('0x2')]['fetch']());if(!_0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x47')])return;const _0x30972a=_0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x47')][a168_0x50e9('0x4f')](_0x1d1afc);this['handleReactionRoles'](_0x293d79,_0x30972a)['catch'](()=>{});const _0x4a7b26=await _0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x47')]['getDocument']();_0x4a7b26[a168_0x50e9('0x11')]&&_0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x1')]['id']===_0x4a7b26['suggestionsChannelId']&&this[a168_0x50e9('0x3a')](_0x293d79,_0x30972a)[a168_0x50e9('0x14')](()=>{}),_0x4a7b26[a168_0x50e9('0x49')]&&_0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x47')][a168_0x50e9('0x19')][a168_0x50e9('0xa')][a168_0x50e9('0xb')](_0x4a7b26['starboardChannelId'])&&this[a168_0x50e9('0x30')](_0x293d79,_0x30972a,_0x293d79[a168_0x50e9('0x2')]['guild'][a168_0x50e9('0x19')]['cache']['get'](_0x4a7b26[a168_0x50e9('0x49')]))[a168_0x50e9('0x14')](()=>{}),_0x4a7b26[a168_0x50e9('0x20')]&&_0x293d79[a168_0x50e9('0x2')]['guild'][a168_0x50e9('0x19')][a168_0x50e9('0xa')][a168_0x50e9('0xb')](_0x4a7b26['announcementsChannelId'])&&this[a168_0x50e9('0x4')](_0x293d79,_0x30972a,_0x293d79[a168_0x50e9('0x2')][a168_0x50e9('0x47')]['channels'][a168_0x50e9('0xa')][a168_0x50e9('0x54')](_0x4a7b26[a168_0x50e9('0x45')]))[a168_0x50e9('0x14')](()=>{}),_0x4a7b26[a168_0x50e9('0x12')]&&this[a168_0x50e9('0x21')](_0x293d79,_0x30972a)[a168_0x50e9('0x14')](()=>{});};}};