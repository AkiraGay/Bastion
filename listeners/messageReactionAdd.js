const a177_0x385d=['width','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','member','length','values','apply','startsWith','text','url','suggestionsChannelId','reactionPinning','embeds','guild','Constants','displayName','handleSuggestions','topic','animated','RED','messageReactionAdd','displayAvatarURL','YELLOW','has','starboard','_id','handleGameLobby','exclusive','remove','filter','name','handleStarboard','../models/ReactionRoleGroup','Listener','\x20‚Ä¢\x20','delete','findById','GREEN','children','Source','get','setChannel','../utils/memcache','tag','COLORS','permissions','exports','reactions','trim','fetch','edit','author','return\x20/\x22\x20+\x20this\x20+\x20\x22/','MANAGE_CHANNELS','Logger','attachments','constructor','Pin\x20reaction\x20added\x20by\x20','catch','first','handleReactionRoles','handleVoiceSessions','announcementsChannelId','members','MANAGE_GUILD','height','Locking\x20Voice\x20Session','title','MANAGE_MESSAGES','value','roles','emoji','LISTENER_MODE','cache','parentID','categories','exec','parseEmoji','partial','Among\x20Us\x20Lobby\x20','Rejected','Added\x20via\x20Reaction\x20Roles','send','default','starboardChannelId','reactionAnnouncements','../models/Role','footer','map','Voice\x20Session\x20Control','INDIGO','Suggestion\x20','voice','push','üñêüèª','findOne','handleReactionAnnouncement','parent','permissionsFor','bot','users','@bastion/tesseract','test','find','channels','message','color','content','getDocument','add','updateOverwrite','handleReactionPinning','../utils/emojis','voiceSessions','user','Accepted','Discussion','client','includes','channel'];(function(_0x18c514,_0x385def){const _0x2cd3b5=function(_0x5df71c){while(--_0x5df71c){_0x18c514['push'](_0x18c514['shift']());}},_0x29f1d1=function(){const _0x29a737={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1bb130,_0x2723fd,_0x515268,_0xc3b7e0){_0xc3b7e0=_0xc3b7e0||{};let _0x53df39=_0x2723fd+'='+_0x515268,_0x33d2d8=0x0;for(let _0xd4e3ed=0x0,_0x350e04=_0x1bb130['length'];_0xd4e3ed<_0x350e04;_0xd4e3ed++){const _0x5c8349=_0x1bb130[_0xd4e3ed];_0x53df39+=';\x20'+_0x5c8349;const _0xb7f280=_0x1bb130[_0x5c8349];_0x1bb130['push'](_0xb7f280),_0x350e04=_0x1bb130['length'],_0xb7f280!==!![]&&(_0x53df39+='='+_0xb7f280);}_0xc3b7e0['cookie']=_0x53df39;},'removeCookie':function(){return'dev';},'getCookie':function(_0x165858,_0x28b60c){_0x165858=_0x165858||function(_0x1f4928){return _0x1f4928;};const _0x374e49=_0x165858(new RegExp('(?:^|;\x20)'+_0x28b60c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x107667=function(_0x52bea0,_0x25407e){_0x52bea0(++_0x25407e);};return _0x107667(_0x2cd3b5,_0x385def),_0x374e49?decodeURIComponent(_0x374e49[0x1]):undefined;}},_0x5a7e46=function(){const _0x593fb5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x593fb5['test'](_0x29a737['removeCookie']['toString']());};_0x29a737['updateCookie']=_0x5a7e46;let _0x222bd9='';const _0x2020ac=_0x29a737['updateCookie']();if(!_0x2020ac)_0x29a737['setCookie'](['*'],'counter',0x1);else _0x2020ac?_0x222bd9=_0x29a737['getCookie'](null,'counter'):_0x29a737['removeCookie']();};_0x29f1d1();}(a177_0x385d,0x148));const a177_0x2cd3=function(_0x18c514,_0x385def){_0x18c514=_0x18c514-0x0;let _0x2cd3b5=a177_0x385d[_0x18c514];return _0x2cd3b5;};const _0x2e6574=a177_0x2cd3,a177_0x29a737=function(){let _0x222bd9=!![];return function(_0x2020ac,_0x1bb130){const _0x2723fd=_0x222bd9?function(){const _0x178abe=a177_0x2cd3;if(_0x1bb130){const _0x515268=_0x1bb130[_0x178abe('0x22')](_0x2020ac,arguments);return _0x1bb130=null,_0x515268;}}:function(){};return _0x222bd9=![],_0x2723fd;};}(),a177_0x5df71c=a177_0x29a737(this,function(){const _0xc3b7e0=function(){const _0x3bc31b=a177_0x2cd3,_0x53df39=_0xc3b7e0['constructor'](_0x3bc31b('0x50'))()[_0x3bc31b('0x54')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x53df39[_0x3bc31b('0xb')](a177_0x5df71c);};return _0xc3b7e0();});a177_0x5df71c();'use strict';const tesseract_1=require(_0x2e6574('0xa')),ReactionRoleGroup_1=require(_0x2e6574('0x3c')),Role_1=require(_0x2e6574('0x72')),emojis=require(_0x2e6574('0x15')),memcache_1=require(_0x2e6574('0x46'));module[_0x2e6574('0x4a')]=class MessageReactionAddListener extends tesseract_1[_0x2e6574('0x3d')]{constructor(){const _0xc91311=_0x2e6574;super(_0xc91311('0x30'),{'mode':tesseract_1[_0xc91311('0x2a')][_0xc91311('0x64')]['ON']}),this[_0xc91311('0x2c')]=async(_0x33d2d8,_0xd4e3ed)=>{const _0x537065=_0xc91311;if(_0xd4e3ed['user']['bot'])return;if(!['‚úÖ','‚ùé'][_0x537065('0x1b')](_0x33d2d8['emoji'][_0x537065('0x3a')]))return;if(!_0x33d2d8[_0x537065('0xe')][_0x537065('0x1c')][_0x537065('0x7')](_0xd4e3ed)[_0x537065('0x33')](_0x537065('0x51')))return;const _0x350e04=_0x33d2d8[_0x537065('0xe')],_0x5c8349=_0x350e04[_0x537065('0x28')][0x0];if(!_0x5c8349)return;if(!_0x5c8349[_0x537065('0x5f')][_0x537065('0x23')]('Suggestion'))return;_0x5c8349[_0x537065('0xf')]=_0x33d2d8[_0x537065('0x63')]['name']==='‚úÖ'?tesseract_1[_0x537065('0x2a')]['COLORS'][_0x537065('0x41')]:_0x33d2d8[_0x537065('0x63')][_0x537065('0x3a')]==='‚ùé'?tesseract_1[_0x537065('0x2a')][_0x537065('0x48')][_0x537065('0x2f')]:tesseract_1['Constants'][_0x537065('0x48')][_0x537065('0x76')],_0x5c8349[_0x537065('0x5f')]=_0x537065('0x0')+(_0x33d2d8[_0x537065('0x63')][_0x537065('0x3a')]==='‚úÖ'?_0x537065('0x18'):_0x33d2d8[_0x537065('0x63')]['name']==='‚ùé'?_0x537065('0x6c'):''),await _0x350e04[_0x537065('0x4e')]({'embed':_0x5c8349});},this[_0xc91311('0x3b')]=async(_0xb7f280,_0x165858,_0x28b60c)=>{const _0x18e496=_0xc91311;if(!['üå†','üåü','‚≠ê']['includes'](_0xb7f280[_0x18e496('0x63')][_0x18e496('0x3a')]))return;if(_0x165858[_0x18e496('0x62')][_0x18e496('0x65')]['size']<=0x1)return;if(_0xb7f280['message'][_0x18e496('0x4f')]['id']===_0x165858[_0x18e496('0x17')]['id'])return;const _0x374e49=_0xb7f280[_0x18e496('0xe')]['attachments'][_0x18e496('0x39')](_0x52bea0=>Boolean(_0x52bea0[_0x18e496('0x5d')]&&_0x52bea0[_0x18e496('0x1d')])),_0x107667=_0x374e49[_0x18e496('0x57')]();if(!_0xb7f280['message'][_0x18e496('0x10')]&&!_0x107667)return;const _0x1f4928=memcache_1['default']['get'](_0x18e496('0x34'));if(_0x1f4928&&_0x1f4928 instanceof Array&&_0x1f4928[_0x18e496('0x1b')](_0xb7f280[_0x18e496('0xe')]['id']))return;await _0x28b60c['send']({'embed':{'color':tesseract_1[_0x18e496('0x2a')]['COLORS'][_0x18e496('0x32')],'author':{'name':_0xb7f280['message'][_0x18e496('0x4f')]['tag'],'iconURL':_0xb7f280['message']['author'][_0x18e496('0x31')]({'dynamic':!![],'size':0x40})},'description':_0xb7f280[_0x18e496('0xe')][_0x18e496('0x10')],'fields':[{'name':_0x18e496('0x43'),'value':_0x18e496('0x1e')+_0xb7f280[_0x18e496('0xe')][_0x18e496('0x25')]+')','inline':!![]}],'image':{'url':_0x107667?_0x107667['url']:null},'footer':{'text':'Starboard'}}}),_0x1f4928&&_0x1f4928 instanceof Array&&_0x1f4928[_0x18e496('0x2')](_0xb7f280[_0x18e496('0xe')]['id']),memcache_1[_0x18e496('0x6f')]['set']('starboard',_0x1f4928?_0x1f4928:[_0xb7f280[_0x18e496('0xe')]['id']]);},this[_0xc91311('0x5')]=async(_0x25407e,_0x593fb5,_0x24bee4)=>{const _0xbe18c4=_0xc91311;if(!['üì£','üì¢'][_0xbe18c4('0x1b')](_0x25407e[_0xbe18c4('0x63')]['name']))return;if(!_0x593fb5[_0xbe18c4('0x49')][_0xbe18c4('0x33')](_0xbe18c4('0x5c')))return;const _0x32047f=_0x593fb5[_0xbe18c4('0x17')][_0xbe18c4('0x47')]+'\x20announced\x20via\x20Announcement\x20Pinnning.',_0xf274c7=_0x25407e[_0xbe18c4('0xe')][_0xbe18c4('0x28')]&&_0x25407e['message'][_0xbe18c4('0x28')][_0xbe18c4('0x20')]?_0x25407e[_0xbe18c4('0xe')][_0xbe18c4('0x28')][0x0]:{};_0xf274c7[_0xbe18c4('0x73')]={..._0xf274c7[_0xbe18c4('0x73')],'text':_0xf274c7['footer']&&_0xf274c7[_0xbe18c4('0x73')][_0xbe18c4('0x24')]?_0x32047f+_0xbe18c4('0x3e')+_0xf274c7[_0xbe18c4('0x73')][_0xbe18c4('0x24')]:_0x32047f},await _0x24bee4[_0xbe18c4('0x6e')](_0x25407e[_0xbe18c4('0xe')][_0xbe18c4('0x10')],{'embed':_0xf274c7,'files':[..._0x25407e['message'][_0xbe18c4('0x53')][_0xbe18c4('0x21')]()]});},this[_0xc91311('0x14')]=async(_0x25c48f,_0x1a6ca5)=>{const _0x502cca=_0xc91311;if(!['üìå','üìç'][_0x502cca('0x1b')](_0x25c48f['emoji'][_0x502cca('0x3a')]))return;if(!_0x25c48f[_0x502cca('0xe')]['channel'][_0x502cca('0x7')](_0x1a6ca5)[_0x502cca('0x33')](_0x502cca('0x60')))return;await _0x25c48f[_0x502cca('0xe')]['pin']({'reason':_0x502cca('0x55')+_0x1a6ca5[_0x502cca('0x17')]?_0x1a6ca5[_0x502cca('0x17')][_0x502cca('0x47')]:_0x1a6ca5['id']});},this['handleReactionRoles']=async(_0x1a1253,_0x292c2f)=>{const _0x1973db=_0xc91311;if(_0x292c2f[_0x1973db('0x17')][_0x1973db('0x8')])return;const _0x13c55a=await ReactionRoleGroup_1[_0x1973db('0x6f')][_0x1973db('0x40')](_0x1a1253[_0x1973db('0xe')]['id']);if(!_0x13c55a)return;const _0x41d2be=_0x1a1253[_0x1973db('0x63')]['id']?'<'+(_0x1a1253[_0x1973db('0x63')][_0x1973db('0x2e')]?'a':'')+':'+_0x1a1253['emoji'][_0x1973db('0x3a')]+':'+_0x1a1253[_0x1973db('0x63')]['id']+'>':_0x1a1253[_0x1973db('0x63')][_0x1973db('0x3a')],_0x4867d8=emojis[_0x1973db('0x69')](_0x41d2be);if(_0x4867d8){const _0x3db0b5=await Role_1[_0x1973db('0x6f')][_0x1973db('0x4')]({'$or':_0x13c55a[_0x1973db('0x62')][_0x1973db('0x74')](_0x267238=>({'_id':_0x267238})),'guild':_0x1a1253[_0x1973db('0xe')][_0x1973db('0x29')]['id'],'emoji':_0x4867d8[_0x1973db('0x61')]});if(!_0x3db0b5)return;if(_0x13c55a[_0x1973db('0x37')]){for(const _0x3453d7 of _0x1a1253[_0x1973db('0xe')][_0x1973db('0x4b')][_0x1973db('0x65')][_0x1973db('0x39')](_0x574e19=>_0x574e19[_0x1973db('0x9')][_0x1973db('0x65')][_0x1973db('0x33')](_0x292c2f['user']['id'])&&_0x574e19[_0x1973db('0x63')]['name']!==_0x1a1253[_0x1973db('0x63')][_0x1973db('0x3a')])['values']()){await _0x3453d7['users'][_0x1973db('0x38')](_0x292c2f)[_0x1973db('0x56')](()=>{});}await _0x292c2f['roles'][_0x1973db('0x38')](_0x13c55a[_0x1973db('0x62')],'Auto\x20Removed\x20via\x20Reaction\x20Roles');}await _0x292c2f[_0x1973db('0x62')][_0x1973db('0x12')](_0x3db0b5[_0x1973db('0x35')],_0x1973db('0x6d'));}},this['handleVoiceSessions']=async(_0x5c595d,_0x10187d,_0x45f4d8)=>{const _0xdc156c=_0xc91311;if(_0x10187d[_0xdc156c('0x17')][_0xdc156c('0x8')])return;if(!_0x45f4d8[_0xdc156c('0x16')]||!_0x45f4d8[_0xdc156c('0x16')][_0xdc156c('0x67')])return;if(!['üîí','üîì'][_0xdc156c('0x1b')](_0x5c595d['emoji'][_0xdc156c('0x3a')]))return;if(_0x5c595d[_0xdc156c('0xe')][_0xdc156c('0x4f')]['id']!==_0x10187d[_0xdc156c('0x1a')]['user']['id'])return;if(!_0x5c595d['message']['embeds'][_0xdc156c('0x20')]||!_0x5c595d['message'][_0xdc156c('0x28')][0x0][_0xdc156c('0x5f')]||!_0x5c595d[_0xdc156c('0xe')]['embeds'][0x0][_0xdc156c('0x5f')][_0xdc156c('0x23')](_0xdc156c('0x75'))||!_0x5c595d[_0xdc156c('0xe')][_0xdc156c('0x1c')]['parentID'])return;if(!_0x45f4d8[_0xdc156c('0x16')][_0xdc156c('0x67')]['includes'](_0x5c595d['message'][_0xdc156c('0x1c')][_0xdc156c('0x66')]))return;if(_0x10187d[_0xdc156c('0x1')]&&_0x10187d[_0xdc156c('0x1')]['channel']&&_0x10187d[_0xdc156c('0x1')][_0xdc156c('0x1c')][_0xdc156c('0x66')]&&_0x45f4d8[_0xdc156c('0x16')]['categories'][_0xdc156c('0x1b')](_0x5c595d[_0xdc156c('0xe')][_0xdc156c('0x1c')][_0xdc156c('0x66')])&&_0x10187d['voice']['channel'][_0xdc156c('0x3a')][_0xdc156c('0x23')](_0x10187d[_0xdc156c('0x2b')]+'\x27')){if(_0x5c595d[_0xdc156c('0x63')]['name']==='üîí')await _0x10187d[_0xdc156c('0x1')][_0xdc156c('0x1c')]['updateOverwrite'](_0x5c595d[_0xdc156c('0xe')][_0xdc156c('0x29')]['id'],{'CONNECT':![]},_0xdc156c('0x5e')),await _0x5c595d[_0xdc156c('0x9')]['remove'](_0x10187d)[_0xdc156c('0x56')](()=>{});else _0x5c595d[_0xdc156c('0x63')][_0xdc156c('0x3a')]==='üîì'&&(await _0x10187d['voice'][_0xdc156c('0x1c')][_0xdc156c('0x13')](_0x5c595d['message']['guild']['id'],{'CONNECT':!![]},'Unlocking\x20Voice\x20Session'),await _0x5c595d['users']['remove'](_0x10187d)[_0xdc156c('0x56')](()=>{}));}},this[_0xc91311('0x36')]=async(_0x4133cd,_0xf8c39f)=>{const _0x46fba5=_0xc91311;if(_0xf8c39f[_0x46fba5('0x17')][_0x46fba5('0x8')])return;if(!['üîà','üëª',_0x46fba5('0x3'),'üîá','üîì','‚ùå'][_0x46fba5('0x1b')](_0x4133cd[_0x46fba5('0x63')][_0x46fba5('0x3a')]))return;if(!_0x4133cd[_0x46fba5('0xe')][_0x46fba5('0x28')][_0x46fba5('0x20')]||!_0x4133cd[_0x46fba5('0xe')]['embeds'][0x0][_0x46fba5('0x5f')]||!_0x4133cd[_0x46fba5('0xe')][_0x46fba5('0x28')][0x0]['title'][_0x46fba5('0x23')](_0x46fba5('0x6b'))||!_0x4133cd[_0x46fba5('0xe')]['channel'][_0x46fba5('0x66')])return;const _0x5f3ddc=_0x4133cd['message'][_0x46fba5('0x1c')][_0x46fba5('0x6')][_0x46fba5('0x42')][_0x46fba5('0xc')](_0x5872bc=>_0x5872bc[_0x46fba5('0x3a')]===_0x46fba5('0x19')),_0x2857e5=_0x4133cd['message']['channel'][_0x46fba5('0x6')][_0x46fba5('0x42')][_0x46fba5('0xc')](_0x5ae439=>_0x5ae439[_0x46fba5('0x3a')]==='Muted');if(_0x4133cd[_0x46fba5('0x63')][_0x46fba5('0x3a')]===_0x46fba5('0x3')&&_0x4133cd[_0x46fba5('0xe')]['channel'][_0x46fba5('0x2d')][_0x46fba5('0x4c')]()===_0xf8c39f['id']){for(const _0x146855 of _0x2857e5[_0x46fba5('0x5b')]['values']()){await _0x146855[_0x46fba5('0x1')][_0x46fba5('0x45')](_0x5f3ddc);}await _0x4133cd[_0x46fba5('0x9')][_0x46fba5('0x38')](_0xf8c39f)[_0x46fba5('0x56')](()=>{});}else{if(_0x4133cd[_0x46fba5('0x63')][_0x46fba5('0x3a')]==='üîá'&&_0x4133cd[_0x46fba5('0xe')][_0x46fba5('0x1c')][_0x46fba5('0x2d')]['trim']()===_0xf8c39f['id']){for(const _0x44f392 of _0x5f3ddc[_0x46fba5('0x5b')]['values']()){await _0x44f392[_0x46fba5('0x1')][_0x46fba5('0x45')](_0x2857e5);}await _0x4133cd[_0x46fba5('0x9')][_0x46fba5('0x38')](_0xf8c39f)[_0x46fba5('0x56')](()=>{});}else{if(_0x4133cd['emoji']['name']==='üîì'&&_0x4133cd['message'][_0x46fba5('0x1c')][_0x46fba5('0x2d')][_0x46fba5('0x4c')]()===_0xf8c39f['id'])await _0x4133cd[_0x46fba5('0xe')][_0x46fba5('0x1c')][_0x46fba5('0x13')](_0x4133cd[_0x46fba5('0xe')][_0x46fba5('0x29')]['id'],{'ADD_REACTIONS':!![]});else{if(_0x4133cd['emoji'][_0x46fba5('0x3a')]==='‚ùå'&&_0x4133cd['message'][_0x46fba5('0x1c')][_0x46fba5('0x2d')][_0x46fba5('0x4c')]()===_0xf8c39f['id']){await _0x2857e5[_0x46fba5('0x3f')](),await _0x5f3ddc['delete']();const _0x38b4c2=_0x4133cd[_0x46fba5('0xe')][_0x46fba5('0x1c')][_0x46fba5('0x6')];await _0x4133cd[_0x46fba5('0xe')]['channel'][_0x46fba5('0x3f')](),await _0x38b4c2['delete']();}else{if(_0x4133cd[_0x46fba5('0x63')][_0x46fba5('0x3a')]==='üîà')await _0x5f3ddc[_0x46fba5('0x13')](_0xf8c39f,{'CONNECT':!![]});else _0x4133cd[_0x46fba5('0x63')][_0x46fba5('0x3a')]==='üëª'&&await _0x5f3ddc['updateOverwrite'](_0xf8c39f,{'SPEAK':![]});}}}}},this[_0xc91311('0x68')]=async(_0x5a70a0,_0xc07b5b)=>{const _0x590795=_0xc91311;_0x5a70a0[_0x590795('0x6a')]&&(_0x5a70a0=await _0x5a70a0['fetch']());_0x5a70a0[_0x590795('0xe')][_0x590795('0x6a')]&&(_0x5a70a0['message']=await _0x5a70a0[_0x590795('0xe')][_0x590795('0x4d')]());if(!_0x5a70a0[_0x590795('0xe')][_0x590795('0x29')])return;const _0x196752=_0x5a70a0[_0x590795('0xe')][_0x590795('0x29')][_0x590795('0x1f')](_0xc07b5b);this[_0x590795('0x58')](_0x5a70a0,_0x196752)[_0x590795('0x56')](()=>{}),this[_0x590795('0x36')](_0x5a70a0,_0x196752)[_0x590795('0x56')](tesseract_1[_0x590795('0x52')]['error']);const _0x49e8ac=await _0x5a70a0[_0x590795('0xe')][_0x590795('0x29')][_0x590795('0x11')]();this[_0x590795('0x59')](_0x5a70a0,_0x196752,_0x49e8ac)[_0x590795('0x56')](tesseract_1['Logger']['error']),_0x49e8ac[_0x590795('0x26')]&&_0x5a70a0['message'][_0x590795('0x1c')]['id']===_0x49e8ac[_0x590795('0x26')]&&this[_0x590795('0x2c')](_0x5a70a0,_0x196752)[_0x590795('0x56')](()=>{}),_0x49e8ac[_0x590795('0x70')]&&_0x5a70a0[_0x590795('0xe')]['guild'][_0x590795('0xd')][_0x590795('0x65')]['has'](_0x49e8ac[_0x590795('0x70')])&&this['handleStarboard'](_0x5a70a0,_0x196752,_0x5a70a0[_0x590795('0xe')]['guild'][_0x590795('0xd')]['cache'][_0x590795('0x44')](_0x49e8ac[_0x590795('0x70')]))[_0x590795('0x56')](()=>{}),_0x49e8ac[_0x590795('0x71')]&&_0x5a70a0[_0x590795('0xe')][_0x590795('0x29')][_0x590795('0xd')][_0x590795('0x65')][_0x590795('0x33')](_0x49e8ac[_0x590795('0x5a')])&&this[_0x590795('0x5')](_0x5a70a0,_0x196752,_0x5a70a0[_0x590795('0xe')][_0x590795('0x29')]['channels'][_0x590795('0x65')]['get'](_0x49e8ac['announcementsChannelId']))[_0x590795('0x56')](()=>{}),_0x49e8ac[_0x590795('0x27')]&&this['handleReactionPinning'](_0x5a70a0,_0x196752)['catch'](()=>{});};}};