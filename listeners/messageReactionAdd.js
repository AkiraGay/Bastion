const a164_0x129c=['Source','permissions','return\x20/\x22\x20+\x20this\x20+\x20\x22/','send','emoji','Suggestion\x20','compile','reactionPinning','handleReactionRoles','handleStarboard','constructor','exports','value','map','fetch','announcementsChannelId','../utils/emojis','attachments','users','channel','suggestionsChannelId','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MANAGE_MESSAGES','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','MANAGE_CHANNELS','channels','includes','member','name','text','length','test','animated','default','color','_id','content','@bastion/tesseract','Listener','guild','reactionAnnouncements','exec','reactions','get','Suggestion','handleReactionPinning','height','displayAvatarURL','getDocument','Rejected','parseEmoji','RED','YELLOW','exclusive','findOne','cache','starboardChannelId','Auto\x20Removed\x20via\x20Reaction\x20Roles','handleSuggestions','author','first','Added\x20via\x20Reaction\x20Roles','MANAGE_GUILD','COLORS','Starboard','url','message','filter','pin','Accepted','roles','tag','INDIGO','footer','width','title','\x20announced\x20via\x20Announcement\x20Pinnning.','LISTENER_MODE','permissionsFor','../models/Role','values','remove','Constants','embeds','add','has','catch','partial'];(function(_0x4a7902,_0x129cb1){const _0x2060e3=function(_0x37c183){while(--_0x37c183){_0x4a7902['push'](_0x4a7902['shift']());}};const _0x3b08b3=function(){const _0xb72fe8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x14e958,_0x443f6f,_0x318950,_0x2521ba){_0x2521ba=_0x2521ba||{};let _0x1756af=_0x443f6f+'='+_0x318950;let _0x523b76=0x0;for(let _0xdb2e0c=0x0,_0x35e512=_0x14e958['length'];_0xdb2e0c<_0x35e512;_0xdb2e0c++){const _0x25f6d5=_0x14e958[_0xdb2e0c];_0x1756af+=';\x20'+_0x25f6d5;const _0x2ce78a=_0x14e958[_0x25f6d5];_0x14e958['push'](_0x2ce78a);_0x35e512=_0x14e958['length'];if(_0x2ce78a!==!![]){_0x1756af+='='+_0x2ce78a;}}_0x2521ba['cookie']=_0x1756af;},'removeCookie':function(){return'dev';},'getCookie':function(_0x57e4a4,_0x174b72){_0x57e4a4=_0x57e4a4||function(_0x36f413){return _0x36f413;};const _0x2cc305=_0x57e4a4(new RegExp('(?:^|;\x20)'+_0x174b72['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x258b19=function(_0x3c00fd,_0x1c10dc){_0x3c00fd(++_0x1c10dc);};_0x258b19(_0x2060e3,_0x129cb1);return _0x2cc305?decodeURIComponent(_0x2cc305[0x1]):undefined;}};const _0x2ffbb2=function(){const _0x75767=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x75767['test'](_0xb72fe8['removeCookie']['toString']());};_0xb72fe8['updateCookie']=_0x2ffbb2;let _0x50e4fa='';const _0x1a617f=_0xb72fe8['updateCookie']();if(!_0x1a617f){_0xb72fe8['setCookie'](['*'],'counter',0x1);}else if(_0x1a617f){_0x50e4fa=_0xb72fe8['getCookie'](null,'counter');}else{_0xb72fe8['removeCookie']();}};_0x3b08b3();}(a164_0x129c,0x19d));const a164_0x2060=function(_0x4a7902,_0x129cb1){_0x4a7902=_0x4a7902-0x0;let _0x2060e3=a164_0x129c[_0x4a7902];return _0x2060e3;};const a164_0xb72fe8=function(){let _0x5b0d9e=!![];return function(_0x41b15a,_0x5a249a){const _0x2a4f12=_0x5b0d9e?function(){if(_0x5a249a){const _0xf724b6=_0x5a249a['apply'](_0x41b15a,arguments);_0x5a249a=null;return _0xf724b6;}}:function(){};_0x5b0d9e=![];return _0x2a4f12;};}();const a164_0x37c183=a164_0xb72fe8(this,function(){const _0x5ca3e1=function(){const _0x26bd12=_0x5ca3e1[a164_0x2060('0x25')](a164_0x2060('0x1d'))()[a164_0x2060('0x21')](a164_0x2060('0x30'));return!_0x26bd12[a164_0x2060('0x3a')](a164_0x37c183);};return _0x5ca3e1();});a164_0x37c183();'use strict';const tesseract_1=require(a164_0x2060('0x40'));const ReactionRoleGroup_1=require('../models/ReactionRoleGroup');const Role_1=require(a164_0x2060('0x12'));const emojis=require(a164_0x2060('0x2b'));module[a164_0x2060('0x26')]=class MessageReactionAddListener extends tesseract_1[a164_0x2060('0x41')]{constructor(){super('messageReactionAdd',{'mode':tesseract_1[a164_0x2060('0x15')][a164_0x2060('0x10')]['ON']});this[a164_0x2060('0x55')]=async(_0x29bc6f,_0x29ee67)=>{if(!['‚úÖ','‚ùé'][a164_0x2060('0x35')](_0x29bc6f[a164_0x2060('0x1f')][a164_0x2060('0x37')]))return;if(!_0x29bc6f[a164_0x2060('0x5')][a164_0x2060('0x2e')]['permissionsFor'](_0x29ee67)[a164_0x2060('0x18')](a164_0x2060('0x33')))return;const _0x4f397a=_0x29bc6f['message'];const _0x1c096d=_0x4f397a[a164_0x2060('0x16')][0x0];if(!_0x1c096d)return;if(!_0x1c096d[a164_0x2060('0xe')]['startsWith'](a164_0x2060('0x47')))return;_0x1c096d[a164_0x2060('0x3d')]=_0x29bc6f[a164_0x2060('0x1f')]['name']==='‚úÖ'?tesseract_1['Constants'][a164_0x2060('0x2')]['GREEN']:_0x29bc6f[a164_0x2060('0x1f')][a164_0x2060('0x37')]==='‚ùé'?tesseract_1[a164_0x2060('0x15')][a164_0x2060('0x2')][a164_0x2060('0x4e')]:tesseract_1[a164_0x2060('0x15')]['COLORS'][a164_0x2060('0xb')];_0x1c096d[a164_0x2060('0xe')]=a164_0x2060('0x20')+(_0x29bc6f['emoji']['name']==='‚úÖ'?a164_0x2060('0x8'):_0x29bc6f[a164_0x2060('0x1f')]['name']==='‚ùé'?a164_0x2060('0x4c'):'');await _0x4f397a['edit']({'embed':_0x1c096d});};this['handleStarboard']=async(_0x3c798f,_0x51b5ee,_0x24c373)=>{if(!['üå†','üåü','‚≠ê']['includes'](_0x3c798f[a164_0x2060('0x1f')][a164_0x2060('0x37')]))return;if(_0x51b5ee[a164_0x2060('0x9')][a164_0x2060('0x52')]['size']<=0x1)return;if(_0x3c798f[a164_0x2060('0x5')][a164_0x2060('0x56')]['id']===_0x51b5ee['user']['id'])return;const _0x184e11=_0x3c798f['message'][a164_0x2060('0x2c')]['filter'](_0x105f5a=>Boolean(_0x105f5a[a164_0x2060('0x49')]&&_0x105f5a[a164_0x2060('0xd')]));const _0x4edb0a=_0x184e11[a164_0x2060('0x57')]();if(!_0x3c798f[a164_0x2060('0x5')][a164_0x2060('0x3f')]&&!_0x4edb0a)return;await _0x24c373[a164_0x2060('0x1e')]({'embed':{'color':tesseract_1[a164_0x2060('0x15')][a164_0x2060('0x2')][a164_0x2060('0x4f')],'author':{'name':_0x3c798f[a164_0x2060('0x5')][a164_0x2060('0x56')][a164_0x2060('0xa')],'iconURL':_0x3c798f[a164_0x2060('0x5')][a164_0x2060('0x56')][a164_0x2060('0x4a')]({'dynamic':!![],'size':0x40})},'description':_0x3c798f[a164_0x2060('0x5')][a164_0x2060('0x3f')],'fields':[{'name':a164_0x2060('0x1b'),'value':a164_0x2060('0x32')+_0x3c798f[a164_0x2060('0x5')][a164_0x2060('0x4')]+')','inline':!![]}],'image':{'url':_0x4edb0a?_0x4edb0a[a164_0x2060('0x4')]:null},'footer':{'text':a164_0x2060('0x3')}}});};this['handleReactionAnnouncement']=async(_0x568504,_0x50f25b,_0x3685b5)=>{if(!['üì£','üì¢'][a164_0x2060('0x35')](_0x568504[a164_0x2060('0x1f')][a164_0x2060('0x37')]))return;if(!_0x50f25b[a164_0x2060('0x1c')][a164_0x2060('0x18')](a164_0x2060('0x1')))return;const _0x4e7fdc=_0x50f25b['user'][a164_0x2060('0xa')]+a164_0x2060('0xf');const _0xea899=_0x568504[a164_0x2060('0x5')][a164_0x2060('0x16')]&&_0x568504[a164_0x2060('0x5')][a164_0x2060('0x16')][a164_0x2060('0x39')]?_0x568504[a164_0x2060('0x5')][a164_0x2060('0x16')][0x0]:{};_0xea899[a164_0x2060('0xc')]={..._0xea899[a164_0x2060('0xc')],'text':_0xea899[a164_0x2060('0xc')]&&_0xea899[a164_0x2060('0xc')][a164_0x2060('0x38')]?_0x4e7fdc+'\x20‚Ä¢\x20'+_0xea899[a164_0x2060('0xc')][a164_0x2060('0x38')]:_0x4e7fdc};await _0x3685b5[a164_0x2060('0x1e')](_0x568504[a164_0x2060('0x5')][a164_0x2060('0x3f')],{'embed':_0xea899,'files':[..._0x568504[a164_0x2060('0x5')][a164_0x2060('0x2c')]['values']()]});};this[a164_0x2060('0x48')]=async(_0x3476ad,_0x5a0df0)=>{if(!['üìå','üìç'][a164_0x2060('0x35')](_0x3476ad[a164_0x2060('0x1f')]['name']))return;if(!_0x3476ad[a164_0x2060('0x5')][a164_0x2060('0x2e')][a164_0x2060('0x11')](_0x5a0df0)[a164_0x2060('0x18')](a164_0x2060('0x31')))return;await _0x3476ad[a164_0x2060('0x5')][a164_0x2060('0x7')]();};this['handleReactionRoles']=async(_0x4c22a5,_0x190ccf)=>{const _0x208bfb=await ReactionRoleGroup_1['default']['findById'](_0x4c22a5[a164_0x2060('0x5')]['id']);if(!_0x208bfb)return;const _0x5ec889=_0x4c22a5['emoji']['id']?'<'+(_0x4c22a5[a164_0x2060('0x1f')][a164_0x2060('0x3b')]?'a':'')+':'+_0x4c22a5[a164_0x2060('0x1f')]['name']+':'+_0x4c22a5[a164_0x2060('0x1f')]['id']+'>':_0x4c22a5[a164_0x2060('0x1f')][a164_0x2060('0x37')];const _0x199a98=emojis[a164_0x2060('0x4d')](_0x5ec889);if(_0x199a98){const _0xbd4717=await Role_1[a164_0x2060('0x3c')][a164_0x2060('0x51')]({'$or':_0x208bfb['roles'][a164_0x2060('0x28')](_0x248d2b=>({'_id':_0x248d2b})),'guild':_0x4c22a5[a164_0x2060('0x5')]['guild']['id'],'emoji':_0x199a98[a164_0x2060('0x27')]});if(!_0xbd4717)return;if(_0x208bfb[a164_0x2060('0x50')]){for(const _0x15c56e of _0x4c22a5[a164_0x2060('0x5')][a164_0x2060('0x45')][a164_0x2060('0x52')][a164_0x2060('0x6')](_0x1d6aa7=>_0x1d6aa7[a164_0x2060('0x2d')]['cache'][a164_0x2060('0x18')](_0x190ccf['user']['id'])&&_0x1d6aa7['emoji'][a164_0x2060('0x37')]!==_0x4c22a5[a164_0x2060('0x1f')][a164_0x2060('0x37')])[a164_0x2060('0x13')]()){await _0x15c56e[a164_0x2060('0x2d')][a164_0x2060('0x14')](_0x190ccf)[a164_0x2060('0x19')](()=>{});}await _0x190ccf[a164_0x2060('0x9')][a164_0x2060('0x14')](_0x208bfb['roles'],a164_0x2060('0x54'));}await _0x190ccf[a164_0x2060('0x9')][a164_0x2060('0x17')](_0xbd4717[a164_0x2060('0x3e')],a164_0x2060('0x0'));}};this[a164_0x2060('0x44')]=async(_0x315be9,_0x5228e1)=>{if(_0x315be9[a164_0x2060('0x1a')]){_0x315be9=await _0x315be9[a164_0x2060('0x29')]();}if(_0x315be9['message'][a164_0x2060('0x1a')]){_0x315be9[a164_0x2060('0x5')]=await _0x315be9['message'][a164_0x2060('0x29')]();}if(!_0x315be9['message']['guild'])return;const _0x1fc9ac=_0x315be9[a164_0x2060('0x5')][a164_0x2060('0x42')][a164_0x2060('0x36')](_0x5228e1);this[a164_0x2060('0x23')](_0x315be9,_0x1fc9ac)[a164_0x2060('0x19')](()=>{});const _0x32d905=await _0x315be9['message'][a164_0x2060('0x42')][a164_0x2060('0x4b')]();if(_0x32d905[a164_0x2060('0x2f')]&&_0x315be9[a164_0x2060('0x5')][a164_0x2060('0x2e')]['id']===_0x32d905[a164_0x2060('0x2f')]){this[a164_0x2060('0x55')](_0x315be9,_0x1fc9ac)[a164_0x2060('0x19')](()=>{});}if(_0x32d905[a164_0x2060('0x53')]&&_0x315be9[a164_0x2060('0x5')][a164_0x2060('0x42')][a164_0x2060('0x34')][a164_0x2060('0x52')][a164_0x2060('0x18')](_0x32d905[a164_0x2060('0x53')])){this[a164_0x2060('0x24')](_0x315be9,_0x1fc9ac,_0x315be9[a164_0x2060('0x5')][a164_0x2060('0x42')][a164_0x2060('0x34')][a164_0x2060('0x52')][a164_0x2060('0x46')](_0x32d905[a164_0x2060('0x53')]))['catch'](()=>{});}if(_0x32d905[a164_0x2060('0x43')]&&_0x315be9[a164_0x2060('0x5')][a164_0x2060('0x42')][a164_0x2060('0x34')][a164_0x2060('0x52')][a164_0x2060('0x18')](_0x32d905[a164_0x2060('0x2a')])){this['handleReactionAnnouncement'](_0x315be9,_0x1fc9ac,_0x315be9[a164_0x2060('0x5')][a164_0x2060('0x42')][a164_0x2060('0x34')][a164_0x2060('0x52')]['get'](_0x32d905[a164_0x2060('0x2a')]))[a164_0x2060('0x19')](()=>{});}if(_0x32d905[a164_0x2060('0x22')]){this[a164_0x2060('0x48')](_0x315be9,_0x1fc9ac)[a164_0x2060('0x19')](()=>{});}};}};