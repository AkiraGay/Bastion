const a176_0x3544=['bot','size','starboardChannelId','displayAvatarURL','get','url','Suggestion','handleStarboard','filter','apply','channels','Accepted','parseEmoji','findById','Added\x20via\x20Reaction\x20Roles','catch','exports','INDIGO','_id','roles','channel','tag','remove','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','permissions','../utils/emojis','Listener','add','guild','getDocument','\x20announced\x20via\x20Announcement\x20Pinnning.','set','text','handleSuggestions','embeds','COLORS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','attachments','@bastion/tesseract','exec','has','partial','announcementsChannelId','fetch','../models/ReactionRoleGroup','../utils/memcache','emoji','handleReactionRoles','includes','reactionAnnouncements','\x20‚Ä¢\x20','footer','send','width','starboard','animated','users','findOne','name','edit','pin','values','user','title','Constants','push','constructor','cache','first','Rejected','reactions','MANAGE_GUILD','suggestionsChannelId','Suggestion\x20','author','handleReactionAnnouncement','../models/Role','message','MANAGE_CHANNELS','Starboard','messageReactionAdd','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','YELLOW','content','startsWith','handleReactionPinning','RED'];(function(_0x105041,_0x35441a){const _0x1932f2=function(_0x15d7bb){while(--_0x15d7bb){_0x105041['push'](_0x105041['shift']());}},_0x576d87=function(){const _0x128713={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2ddee5,_0x4ac8c1,_0x2eae2f,_0x172ac9){_0x172ac9=_0x172ac9||{};let _0x53387b=_0x4ac8c1+'='+_0x2eae2f,_0x35a815=0x0;for(let _0xad0af4=0x0,_0x1b3764=_0x2ddee5['length'];_0xad0af4<_0x1b3764;_0xad0af4++){const _0x4a5105=_0x2ddee5[_0xad0af4];_0x53387b+=';\x20'+_0x4a5105;const _0x4cc243=_0x2ddee5[_0x4a5105];_0x2ddee5['push'](_0x4cc243),_0x1b3764=_0x2ddee5['length'],_0x4cc243!==!![]&&(_0x53387b+='='+_0x4cc243);}_0x172ac9['cookie']=_0x53387b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2722e1,_0x12d920){_0x2722e1=_0x2722e1||function(_0x31b2f7){return _0x31b2f7;};const _0x46f289=_0x2722e1(new RegExp('(?:^|;\x20)'+_0x12d920['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4f9e14=function(_0x270ff7,_0x40748f){_0x270ff7(++_0x40748f);};return _0x4f9e14(_0x1932f2,_0x35441a),_0x46f289?decodeURIComponent(_0x46f289[0x1]):undefined;}},_0x2633d1=function(){const _0x28a8fe=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x28a8fe['test'](_0x128713['removeCookie']['toString']());};_0x128713['updateCookie']=_0x2633d1;let _0x46060f='';const _0x3e7938=_0x128713['updateCookie']();if(!_0x3e7938)_0x128713['setCookie'](['*'],'counter',0x1);else _0x3e7938?_0x46060f=_0x128713['getCookie'](null,'counter'):_0x128713['removeCookie']();};_0x576d87();}(a176_0x3544,0xa8));const a176_0x1932=function(_0x105041,_0x35441a){_0x105041=_0x105041-0x0;let _0x1932f2=a176_0x3544[_0x105041];return _0x1932f2;};const a176_0x128713=function(){let _0x46060f=!![];return function(_0x3e7938,_0x2ddee5){const _0x4ac8c1=_0x46060f?function(){if(_0x2ddee5){const _0x2eae2f=_0x2ddee5[a176_0x1932('0x11')](_0x3e7938,arguments);return _0x2ddee5=null,_0x2eae2f;}}:function(){};return _0x46060f=![],_0x4ac8c1;};}(),a176_0x15d7bb=a176_0x128713(this,function(){const _0x172ac9=function(){const _0x53387b=_0x172ac9[a176_0x1932('0x4b')](a176_0x1932('0x2d'))()[a176_0x1932('0x4b')](a176_0x1932('0x1f'));return!_0x53387b['test'](a176_0x15d7bb);};return _0x172ac9();});a176_0x15d7bb();'use strict';const tesseract_1=require(a176_0x1932('0x2f')),ReactionRoleGroup_1=require(a176_0x1932('0x35')),Role_1=require(a176_0x1932('0x55')),emojis=require(a176_0x1932('0x22')),memcache_1=require(a176_0x1932('0x36'));module[a176_0x1932('0x18')]=class MessageReactionAddListener extends tesseract_1[a176_0x1932('0x23')]{constructor(){super(a176_0x1932('0x1'),{'mode':tesseract_1[a176_0x1932('0x49')]['LISTENER_MODE']['ON']}),this['handleSuggestions']=async(_0x35a815,_0xad0af4)=>{if(_0xad0af4[a176_0x1932('0x47')][a176_0x1932('0x8')])return;if(!['‚úÖ','‚ùé']['includes'](_0x35a815['emoji'][a176_0x1932('0x43')]))return;if(!_0x35a815['message'][a176_0x1932('0x1c')]['permissionsFor'](_0xad0af4)['has'](a176_0x1932('0x57')))return;const _0x1b3764=_0x35a815[a176_0x1932('0x56')],_0x4a5105=_0x1b3764[a176_0x1932('0x2b')][0x0];if(!_0x4a5105)return;if(!_0x4a5105[a176_0x1932('0x48')][a176_0x1932('0x5')](a176_0x1932('0xe')))return;_0x4a5105['color']=_0x35a815[a176_0x1932('0x37')][a176_0x1932('0x43')]==='‚úÖ'?tesseract_1[a176_0x1932('0x49')][a176_0x1932('0x2c')]['GREEN']:_0x35a815[a176_0x1932('0x37')][a176_0x1932('0x43')]==='‚ùé'?tesseract_1[a176_0x1932('0x49')]['COLORS'][a176_0x1932('0x7')]:tesseract_1[a176_0x1932('0x49')][a176_0x1932('0x2c')][a176_0x1932('0x19')],_0x4a5105[a176_0x1932('0x48')]=a176_0x1932('0x52')+(_0x35a815[a176_0x1932('0x37')]['name']==='‚úÖ'?a176_0x1932('0x13'):_0x35a815['emoji']['name']==='‚ùé'?a176_0x1932('0x4e'):''),await _0x1b3764[a176_0x1932('0x44')]({'embed':_0x4a5105});},this['handleStarboard']=async(_0x4cc243,_0x2722e1,_0x12d920)=>{if(!['üå†','üåü','‚≠ê'][a176_0x1932('0x39')](_0x4cc243[a176_0x1932('0x37')][a176_0x1932('0x43')]))return;if(_0x2722e1[a176_0x1932('0x1b')]['cache'][a176_0x1932('0x9')]<=0x1)return;if(_0x4cc243[a176_0x1932('0x56')]['author']['id']===_0x2722e1[a176_0x1932('0x47')]['id'])return;const _0x46f289=_0x4cc243[a176_0x1932('0x56')][a176_0x1932('0x2e')][a176_0x1932('0x10')](_0x270ff7=>Boolean(_0x270ff7['height']&&_0x270ff7[a176_0x1932('0x3e')])),_0x4f9e14=_0x46f289[a176_0x1932('0x4d')]();if(!_0x4cc243[a176_0x1932('0x56')][a176_0x1932('0x4')]&&!_0x4f9e14)return;const _0x31b2f7=memcache_1[a176_0x1932('0x20')][a176_0x1932('0xc')]('starboard');if(_0x31b2f7&&_0x31b2f7 instanceof Array&&_0x31b2f7['includes'](_0x4cc243[a176_0x1932('0x56')]['id']))return;await _0x12d920[a176_0x1932('0x3d')]({'embed':{'color':tesseract_1[a176_0x1932('0x49')][a176_0x1932('0x2c')][a176_0x1932('0x3')],'author':{'name':_0x4cc243[a176_0x1932('0x56')][a176_0x1932('0x53')][a176_0x1932('0x1d')],'iconURL':_0x4cc243[a176_0x1932('0x56')]['author'][a176_0x1932('0xb')]({'dynamic':!![],'size':0x40})},'description':_0x4cc243[a176_0x1932('0x56')][a176_0x1932('0x4')],'fields':[{'name':'Source','value':a176_0x1932('0x2')+_0x4cc243[a176_0x1932('0x56')][a176_0x1932('0xd')]+')','inline':!![]}],'image':{'url':_0x4f9e14?_0x4f9e14['url']:null},'footer':{'text':a176_0x1932('0x0')}}}),_0x31b2f7&&_0x31b2f7 instanceof Array&&_0x31b2f7[a176_0x1932('0x4a')](_0x4cc243[a176_0x1932('0x56')]['id']),memcache_1[a176_0x1932('0x20')][a176_0x1932('0x28')](a176_0x1932('0x3f'),_0x31b2f7?_0x31b2f7:[_0x4cc243['message']['id']]);},this[a176_0x1932('0x54')]=async(_0x40748f,_0x28a8fe,_0x3685de)=>{if(!['üì£','üì¢'][a176_0x1932('0x39')](_0x40748f[a176_0x1932('0x37')][a176_0x1932('0x43')]))return;if(!_0x28a8fe[a176_0x1932('0x21')]['has'](a176_0x1932('0x50')))return;const _0x16a8da=_0x28a8fe[a176_0x1932('0x47')][a176_0x1932('0x1d')]+a176_0x1932('0x27'),_0x3bf8bb=_0x40748f[a176_0x1932('0x56')]['embeds']&&_0x40748f[a176_0x1932('0x56')][a176_0x1932('0x2b')]['length']?_0x40748f[a176_0x1932('0x56')]['embeds'][0x0]:{};_0x3bf8bb['footer']={..._0x3bf8bb[a176_0x1932('0x3c')],'text':_0x3bf8bb[a176_0x1932('0x3c')]&&_0x3bf8bb[a176_0x1932('0x3c')][a176_0x1932('0x29')]?_0x16a8da+a176_0x1932('0x3b')+_0x3bf8bb[a176_0x1932('0x3c')][a176_0x1932('0x29')]:_0x16a8da},await _0x3685de['send'](_0x40748f[a176_0x1932('0x56')]['content'],{'embed':_0x3bf8bb,'files':[..._0x40748f[a176_0x1932('0x56')][a176_0x1932('0x2e')][a176_0x1932('0x46')]()]});},this[a176_0x1932('0x6')]=async(_0x162348,_0x318939)=>{if(!['üìå','üìç']['includes'](_0x162348[a176_0x1932('0x37')][a176_0x1932('0x43')]))return;if(!_0x162348[a176_0x1932('0x56')]['channel']['permissionsFor'](_0x318939)[a176_0x1932('0x31')]('MANAGE_MESSAGES'))return;await _0x162348[a176_0x1932('0x56')][a176_0x1932('0x45')]({'reason':'Pin\x20reaction\x20added\x20by\x20'+_0x318939[a176_0x1932('0x47')]?_0x318939[a176_0x1932('0x47')][a176_0x1932('0x1d')]:_0x318939['id']});},this[a176_0x1932('0x38')]=async(_0xc3eb97,_0x462aa6)=>{if(_0x462aa6[a176_0x1932('0x47')][a176_0x1932('0x8')])return;const _0x262475=await ReactionRoleGroup_1['default'][a176_0x1932('0x15')](_0xc3eb97[a176_0x1932('0x56')]['id']);if(!_0x262475)return;const _0x5c6dd7=_0xc3eb97[a176_0x1932('0x37')]['id']?'<'+(_0xc3eb97[a176_0x1932('0x37')][a176_0x1932('0x40')]?'a':'')+':'+_0xc3eb97['emoji'][a176_0x1932('0x43')]+':'+_0xc3eb97[a176_0x1932('0x37')]['id']+'>':_0xc3eb97[a176_0x1932('0x37')][a176_0x1932('0x43')],_0x244136=emojis[a176_0x1932('0x14')](_0x5c6dd7);if(_0x244136){const _0x28c48c=await Role_1[a176_0x1932('0x20')][a176_0x1932('0x42')]({'$or':_0x262475['roles']['map'](_0x562659=>({'_id':_0x562659})),'guild':_0xc3eb97[a176_0x1932('0x56')][a176_0x1932('0x25')]['id'],'emoji':_0x244136['value']});if(!_0x28c48c)return;if(_0x262475['exclusive']){for(const _0xacd006 of _0xc3eb97[a176_0x1932('0x56')][a176_0x1932('0x4f')][a176_0x1932('0x4c')]['filter'](_0x19fda3=>_0x19fda3[a176_0x1932('0x41')][a176_0x1932('0x4c')][a176_0x1932('0x31')](_0x462aa6['user']['id'])&&_0x19fda3['emoji']['name']!==_0xc3eb97['emoji'][a176_0x1932('0x43')])[a176_0x1932('0x46')]()){await _0xacd006[a176_0x1932('0x41')][a176_0x1932('0x1e')](_0x462aa6)[a176_0x1932('0x17')](()=>{});}await _0x462aa6['roles'][a176_0x1932('0x1e')](_0x262475[a176_0x1932('0x1b')],'Auto\x20Removed\x20via\x20Reaction\x20Roles');}await _0x462aa6[a176_0x1932('0x1b')][a176_0x1932('0x24')](_0x28c48c[a176_0x1932('0x1a')],a176_0x1932('0x16'));}},this[a176_0x1932('0x30')]=async(_0x24eb01,_0xdcf9bd)=>{_0x24eb01[a176_0x1932('0x32')]&&(_0x24eb01=await _0x24eb01[a176_0x1932('0x34')]());_0x24eb01[a176_0x1932('0x56')]['partial']&&(_0x24eb01['message']=await _0x24eb01['message'][a176_0x1932('0x34')]());if(!_0x24eb01[a176_0x1932('0x56')]['guild'])return;const _0x3705d8=_0x24eb01['message'][a176_0x1932('0x25')]['member'](_0xdcf9bd);this[a176_0x1932('0x38')](_0x24eb01,_0x3705d8)[a176_0x1932('0x17')](()=>{});const _0xa2e230=await _0x24eb01[a176_0x1932('0x56')]['guild'][a176_0x1932('0x26')]();_0xa2e230['suggestionsChannelId']&&_0x24eb01[a176_0x1932('0x56')][a176_0x1932('0x1c')]['id']===_0xa2e230[a176_0x1932('0x51')]&&this[a176_0x1932('0x2a')](_0x24eb01,_0x3705d8)[a176_0x1932('0x17')](()=>{}),_0xa2e230[a176_0x1932('0xa')]&&_0x24eb01[a176_0x1932('0x56')]['guild'][a176_0x1932('0x12')][a176_0x1932('0x4c')][a176_0x1932('0x31')](_0xa2e230[a176_0x1932('0xa')])&&this[a176_0x1932('0xf')](_0x24eb01,_0x3705d8,_0x24eb01[a176_0x1932('0x56')][a176_0x1932('0x25')]['channels'][a176_0x1932('0x4c')][a176_0x1932('0xc')](_0xa2e230[a176_0x1932('0xa')]))['catch'](()=>{}),_0xa2e230[a176_0x1932('0x3a')]&&_0x24eb01[a176_0x1932('0x56')][a176_0x1932('0x25')][a176_0x1932('0x12')][a176_0x1932('0x4c')][a176_0x1932('0x31')](_0xa2e230[a176_0x1932('0x33')])&&this[a176_0x1932('0x54')](_0x24eb01,_0x3705d8,_0x24eb01[a176_0x1932('0x56')]['guild']['channels'][a176_0x1932('0x4c')][a176_0x1932('0xc')](_0xa2e230[a176_0x1932('0x33')]))[a176_0x1932('0x17')](()=>{}),_0xa2e230['reactionPinning']&&this[a176_0x1932('0x6')](_0x24eb01,_0x3705d8)[a176_0x1932('0x17')](()=>{});};}};