const a164_0x33c5=['channel','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','reactionPinning','values','reactionAnnouncements','COLORS','constructor','INDIGO','exclusive','../models/Role','exec','emoji','Added\x20via\x20Reaction\x20Roles','announcementsChannelId','member','MANAGE_GUILD','return\x20/\x22\x20+\x20this\x20+\x20\x22/','roles','displayAvatarURL','handleReactionPinning','content','permissionsFor','Suggestion\x20','Auto\x20Removed\x20via\x20Reaction\x20Roles','first','cache','height','filter','getDocument','RED','embeds','length','handleReactionRoles','attachments','parseEmoji','author','Constants','findOne','message','suggestionsChannelId','partial','catch','handleSuggestions','test','handleReactionAnnouncement','title','_id','@bastion/tesseract','compile','size','Rejected','startsWith','guild','users','LISTENER_MODE','map','\x20announced\x20via\x20Announcement\x20Pinnning.','MANAGE_CHANNELS','default','tag','width','text','url','GREEN','user','value','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','footer','messageReactionAdd','YELLOW','Starboard','has','handleStarboard','Suggestion','fetch','pin','name','starboardChannelId','remove','channels','../utils/emojis','send','includes','reactions','get','apply'];(function(_0x1a0a48,_0x33c525){const _0x66c626=function(_0x56945c){while(--_0x56945c){_0x1a0a48['push'](_0x1a0a48['shift']());}};const _0x5e7b3a=function(){const _0x1ec015={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x974fac,_0x1dc862,_0xa761a7,_0x157e08){_0x157e08=_0x157e08||{};let _0x29087e=_0x1dc862+'='+_0xa761a7;let _0x53be42=0x0;for(let _0xf1416d=0x0,_0x1d435a=_0x974fac['length'];_0xf1416d<_0x1d435a;_0xf1416d++){const _0x58975b=_0x974fac[_0xf1416d];_0x29087e+=';\x20'+_0x58975b;const _0x5c475a=_0x974fac[_0x58975b];_0x974fac['push'](_0x5c475a);_0x1d435a=_0x974fac['length'];if(_0x5c475a!==!![]){_0x29087e+='='+_0x5c475a;}}_0x157e08['cookie']=_0x29087e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x291e27,_0x5d86ed){_0x291e27=_0x291e27||function(_0x4a6571){return _0x4a6571;};const _0x26c534=_0x291e27(new RegExp('(?:^|;\x20)'+_0x5d86ed['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1a3225=function(_0x5eb8d0,_0x3df17d){_0x5eb8d0(++_0x3df17d);};_0x1a3225(_0x66c626,_0x33c525);return _0x26c534?decodeURIComponent(_0x26c534[0x1]):undefined;}};const _0x5094cb=function(){const _0x553ebd=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x553ebd['test'](_0x1ec015['removeCookie']['toString']());};_0x1ec015['updateCookie']=_0x5094cb;let _0x43d77f='';const _0x3725b4=_0x1ec015['updateCookie']();if(!_0x3725b4){_0x1ec015['setCookie'](['*'],'counter',0x1);}else if(_0x3725b4){_0x43d77f=_0x1ec015['getCookie'](null,'counter');}else{_0x1ec015['removeCookie']();}};_0x5e7b3a();}(a164_0x33c5,0xd1));const a164_0x66c6=function(_0x1a0a48,_0x33c525){_0x1a0a48=_0x1a0a48-0x0;let _0x66c626=a164_0x33c5[_0x1a0a48];return _0x66c626;};const a164_0x1ec015=function(){let _0x481e9f=!![];return function(_0x47486e,_0x5f1c46){const _0x22f113=_0x481e9f?function(){if(_0x5f1c46){const _0x25ec56=_0x5f1c46[a164_0x66c6('0x30')](_0x47486e,arguments);_0x5f1c46=null;return _0x25ec56;}}:function(){};_0x481e9f=![];return _0x22f113;};}();const a164_0x56945c=a164_0x1ec015(this,function(){const _0x12906e=function(){const _0x384e5b=_0x12906e[a164_0x66c6('0x37')](a164_0x66c6('0x41'))()[a164_0x66c6('0xb')](a164_0x66c6('0x32'));return!_0x384e5b[a164_0x66c6('0x6')](a164_0x56945c);};return _0x12906e();});a164_0x56945c();'use strict';const tesseract_1=require(a164_0x66c6('0xa'));const ReactionRoleGroup_1=require('../models/ReactionRoleGroup');const Role_1=require(a164_0x66c6('0x3a'));const emojis=require(a164_0x66c6('0x2b'));module['exports']=class MessageReactionAddListener extends tesseract_1['Listener']{constructor(){super(a164_0x66c6('0x1f'),{'mode':tesseract_1['Constants'][a164_0x66c6('0x11')]['ON']});this[a164_0x66c6('0x5')]=async(_0x45a20a,_0x4d548b)=>{if(!['‚úÖ','‚ùé']['includes'](_0x45a20a['emoji'][a164_0x66c6('0x27')]))return;if(!_0x45a20a['message'][a164_0x66c6('0x31')]['permissionsFor'](_0x4d548b)[a164_0x66c6('0x22')](a164_0x66c6('0x14')))return;const _0x260ecc=_0x45a20a[a164_0x66c6('0x1')];const _0x247b59=_0x260ecc[a164_0x66c6('0x4f')][0x0];if(!_0x247b59)return;if(!_0x247b59[a164_0x66c6('0x8')][a164_0x66c6('0xe')](a164_0x66c6('0x24')))return;_0x247b59['color']=_0x45a20a['emoji'][a164_0x66c6('0x27')]==='‚úÖ'?tesseract_1[a164_0x66c6('0x55')][a164_0x66c6('0x36')][a164_0x66c6('0x1a')]:_0x45a20a[a164_0x66c6('0x3c')]['name']==='‚ùé'?tesseract_1[a164_0x66c6('0x55')][a164_0x66c6('0x36')][a164_0x66c6('0x4e')]:tesseract_1[a164_0x66c6('0x55')][a164_0x66c6('0x36')][a164_0x66c6('0x38')];_0x247b59[a164_0x66c6('0x8')]=a164_0x66c6('0x47')+(_0x45a20a[a164_0x66c6('0x3c')]['name']==='‚úÖ'?'Accepted':_0x45a20a[a164_0x66c6('0x3c')][a164_0x66c6('0x27')]==='‚ùé'?a164_0x66c6('0xd'):'');await _0x260ecc['edit']({'embed':_0x247b59});};this[a164_0x66c6('0x23')]=async(_0x13b4ba,_0x2f473b,_0x364683)=>{if(!['üå†','üåü','‚≠ê'][a164_0x66c6('0x2d')](_0x13b4ba[a164_0x66c6('0x3c')][a164_0x66c6('0x27')]))return;if(_0x2f473b[a164_0x66c6('0x42')][a164_0x66c6('0x4a')][a164_0x66c6('0xc')]<=0x1)return;if(_0x13b4ba['message']['author']['id']===_0x2f473b['user']['id'])return;const _0x4b04b6=_0x13b4ba[a164_0x66c6('0x1')][a164_0x66c6('0x52')][a164_0x66c6('0x4c')](_0x41aebc=>Boolean(_0x41aebc[a164_0x66c6('0x4b')]&&_0x41aebc[a164_0x66c6('0x17')]));const _0x26c3b1=_0x4b04b6[a164_0x66c6('0x49')]();if(!_0x13b4ba[a164_0x66c6('0x1')][a164_0x66c6('0x45')]&&!_0x26c3b1)return;await _0x364683[a164_0x66c6('0x2c')]({'embed':{'color':tesseract_1['Constants'][a164_0x66c6('0x36')][a164_0x66c6('0x20')],'author':{'name':_0x13b4ba[a164_0x66c6('0x1')][a164_0x66c6('0x54')][a164_0x66c6('0x16')],'iconURL':_0x13b4ba[a164_0x66c6('0x1')][a164_0x66c6('0x54')][a164_0x66c6('0x43')]({'dynamic':!![],'size':0x40})},'description':_0x13b4ba[a164_0x66c6('0x1')][a164_0x66c6('0x45')],'fields':[{'name':'Source','value':a164_0x66c6('0x1d')+_0x13b4ba[a164_0x66c6('0x1')]['url']+')','inline':!![]}],'image':{'url':_0x26c3b1?_0x26c3b1[a164_0x66c6('0x19')]:null},'footer':{'text':a164_0x66c6('0x21')}}});};this['handleReactionAnnouncement']=async(_0x37021b,_0x144481,_0x41110b)=>{if(!['üì£','üì¢'][a164_0x66c6('0x2d')](_0x37021b['emoji'][a164_0x66c6('0x27')]))return;if(!_0x144481['permissions'][a164_0x66c6('0x22')](a164_0x66c6('0x40')))return;const _0x2c61c3=_0x144481[a164_0x66c6('0x1b')][a164_0x66c6('0x16')]+a164_0x66c6('0x13');const _0x353f67=_0x37021b['message'][a164_0x66c6('0x4f')]&&_0x37021b[a164_0x66c6('0x1')][a164_0x66c6('0x4f')][a164_0x66c6('0x50')]?_0x37021b[a164_0x66c6('0x1')][a164_0x66c6('0x4f')][0x0]:{};_0x353f67[a164_0x66c6('0x1e')]={..._0x353f67[a164_0x66c6('0x1e')],'text':_0x353f67[a164_0x66c6('0x1e')]&&_0x353f67['footer']['text']?_0x2c61c3+'\x20‚Ä¢\x20'+_0x353f67['footer'][a164_0x66c6('0x18')]:_0x2c61c3};await _0x41110b[a164_0x66c6('0x2c')](_0x37021b[a164_0x66c6('0x1')][a164_0x66c6('0x45')],{'embed':_0x353f67,'files':[..._0x37021b['message']['attachments'][a164_0x66c6('0x34')]()]});};this['handleReactionPinning']=async(_0x5e1322,_0xfc5542)=>{if(!['üìå','üìç'][a164_0x66c6('0x2d')](_0x5e1322['emoji']['name']))return;if(!_0x5e1322['message'][a164_0x66c6('0x31')][a164_0x66c6('0x46')](_0xfc5542)[a164_0x66c6('0x22')]('MANAGE_MESSAGES'))return;await _0x5e1322[a164_0x66c6('0x1')][a164_0x66c6('0x26')]();};this[a164_0x66c6('0x51')]=async(_0x5cea6d,_0x4102a2)=>{const _0x5733c6=await ReactionRoleGroup_1[a164_0x66c6('0x15')]['findById'](_0x5cea6d[a164_0x66c6('0x1')]['id']);if(!_0x5733c6)return;const _0x213a39=_0x5cea6d[a164_0x66c6('0x3c')]['id']?'<'+(_0x5cea6d[a164_0x66c6('0x3c')]['animated']?'a':'')+':'+_0x5cea6d['emoji'][a164_0x66c6('0x27')]+':'+_0x5cea6d[a164_0x66c6('0x3c')]['id']+'>':_0x5cea6d['emoji'][a164_0x66c6('0x27')];const _0x3413f9=emojis[a164_0x66c6('0x53')](_0x213a39);if(_0x3413f9){const _0x38b8d3=await Role_1['default'][a164_0x66c6('0x0')]({'$or':_0x5733c6[a164_0x66c6('0x42')][a164_0x66c6('0x12')](_0x52c5ca=>({'_id':_0x52c5ca})),'guild':_0x5cea6d[a164_0x66c6('0x1')][a164_0x66c6('0xf')]['id'],'emoji':_0x3413f9[a164_0x66c6('0x1c')]});if(!_0x38b8d3)return;if(_0x5733c6[a164_0x66c6('0x39')]){for(const _0x54a4d0 of _0x5cea6d[a164_0x66c6('0x1')][a164_0x66c6('0x2e')][a164_0x66c6('0x4a')]['filter'](_0x3aa7e0=>_0x3aa7e0[a164_0x66c6('0x10')][a164_0x66c6('0x4a')][a164_0x66c6('0x22')](_0x4102a2[a164_0x66c6('0x1b')]['id'])&&_0x3aa7e0[a164_0x66c6('0x3c')][a164_0x66c6('0x27')]!==_0x5cea6d[a164_0x66c6('0x3c')]['name'])[a164_0x66c6('0x34')]()){await _0x54a4d0['users'][a164_0x66c6('0x29')](_0x4102a2)['catch'](()=>{});}await _0x4102a2[a164_0x66c6('0x42')][a164_0x66c6('0x29')](_0x5733c6[a164_0x66c6('0x42')],a164_0x66c6('0x48'));}await _0x4102a2[a164_0x66c6('0x42')]['add'](_0x38b8d3[a164_0x66c6('0x9')],a164_0x66c6('0x3d'));}};this[a164_0x66c6('0x3b')]=async(_0x43d8ba,_0x3f3840)=>{if(_0x43d8ba['partial']){_0x43d8ba=await _0x43d8ba['fetch']();}if(_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0x3')]){_0x43d8ba[a164_0x66c6('0x1')]=await _0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0x25')]();}if(!_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0xf')])return;const _0x1981ec=_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0xf')][a164_0x66c6('0x3f')](_0x3f3840);this[a164_0x66c6('0x51')](_0x43d8ba,_0x1981ec)[a164_0x66c6('0x4')](()=>{});const _0x9802ed=await _0x43d8ba['message'][a164_0x66c6('0xf')][a164_0x66c6('0x4d')]();if(_0x9802ed[a164_0x66c6('0x2')]&&_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0x31')]['id']===_0x9802ed[a164_0x66c6('0x2')]){this[a164_0x66c6('0x5')](_0x43d8ba,_0x1981ec)['catch'](()=>{});}if(_0x9802ed[a164_0x66c6('0x28')]&&_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0xf')][a164_0x66c6('0x2a')][a164_0x66c6('0x4a')][a164_0x66c6('0x22')](_0x9802ed[a164_0x66c6('0x28')])){this['handleStarboard'](_0x43d8ba,_0x1981ec,_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0xf')]['channels'][a164_0x66c6('0x4a')]['get'](_0x9802ed[a164_0x66c6('0x28')]))['catch'](()=>{});}if(_0x9802ed[a164_0x66c6('0x35')]&&_0x43d8ba[a164_0x66c6('0x1')][a164_0x66c6('0xf')][a164_0x66c6('0x2a')][a164_0x66c6('0x4a')][a164_0x66c6('0x22')](_0x9802ed[a164_0x66c6('0x3e')])){this[a164_0x66c6('0x7')](_0x43d8ba,_0x1981ec,_0x43d8ba['message'][a164_0x66c6('0xf')][a164_0x66c6('0x2a')]['cache'][a164_0x66c6('0x2f')](_0x9802ed[a164_0x66c6('0x3e')]))[a164_0x66c6('0x4')](()=>{});}if(_0x9802ed[a164_0x66c6('0x33')]){this[a164_0x66c6('0x44')](_0x43d8ba,_0x1981ec)[a164_0x66c6('0x4')](()=>{});}};}};