const a164_0x12b7=['suggestionsChannelId','emoji','first','name','text','width','embeds','exports','roles','Constants','get','url','size','reactionAnnouncements','fetch','constructor','messageReactionAdd','default','cache','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','YELLOW','height','tag','includes','Listener','handleReactionAnnouncement','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','remove','exclusive','author','send','../models/Role','Suggestion\x20','user','\x20‚Ä¢\x20','../utils/emojis','length','COLORS','attachments','permissions','GREEN','LISTENER_MODE','color','member','title','../models/ReactionRoleGroup','_id','message','reactionPinning','users','handleReactionPinning','announcementsChannelId','values','MANAGE_GUILD','apply','Added\x20via\x20Reaction\x20Roles','Suggestion','animated','Starboard','permissionsFor','pin','value','channels','RED','add','return\x20/\x22\x20+\x20this\x20+\x20\x22/','startsWith','channel','content','exec','@bastion/tesseract','footer','has','filter','INDIGO','catch','partial','Source','MANAGE_MESSAGES','guild','parseEmoji','Auto\x20Removed\x20via\x20Reaction\x20Roles','handleSuggestions','map','starboardChannelId'];(function(_0x488eab,_0x12b70d){const _0x1fa703=function(_0xbd442d){while(--_0xbd442d){_0x488eab['push'](_0x488eab['shift']());}};const _0x4eb79d=function(){const _0x2f93d3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x32c4c7,_0x4b2ac7,_0xa0cc14,_0x48c685){_0x48c685=_0x48c685||{};let _0x25e2da=_0x4b2ac7+'='+_0xa0cc14;let _0x1ee97c=0x0;for(let _0x1d8955=0x0,_0x1ddbc1=_0x32c4c7['length'];_0x1d8955<_0x1ddbc1;_0x1d8955++){const _0x3d0b26=_0x32c4c7[_0x1d8955];_0x25e2da+=';\x20'+_0x3d0b26;const _0x24f53b=_0x32c4c7[_0x3d0b26];_0x32c4c7['push'](_0x24f53b);_0x1ddbc1=_0x32c4c7['length'];if(_0x24f53b!==!![]){_0x25e2da+='='+_0x24f53b;}}_0x48c685['cookie']=_0x25e2da;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4ab26c,_0x1bf0ea){_0x4ab26c=_0x4ab26c||function(_0x5091a7){return _0x5091a7;};const _0xc5f94f=_0x4ab26c(new RegExp('(?:^|;\x20)'+_0x1bf0ea['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x149f3e=function(_0x3c0bdf,_0x3aa835){_0x3c0bdf(++_0x3aa835);};_0x149f3e(_0x1fa703,_0x12b70d);return _0xc5f94f?decodeURIComponent(_0xc5f94f[0x1]):undefined;}};const _0xc16e7a=function(){const _0x30ce6b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x30ce6b['test'](_0x2f93d3['removeCookie']['toString']());};_0x2f93d3['updateCookie']=_0xc16e7a;let _0x251337='';const _0x28ae83=_0x2f93d3['updateCookie']();if(!_0x28ae83){_0x2f93d3['setCookie'](['*'],'counter',0x1);}else if(_0x28ae83){_0x251337=_0x2f93d3['getCookie'](null,'counter');}else{_0x2f93d3['removeCookie']();}};_0x4eb79d();}(a164_0x12b7,0x195));const a164_0x1fa7=function(_0x488eab,_0x12b70d){_0x488eab=_0x488eab-0x0;let _0x1fa703=a164_0x12b7[_0x488eab];return _0x1fa703;};const a164_0x2f93d3=function(){let _0x569454=!![];return function(_0x108d16,_0x4f20ef){const _0x11c297=_0x569454?function(){if(_0x4f20ef){const _0x55066c=_0x4f20ef[a164_0x1fa7('0x4a')](_0x108d16,arguments);_0x4f20ef=null;return _0x55066c;}}:function(){};_0x569454=![];return _0x11c297;};}();const a164_0xbd442d=a164_0x2f93d3(this,function(){const _0x412d6b=function(){const _0x35ff3a=_0x412d6b[a164_0x1fa7('0x23')](a164_0x1fa7('0x0'))()['compile'](a164_0x1fa7('0x27'));return!_0x35ff3a['test'](a164_0xbd442d);};return _0x412d6b();});a164_0xbd442d();'use strict';const tesseract_1=require(a164_0x1fa7('0x5'));const ReactionRoleGroup_1=require(a164_0x1fa7('0x41'));const Role_1=require(a164_0x1fa7('0x33'));const emojis=require(a164_0x1fa7('0x37'));module[a164_0x1fa7('0x1b')]=class MessageReactionAddListener extends tesseract_1[a164_0x1fa7('0x2c')]{constructor(){super(a164_0x1fa7('0x24'),{'mode':tesseract_1[a164_0x1fa7('0x1d')][a164_0x1fa7('0x3d')]['ON']});this[a164_0x1fa7('0x11')]=async(_0x379a5f,_0x3f2acd)=>{if(!['‚úÖ','‚ùé']['includes'](_0x379a5f[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]))return;if(!_0x379a5f[a164_0x1fa7('0x43')][a164_0x1fa7('0x2')][a164_0x1fa7('0x4f')](_0x3f2acd)[a164_0x1fa7('0x7')]('MANAGE_CHANNELS'))return;const _0x3d0e82=_0x379a5f[a164_0x1fa7('0x43')];const _0x2893eb=_0x3d0e82[a164_0x1fa7('0x1a')][0x0];if(!_0x2893eb)return;if(!_0x2893eb[a164_0x1fa7('0x40')][a164_0x1fa7('0x1')](a164_0x1fa7('0x4c')))return;_0x2893eb[a164_0x1fa7('0x3e')]=_0x379a5f['emoji'][a164_0x1fa7('0x17')]==='‚úÖ'?tesseract_1['Constants'][a164_0x1fa7('0x39')][a164_0x1fa7('0x3c')]:_0x379a5f[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]==='‚ùé'?tesseract_1[a164_0x1fa7('0x1d')]['COLORS'][a164_0x1fa7('0x53')]:tesseract_1[a164_0x1fa7('0x1d')][a164_0x1fa7('0x39')][a164_0x1fa7('0x9')];_0x2893eb['title']=a164_0x1fa7('0x34')+(_0x379a5f[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]==='‚úÖ'?'Accepted':_0x379a5f[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]==='‚ùé'?'Rejected':'');await _0x3d0e82['edit']({'embed':_0x2893eb});};this['handleStarboard']=async(_0x2cf8eb,_0x525e3c,_0x246c90)=>{if(!['üå†','üåü','‚≠ê']['includes'](_0x2cf8eb[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]))return;if(_0x525e3c[a164_0x1fa7('0x1c')][a164_0x1fa7('0x26')][a164_0x1fa7('0x20')]<=0x1)return;if(_0x2cf8eb[a164_0x1fa7('0x43')]['author']['id']===_0x525e3c[a164_0x1fa7('0x35')]['id'])return;const _0x219e3d=_0x2cf8eb['message'][a164_0x1fa7('0x3a')][a164_0x1fa7('0x8')](_0x299e34=>Boolean(_0x299e34[a164_0x1fa7('0x29')]&&_0x299e34[a164_0x1fa7('0x19')]));const _0x2b909d=_0x219e3d[a164_0x1fa7('0x16')]();if(!_0x2cf8eb[a164_0x1fa7('0x43')][a164_0x1fa7('0x3')]&&!_0x2b909d)return;await _0x246c90['send']({'embed':{'color':tesseract_1['Constants'][a164_0x1fa7('0x39')][a164_0x1fa7('0x28')],'author':{'name':_0x2cf8eb[a164_0x1fa7('0x43')]['author']['tag'],'iconURL':_0x2cf8eb[a164_0x1fa7('0x43')][a164_0x1fa7('0x31')]['displayAvatarURL']({'dynamic':!![],'size':0x40})},'description':_0x2cf8eb[a164_0x1fa7('0x43')][a164_0x1fa7('0x3')],'fields':[{'name':a164_0x1fa7('0xc'),'value':a164_0x1fa7('0x2e')+_0x2cf8eb['message'][a164_0x1fa7('0x1f')]+')','inline':!![]}],'image':{'url':_0x2b909d?_0x2b909d[a164_0x1fa7('0x1f')]:null},'footer':{'text':a164_0x1fa7('0x4e')}}});};this[a164_0x1fa7('0x2d')]=async(_0x3b410a,_0x38beb0,_0x3ea3a5)=>{if(!['üì£','üì¢'][a164_0x1fa7('0x2b')](_0x3b410a[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]))return;if(!_0x38beb0[a164_0x1fa7('0x3b')]['has'](a164_0x1fa7('0x49')))return;const _0x49f724=_0x38beb0[a164_0x1fa7('0x35')][a164_0x1fa7('0x2a')]+'\x20announced\x20via\x20Announcement\x20Pinnning.';const _0x38dd0e=_0x3b410a[a164_0x1fa7('0x43')][a164_0x1fa7('0x1a')]&&_0x3b410a[a164_0x1fa7('0x43')][a164_0x1fa7('0x1a')][a164_0x1fa7('0x38')]?_0x3b410a['message'][a164_0x1fa7('0x1a')][0x0]:{};_0x38dd0e[a164_0x1fa7('0x6')]={..._0x38dd0e['footer'],'text':_0x38dd0e[a164_0x1fa7('0x6')]&&_0x38dd0e[a164_0x1fa7('0x6')][a164_0x1fa7('0x18')]?_0x49f724+a164_0x1fa7('0x36')+_0x38dd0e[a164_0x1fa7('0x6')][a164_0x1fa7('0x18')]:_0x49f724};await _0x3ea3a5[a164_0x1fa7('0x32')](_0x3b410a[a164_0x1fa7('0x43')][a164_0x1fa7('0x3')],{'embed':_0x38dd0e,'files':[..._0x3b410a[a164_0x1fa7('0x43')][a164_0x1fa7('0x3a')][a164_0x1fa7('0x48')]()]});};this[a164_0x1fa7('0x46')]=async(_0x110600,_0x9f55d4)=>{if(!['üìå','üìç'][a164_0x1fa7('0x2b')](_0x110600[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]))return;if(!_0x110600[a164_0x1fa7('0x43')][a164_0x1fa7('0x2')][a164_0x1fa7('0x4f')](_0x9f55d4)[a164_0x1fa7('0x7')](a164_0x1fa7('0xd')))return;await _0x110600['message'][a164_0x1fa7('0x50')]();};this['handleReactionRoles']=async(_0x4b90e5,_0x42b87e)=>{const _0x321c10=await ReactionRoleGroup_1[a164_0x1fa7('0x25')]['findById'](_0x4b90e5[a164_0x1fa7('0x43')]['id']);if(!_0x321c10)return;const _0xa33c68=_0x4b90e5[a164_0x1fa7('0x15')]['id']?'<'+(_0x4b90e5[a164_0x1fa7('0x15')][a164_0x1fa7('0x4d')]?'a':'')+':'+_0x4b90e5[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]+':'+_0x4b90e5[a164_0x1fa7('0x15')]['id']+'>':_0x4b90e5[a164_0x1fa7('0x15')]['name'];const _0x31bc7a=emojis[a164_0x1fa7('0xf')](_0xa33c68);if(_0x31bc7a){const _0x16a004=await Role_1[a164_0x1fa7('0x25')]['findOne']({'$or':_0x321c10['roles'][a164_0x1fa7('0x12')](_0x1caac7=>({'_id':_0x1caac7})),'guild':_0x4b90e5[a164_0x1fa7('0x43')][a164_0x1fa7('0xe')]['id'],'emoji':_0x31bc7a[a164_0x1fa7('0x51')]});if(!_0x16a004)return;if(_0x321c10[a164_0x1fa7('0x30')]){for(const _0x48e90b of _0x4b90e5[a164_0x1fa7('0x43')]['reactions'][a164_0x1fa7('0x26')][a164_0x1fa7('0x8')](_0x72c6aa=>_0x72c6aa['users'][a164_0x1fa7('0x26')][a164_0x1fa7('0x7')](_0x42b87e['user']['id'])&&_0x72c6aa[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')]!==_0x4b90e5[a164_0x1fa7('0x15')][a164_0x1fa7('0x17')])[a164_0x1fa7('0x48')]()){await _0x48e90b[a164_0x1fa7('0x45')][a164_0x1fa7('0x2f')](_0x42b87e)['catch'](()=>{});}await _0x42b87e['roles']['remove'](_0x321c10['roles'],a164_0x1fa7('0x10'));}await _0x42b87e[a164_0x1fa7('0x1c')][a164_0x1fa7('0x54')](_0x16a004[a164_0x1fa7('0x42')],a164_0x1fa7('0x4b'));}};this[a164_0x1fa7('0x4')]=async(_0x1546ba,_0x5eca2c)=>{if(_0x1546ba[a164_0x1fa7('0xb')]){_0x1546ba=await _0x1546ba[a164_0x1fa7('0x22')]();}if(_0x1546ba[a164_0x1fa7('0x43')]['partial']){_0x1546ba[a164_0x1fa7('0x43')]=await _0x1546ba[a164_0x1fa7('0x43')][a164_0x1fa7('0x22')]();}if(!_0x1546ba['message'][a164_0x1fa7('0xe')])return;const _0x3b2959=_0x1546ba[a164_0x1fa7('0x43')][a164_0x1fa7('0xe')][a164_0x1fa7('0x3f')](_0x5eca2c);this['handleReactionRoles'](_0x1546ba,_0x3b2959)['catch'](()=>{});const _0x23fabd=await _0x1546ba[a164_0x1fa7('0x43')]['guild']['getDocument']();if(_0x23fabd[a164_0x1fa7('0x14')]&&_0x1546ba[a164_0x1fa7('0x43')][a164_0x1fa7('0x2')]['id']===_0x23fabd[a164_0x1fa7('0x14')]){this[a164_0x1fa7('0x11')](_0x1546ba,_0x3b2959)['catch'](()=>{});}if(_0x23fabd['starboardChannelId']&&_0x1546ba['message']['guild']['channels'][a164_0x1fa7('0x26')]['has'](_0x23fabd[a164_0x1fa7('0x13')])){this['handleStarboard'](_0x1546ba,_0x3b2959,_0x1546ba['message'][a164_0x1fa7('0xe')][a164_0x1fa7('0x52')][a164_0x1fa7('0x26')][a164_0x1fa7('0x1e')](_0x23fabd[a164_0x1fa7('0x13')]))['catch'](()=>{});}if(_0x23fabd[a164_0x1fa7('0x21')]&&_0x1546ba['message'][a164_0x1fa7('0xe')][a164_0x1fa7('0x52')][a164_0x1fa7('0x26')][a164_0x1fa7('0x7')](_0x23fabd[a164_0x1fa7('0x47')])){this['handleReactionAnnouncement'](_0x1546ba,_0x3b2959,_0x1546ba[a164_0x1fa7('0x43')]['guild'][a164_0x1fa7('0x52')][a164_0x1fa7('0x26')]['get'](_0x23fabd[a164_0x1fa7('0x47')]))[a164_0x1fa7('0xa')](()=>{});}if(_0x23fabd[a164_0x1fa7('0x44')]){this['handleReactionPinning'](_0x1546ba,_0x3b2959)[a164_0x1fa7('0xa')](()=>{});}};}};