const a164_0x44e9=['Rejected','handleReactionRoles','fetch','name','pin','parseEmoji','get','handleReactionAnnouncement','../models/Role','length','RED','default','content','../utils/emojis','Suggestion','channel','messageReactionAdd','has','constructor','Accepted','send','starboardChannelId','announcementsChannelId','footer','reactionAnnouncements','bot','Constants','text','\x20‚Ä¢\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','includes','MANAGE_MESSAGES','title','user','tag','exports','Source','partial','COLORS','handleStarboard','cache','getDocument','emoji','value','test','embeds','roles','guild','exclusive','add','suggestionsChannelId','url','Auto\x20Removed\x20via\x20Reaction\x20Roles','width','filter','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GREEN','compile','startsWith','author','exec','Starboard','map','../models/ReactionRoleGroup','Suggestion\x20','remove','height','_id','channels','@bastion/tesseract','message','users','handleSuggestions','first','displayAvatarURL','edit','catch','handleReactionPinning','YELLOW','permissionsFor','values','LISTENER_MODE'];(function(_0x1bf599,_0x44e9dc){const _0x36dee1=function(_0x23a713){while(--_0x23a713){_0x1bf599['push'](_0x1bf599['shift']());}};const _0x28764f=function(){const _0x1a2940={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x290738,_0x6133ab,_0x348efa,_0x385d6a){_0x385d6a=_0x385d6a||{};let _0xee31e9=_0x6133ab+'='+_0x348efa;let _0x35d485=0x0;for(let _0x1c7c1a=0x0,_0x2fbd98=_0x290738['length'];_0x1c7c1a<_0x2fbd98;_0x1c7c1a++){const _0x45a883=_0x290738[_0x1c7c1a];_0xee31e9+=';\x20'+_0x45a883;const _0x4e7dfc=_0x290738[_0x45a883];_0x290738['push'](_0x4e7dfc);_0x2fbd98=_0x290738['length'];if(_0x4e7dfc!==!![]){_0xee31e9+='='+_0x4e7dfc;}}_0x385d6a['cookie']=_0xee31e9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x385dd6,_0x1885dd){_0x385dd6=_0x385dd6||function(_0x1d6c49){return _0x1d6c49;};const _0x2e9038=_0x385dd6(new RegExp('(?:^|;\x20)'+_0x1885dd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1bf6f4=function(_0x5515e9,_0x5a3663){_0x5515e9(++_0x5a3663);};_0x1bf6f4(_0x36dee1,_0x44e9dc);return _0x2e9038?decodeURIComponent(_0x2e9038[0x1]):undefined;}};const _0x289bfa=function(){const _0x18a67c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x18a67c['test'](_0x1a2940['removeCookie']['toString']());};_0x1a2940['updateCookie']=_0x289bfa;let _0x57f3e8='';const _0xdd6647=_0x1a2940['updateCookie']();if(!_0xdd6647){_0x1a2940['setCookie'](['*'],'counter',0x1);}else if(_0xdd6647){_0x57f3e8=_0x1a2940['getCookie'](null,'counter');}else{_0x1a2940['removeCookie']();}};_0x28764f();}(a164_0x44e9,0xd9));const a164_0x36de=function(_0x1bf599,_0x44e9dc){_0x1bf599=_0x1bf599-0x0;let _0x36dee1=a164_0x44e9[_0x1bf599];return _0x36dee1;};const a164_0x1a2940=function(){let _0x322791=!![];return function(_0x51f4d2,_0xd01474){const _0x2f62a9=_0x322791?function(){if(_0xd01474){const _0x18502a=_0xd01474['apply'](_0x51f4d2,arguments);_0xd01474=null;return _0x18502a;}}:function(){};_0x322791=![];return _0x2f62a9;};}();const a164_0x23a713=a164_0x1a2940(this,function(){const _0x2987e4=function(){const _0x493615=_0x2987e4[a164_0x36de('0x2f')](a164_0x36de('0x3a'))()[a164_0x36de('0x4')](a164_0x36de('0x2'));return!_0x493615[a164_0x36de('0x49')](a164_0x23a713);};return _0x2987e4();});a164_0x23a713();'use strict';const tesseract_1=require(a164_0x36de('0x10'));const ReactionRoleGroup_1=require(a164_0x36de('0xa'));const Role_1=require(a164_0x36de('0x25'));const emojis=require(a164_0x36de('0x2a'));module[a164_0x36de('0x40')]=class MessageReactionAddListener extends tesseract_1['Listener']{constructor(){super(a164_0x36de('0x2d'),{'mode':tesseract_1[a164_0x36de('0x37')][a164_0x36de('0x1c')]['ON']});this[a164_0x36de('0x13')]=async(_0x15824e,_0x37d861)=>{if(!['‚úÖ','‚ùé'][a164_0x36de('0x3b')](_0x15824e['emoji']['name']))return;if(!_0x15824e[a164_0x36de('0x11')][a164_0x36de('0x2c')]['permissionsFor'](_0x37d861)[a164_0x36de('0x2e')]('MANAGE_CHANNELS'))return;const _0x51baee=_0x15824e[a164_0x36de('0x11')];const _0x5ac1dc=_0x51baee[a164_0x36de('0x4a')][0x0];if(!_0x5ac1dc)return;if(!_0x5ac1dc[a164_0x36de('0x3d')][a164_0x36de('0x5')](a164_0x36de('0x2b')))return;_0x5ac1dc['color']=_0x15824e[a164_0x36de('0x47')][a164_0x36de('0x20')]==='‚úÖ'?tesseract_1[a164_0x36de('0x37')][a164_0x36de('0x43')][a164_0x36de('0x3')]:_0x15824e[a164_0x36de('0x47')][a164_0x36de('0x20')]==='‚ùé'?tesseract_1[a164_0x36de('0x37')][a164_0x36de('0x43')][a164_0x36de('0x27')]:tesseract_1[a164_0x36de('0x37')][a164_0x36de('0x43')]['INDIGO'];_0x5ac1dc['title']=a164_0x36de('0xb')+(_0x15824e[a164_0x36de('0x47')][a164_0x36de('0x20')]==='‚úÖ'?a164_0x36de('0x30'):_0x15824e[a164_0x36de('0x47')]['name']==='‚ùé'?a164_0x36de('0x1d'):'');await _0x51baee[a164_0x36de('0x16')]({'embed':_0x5ac1dc});};this[a164_0x36de('0x44')]=async(_0x23e46b,_0x224313,_0x461605)=>{if(!['üå†','üåü','‚≠ê'][a164_0x36de('0x3b')](_0x23e46b[a164_0x36de('0x47')][a164_0x36de('0x20')]))return;if(_0x224313[a164_0x36de('0x4b')][a164_0x36de('0x45')]['size']<=0x1)return;if(_0x23e46b['message']['author']['id']===_0x224313[a164_0x36de('0x3e')]['id'])return;const _0xdd73f0=_0x23e46b['message']['attachments'][a164_0x36de('0x1')](_0x6c8981=>Boolean(_0x6c8981[a164_0x36de('0xd')]&&_0x6c8981[a164_0x36de('0x0')]));const _0x47d57b=_0xdd73f0[a164_0x36de('0x14')]();if(!_0x23e46b[a164_0x36de('0x11')][a164_0x36de('0x29')]&&!_0x47d57b)return;await _0x461605[a164_0x36de('0x31')]({'embed':{'color':tesseract_1[a164_0x36de('0x37')][a164_0x36de('0x43')][a164_0x36de('0x19')],'author':{'name':_0x23e46b['message']['author'][a164_0x36de('0x3f')],'iconURL':_0x23e46b[a164_0x36de('0x11')][a164_0x36de('0x6')][a164_0x36de('0x15')]({'dynamic':!![],'size':0x40})},'description':_0x23e46b[a164_0x36de('0x11')]['content'],'fields':[{'name':a164_0x36de('0x41'),'value':'[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.]('+_0x23e46b[a164_0x36de('0x11')][a164_0x36de('0x50')]+')','inline':!![]}],'image':{'url':_0x47d57b?_0x47d57b['url']:null},'footer':{'text':a164_0x36de('0x8')}}});};this[a164_0x36de('0x24')]=async(_0x3f2d76,_0x8d68d3,_0x29b445)=>{if(!['üì£','üì¢'][a164_0x36de('0x3b')](_0x3f2d76[a164_0x36de('0x47')]['name']))return;if(!_0x8d68d3['permissions'][a164_0x36de('0x2e')]('MANAGE_GUILD'))return;const _0x167d92=_0x8d68d3[a164_0x36de('0x3e')]['tag']+'\x20announced\x20via\x20Announcement\x20Pinnning.';const _0x32faa6=_0x3f2d76[a164_0x36de('0x11')][a164_0x36de('0x4a')]&&_0x3f2d76[a164_0x36de('0x11')][a164_0x36de('0x4a')][a164_0x36de('0x26')]?_0x3f2d76[a164_0x36de('0x11')]['embeds'][0x0]:{};_0x32faa6[a164_0x36de('0x34')]={..._0x32faa6[a164_0x36de('0x34')],'text':_0x32faa6[a164_0x36de('0x34')]&&_0x32faa6['footer'][a164_0x36de('0x38')]?_0x167d92+a164_0x36de('0x39')+_0x32faa6[a164_0x36de('0x34')][a164_0x36de('0x38')]:_0x167d92};await _0x29b445[a164_0x36de('0x31')](_0x3f2d76[a164_0x36de('0x11')][a164_0x36de('0x29')],{'embed':_0x32faa6,'files':[..._0x3f2d76['message']['attachments'][a164_0x36de('0x1b')]()]});};this[a164_0x36de('0x18')]=async(_0x58b039,_0x421660)=>{if(!['üìå','üìç'][a164_0x36de('0x3b')](_0x58b039[a164_0x36de('0x47')][a164_0x36de('0x20')]))return;if(!_0x58b039[a164_0x36de('0x11')][a164_0x36de('0x2c')][a164_0x36de('0x1a')](_0x421660)[a164_0x36de('0x2e')](a164_0x36de('0x3c')))return;await _0x58b039[a164_0x36de('0x11')][a164_0x36de('0x21')]();};this[a164_0x36de('0x1e')]=async(_0x46d9a0,_0x56b5ab)=>{if(_0x56b5ab[a164_0x36de('0x3e')][a164_0x36de('0x36')])return;const _0x5bebef=await ReactionRoleGroup_1[a164_0x36de('0x28')]['findById'](_0x46d9a0[a164_0x36de('0x11')]['id']);if(!_0x5bebef)return;const _0x4bda79=_0x46d9a0['emoji']['id']?'<'+(_0x46d9a0[a164_0x36de('0x47')]['animated']?'a':'')+':'+_0x46d9a0[a164_0x36de('0x47')][a164_0x36de('0x20')]+':'+_0x46d9a0['emoji']['id']+'>':_0x46d9a0[a164_0x36de('0x47')][a164_0x36de('0x20')];const _0x52f610=emojis[a164_0x36de('0x22')](_0x4bda79);if(_0x52f610){const _0x438950=await Role_1['default']['findOne']({'$or':_0x5bebef[a164_0x36de('0x4b')][a164_0x36de('0x9')](_0x158446=>({'_id':_0x158446})),'guild':_0x46d9a0[a164_0x36de('0x11')]['guild']['id'],'emoji':_0x52f610[a164_0x36de('0x48')]});if(!_0x438950)return;if(_0x5bebef[a164_0x36de('0x4d')]){for(const _0x463ce of _0x46d9a0[a164_0x36de('0x11')]['reactions']['cache'][a164_0x36de('0x1')](_0x5f5783=>_0x5f5783[a164_0x36de('0x12')][a164_0x36de('0x45')][a164_0x36de('0x2e')](_0x56b5ab[a164_0x36de('0x3e')]['id'])&&_0x5f5783[a164_0x36de('0x47')]['name']!==_0x46d9a0['emoji'][a164_0x36de('0x20')])[a164_0x36de('0x1b')]()){await _0x463ce[a164_0x36de('0x12')]['remove'](_0x56b5ab)['catch'](()=>{});}await _0x56b5ab[a164_0x36de('0x4b')][a164_0x36de('0xc')](_0x5bebef[a164_0x36de('0x4b')],a164_0x36de('0x51'));}await _0x56b5ab[a164_0x36de('0x4b')][a164_0x36de('0x4e')](_0x438950[a164_0x36de('0xe')],'Added\x20via\x20Reaction\x20Roles');}};this[a164_0x36de('0x7')]=async(_0x5ad5b0,_0x21b101)=>{if(_0x5ad5b0[a164_0x36de('0x42')]){_0x5ad5b0=await _0x5ad5b0['fetch']();}if(_0x5ad5b0[a164_0x36de('0x11')]['partial']){_0x5ad5b0[a164_0x36de('0x11')]=await _0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x1f')]();}if(!_0x5ad5b0[a164_0x36de('0x11')]['guild'])return;const _0x4e75e8=_0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x4c')]['member'](_0x21b101);this['handleReactionRoles'](_0x5ad5b0,_0x4e75e8)[a164_0x36de('0x17')](()=>{});const _0x5574f2=await _0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x4c')][a164_0x36de('0x46')]();if(_0x5574f2['suggestionsChannelId']&&_0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x2c')]['id']===_0x5574f2[a164_0x36de('0x4f')]){this[a164_0x36de('0x13')](_0x5ad5b0,_0x4e75e8)[a164_0x36de('0x17')](()=>{});}if(_0x5574f2['starboardChannelId']&&_0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x4c')]['channels'][a164_0x36de('0x45')]['has'](_0x5574f2[a164_0x36de('0x32')])){this[a164_0x36de('0x44')](_0x5ad5b0,_0x4e75e8,_0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x4c')]['channels'][a164_0x36de('0x45')][a164_0x36de('0x23')](_0x5574f2[a164_0x36de('0x32')]))[a164_0x36de('0x17')](()=>{});}if(_0x5574f2[a164_0x36de('0x35')]&&_0x5ad5b0[a164_0x36de('0x11')][a164_0x36de('0x4c')][a164_0x36de('0xf')][a164_0x36de('0x45')][a164_0x36de('0x2e')](_0x5574f2['announcementsChannelId'])){this['handleReactionAnnouncement'](_0x5ad5b0,_0x4e75e8,_0x5ad5b0[a164_0x36de('0x11')]['guild']['channels'][a164_0x36de('0x45')][a164_0x36de('0x23')](_0x5574f2[a164_0x36de('0x33')]))[a164_0x36de('0x17')](()=>{});}if(_0x5574f2['reactionPinning']){this['handleReactionPinning'](_0x5ad5b0,_0x4e75e8)[a164_0x36de('0x17')](()=>{});}};}};