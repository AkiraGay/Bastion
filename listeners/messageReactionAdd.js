const a164_0x2265=['findById','name','parseEmoji','messageReactionAdd','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','permissions','title','handleSuggestions','YELLOW','values','MANAGE_CHANNELS','user','Accepted','text','reactionPinning','Auto\x20Removed\x20via\x20Reaction\x20Roles','cache','partial','handleStarboard','Added\x20via\x20Reaction\x20Roles','Suggestion\x20','handleReactionAnnouncement','Suggestion','size','member','height','test','has','exec','announcementsChannelId','apply','suggestionsChannelId','handleReactionPinning','users','emoji','value','MANAGE_MESSAGES','attachments','channels','filter','starboardChannelId','catch','getDocument','includes','guild','reactionAnnouncements','tag','map','width','exports','compile','add','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','RED','LISTENER_MODE','roles','footer','_id','send','reactions','animated','get','channel','../models/ReactionRoleGroup','startsWith','fetch','permissionsFor','GREEN','exclusive','bot','Listener','findOne','embeds','../utils/emojis','author','first','edit','COLORS','\x20announced\x20via\x20Announcement\x20Pinnning.','url','../models/Role','message','content','Rejected','pin','Constants','handleReactionRoles','remove','constructor'];(function(_0x3416c7,_0x22653d){const _0x2817ce=function(_0x1e7a68){while(--_0x1e7a68){_0x3416c7['push'](_0x3416c7['shift']());}};const _0x2124dd=function(){const _0x15118a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4ca26c,_0x37c7ec,_0x35a2b8,_0x2fbea0){_0x2fbea0=_0x2fbea0||{};let _0x4de092=_0x37c7ec+'='+_0x35a2b8;let _0x4778ab=0x0;for(let _0x3509c5=0x0,_0xd3e1b=_0x4ca26c['length'];_0x3509c5<_0xd3e1b;_0x3509c5++){const _0x425cdd=_0x4ca26c[_0x3509c5];_0x4de092+=';\x20'+_0x425cdd;const _0x25323f=_0x4ca26c[_0x425cdd];_0x4ca26c['push'](_0x25323f);_0xd3e1b=_0x4ca26c['length'];if(_0x25323f!==!![]){_0x4de092+='='+_0x25323f;}}_0x2fbea0['cookie']=_0x4de092;},'removeCookie':function(){return'dev';},'getCookie':function(_0x195f92,_0x59b9f4){_0x195f92=_0x195f92||function(_0x5cdf6e){return _0x5cdf6e;};const _0x157a3a=_0x195f92(new RegExp('(?:^|;\x20)'+_0x59b9f4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2b442b=function(_0xe030ea,_0x4a284b){_0xe030ea(++_0x4a284b);};_0x2b442b(_0x2817ce,_0x22653d);return _0x157a3a?decodeURIComponent(_0x157a3a[0x1]):undefined;}};const _0xa90129=function(){const _0x16fa7b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x16fa7b['test'](_0x15118a['removeCookie']['toString']());};_0x15118a['updateCookie']=_0xa90129;let _0x35a77f='';const _0x26ea48=_0x15118a['updateCookie']();if(!_0x26ea48){_0x15118a['setCookie'](['*'],'counter',0x1);}else if(_0x26ea48){_0x35a77f=_0x15118a['getCookie'](null,'counter');}else{_0x15118a['removeCookie']();}};_0x2124dd();}(a164_0x2265,0x13f));const a164_0x2817=function(_0x3416c7,_0x22653d){_0x3416c7=_0x3416c7-0x0;let _0x2817ce=a164_0x2265[_0x3416c7];return _0x2817ce;};const a164_0x15118a=function(){let _0x8222df=!![];return function(_0x484379,_0x5fcb3f){const _0x2a47df=_0x8222df?function(){if(_0x5fcb3f){const _0x3176d2=_0x5fcb3f[a164_0x2817('0x43')](_0x484379,arguments);_0x5fcb3f=null;return _0x3176d2;}}:function(){};_0x8222df=![];return _0x2a47df;};}();const a164_0x1e7a68=a164_0x15118a(this,function(){const _0x331dc7=function(){const _0x11ae52=_0x331dc7[a164_0x2817('0x24')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a164_0x2817('0x57')](a164_0x2817('0x29'));return!_0x11ae52[a164_0x2817('0x3f')](a164_0x1e7a68);};return _0x331dc7();});a164_0x1e7a68();'use strict';const tesseract_1=require('@bastion/tesseract');const ReactionRoleGroup_1=require(a164_0x2817('0xb'));const Role_1=require(a164_0x2817('0x1c'));const emojis=require(a164_0x2817('0x15'));module[a164_0x2817('0x56')]=class MessageReactionAddListener extends tesseract_1[a164_0x2817('0x12')]{constructor(){super(a164_0x2817('0x28'),{'mode':tesseract_1['Constants'][a164_0x2817('0x2')]['ON']});this[a164_0x2817('0x2c')]=async(_0x27adf4,_0x575cb7)=>{if(_0x575cb7['user'][a164_0x2817('0x11')])return;if(!['‚úÖ','‚ùé']['includes'](_0x27adf4[a164_0x2817('0x47')][a164_0x2817('0x26')]))return;if(!_0x27adf4[a164_0x2817('0x1d')]['channel']['permissionsFor'](_0x575cb7)[a164_0x2817('0x40')](a164_0x2817('0x2f')))return;const _0x399972=_0x27adf4[a164_0x2817('0x1d')];const _0x257543=_0x399972[a164_0x2817('0x14')][0x0];if(!_0x257543)return;if(!_0x257543[a164_0x2817('0x2b')][a164_0x2817('0xc')](a164_0x2817('0x3b')))return;_0x257543['color']=_0x27adf4['emoji']['name']==='‚úÖ'?tesseract_1['Constants'][a164_0x2817('0x19')][a164_0x2817('0xf')]:_0x27adf4[a164_0x2817('0x47')]['name']==='‚ùé'?tesseract_1[a164_0x2817('0x21')][a164_0x2817('0x19')][a164_0x2817('0x1')]:tesseract_1[a164_0x2817('0x21')][a164_0x2817('0x19')]['INDIGO'];_0x257543[a164_0x2817('0x2b')]=a164_0x2817('0x39')+(_0x27adf4[a164_0x2817('0x47')][a164_0x2817('0x26')]==='‚úÖ'?a164_0x2817('0x31'):_0x27adf4[a164_0x2817('0x47')]['name']==='‚ùé'?a164_0x2817('0x1f'):'');await _0x399972[a164_0x2817('0x18')]({'embed':_0x257543});};this['handleStarboard']=async(_0x19d36a,_0x4d2ad4,_0x5f22aa)=>{if(!['üå†','üåü','‚≠ê']['includes'](_0x19d36a[a164_0x2817('0x47')][a164_0x2817('0x26')]))return;if(_0x4d2ad4[a164_0x2817('0x3')][a164_0x2817('0x35')][a164_0x2817('0x3c')]<=0x1)return;if(_0x19d36a[a164_0x2817('0x1d')][a164_0x2817('0x16')]['id']===_0x4d2ad4[a164_0x2817('0x30')]['id'])return;const _0x56be15=_0x19d36a[a164_0x2817('0x1d')][a164_0x2817('0x4a')][a164_0x2817('0x4c')](_0x26d73b=>Boolean(_0x26d73b[a164_0x2817('0x3e')]&&_0x26d73b[a164_0x2817('0x55')]));const _0x3d5e0b=_0x56be15[a164_0x2817('0x17')]();if(!_0x19d36a[a164_0x2817('0x1d')][a164_0x2817('0x1e')]&&!_0x3d5e0b)return;await _0x5f22aa[a164_0x2817('0x6')]({'embed':{'color':tesseract_1[a164_0x2817('0x21')][a164_0x2817('0x19')][a164_0x2817('0x2d')],'author':{'name':_0x19d36a[a164_0x2817('0x1d')][a164_0x2817('0x16')][a164_0x2817('0x53')],'iconURL':_0x19d36a[a164_0x2817('0x1d')][a164_0x2817('0x16')]['displayAvatarURL']({'dynamic':!![],'size':0x40})},'description':_0x19d36a[a164_0x2817('0x1d')]['content'],'fields':[{'name':'Source','value':a164_0x2817('0x0')+_0x19d36a[a164_0x2817('0x1d')][a164_0x2817('0x1b')]+')','inline':!![]}],'image':{'url':_0x3d5e0b?_0x3d5e0b[a164_0x2817('0x1b')]:null},'footer':{'text':'Starboard'}}});};this[a164_0x2817('0x3a')]=async(_0x2ef184,_0x3657db,_0x356d5d)=>{if(!['üì£','üì¢'][a164_0x2817('0x50')](_0x2ef184[a164_0x2817('0x47')]['name']))return;if(!_0x3657db[a164_0x2817('0x2a')][a164_0x2817('0x40')]('MANAGE_GUILD'))return;const _0xda9435=_0x3657db[a164_0x2817('0x30')][a164_0x2817('0x53')]+a164_0x2817('0x1a');const _0x31c82a=_0x2ef184[a164_0x2817('0x1d')][a164_0x2817('0x14')]&&_0x2ef184[a164_0x2817('0x1d')][a164_0x2817('0x14')]['length']?_0x2ef184[a164_0x2817('0x1d')]['embeds'][0x0]:{};_0x31c82a[a164_0x2817('0x4')]={..._0x31c82a[a164_0x2817('0x4')],'text':_0x31c82a[a164_0x2817('0x4')]&&_0x31c82a['footer'][a164_0x2817('0x32')]?_0xda9435+'\x20‚Ä¢\x20'+_0x31c82a[a164_0x2817('0x4')][a164_0x2817('0x32')]:_0xda9435};await _0x356d5d['send'](_0x2ef184[a164_0x2817('0x1d')]['content'],{'embed':_0x31c82a,'files':[..._0x2ef184[a164_0x2817('0x1d')]['attachments'][a164_0x2817('0x2e')]()]});};this[a164_0x2817('0x45')]=async(_0xe2b279,_0x3c2eaf)=>{if(!['üìå','üìç'][a164_0x2817('0x50')](_0xe2b279[a164_0x2817('0x47')][a164_0x2817('0x26')]))return;if(!_0xe2b279[a164_0x2817('0x1d')][a164_0x2817('0xa')][a164_0x2817('0xe')](_0x3c2eaf)[a164_0x2817('0x40')](a164_0x2817('0x49')))return;await _0xe2b279[a164_0x2817('0x1d')][a164_0x2817('0x20')]();};this[a164_0x2817('0x22')]=async(_0x261590,_0x3b769a)=>{if(_0x3b769a[a164_0x2817('0x30')][a164_0x2817('0x11')])return;const _0x23b1df=await ReactionRoleGroup_1['default'][a164_0x2817('0x25')](_0x261590[a164_0x2817('0x1d')]['id']);if(!_0x23b1df)return;const _0x537ef0=_0x261590[a164_0x2817('0x47')]['id']?'<'+(_0x261590[a164_0x2817('0x47')][a164_0x2817('0x8')]?'a':'')+':'+_0x261590[a164_0x2817('0x47')][a164_0x2817('0x26')]+':'+_0x261590[a164_0x2817('0x47')]['id']+'>':_0x261590[a164_0x2817('0x47')][a164_0x2817('0x26')];const _0x182188=emojis[a164_0x2817('0x27')](_0x537ef0);if(_0x182188){const _0xa633d6=await Role_1['default'][a164_0x2817('0x13')]({'$or':_0x23b1df[a164_0x2817('0x3')][a164_0x2817('0x54')](_0x27526b=>({'_id':_0x27526b})),'guild':_0x261590[a164_0x2817('0x1d')][a164_0x2817('0x51')]['id'],'emoji':_0x182188[a164_0x2817('0x48')]});if(!_0xa633d6)return;if(_0x23b1df[a164_0x2817('0x10')]){for(const _0x28cdc0 of _0x261590[a164_0x2817('0x1d')][a164_0x2817('0x7')][a164_0x2817('0x35')]['filter'](_0x4cedb0=>_0x4cedb0[a164_0x2817('0x46')]['cache'][a164_0x2817('0x40')](_0x3b769a[a164_0x2817('0x30')]['id'])&&_0x4cedb0['emoji'][a164_0x2817('0x26')]!==_0x261590['emoji']['name'])[a164_0x2817('0x2e')]()){await _0x28cdc0[a164_0x2817('0x46')][a164_0x2817('0x23')](_0x3b769a)['catch'](()=>{});}await _0x3b769a[a164_0x2817('0x3')][a164_0x2817('0x23')](_0x23b1df[a164_0x2817('0x3')],a164_0x2817('0x34'));}await _0x3b769a[a164_0x2817('0x3')][a164_0x2817('0x58')](_0xa633d6[a164_0x2817('0x5')],a164_0x2817('0x38'));}};this[a164_0x2817('0x41')]=async(_0x57d7b8,_0x1273ac)=>{if(_0x57d7b8[a164_0x2817('0x36')]){_0x57d7b8=await _0x57d7b8['fetch']();}if(_0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0x36')]){_0x57d7b8[a164_0x2817('0x1d')]=await _0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0xd')]();}if(!_0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0x51')])return;const _0x34f4ca=_0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0x51')][a164_0x2817('0x3d')](_0x1273ac);this[a164_0x2817('0x22')](_0x57d7b8,_0x34f4ca)[a164_0x2817('0x4e')](()=>{});const _0x3bee76=await _0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0x51')][a164_0x2817('0x4f')]();if(_0x3bee76['suggestionsChannelId']&&_0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0xa')]['id']===_0x3bee76[a164_0x2817('0x44')]){this['handleSuggestions'](_0x57d7b8,_0x34f4ca)[a164_0x2817('0x4e')](()=>{});}if(_0x3bee76[a164_0x2817('0x4d')]&&_0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0x51')][a164_0x2817('0x4b')][a164_0x2817('0x35')][a164_0x2817('0x40')](_0x3bee76[a164_0x2817('0x4d')])){this[a164_0x2817('0x37')](_0x57d7b8,_0x34f4ca,_0x57d7b8[a164_0x2817('0x1d')][a164_0x2817('0x51')]['channels'][a164_0x2817('0x35')][a164_0x2817('0x9')](_0x3bee76[a164_0x2817('0x4d')]))[a164_0x2817('0x4e')](()=>{});}if(_0x3bee76[a164_0x2817('0x52')]&&_0x57d7b8[a164_0x2817('0x1d')]['guild'][a164_0x2817('0x4b')][a164_0x2817('0x35')]['has'](_0x3bee76[a164_0x2817('0x42')])){this[a164_0x2817('0x3a')](_0x57d7b8,_0x34f4ca,_0x57d7b8[a164_0x2817('0x1d')]['guild'][a164_0x2817('0x4b')][a164_0x2817('0x35')][a164_0x2817('0x9')](_0x3bee76['announcementsChannelId']))[a164_0x2817('0x4e')](()=>{});}if(_0x3bee76[a164_0x2817('0x33')]){this[a164_0x2817('0x45')](_0x57d7b8,_0x34f4ca)[a164_0x2817('0x4e')](()=>{});}};}};