const a173_0x2eb1=['Added\x20via\x20Reaction\x20Roles','includes','../utils/memcache','handleReactionAnnouncement','values','add','Accepted','Starboard','user','suggestionsChannelId','permissions','cache','reactionPinning','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','name','Suggestion','RED','Suggestion\x20','announcementsChannelId','edit','message','remove','color','handleReactionPinning','url','title','MANAGE_MESSAGES','YELLOW','users','Rejected','text','bot','\x20‚Ä¢\x20','footer','content','permissionsFor','reactions','findOne','findById','Source','displayAvatarURL','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','roles','fetch','partial','value','width','\x20announced\x20via\x20Announcement\x20Pinnning.','GREEN','filter','Constants','handleReactionRoles','get','tag','height','apply','emoji','has','COLORS','MANAGE_CHANNELS','handleStarboard','Auto\x20Removed\x20via\x20Reaction\x20Roles','../models/Role','test','size','starboard','guild','INDIGO','MANAGE_GUILD','starboardChannelId','author','../models/ReactionRoleGroup','catch','channels','embeds','attachments','length','handleSuggestions','constructor','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','reactionAnnouncements','channel','exec','_id','default'];(function(_0x24318a,_0x2eb15e){const _0x3c20af=function(_0x24697d){while(--_0x24697d){_0x24318a['push'](_0x24318a['shift']());}},_0x42b5f3=function(){const _0x1c62a7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xe3d5fa,_0x369948,_0x4ca31b,_0x43127e){_0x43127e=_0x43127e||{};let _0x447a07=_0x369948+'='+_0x4ca31b,_0x4981bc=0x0;for(let _0x4033e1=0x0,_0x67cd03=_0xe3d5fa['length'];_0x4033e1<_0x67cd03;_0x4033e1++){const _0x3e2c5b=_0xe3d5fa[_0x4033e1];_0x447a07+=';\x20'+_0x3e2c5b;const _0x1b3f44=_0xe3d5fa[_0x3e2c5b];_0xe3d5fa['push'](_0x1b3f44),_0x67cd03=_0xe3d5fa['length'],_0x1b3f44!==!![]&&(_0x447a07+='='+_0x1b3f44);}_0x43127e['cookie']=_0x447a07;},'removeCookie':function(){return'dev';},'getCookie':function(_0x554450,_0x3d2bde){_0x554450=_0x554450||function(_0x24193b){return _0x24193b;};const _0x26b5d8=_0x554450(new RegExp('(?:^|;\x20)'+_0x3d2bde['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4a500d=function(_0x14d149,_0x50646b){_0x14d149(++_0x50646b);};return _0x4a500d(_0x3c20af,_0x2eb15e),_0x26b5d8?decodeURIComponent(_0x26b5d8[0x1]):undefined;}},_0x404707=function(){const _0x5a369e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5a369e['test'](_0x1c62a7['removeCookie']['toString']());};_0x1c62a7['updateCookie']=_0x404707;let _0x12607e='';const _0x3b9267=_0x1c62a7['updateCookie']();if(!_0x3b9267)_0x1c62a7['setCookie'](['*'],'counter',0x1);else _0x3b9267?_0x12607e=_0x1c62a7['getCookie'](null,'counter'):_0x1c62a7['removeCookie']();};_0x42b5f3();}(a173_0x2eb1,0xfc));const a173_0x3c20=function(_0x24318a,_0x2eb15e){_0x24318a=_0x24318a-0x0;let _0x3c20af=a173_0x2eb1[_0x24318a];return _0x3c20af;};const a173_0x4ca31b=function(){let _0x36e4a9=!![];return function(_0x2041b0,_0x1f46a0){const _0x43a3a8=_0x36e4a9?function(){if(_0x1f46a0){const _0x157519=_0x1f46a0[a173_0x3c20('0x3d')](_0x2041b0,arguments);return _0x1f46a0=null,_0x157519;}}:function(){};return _0x36e4a9=![],_0x43a3a8;};}(),a173_0x369948=a173_0x4ca31b(this,function(){const _0x1a129e=function(){const _0x1ca50c=_0x1a129e['constructor'](a173_0x3c20('0x0'))()[a173_0x3c20('0x54')](a173_0x3c20('0x13'));return!_0x1ca50c[a173_0x3c20('0x45')](a173_0x369948);};return _0x1a129e();});a173_0x369948();'use strict';const tesseract_1=require('@bastion/tesseract'),ReactionRoleGroup_1=require(a173_0x3c20('0x4d')),Role_1=require(a173_0x3c20('0x44')),emojis=require('../utils/emojis'),memcache_1=require(a173_0x3c20('0x8'));module[a173_0x3c20('0x55')]=class MessageReactionAddListener extends tesseract_1['Listener']{constructor(){super('messageReactionAdd',{'mode':tesseract_1[a173_0x3c20('0x38')]['LISTENER_MODE']['ON']}),this[a173_0x3c20('0x53')]=async(_0xb295b1,_0x5dc183)=>{if(_0x5dc183[a173_0x3c20('0xe')][a173_0x3c20('0x25')])return;if(!['‚úÖ','‚ùé'][a173_0x3c20('0x7')](_0xb295b1['emoji']['name']))return;if(!_0xb295b1[a173_0x3c20('0x1a')]['channel'][a173_0x3c20('0x29')](_0x5dc183)[a173_0x3c20('0x3f')](a173_0x3c20('0x41')))return;const _0x38d1c3=_0xb295b1[a173_0x3c20('0x1a')],_0x48c12d=_0x38d1c3[a173_0x3c20('0x50')][0x0];if(!_0x48c12d)return;if(!_0x48c12d[a173_0x3c20('0x1f')]['startsWith'](a173_0x3c20('0x15')))return;_0x48c12d[a173_0x3c20('0x1c')]=_0xb295b1['emoji'][a173_0x3c20('0x14')]==='‚úÖ'?tesseract_1['Constants'][a173_0x3c20('0x40')][a173_0x3c20('0x36')]:_0xb295b1['emoji']['name']==='‚ùé'?tesseract_1[a173_0x3c20('0x38')]['COLORS'][a173_0x3c20('0x16')]:tesseract_1['Constants'][a173_0x3c20('0x40')][a173_0x3c20('0x49')],_0x48c12d[a173_0x3c20('0x1f')]=a173_0x3c20('0x17')+(_0xb295b1[a173_0x3c20('0x3e')]['name']==='‚úÖ'?a173_0x3c20('0xc'):_0xb295b1[a173_0x3c20('0x3e')][a173_0x3c20('0x14')]==='‚ùé'?a173_0x3c20('0x23'):''),await _0x38d1c3[a173_0x3c20('0x19')]({'embed':_0x48c12d});},this[a173_0x3c20('0x42')]=async(_0x3c2e23,_0x5a6e8b,_0x23943b)=>{if(!['üå†','üåü','‚≠ê'][a173_0x3c20('0x7')](_0x3c2e23['emoji'][a173_0x3c20('0x14')]))return;if(_0x5a6e8b['roles']['cache'][a173_0x3c20('0x46')]<=0x1)return;if(_0x3c2e23[a173_0x3c20('0x1a')][a173_0x3c20('0x4c')]['id']===_0x5a6e8b[a173_0x3c20('0xe')]['id'])return;const _0x40b71c=_0x3c2e23[a173_0x3c20('0x1a')][a173_0x3c20('0x51')][a173_0x3c20('0x37')](_0x1ac972=>Boolean(_0x1ac972[a173_0x3c20('0x3c')]&&_0x1ac972[a173_0x3c20('0x34')])),_0x2eb852=_0x40b71c['first']();if(!_0x3c2e23['message'][a173_0x3c20('0x28')]&&!_0x2eb852)return;const _0x3995f4=memcache_1['default'][a173_0x3c20('0x3a')]('starboard');if(_0x3995f4&&_0x3995f4 instanceof Array&&_0x3995f4[a173_0x3c20('0x7')](_0x3c2e23[a173_0x3c20('0x1a')]['id']))return;await _0x23943b['send']({'embed':{'color':tesseract_1[a173_0x3c20('0x38')][a173_0x3c20('0x40')][a173_0x3c20('0x21')],'author':{'name':_0x3c2e23[a173_0x3c20('0x1a')]['author'][a173_0x3c20('0x3b')],'iconURL':_0x3c2e23[a173_0x3c20('0x1a')][a173_0x3c20('0x4c')][a173_0x3c20('0x2e')]({'dynamic':!![],'size':0x40})},'description':_0x3c2e23[a173_0x3c20('0x1a')][a173_0x3c20('0x28')],'fields':[{'name':a173_0x3c20('0x2d'),'value':a173_0x3c20('0x2f')+_0x3c2e23[a173_0x3c20('0x1a')][a173_0x3c20('0x1e')]+')','inline':!![]}],'image':{'url':_0x2eb852?_0x2eb852[a173_0x3c20('0x1e')]:null},'footer':{'text':a173_0x3c20('0xd')}}}),_0x3995f4&&_0x3995f4 instanceof Array&&_0x3995f4['push'](_0x3c2e23[a173_0x3c20('0x1a')]['id']),memcache_1[a173_0x3c20('0x5')]['set'](a173_0x3c20('0x47'),_0x3995f4?_0x3995f4:[_0x3c2e23['message']['id']]);},this[a173_0x3c20('0x9')]=async(_0x43895f,_0x2b624b,_0x17a84f)=>{if(!['üì£','üì¢'][a173_0x3c20('0x7')](_0x43895f[a173_0x3c20('0x3e')]['name']))return;if(!_0x2b624b[a173_0x3c20('0x10')][a173_0x3c20('0x3f')](a173_0x3c20('0x4a')))return;const _0x37d9ba=_0x2b624b[a173_0x3c20('0xe')][a173_0x3c20('0x3b')]+a173_0x3c20('0x35'),_0x3bd26a=_0x43895f[a173_0x3c20('0x1a')]['embeds']&&_0x43895f['message'][a173_0x3c20('0x50')][a173_0x3c20('0x52')]?_0x43895f['message'][a173_0x3c20('0x50')][0x0]:{};_0x3bd26a[a173_0x3c20('0x27')]={..._0x3bd26a[a173_0x3c20('0x27')],'text':_0x3bd26a[a173_0x3c20('0x27')]&&_0x3bd26a['footer'][a173_0x3c20('0x24')]?_0x37d9ba+a173_0x3c20('0x26')+_0x3bd26a['footer'][a173_0x3c20('0x24')]:_0x37d9ba},await _0x17a84f['send'](_0x43895f['message'][a173_0x3c20('0x28')],{'embed':_0x3bd26a,'files':[..._0x43895f[a173_0x3c20('0x1a')]['attachments'][a173_0x3c20('0xa')]()]});},this[a173_0x3c20('0x1d')]=async(_0x205f85,_0x14756d)=>{if(!['üìå','üìç'][a173_0x3c20('0x7')](_0x205f85['emoji'][a173_0x3c20('0x14')]))return;if(!_0x205f85[a173_0x3c20('0x1a')][a173_0x3c20('0x2')]['permissionsFor'](_0x14756d)['has'](a173_0x3c20('0x20')))return;await _0x205f85[a173_0x3c20('0x1a')]['pin']();},this[a173_0x3c20('0x39')]=async(_0x422d2c,_0xb938ef)=>{if(_0xb938ef['user'][a173_0x3c20('0x25')])return;const _0x471059=await ReactionRoleGroup_1[a173_0x3c20('0x5')][a173_0x3c20('0x2c')](_0x422d2c[a173_0x3c20('0x1a')]['id']);if(!_0x471059)return;const _0x18905d=_0x422d2c[a173_0x3c20('0x3e')]['id']?'<'+(_0x422d2c[a173_0x3c20('0x3e')]['animated']?'a':'')+':'+_0x422d2c[a173_0x3c20('0x3e')]['name']+':'+_0x422d2c[a173_0x3c20('0x3e')]['id']+'>':_0x422d2c[a173_0x3c20('0x3e')][a173_0x3c20('0x14')],_0x469b4b=emojis['parseEmoji'](_0x18905d);if(_0x469b4b){const _0x2536c4=await Role_1[a173_0x3c20('0x5')][a173_0x3c20('0x2b')]({'$or':_0x471059[a173_0x3c20('0x30')]['map'](_0x579e0b=>({'_id':_0x579e0b})),'guild':_0x422d2c['message'][a173_0x3c20('0x48')]['id'],'emoji':_0x469b4b[a173_0x3c20('0x33')]});if(!_0x2536c4)return;if(_0x471059['exclusive']){for(const _0x57d446 of _0x422d2c[a173_0x3c20('0x1a')][a173_0x3c20('0x2a')]['cache'][a173_0x3c20('0x37')](_0x4388d3=>_0x4388d3[a173_0x3c20('0x22')]['cache'][a173_0x3c20('0x3f')](_0xb938ef['user']['id'])&&_0x4388d3[a173_0x3c20('0x3e')]['name']!==_0x422d2c[a173_0x3c20('0x3e')][a173_0x3c20('0x14')])[a173_0x3c20('0xa')]()){await _0x57d446[a173_0x3c20('0x22')][a173_0x3c20('0x1b')](_0xb938ef)[a173_0x3c20('0x4e')](()=>{});}await _0xb938ef[a173_0x3c20('0x30')][a173_0x3c20('0x1b')](_0x471059[a173_0x3c20('0x30')],a173_0x3c20('0x43'));}await _0xb938ef[a173_0x3c20('0x30')][a173_0x3c20('0xb')](_0x2536c4[a173_0x3c20('0x4')],a173_0x3c20('0x6'));}},this[a173_0x3c20('0x3')]=async(_0xf6a46b,_0x20821e)=>{_0xf6a46b[a173_0x3c20('0x32')]&&(_0xf6a46b=await _0xf6a46b[a173_0x3c20('0x31')]());_0xf6a46b['message'][a173_0x3c20('0x32')]&&(_0xf6a46b['message']=await _0xf6a46b[a173_0x3c20('0x1a')][a173_0x3c20('0x31')]());if(!_0xf6a46b[a173_0x3c20('0x1a')][a173_0x3c20('0x48')])return;const _0x325245=_0xf6a46b[a173_0x3c20('0x1a')][a173_0x3c20('0x48')]['member'](_0x20821e);this[a173_0x3c20('0x39')](_0xf6a46b,_0x325245)[a173_0x3c20('0x4e')](()=>{});const _0x48e31b=await _0xf6a46b[a173_0x3c20('0x1a')]['guild']['getDocument']();_0x48e31b[a173_0x3c20('0xf')]&&_0xf6a46b[a173_0x3c20('0x1a')][a173_0x3c20('0x2')]['id']===_0x48e31b[a173_0x3c20('0xf')]&&this['handleSuggestions'](_0xf6a46b,_0x325245)[a173_0x3c20('0x4e')](()=>{}),_0x48e31b[a173_0x3c20('0x4b')]&&_0xf6a46b[a173_0x3c20('0x1a')]['guild'][a173_0x3c20('0x4f')][a173_0x3c20('0x11')]['has'](_0x48e31b['starboardChannelId'])&&this['handleStarboard'](_0xf6a46b,_0x325245,_0xf6a46b[a173_0x3c20('0x1a')][a173_0x3c20('0x48')][a173_0x3c20('0x4f')][a173_0x3c20('0x11')][a173_0x3c20('0x3a')](_0x48e31b['starboardChannelId']))[a173_0x3c20('0x4e')](()=>{}),_0x48e31b[a173_0x3c20('0x1')]&&_0xf6a46b['message'][a173_0x3c20('0x48')][a173_0x3c20('0x4f')][a173_0x3c20('0x11')][a173_0x3c20('0x3f')](_0x48e31b[a173_0x3c20('0x18')])&&this[a173_0x3c20('0x9')](_0xf6a46b,_0x325245,_0xf6a46b[a173_0x3c20('0x1a')][a173_0x3c20('0x48')][a173_0x3c20('0x4f')]['cache'][a173_0x3c20('0x3a')](_0x48e31b[a173_0x3c20('0x18')]))[a173_0x3c20('0x4e')](()=>{}),_0x48e31b[a173_0x3c20('0x12')]&&this[a173_0x3c20('0x1d')](_0xf6a46b,_0x325245)[a173_0x3c20('0x4e')](()=>{});};}};