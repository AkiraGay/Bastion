const a604_0x3789=['users','author','catch','reactionPinning','filter','includes','\x20announced\x20via\x20Announcement\x20Pinnning.','handleReactionAnnouncement','Auto\x20Removed\x20via\x20Reaction\x20Roles','startsWith','member','color','remove','Constants','values','title','emoji','test','message','embeds','displayAvatarURL','reactions','../models/Role','Suggestion\x20','YELLOW','handleReactionRoles','Added\x20via\x20Reaction\x20Roles','width','add','roles','edit','cache','first','value','findById','return\x20/\x22\x20+\x20this\x20+\x20\x22/','get','fetch','messageReactionAdd','apply','name','handleSuggestions','announcementsChannelId','user','RED','text','default','Starboard','compile','height','permissionsFor','COLORS','starboardChannelId','pin','LISTENER_MODE','guild','_id','channel','has','handleReactionPinning','@bastion/tesseract','\x20‚Ä¢\x20','url','footer','permissions','map','send','attachments','../utils/emojis','partial','suggestionsChannelId','exports','tag','MANAGE_GUILD','content','MANAGE_CHANNELS','Suggestion','MANAGE_MESSAGES','constructor','Listener','handleStarboard','exclusive'];(function(_0x3c7f5d,_0x3789e6){const _0x3a0c9b=function(_0x4abdb4){while(--_0x4abdb4){_0x3c7f5d['push'](_0x3c7f5d['shift']());}};const _0x4ab9e1=function(){const _0x477526={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x13ca9b,_0x3bd6b2,_0x5a9a39,_0x3c4198){_0x3c4198=_0x3c4198||{};let _0x41a51e=_0x3bd6b2+'='+_0x5a9a39;let _0x4d7520=0x0;for(let _0x3ad9a0=0x0,_0x292e92=_0x13ca9b['length'];_0x3ad9a0<_0x292e92;_0x3ad9a0++){const _0x219dc3=_0x13ca9b[_0x3ad9a0];_0x41a51e+=';\x20'+_0x219dc3;const _0x27fcb7=_0x13ca9b[_0x219dc3];_0x13ca9b['push'](_0x27fcb7);_0x292e92=_0x13ca9b['length'];if(_0x27fcb7!==!![]){_0x41a51e+='='+_0x27fcb7;}}_0x3c4198['cookie']=_0x41a51e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2ca17f,_0x5c89f3){_0x2ca17f=_0x2ca17f||function(_0x2e4fb6){return _0x2e4fb6;};const _0x37ed1c=_0x2ca17f(new RegExp('(?:^|;\x20)'+_0x5c89f3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x374c75=function(_0x10f0d5,_0x514669){_0x10f0d5(++_0x514669);};_0x374c75(_0x3a0c9b,_0x3789e6);return _0x37ed1c?decodeURIComponent(_0x37ed1c[0x1]):undefined;}};const _0x3aa159=function(){const _0x59288e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x59288e['test'](_0x477526['removeCookie']['toString']());};_0x477526['updateCookie']=_0x3aa159;let _0x2d2d9a='';const _0x1db0e2=_0x477526['updateCookie']();if(!_0x1db0e2){_0x477526['setCookie'](['*'],'counter',0x1);}else if(_0x1db0e2){_0x2d2d9a=_0x477526['getCookie'](null,'counter');}else{_0x477526['removeCookie']();}};_0x4ab9e1();}(a604_0x3789,0x162));const a604_0x3a0c=function(_0x3c7f5d,_0x3789e6){_0x3c7f5d=_0x3c7f5d-0x0;let _0x3a0c9b=a604_0x3789[_0x3c7f5d];return _0x3a0c9b;};const a604_0x477526=function(){let _0x143e8b=!![];return function(_0x439573,_0x22436e){const _0x2f0175=_0x143e8b?function(){if(_0x22436e){const _0xf7e45=_0x22436e[a604_0x3a0c('0xd')](_0x439573,arguments);_0x22436e=null;return _0xf7e45;}}:function(){};_0x143e8b=![];return _0x2f0175;};}();const a604_0x4abdb4=a604_0x477526(this,function(){const _0x452a3f=function(){const _0x35a1f4=_0x452a3f[a604_0x3a0c('0x34')](a604_0x3a0c('0x9'))()[a604_0x3a0c('0x16')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x35a1f4[a604_0x3a0c('0x49')](a604_0x4abdb4);};return _0x452a3f();});a604_0x4abdb4();'use strict';const tesseract_1=require(a604_0x3a0c('0x22'));const ReactionRoleGroup_1=require('../models/ReactionRoleGroup');const Role_1=require(a604_0x3a0c('0x4e'));const emojis=require(a604_0x3a0c('0x2a'));module[a604_0x3a0c('0x2d')]=class MessageReactionAddListener extends tesseract_1[a604_0x3a0c('0x35')]{constructor(){super(a604_0x3a0c('0xc'),{'mode':tesseract_1['Constants'][a604_0x3a0c('0x1c')]['ON']});this[a604_0x3a0c('0xf')]=async(_0x4f7805,_0x39e6be)=>{if(!['‚úÖ','‚ùé'][a604_0x3a0c('0x3d')](_0x4f7805[a604_0x3a0c('0x48')]['name']))return;if(!_0x4f7805['message'][a604_0x3a0c('0x1f')][a604_0x3a0c('0x18')](_0x39e6be)[a604_0x3a0c('0x20')](a604_0x3a0c('0x31')))return;const _0x11c23a=_0x4f7805[a604_0x3a0c('0x4a')];const _0x44013f=_0x11c23a['embeds'][0x0];if(!_0x44013f)return;if(!_0x44013f[a604_0x3a0c('0x47')][a604_0x3a0c('0x41')](a604_0x3a0c('0x32')))return;_0x44013f[a604_0x3a0c('0x43')]=_0x4f7805['emoji'][a604_0x3a0c('0xe')]==='‚úÖ'?tesseract_1[a604_0x3a0c('0x45')][a604_0x3a0c('0x19')]['GREEN']:_0x4f7805[a604_0x3a0c('0x48')][a604_0x3a0c('0xe')]==='‚ùé'?tesseract_1[a604_0x3a0c('0x45')][a604_0x3a0c('0x19')][a604_0x3a0c('0x12')]:tesseract_1[a604_0x3a0c('0x45')][a604_0x3a0c('0x19')]['INDIGO'];_0x44013f[a604_0x3a0c('0x47')]=a604_0x3a0c('0x4f')+(_0x4f7805[a604_0x3a0c('0x48')][a604_0x3a0c('0xe')]==='‚úÖ'?'Accepted':_0x4f7805['emoji'][a604_0x3a0c('0xe')]==='‚ùé'?'Rejected':'');await _0x11c23a[a604_0x3a0c('0x4')]({'embed':_0x44013f});};this[a604_0x3a0c('0x36')]=async(_0x488c39,_0x536d4e,_0x3cc1c6)=>{if(!['üå†','üåü','‚≠ê'][a604_0x3a0c('0x3d')](_0x488c39[a604_0x3a0c('0x48')][a604_0x3a0c('0xe')]))return;if(_0x536d4e[a604_0x3a0c('0x3')][a604_0x3a0c('0x5')]['size']<=0x1)return;if(_0x488c39[a604_0x3a0c('0x4a')][a604_0x3a0c('0x39')]['id']===_0x536d4e[a604_0x3a0c('0x11')]['id'])return;const _0xf4575=_0x488c39[a604_0x3a0c('0x4a')][a604_0x3a0c('0x29')][a604_0x3a0c('0x3c')](_0x30b543=>Boolean(_0x30b543[a604_0x3a0c('0x17')]&&_0x30b543[a604_0x3a0c('0x1')]));const _0x490847=_0xf4575[a604_0x3a0c('0x6')]();if(!_0x488c39[a604_0x3a0c('0x4a')][a604_0x3a0c('0x30')]&&!_0x490847)return;await _0x3cc1c6['send']({'embed':{'color':tesseract_1[a604_0x3a0c('0x45')]['COLORS'][a604_0x3a0c('0x50')],'author':{'name':_0x488c39[a604_0x3a0c('0x4a')][a604_0x3a0c('0x39')]['tag'],'iconURL':_0x488c39[a604_0x3a0c('0x4a')]['author'][a604_0x3a0c('0x4c')]({'dynamic':!![],'size':0x40})},'description':_0x488c39[a604_0x3a0c('0x4a')][a604_0x3a0c('0x30')],'fields':[{'name':'Source','value':'[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.]('+_0x488c39[a604_0x3a0c('0x4a')][a604_0x3a0c('0x24')]+')','inline':!![]}],'image':{'url':_0x490847?_0x490847[a604_0x3a0c('0x24')]:null},'footer':{'text':a604_0x3a0c('0x15')}}});};this[a604_0x3a0c('0x3f')]=async(_0x17e4ce,_0x11754b,_0x1d33a5)=>{if(!['üì£','üì¢'][a604_0x3a0c('0x3d')](_0x17e4ce[a604_0x3a0c('0x48')]['name']))return;if(!_0x11754b[a604_0x3a0c('0x26')][a604_0x3a0c('0x20')](a604_0x3a0c('0x2f')))return;const _0x1a3f86=_0x11754b[a604_0x3a0c('0x11')][a604_0x3a0c('0x2e')]+a604_0x3a0c('0x3e');const _0xd752ab=_0x17e4ce['message'][a604_0x3a0c('0x4b')]&&_0x17e4ce['message'][a604_0x3a0c('0x4b')]['length']?_0x17e4ce[a604_0x3a0c('0x4a')]['embeds'][0x0]:{};_0xd752ab[a604_0x3a0c('0x25')]={..._0xd752ab[a604_0x3a0c('0x25')],'text':_0xd752ab[a604_0x3a0c('0x25')]&&_0xd752ab[a604_0x3a0c('0x25')][a604_0x3a0c('0x13')]?_0x1a3f86+a604_0x3a0c('0x23')+_0xd752ab[a604_0x3a0c('0x25')][a604_0x3a0c('0x13')]:_0x1a3f86};await _0x1d33a5[a604_0x3a0c('0x28')](_0x17e4ce[a604_0x3a0c('0x4a')]['content'],{'embed':_0xd752ab,'files':[..._0x17e4ce['message'][a604_0x3a0c('0x29')]['values']()]});};this['handleReactionPinning']=async(_0x46daa3,_0x5b401c)=>{if(!['üìå','üìç'][a604_0x3a0c('0x3d')](_0x46daa3[a604_0x3a0c('0x48')][a604_0x3a0c('0xe')]))return;if(!_0x46daa3[a604_0x3a0c('0x4a')][a604_0x3a0c('0x1f')][a604_0x3a0c('0x18')](_0x5b401c)[a604_0x3a0c('0x20')](a604_0x3a0c('0x33')))return;await _0x46daa3[a604_0x3a0c('0x4a')][a604_0x3a0c('0x1b')]();};this[a604_0x3a0c('0x51')]=async(_0x444695,_0x3dffca)=>{const _0x12facf=await ReactionRoleGroup_1[a604_0x3a0c('0x14')][a604_0x3a0c('0x8')](_0x444695[a604_0x3a0c('0x4a')]['id']);if(!_0x12facf)return;const _0x3e4365=_0x444695[a604_0x3a0c('0x48')]['id']?'<'+(_0x444695[a604_0x3a0c('0x48')]['animated']?'a':'')+':'+_0x444695['emoji'][a604_0x3a0c('0xe')]+':'+_0x444695[a604_0x3a0c('0x48')]['id']+'>':_0x444695[a604_0x3a0c('0x48')][a604_0x3a0c('0xe')];const _0x313adf=emojis['parseEmoji'](_0x3e4365);if(_0x313adf){const _0x2d98d3=await Role_1['default']['findOne']({'$or':_0x12facf[a604_0x3a0c('0x3')][a604_0x3a0c('0x27')](_0x572f06=>({'_id':_0x572f06})),'guild':_0x444695['message'][a604_0x3a0c('0x1d')]['id'],'emoji':_0x313adf[a604_0x3a0c('0x7')]});if(!_0x2d98d3)return;if(_0x12facf[a604_0x3a0c('0x37')]){for(const _0x41874d of _0x444695[a604_0x3a0c('0x4a')][a604_0x3a0c('0x4d')][a604_0x3a0c('0x5')]['filter'](_0xfb366f=>_0xfb366f[a604_0x3a0c('0x38')][a604_0x3a0c('0x5')]['has'](_0x3dffca[a604_0x3a0c('0x11')]['id'])&&_0xfb366f[a604_0x3a0c('0x48')][a604_0x3a0c('0xe')]!==_0x444695['emoji'][a604_0x3a0c('0xe')])[a604_0x3a0c('0x46')]()){await _0x41874d[a604_0x3a0c('0x38')][a604_0x3a0c('0x44')](_0x3dffca)[a604_0x3a0c('0x3a')](()=>{});}await _0x3dffca[a604_0x3a0c('0x3')][a604_0x3a0c('0x44')](_0x12facf[a604_0x3a0c('0x3')],a604_0x3a0c('0x40'));}await _0x3dffca['roles'][a604_0x3a0c('0x2')](_0x2d98d3[a604_0x3a0c('0x1e')],a604_0x3a0c('0x0'));}};this['exec']=async(_0x3c7abe,_0x56dcbd)=>{if(_0x3c7abe[a604_0x3a0c('0x2b')]){_0x3c7abe=await _0x3c7abe[a604_0x3a0c('0xb')]();}if(_0x3c7abe[a604_0x3a0c('0x4a')][a604_0x3a0c('0x2b')]){_0x3c7abe[a604_0x3a0c('0x4a')]=await _0x3c7abe['message'][a604_0x3a0c('0xb')]();}if(!_0x3c7abe[a604_0x3a0c('0x4a')]['guild'])return;const _0x45f02f=_0x3c7abe[a604_0x3a0c('0x4a')][a604_0x3a0c('0x1d')][a604_0x3a0c('0x42')](_0x56dcbd);this[a604_0x3a0c('0x51')](_0x3c7abe,_0x45f02f)[a604_0x3a0c('0x3a')](()=>{});const _0x274217=await _0x3c7abe['message'][a604_0x3a0c('0x1d')]['getDocument']();if(_0x274217['suggestionsChannelId']&&_0x3c7abe[a604_0x3a0c('0x4a')][a604_0x3a0c('0x1f')]['id']===_0x274217[a604_0x3a0c('0x2c')]){this[a604_0x3a0c('0xf')](_0x3c7abe,_0x45f02f)[a604_0x3a0c('0x3a')](()=>{});}if(_0x274217['starboardChannelId']&&_0x3c7abe['message'][a604_0x3a0c('0x1d')]['channels'][a604_0x3a0c('0x5')][a604_0x3a0c('0x20')](_0x274217['starboardChannelId'])){this[a604_0x3a0c('0x36')](_0x3c7abe,_0x45f02f,_0x3c7abe['message']['guild']['channels']['cache'][a604_0x3a0c('0xa')](_0x274217[a604_0x3a0c('0x1a')]))['catch'](()=>{});}if(_0x274217['reactionAnnouncements']&&_0x3c7abe[a604_0x3a0c('0x4a')]['guild']['channels'][a604_0x3a0c('0x5')][a604_0x3a0c('0x20')](_0x274217['announcementsChannelId'])){this['handleReactionAnnouncement'](_0x3c7abe,_0x45f02f,_0x3c7abe['message'][a604_0x3a0c('0x1d')]['channels'][a604_0x3a0c('0x5')][a604_0x3a0c('0xa')](_0x274217[a604_0x3a0c('0x10')]))['catch'](()=>{});}if(_0x274217[a604_0x3a0c('0x3b')]){this[a604_0x3a0c('0x21')](_0x3c7abe,_0x45f02f)[a604_0x3a0c('0x3a')](()=>{});}};}};