const a176_0x9036=['exclusive','partial','url','includes','catch','@bastion/tesseract','handleReactionRoles','../models/Role','channels','parseEmoji','apply','tag','Listener','member','embeds','LISTENER_MODE','width','reactionAnnouncements','handleStarboard','MANAGE_MESSAGES','first','height','Constants','suggestionsChannelId','test','get','text','Added\x20via\x20Reaction\x20Roles','set','cache','exec','channel','exports','displayAvatarURL','../utils/emojis','return\x20/\x22\x20+\x20this\x20+\x20\x22/','size','name','content','users','author','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','starboardChannelId','handleSuggestions','user','color','../utils/memcache','title','push','default','filter','_id','COLORS','footer','send','guild','MANAGE_GUILD','starboard','emoji','\x20announced\x20via\x20Announcement\x20Pinnning.','constructor','Starboard','fetch','length','edit','pin','handleReactionPinning','reactionPinning','messageReactionAdd','animated','Auto\x20Removed\x20via\x20Reaction\x20Roles','Rejected','attachments','values','has','message','roles','Suggestion','../models/ReactionRoleGroup','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','bot','reactions','permissionsFor','add','YELLOW','Source','value'];(function(_0xd66010,_0x9036f){const _0x57b89b=function(_0x29b890){while(--_0x29b890){_0xd66010['push'](_0xd66010['shift']());}},_0x56f1a9=function(){const _0x577414={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1802e9,_0x8c0774,_0x3d06bc,_0x295118){_0x295118=_0x295118||{};let _0x7ae619=_0x8c0774+'='+_0x3d06bc,_0x2ea484=0x0;for(let _0x5844b2=0x0,_0x46a413=_0x1802e9['length'];_0x5844b2<_0x46a413;_0x5844b2++){const _0x4b4a34=_0x1802e9[_0x5844b2];_0x7ae619+=';\x20'+_0x4b4a34;const _0x18141f=_0x1802e9[_0x4b4a34];_0x1802e9['push'](_0x18141f),_0x46a413=_0x1802e9['length'],_0x18141f!==!![]&&(_0x7ae619+='='+_0x18141f);}_0x295118['cookie']=_0x7ae619;},'removeCookie':function(){return'dev';},'getCookie':function(_0x582bfc,_0x357b10){_0x582bfc=_0x582bfc||function(_0x149ea6){return _0x149ea6;};const _0x3bc3bf=_0x582bfc(new RegExp('(?:^|;\x20)'+_0x357b10['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x28b6f3=function(_0x3f65fc,_0x55bc1b){_0x3f65fc(++_0x55bc1b);};return _0x28b6f3(_0x57b89b,_0x9036f),_0x3bc3bf?decodeURIComponent(_0x3bc3bf[0x1]):undefined;}},_0x6be86b=function(){const _0x3dfd5e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3dfd5e['test'](_0x577414['removeCookie']['toString']());};_0x577414['updateCookie']=_0x6be86b;let _0x2f48bb='';const _0xece8ea=_0x577414['updateCookie']();if(!_0xece8ea)_0x577414['setCookie'](['*'],'counter',0x1);else _0xece8ea?_0x2f48bb=_0x577414['getCookie'](null,'counter'):_0x577414['removeCookie']();};_0x56f1a9();}(a176_0x9036,0x9c));const a176_0x57b8=function(_0xd66010,_0x9036f){_0xd66010=_0xd66010-0x0;let _0x57b89b=a176_0x9036[_0xd66010];return _0x57b89b;};const a176_0x577414=function(){let _0x2f48bb=!![];return function(_0xece8ea,_0x1802e9){const _0x8c0774=_0x2f48bb?function(){if(_0x1802e9){const _0x3d06bc=_0x1802e9[a176_0x57b8('0x1c')](_0xece8ea,arguments);return _0x1802e9=null,_0x3d06bc;}}:function(){};return _0x2f48bb=![],_0x8c0774;};}(),a176_0x29b890=a176_0x577414(this,function(){const _0x295118=function(){const _0x7ae619=_0x295118[a176_0x57b8('0x4e')](a176_0x57b8('0x35'))()['constructor'](a176_0x57b8('0x3b'));return!_0x7ae619[a176_0x57b8('0x2a')](a176_0x29b890);};return _0x295118();});a176_0x29b890();'use strict';const tesseract_1=require(a176_0x57b8('0x17')),ReactionRoleGroup_1=require(a176_0x57b8('0x9')),Role_1=require(a176_0x57b8('0x19')),emojis=require(a176_0x57b8('0x34')),memcache_1=require(a176_0x57b8('0x40'));module[a176_0x57b8('0x32')]=class MessageReactionAddListener extends tesseract_1[a176_0x57b8('0x1e')]{constructor(){super(a176_0x57b8('0x56'),{'mode':tesseract_1[a176_0x57b8('0x28')][a176_0x57b8('0x21')]['ON']}),this[a176_0x57b8('0x3d')]=async(_0x2ea484,_0x5844b2)=>{if(_0x5844b2['user'][a176_0x57b8('0xb')])return;if(!['‚úÖ','‚ùé'][a176_0x57b8('0x15')](_0x2ea484[a176_0x57b8('0x4c')]['name']))return;if(!_0x2ea484[a176_0x57b8('0x6')][a176_0x57b8('0x31')][a176_0x57b8('0xd')](_0x5844b2)[a176_0x57b8('0x5')]('MANAGE_CHANNELS'))return;const _0x46a413=_0x2ea484[a176_0x57b8('0x6')],_0x4b4a34=_0x46a413['embeds'][0x0];if(!_0x4b4a34)return;if(!_0x4b4a34[a176_0x57b8('0x41')]['startsWith'](a176_0x57b8('0x8')))return;_0x4b4a34[a176_0x57b8('0x3f')]=_0x2ea484[a176_0x57b8('0x4c')]['name']==='‚úÖ'?tesseract_1[a176_0x57b8('0x28')]['COLORS']['GREEN']:_0x2ea484[a176_0x57b8('0x4c')]['name']==='‚ùé'?tesseract_1[a176_0x57b8('0x28')][a176_0x57b8('0x46')]['RED']:tesseract_1[a176_0x57b8('0x28')][a176_0x57b8('0x46')]['INDIGO'],_0x4b4a34['title']='Suggestion\x20'+(_0x2ea484[a176_0x57b8('0x4c')][a176_0x57b8('0x37')]==='‚úÖ'?'Accepted':_0x2ea484[a176_0x57b8('0x4c')][a176_0x57b8('0x37')]==='‚ùé'?a176_0x57b8('0x2'):''),await _0x46a413[a176_0x57b8('0x52')]({'embed':_0x4b4a34});},this['handleStarboard']=async(_0x18141f,_0x582bfc,_0x357b10)=>{if(!['üå†','üåü','‚≠ê']['includes'](_0x18141f[a176_0x57b8('0x4c')][a176_0x57b8('0x37')]))return;if(_0x582bfc[a176_0x57b8('0x7')]['cache'][a176_0x57b8('0x36')]<=0x1)return;if(_0x18141f[a176_0x57b8('0x6')][a176_0x57b8('0x3a')]['id']===_0x582bfc[a176_0x57b8('0x3e')]['id'])return;const _0x3bc3bf=_0x18141f[a176_0x57b8('0x6')]['attachments'][a176_0x57b8('0x44')](_0x3f65fc=>Boolean(_0x3f65fc[a176_0x57b8('0x27')]&&_0x3f65fc[a176_0x57b8('0x22')])),_0x28b6f3=_0x3bc3bf[a176_0x57b8('0x26')]();if(!_0x18141f[a176_0x57b8('0x6')]['content']&&!_0x28b6f3)return;const _0x149ea6=memcache_1[a176_0x57b8('0x43')][a176_0x57b8('0x2b')](a176_0x57b8('0x4b'));if(_0x149ea6&&_0x149ea6 instanceof Array&&_0x149ea6[a176_0x57b8('0x15')](_0x18141f[a176_0x57b8('0x6')]['id']))return;await _0x357b10[a176_0x57b8('0x48')]({'embed':{'color':tesseract_1['Constants'][a176_0x57b8('0x46')][a176_0x57b8('0xf')],'author':{'name':_0x18141f[a176_0x57b8('0x6')][a176_0x57b8('0x3a')][a176_0x57b8('0x1d')],'iconURL':_0x18141f[a176_0x57b8('0x6')][a176_0x57b8('0x3a')][a176_0x57b8('0x33')]({'dynamic':!![],'size':0x40})},'description':_0x18141f[a176_0x57b8('0x6')][a176_0x57b8('0x38')],'fields':[{'name':a176_0x57b8('0x10'),'value':a176_0x57b8('0xa')+_0x18141f[a176_0x57b8('0x6')][a176_0x57b8('0x14')]+')','inline':!![]}],'image':{'url':_0x28b6f3?_0x28b6f3[a176_0x57b8('0x14')]:null},'footer':{'text':a176_0x57b8('0x4f')}}}),_0x149ea6&&_0x149ea6 instanceof Array&&_0x149ea6[a176_0x57b8('0x42')](_0x18141f[a176_0x57b8('0x6')]['id']),memcache_1[a176_0x57b8('0x43')][a176_0x57b8('0x2e')]('starboard',_0x149ea6?_0x149ea6:[_0x18141f[a176_0x57b8('0x6')]['id']]);},this['handleReactionAnnouncement']=async(_0x55bc1b,_0x3dfd5e,_0x3a5104)=>{if(!['üì£','üì¢']['includes'](_0x55bc1b[a176_0x57b8('0x4c')]['name']))return;if(!_0x3dfd5e['permissions']['has'](a176_0x57b8('0x4a')))return;const _0x45f5ef=_0x3dfd5e[a176_0x57b8('0x3e')][a176_0x57b8('0x1d')]+a176_0x57b8('0x4d'),_0x514b11=_0x55bc1b[a176_0x57b8('0x6')][a176_0x57b8('0x20')]&&_0x55bc1b[a176_0x57b8('0x6')][a176_0x57b8('0x20')][a176_0x57b8('0x51')]?_0x55bc1b['message']['embeds'][0x0]:{};_0x514b11[a176_0x57b8('0x47')]={..._0x514b11['footer'],'text':_0x514b11['footer']&&_0x514b11[a176_0x57b8('0x47')]['text']?_0x45f5ef+'\x20‚Ä¢\x20'+_0x514b11[a176_0x57b8('0x47')][a176_0x57b8('0x2c')]:_0x45f5ef},await _0x3a5104[a176_0x57b8('0x48')](_0x55bc1b[a176_0x57b8('0x6')]['content'],{'embed':_0x514b11,'files':[..._0x55bc1b[a176_0x57b8('0x6')][a176_0x57b8('0x3')]['values']()]});},this[a176_0x57b8('0x54')]=async(_0x41b93d,_0x26ecac)=>{if(!['üìå','üìç']['includes'](_0x41b93d[a176_0x57b8('0x4c')][a176_0x57b8('0x37')]))return;if(!_0x41b93d['message']['channel'][a176_0x57b8('0xd')](_0x26ecac)[a176_0x57b8('0x5')](a176_0x57b8('0x25')))return;await _0x41b93d[a176_0x57b8('0x6')][a176_0x57b8('0x53')]({'reason':'Pin\x20reaction\x20added\x20by\x20'+_0x26ecac[a176_0x57b8('0x3e')]?_0x26ecac['user']['tag']:_0x26ecac['id']});},this[a176_0x57b8('0x18')]=async(_0xf061fe,_0x2e8778)=>{if(_0x2e8778['user'][a176_0x57b8('0xb')])return;const _0x2b0758=await ReactionRoleGroup_1[a176_0x57b8('0x43')]['findById'](_0xf061fe[a176_0x57b8('0x6')]['id']);if(!_0x2b0758)return;const _0x28705c=_0xf061fe['emoji']['id']?'<'+(_0xf061fe[a176_0x57b8('0x4c')][a176_0x57b8('0x0')]?'a':'')+':'+_0xf061fe[a176_0x57b8('0x4c')][a176_0x57b8('0x37')]+':'+_0xf061fe[a176_0x57b8('0x4c')]['id']+'>':_0xf061fe[a176_0x57b8('0x4c')][a176_0x57b8('0x37')],_0x471183=emojis[a176_0x57b8('0x1b')](_0x28705c);if(_0x471183){const _0x4393f2=await Role_1[a176_0x57b8('0x43')]['findOne']({'$or':_0x2b0758[a176_0x57b8('0x7')]['map'](_0x50daad=>({'_id':_0x50daad})),'guild':_0xf061fe[a176_0x57b8('0x6')]['guild']['id'],'emoji':_0x471183[a176_0x57b8('0x11')]});if(!_0x4393f2)return;if(_0x2b0758[a176_0x57b8('0x12')]){for(const _0x573f35 of _0xf061fe[a176_0x57b8('0x6')][a176_0x57b8('0xc')][a176_0x57b8('0x2f')][a176_0x57b8('0x44')](_0x4d40bf=>_0x4d40bf['users'][a176_0x57b8('0x2f')][a176_0x57b8('0x5')](_0x2e8778['user']['id'])&&_0x4d40bf[a176_0x57b8('0x4c')][a176_0x57b8('0x37')]!==_0xf061fe[a176_0x57b8('0x4c')][a176_0x57b8('0x37')])[a176_0x57b8('0x4')]()){await _0x573f35[a176_0x57b8('0x39')]['remove'](_0x2e8778)[a176_0x57b8('0x16')](()=>{});}await _0x2e8778[a176_0x57b8('0x7')]['remove'](_0x2b0758[a176_0x57b8('0x7')],a176_0x57b8('0x1'));}await _0x2e8778[a176_0x57b8('0x7')][a176_0x57b8('0xe')](_0x4393f2[a176_0x57b8('0x45')],a176_0x57b8('0x2d'));}},this[a176_0x57b8('0x30')]=async(_0x57a840,_0x2774ae)=>{_0x57a840[a176_0x57b8('0x13')]&&(_0x57a840=await _0x57a840[a176_0x57b8('0x50')]());_0x57a840[a176_0x57b8('0x6')]['partial']&&(_0x57a840[a176_0x57b8('0x6')]=await _0x57a840[a176_0x57b8('0x6')][a176_0x57b8('0x50')]());if(!_0x57a840[a176_0x57b8('0x6')][a176_0x57b8('0x49')])return;const _0x1da34a=_0x57a840['message'][a176_0x57b8('0x49')][a176_0x57b8('0x1f')](_0x2774ae);this[a176_0x57b8('0x18')](_0x57a840,_0x1da34a)[a176_0x57b8('0x16')](()=>{});const _0x46a600=await _0x57a840['message']['guild']['getDocument']();_0x46a600[a176_0x57b8('0x29')]&&_0x57a840[a176_0x57b8('0x6')][a176_0x57b8('0x31')]['id']===_0x46a600[a176_0x57b8('0x29')]&&this[a176_0x57b8('0x3d')](_0x57a840,_0x1da34a)[a176_0x57b8('0x16')](()=>{}),_0x46a600[a176_0x57b8('0x3c')]&&_0x57a840[a176_0x57b8('0x6')][a176_0x57b8('0x49')][a176_0x57b8('0x1a')]['cache'][a176_0x57b8('0x5')](_0x46a600['starboardChannelId'])&&this[a176_0x57b8('0x24')](_0x57a840,_0x1da34a,_0x57a840[a176_0x57b8('0x6')][a176_0x57b8('0x49')][a176_0x57b8('0x1a')]['cache'][a176_0x57b8('0x2b')](_0x46a600[a176_0x57b8('0x3c')]))['catch'](()=>{}),_0x46a600[a176_0x57b8('0x23')]&&_0x57a840['message'][a176_0x57b8('0x49')][a176_0x57b8('0x1a')]['cache'][a176_0x57b8('0x5')](_0x46a600['announcementsChannelId'])&&this['handleReactionAnnouncement'](_0x57a840,_0x1da34a,_0x57a840['message']['guild']['channels'][a176_0x57b8('0x2f')]['get'](_0x46a600['announcementsChannelId']))[a176_0x57b8('0x16')](()=>{}),_0x46a600[a176_0x57b8('0x55')]&&this[a176_0x57b8('0x54')](_0x57a840,_0x1da34a)[a176_0x57b8('0x16')](()=>{});};}};