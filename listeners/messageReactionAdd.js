const a165_0x33ee=['catch','animated','../models/ReactionRoleGroup','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Added\x20via\x20Reaction\x20Roles','remove','bot','url','GREEN','partial','cache','starboard','return\x20/\x22\x20+\x20this\x20+\x20\x22/','handleReactionPinning','author','map','Suggestion','exclusive','title','reactionPinning','first','pin','RED','COLORS','channel','parseEmoji','reactionAnnouncements','name','findById','Accepted','Suggestion\x20','Source','YELLOW','handleReactionRoles','member','constructor','roles','permissionsFor','suggestionsChannelId','exec','_id','LISTENER_MODE','height','add','default','permissions','attachments','user','width','filter','MANAGE_GUILD','Listener','footer','emoji','set','includes','displayAvatarURL','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','send','../utils/memcache','getDocument','Rejected','exports','test','starboardChannelId','reactions','Constants','get','embeds','length','handleStarboard','has','message','users','channels','values','text','../utils/emojis','fetch','compile','MANAGE_MESSAGES','\x20announced\x20via\x20Announcement\x20Pinnning.','\x20‚Ä¢\x20','startsWith','handleReactionAnnouncement','Auto\x20Removed\x20via\x20Reaction\x20Roles','content','handleSuggestions','guild','../models/Role','color'];(function(_0x29bb14,_0x33eefa){const _0x318eba=function(_0x17b9ae){while(--_0x17b9ae){_0x29bb14['push'](_0x29bb14['shift']());}};const _0x1b4ff7=function(){const _0x422d85={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x32d612,_0x139419,_0x2e81a7,_0x2b74e8){_0x2b74e8=_0x2b74e8||{};let _0x5985f7=_0x139419+'='+_0x2e81a7;let _0xf63c0f=0x0;for(let _0x38ef6e=0x0,_0x43ce0f=_0x32d612['length'];_0x38ef6e<_0x43ce0f;_0x38ef6e++){const _0x1e1820=_0x32d612[_0x38ef6e];_0x5985f7+=';\x20'+_0x1e1820;const _0x46dfdd=_0x32d612[_0x1e1820];_0x32d612['push'](_0x46dfdd);_0x43ce0f=_0x32d612['length'];if(_0x46dfdd!==!![]){_0x5985f7+='='+_0x46dfdd;}}_0x2b74e8['cookie']=_0x5985f7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x43c890,_0x4abb92){_0x43c890=_0x43c890||function(_0xea48f8){return _0xea48f8;};const _0x42f24a=_0x43c890(new RegExp('(?:^|;\x20)'+_0x4abb92['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x165746=function(_0xf36b17,_0x38212f){_0xf36b17(++_0x38212f);};_0x165746(_0x318eba,_0x33eefa);return _0x42f24a?decodeURIComponent(_0x42f24a[0x1]):undefined;}};const _0x29e2c4=function(){const _0x3beb45=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3beb45['test'](_0x422d85['removeCookie']['toString']());};_0x422d85['updateCookie']=_0x29e2c4;let _0x4f2400='';const _0x429531=_0x422d85['updateCookie']();if(!_0x429531){_0x422d85['setCookie'](['*'],'counter',0x1);}else if(_0x429531){_0x4f2400=_0x422d85['getCookie'](null,'counter');}else{_0x422d85['removeCookie']();}};_0x1b4ff7();}(a165_0x33ee,0x113));const a165_0x318e=function(_0x29bb14,_0x33eefa){_0x29bb14=_0x29bb14-0x0;let _0x318eba=a165_0x33ee[_0x29bb14];return _0x318eba;};const a165_0x422d85=function(){let _0x5d016d=!![];return function(_0x322990,_0x3fc8f4){const _0x2703b3=_0x5d016d?function(){if(_0x3fc8f4){const _0x219183=_0x3fc8f4['apply'](_0x322990,arguments);_0x3fc8f4=null;return _0x219183;}}:function(){};_0x5d016d=![];return _0x2703b3;};}();const a165_0x17b9ae=a165_0x422d85(this,function(){const _0x165a07=function(){const _0x221c58=_0x165a07[a165_0x318e('0x21')](a165_0x318e('0xa'))()[a165_0x318e('0x4d')](a165_0x318e('0x1'));return!_0x221c58[a165_0x318e('0x3d')](a165_0x17b9ae);};return _0x165a07();});a165_0x17b9ae();'use strict';const tesseract_1=require('@bastion/tesseract');const ReactionRoleGroup_1=require(a165_0x318e('0x0'));const Role_1=require(a165_0x318e('0x57'));const emojis=require(a165_0x318e('0x4b'));const memcache_1=require(a165_0x318e('0x39'));module[a165_0x318e('0x3c')]=class MessageReactionAddListener extends tesseract_1[a165_0x318e('0x31')]{constructor(){super('messageReactionAdd',{'mode':tesseract_1[a165_0x318e('0x40')][a165_0x318e('0x27')]['ON']});this[a165_0x318e('0x55')]=async(_0x2eb024,_0x4c4142)=>{if(_0x4c4142[a165_0x318e('0x2d')][a165_0x318e('0x4')])return;if(!['‚úÖ','‚ùé'][a165_0x318e('0x35')](_0x2eb024[a165_0x318e('0x33')][a165_0x318e('0x19')]))return;if(!_0x2eb024[a165_0x318e('0x46')][a165_0x318e('0x16')][a165_0x318e('0x23')](_0x4c4142)[a165_0x318e('0x45')]('MANAGE_CHANNELS'))return;const _0x3ad217=_0x2eb024[a165_0x318e('0x46')];const _0x4b09de=_0x3ad217[a165_0x318e('0x42')][0x0];if(!_0x4b09de)return;if(!_0x4b09de['title'][a165_0x318e('0x51')](a165_0x318e('0xe')))return;_0x4b09de[a165_0x318e('0x58')]=_0x2eb024[a165_0x318e('0x33')][a165_0x318e('0x19')]==='‚úÖ'?tesseract_1[a165_0x318e('0x40')][a165_0x318e('0x15')][a165_0x318e('0x6')]:_0x2eb024[a165_0x318e('0x33')][a165_0x318e('0x19')]==='‚ùé'?tesseract_1[a165_0x318e('0x40')]['COLORS'][a165_0x318e('0x14')]:tesseract_1[a165_0x318e('0x40')][a165_0x318e('0x15')]['INDIGO'];_0x4b09de[a165_0x318e('0x10')]=a165_0x318e('0x1c')+(_0x2eb024[a165_0x318e('0x33')][a165_0x318e('0x19')]==='‚úÖ'?a165_0x318e('0x1b'):_0x2eb024[a165_0x318e('0x33')][a165_0x318e('0x19')]==='‚ùé'?a165_0x318e('0x3b'):'');await _0x3ad217['edit']({'embed':_0x4b09de});};this[a165_0x318e('0x44')]=async(_0x2b72ea,_0x1724c4,_0x8d7b0)=>{if(!['üå†','üåü','‚≠ê'][a165_0x318e('0x35')](_0x2b72ea['emoji'][a165_0x318e('0x19')]))return;if(_0x1724c4[a165_0x318e('0x22')]['cache']['size']<=0x1)return;if(_0x2b72ea[a165_0x318e('0x46')][a165_0x318e('0xc')]['id']===_0x1724c4[a165_0x318e('0x2d')]['id'])return;const _0x4ddc2b=_0x2b72ea[a165_0x318e('0x46')]['attachments'][a165_0x318e('0x2f')](_0x4e7844=>Boolean(_0x4e7844[a165_0x318e('0x28')]&&_0x4e7844[a165_0x318e('0x2e')]));const _0xec4dea=_0x4ddc2b[a165_0x318e('0x12')]();if(!_0x2b72ea[a165_0x318e('0x46')][a165_0x318e('0x54')]&&!_0xec4dea)return;const _0x2086d0=memcache_1['default'][a165_0x318e('0x41')](a165_0x318e('0x9'));if(_0x2086d0&&_0x2086d0 instanceof Array&&_0x2086d0['includes'](_0x2b72ea[a165_0x318e('0x46')]['id']))return;await _0x8d7b0[a165_0x318e('0x38')]({'embed':{'color':tesseract_1[a165_0x318e('0x40')][a165_0x318e('0x15')][a165_0x318e('0x1e')],'author':{'name':_0x2b72ea[a165_0x318e('0x46')]['author']['tag'],'iconURL':_0x2b72ea[a165_0x318e('0x46')][a165_0x318e('0xc')][a165_0x318e('0x36')]({'dynamic':!![],'size':0x40})},'description':_0x2b72ea['message'][a165_0x318e('0x54')],'fields':[{'name':a165_0x318e('0x1d'),'value':a165_0x318e('0x37')+_0x2b72ea[a165_0x318e('0x46')][a165_0x318e('0x5')]+')','inline':!![]}],'image':{'url':_0xec4dea?_0xec4dea[a165_0x318e('0x5')]:null},'footer':{'text':'Starboard'}}});if(_0x2086d0&&_0x2086d0 instanceof Array){_0x2086d0['push'](_0x2b72ea['message']['id']);}memcache_1['default'][a165_0x318e('0x34')](a165_0x318e('0x9'),_0x2086d0?_0x2086d0:[_0x2b72ea['message']['id']]);};this['handleReactionAnnouncement']=async(_0x39a114,_0x498767,_0xe218cc)=>{if(!['üì£','üì¢'][a165_0x318e('0x35')](_0x39a114['emoji'][a165_0x318e('0x19')]))return;if(!_0x498767[a165_0x318e('0x2b')]['has'](a165_0x318e('0x30')))return;const _0x21526e=_0x498767[a165_0x318e('0x2d')]['tag']+a165_0x318e('0x4f');const _0x31664f=_0x39a114[a165_0x318e('0x46')][a165_0x318e('0x42')]&&_0x39a114[a165_0x318e('0x46')]['embeds'][a165_0x318e('0x43')]?_0x39a114[a165_0x318e('0x46')][a165_0x318e('0x42')][0x0]:{};_0x31664f[a165_0x318e('0x32')]={..._0x31664f[a165_0x318e('0x32')],'text':_0x31664f[a165_0x318e('0x32')]&&_0x31664f[a165_0x318e('0x32')]['text']?_0x21526e+a165_0x318e('0x50')+_0x31664f[a165_0x318e('0x32')][a165_0x318e('0x4a')]:_0x21526e};await _0xe218cc[a165_0x318e('0x38')](_0x39a114[a165_0x318e('0x46')][a165_0x318e('0x54')],{'embed':_0x31664f,'files':[..._0x39a114[a165_0x318e('0x46')][a165_0x318e('0x2c')]['values']()]});};this[a165_0x318e('0xb')]=async(_0x258f29,_0xced070)=>{if(!['üìå','üìç'][a165_0x318e('0x35')](_0x258f29[a165_0x318e('0x33')]['name']))return;if(!_0x258f29[a165_0x318e('0x46')]['channel'][a165_0x318e('0x23')](_0xced070)[a165_0x318e('0x45')](a165_0x318e('0x4e')))return;await _0x258f29[a165_0x318e('0x46')][a165_0x318e('0x13')]();};this['handleReactionRoles']=async(_0x273b48,_0x45c7f5)=>{if(_0x45c7f5['user'][a165_0x318e('0x4')])return;const _0x144414=await ReactionRoleGroup_1['default'][a165_0x318e('0x1a')](_0x273b48[a165_0x318e('0x46')]['id']);if(!_0x144414)return;const _0x1ab694=_0x273b48[a165_0x318e('0x33')]['id']?'<'+(_0x273b48[a165_0x318e('0x33')][a165_0x318e('0x5a')]?'a':'')+':'+_0x273b48[a165_0x318e('0x33')][a165_0x318e('0x19')]+':'+_0x273b48[a165_0x318e('0x33')]['id']+'>':_0x273b48[a165_0x318e('0x33')][a165_0x318e('0x19')];const _0x43356f=emojis[a165_0x318e('0x17')](_0x1ab694);if(_0x43356f){const _0x817ad3=await Role_1[a165_0x318e('0x2a')]['findOne']({'$or':_0x144414['roles'][a165_0x318e('0xd')](_0x408877=>({'_id':_0x408877})),'guild':_0x273b48['message']['guild']['id'],'emoji':_0x43356f['value']});if(!_0x817ad3)return;if(_0x144414[a165_0x318e('0xf')]){for(const _0x44e9c1 of _0x273b48[a165_0x318e('0x46')][a165_0x318e('0x3f')][a165_0x318e('0x8')][a165_0x318e('0x2f')](_0x1a612f=>_0x1a612f[a165_0x318e('0x47')]['cache'][a165_0x318e('0x45')](_0x45c7f5[a165_0x318e('0x2d')]['id'])&&_0x1a612f[a165_0x318e('0x33')][a165_0x318e('0x19')]!==_0x273b48[a165_0x318e('0x33')]['name'])[a165_0x318e('0x49')]()){await _0x44e9c1['users']['remove'](_0x45c7f5)['catch'](()=>{});}await _0x45c7f5[a165_0x318e('0x22')][a165_0x318e('0x3')](_0x144414[a165_0x318e('0x22')],a165_0x318e('0x53'));}await _0x45c7f5['roles'][a165_0x318e('0x29')](_0x817ad3[a165_0x318e('0x26')],a165_0x318e('0x2'));}};this[a165_0x318e('0x25')]=async(_0x1ec820,_0x51e874)=>{if(_0x1ec820[a165_0x318e('0x7')]){_0x1ec820=await _0x1ec820['fetch']();}if(_0x1ec820['message'][a165_0x318e('0x7')]){_0x1ec820['message']=await _0x1ec820['message'][a165_0x318e('0x4c')]();}if(!_0x1ec820[a165_0x318e('0x46')][a165_0x318e('0x56')])return;const _0xc303df=_0x1ec820[a165_0x318e('0x46')][a165_0x318e('0x56')][a165_0x318e('0x20')](_0x51e874);this[a165_0x318e('0x1f')](_0x1ec820,_0xc303df)[a165_0x318e('0x59')](()=>{});const _0x7ddcd7=await _0x1ec820['message']['guild'][a165_0x318e('0x3a')]();if(_0x7ddcd7[a165_0x318e('0x24')]&&_0x1ec820[a165_0x318e('0x46')][a165_0x318e('0x16')]['id']===_0x7ddcd7[a165_0x318e('0x24')]){this[a165_0x318e('0x55')](_0x1ec820,_0xc303df)[a165_0x318e('0x59')](()=>{});}if(_0x7ddcd7[a165_0x318e('0x3e')]&&_0x1ec820[a165_0x318e('0x46')][a165_0x318e('0x56')][a165_0x318e('0x48')][a165_0x318e('0x8')][a165_0x318e('0x45')](_0x7ddcd7[a165_0x318e('0x3e')])){this[a165_0x318e('0x44')](_0x1ec820,_0xc303df,_0x1ec820['message']['guild'][a165_0x318e('0x48')]['cache'][a165_0x318e('0x41')](_0x7ddcd7[a165_0x318e('0x3e')]))[a165_0x318e('0x59')](()=>{});}if(_0x7ddcd7[a165_0x318e('0x18')]&&_0x1ec820['message'][a165_0x318e('0x56')][a165_0x318e('0x48')][a165_0x318e('0x8')][a165_0x318e('0x45')](_0x7ddcd7['announcementsChannelId'])){this[a165_0x318e('0x52')](_0x1ec820,_0xc303df,_0x1ec820[a165_0x318e('0x46')][a165_0x318e('0x56')][a165_0x318e('0x48')]['cache'][a165_0x318e('0x41')](_0x7ddcd7['announcementsChannelId']))['catch'](()=>{});}if(_0x7ddcd7[a165_0x318e('0x11')]){this[a165_0x318e('0xb')](_0x1ec820,_0xc303df)[a165_0x318e('0x59')](()=>{});}};}};