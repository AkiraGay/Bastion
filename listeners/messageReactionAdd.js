const a175_0x268c=['../utils/emojis','exclusive','content','emoji','default','push','Listener','cache','return\x20/\x22\x20+\x20this\x20+\x20\x22/','text','../models/Role','filter','reactions','Rejected','handleSuggestions','reactionPinning','handleReactionPinning','Constants','users','fetch','name','set','Suggestion\x20','apply','animated','RED','partial','suggestionsChannelId','color','findOne','handleReactionAnnouncement','parseEmoji','exec','channel','announcementsChannelId','tag','_id','Starboard','guild','handleStarboard','@bastion/tesseract','values','INDIGO','Source','remove','send','../utils/memcache','Added\x20via\x20Reaction\x20Roles','test','Auto\x20Removed\x20via\x20Reaction\x20Roles','starboard','permissions','attachments','Accepted','get','Pin\x20reaction\x20added\x20by\x20','\x20announced\x20via\x20Announcement\x20Pinnning.','message','../models/ReactionRoleGroup','bot','exports','handleReactionRoles','width','map','\x20‚Ä¢\x20','user','pin','footer','catch','height','member','COLORS','YELLOW','value','includes','title','edit','constructor','findById','MANAGE_GUILD','embeds','first','has','author','size','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GREEN','LISTENER_MODE','roles','starboardChannelId','permissionsFor'];(function(_0x197409,_0x268c4d){const _0x15e31f=function(_0x41b559){while(--_0x41b559){_0x197409['push'](_0x197409['shift']());}},_0x2760e7=function(){const _0x572d69={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x53982b,_0x158704,_0x5e9595,_0x2c7a8f){_0x2c7a8f=_0x2c7a8f||{};let _0x45dc3c=_0x158704+'='+_0x5e9595,_0x57134c=0x0;for(let _0xeb659d=0x0,_0x2d090d=_0x53982b['length'];_0xeb659d<_0x2d090d;_0xeb659d++){const _0x2759c4=_0x53982b[_0xeb659d];_0x45dc3c+=';\x20'+_0x2759c4;const _0x45f952=_0x53982b[_0x2759c4];_0x53982b['push'](_0x45f952),_0x2d090d=_0x53982b['length'],_0x45f952!==!![]&&(_0x45dc3c+='='+_0x45f952);}_0x2c7a8f['cookie']=_0x45dc3c;},'removeCookie':function(){return'dev';},'getCookie':function(_0xb88d93,_0x3a0f2a){_0xb88d93=_0xb88d93||function(_0x3982f3){return _0x3982f3;};const _0xe751f9=_0xb88d93(new RegExp('(?:^|;\x20)'+_0x3a0f2a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x357e35=function(_0x427f68,_0x2f51e2){_0x427f68(++_0x2f51e2);};return _0x357e35(_0x15e31f,_0x268c4d),_0xe751f9?decodeURIComponent(_0xe751f9[0x1]):undefined;}},_0x4840c3=function(){const _0x3cf78a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3cf78a['test'](_0x572d69['removeCookie']['toString']());};_0x572d69['updateCookie']=_0x4840c3;let _0x343026='';const _0x4f6d61=_0x572d69['updateCookie']();if(!_0x4f6d61)_0x572d69['setCookie'](['*'],'counter',0x1);else _0x4f6d61?_0x343026=_0x572d69['getCookie'](null,'counter'):_0x572d69['removeCookie']();};_0x2760e7();}(a175_0x268c,0xce));const a175_0x15e3=function(_0x197409,_0x268c4d){_0x197409=_0x197409-0x0;let _0x15e31f=a175_0x268c[_0x197409];return _0x15e31f;};const a175_0x572d69=function(){let _0x343026=!![];return function(_0x4f6d61,_0x53982b){const _0x158704=_0x343026?function(){if(_0x53982b){const _0x5e9595=_0x53982b[a175_0x15e3('0x5a')](_0x4f6d61,arguments);return _0x53982b=null,_0x5e9595;}}:function(){};return _0x343026=![],_0x158704;};}(),a175_0x41b559=a175_0x572d69(this,function(){const _0x2c7a8f=function(){const _0x45dc3c=_0x2c7a8f[a175_0x15e3('0x35')](a175_0x15e3('0x4b'))()[a175_0x15e3('0x35')](a175_0x15e3('0x3d'));return!_0x45dc3c[a175_0x15e3('0x18')](a175_0x41b559);};return _0x2c7a8f();});a175_0x41b559();'use strict';const tesseract_1=require(a175_0x15e3('0x10')),ReactionRoleGroup_1=require(a175_0x15e3('0x22')),Role_1=require(a175_0x15e3('0x4d')),emojis=require(a175_0x15e3('0x43')),memcache_1=require(a175_0x15e3('0x16'));module[a175_0x15e3('0x24')]=class MessageReactionAddListener extends tesseract_1[a175_0x15e3('0x49')]{constructor(){super('messageReactionAdd',{'mode':tesseract_1['Constants'][a175_0x15e3('0x3f')]['ON']}),this[a175_0x15e3('0x51')]=async(_0x57134c,_0xeb659d)=>{if(_0xeb659d['user'][a175_0x15e3('0x23')])return;if(!['‚úÖ','‚ùé'][a175_0x15e3('0x32')](_0x57134c[a175_0x15e3('0x46')][a175_0x15e3('0x57')]))return;if(!_0x57134c[a175_0x15e3('0x21')][a175_0x15e3('0x9')][a175_0x15e3('0x42')](_0xeb659d)[a175_0x15e3('0x3a')]('MANAGE_CHANNELS'))return;const _0x2d090d=_0x57134c[a175_0x15e3('0x21')],_0x2759c4=_0x2d090d[a175_0x15e3('0x38')][0x0];if(!_0x2759c4)return;if(!_0x2759c4[a175_0x15e3('0x33')]['startsWith']('Suggestion'))return;_0x2759c4[a175_0x15e3('0x4')]=_0x57134c[a175_0x15e3('0x46')][a175_0x15e3('0x57')]==='‚úÖ'?tesseract_1[a175_0x15e3('0x54')][a175_0x15e3('0x2f')][a175_0x15e3('0x3e')]:_0x57134c[a175_0x15e3('0x46')][a175_0x15e3('0x57')]==='‚ùé'?tesseract_1[a175_0x15e3('0x54')][a175_0x15e3('0x2f')][a175_0x15e3('0x1')]:tesseract_1[a175_0x15e3('0x54')]['COLORS'][a175_0x15e3('0x12')],_0x2759c4[a175_0x15e3('0x33')]=a175_0x15e3('0x59')+(_0x57134c['emoji'][a175_0x15e3('0x57')]==='‚úÖ'?a175_0x15e3('0x1d'):_0x57134c[a175_0x15e3('0x46')][a175_0x15e3('0x57')]==='‚ùé'?a175_0x15e3('0x50'):''),await _0x2d090d[a175_0x15e3('0x34')]({'embed':_0x2759c4});},this[a175_0x15e3('0xf')]=async(_0x45f952,_0xb88d93,_0x3a0f2a)=>{if(!['üå†','üåü','‚≠ê'][a175_0x15e3('0x32')](_0x45f952['emoji'][a175_0x15e3('0x57')]))return;if(_0xb88d93[a175_0x15e3('0x40')][a175_0x15e3('0x4a')][a175_0x15e3('0x3c')]<=0x1)return;if(_0x45f952[a175_0x15e3('0x21')][a175_0x15e3('0x3b')]['id']===_0xb88d93[a175_0x15e3('0x29')]['id'])return;const _0xe751f9=_0x45f952['message'][a175_0x15e3('0x1c')][a175_0x15e3('0x4e')](_0x427f68=>Boolean(_0x427f68[a175_0x15e3('0x2d')]&&_0x427f68[a175_0x15e3('0x26')])),_0x357e35=_0xe751f9[a175_0x15e3('0x39')]();if(!_0x45f952[a175_0x15e3('0x21')][a175_0x15e3('0x45')]&&!_0x357e35)return;const _0x3982f3=memcache_1['default'][a175_0x15e3('0x1e')](a175_0x15e3('0x1a'));if(_0x3982f3&&_0x3982f3 instanceof Array&&_0x3982f3[a175_0x15e3('0x32')](_0x45f952[a175_0x15e3('0x21')]['id']))return;await _0x3a0f2a[a175_0x15e3('0x15')]({'embed':{'color':tesseract_1[a175_0x15e3('0x54')][a175_0x15e3('0x2f')][a175_0x15e3('0x30')],'author':{'name':_0x45f952[a175_0x15e3('0x21')][a175_0x15e3('0x3b')][a175_0x15e3('0xb')],'iconURL':_0x45f952[a175_0x15e3('0x21')][a175_0x15e3('0x3b')]['displayAvatarURL']({'dynamic':!![],'size':0x40})},'description':_0x45f952[a175_0x15e3('0x21')][a175_0x15e3('0x45')],'fields':[{'name':a175_0x15e3('0x13'),'value':'[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.]('+_0x45f952[a175_0x15e3('0x21')]['url']+')','inline':!![]}],'image':{'url':_0x357e35?_0x357e35['url']:null},'footer':{'text':a175_0x15e3('0xd')}}}),_0x3982f3&&_0x3982f3 instanceof Array&&_0x3982f3[a175_0x15e3('0x48')](_0x45f952['message']['id']),memcache_1[a175_0x15e3('0x47')][a175_0x15e3('0x58')](a175_0x15e3('0x1a'),_0x3982f3?_0x3982f3:[_0x45f952[a175_0x15e3('0x21')]['id']]);},this[a175_0x15e3('0x6')]=async(_0x2f51e2,_0x3cf78a,_0x250a27)=>{if(!['üì£','üì¢'][a175_0x15e3('0x32')](_0x2f51e2[a175_0x15e3('0x46')][a175_0x15e3('0x57')]))return;if(!_0x3cf78a[a175_0x15e3('0x1b')][a175_0x15e3('0x3a')](a175_0x15e3('0x37')))return;const _0x4bef0e=_0x3cf78a[a175_0x15e3('0x29')][a175_0x15e3('0xb')]+a175_0x15e3('0x20'),_0x4b1662=_0x2f51e2['message'][a175_0x15e3('0x38')]&&_0x2f51e2[a175_0x15e3('0x21')][a175_0x15e3('0x38')]['length']?_0x2f51e2[a175_0x15e3('0x21')][a175_0x15e3('0x38')][0x0]:{};_0x4b1662[a175_0x15e3('0x2b')]={..._0x4b1662[a175_0x15e3('0x2b')],'text':_0x4b1662[a175_0x15e3('0x2b')]&&_0x4b1662[a175_0x15e3('0x2b')][a175_0x15e3('0x4c')]?_0x4bef0e+a175_0x15e3('0x28')+_0x4b1662['footer'][a175_0x15e3('0x4c')]:_0x4bef0e},await _0x250a27[a175_0x15e3('0x15')](_0x2f51e2[a175_0x15e3('0x21')][a175_0x15e3('0x45')],{'embed':_0x4b1662,'files':[..._0x2f51e2[a175_0x15e3('0x21')][a175_0x15e3('0x1c')][a175_0x15e3('0x11')]()]});},this['handleReactionPinning']=async(_0x58b078,_0x3bd2c9)=>{if(!['üìå','üìç'][a175_0x15e3('0x32')](_0x58b078[a175_0x15e3('0x46')][a175_0x15e3('0x57')]))return;if(!_0x58b078[a175_0x15e3('0x21')][a175_0x15e3('0x9')][a175_0x15e3('0x42')](_0x3bd2c9)[a175_0x15e3('0x3a')]('MANAGE_MESSAGES'))return;await _0x58b078[a175_0x15e3('0x21')][a175_0x15e3('0x2a')]({'reason':a175_0x15e3('0x1f')+_0x3bd2c9[a175_0x15e3('0x29')]?_0x3bd2c9[a175_0x15e3('0x29')][a175_0x15e3('0xb')]:_0x3bd2c9['id']});},this[a175_0x15e3('0x25')]=async(_0x28b748,_0x4864f1)=>{if(_0x4864f1[a175_0x15e3('0x29')][a175_0x15e3('0x23')])return;const _0x1c4d07=await ReactionRoleGroup_1[a175_0x15e3('0x47')][a175_0x15e3('0x36')](_0x28b748[a175_0x15e3('0x21')]['id']);if(!_0x1c4d07)return;const _0x5d180c=_0x28b748[a175_0x15e3('0x46')]['id']?'<'+(_0x28b748['emoji'][a175_0x15e3('0x0')]?'a':'')+':'+_0x28b748[a175_0x15e3('0x46')][a175_0x15e3('0x57')]+':'+_0x28b748[a175_0x15e3('0x46')]['id']+'>':_0x28b748[a175_0x15e3('0x46')]['name'],_0x908852=emojis[a175_0x15e3('0x7')](_0x5d180c);if(_0x908852){const _0x32e3e0=await Role_1['default'][a175_0x15e3('0x5')]({'$or':_0x1c4d07[a175_0x15e3('0x40')][a175_0x15e3('0x27')](_0xddfd78=>({'_id':_0xddfd78})),'guild':_0x28b748['message'][a175_0x15e3('0xe')]['id'],'emoji':_0x908852[a175_0x15e3('0x31')]});if(!_0x32e3e0)return;if(_0x1c4d07[a175_0x15e3('0x44')]){for(const _0x47b970 of _0x28b748[a175_0x15e3('0x21')][a175_0x15e3('0x4f')][a175_0x15e3('0x4a')][a175_0x15e3('0x4e')](_0xfc3412=>_0xfc3412['users'][a175_0x15e3('0x4a')][a175_0x15e3('0x3a')](_0x4864f1[a175_0x15e3('0x29')]['id'])&&_0xfc3412['emoji'][a175_0x15e3('0x57')]!==_0x28b748['emoji'][a175_0x15e3('0x57')])[a175_0x15e3('0x11')]()){await _0x47b970[a175_0x15e3('0x55')][a175_0x15e3('0x14')](_0x4864f1)[a175_0x15e3('0x2c')](()=>{});}await _0x4864f1[a175_0x15e3('0x40')][a175_0x15e3('0x14')](_0x1c4d07[a175_0x15e3('0x40')],a175_0x15e3('0x19'));}await _0x4864f1['roles']['add'](_0x32e3e0[a175_0x15e3('0xc')],a175_0x15e3('0x17'));}},this[a175_0x15e3('0x8')]=async(_0x336ac7,_0x77f4ff)=>{_0x336ac7[a175_0x15e3('0x2')]&&(_0x336ac7=await _0x336ac7[a175_0x15e3('0x56')]());_0x336ac7[a175_0x15e3('0x21')][a175_0x15e3('0x2')]&&(_0x336ac7[a175_0x15e3('0x21')]=await _0x336ac7[a175_0x15e3('0x21')]['fetch']());if(!_0x336ac7[a175_0x15e3('0x21')]['guild'])return;const _0x9c9eb7=_0x336ac7[a175_0x15e3('0x21')][a175_0x15e3('0xe')][a175_0x15e3('0x2e')](_0x77f4ff);this[a175_0x15e3('0x25')](_0x336ac7,_0x9c9eb7)[a175_0x15e3('0x2c')](()=>{});const _0x33a42b=await _0x336ac7['message']['guild']['getDocument']();_0x33a42b['suggestionsChannelId']&&_0x336ac7[a175_0x15e3('0x21')][a175_0x15e3('0x9')]['id']===_0x33a42b[a175_0x15e3('0x3')]&&this[a175_0x15e3('0x51')](_0x336ac7,_0x9c9eb7)[a175_0x15e3('0x2c')](()=>{}),_0x33a42b['starboardChannelId']&&_0x336ac7[a175_0x15e3('0x21')]['guild']['channels'][a175_0x15e3('0x4a')][a175_0x15e3('0x3a')](_0x33a42b[a175_0x15e3('0x41')])&&this['handleStarboard'](_0x336ac7,_0x9c9eb7,_0x336ac7[a175_0x15e3('0x21')]['guild']['channels'][a175_0x15e3('0x4a')][a175_0x15e3('0x1e')](_0x33a42b[a175_0x15e3('0x41')]))[a175_0x15e3('0x2c')](()=>{}),_0x33a42b['reactionAnnouncements']&&_0x336ac7['message'][a175_0x15e3('0xe')]['channels'][a175_0x15e3('0x4a')][a175_0x15e3('0x3a')](_0x33a42b['announcementsChannelId'])&&this[a175_0x15e3('0x6')](_0x336ac7,_0x9c9eb7,_0x336ac7[a175_0x15e3('0x21')][a175_0x15e3('0xe')]['channels'][a175_0x15e3('0x4a')]['get'](_0x33a42b[a175_0x15e3('0xa')]))[a175_0x15e3('0x2c')](()=>{}),_0x33a42b[a175_0x15e3('0x52')]&&this[a175_0x15e3('0x53')](_0x336ac7,_0x9c9eb7)['catch'](()=>{});};}};