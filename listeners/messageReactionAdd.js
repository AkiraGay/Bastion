const a164_0x3adf=['MANAGE_GUILD','starboardChannelId','Constants','announcementsChannelId','Added\x20via\x20Reaction\x20Roles','@bastion/tesseract','remove','message','attachments','animated','pin','displayAvatarURL','exports','messageReactionAdd','send','handleReactionRoles','Source','COLORS','author','reactions','emoji','text','embeds','permissionsFor','startsWith','content','Suggestion','YELLOW','../models/Role','handleSuggestions','default','includes','member','parseEmoji','cache','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.](','return\x20/\x22\x20+\x20this\x20+\x20\x22/','users','channel','name','handleReactionPinning','findOne','roles','apply','_id','Starboard','height','url','getDocument','fetch','channels','\x20announced\x20via\x20Announcement\x20Pinnning.','tag','Listener','color','title','INDIGO','handleStarboard','GREEN','get','footer','../models/ReactionRoleGroup','Suggestion\x20','test','guild','Rejected','size','edit','values','exclusive','../utils/emojis','permissions','reactionPinning','suggestionsChannelId','catch','first','width','has','exec','user','partial'];(function(_0xe0fadd,_0x3adf60){const _0x13699f=function(_0x35b66a){while(--_0x35b66a){_0xe0fadd['push'](_0xe0fadd['shift']());}};const _0x10e58a=function(){const _0x3d1ef1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1e62e7,_0x558170,_0x5aebf5,_0x142859){_0x142859=_0x142859||{};let _0x1a4151=_0x558170+'='+_0x5aebf5;let _0x32da5f=0x0;for(let _0x2aa57e=0x0,_0x473885=_0x1e62e7['length'];_0x2aa57e<_0x473885;_0x2aa57e++){const _0x3fd5b5=_0x1e62e7[_0x2aa57e];_0x1a4151+=';\x20'+_0x3fd5b5;const _0x115fae=_0x1e62e7[_0x3fd5b5];_0x1e62e7['push'](_0x115fae);_0x473885=_0x1e62e7['length'];if(_0x115fae!==!![]){_0x1a4151+='='+_0x115fae;}}_0x142859['cookie']=_0x1a4151;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19af02,_0x121e85){_0x19af02=_0x19af02||function(_0x1be483){return _0x1be483;};const _0x4bb7f1=_0x19af02(new RegExp('(?:^|;\x20)'+_0x121e85['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x23c8e3=function(_0x1c33e2,_0x209d59){_0x1c33e2(++_0x209d59);};_0x23c8e3(_0x13699f,_0x3adf60);return _0x4bb7f1?decodeURIComponent(_0x4bb7f1[0x1]):undefined;}};const _0x452f20=function(){const _0x107a22=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x107a22['test'](_0x3d1ef1['removeCookie']['toString']());};_0x3d1ef1['updateCookie']=_0x452f20;let _0x25f445='';const _0x547e0b=_0x3d1ef1['updateCookie']();if(!_0x547e0b){_0x3d1ef1['setCookie'](['*'],'counter',0x1);}else if(_0x547e0b){_0x25f445=_0x3d1ef1['getCookie'](null,'counter');}else{_0x3d1ef1['removeCookie']();}};_0x10e58a();}(a164_0x3adf,0x9f));const a164_0x1369=function(_0xe0fadd,_0x3adf60){_0xe0fadd=_0xe0fadd-0x0;let _0x13699f=a164_0x3adf[_0xe0fadd];return _0x13699f;};const a164_0x3d1ef1=function(){let _0x525644=!![];return function(_0x32b549,_0x149fc8){const _0x57f188=_0x525644?function(){if(_0x149fc8){const _0x4e56e9=_0x149fc8[a164_0x1369('0x2e')](_0x32b549,arguments);_0x149fc8=null;return _0x4e56e9;}}:function(){};_0x525644=![];return _0x57f188;};}();const a164_0x35b66a=a164_0x3d1ef1(this,function(){const _0x377800=function(){const _0x474f2a=_0x377800['constructor'](a164_0x1369('0x27'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x474f2a[a164_0x1369('0x42')](a164_0x35b66a);};return _0x377800();});a164_0x35b66a();'use strict';const tesseract_1=require(a164_0x1369('0x8'));const ReactionRoleGroup_1=require(a164_0x1369('0x40'));const Role_1=require(a164_0x1369('0x1f'));const emojis=require(a164_0x1369('0x49'));module[a164_0x1369('0xf')]=class MessageReactionAddListener extends tesseract_1[a164_0x1369('0x38')]{constructor(){super(a164_0x1369('0x10'),{'mode':tesseract_1[a164_0x1369('0x5')]['LISTENER_MODE']['ON']});this[a164_0x1369('0x20')]=async(_0x59cdf8,_0x344a4c)=>{if(!['‚úÖ','‚ùé'][a164_0x1369('0x22')](_0x59cdf8[a164_0x1369('0x17')][a164_0x1369('0x2a')]))return;if(!_0x59cdf8[a164_0x1369('0xa')][a164_0x1369('0x29')][a164_0x1369('0x1a')](_0x344a4c)[a164_0x1369('0x50')]('MANAGE_CHANNELS'))return;const _0x3147e3=_0x59cdf8[a164_0x1369('0xa')];const _0x4dd392=_0x3147e3[a164_0x1369('0x19')][0x0];if(!_0x4dd392)return;if(!_0x4dd392[a164_0x1369('0x3a')][a164_0x1369('0x1b')](a164_0x1369('0x1d')))return;_0x4dd392[a164_0x1369('0x39')]=_0x59cdf8[a164_0x1369('0x17')][a164_0x1369('0x2a')]==='‚úÖ'?tesseract_1['Constants'][a164_0x1369('0x14')][a164_0x1369('0x3d')]:_0x59cdf8[a164_0x1369('0x17')]['name']==='‚ùé'?tesseract_1[a164_0x1369('0x5')][a164_0x1369('0x14')]['RED']:tesseract_1[a164_0x1369('0x5')][a164_0x1369('0x14')][a164_0x1369('0x3b')];_0x4dd392[a164_0x1369('0x3a')]=a164_0x1369('0x41')+(_0x59cdf8[a164_0x1369('0x17')]['name']==='‚úÖ'?'Accepted':_0x59cdf8[a164_0x1369('0x17')][a164_0x1369('0x2a')]==='‚ùé'?a164_0x1369('0x44'):'');await _0x3147e3[a164_0x1369('0x46')]({'embed':_0x4dd392});};this[a164_0x1369('0x3c')]=async(_0x1ca2c0,_0x3ade54,_0x1fd535)=>{if(!['üå†','üåü','‚≠ê'][a164_0x1369('0x22')](_0x1ca2c0[a164_0x1369('0x17')][a164_0x1369('0x2a')]))return;if(_0x3ade54[a164_0x1369('0x2d')][a164_0x1369('0x25')][a164_0x1369('0x45')]<=0x1)return;if(_0x1ca2c0[a164_0x1369('0xa')][a164_0x1369('0x15')]['id']===_0x3ade54[a164_0x1369('0x1')]['id'])return;const _0x2461e7=_0x1ca2c0[a164_0x1369('0xa')][a164_0x1369('0xb')]['filter'](_0x4c406a=>Boolean(_0x4c406a[a164_0x1369('0x31')]&&_0x4c406a[a164_0x1369('0x4f')]));const _0x284112=_0x2461e7[a164_0x1369('0x4e')]();if(!_0x1ca2c0[a164_0x1369('0xa')][a164_0x1369('0x1c')]&&!_0x284112)return;await _0x1fd535[a164_0x1369('0x11')]({'embed':{'color':tesseract_1[a164_0x1369('0x5')]['COLORS'][a164_0x1369('0x1e')],'author':{'name':_0x1ca2c0[a164_0x1369('0xa')][a164_0x1369('0x15')][a164_0x1369('0x37')],'iconURL':_0x1ca2c0['message'][a164_0x1369('0x15')][a164_0x1369('0xe')]({'dynamic':!![],'size':0x40})},'description':_0x1ca2c0['message'][a164_0x1369('0x1c')],'fields':[{'name':a164_0x1369('0x13'),'value':a164_0x1369('0x26')+_0x1ca2c0['message'][a164_0x1369('0x32')]+')','inline':!![]}],'image':{'url':_0x284112?_0x284112['url']:null},'footer':{'text':a164_0x1369('0x30')}}});};this['handleReactionAnnouncement']=async(_0x5a3292,_0x5c1c1c,_0x1127ae)=>{if(!['üì£','üì¢']['includes'](_0x5a3292[a164_0x1369('0x17')][a164_0x1369('0x2a')]))return;if(!_0x5c1c1c[a164_0x1369('0x4a')][a164_0x1369('0x50')](a164_0x1369('0x3')))return;const _0x971f92=_0x5c1c1c[a164_0x1369('0x1')][a164_0x1369('0x37')]+a164_0x1369('0x36');const _0x3e7527=_0x5a3292[a164_0x1369('0xa')][a164_0x1369('0x19')]&&_0x5a3292[a164_0x1369('0xa')][a164_0x1369('0x19')]['length']?_0x5a3292[a164_0x1369('0xa')][a164_0x1369('0x19')][0x0]:{};_0x3e7527[a164_0x1369('0x3f')]={..._0x3e7527[a164_0x1369('0x3f')],'text':_0x3e7527['footer']&&_0x3e7527[a164_0x1369('0x3f')][a164_0x1369('0x18')]?_0x971f92+'\x20‚Ä¢\x20'+_0x3e7527[a164_0x1369('0x3f')][a164_0x1369('0x18')]:_0x971f92};await _0x1127ae[a164_0x1369('0x11')](_0x5a3292[a164_0x1369('0xa')][a164_0x1369('0x1c')],{'embed':_0x3e7527,'files':[..._0x5a3292['message']['attachments'][a164_0x1369('0x47')]()]});};this[a164_0x1369('0x2b')]=async(_0x3c9cc9,_0x399568)=>{if(!['üìå','üìç']['includes'](_0x3c9cc9['emoji'][a164_0x1369('0x2a')]))return;if(!_0x3c9cc9[a164_0x1369('0xa')][a164_0x1369('0x29')]['permissionsFor'](_0x399568)[a164_0x1369('0x50')]('MANAGE_MESSAGES'))return;await _0x3c9cc9[a164_0x1369('0xa')][a164_0x1369('0xd')]();};this[a164_0x1369('0x12')]=async(_0x43b22c,_0x194c7a)=>{const _0x4f0933=await ReactionRoleGroup_1[a164_0x1369('0x21')]['findById'](_0x43b22c['message']['id']);if(!_0x4f0933)return;const _0xfaf5c0=_0x43b22c[a164_0x1369('0x17')]['id']?'<'+(_0x43b22c['emoji'][a164_0x1369('0xc')]?'a':'')+':'+_0x43b22c[a164_0x1369('0x17')][a164_0x1369('0x2a')]+':'+_0x43b22c[a164_0x1369('0x17')]['id']+'>':_0x43b22c[a164_0x1369('0x17')]['name'];const _0x4cea16=emojis[a164_0x1369('0x24')](_0xfaf5c0);if(_0x4cea16){const _0x126e66=await Role_1[a164_0x1369('0x21')][a164_0x1369('0x2c')]({'$or':_0x4f0933[a164_0x1369('0x2d')]['map'](_0x2d06e6=>({'_id':_0x2d06e6})),'guild':_0x43b22c[a164_0x1369('0xa')][a164_0x1369('0x43')]['id'],'emoji':_0x4cea16['value']});if(!_0x126e66)return;if(_0x4f0933[a164_0x1369('0x48')]){for(const _0x5d5e93 of _0x43b22c[a164_0x1369('0xa')][a164_0x1369('0x16')][a164_0x1369('0x25')]['filter'](_0x4aee5b=>_0x4aee5b[a164_0x1369('0x28')][a164_0x1369('0x25')][a164_0x1369('0x50')](_0x194c7a['user']['id'])&&_0x4aee5b[a164_0x1369('0x17')][a164_0x1369('0x2a')]!==_0x43b22c[a164_0x1369('0x17')][a164_0x1369('0x2a')])['values']()){await _0x5d5e93[a164_0x1369('0x28')][a164_0x1369('0x9')](_0x194c7a)[a164_0x1369('0x4d')](()=>{});}await _0x194c7a[a164_0x1369('0x2d')][a164_0x1369('0x9')](_0x4f0933['roles'],'Auto\x20Removed\x20via\x20Reaction\x20Roles');}await _0x194c7a[a164_0x1369('0x2d')]['add'](_0x126e66[a164_0x1369('0x2f')],a164_0x1369('0x7'));}};this[a164_0x1369('0x0')]=async(_0x39ee75,_0x3a3b97)=>{if(_0x39ee75[a164_0x1369('0x2')]){_0x39ee75=await _0x39ee75['fetch']();}if(_0x39ee75[a164_0x1369('0xa')]['partial']){_0x39ee75[a164_0x1369('0xa')]=await _0x39ee75[a164_0x1369('0xa')][a164_0x1369('0x34')]();}if(!_0x39ee75[a164_0x1369('0xa')]['guild'])return;const _0x42d0c9=_0x39ee75['message'][a164_0x1369('0x43')][a164_0x1369('0x23')](_0x3a3b97);this[a164_0x1369('0x12')](_0x39ee75,_0x42d0c9)[a164_0x1369('0x4d')](()=>{});const _0x4def19=await _0x39ee75['message'][a164_0x1369('0x43')][a164_0x1369('0x33')]();if(_0x4def19[a164_0x1369('0x4c')]&&_0x39ee75[a164_0x1369('0xa')]['channel']['id']===_0x4def19[a164_0x1369('0x4c')]){this[a164_0x1369('0x20')](_0x39ee75,_0x42d0c9)[a164_0x1369('0x4d')](()=>{});}if(_0x4def19[a164_0x1369('0x4')]&&_0x39ee75['message'][a164_0x1369('0x43')][a164_0x1369('0x35')][a164_0x1369('0x25')][a164_0x1369('0x50')](_0x4def19[a164_0x1369('0x4')])){this[a164_0x1369('0x3c')](_0x39ee75,_0x42d0c9,_0x39ee75[a164_0x1369('0xa')]['guild'][a164_0x1369('0x35')]['cache'][a164_0x1369('0x3e')](_0x4def19[a164_0x1369('0x4')]))[a164_0x1369('0x4d')](()=>{});}if(_0x4def19['reactionAnnouncements']&&_0x39ee75['message'][a164_0x1369('0x43')]['channels'][a164_0x1369('0x25')][a164_0x1369('0x50')](_0x4def19[a164_0x1369('0x6')])){this['handleReactionAnnouncement'](_0x39ee75,_0x42d0c9,_0x39ee75['message'][a164_0x1369('0x43')]['channels'][a164_0x1369('0x25')][a164_0x1369('0x3e')](_0x4def19[a164_0x1369('0x6')]))[a164_0x1369('0x4d')](()=>{});}if(_0x4def19[a164_0x1369('0x4b')]){this['handleReactionPinning'](_0x39ee75,_0x42d0c9)[a164_0x1369('0x4d')](()=>{});}};}};