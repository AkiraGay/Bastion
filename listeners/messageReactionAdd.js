const a164_0xc032=['text','Listener','first','compile','../utils/memcache','Added\x20via\x20Reaction\x20Roles','animated','reactionAnnouncements','name','reactions','return\x20/\x22\x20+\x20this\x20+\x20\x22/','cache','channel','starboard','partial','Suggestion\x20','Rejected','footer','member','width','get','filter','../models/Role','catch','content','../utils/emojis','has','tag','announcementsChannelId','messageReactionAdd','INDIGO','MANAGE_GUILD','Accepted','emoji','exec','Starboard','GREEN','fetch','Constants','permissions','handleStarboard','RED','default','constructor','users','includes','attachments','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','add','message','\x20announced\x20via\x20Announcement\x20Pinnning.','bot','Source','channels','../models/ReactionRoleGroup','test','handleSuggestions','user','startsWith','handleReactionAnnouncement','send','height','Suggestion','handleReactionPinning','exports','YELLOW','guild','roles','starboardChannelId','findOne','pin','values','exclusive','color','value','@bastion/tesseract','COLORS','embeds','url','MANAGE_CHANNELS','author','handleReactionRoles','[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.]('];(function(_0x4c38cc,_0xc03224){const _0x3539dd=function(_0x97b4c){while(--_0x97b4c){_0x4c38cc['push'](_0x4c38cc['shift']());}};const _0x11a679=function(){const _0x4fe819={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3681d2,_0x413ce8,_0x40cf63,_0x3cb0e0){_0x3cb0e0=_0x3cb0e0||{};let _0x7b6bf0=_0x413ce8+'='+_0x40cf63;let _0x11d807=0x0;for(let _0x19cb26=0x0,_0xf71ba5=_0x3681d2['length'];_0x19cb26<_0xf71ba5;_0x19cb26++){const _0x7e7ee1=_0x3681d2[_0x19cb26];_0x7b6bf0+=';\x20'+_0x7e7ee1;const _0x2800f2=_0x3681d2[_0x7e7ee1];_0x3681d2['push'](_0x2800f2);_0xf71ba5=_0x3681d2['length'];if(_0x2800f2!==!![]){_0x7b6bf0+='='+_0x2800f2;}}_0x3cb0e0['cookie']=_0x7b6bf0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x38a91d,_0x252820){_0x38a91d=_0x38a91d||function(_0x423602){return _0x423602;};const _0x1cb091=_0x38a91d(new RegExp('(?:^|;\x20)'+_0x252820['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5ad3ea=function(_0x4ca333,_0x34f7ec){_0x4ca333(++_0x34f7ec);};_0x5ad3ea(_0x3539dd,_0xc03224);return _0x1cb091?decodeURIComponent(_0x1cb091[0x1]):undefined;}};const _0x23858a=function(){const _0x47d1a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x47d1a['test'](_0x4fe819['removeCookie']['toString']());};_0x4fe819['updateCookie']=_0x23858a;let _0x55a13d='';const _0xd760ac=_0x4fe819['updateCookie']();if(!_0xd760ac){_0x4fe819['setCookie'](['*'],'counter',0x1);}else if(_0xd760ac){_0x55a13d=_0x4fe819['getCookie'](null,'counter');}else{_0x4fe819['removeCookie']();}};_0x11a679();}(a164_0xc032,0x77));const a164_0x3539=function(_0x4c38cc,_0xc03224){_0x4c38cc=_0x4c38cc-0x0;let _0x3539dd=a164_0xc032[_0x4c38cc];return _0x3539dd;};const a164_0x4fe819=function(){let _0x2ab870=!![];return function(_0x4569fa,_0xf8733b){const _0x5a8839=_0x2ab870?function(){if(_0xf8733b){const _0x31c84a=_0xf8733b['apply'](_0x4569fa,arguments);_0xf8733b=null;return _0x31c84a;}}:function(){};_0x2ab870=![];return _0x5a8839;};}();const a164_0x97b4c=a164_0x4fe819(this,function(){const _0x2c03d5=function(){const _0xa570e5=_0x2c03d5[a164_0x3539('0x7')](a164_0x3539('0x39'))()[a164_0x3539('0x32')](a164_0x3539('0xb'));return!_0xa570e5[a164_0x3539('0x13')](a164_0x97b4c);};return _0x2c03d5();});a164_0x97b4c();'use strict';const tesseract_1=require(a164_0x3539('0x27'));const ReactionRoleGroup_1=require(a164_0x3539('0x12'));const Role_1=require(a164_0x3539('0x45'));const emojis=require(a164_0x3539('0x48'));const memcache_1=require(a164_0x3539('0x33'));module[a164_0x3539('0x1c')]=class MessageReactionAddListener extends tesseract_1[a164_0x3539('0x30')]{constructor(){super(a164_0x3539('0x4c'),{'mode':tesseract_1[a164_0x3539('0x2')]['LISTENER_MODE']['ON']});this[a164_0x3539('0x14')]=async(_0x44fae9,_0x473b5f)=>{if(_0x473b5f[a164_0x3539('0x15')][a164_0x3539('0xf')])return;if(!['‚úÖ','‚ùé'][a164_0x3539('0x9')](_0x44fae9[a164_0x3539('0x50')]['name']))return;if(!_0x44fae9['message']['channel']['permissionsFor'](_0x473b5f)[a164_0x3539('0x49')](a164_0x3539('0x2b')))return;const _0x4ef406=_0x44fae9[a164_0x3539('0xd')];const _0x2df734=_0x4ef406[a164_0x3539('0x29')][0x0];if(!_0x2df734)return;if(!_0x2df734['title'][a164_0x3539('0x16')](a164_0x3539('0x1a')))return;_0x2df734[a164_0x3539('0x25')]=_0x44fae9[a164_0x3539('0x50')][a164_0x3539('0x37')]==='‚úÖ'?tesseract_1[a164_0x3539('0x2')][a164_0x3539('0x28')][a164_0x3539('0x0')]:_0x44fae9['emoji'][a164_0x3539('0x37')]==='‚ùé'?tesseract_1[a164_0x3539('0x2')][a164_0x3539('0x28')][a164_0x3539('0x5')]:tesseract_1[a164_0x3539('0x2')][a164_0x3539('0x28')][a164_0x3539('0x4d')];_0x2df734['title']=a164_0x3539('0x3e')+(_0x44fae9[a164_0x3539('0x50')][a164_0x3539('0x37')]==='‚úÖ'?a164_0x3539('0x4f'):_0x44fae9[a164_0x3539('0x50')][a164_0x3539('0x37')]==='‚ùé'?a164_0x3539('0x3f'):'');await _0x4ef406['edit']({'embed':_0x2df734});};this[a164_0x3539('0x4')]=async(_0x1403ca,_0x4c8088,_0x2e5467)=>{if(!['üå†','üåü','‚≠ê'][a164_0x3539('0x9')](_0x1403ca[a164_0x3539('0x50')][a164_0x3539('0x37')]))return;if(_0x4c8088[a164_0x3539('0x1f')][a164_0x3539('0x3a')]['size']<=0x1)return;if(_0x1403ca['message']['author']['id']===_0x4c8088[a164_0x3539('0x15')]['id'])return;const _0x3256dc=_0x1403ca[a164_0x3539('0xd')][a164_0x3539('0xa')][a164_0x3539('0x44')](_0x1ce1db=>Boolean(_0x1ce1db[a164_0x3539('0x19')]&&_0x1ce1db[a164_0x3539('0x42')]));const _0x570d77=_0x3256dc[a164_0x3539('0x31')]();if(!_0x1403ca[a164_0x3539('0xd')][a164_0x3539('0x47')]&&!_0x570d77)return;const _0x1cedd8=memcache_1['default'][a164_0x3539('0x43')](a164_0x3539('0x3c'));if(_0x1cedd8&&_0x1cedd8 instanceof Array&&_0x1cedd8[a164_0x3539('0x9')](_0x1403ca[a164_0x3539('0xd')]['id']))return;await _0x2e5467[a164_0x3539('0x18')]({'embed':{'color':tesseract_1[a164_0x3539('0x2')][a164_0x3539('0x28')][a164_0x3539('0x1d')],'author':{'name':_0x1403ca['message'][a164_0x3539('0x2c')]['tag'],'iconURL':_0x1403ca[a164_0x3539('0xd')][a164_0x3539('0x2c')]['displayAvatarURL']({'dynamic':!![],'size':0x40})},'description':_0x1403ca[a164_0x3539('0xd')]['content'],'fields':[{'name':a164_0x3539('0x10'),'value':a164_0x3539('0x2e')+_0x1403ca[a164_0x3539('0xd')][a164_0x3539('0x2a')]+')','inline':!![]}],'image':{'url':_0x570d77?_0x570d77[a164_0x3539('0x2a')]:null},'footer':{'text':a164_0x3539('0x52')}}});if(_0x1cedd8&&_0x1cedd8 instanceof Array){_0x1cedd8['push'](_0x1403ca[a164_0x3539('0xd')]['id']);}memcache_1[a164_0x3539('0x6')]['set'](a164_0x3539('0x3c'),_0x1cedd8?_0x1cedd8:[_0x1403ca[a164_0x3539('0xd')]['id']]);};this[a164_0x3539('0x17')]=async(_0x8d04ec,_0x1b3f93,_0x2b30b8)=>{if(!['üì£','üì¢'][a164_0x3539('0x9')](_0x8d04ec[a164_0x3539('0x50')]['name']))return;if(!_0x1b3f93[a164_0x3539('0x3')]['has'](a164_0x3539('0x4e')))return;const _0x2b56b0=_0x1b3f93['user'][a164_0x3539('0x4a')]+a164_0x3539('0xe');const _0xf54a81=_0x8d04ec['message'][a164_0x3539('0x29')]&&_0x8d04ec['message']['embeds']['length']?_0x8d04ec[a164_0x3539('0xd')][a164_0x3539('0x29')][0x0]:{};_0xf54a81['footer']={..._0xf54a81[a164_0x3539('0x40')],'text':_0xf54a81[a164_0x3539('0x40')]&&_0xf54a81['footer'][a164_0x3539('0x2f')]?_0x2b56b0+'\x20‚Ä¢\x20'+_0xf54a81['footer'][a164_0x3539('0x2f')]:_0x2b56b0};await _0x2b30b8[a164_0x3539('0x18')](_0x8d04ec['message'][a164_0x3539('0x47')],{'embed':_0xf54a81,'files':[..._0x8d04ec['message'][a164_0x3539('0xa')][a164_0x3539('0x23')]()]});};this['handleReactionPinning']=async(_0x18ed30,_0x18c3c9)=>{if(!['üìå','üìç'][a164_0x3539('0x9')](_0x18ed30[a164_0x3539('0x50')][a164_0x3539('0x37')]))return;if(!_0x18ed30[a164_0x3539('0xd')][a164_0x3539('0x3b')]['permissionsFor'](_0x18c3c9)[a164_0x3539('0x49')]('MANAGE_MESSAGES'))return;await _0x18ed30['message'][a164_0x3539('0x22')]();};this[a164_0x3539('0x2d')]=async(_0x306d65,_0xcedd4)=>{if(_0xcedd4[a164_0x3539('0x15')]['bot'])return;const _0x1a99c2=await ReactionRoleGroup_1[a164_0x3539('0x6')]['findById'](_0x306d65['message']['id']);if(!_0x1a99c2)return;const _0x382d04=_0x306d65[a164_0x3539('0x50')]['id']?'<'+(_0x306d65[a164_0x3539('0x50')][a164_0x3539('0x35')]?'a':'')+':'+_0x306d65[a164_0x3539('0x50')][a164_0x3539('0x37')]+':'+_0x306d65[a164_0x3539('0x50')]['id']+'>':_0x306d65[a164_0x3539('0x50')][a164_0x3539('0x37')];const _0x25260e=emojis['parseEmoji'](_0x382d04);if(_0x25260e){const _0x1dde60=await Role_1[a164_0x3539('0x6')][a164_0x3539('0x21')]({'$or':_0x1a99c2[a164_0x3539('0x1f')]['map'](_0x5db329=>({'_id':_0x5db329})),'guild':_0x306d65[a164_0x3539('0xd')]['guild']['id'],'emoji':_0x25260e[a164_0x3539('0x26')]});if(!_0x1dde60)return;if(_0x1a99c2[a164_0x3539('0x24')]){for(const _0x52a1bc of _0x306d65[a164_0x3539('0xd')][a164_0x3539('0x38')][a164_0x3539('0x3a')][a164_0x3539('0x44')](_0x18725d=>_0x18725d['users'][a164_0x3539('0x3a')]['has'](_0xcedd4[a164_0x3539('0x15')]['id'])&&_0x18725d[a164_0x3539('0x50')][a164_0x3539('0x37')]!==_0x306d65['emoji'][a164_0x3539('0x37')])[a164_0x3539('0x23')]()){await _0x52a1bc[a164_0x3539('0x8')]['remove'](_0xcedd4)[a164_0x3539('0x46')](()=>{});}await _0xcedd4[a164_0x3539('0x1f')]['remove'](_0x1a99c2[a164_0x3539('0x1f')],'Auto\x20Removed\x20via\x20Reaction\x20Roles');}await _0xcedd4[a164_0x3539('0x1f')][a164_0x3539('0xc')](_0x1dde60['_id'],a164_0x3539('0x34'));}};this[a164_0x3539('0x51')]=async(_0x266c34,_0xde44c2)=>{if(_0x266c34[a164_0x3539('0x3d')]){_0x266c34=await _0x266c34[a164_0x3539('0x1')]();}if(_0x266c34[a164_0x3539('0xd')][a164_0x3539('0x3d')]){_0x266c34['message']=await _0x266c34[a164_0x3539('0xd')][a164_0x3539('0x1')]();}if(!_0x266c34[a164_0x3539('0xd')]['guild'])return;const _0x2651ff=_0x266c34['message'][a164_0x3539('0x1e')][a164_0x3539('0x41')](_0xde44c2);this[a164_0x3539('0x2d')](_0x266c34,_0x2651ff)[a164_0x3539('0x46')](()=>{});const _0x4a7757=await _0x266c34[a164_0x3539('0xd')]['guild']['getDocument']();if(_0x4a7757['suggestionsChannelId']&&_0x266c34['message'][a164_0x3539('0x3b')]['id']===_0x4a7757['suggestionsChannelId']){this[a164_0x3539('0x14')](_0x266c34,_0x2651ff)['catch'](()=>{});}if(_0x4a7757['starboardChannelId']&&_0x266c34[a164_0x3539('0xd')][a164_0x3539('0x1e')]['channels'][a164_0x3539('0x3a')][a164_0x3539('0x49')](_0x4a7757[a164_0x3539('0x20')])){this[a164_0x3539('0x4')](_0x266c34,_0x2651ff,_0x266c34[a164_0x3539('0xd')]['guild'][a164_0x3539('0x11')][a164_0x3539('0x3a')][a164_0x3539('0x43')](_0x4a7757[a164_0x3539('0x20')]))['catch'](()=>{});}if(_0x4a7757[a164_0x3539('0x36')]&&_0x266c34[a164_0x3539('0xd')][a164_0x3539('0x1e')][a164_0x3539('0x11')][a164_0x3539('0x3a')][a164_0x3539('0x49')](_0x4a7757[a164_0x3539('0x4b')])){this[a164_0x3539('0x17')](_0x266c34,_0x2651ff,_0x266c34[a164_0x3539('0xd')][a164_0x3539('0x1e')][a164_0x3539('0x11')]['cache'][a164_0x3539('0x43')](_0x4a7757[a164_0x3539('0x4b')]))[a164_0x3539('0x46')](()=>{});}if(_0x4a7757['reactionPinning']){this[a164_0x3539('0x1b')](_0x266c34,_0x2651ff)[a164_0x3539('0x46')](()=>{});}};}};