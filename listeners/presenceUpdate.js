const a168_0x4c6c=['member','activities','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','@bastion/tesseract','fetch','cache','partial','findById','add','size','some','test','type','every','default','catch','remove','Constants','STREAMING','guild','LISTENER_MODE','roles','streamerRoleId'];(function(_0x55229c,_0x4c6c8e){const _0x14f865=function(_0x2c9fed){while(--_0x2c9fed){_0x55229c['push'](_0x55229c['shift']());}};const _0x12c96a=function(){const _0x37dbaf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5359a9,_0x53d680,_0x3b9056,_0x269fc4){_0x269fc4=_0x269fc4||{};let _0x9a1398=_0x53d680+'='+_0x3b9056;let _0x4eb22a=0x0;for(let _0x34a87e=0x0,_0x5cbdb6=_0x5359a9['length'];_0x34a87e<_0x5cbdb6;_0x34a87e++){const _0x4f30d4=_0x5359a9[_0x34a87e];_0x9a1398+=';\x20'+_0x4f30d4;const _0x18ab94=_0x5359a9[_0x4f30d4];_0x5359a9['push'](_0x18ab94);_0x5cbdb6=_0x5359a9['length'];if(_0x18ab94!==!![]){_0x9a1398+='='+_0x18ab94;}}_0x269fc4['cookie']=_0x9a1398;},'removeCookie':function(){return'dev';},'getCookie':function(_0x250f6c,_0x5d9f77){_0x250f6c=_0x250f6c||function(_0x40e7b7){return _0x40e7b7;};const _0x4b4872=_0x250f6c(new RegExp('(?:^|;\x20)'+_0x5d9f77['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x47397f=function(_0x82ad54,_0x3bcbc3){_0x82ad54(++_0x3bcbc3);};_0x47397f(_0x14f865,_0x4c6c8e);return _0x4b4872?decodeURIComponent(_0x4b4872[0x1]):undefined;}};const _0x41569f=function(){const _0x48d60d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x48d60d['test'](_0x37dbaf['removeCookie']['toString']());};_0x37dbaf['updateCookie']=_0x41569f;let _0x4e376d='';const _0x5093e3=_0x37dbaf['updateCookie']();if(!_0x5093e3){_0x37dbaf['setCookie'](['*'],'counter',0x1);}else if(_0x5093e3){_0x4e376d=_0x37dbaf['getCookie'](null,'counter');}else{_0x37dbaf['removeCookie']();}};_0x12c96a();}(a168_0x4c6c,0x1c9));const a168_0x14f8=function(_0x55229c,_0x4c6c8e){_0x55229c=_0x55229c-0x0;let _0x14f865=a168_0x4c6c[_0x55229c];return _0x14f865;};const a168_0x37dbaf=function(){let _0x55b0f8=!![];return function(_0x89e21e,_0x2bc89c){const _0x5431f5=_0x55b0f8?function(){if(_0x2bc89c){const _0x467fc3=_0x2bc89c['apply'](_0x89e21e,arguments);_0x2bc89c=null;return _0x467fc3;}}:function(){};_0x55b0f8=![];return _0x5431f5;};}();const a168_0x2c9fed=a168_0x37dbaf(this,function(){const _0xa236cd=function(){const _0x255675=_0xa236cd['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a168_0x14f8('0x2'));return!_0x255675[a168_0x14f8('0xb')](a168_0x2c9fed);};return _0xa236cd();});a168_0x2c9fed();'use strict';const tesseract_1=require(a168_0x14f8('0x3'));const Guild_1=require('../models/Guild');module[a168_0x14f8('0x1')]=class PresenceListener extends tesseract_1['Listener']{constructor(){super('presenceUpdate',{'mode':tesseract_1[a168_0x14f8('0x11')][a168_0x14f8('0x14')]['ON']});this['exec']=async(_0x2a8dd3,_0x3a9cee)=>{if(!_0x3a9cee)return;if(!_0x3a9cee['guild'])return;let _0x17fb59;if((!_0x2a8dd3||_0x2a8dd3[a168_0x14f8('0x0')][a168_0x14f8('0xd')](_0x308548=>_0x308548[a168_0x14f8('0xc')]!==a168_0x14f8('0x12')))&&_0x3a9cee[a168_0x14f8('0x0')][a168_0x14f8('0xa')](_0x3ff258=>_0x3ff258[a168_0x14f8('0xc')]===a168_0x14f8('0x12'))){_0x17fb59=!![];}else if(_0x2a8dd3&&_0x2a8dd3['activities'][a168_0x14f8('0xa')](_0x177465=>_0x177465['type']==='STREAMING')&&_0x3a9cee[a168_0x14f8('0x0')][a168_0x14f8('0xd')](_0x2757d6=>_0x2757d6['type']!==a168_0x14f8('0x12'))){_0x17fb59=![];}else return;if(_0x3a9cee[a168_0x14f8('0x17')][a168_0x14f8('0x6')]){await _0x3a9cee[a168_0x14f8('0x17')][a168_0x14f8('0x4')]();}if(_0x3a9cee[a168_0x14f8('0x17')]['roles'][a168_0x14f8('0x5')][a168_0x14f8('0x9')]<=0x2)return;const _0x288f7b=await Guild_1[a168_0x14f8('0xe')][a168_0x14f8('0x7')](_0x3a9cee[a168_0x14f8('0x13')]['id']);if(!_0x288f7b[a168_0x14f8('0x16')])return;if(!_0x3a9cee[a168_0x14f8('0x13')][a168_0x14f8('0x15')][a168_0x14f8('0x5')]['has'](_0x288f7b[a168_0x14f8('0x16')]))return;if(_0x17fb59){_0x3a9cee[a168_0x14f8('0x17')]['roles'][a168_0x14f8('0x8')](_0x288f7b[a168_0x14f8('0x16')])[a168_0x14f8('0xf')](()=>{});}else{_0x3a9cee[a168_0x14f8('0x17')]['roles'][a168_0x14f8('0x10')](_0x288f7b['streamerRoleId'])[a168_0x14f8('0xf')](()=>{});}};}};