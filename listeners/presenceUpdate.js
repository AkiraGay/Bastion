const a387_0xd924=['streamerRoleId','STREAMING','add','apply','findById','cache','../models/Guild','partial','guild','presenceUpdate','member','remove','activities','compile','return\x20/\x22\x20+\x20this\x20+\x20\x22/','@bastion/tesseract','fetch','has','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','some','LISTENER_MODE','Listener','default','roles','type','exec','every'];(function(_0x4a9b81,_0xd924b){const _0x579b2f=function(_0x460e1a){while(--_0x460e1a){_0x4a9b81['push'](_0x4a9b81['shift']());}};const _0x278e63=function(){const _0xc1a64={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x569c9e,_0x3f5a36,_0x3ec4f4,_0x50f906){_0x50f906=_0x50f906||{};let _0x123998=_0x3f5a36+'='+_0x3ec4f4;let _0x298a6e=0x0;for(let _0x5c03f4=0x0,_0x3c4d14=_0x569c9e['length'];_0x5c03f4<_0x3c4d14;_0x5c03f4++){const _0x18f294=_0x569c9e[_0x5c03f4];_0x123998+=';\x20'+_0x18f294;const _0x5d5db3=_0x569c9e[_0x18f294];_0x569c9e['push'](_0x5d5db3);_0x3c4d14=_0x569c9e['length'];if(_0x5d5db3!==!![]){_0x123998+='='+_0x5d5db3;}}_0x50f906['cookie']=_0x123998;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5cd8a9,_0x2f8de8){_0x5cd8a9=_0x5cd8a9||function(_0x386b12){return _0x386b12;};const _0x1f4ad3=_0x5cd8a9(new RegExp('(?:^|;\x20)'+_0x2f8de8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1d97de=function(_0x232c64,_0x3c996c){_0x232c64(++_0x3c996c);};_0x1d97de(_0x579b2f,_0xd924b);return _0x1f4ad3?decodeURIComponent(_0x1f4ad3[0x1]):undefined;}};const _0x56becc=function(){const _0x4aa0f7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4aa0f7['test'](_0xc1a64['removeCookie']['toString']());};_0xc1a64['updateCookie']=_0x56becc;let _0x4149b2='';const _0x52fec6=_0xc1a64['updateCookie']();if(!_0x52fec6){_0xc1a64['setCookie'](['*'],'counter',0x1);}else if(_0x52fec6){_0x4149b2=_0xc1a64['getCookie'](null,'counter');}else{_0xc1a64['removeCookie']();}};_0x278e63();}(a387_0xd924,0x19d));const a387_0x579b=function(_0x4a9b81,_0xd924b){_0x4a9b81=_0x4a9b81-0x0;let _0x579b2f=a387_0xd924[_0x4a9b81];return _0x579b2f;};const a387_0xc1a64=function(){let _0x41e4e7=!![];return function(_0x4a9e52,_0x1f01e0){const _0x595f29=_0x41e4e7?function(){if(_0x1f01e0){const _0x478412=_0x1f01e0[a387_0x579b('0x16')](_0x4a9e52,arguments);_0x1f01e0=null;return _0x478412;}}:function(){};_0x41e4e7=![];return _0x595f29;};}();const a387_0x460e1a=a387_0xc1a64(this,function(){const _0x4143c0=function(){const _0x1f9464=_0x4143c0['constructor'](a387_0x579b('0x6'))()[a387_0x579b('0x5')](a387_0x579b('0xa'));return!_0x1f9464['test'](a387_0x460e1a);};return _0x4143c0();});a387_0x460e1a();'use strict';const tesseract_1=require(a387_0x579b('0x7'));const Guild_1=require(a387_0x579b('0x19'));module['exports']=class PresenceListener extends tesseract_1[a387_0x579b('0xd')]{constructor(){super(a387_0x579b('0x1'),{'mode':tesseract_1['Constants'][a387_0x579b('0xc')]['ON']});this[a387_0x579b('0x11')]=async(_0x19b39e,_0x28490b)=>{if(!_0x28490b)return;if(!_0x28490b[a387_0x579b('0x0')])return;let _0x4f358d;if((!_0x19b39e||_0x19b39e[a387_0x579b('0x4')][a387_0x579b('0x12')](_0x30a728=>_0x30a728[a387_0x579b('0x10')]!==a387_0x579b('0x14')))&&_0x28490b['activities']['some'](_0x42cfdf=>_0x42cfdf['type']==='STREAMING')){_0x4f358d=!![];}else if(_0x19b39e&&_0x19b39e['activities'][a387_0x579b('0xb')](_0x298db5=>_0x298db5[a387_0x579b('0x10')]===a387_0x579b('0x14'))&&_0x28490b[a387_0x579b('0x4')]['every'](_0x1c5b88=>_0x1c5b88[a387_0x579b('0x10')]!==a387_0x579b('0x14'))){_0x4f358d=![];}else return;if(_0x28490b[a387_0x579b('0x2')][a387_0x579b('0x1a')]){await _0x28490b['member'][a387_0x579b('0x8')]();}if(_0x28490b[a387_0x579b('0x2')][a387_0x579b('0xf')][a387_0x579b('0x18')]['size']<=0x2)return;const _0x522373=await Guild_1[a387_0x579b('0xe')][a387_0x579b('0x17')](_0x28490b[a387_0x579b('0x0')]['id']);if(!_0x522373[a387_0x579b('0x13')])return;if(!_0x28490b['guild'][a387_0x579b('0xf')]['cache'][a387_0x579b('0x9')](_0x522373['streamerRoleId']))return;if(_0x4f358d){_0x28490b['member'][a387_0x579b('0xf')][a387_0x579b('0x15')](_0x522373[a387_0x579b('0x13')])['catch'](()=>{});}else{_0x28490b[a387_0x579b('0x2')][a387_0x579b('0xf')][a387_0x579b('0x3')](_0x522373['streamerRoleId'])['catch'](()=>{});}};}};