const a179_0x4376=['test','member','has','Constants','streamerRoleId','partial','remove','apply','guild','add','some','activities','every','cache','fetch','size','../models/Guild','default','exec','LISTENER_MODE','catch','roles','presenceUpdate','@bastion/tesseract','Listener','exports','type','findById','STREAMING'];(function(_0x4018cc,_0x4376f6){const _0x6cf175=function(_0x49545f){while(--_0x49545f){_0x4018cc['push'](_0x4018cc['shift']());}},_0x57ee21=function(){const _0x4f2ad9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5684c5,_0x123c63,_0x3373b6,_0x9db5a3){_0x9db5a3=_0x9db5a3||{};let _0xffcacd=_0x123c63+'='+_0x3373b6,_0x53852f=0x0;for(let _0x14a53c=0x0,_0x2d8c8f=_0x5684c5['length'];_0x14a53c<_0x2d8c8f;_0x14a53c++){const _0x5e525d=_0x5684c5[_0x14a53c];_0xffcacd+=';\x20'+_0x5e525d;const _0x448fa8=_0x5684c5[_0x5e525d];_0x5684c5['push'](_0x448fa8),_0x2d8c8f=_0x5684c5['length'],_0x448fa8!==!![]&&(_0xffcacd+='='+_0x448fa8);}_0x9db5a3['cookie']=_0xffcacd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x140240,_0x13548b){_0x140240=_0x140240||function(_0x188aca){return _0x188aca;};const _0x3c9666=_0x140240(new RegExp('(?:^|;\x20)'+_0x13548b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x773577=function(_0x509c1d,_0x4c86ec){_0x509c1d(++_0x4c86ec);};return _0x773577(_0x6cf175,_0x4376f6),_0x3c9666?decodeURIComponent(_0x3c9666[0x1]):undefined;}},_0x56d733=function(){const _0x5a95e3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5a95e3['test'](_0x4f2ad9['removeCookie']['toString']());};_0x4f2ad9['updateCookie']=_0x56d733;let _0x117575='';const _0x4c24cb=_0x4f2ad9['updateCookie']();if(!_0x4c24cb)_0x4f2ad9['setCookie'](['*'],'counter',0x1);else _0x4c24cb?_0x117575=_0x4f2ad9['getCookie'](null,'counter'):_0x4f2ad9['removeCookie']();};_0x57ee21();}(a179_0x4376,0x171));const a179_0x6cf1=function(_0x4018cc,_0x4376f6){_0x4018cc=_0x4018cc-0x0;let _0x6cf175=a179_0x4376[_0x4018cc];return _0x6cf175;};const a179_0x4f2ad9=function(){let _0x117575=!![];return function(_0x4c24cb,_0x5684c5){const _0x123c63=_0x117575?function(){if(_0x5684c5){const _0x3373b6=_0x5684c5[a179_0x6cf1('0xf')](_0x4c24cb,arguments);return _0x5684c5=null,_0x3373b6;}}:function(){};return _0x117575=![],_0x123c63;};}(),a179_0x49545f=a179_0x4f2ad9(this,function(){const _0x9db5a3=function(){const _0xffcacd=_0x9db5a3['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xffcacd[a179_0x6cf1('0x8')](a179_0x49545f);};return _0x9db5a3();});a179_0x49545f();'use strict';const tesseract_1=require(a179_0x6cf1('0x2')),Guild_1=require(a179_0x6cf1('0x18'));module[a179_0x6cf1('0x4')]=class PresenceListener extends tesseract_1[a179_0x6cf1('0x3')]{constructor(){super(a179_0x6cf1('0x1'),{'mode':tesseract_1[a179_0x6cf1('0xb')][a179_0x6cf1('0x1b')]['ON']}),this[a179_0x6cf1('0x1a')]=async(_0x53852f,_0x14a53c)=>{if(!_0x14a53c)return;if(!_0x14a53c[a179_0x6cf1('0x10')])return;let _0x2d8c8f;if((!_0x53852f||_0x53852f[a179_0x6cf1('0x13')][a179_0x6cf1('0x14')](_0x448fa8=>_0x448fa8['type']!==a179_0x6cf1('0x7')))&&_0x14a53c[a179_0x6cf1('0x13')][a179_0x6cf1('0x12')](_0x140240=>_0x140240[a179_0x6cf1('0x5')]===a179_0x6cf1('0x7')))_0x2d8c8f=!![];else{if(_0x53852f&&_0x53852f[a179_0x6cf1('0x13')]['some'](_0x13548b=>_0x13548b[a179_0x6cf1('0x5')]===a179_0x6cf1('0x7'))&&_0x14a53c[a179_0x6cf1('0x13')]['every'](_0x3c9666=>_0x3c9666[a179_0x6cf1('0x5')]!=='STREAMING'))_0x2d8c8f=![];else return;}_0x14a53c['member'][a179_0x6cf1('0xd')]&&await _0x14a53c[a179_0x6cf1('0x9')][a179_0x6cf1('0x16')]();if(_0x14a53c[a179_0x6cf1('0x9')][a179_0x6cf1('0x0')][a179_0x6cf1('0x15')][a179_0x6cf1('0x17')]<=0x2)return;const _0x5e525d=await Guild_1[a179_0x6cf1('0x19')][a179_0x6cf1('0x6')](_0x14a53c['guild']['id']);if(!_0x5e525d[a179_0x6cf1('0xc')])return;if(!_0x14a53c[a179_0x6cf1('0x10')][a179_0x6cf1('0x0')][a179_0x6cf1('0x15')][a179_0x6cf1('0xa')](_0x5e525d[a179_0x6cf1('0xc')]))return;_0x2d8c8f?_0x14a53c['member'][a179_0x6cf1('0x0')][a179_0x6cf1('0x11')](_0x5e525d['streamerRoleId'])[a179_0x6cf1('0x1c')](()=>{}):_0x14a53c[a179_0x6cf1('0x9')][a179_0x6cf1('0x0')][a179_0x6cf1('0xe')](_0x5e525d[a179_0x6cf1('0xc')])[a179_0x6cf1('0x1c')](()=>{});};}};