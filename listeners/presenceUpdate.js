const a176_0x1e29=['STREAMING','roles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../models/Guild','test','cache','streamerRoleId','Constants','constructor','default','@bastion/tesseract','member','Listener','return\x20/\x22\x20+\x20this\x20+\x20\x22/','add','some','fetch','type','activities','has','catch','remove','size','guild','exports','every','findById'];(function(_0x79baa2,_0x1e2901){const _0x27523b=function(_0x8434df){while(--_0x8434df){_0x79baa2['push'](_0x79baa2['shift']());}},_0x26ae05=function(){const _0x29f115={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3e2d27,_0x79e347,_0x377948,_0x3806ec){_0x3806ec=_0x3806ec||{};let _0x555eda=_0x79e347+'='+_0x377948,_0x41b407=0x0;for(let _0x38099f=0x0,_0xb34476=_0x3e2d27['length'];_0x38099f<_0xb34476;_0x38099f++){const _0x40e799=_0x3e2d27[_0x38099f];_0x555eda+=';\x20'+_0x40e799;const _0x3c8b91=_0x3e2d27[_0x40e799];_0x3e2d27['push'](_0x3c8b91),_0xb34476=_0x3e2d27['length'],_0x3c8b91!==!![]&&(_0x555eda+='='+_0x3c8b91);}_0x3806ec['cookie']=_0x555eda;},'removeCookie':function(){return'dev';},'getCookie':function(_0xc959eb,_0x1fa173){_0xc959eb=_0xc959eb||function(_0x5a737a){return _0x5a737a;};const _0x5b412c=_0xc959eb(new RegExp('(?:^|;\x20)'+_0x1fa173['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x15ea0c=function(_0x1d51b3,_0x4f7c3f){_0x1d51b3(++_0x4f7c3f);};return _0x15ea0c(_0x27523b,_0x1e2901),_0x5b412c?decodeURIComponent(_0x5b412c[0x1]):undefined;}},_0x201045=function(){const _0x4d5d3b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4d5d3b['test'](_0x29f115['removeCookie']['toString']());};_0x29f115['updateCookie']=_0x201045;let _0x7d2758='';const _0x57a277=_0x29f115['updateCookie']();if(!_0x57a277)_0x29f115['setCookie'](['*'],'counter',0x1);else _0x57a277?_0x7d2758=_0x29f115['getCookie'](null,'counter'):_0x29f115['removeCookie']();};_0x26ae05();}(a176_0x1e29,0x83));const a176_0x2752=function(_0x79baa2,_0x1e2901){_0x79baa2=_0x79baa2-0x0;let _0x27523b=a176_0x1e29[_0x79baa2];return _0x27523b;};const a176_0x377948=function(){let _0x103b78=!![];return function(_0x1ee919,_0x308438){const _0x2674fd=_0x103b78?function(){if(_0x308438){const _0x1eb8db=_0x308438['apply'](_0x1ee919,arguments);return _0x308438=null,_0x1eb8db;}}:function(){};return _0x103b78=![],_0x2674fd;};}(),a176_0x79e347=a176_0x377948(this,function(){const _0x4e8554=function(){const _0x470f93=_0x4e8554[a176_0x2752('0xc')](a176_0x2752('0x11'))()[a176_0x2752('0xc')](a176_0x2752('0x6'));return!_0x470f93[a176_0x2752('0x8')](a176_0x79e347);};return _0x4e8554();});a176_0x79e347();'use strict';const tesseract_1=require(a176_0x2752('0xe')),Guild_1=require(a176_0x2752('0x7'));module[a176_0x2752('0x1')]=class PresenceListener extends tesseract_1[a176_0x2752('0x10')]{constructor(){super('presenceUpdate',{'mode':tesseract_1[a176_0x2752('0xb')]['LISTENER_MODE']['ON']}),this['exec']=async(_0x4e4be4,_0x1bd9dc)=>{if(!_0x1bd9dc)return;if(!_0x1bd9dc[a176_0x2752('0x0')])return;let _0x2d4fa1;if((!_0x4e4be4||_0x4e4be4[a176_0x2752('0x16')][a176_0x2752('0x2')](_0x2cb8b3=>_0x2cb8b3['type']!==a176_0x2752('0x4')))&&_0x1bd9dc[a176_0x2752('0x16')]['some'](_0xe5cd03=>_0xe5cd03[a176_0x2752('0x15')]===a176_0x2752('0x4')))_0x2d4fa1=!![];else{if(_0x4e4be4&&_0x4e4be4['activities'][a176_0x2752('0x13')](_0x2694fd=>_0x2694fd[a176_0x2752('0x15')]===a176_0x2752('0x4'))&&_0x1bd9dc[a176_0x2752('0x16')][a176_0x2752('0x2')](_0x1ac1a1=>_0x1ac1a1[a176_0x2752('0x15')]!==a176_0x2752('0x4')))_0x2d4fa1=![];else return;}_0x1bd9dc['member']['partial']&&await _0x1bd9dc[a176_0x2752('0xf')][a176_0x2752('0x14')]();if(_0x1bd9dc[a176_0x2752('0xf')][a176_0x2752('0x5')]['cache'][a176_0x2752('0x1a')]<=0x2)return;const _0x1b2904=await Guild_1[a176_0x2752('0xd')][a176_0x2752('0x3')](_0x1bd9dc[a176_0x2752('0x0')]['id']);if(!_0x1b2904[a176_0x2752('0xa')])return;if(!_0x1bd9dc[a176_0x2752('0x0')][a176_0x2752('0x5')][a176_0x2752('0x9')][a176_0x2752('0x17')](_0x1b2904[a176_0x2752('0xa')]))return;_0x2d4fa1?_0x1bd9dc['member']['roles'][a176_0x2752('0x12')](_0x1b2904[a176_0x2752('0xa')])[a176_0x2752('0x18')](()=>{}):_0x1bd9dc[a176_0x2752('0xf')][a176_0x2752('0x5')][a176_0x2752('0x19')](_0x1b2904[a176_0x2752('0xa')])[a176_0x2752('0x18')](()=>{});};}};