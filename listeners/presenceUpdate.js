const a167_0xf9fa=['type','compile','size','../models/Guild','member','some','activities','cache','catch','streamerRoleId','return\x20/\x22\x20+\x20this\x20+\x20\x22/','STREAMING','every','roles','partial','constructor','remove','LISTENER_MODE','add','fetch','exports','apply','guild','default','presenceUpdate','test','@bastion/tesseract','exec','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','has'];(function(_0x22be93,_0xf9fa2b){const _0x70e02a=function(_0x5ac49c){while(--_0x5ac49c){_0x22be93['push'](_0x22be93['shift']());}};const _0x2758e1=function(){const _0x2e42e0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x38d5ab,_0xc7fa2a,_0x7d224f,_0x4391d7){_0x4391d7=_0x4391d7||{};let _0x65a0f7=_0xc7fa2a+'='+_0x7d224f;let _0x38c6b3=0x0;for(let _0x321a16=0x0,_0x4a6ac5=_0x38d5ab['length'];_0x321a16<_0x4a6ac5;_0x321a16++){const _0x267c30=_0x38d5ab[_0x321a16];_0x65a0f7+=';\x20'+_0x267c30;const _0x4b19b8=_0x38d5ab[_0x267c30];_0x38d5ab['push'](_0x4b19b8);_0x4a6ac5=_0x38d5ab['length'];if(_0x4b19b8!==!![]){_0x65a0f7+='='+_0x4b19b8;}}_0x4391d7['cookie']=_0x65a0f7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3a9123,_0x124590){_0x3a9123=_0x3a9123||function(_0xbbacfd){return _0xbbacfd;};const _0x1ac45e=_0x3a9123(new RegExp('(?:^|;\x20)'+_0x124590['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x33bc70=function(_0x351f8e,_0x527e37){_0x351f8e(++_0x527e37);};_0x33bc70(_0x70e02a,_0xf9fa2b);return _0x1ac45e?decodeURIComponent(_0x1ac45e[0x1]):undefined;}};const _0xcdc15e=function(){const _0x5334f7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5334f7['test'](_0x2e42e0['removeCookie']['toString']());};_0x2e42e0['updateCookie']=_0xcdc15e;let _0x3a97dd='';const _0x37e8a8=_0x2e42e0['updateCookie']();if(!_0x37e8a8){_0x2e42e0['setCookie'](['*'],'counter',0x1);}else if(_0x37e8a8){_0x3a97dd=_0x2e42e0['getCookie'](null,'counter');}else{_0x2e42e0['removeCookie']();}};_0x2758e1();}(a167_0xf9fa,0xf6));const a167_0x70e0=function(_0x22be93,_0xf9fa2b){_0x22be93=_0x22be93-0x0;let _0x70e02a=a167_0xf9fa[_0x22be93];return _0x70e02a;};const a167_0x2e42e0=function(){let _0x71e27=!![];return function(_0x253ba2,_0x658961){const _0x3f40b2=_0x71e27?function(){if(_0x658961){const _0x29f37c=_0x658961[a167_0x70e0('0xf')](_0x253ba2,arguments);_0x658961=null;return _0x29f37c;}}:function(){};_0x71e27=![];return _0x3f40b2;};}();const a167_0x5ac49c=a167_0x2e42e0(this,function(){const _0x5c9116=function(){const _0x2c3565=_0x5c9116[a167_0x70e0('0x9')](a167_0x70e0('0x4'))()[a167_0x70e0('0x19')](a167_0x70e0('0x16'));return!_0x2c3565[a167_0x70e0('0x13')](a167_0x5ac49c);};return _0x5c9116();});a167_0x5ac49c();'use strict';const tesseract_1=require(a167_0x70e0('0x14'));const Guild_1=require(a167_0x70e0('0x1b'));module[a167_0x70e0('0xe')]=class PresenceListener extends tesseract_1['Listener']{constructor(){super(a167_0x70e0('0x12'),{'mode':tesseract_1['Constants'][a167_0x70e0('0xb')]['ON']});this[a167_0x70e0('0x15')]=async(_0x14f3ec,_0x415aeb)=>{if(!_0x415aeb)return;if(!_0x415aeb[a167_0x70e0('0x10')])return;let _0x1c6c59;if((!_0x14f3ec||_0x14f3ec[a167_0x70e0('0x0')][a167_0x70e0('0x6')](_0x4940d2=>_0x4940d2[a167_0x70e0('0x18')]!=='STREAMING'))&&_0x415aeb['activities'][a167_0x70e0('0x1d')](_0x55a7b3=>_0x55a7b3[a167_0x70e0('0x18')]===a167_0x70e0('0x5'))){_0x1c6c59=!![];}else if(_0x14f3ec&&_0x14f3ec['activities'][a167_0x70e0('0x1d')](_0x3090e5=>_0x3090e5[a167_0x70e0('0x18')]===a167_0x70e0('0x5'))&&_0x415aeb[a167_0x70e0('0x0')][a167_0x70e0('0x6')](_0x363179=>_0x363179[a167_0x70e0('0x18')]!==a167_0x70e0('0x5'))){_0x1c6c59=![];}else return;if(_0x415aeb['member'][a167_0x70e0('0x8')]){await _0x415aeb[a167_0x70e0('0x1c')][a167_0x70e0('0xd')]();}if(_0x415aeb[a167_0x70e0('0x1c')][a167_0x70e0('0x7')][a167_0x70e0('0x1')][a167_0x70e0('0x1a')]<=0x2)return;const _0x563e66=await Guild_1[a167_0x70e0('0x11')]['findById'](_0x415aeb[a167_0x70e0('0x10')]['id']);if(!_0x563e66[a167_0x70e0('0x3')])return;if(!_0x415aeb[a167_0x70e0('0x10')]['roles'][a167_0x70e0('0x1')][a167_0x70e0('0x17')](_0x563e66[a167_0x70e0('0x3')]))return;if(_0x1c6c59){_0x415aeb['member'][a167_0x70e0('0x7')][a167_0x70e0('0xc')](_0x563e66[a167_0x70e0('0x3')])[a167_0x70e0('0x2')](()=>{});}else{_0x415aeb[a167_0x70e0('0x1c')][a167_0x70e0('0x7')][a167_0x70e0('0xa')](_0x563e66[a167_0x70e0('0x3')])[a167_0x70e0('0x2')](()=>{});}};}};