const a167_0x1cde=['apply','STREAMING','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../models/Guild','every','has','Listener','partial','activities','type','compile','member','catch','Constants','@bastion/tesseract','some','guild','streamerRoleId','roles','exports','LISTENER_MODE','cache','default','test','remove','add','findById','size'];(function(_0x54c4dc,_0x1cde41){const _0x3faef5=function(_0x5cc324){while(--_0x5cc324){_0x54c4dc['push'](_0x54c4dc['shift']());}};const _0x3acb25=function(){const _0x31bccf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5d984c,_0xd00e4e,_0x49d36f,_0x1e9efa){_0x1e9efa=_0x1e9efa||{};let _0x3abf87=_0xd00e4e+'='+_0x49d36f;let _0x22f98d=0x0;for(let _0x3561bd=0x0,_0x2ffe45=_0x5d984c['length'];_0x3561bd<_0x2ffe45;_0x3561bd++){const _0x54cb8b=_0x5d984c[_0x3561bd];_0x3abf87+=';\x20'+_0x54cb8b;const _0x45d096=_0x5d984c[_0x54cb8b];_0x5d984c['push'](_0x45d096);_0x2ffe45=_0x5d984c['length'];if(_0x45d096!==!![]){_0x3abf87+='='+_0x45d096;}}_0x1e9efa['cookie']=_0x3abf87;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1c8cf6,_0x50c153){_0x1c8cf6=_0x1c8cf6||function(_0xd57d2d){return _0xd57d2d;};const _0x256399=_0x1c8cf6(new RegExp('(?:^|;\x20)'+_0x50c153['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x471b26=function(_0x3a2c94,_0x2c9c33){_0x3a2c94(++_0x2c9c33);};_0x471b26(_0x3faef5,_0x1cde41);return _0x256399?decodeURIComponent(_0x256399[0x1]):undefined;}};const _0x4640fb=function(){const _0x38c9f5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x38c9f5['test'](_0x31bccf['removeCookie']['toString']());};_0x31bccf['updateCookie']=_0x4640fb;let _0x1c7e25='';const _0x54086c=_0x31bccf['updateCookie']();if(!_0x54086c){_0x31bccf['setCookie'](['*'],'counter',0x1);}else if(_0x54086c){_0x1c7e25=_0x31bccf['getCookie'](null,'counter');}else{_0x31bccf['removeCookie']();}};_0x3acb25();}(a167_0x1cde,0x1c8));const a167_0x3fae=function(_0x54c4dc,_0x1cde41){_0x54c4dc=_0x54c4dc-0x0;let _0x3faef5=a167_0x1cde[_0x54c4dc];return _0x3faef5;};const a167_0x31bccf=function(){let _0x2bdf8e=!![];return function(_0x397483,_0x2440b7){const _0x207501=_0x2bdf8e?function(){if(_0x2440b7){const _0x11b4a8=_0x2440b7[a167_0x3fae('0x14')](_0x397483,arguments);_0x2440b7=null;return _0x11b4a8;}}:function(){};_0x2bdf8e=![];return _0x207501;};}();const a167_0x5cc324=a167_0x31bccf(this,function(){const _0x536362=function(){const _0x4e63b1=_0x536362['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a167_0x3fae('0x2')](a167_0x3fae('0x16'));return!_0x4e63b1[a167_0x3fae('0xf')](a167_0x5cc324);};return _0x536362();});a167_0x5cc324();'use strict';const tesseract_1=require(a167_0x3fae('0x6'));const Guild_1=require(a167_0x3fae('0x17'));module[a167_0x3fae('0xb')]=class PresenceListener extends tesseract_1[a167_0x3fae('0x1a')]{constructor(){super('presenceUpdate',{'mode':tesseract_1[a167_0x3fae('0x5')][a167_0x3fae('0xc')]['ON']});this['exec']=async(_0x4b2735,_0x23897a)=>{if(!_0x23897a)return;if(!_0x23897a[a167_0x3fae('0x8')])return;let _0x3d7b8a;if((!_0x4b2735||_0x4b2735[a167_0x3fae('0x0')][a167_0x3fae('0x18')](_0x21c5db=>_0x21c5db[a167_0x3fae('0x1')]!==a167_0x3fae('0x15')))&&_0x23897a[a167_0x3fae('0x0')][a167_0x3fae('0x7')](_0x254f4f=>_0x254f4f[a167_0x3fae('0x1')]===a167_0x3fae('0x15'))){_0x3d7b8a=!![];}else if(_0x4b2735&&_0x4b2735['activities']['some'](_0x52040a=>_0x52040a['type']===a167_0x3fae('0x15'))&&_0x23897a[a167_0x3fae('0x0')][a167_0x3fae('0x18')](_0x3facbc=>_0x3facbc['type']!==a167_0x3fae('0x15'))){_0x3d7b8a=![];}else return;if(_0x23897a[a167_0x3fae('0x3')][a167_0x3fae('0x1b')]){await _0x23897a[a167_0x3fae('0x3')]['fetch']();}if(_0x23897a[a167_0x3fae('0x3')]['roles']['cache'][a167_0x3fae('0x13')]<=0x2)return;const _0x45ef7c=await Guild_1[a167_0x3fae('0xe')][a167_0x3fae('0x12')](_0x23897a[a167_0x3fae('0x8')]['id']);if(!_0x45ef7c[a167_0x3fae('0x9')])return;if(!_0x23897a[a167_0x3fae('0x8')][a167_0x3fae('0xa')][a167_0x3fae('0xd')][a167_0x3fae('0x19')](_0x45ef7c[a167_0x3fae('0x9')]))return;if(_0x3d7b8a){_0x23897a[a167_0x3fae('0x3')][a167_0x3fae('0xa')][a167_0x3fae('0x11')](_0x45ef7c[a167_0x3fae('0x9')])['catch'](()=>{});}else{_0x23897a[a167_0x3fae('0x3')][a167_0x3fae('0xa')][a167_0x3fae('0x10')](_0x45ef7c[a167_0x3fae('0x9')])[a167_0x3fae('0x4')](()=>{});}};}};