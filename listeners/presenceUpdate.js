const a168_0x426c=['default','../models/Guild','catch','some','type','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','partial','fetch','streamerRoleId','cache','STREAMING','guild','remove','add','compile','constructor','@bastion/tesseract','Listener','findById','apply','exec','LISTENER_MODE','activities','roles','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Constants','member','every'];(function(_0x461540,_0x426c78){const _0x47fb20=function(_0x1d43f7){while(--_0x1d43f7){_0x461540['push'](_0x461540['shift']());}};const _0x4a87f1=function(){const _0x58d7de={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x227c27,_0x216291,_0x31839c,_0x4c28e0){_0x4c28e0=_0x4c28e0||{};let _0xe15610=_0x216291+'='+_0x31839c;let _0x27440d=0x0;for(let _0x57324a=0x0,_0x28387e=_0x227c27['length'];_0x57324a<_0x28387e;_0x57324a++){const _0x4d7104=_0x227c27[_0x57324a];_0xe15610+=';\x20'+_0x4d7104;const _0x16a67f=_0x227c27[_0x4d7104];_0x227c27['push'](_0x16a67f);_0x28387e=_0x227c27['length'];if(_0x16a67f!==!![]){_0xe15610+='='+_0x16a67f;}}_0x4c28e0['cookie']=_0xe15610;},'removeCookie':function(){return'dev';},'getCookie':function(_0x7ed56c,_0x8b7712){_0x7ed56c=_0x7ed56c||function(_0x101514){return _0x101514;};const _0x4764aa=_0x7ed56c(new RegExp('(?:^|;\x20)'+_0x8b7712['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x544f7a=function(_0x154d5f,_0x22b192){_0x154d5f(++_0x22b192);};_0x544f7a(_0x47fb20,_0x426c78);return _0x4764aa?decodeURIComponent(_0x4764aa[0x1]):undefined;}};const _0x3584c1=function(){const _0x363d6a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x363d6a['test'](_0x58d7de['removeCookie']['toString']());};_0x58d7de['updateCookie']=_0x3584c1;let _0xb6a2ec='';const _0xbf56d1=_0x58d7de['updateCookie']();if(!_0xbf56d1){_0x58d7de['setCookie'](['*'],'counter',0x1);}else if(_0xbf56d1){_0xb6a2ec=_0x58d7de['getCookie'](null,'counter');}else{_0x58d7de['removeCookie']();}};_0x4a87f1();}(a168_0x426c,0x18a));const a168_0x47fb=function(_0x461540,_0x426c78){_0x461540=_0x461540-0x0;let _0x47fb20=a168_0x426c[_0x461540];return _0x47fb20;};const a168_0x58d7de=function(){let _0xf151a6=!![];return function(_0x40572a,_0x4f4f8a){const _0x41c780=_0xf151a6?function(){if(_0x4f4f8a){const _0x23054=_0x4f4f8a[a168_0x47fb('0x11')](_0x40572a,arguments);_0x4f4f8a=null;return _0x23054;}}:function(){};_0xf151a6=![];return _0x41c780;};}();const a168_0x1d43f7=a168_0x58d7de(this,function(){const _0x5090b8=function(){const _0x5e2c0a=_0x5090b8[a168_0x47fb('0xd')](a168_0x47fb('0x16'))()[a168_0x47fb('0xc')](a168_0x47fb('0x3'));return!_0x5e2c0a['test'](a168_0x1d43f7);};return _0x5090b8();});a168_0x1d43f7();'use strict';const tesseract_1=require(a168_0x47fb('0xe'));const Guild_1=require(a168_0x47fb('0x1b'));module['exports']=class PresenceListener extends tesseract_1[a168_0x47fb('0xf')]{constructor(){super('presenceUpdate',{'mode':tesseract_1[a168_0x47fb('0x17')][a168_0x47fb('0x13')]['ON']});this[a168_0x47fb('0x12')]=async(_0xc39962,_0x481b9b)=>{if(!_0x481b9b)return;if(!_0x481b9b[a168_0x47fb('0x9')])return;let _0xe82a42;if((!_0xc39962||_0xc39962['activities'][a168_0x47fb('0x19')](_0x19b944=>_0x19b944[a168_0x47fb('0x2')]!==a168_0x47fb('0x8')))&&_0x481b9b[a168_0x47fb('0x14')][a168_0x47fb('0x1')](_0x4faf8b=>_0x4faf8b[a168_0x47fb('0x2')]==='STREAMING')){_0xe82a42=!![];}else if(_0xc39962&&_0xc39962['activities'][a168_0x47fb('0x1')](_0x53b916=>_0x53b916[a168_0x47fb('0x2')]===a168_0x47fb('0x8'))&&_0x481b9b[a168_0x47fb('0x14')][a168_0x47fb('0x19')](_0x31e9d9=>_0x31e9d9[a168_0x47fb('0x2')]!==a168_0x47fb('0x8'))){_0xe82a42=![];}else return;if(_0x481b9b[a168_0x47fb('0x18')][a168_0x47fb('0x4')]){await _0x481b9b[a168_0x47fb('0x18')][a168_0x47fb('0x5')]();}if(_0x481b9b[a168_0x47fb('0x18')]['roles'][a168_0x47fb('0x7')]['size']<=0x2)return;const _0x92f3cf=await Guild_1[a168_0x47fb('0x1a')][a168_0x47fb('0x10')](_0x481b9b[a168_0x47fb('0x9')]['id']);if(!_0x92f3cf[a168_0x47fb('0x6')])return;if(!_0x481b9b[a168_0x47fb('0x9')][a168_0x47fb('0x15')]['cache']['has'](_0x92f3cf[a168_0x47fb('0x6')]))return;if(_0xe82a42){_0x481b9b[a168_0x47fb('0x18')]['roles'][a168_0x47fb('0xb')](_0x92f3cf[a168_0x47fb('0x6')])['catch'](()=>{});}else{_0x481b9b['member'][a168_0x47fb('0x15')][a168_0x47fb('0xa')](_0x92f3cf['streamerRoleId'])[a168_0x47fb('0x0')](()=>{});}};}};