const a175_0x1d49=['test','has','every','@bastion/tesseract','apply','exec','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','activities','type','size','some','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/Guild','roles','cache','Listener','fetch','default','streamerRoleId','catch','STREAMING','member','remove','presenceUpdate','constructor','guild','partial'];(function(_0x56291b,_0x1d49db){const _0x2d4a33=function(_0x22298e){while(--_0x22298e){_0x56291b['push'](_0x56291b['shift']());}},_0x1d1dca=function(){const _0x44b778={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x466a36,_0xd7d830,_0x4c55bd,_0x5902c5){_0x5902c5=_0x5902c5||{};let _0x1c0de2=_0xd7d830+'='+_0x4c55bd,_0x8c2ab=0x0;for(let _0x33cc32=0x0,_0x31073d=_0x466a36['length'];_0x33cc32<_0x31073d;_0x33cc32++){const _0x4f29a2=_0x466a36[_0x33cc32];_0x1c0de2+=';\x20'+_0x4f29a2;const _0x1b5f39=_0x466a36[_0x4f29a2];_0x466a36['push'](_0x1b5f39),_0x31073d=_0x466a36['length'],_0x1b5f39!==!![]&&(_0x1c0de2+='='+_0x1b5f39);}_0x5902c5['cookie']=_0x1c0de2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x85bdfe,_0x2da1df){_0x85bdfe=_0x85bdfe||function(_0x347575){return _0x347575;};const _0xe520ac=_0x85bdfe(new RegExp('(?:^|;\x20)'+_0x2da1df['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2c75f7=function(_0x4eb20f,_0x501e0e){_0x4eb20f(++_0x501e0e);};return _0x2c75f7(_0x2d4a33,_0x1d49db),_0xe520ac?decodeURIComponent(_0xe520ac[0x1]):undefined;}},_0x46b073=function(){const _0x127f80=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x127f80['test'](_0x44b778['removeCookie']['toString']());};_0x44b778['updateCookie']=_0x46b073;let _0xe42873='';const _0x2825e5=_0x44b778['updateCookie']();if(!_0x2825e5)_0x44b778['setCookie'](['*'],'counter',0x1);else _0x2825e5?_0xe42873=_0x44b778['getCookie'](null,'counter'):_0x44b778['removeCookie']();};_0x1d1dca();}(a175_0x1d49,0x1ce));const a175_0x2d4a=function(_0x56291b,_0x1d49db){_0x56291b=_0x56291b-0x0;let _0x2d4a33=a175_0x1d49[_0x56291b];return _0x2d4a33;};const a175_0x4c55bd=function(){let _0x367401=!![];return function(_0x4ffeef,_0x1c090f){const _0x2270c4=_0x367401?function(){if(_0x1c090f){const _0x49e127=_0x1c090f[a175_0x2d4a('0x12')](_0x4ffeef,arguments);return _0x1c090f=null,_0x49e127;}}:function(){};return _0x367401=![],_0x2270c4;};}(),a175_0xd7d830=a175_0x4c55bd(this,function(){const _0xa3e1c8=function(){const _0x5aae57=_0xa3e1c8[a175_0x2d4a('0xb')](a175_0x2d4a('0x1a'))()[a175_0x2d4a('0xb')](a175_0x2d4a('0x14'));return!_0x5aae57[a175_0x2d4a('0xe')](a175_0xd7d830);};return _0xa3e1c8();});a175_0xd7d830();'use strict';const tesseract_1=require(a175_0x2d4a('0x11')),Guild_1=require(a175_0x2d4a('0x1b'));module[a175_0x2d4a('0x19')]=class PresenceListener extends tesseract_1[a175_0x2d4a('0x2')]{constructor(){super(a175_0x2d4a('0xa'),{'mode':tesseract_1['Constants']['LISTENER_MODE']['ON']}),this[a175_0x2d4a('0x13')]=async(_0x91e30c,_0x5c69ee)=>{if(!_0x5c69ee)return;if(!_0x5c69ee[a175_0x2d4a('0xc')])return;let _0x245697;if((!_0x91e30c||_0x91e30c[a175_0x2d4a('0x15')][a175_0x2d4a('0x10')](_0x533891=>_0x533891['type']!==a175_0x2d4a('0x7')))&&_0x5c69ee[a175_0x2d4a('0x15')][a175_0x2d4a('0x18')](_0x168609=>_0x168609[a175_0x2d4a('0x16')]===a175_0x2d4a('0x7')))_0x245697=!![];else{if(_0x91e30c&&_0x91e30c[a175_0x2d4a('0x15')][a175_0x2d4a('0x18')](_0x2f4792=>_0x2f4792[a175_0x2d4a('0x16')]===a175_0x2d4a('0x7'))&&_0x5c69ee[a175_0x2d4a('0x15')]['every'](_0x2febc7=>_0x2febc7[a175_0x2d4a('0x16')]!==a175_0x2d4a('0x7')))_0x245697=![];else return;}_0x5c69ee[a175_0x2d4a('0x8')][a175_0x2d4a('0xd')]&&await _0x5c69ee[a175_0x2d4a('0x8')][a175_0x2d4a('0x3')]();if(_0x5c69ee[a175_0x2d4a('0x8')][a175_0x2d4a('0x0')][a175_0x2d4a('0x1')][a175_0x2d4a('0x17')]<=0x2)return;const _0x339bea=await Guild_1[a175_0x2d4a('0x4')]['findById'](_0x5c69ee[a175_0x2d4a('0xc')]['id']);if(!_0x339bea[a175_0x2d4a('0x5')])return;if(!_0x5c69ee['guild']['roles']['cache'][a175_0x2d4a('0xf')](_0x339bea[a175_0x2d4a('0x5')]))return;_0x245697?_0x5c69ee[a175_0x2d4a('0x8')][a175_0x2d4a('0x0')]['add'](_0x339bea[a175_0x2d4a('0x5')])[a175_0x2d4a('0x6')](()=>{}):_0x5c69ee[a175_0x2d4a('0x8')][a175_0x2d4a('0x0')][a175_0x2d4a('0x9')](_0x339bea[a175_0x2d4a('0x5')])[a175_0x2d4a('0x6')](()=>{});};}};