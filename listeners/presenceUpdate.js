const a181_0x38bf=['constructor','findById','has','STREAMING','roles','fetch','remove','type','../models/Guild','every','Listener','add','partial','size','streamerRoleId','exports','some','guild','cache','Constants','member','activities','LISTENER_MODE','default','test','@bastion/tesseract','catch','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x1699e1,_0x38bf4d){const _0x64a543=function(_0x1f89b3){while(--_0x1f89b3){_0x1699e1['push'](_0x1699e1['shift']());}},_0x28b0d7=function(){const _0x5f3960={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e89fa,_0x2e6634,_0x5bd5be,_0x257baa){_0x257baa=_0x257baa||{};let _0x19e48f=_0x2e6634+'='+_0x5bd5be,_0x1ae7c7=0x0;for(let _0x5aed23=0x0,_0x4cad07=_0x4e89fa['length'];_0x5aed23<_0x4cad07;_0x5aed23++){const _0x9a57ea=_0x4e89fa[_0x5aed23];_0x19e48f+=';\x20'+_0x9a57ea;const _0x53dee5=_0x4e89fa[_0x9a57ea];_0x4e89fa['push'](_0x53dee5),_0x4cad07=_0x4e89fa['length'],_0x53dee5!==!![]&&(_0x19e48f+='='+_0x53dee5);}_0x257baa['cookie']=_0x19e48f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x52eff3,_0x4d3b84){_0x52eff3=_0x52eff3||function(_0x2c485e){return _0x2c485e;};const _0x201003=_0x52eff3(new RegExp('(?:^|;\x20)'+_0x4d3b84['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4ca759=function(_0x24e233,_0x918257){_0x24e233(++_0x918257);};return _0x4ca759(_0x64a543,_0x38bf4d),_0x201003?decodeURIComponent(_0x201003[0x1]):undefined;}},_0x24ebf8=function(){const _0x2b70b1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2b70b1['test'](_0x5f3960['removeCookie']['toString']());};_0x5f3960['updateCookie']=_0x24ebf8;let _0x5770d9='';const _0x56de85=_0x5f3960['updateCookie']();if(!_0x56de85)_0x5f3960['setCookie'](['*'],'counter',0x1);else _0x56de85?_0x5770d9=_0x5f3960['getCookie'](null,'counter'):_0x5f3960['removeCookie']();};_0x28b0d7();}(a181_0x38bf,0x70));const a181_0x64a5=function(_0x1699e1,_0x38bf4d){_0x1699e1=_0x1699e1-0x0;let _0x64a543=a181_0x38bf[_0x1699e1];return _0x64a543;};const _0x210dc2=a181_0x64a5,a181_0x5f3960=function(){let _0x5770d9=!![];return function(_0x56de85,_0x4e89fa){const _0x2e6634=_0x5770d9?function(){if(_0x4e89fa){const _0x5bd5be=_0x4e89fa['apply'](_0x56de85,arguments);return _0x4e89fa=null,_0x5bd5be;}}:function(){};return _0x5770d9=![],_0x2e6634;};}(),a181_0x1f89b3=a181_0x5f3960(this,function(){const _0x257baa=function(){const _0x263f8f=a181_0x64a5,_0x19e48f=_0x257baa[_0x263f8f('0x0')](_0x263f8f('0x1b'))()[_0x263f8f('0x0')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x19e48f[_0x263f8f('0x18')](a181_0x1f89b3);};return _0x257baa();});a181_0x1f89b3();'use strict';const tesseract_1=require(_0x210dc2('0x19')),Guild_1=require(_0x210dc2('0x8'));module[_0x210dc2('0xf')]=class PresenceListener extends tesseract_1[_0x210dc2('0xa')]{constructor(){const _0x56d061=_0x210dc2;super('presenceUpdate',{'mode':tesseract_1[_0x56d061('0x13')][_0x56d061('0x16')]['ON']}),this['exec']=async(_0x1ae7c7,_0x5aed23)=>{const _0xbc7614=_0x56d061;if(!_0x5aed23)return;if(!_0x5aed23[_0xbc7614('0x11')])return;let _0x4cad07;if((!_0x1ae7c7||_0x1ae7c7[_0xbc7614('0x15')][_0xbc7614('0x9')](_0x53dee5=>_0x53dee5['type']!==_0xbc7614('0x3')))&&_0x5aed23[_0xbc7614('0x15')][_0xbc7614('0x10')](_0x52eff3=>_0x52eff3[_0xbc7614('0x7')]===_0xbc7614('0x3')))_0x4cad07=!![];else{if(_0x1ae7c7&&_0x1ae7c7[_0xbc7614('0x15')][_0xbc7614('0x10')](_0x4d3b84=>_0x4d3b84[_0xbc7614('0x7')]===_0xbc7614('0x3'))&&_0x5aed23[_0xbc7614('0x15')][_0xbc7614('0x9')](_0x201003=>_0x201003[_0xbc7614('0x7')]!==_0xbc7614('0x3')))_0x4cad07=![];else return;}_0x5aed23[_0xbc7614('0x14')][_0xbc7614('0xc')]&&await _0x5aed23['member'][_0xbc7614('0x5')]();if(_0x5aed23[_0xbc7614('0x14')][_0xbc7614('0x4')][_0xbc7614('0x12')][_0xbc7614('0xd')]<=0x2)return;const _0x9a57ea=await Guild_1[_0xbc7614('0x17')][_0xbc7614('0x1')](_0x5aed23[_0xbc7614('0x11')]['id']);if(!_0x9a57ea[_0xbc7614('0xe')])return;if(!_0x5aed23['guild'][_0xbc7614('0x4')][_0xbc7614('0x12')][_0xbc7614('0x2')](_0x9a57ea[_0xbc7614('0xe')]))return;_0x4cad07?_0x5aed23['member'][_0xbc7614('0x4')][_0xbc7614('0xb')](_0x9a57ea['streamerRoleId'])[_0xbc7614('0x1a')](()=>{}):_0x5aed23[_0xbc7614('0x14')]['roles'][_0xbc7614('0x6')](_0x9a57ea[_0xbc7614('0xe')])[_0xbc7614('0x1a')](()=>{});};}};