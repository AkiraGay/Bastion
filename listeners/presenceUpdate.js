const a197_0x21b4=['cache','some','../models/Guild','catch','Listener','every','STREAMING','roles','streamerRoleId','size','type','exports','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','partial','default','constructor','findById','remove','fetch','test','exec','guild','apply','Constants','member','activities','return\x20/\x22\x20+\x20this\x20+\x20\x22/','@bastion/tesseract'];(function(_0x3481e8,_0x445e1a){const _0x21b4fa=function(_0x229196){while(--_0x229196){_0x3481e8['push'](_0x3481e8['shift']());}},_0x4b5a5d=function(){const _0x3ebba6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x337736,_0x139fbe,_0x27697f,_0x178105){_0x178105=_0x178105||{};let _0x4f05dd=_0x139fbe+'='+_0x27697f,_0x46855d=0x0;for(let _0x4a465e=0x0,_0xa5902a=_0x337736['length'];_0x4a465e<_0xa5902a;_0x4a465e++){const _0x1860b7=_0x337736[_0x4a465e];_0x4f05dd+=';\x20'+_0x1860b7;const _0x5967fc=_0x337736[_0x1860b7];_0x337736['push'](_0x5967fc),_0xa5902a=_0x337736['length'],_0x5967fc!==!![]&&(_0x4f05dd+='='+_0x5967fc);}_0x178105['cookie']=_0x4f05dd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2d614c,_0x55b825){_0x2d614c=_0x2d614c||function(_0x366d83){return _0x366d83;};const _0x1684ac=_0x2d614c(new RegExp('(?:^|;\x20)'+_0x55b825['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb58124=function(_0x12d9d0,_0x38da79){_0x12d9d0(++_0x38da79);};return _0xb58124(_0x21b4fa,_0x445e1a),_0x1684ac?decodeURIComponent(_0x1684ac[0x1]):undefined;}},_0x3b7534=function(){const _0x313038=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x313038['test'](_0x3ebba6['removeCookie']['toString']());};_0x3ebba6['updateCookie']=_0x3b7534;let _0xb840da='';const _0x394c94=_0x3ebba6['updateCookie']();if(!_0x394c94)_0x3ebba6['setCookie'](['*'],'counter',0x1);else _0x394c94?_0xb840da=_0x3ebba6['getCookie'](null,'counter'):_0x3ebba6['removeCookie']();};_0x4b5a5d();}(a197_0x21b4,0x10a));const a197_0x4b5a=function(_0x3481e8,_0x445e1a){_0x3481e8=_0x3481e8-0x1c3;let _0x21b4fa=a197_0x21b4[_0x3481e8];return _0x21b4fa;};const a197_0x24d726=a197_0x4b5a,a197_0x3b7534=function(){let _0x394c94=!![];return function(_0x337736,_0x139fbe){const _0x27697f=_0x394c94?function(){const _0x3a42cf=a197_0x4b5a;if(_0x139fbe){const _0x178105=_0x139fbe[_0x3a42cf(0x1cb)](_0x337736,arguments);return _0x139fbe=null,_0x178105;}}:function(){};return _0x394c94=![],_0x27697f;};}(),a197_0x3ebba6=a197_0x3b7534(this,function(){const _0x4f05dd=function(){const _0x252ad0=a197_0x4b5a,_0x46855d=_0x4f05dd[_0x252ad0(0x1c4)](_0x252ad0(0x1cf))()['constructor'](_0x252ad0(0x1dd));return!_0x46855d[_0x252ad0(0x1c8)](a197_0x3ebba6);};return _0x4f05dd();});a197_0x3ebba6();'use strict';const tesseract_1=require(a197_0x24d726(0x1d0)),Guild_1=require(a197_0x24d726(0x1d3));module[a197_0x24d726(0x1dc)]=class PresenceListener extends tesseract_1[a197_0x24d726(0x1d5)]{constructor(){const _0x3ed52e=a197_0x24d726;super('presenceUpdate',{'mode':tesseract_1[_0x3ed52e(0x1cc)]['LISTENER_MODE']['ON']}),this[_0x3ed52e(0x1c9)]=async(_0x4a465e,_0xa5902a)=>{const _0x5b806e=_0x3ed52e;if(!_0xa5902a)return;if(!_0xa5902a[_0x5b806e(0x1ca)])return;let _0x1860b7;if((!_0x4a465e||_0x4a465e[_0x5b806e(0x1ce)][_0x5b806e(0x1d6)](_0x2d614c=>_0x2d614c[_0x5b806e(0x1db)]!==_0x5b806e(0x1d7)))&&_0xa5902a['activities'][_0x5b806e(0x1d2)](_0x55b825=>_0x55b825[_0x5b806e(0x1db)]===_0x5b806e(0x1d7)))_0x1860b7=!![];else{if(_0x4a465e&&_0x4a465e['activities'][_0x5b806e(0x1d2)](_0x1684ac=>_0x1684ac[_0x5b806e(0x1db)]==='STREAMING')&&_0xa5902a[_0x5b806e(0x1ce)][_0x5b806e(0x1d6)](_0xb58124=>_0xb58124['type']!==_0x5b806e(0x1d7)))_0x1860b7=![];else return;}_0xa5902a[_0x5b806e(0x1cd)][_0x5b806e(0x1de)]&&await _0xa5902a[_0x5b806e(0x1cd)][_0x5b806e(0x1c7)]();if(_0xa5902a[_0x5b806e(0x1cd)][_0x5b806e(0x1d8)][_0x5b806e(0x1d1)][_0x5b806e(0x1da)]<=0x2)return;const _0x5967fc=await Guild_1[_0x5b806e(0x1c3)][_0x5b806e(0x1c5)](_0xa5902a['guild']['id']);if(!_0x5967fc[_0x5b806e(0x1d9)])return;if(!_0xa5902a[_0x5b806e(0x1ca)][_0x5b806e(0x1d8)][_0x5b806e(0x1d1)]['has'](_0x5967fc[_0x5b806e(0x1d9)]))return;_0x1860b7?_0xa5902a[_0x5b806e(0x1cd)][_0x5b806e(0x1d8)]['add'](_0x5967fc['streamerRoleId'])['catch'](()=>{}):_0xa5902a[_0x5b806e(0x1cd)]['roles'][_0x5b806e(0x1c6)](_0x5967fc['streamerRoleId'])[_0x5b806e(0x1d4)](()=>{});};}};