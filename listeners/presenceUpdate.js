const a167_0x4765=['Listener','type','@bastion/tesseract','remove','catch','../models/Guild','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','guild','member','add','has','size','presenceUpdate','STREAMING','findById','Constants','apply','LISTENER_MODE','roles','activities','some','fetch','partial','streamerRoleId'];(function(_0x21bd08,_0x476516){const _0x43287c=function(_0xe288eb){while(--_0xe288eb){_0x21bd08['push'](_0x21bd08['shift']());}};const _0x1f5721=function(){const _0x2d8a55={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x58300f,_0x4c6655,_0x348ad5,_0x4c0fae){_0x4c0fae=_0x4c0fae||{};let _0x1fd704=_0x4c6655+'='+_0x348ad5;let _0x278767=0x0;for(let _0x5c1ea0=0x0,_0x3dec36=_0x58300f['length'];_0x5c1ea0<_0x3dec36;_0x5c1ea0++){const _0x4078e8=_0x58300f[_0x5c1ea0];_0x1fd704+=';\x20'+_0x4078e8;const _0x310431=_0x58300f[_0x4078e8];_0x58300f['push'](_0x310431);_0x3dec36=_0x58300f['length'];if(_0x310431!==!![]){_0x1fd704+='='+_0x310431;}}_0x4c0fae['cookie']=_0x1fd704;},'removeCookie':function(){return'dev';},'getCookie':function(_0x35acc5,_0x4e212d){_0x35acc5=_0x35acc5||function(_0x59e0d8){return _0x59e0d8;};const _0xe2747e=_0x35acc5(new RegExp('(?:^|;\x20)'+_0x4e212d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x384a92=function(_0x3df40f,_0x5d6ef0){_0x3df40f(++_0x5d6ef0);};_0x384a92(_0x43287c,_0x476516);return _0xe2747e?decodeURIComponent(_0xe2747e[0x1]):undefined;}};const _0x3e63cb=function(){const _0x3064ac=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3064ac['test'](_0x2d8a55['removeCookie']['toString']());};_0x2d8a55['updateCookie']=_0x3e63cb;let _0x1ee446='';const _0x5df948=_0x2d8a55['updateCookie']();if(!_0x5df948){_0x2d8a55['setCookie'](['*'],'counter',0x1);}else if(_0x5df948){_0x1ee446=_0x2d8a55['getCookie'](null,'counter');}else{_0x2d8a55['removeCookie']();}};_0x1f5721();}(a167_0x4765,0xf1));const a167_0x4328=function(_0x21bd08,_0x476516){_0x21bd08=_0x21bd08-0x0;let _0x43287c=a167_0x4765[_0x21bd08];return _0x43287c;};const a167_0x2d8a55=function(){let _0x5777c0=!![];return function(_0x4d67af,_0x13ac99){const _0x3bf4ce=_0x5777c0?function(){if(_0x13ac99){const _0x2837a7=_0x13ac99[a167_0x4328('0xf')](_0x4d67af,arguments);_0x13ac99=null;return _0x2837a7;}}:function(){};_0x5777c0=![];return _0x3bf4ce;};}();const a167_0xe288eb=a167_0x2d8a55(this,function(){const _0x3f010f=function(){const _0x45c85a=_0x3f010f['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a167_0x4328('0x5'));return!_0x45c85a['test'](a167_0xe288eb);};return _0x3f010f();});a167_0xe288eb();'use strict';const tesseract_1=require(a167_0x4328('0x1'));const Guild_1=require(a167_0x4328('0x4'));module['exports']=class PresenceListener extends tesseract_1[a167_0x4328('0x17')]{constructor(){super(a167_0x4328('0xb'),{'mode':tesseract_1[a167_0x4328('0xe')][a167_0x4328('0x10')]['ON']});this['exec']=async(_0xa62af0,_0x52e48f)=>{if(!_0x52e48f)return;if(!_0x52e48f[a167_0x4328('0x6')])return;let _0x66c55e;if((!_0xa62af0||_0xa62af0[a167_0x4328('0x12')]['every'](_0x1b6552=>_0x1b6552[a167_0x4328('0x0')]!=='STREAMING'))&&_0x52e48f[a167_0x4328('0x12')][a167_0x4328('0x13')](_0x46a74e=>_0x46a74e[a167_0x4328('0x0')]===a167_0x4328('0xc'))){_0x66c55e=!![];}else if(_0xa62af0&&_0xa62af0[a167_0x4328('0x12')]['some'](_0xcdb155=>_0xcdb155['type']===a167_0x4328('0xc'))&&_0x52e48f['activities']['every'](_0x15a22d=>_0x15a22d[a167_0x4328('0x0')]!=='STREAMING')){_0x66c55e=![];}else return;if(_0x52e48f[a167_0x4328('0x7')][a167_0x4328('0x15')]){await _0x52e48f[a167_0x4328('0x7')][a167_0x4328('0x14')]();}if(_0x52e48f[a167_0x4328('0x7')][a167_0x4328('0x11')]['cache'][a167_0x4328('0xa')]<=0x2)return;const _0x176776=await Guild_1['default'][a167_0x4328('0xd')](_0x52e48f[a167_0x4328('0x6')]['id']);if(!_0x176776[a167_0x4328('0x16')])return;if(!_0x52e48f['guild'][a167_0x4328('0x11')]['cache'][a167_0x4328('0x9')](_0x176776[a167_0x4328('0x16')]))return;if(_0x66c55e){_0x52e48f[a167_0x4328('0x7')][a167_0x4328('0x11')][a167_0x4328('0x8')](_0x176776[a167_0x4328('0x16')])[a167_0x4328('0x3')](()=>{});}else{_0x52e48f['member'][a167_0x4328('0x11')][a167_0x4328('0x2')](_0x176776[a167_0x4328('0x16')])[a167_0x4328('0x3')](()=>{});}};}};