const a180_0x41dc=['type','test','fetch','findById','guild','every','Constants','roles','remove','LISTENER_MODE','member','partial','catch','cache','streamerRoleId','activities','constructor','default','some','size','STREAMING','has','add'];(function(_0x2f2f78,_0x41dc5e){const _0x34f348=function(_0x463411){while(--_0x463411){_0x2f2f78['push'](_0x2f2f78['shift']());}},_0x2314d5=function(){const _0x5acb2c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4ef7e1,_0x4d3781,_0x33d42c,_0x56bfd2){_0x56bfd2=_0x56bfd2||{};let _0x1bf2a5=_0x4d3781+'='+_0x33d42c,_0x463977=0x0;for(let _0x4b78e6=0x0,_0x2bde98=_0x4ef7e1['length'];_0x4b78e6<_0x2bde98;_0x4b78e6++){const _0x1a428c=_0x4ef7e1[_0x4b78e6];_0x1bf2a5+=';\x20'+_0x1a428c;const _0xcaa5e3=_0x4ef7e1[_0x1a428c];_0x4ef7e1['push'](_0xcaa5e3),_0x2bde98=_0x4ef7e1['length'],_0xcaa5e3!==!![]&&(_0x1bf2a5+='='+_0xcaa5e3);}_0x56bfd2['cookie']=_0x1bf2a5;},'removeCookie':function(){return'dev';},'getCookie':function(_0xe4aa4c,_0x41d7de){_0xe4aa4c=_0xe4aa4c||function(_0x133c94){return _0x133c94;};const _0x575e42=_0xe4aa4c(new RegExp('(?:^|;\x20)'+_0x41d7de['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5c9c80=function(_0x50f507,_0x59437a){_0x50f507(++_0x59437a);};return _0x5c9c80(_0x34f348,_0x41dc5e),_0x575e42?decodeURIComponent(_0x575e42[0x1]):undefined;}},_0x38c757=function(){const _0x3ea5f1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3ea5f1['test'](_0x5acb2c['removeCookie']['toString']());};_0x5acb2c['updateCookie']=_0x38c757;let _0x10f285='';const _0x179c09=_0x5acb2c['updateCookie']();if(!_0x179c09)_0x5acb2c['setCookie'](['*'],'counter',0x1);else _0x179c09?_0x10f285=_0x5acb2c['getCookie'](null,'counter'):_0x5acb2c['removeCookie']();};_0x2314d5();}(a180_0x41dc,0x14a));const a180_0x34f3=function(_0x2f2f78,_0x41dc5e){_0x2f2f78=_0x2f2f78-0x0;let _0x34f348=a180_0x41dc[_0x2f2f78];return _0x34f348;};const a180_0x5acb2c=function(){let _0x10f285=!![];return function(_0x179c09,_0x4ef7e1){const _0x4d3781=_0x10f285?function(){if(_0x4ef7e1){const _0x33d42c=_0x4ef7e1['apply'](_0x179c09,arguments);return _0x4ef7e1=null,_0x33d42c;}}:function(){};return _0x10f285=![],_0x4d3781;};}(),a180_0x463411=a180_0x5acb2c(this,function(){const _0x56bfd2=function(){const _0x56cb63=a180_0x34f3,_0x1bf2a5=_0x56bfd2[_0x56cb63('0x8')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x56cb63('0x8')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1bf2a5[_0x56cb63('0x10')](a180_0x463411);};return _0x56bfd2();});a180_0x463411();'use strict';const tesseract_1=require('@bastion/tesseract'),Guild_1=require('../models/Guild');module['exports']=class PresenceListener extends tesseract_1['Listener']{constructor(){const _0x71bbc7=a180_0x34f3;super('presenceUpdate',{'mode':tesseract_1[_0x71bbc7('0x15')][_0x71bbc7('0x1')]['ON']}),this['exec']=async(_0x463977,_0x4b78e6)=>{const _0x7f4f9e=_0x71bbc7;if(!_0x4b78e6)return;if(!_0x4b78e6[_0x7f4f9e('0x13')])return;let _0x2bde98;if((!_0x463977||_0x463977[_0x7f4f9e('0x7')][_0x7f4f9e('0x14')](_0xcaa5e3=>_0xcaa5e3[_0x7f4f9e('0xf')]!==_0x7f4f9e('0xc')))&&_0x4b78e6[_0x7f4f9e('0x7')]['some'](_0xe4aa4c=>_0xe4aa4c[_0x7f4f9e('0xf')]===_0x7f4f9e('0xc')))_0x2bde98=!![];else{if(_0x463977&&_0x463977['activities'][_0x7f4f9e('0xa')](_0x41d7de=>_0x41d7de[_0x7f4f9e('0xf')]===_0x7f4f9e('0xc'))&&_0x4b78e6[_0x7f4f9e('0x7')]['every'](_0x575e42=>_0x575e42[_0x7f4f9e('0xf')]!==_0x7f4f9e('0xc')))_0x2bde98=![];else return;}_0x4b78e6[_0x7f4f9e('0x2')][_0x7f4f9e('0x3')]&&await _0x4b78e6[_0x7f4f9e('0x2')][_0x7f4f9e('0x11')]();if(_0x4b78e6[_0x7f4f9e('0x2')][_0x7f4f9e('0x16')][_0x7f4f9e('0x5')][_0x7f4f9e('0xb')]<=0x2)return;const _0x1a428c=await Guild_1[_0x7f4f9e('0x9')][_0x7f4f9e('0x12')](_0x4b78e6[_0x7f4f9e('0x13')]['id']);if(!_0x1a428c[_0x7f4f9e('0x6')])return;if(!_0x4b78e6[_0x7f4f9e('0x13')]['roles'][_0x7f4f9e('0x5')][_0x7f4f9e('0xd')](_0x1a428c[_0x7f4f9e('0x6')]))return;_0x2bde98?_0x4b78e6['member']['roles'][_0x7f4f9e('0xe')](_0x1a428c[_0x7f4f9e('0x6')])[_0x7f4f9e('0x4')](()=>{}):_0x4b78e6['member']['roles'][_0x7f4f9e('0x0')](_0x1a428c[_0x7f4f9e('0x6')])[_0x7f4f9e('0x4')](()=>{});};}};