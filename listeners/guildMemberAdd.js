const a159_0x177a=['map','message','LISTENER_MODE','find','send','constructor','timeout','then','exports','Member','guildMemberAdd','cache','user','random','add','Human','bot','partial','Auto\x20added\x20via\x20Auto\x20Roles','length','Constants','exec','../models/Role','replaceMemberVariables','greeting','guild','Bot','forUsers','generateEmbed','../utils/variables','autoAssignable','channelId','Greetings!','channels','tag','concat','stringify','Member\x20ID','forBots','_id','fetch','Listener','handleGreetings','catch','parse','Joined\x20Discord','getDocument','Member\x20Type','filter','createdAt','handleAutoRoles'];(function(_0x55e3a1,_0x177a4d){const _0x349e49=function(_0x44cab6){while(--_0x44cab6){_0x55e3a1['push'](_0x55e3a1['shift']());}},_0x18179a=function(){const _0x16a2f1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1fc14a,_0x135f05,_0x47fc3d,_0x53bde7){_0x53bde7=_0x53bde7||{};let _0x5a8a63=_0x135f05+'='+_0x47fc3d,_0x206049=0x0;for(let _0x5d6312=0x0,_0x4567df=_0x1fc14a['length'];_0x5d6312<_0x4567df;_0x5d6312++){const _0x51008e=_0x1fc14a[_0x5d6312];_0x5a8a63+=';\x20'+_0x51008e;const _0x5724ea=_0x1fc14a[_0x51008e];_0x1fc14a['push'](_0x5724ea),_0x4567df=_0x1fc14a['length'],_0x5724ea!==!![]&&(_0x5a8a63+='='+_0x5724ea);}_0x53bde7['cookie']=_0x5a8a63;},'removeCookie':function(){return'dev';},'getCookie':function(_0x588fc4,_0x1d9f2c){_0x588fc4=_0x588fc4||function(_0x546c89){return _0x546c89;};const _0x59293f=_0x588fc4(new RegExp('(?:^|;\x20)'+_0x1d9f2c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb5592c=function(_0x365944,_0x1161f7){_0x365944(++_0x1161f7);};return _0xb5592c(_0x349e49,_0x177a4d),_0x59293f?decodeURIComponent(_0x59293f[0x1]):undefined;}},_0x4d7ffd=function(){const _0x27e8d2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x27e8d2['test'](_0x16a2f1['removeCookie']['toString']());};_0x16a2f1['updateCookie']=_0x4d7ffd;let _0x1bbda2='';const _0x17c703=_0x16a2f1['updateCookie']();if(!_0x17c703)_0x16a2f1['setCookie'](['*'],'counter',0x1);else _0x17c703?_0x1bbda2=_0x16a2f1['getCookie'](null,'counter'):_0x16a2f1['removeCookie']();};_0x18179a();}(a159_0x177a,0x1cd));const a159_0x349e=function(_0x55e3a1,_0x177a4d){_0x55e3a1=_0x55e3a1-0x0;let _0x349e49=a159_0x177a[_0x55e3a1];return _0x349e49;};const a159_0x47fc3d=function(){let _0x2fd1cf=!![];return function(_0x4f15fe,_0x758d37){const _0x1a6006=_0x2fd1cf?function(){if(_0x758d37){const _0x39928f=_0x758d37['apply'](_0x4f15fe,arguments);return _0x758d37=null,_0x39928f;}}:function(){};return _0x2fd1cf=![],_0x1a6006;};}(),a159_0x135f05=a159_0x47fc3d(this,function(){const _0x3555f8=function(){const _0x1f4fa8=_0x3555f8[a159_0x349e('0x3')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a159_0x349e('0x3')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1f4fa8['test'](a159_0x135f05);};return _0x3555f8();});a159_0x135f05();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a159_0x349e('0x14')),embeds=require('../utils/embeds'),variables=require(a159_0x349e('0x1b')),greetings=require('../assets/greetings.json');module[a159_0x349e('0x6')]=class GuildMemberAddListener extends tesseract_1[a159_0x349e('0x27')]{constructor(){super(a159_0x349e('0x8'),{'mode':tesseract_1[a159_0x349e('0x12')][a159_0x349e('0x0')]['ON']}),this['handleAutoRoles']=async(_0x277d4f,_0x2b2fd)=>{const _0x1c10b4=await Role_1['default'][a159_0x349e('0x1')]({'guild':_0x2b2fd['id'],'autoAssignable':{'$exists':!![]}}),_0x445438=_0x1c10b4[a159_0x349e('0x2e')](_0x133ec2=>_0x133ec2[a159_0x349e('0x1c')]&&_0x133ec2[a159_0x349e('0x1c')][a159_0x349e('0x24')])['map'](_0x4e1730=>_0x4e1730['_id']),_0x3ce1af=_0x1c10b4[a159_0x349e('0x2e')](_0x459237=>_0x459237[a159_0x349e('0x1c')]&&_0x459237[a159_0x349e('0x1c')][a159_0x349e('0x19')])['map'](_0x2b3270=>_0x2b3270['_id']),_0x514294=_0x1c10b4[a159_0x349e('0x2e')](_0x3835fc=>_0x3835fc[a159_0x349e('0x1c')]&&(Number(_0x3835fc[a159_0x349e('0x1c')][a159_0x349e('0x24')])^Number(_0x3835fc['autoAssignable'][a159_0x349e('0x19')]))===0x0)[a159_0x349e('0x31')](_0x3e9625=>_0x3e9625[a159_0x349e('0x25')]);(_0x445438[a159_0x349e('0x11')]||_0x3ce1af[a159_0x349e('0x11')]||_0x514294['length'])&&_0x277d4f['roles'][a159_0x349e('0xc')](_0x514294[a159_0x349e('0x21')](_0x277d4f['user'][a159_0x349e('0xe')]?_0x445438:_0x3ce1af),a159_0x349e('0x10'));},this[a159_0x349e('0x28')]=(_0x27e0c3,_0x180db0)=>{if(!_0x180db0['greeting']||!_0x180db0[a159_0x349e('0x16')][a159_0x349e('0x1d')])return;if(!_0x27e0c3[a159_0x349e('0x17')][a159_0x349e('0x1f')]['cache']['has'](_0x180db0[a159_0x349e('0x16')][a159_0x349e('0x1d')]))return;const _0x4b0040=_0x27e0c3['guild'][a159_0x349e('0x1f')][a159_0x349e('0x9')]['get'](_0x180db0['greeting'][a159_0x349e('0x1d')]),_0x25613f=embeds[a159_0x349e('0x1a')](_0x180db0[a159_0x349e('0x16')][a159_0x349e('0x32')]?_0x180db0[a159_0x349e('0x16')]['message']:greetings[Math['floor'](Math[a159_0x349e('0xb')]()*greetings[a159_0x349e('0x11')])]);_0x4b0040[a159_0x349e('0x2')]({'embed':{...JSON[a159_0x349e('0x2a')](variables[a159_0x349e('0x15')](JSON[a159_0x349e('0x22')](_0x25613f),_0x27e0c3)),'footer':{'text':a159_0x349e('0x1e')}}})[a159_0x349e('0x5')](_0x106ec6=>{_0x180db0['greeting'][a159_0x349e('0x4')]&&_0x106ec6['deletable']&&_0x106ec6['delete']({'timeout':_0x180db0[a159_0x349e('0x16')][a159_0x349e('0x4')]*0xea60})[a159_0x349e('0x29')](()=>{});})[a159_0x349e('0x29')](()=>{});},this[a159_0x349e('0x13')]=async _0x417cf2=>{_0x417cf2[a159_0x349e('0xf')]&&await _0x417cf2[a159_0x349e('0x26')]();const _0x2c8fe8=_0x417cf2['guild'],_0x403a71=await _0x2c8fe8[a159_0x349e('0x2c')]();this[a159_0x349e('0x28')](_0x417cf2,_0x403a71),this[a159_0x349e('0x30')](_0x417cf2,_0x2c8fe8),_0x2c8fe8['createLog']({'event':a159_0x349e('0x8'),'fields':[{'name':a159_0x349e('0x7'),'value':_0x417cf2[a159_0x349e('0xa')][a159_0x349e('0x20')],'inline':!![]},{'name':a159_0x349e('0x23'),'value':_0x417cf2['id'],'inline':!![]},{'name':a159_0x349e('0x2d'),'value':_0x417cf2['user']['bot']?a159_0x349e('0x18'):a159_0x349e('0xd'),'inline':!![]},{'name':a159_0x349e('0x2b'),'value':_0x417cf2[a159_0x349e('0xa')][a159_0x349e('0x2f')]['toUTCString'](),'inline':!![]}],'timestamp':_0x417cf2['joinedTimestamp']});};}};