const a185_0x377a=['Member\x20Type','partial','get','exports','createLog','Logger','channels','invites','replaceMemberVariables','client','Member\x20ID','has','handleGreetings','fetchInvites','name','handleInviteRoles','../models/Role','cache','constructor','concat','toUTCString','floor','guildMemberAdd','bot','map','../utils/variables','greeting','LISTENER_MODE','autoAssignable','generateEmbed','isPublicBastion','error','handleAutoRoles','../assets/greetings.json','Human','then','find','add','privateMessage','code','../utils/constants','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Listener','Auto\x20added\x20via\x20Auto\x20Roles','stringify','message','joinedTimestamp','getDocument','.\x20Welcome\x20to\x20our\x20server!','channelId','guild','delete','random','_id','forBots','fetch','roles','filter','createDM','default','catch','uses','createdAt','apply','Constants','send','forUsers','user','length','parse'];(function(_0x1f7a4b,_0x7e2e6){const _0x377a5b=function(_0x29711a){while(--_0x29711a){_0x1f7a4b['push'](_0x1f7a4b['shift']());}},_0x171f77=function(){const _0x5c9163={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3387e1,_0x5e1029,_0x47fdaa,_0x2d3043){_0x2d3043=_0x2d3043||{};let _0x144700=_0x5e1029+'='+_0x47fdaa,_0x328c94=0x0;for(let _0x51b0e=0x0,_0x24d456=_0x3387e1['length'];_0x51b0e<_0x24d456;_0x51b0e++){const _0x313f3a=_0x3387e1[_0x51b0e];_0x144700+=';\x20'+_0x313f3a;const _0x4f6aea=_0x3387e1[_0x313f3a];_0x3387e1['push'](_0x4f6aea),_0x24d456=_0x3387e1['length'],_0x4f6aea!==!![]&&(_0x144700+='='+_0x4f6aea);}_0x2d3043['cookie']=_0x144700;},'removeCookie':function(){return'dev';},'getCookie':function(_0x34baf5,_0x17a0dc){_0x34baf5=_0x34baf5||function(_0x5b4775){return _0x5b4775;};const _0x3fb108=_0x34baf5(new RegExp('(?:^|;\x20)'+_0x17a0dc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5ed0a9=function(_0x4892c6,_0x4b1854){_0x4892c6(++_0x4b1854);};return _0x5ed0a9(_0x377a5b,_0x7e2e6),_0x3fb108?decodeURIComponent(_0x3fb108[0x1]):undefined;}},_0x300ec6=function(){const _0x1e8630=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e8630['test'](_0x5c9163['removeCookie']['toString']());};_0x5c9163['updateCookie']=_0x300ec6;let _0x38e382='';const _0x4a1477=_0x5c9163['updateCookie']();if(!_0x4a1477)_0x5c9163['setCookie'](['*'],'counter',0x1);else _0x4a1477?_0x38e382=_0x5c9163['getCookie'](null,'counter'):_0x5c9163['removeCookie']();};_0x171f77();}(a185_0x377a,0x1ae));const a185_0x171f=function(_0x1f7a4b,_0x7e2e6){_0x1f7a4b=_0x1f7a4b-0x1a6;let _0x377a5b=a185_0x377a[_0x1f7a4b];return _0x377a5b;};const a185_0x19737f=a185_0x171f,a185_0x300ec6=function(){let _0x4a1477=!![];return function(_0x3387e1,_0x5e1029){const _0x47fdaa=_0x4a1477?function(){const _0x443dca=a185_0x171f;if(_0x5e1029){const _0x2d3043=_0x5e1029[_0x443dca(0x1db)](_0x3387e1,arguments);return _0x5e1029=null,_0x2d3043;}}:function(){};return _0x4a1477=![],_0x47fdaa;};}(),a185_0x5c9163=a185_0x300ec6(this,function(){const _0x144700=function(){const _0x40719e=a185_0x171f,_0x328c94=_0x144700[_0x40719e(0x1ae)](_0x40719e(0x1c5))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x328c94['test'](a185_0x5c9163);};return _0x144700();});a185_0x5c9163();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a185_0x19737f(0x1ac)),constants=require(a185_0x19737f(0x1c4)),embeds=require('../utils/embeds'),variables=require(a185_0x19737f(0x1b5)),greetings=require(a185_0x19737f(0x1bd));module[a185_0x19737f(0x1e5)]=class GuildMemberAddListener extends tesseract_1[a185_0x19737f(0x1c6)]{constructor(){const _0x3fc0c5=a185_0x19737f;super('guildMemberAdd',{'mode':tesseract_1[_0x3fc0c5(0x1dc)][_0x3fc0c5(0x1b7)]['ON']}),this['handleAutoRoles']=async(_0x51b0e,_0x24d456)=>{const _0x3455a4=_0x3fc0c5,_0x313f3a=await Role_1[_0x3455a4(0x1d7)]['find']({'guild':_0x24d456['id'],'autoAssignable':{'$exists':!![],'$ne':null}}),_0x4f6aea=_0x313f3a[_0x3455a4(0x1d5)](_0x3fb108=>_0x3fb108[_0x3455a4(0x1b8)]&&_0x3fb108[_0x3455a4(0x1b8)]['forBots'])[_0x3455a4(0x1b4)](_0x5ed0a9=>_0x5ed0a9[_0x3455a4(0x1d1)]),_0x34baf5=_0x313f3a[_0x3455a4(0x1d5)](_0x5b4775=>_0x5b4775[_0x3455a4(0x1b8)]&&_0x5b4775['autoAssignable']['forUsers'])[_0x3455a4(0x1b4)](_0x4892c6=>_0x4892c6[_0x3455a4(0x1d1)]),_0x17a0dc=_0x313f3a[_0x3455a4(0x1d5)](_0x4b1854=>_0x4b1854[_0x3455a4(0x1b8)]&&(Number(_0x4b1854[_0x3455a4(0x1b8)][_0x3455a4(0x1d2)])^Number(_0x4b1854[_0x3455a4(0x1b8)][_0x3455a4(0x1de)]))===0x0)[_0x3455a4(0x1b4)](_0x1e8630=>_0x1e8630[_0x3455a4(0x1d1)]);(_0x4f6aea[_0x3455a4(0x1e0)]||_0x34baf5[_0x3455a4(0x1e0)]||_0x17a0dc[_0x3455a4(0x1e0)])&&_0x51b0e[_0x3455a4(0x1d4)]['add'](_0x17a0dc[_0x3455a4(0x1af)](_0x51b0e[_0x3455a4(0x1df)]['bot']?_0x4f6aea:_0x34baf5),_0x3455a4(0x1c7));},this['handleGreetings']=(_0x485088,_0x37781d)=>{const _0x2b25ae=_0x3fc0c5;if(!_0x37781d[_0x2b25ae(0x1b6)])return;_0x37781d[_0x2b25ae(0x1b6)][_0x2b25ae(0x1c2)]&&_0x485088[_0x2b25ae(0x1d6)]()[_0x2b25ae(0x1bf)](_0x5ab9b2=>{const _0x58f4c1=_0x2b25ae;_0x5ab9b2[_0x58f4c1(0x1dd)]({'embed':{...JSON[_0x58f4c1(0x1e1)](variables[_0x58f4c1(0x1ea)](JSON[_0x58f4c1(0x1c8)](_0x30488f),_0x485088)),'footer':{'text':'Greetings\x20from\x20'+_0x485088['guild'][_0x58f4c1(0x1aa)]+_0x58f4c1(0x1cc)}}})[_0x58f4c1(0x1d8)](()=>{});})['catch'](()=>{});if(!_0x37781d['greeting']['channelId'])return;if(!_0x485088[_0x2b25ae(0x1ce)][_0x2b25ae(0x1e8)][_0x2b25ae(0x1ad)][_0x2b25ae(0x1a7)](_0x37781d['greeting'][_0x2b25ae(0x1cd)]))return;const _0x1c4337=_0x485088[_0x2b25ae(0x1ce)][_0x2b25ae(0x1e8)]['cache'][_0x2b25ae(0x1e4)](_0x37781d[_0x2b25ae(0x1b6)]['channelId']),_0x30488f=embeds[_0x2b25ae(0x1b9)](_0x37781d[_0x2b25ae(0x1b6)][_0x2b25ae(0x1c9)]?_0x37781d[_0x2b25ae(0x1b6)][_0x2b25ae(0x1c9)]:greetings[Math[_0x2b25ae(0x1b1)](Math[_0x2b25ae(0x1d0)]()*greetings[_0x2b25ae(0x1e0)])]);_0x1c4337[_0x2b25ae(0x1dd)]({'embed':{...JSON[_0x2b25ae(0x1e1)](variables[_0x2b25ae(0x1ea)](JSON[_0x2b25ae(0x1c8)](_0x30488f),_0x485088)),'footer':{'text':'Greetings!'}}})['then'](_0x54b13a=>{const _0x5485aa=_0x2b25ae;_0x37781d['greeting']['timeout']&&_0x54b13a['deletable']&&_0x54b13a[_0x5485aa(0x1cf)]({'timeout':_0x37781d['greeting']['timeout']*0xea60})[_0x5485aa(0x1d8)](()=>{});})[_0x2b25ae(0x1d8)](()=>{});},this[_0x3fc0c5(0x1ab)]=async _0x4423fd=>{const _0x4f3177=_0x3fc0c5;if(constants[_0x4f3177(0x1ba)](_0x4423fd[_0x4f3177(0x1eb)][_0x4f3177(0x1df)]))return;const _0x5a104b=await _0x4423fd['guild'][_0x4f3177(0x1a9)](),_0x1fea66=_0x5a104b[_0x4f3177(0x1c0)](_0x2a0fdc=>_0x2a0fdc[_0x4f3177(0x1d9)]>_0x4423fd['guild'][_0x4f3177(0x1e9)][_0x2a0fdc['code']]);for(const _0x5254d8 of _0x5a104b['values']()){_0x4423fd[_0x4f3177(0x1ce)][_0x4f3177(0x1e9)][_0x5254d8[_0x4f3177(0x1c3)]]=_0x5254d8[_0x4f3177(0x1d9)]||0x0;}const _0x5e5ff5=await Role_1['default'][_0x4f3177(0x1c0)]({'guild':_0x4423fd[_0x4f3177(0x1ce)]['id'],'invite':_0x1fea66['code']});_0x5e5ff5&&_0x5e5ff5[_0x4f3177(0x1e0)]&&await _0x4423fd[_0x4f3177(0x1d4)][_0x4f3177(0x1c1)](_0x5e5ff5[_0x4f3177(0x1b4)](_0x139d0a=>_0x139d0a['_id']),'Joined\x20using\x20the\x20invite\x20'+_0x1fea66[_0x4f3177(0x1c3)]);},this['exec']=async _0x2f43a0=>{const _0x23bc82=_0x3fc0c5;_0x2f43a0[_0x23bc82(0x1e3)]&&await _0x2f43a0[_0x23bc82(0x1d3)]();const _0x1606b7=_0x2f43a0[_0x23bc82(0x1ce)],_0x55e9a1=await _0x1606b7[_0x23bc82(0x1cb)]();this[_0x23bc82(0x1a8)](_0x2f43a0,_0x55e9a1),this[_0x23bc82(0x1bc)](_0x2f43a0,_0x1606b7),this[_0x23bc82(0x1ab)](_0x2f43a0)['catch'](tesseract_1[_0x23bc82(0x1e7)][_0x23bc82(0x1bb)]),_0x1606b7[_0x23bc82(0x1e6)]({'event':_0x23bc82(0x1b2),'fields':[{'name':'Member','value':_0x2f43a0[_0x23bc82(0x1df)]['tag'],'inline':!![]},{'name':_0x23bc82(0x1a6),'value':_0x2f43a0['id'],'inline':!![]},{'name':_0x23bc82(0x1e2),'value':_0x2f43a0['user'][_0x23bc82(0x1b3)]?'Bot':_0x23bc82(0x1be),'inline':!![]},{'name':'Joined\x20Discord','value':_0x2f43a0['user'][_0x23bc82(0x1da)][_0x23bc82(0x1b0)](),'inline':!![]}],'timestamp':_0x2f43a0[_0x23bc82(0x1ca)]});};}};