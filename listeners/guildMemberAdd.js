const a595_0x5309=['delete','createdAt','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Joined\x20Discord','forUsers','timeout','apply','Member','parse','length','_id','generateEmbed','Constants','../utils/embeds','default','deletable','send','joinedTimestamp','channelId','map','floor','Auto\x20added\x20via\x20Auto\x20Roles','Greetings!','channels','Listener','message','exports','random','user','get','concat','find','compile','forBots','greeting','then','test','stringify','guild','toUTCString','return\x20/\x22\x20+\x20this\x20+\x20\x22/','exec','getDocument','autoAssignable','filter','replaceMemberVariables','handleGreetings','bot','fetch','catch','@bastion/tesseract','Bot','handleAutoRoles','guildMemberAdd','add'];(function(_0xe0268c,_0x5309f3){const _0x57e2ae=function(_0x207a39){while(--_0x207a39){_0xe0268c['push'](_0xe0268c['shift']());}};const _0x4852ec=function(){const _0x12984b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3854e0,_0x1637ea,_0x2a38d1,_0x398ffe){_0x398ffe=_0x398ffe||{};let _0x302de0=_0x1637ea+'='+_0x2a38d1;let _0x53e680=0x0;for(let _0x16e850=0x0,_0x576112=_0x3854e0['length'];_0x16e850<_0x576112;_0x16e850++){const _0x5a15ac=_0x3854e0[_0x16e850];_0x302de0+=';\x20'+_0x5a15ac;const _0x31e6bc=_0x3854e0[_0x5a15ac];_0x3854e0['push'](_0x31e6bc);_0x576112=_0x3854e0['length'];if(_0x31e6bc!==!![]){_0x302de0+='='+_0x31e6bc;}}_0x398ffe['cookie']=_0x302de0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x52a696,_0x573413){_0x52a696=_0x52a696||function(_0x174562){return _0x174562;};const _0x1922eb=_0x52a696(new RegExp('(?:^|;\x20)'+_0x573413['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x492a4c=function(_0x289497,_0x285305){_0x289497(++_0x285305);};_0x492a4c(_0x57e2ae,_0x5309f3);return _0x1922eb?decodeURIComponent(_0x1922eb[0x1]):undefined;}};const _0x49e275=function(){const _0x30159f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x30159f['test'](_0x12984b['removeCookie']['toString']());};_0x12984b['updateCookie']=_0x49e275;let _0x40cbeb='';const _0x59a94e=_0x12984b['updateCookie']();if(!_0x59a94e){_0x12984b['setCookie'](['*'],'counter',0x1);}else if(_0x59a94e){_0x40cbeb=_0x12984b['getCookie'](null,'counter');}else{_0x12984b['removeCookie']();}};_0x4852ec();}(a595_0x5309,0x9e));const a595_0x57e2=function(_0xe0268c,_0x5309f3){_0xe0268c=_0xe0268c-0x0;let _0x57e2ae=a595_0x5309[_0xe0268c];return _0x57e2ae;};const a595_0x12984b=function(){let _0x4a2f97=!![];return function(_0x22ad92,_0xf3ce12){const _0x12610c=_0x4a2f97?function(){if(_0xf3ce12){const _0x152c31=_0xf3ce12[a595_0x57e2('0xd')](_0x22ad92,arguments);_0xf3ce12=null;return _0x152c31;}}:function(){};_0x4a2f97=![];return _0x12610c;};}();const a595_0x207a39=a595_0x12984b(this,function(){const _0x444a37=function(){const _0x143595=_0x444a37['constructor'](a595_0x57e2('0x2f'))()[a595_0x57e2('0x27')](a595_0x57e2('0x9'));return!_0x143595[a595_0x57e2('0x2b')](a595_0x207a39);};return _0x444a37();});a595_0x207a39();'use strict';const tesseract_1=require(a595_0x57e2('0x2'));const Role_1=require('../models/Role');const embeds=require(a595_0x57e2('0x14'));const variables=require('../utils/variables');const greetings=require('../assets/greetings.json');module[a595_0x57e2('0x21')]=class GuildMemberAddListener extends tesseract_1[a595_0x57e2('0x1f')]{constructor(){super('guildMemberAdd',{'mode':tesseract_1[a595_0x57e2('0x13')]['LISTENER_MODE']['ON']});this[a595_0x57e2('0x4')]=async(_0x5435cb,_0x1a670f)=>{const _0x4481d8=await Role_1[a595_0x57e2('0x15')][a595_0x57e2('0x26')]({'guild':_0x1a670f['id'],'autoAssignable':{'$exists':!![]}});const _0x528ef1=_0x4481d8[a595_0x57e2('0x33')](_0x3d343a=>_0x3d343a['autoAssignable']&&_0x3d343a[a595_0x57e2('0x32')][a595_0x57e2('0x28')])[a595_0x57e2('0x1a')](_0x120f8b=>_0x120f8b[a595_0x57e2('0x11')]);const _0x3a2b4d=_0x4481d8[a595_0x57e2('0x33')](_0x3e849a=>_0x3e849a[a595_0x57e2('0x32')]&&_0x3e849a['autoAssignable'][a595_0x57e2('0xb')])['map'](_0x19551b=>_0x19551b['_id']);const _0x31a20e=_0x4481d8[a595_0x57e2('0x33')](_0x493f32=>_0x493f32[a595_0x57e2('0x32')]&&(Number(_0x493f32[a595_0x57e2('0x32')][a595_0x57e2('0x28')])^Number(_0x493f32[a595_0x57e2('0x32')]['forUsers']))===0x0)[a595_0x57e2('0x1a')](_0x386050=>_0x386050[a595_0x57e2('0x11')]);_0x5435cb['roles'][a595_0x57e2('0x6')](_0x31a20e[a595_0x57e2('0x25')](_0x5435cb[a595_0x57e2('0x23')][a595_0x57e2('0x36')]?_0x528ef1:_0x3a2b4d),a595_0x57e2('0x1c'));};this[a595_0x57e2('0x35')]=(_0x31db4a,_0x3a764a)=>{if(!_0x3a764a[a595_0x57e2('0x29')]||!_0x3a764a[a595_0x57e2('0x29')][a595_0x57e2('0x19')])return;if(!_0x31db4a[a595_0x57e2('0x2d')]['channels']['cache']['has'](_0x3a764a[a595_0x57e2('0x29')][a595_0x57e2('0x19')]))return;const _0x186910=_0x31db4a[a595_0x57e2('0x2d')][a595_0x57e2('0x1e')]['cache'][a595_0x57e2('0x24')](_0x3a764a[a595_0x57e2('0x29')][a595_0x57e2('0x19')]);const _0x29b026=embeds[a595_0x57e2('0x12')](_0x3a764a[a595_0x57e2('0x29')]['message']?_0x3a764a[a595_0x57e2('0x29')][a595_0x57e2('0x20')]:greetings[Math[a595_0x57e2('0x1b')](Math[a595_0x57e2('0x22')]()*greetings[a595_0x57e2('0x10')])]);_0x186910[a595_0x57e2('0x17')]({'embed':{...JSON[a595_0x57e2('0xf')](variables[a595_0x57e2('0x34')](JSON[a595_0x57e2('0x2c')](_0x29b026),_0x31db4a)),'footer':{'text':a595_0x57e2('0x1d')}}})[a595_0x57e2('0x2a')](_0x1b8f8a=>{if(_0x3a764a[a595_0x57e2('0x29')][a595_0x57e2('0xc')]&&_0x1b8f8a[a595_0x57e2('0x16')]){_0x1b8f8a[a595_0x57e2('0x7')]({'timeout':_0x3a764a[a595_0x57e2('0x29')][a595_0x57e2('0xc')]*0xea60})[a595_0x57e2('0x1')](()=>{});}})[a595_0x57e2('0x1')](()=>{});};this[a595_0x57e2('0x30')]=async _0x28c661=>{if(_0x28c661['partial']){await _0x28c661[a595_0x57e2('0x0')]();}const _0x1f6f8a=_0x28c661[a595_0x57e2('0x2d')];const _0x347d91=await _0x1f6f8a[a595_0x57e2('0x31')]();this[a595_0x57e2('0x35')](_0x28c661,_0x347d91);this['handleAutoRoles'](_0x28c661,_0x1f6f8a);_0x1f6f8a['createLog']({'event':a595_0x57e2('0x5'),'fields':[{'name':a595_0x57e2('0xe'),'value':_0x28c661[a595_0x57e2('0x23')]['tag'],'inline':!![]},{'name':'Member\x20ID','value':_0x28c661['id'],'inline':!![]},{'name':'Member\x20Type','value':_0x28c661[a595_0x57e2('0x23')][a595_0x57e2('0x36')]?a595_0x57e2('0x3'):'Human','inline':!![]},{'name':a595_0x57e2('0xa'),'value':_0x28c661[a595_0x57e2('0x23')][a595_0x57e2('0x8')][a595_0x57e2('0x2e')](),'inline':!![]}],'timestamp':_0x28c661[a595_0x57e2('0x18')]});};}};