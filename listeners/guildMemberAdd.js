const a167_0x26a3=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','../assets/greetings.json','handleGreetings','_id','fetchInvites','default','handleAutoRoles','add','stringify','message','Greetings!','channels','user','roles','delete','../utils/constants','error','channelId','guild','forBots','joinedTimestamp','Human','createdAt','generateEmbed','test','find','timeout','handleInviteRoles','bot','exec','replaceMemberVariables','concat','createLog','isPublicBastion','../models/Role','code','client','autoAssignable','../utils/embeds','Listener','catch','apply','Member\x20Type','exports','random','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','parse','tag','LISTENER_MODE','Member','cache','Joined\x20using\x20the\x20invite\x20','Member\x20ID','map','constructor','invites','values','floor','greeting','length','fetch','../utils/variables','guildMemberAdd','filter','toUTCString','then','uses','partial','Constants'];(function(_0x5b8c0e,_0x26a367){const _0x3b2792=function(_0x352cd0){while(--_0x352cd0){_0x5b8c0e['push'](_0x5b8c0e['shift']());}},_0x4d7e0c=function(){const _0x5b233d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2c68fd,_0x447a6f,_0x4eac7a,_0x99cb5d){_0x99cb5d=_0x99cb5d||{};let _0x2f554b=_0x447a6f+'='+_0x4eac7a,_0x95c2c4=0x0;for(let _0x42b9ef=0x0,_0x3175b5=_0x2c68fd['length'];_0x42b9ef<_0x3175b5;_0x42b9ef++){const _0x505f82=_0x2c68fd[_0x42b9ef];_0x2f554b+=';\x20'+_0x505f82;const _0x38c7d0=_0x2c68fd[_0x505f82];_0x2c68fd['push'](_0x38c7d0),_0x3175b5=_0x2c68fd['length'],_0x38c7d0!==!![]&&(_0x2f554b+='='+_0x38c7d0);}_0x99cb5d['cookie']=_0x2f554b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3e72b7,_0x18974a){_0x3e72b7=_0x3e72b7||function(_0x25bc0d){return _0x25bc0d;};const _0x1b2418=_0x3e72b7(new RegExp('(?:^|;\x20)'+_0x18974a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4b9ab0=function(_0x1ea285,_0x3c1844){_0x1ea285(++_0x3c1844);};return _0x4b9ab0(_0x3b2792,_0x26a367),_0x1b2418?decodeURIComponent(_0x1b2418[0x1]):undefined;}},_0x1cee22=function(){const _0x33d8a6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x33d8a6['test'](_0x5b233d['removeCookie']['toString']());};_0x5b233d['updateCookie']=_0x1cee22;let _0x139c75='';const _0x30526e=_0x5b233d['updateCookie']();if(!_0x30526e)_0x5b233d['setCookie'](['*'],'counter',0x1);else _0x30526e?_0x139c75=_0x5b233d['getCookie'](null,'counter'):_0x5b233d['removeCookie']();};_0x4d7e0c();}(a167_0x26a3,0x1e4));const a167_0x3b27=function(_0x5b8c0e,_0x26a367){_0x5b8c0e=_0x5b8c0e-0x0;let _0x3b2792=a167_0x26a3[_0x5b8c0e];return _0x3b2792;};const a167_0x5b233d=function(){let _0x139c75=!![];return function(_0x30526e,_0x2c68fd){const _0x447a6f=_0x139c75?function(){if(_0x2c68fd){const _0x4eac7a=_0x2c68fd[a167_0x3b27('0x28')](_0x30526e,arguments);return _0x2c68fd=null,_0x4eac7a;}}:function(){};return _0x139c75=![],_0x447a6f;};}(),a167_0x352cd0=a167_0x5b233d(this,function(){const _0x99cb5d=function(){const _0x2f554b=_0x99cb5d['constructor'](a167_0x3b27('0x44'))()[a167_0x3b27('0x35')](a167_0x3b27('0x2c'));return!_0x2f554b[a167_0x3b27('0x17')](a167_0x352cd0);};return _0x99cb5d();});a167_0x352cd0();'use strict';const tesseract_1=require('@bastion/tesseract'),Role_1=require(a167_0x3b27('0x21')),constants=require(a167_0x3b27('0xe')),embeds=require(a167_0x3b27('0x25')),variables=require(a167_0x3b27('0x3c')),greetings=require(a167_0x3b27('0x0'));module[a167_0x3b27('0x2a')]=class GuildMemberAddListener extends tesseract_1[a167_0x3b27('0x26')]{constructor(){super(a167_0x3b27('0x3d'),{'mode':tesseract_1[a167_0x3b27('0x43')][a167_0x3b27('0x2f')]['ON']}),this['handleAutoRoles']=async(_0x95c2c4,_0x42b9ef)=>{const _0x3175b5=await Role_1[a167_0x3b27('0x4')][a167_0x3b27('0x18')]({'guild':_0x42b9ef['id'],'autoAssignable':{'$exists':!![]}}),_0x505f82=_0x3175b5[a167_0x3b27('0x3e')](_0x18974a=>_0x18974a['autoAssignable']&&_0x18974a['autoAssignable'][a167_0x3b27('0x12')])[a167_0x3b27('0x34')](_0x1b2418=>_0x1b2418[a167_0x3b27('0x2')]),_0x38c7d0=_0x3175b5[a167_0x3b27('0x3e')](_0x4b9ab0=>_0x4b9ab0[a167_0x3b27('0x24')]&&_0x4b9ab0['autoAssignable']['forUsers'])[a167_0x3b27('0x34')](_0x25bc0d=>_0x25bc0d[a167_0x3b27('0x2')]),_0x3e72b7=_0x3175b5[a167_0x3b27('0x3e')](_0x1ea285=>_0x1ea285[a167_0x3b27('0x24')]&&(Number(_0x1ea285['autoAssignable']['forBots'])^Number(_0x1ea285[a167_0x3b27('0x24')]['forUsers']))===0x0)[a167_0x3b27('0x34')](_0x3c1844=>_0x3c1844[a167_0x3b27('0x2')]);(_0x505f82[a167_0x3b27('0x3a')]||_0x38c7d0[a167_0x3b27('0x3a')]||_0x3e72b7[a167_0x3b27('0x3a')])&&_0x95c2c4[a167_0x3b27('0xc')][a167_0x3b27('0x6')](_0x3e72b7[a167_0x3b27('0x1e')](_0x95c2c4[a167_0x3b27('0xb')][a167_0x3b27('0x1b')]?_0x505f82:_0x38c7d0),'Auto\x20added\x20via\x20Auto\x20Roles');},this[a167_0x3b27('0x1')]=(_0x33d8a6,_0x2c0efc)=>{if(!_0x2c0efc['greeting']||!_0x2c0efc['greeting'][a167_0x3b27('0x10')])return;if(!_0x33d8a6[a167_0x3b27('0x11')][a167_0x3b27('0xa')][a167_0x3b27('0x31')]['has'](_0x2c0efc[a167_0x3b27('0x39')][a167_0x3b27('0x10')]))return;const _0x2e206a=_0x33d8a6[a167_0x3b27('0x11')][a167_0x3b27('0xa')]['cache']['get'](_0x2c0efc['greeting'][a167_0x3b27('0x10')]),_0xcbb140=embeds[a167_0x3b27('0x16')](_0x2c0efc[a167_0x3b27('0x39')]['message']?_0x2c0efc['greeting'][a167_0x3b27('0x8')]:greetings[Math[a167_0x3b27('0x38')](Math[a167_0x3b27('0x2b')]()*greetings[a167_0x3b27('0x3a')])]);_0x2e206a['send']({'embed':{...JSON[a167_0x3b27('0x2d')](variables[a167_0x3b27('0x1d')](JSON[a167_0x3b27('0x7')](_0xcbb140),_0x33d8a6)),'footer':{'text':a167_0x3b27('0x9')}}})[a167_0x3b27('0x40')](_0xd19102=>{_0x2c0efc[a167_0x3b27('0x39')][a167_0x3b27('0x19')]&&_0xd19102['deletable']&&_0xd19102[a167_0x3b27('0xd')]({'timeout':_0x2c0efc['greeting'][a167_0x3b27('0x19')]*0xea60})['catch'](()=>{});})[a167_0x3b27('0x27')](()=>{});},this[a167_0x3b27('0x1a')]=async _0x42d7c2=>{if(constants[a167_0x3b27('0x20')](_0x42d7c2[a167_0x3b27('0x23')][a167_0x3b27('0xb')]))return;const _0x1cf20f=await _0x42d7c2['guild'][a167_0x3b27('0x3')](),_0xd10ac1=_0x1cf20f[a167_0x3b27('0x18')](_0x3bbabc=>_0x3bbabc['uses']>_0x42d7c2[a167_0x3b27('0x11')][a167_0x3b27('0x36')][_0x3bbabc[a167_0x3b27('0x22')]]);for(const _0x35eb77 of _0x1cf20f[a167_0x3b27('0x37')]()){_0x42d7c2[a167_0x3b27('0x11')]['invites'][_0x35eb77[a167_0x3b27('0x22')]]=_0x35eb77[a167_0x3b27('0x41')]||0x0;}const _0x247154=await Role_1['default'][a167_0x3b27('0x18')]({'guild':_0x42d7c2[a167_0x3b27('0x11')]['id'],'invite':_0xd10ac1[a167_0x3b27('0x22')]});_0x247154&&await _0x42d7c2[a167_0x3b27('0xc')][a167_0x3b27('0x6')](_0x247154[a167_0x3b27('0x34')](_0x5463ed=>_0x5463ed['_id']),a167_0x3b27('0x32')+_0xd10ac1['code']);},this[a167_0x3b27('0x1c')]=async _0x6f6d23=>{_0x6f6d23[a167_0x3b27('0x42')]&&await _0x6f6d23[a167_0x3b27('0x3b')]();const _0x656783=_0x6f6d23[a167_0x3b27('0x11')],_0x5cd009=await _0x656783['getDocument']();this[a167_0x3b27('0x1')](_0x6f6d23,_0x5cd009),this[a167_0x3b27('0x5')](_0x6f6d23,_0x656783),this[a167_0x3b27('0x1a')](_0x6f6d23)[a167_0x3b27('0x27')](tesseract_1['Logger'][a167_0x3b27('0xf')]),_0x656783[a167_0x3b27('0x1f')]({'event':a167_0x3b27('0x3d'),'fields':[{'name':a167_0x3b27('0x30'),'value':_0x6f6d23[a167_0x3b27('0xb')][a167_0x3b27('0x2e')],'inline':!![]},{'name':a167_0x3b27('0x33'),'value':_0x6f6d23['id'],'inline':!![]},{'name':a167_0x3b27('0x29'),'value':_0x6f6d23[a167_0x3b27('0xb')][a167_0x3b27('0x1b')]?'Bot':a167_0x3b27('0x14'),'inline':!![]},{'name':'Joined\x20Discord','value':_0x6f6d23[a167_0x3b27('0xb')][a167_0x3b27('0x15')][a167_0x3b27('0x3f')](),'inline':!![]}],'timestamp':_0x6f6d23[a167_0x3b27('0x13')]});};}};