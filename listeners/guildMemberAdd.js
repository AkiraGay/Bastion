const a168_0x265b=['uses','length','find','exec','Logger','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','createDM','autoAssignable','Joined\x20using\x20the\x20invite\x20','floor','catch','bot','Greetings!','.\x20Welcome\x20to\x20our\x20server!','random','apply','add','handleAutoRoles','partial','get','_id','user','../utils/constants','../models/Role','then','guildMemberAdd','values','parse','channelId','return\x20/\x22\x20+\x20this\x20+\x20\x22/','filter','handleInviteRoles','timeout','Human','roles','has','concat','forUsers','tag','invites','cache','fetch','forBots','error','Member\x20Type','@bastion/tesseract','Auto\x20added\x20via\x20Auto\x20Roles','message','channels','stringify','../utils/variables','map','default','guild','test','code','greeting','generateEmbed','deletable','send','createLog','../assets/greetings.json','Member','Constants','constructor','privateMessage','replaceMemberVariables','handleGreetings'];(function(_0x4052ca,_0x265b33){const _0x37319d=function(_0x4799bb){while(--_0x4799bb){_0x4052ca['push'](_0x4052ca['shift']());}},_0x5f1c0b=function(){const _0x5533b3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x91c8da,_0x32039f,_0xb69400,_0x3b3388){_0x3b3388=_0x3b3388||{};let _0x32fa87=_0x32039f+'='+_0xb69400,_0x12d065=0x0;for(let _0x2ba0f8=0x0,_0x163fc5=_0x91c8da['length'];_0x2ba0f8<_0x163fc5;_0x2ba0f8++){const _0x36086f=_0x91c8da[_0x2ba0f8];_0x32fa87+=';\x20'+_0x36086f;const _0x376413=_0x91c8da[_0x36086f];_0x91c8da['push'](_0x376413),_0x163fc5=_0x91c8da['length'],_0x376413!==!![]&&(_0x32fa87+='='+_0x376413);}_0x3b3388['cookie']=_0x32fa87;},'removeCookie':function(){return'dev';},'getCookie':function(_0x108267,_0x371cc0){_0x108267=_0x108267||function(_0x166fc9){return _0x166fc9;};const _0x225c32=_0x108267(new RegExp('(?:^|;\x20)'+_0x371cc0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x46ff4f=function(_0x424e4d,_0x29cb1d){_0x424e4d(++_0x29cb1d);};return _0x46ff4f(_0x37319d,_0x265b33),_0x225c32?decodeURIComponent(_0x225c32[0x1]):undefined;}},_0xa94b81=function(){const _0x4d994e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4d994e['test'](_0x5533b3['removeCookie']['toString']());};_0x5533b3['updateCookie']=_0xa94b81;let _0x750fc='';const _0x1c2ad4=_0x5533b3['updateCookie']();if(!_0x1c2ad4)_0x5533b3['setCookie'](['*'],'counter',0x1);else _0x1c2ad4?_0x750fc=_0x5533b3['getCookie'](null,'counter'):_0x5533b3['removeCookie']();};_0x5f1c0b();}(a168_0x265b,0x1a9));const a168_0x3731=function(_0x4052ca,_0x265b33){_0x4052ca=_0x4052ca-0x0;let _0x37319d=a168_0x265b[_0x4052ca];return _0x37319d;};const _0x52fc30=a168_0x3731,a168_0x5533b3=function(){let _0x750fc=!![];return function(_0x1c2ad4,_0x91c8da){const _0x32039f=_0x750fc?function(){const _0x24e908=a168_0x3731;if(_0x91c8da){const _0xb69400=_0x91c8da[_0x24e908('0x42')](_0x1c2ad4,arguments);return _0x91c8da=null,_0xb69400;}}:function(){};return _0x750fc=![],_0x32039f;};}(),a168_0x4799bb=a168_0x5533b3(this,function(){const _0x3b3388=function(){const _0x4efc39=a168_0x3731,_0x32fa87=_0x3b3388['constructor'](_0x4efc39('0xc'))()[_0x4efc39('0x2f')](_0x4efc39('0x38'));return!_0x32fa87[_0x4efc39('0x25')](a168_0x4799bb);};return _0x3b3388();});a168_0x4799bb();'use strict';const tesseract_1=require(_0x52fc30('0x1c')),Role_1=require(_0x52fc30('0x6')),constants=require(_0x52fc30('0x5')),embeds=require('../utils/embeds'),variables=require(_0x52fc30('0x21')),greetings=require(_0x52fc30('0x2c'));module['exports']=class GuildMemberAddListener extends tesseract_1['Listener']{constructor(){const _0x2b6265=_0x52fc30;super(_0x2b6265('0x8'),{'mode':tesseract_1[_0x2b6265('0x2e')]['LISTENER_MODE']['ON']}),this[_0x2b6265('0x0')]=async(_0x12d065,_0x2ba0f8)=>{const _0x9137d2=_0x2b6265,_0x163fc5=await Role_1[_0x9137d2('0x23')][_0x9137d2('0x35')]({'guild':_0x2ba0f8['id'],'autoAssignable':{'$exists':!![]}}),_0x36086f=_0x163fc5[_0x9137d2('0xd')](_0x371cc0=>_0x371cc0[_0x9137d2('0x3a')]&&_0x371cc0[_0x9137d2('0x3a')][_0x9137d2('0x19')])['map'](_0x225c32=>_0x225c32['_id']),_0x376413=_0x163fc5['filter'](_0x46ff4f=>_0x46ff4f[_0x9137d2('0x3a')]&&_0x46ff4f[_0x9137d2('0x3a')][_0x9137d2('0x14')])[_0x9137d2('0x22')](_0x166fc9=>_0x166fc9[_0x9137d2('0x3')]),_0x108267=_0x163fc5[_0x9137d2('0xd')](_0x424e4d=>_0x424e4d['autoAssignable']&&(Number(_0x424e4d[_0x9137d2('0x3a')]['forBots'])^Number(_0x424e4d['autoAssignable'][_0x9137d2('0x14')]))===0x0)[_0x9137d2('0x22')](_0x29cb1d=>_0x29cb1d[_0x9137d2('0x3')]);(_0x36086f['length']||_0x376413[_0x9137d2('0x34')]||_0x108267[_0x9137d2('0x34')])&&_0x12d065[_0x9137d2('0x11')][_0x9137d2('0x43')](_0x108267[_0x9137d2('0x13')](_0x12d065[_0x9137d2('0x4')][_0x9137d2('0x3e')]?_0x36086f:_0x376413),_0x9137d2('0x1d'));},this[_0x2b6265('0x32')]=(_0x4d994e,_0x2039f4)=>{const _0x3b2220=_0x2b6265;if(!_0x2039f4[_0x3b2220('0x27')])return;_0x2039f4[_0x3b2220('0x27')][_0x3b2220('0x30')]&&_0x4d994e[_0x3b2220('0x39')]()[_0x3b2220('0x7')](_0x58da0a=>{const _0x179bd5=_0x3b2220;_0x58da0a[_0x179bd5('0x2a')]({'embed':{...JSON[_0x179bd5('0xa')](variables[_0x179bd5('0x31')](JSON[_0x179bd5('0x20')](_0x3a8c5e),_0x4d994e)),'footer':{'text':'Greetings\x20from\x20'+_0x4d994e[_0x179bd5('0x24')]['name']+_0x179bd5('0x40')}}})[_0x179bd5('0x3d')](()=>{});})[_0x3b2220('0x3d')](()=>{});if(!_0x2039f4[_0x3b2220('0x27')]['channelId'])return;if(!_0x4d994e[_0x3b2220('0x24')]['channels'][_0x3b2220('0x17')][_0x3b2220('0x12')](_0x2039f4['greeting'][_0x3b2220('0xb')]))return;const _0x3c0043=_0x4d994e[_0x3b2220('0x24')][_0x3b2220('0x1f')]['cache'][_0x3b2220('0x2')](_0x2039f4['greeting'][_0x3b2220('0xb')]),_0x3a8c5e=embeds[_0x3b2220('0x28')](_0x2039f4[_0x3b2220('0x27')][_0x3b2220('0x1e')]?_0x2039f4[_0x3b2220('0x27')][_0x3b2220('0x1e')]:greetings[Math[_0x3b2220('0x3c')](Math[_0x3b2220('0x41')]()*greetings[_0x3b2220('0x34')])]);_0x3c0043[_0x3b2220('0x2a')]({'embed':{...JSON[_0x3b2220('0xa')](variables[_0x3b2220('0x31')](JSON[_0x3b2220('0x20')](_0x3a8c5e),_0x4d994e)),'footer':{'text':_0x3b2220('0x3f')}}})[_0x3b2220('0x7')](_0x5389fa=>{const _0x116acd=_0x3b2220;_0x2039f4[_0x116acd('0x27')][_0x116acd('0xf')]&&_0x5389fa[_0x116acd('0x29')]&&_0x5389fa['delete']({'timeout':_0x2039f4[_0x116acd('0x27')][_0x116acd('0xf')]*0xea60})[_0x116acd('0x3d')](()=>{});})[_0x3b2220('0x3d')](()=>{});},this[_0x2b6265('0xe')]=async _0x232d7d=>{const _0x3634e2=_0x2b6265;if(constants['isPublicBastion'](_0x232d7d['client'][_0x3634e2('0x4')]))return;const _0x415fe1=await _0x232d7d[_0x3634e2('0x24')]['fetchInvites'](),_0x486f57=_0x415fe1['find'](_0x1bc9cc=>_0x1bc9cc['uses']>_0x232d7d[_0x3634e2('0x24')][_0x3634e2('0x16')][_0x1bc9cc[_0x3634e2('0x26')]]);for(const _0x298290 of _0x415fe1[_0x3634e2('0x9')]()){_0x232d7d['guild'][_0x3634e2('0x16')][_0x298290[_0x3634e2('0x26')]]=_0x298290[_0x3634e2('0x33')]||0x0;}const _0x25351e=await Role_1[_0x3634e2('0x23')][_0x3634e2('0x35')]({'guild':_0x232d7d[_0x3634e2('0x24')]['id'],'invite':_0x486f57[_0x3634e2('0x26')]});_0x25351e&&await _0x232d7d[_0x3634e2('0x11')][_0x3634e2('0x43')](_0x25351e['map'](_0x5557fd=>_0x5557fd['_id']),_0x3634e2('0x3b')+_0x486f57[_0x3634e2('0x26')]);},this[_0x2b6265('0x36')]=async _0x3ac902=>{const _0x3c76bd=_0x2b6265;_0x3ac902[_0x3c76bd('0x1')]&&await _0x3ac902[_0x3c76bd('0x18')]();const _0x360e73=_0x3ac902[_0x3c76bd('0x24')],_0x55e6a3=await _0x360e73['getDocument']();this['handleGreetings'](_0x3ac902,_0x55e6a3),this['handleAutoRoles'](_0x3ac902,_0x360e73),this[_0x3c76bd('0xe')](_0x3ac902)[_0x3c76bd('0x3d')](tesseract_1[_0x3c76bd('0x37')][_0x3c76bd('0x1a')]),_0x360e73[_0x3c76bd('0x2b')]({'event':'guildMemberAdd','fields':[{'name':_0x3c76bd('0x2d'),'value':_0x3ac902['user'][_0x3c76bd('0x15')],'inline':!![]},{'name':'Member\x20ID','value':_0x3ac902['id'],'inline':!![]},{'name':_0x3c76bd('0x1b'),'value':_0x3ac902[_0x3c76bd('0x4')][_0x3c76bd('0x3e')]?'Bot':_0x3c76bd('0x10'),'inline':!![]},{'name':'Joined\x20Discord','value':_0x3ac902[_0x3c76bd('0x4')]['createdAt']['toUTCString'](),'inline':!![]}],'timestamp':_0x3ac902['joinedTimestamp']});};}};