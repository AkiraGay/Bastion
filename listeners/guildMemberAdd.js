const a185_0x2b6d=['channelId','channels','createLog','fetch','../utils/embeds','then','tag','guild','message','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','random','replaceMemberVariables','greeting','stringify','@bastion/tesseract','fetchInvites','deletable','uses','partial','parse','bot','return\x20/\x22\x20+\x20this\x20+\x20\x22/','joinedTimestamp','handleAutoRoles','has','length','user','send','Greetings\x20from\x20','Listener','map','name','forBots','invites','Member','Greetings!','error','filter','default','apply','getDocument','isPublicBastion','exec','roles','Member\x20ID','toUTCString','Joined\x20using\x20the\x20invite\x20','catch','Logger','createdAt','autoAssignable','add','_id','LISTENER_MODE','Constants','forUsers','constructor','handleInviteRoles','../assets/greetings.json','timeout','floor','../utils/constants','find','Member\x20Type','guildMemberAdd','createDM','test','concat','../models/Role','code','cache','handleGreetings','../utils/variables','delete'];(function(_0x32a1b3,_0x501d90){const _0x2b6d45=function(_0x5a32a1){while(--_0x5a32a1){_0x32a1b3['push'](_0x32a1b3['shift']());}},_0xd0c8f=function(){const _0x39fe68={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x27be50,_0x23f194,_0x56b087,_0xe507b0){_0xe507b0=_0xe507b0||{};let _0x4ca94e=_0x23f194+'='+_0x56b087,_0x5751cd=0x0;for(let _0x50e8aa=0x0,_0x325fea=_0x27be50['length'];_0x50e8aa<_0x325fea;_0x50e8aa++){const _0x1664de=_0x27be50[_0x50e8aa];_0x4ca94e+=';\x20'+_0x1664de;const _0x3c02a4=_0x27be50[_0x1664de];_0x27be50['push'](_0x3c02a4),_0x325fea=_0x27be50['length'],_0x3c02a4!==!![]&&(_0x4ca94e+='='+_0x3c02a4);}_0xe507b0['cookie']=_0x4ca94e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x45e24b,_0x1fcbc4){_0x45e24b=_0x45e24b||function(_0x306972){return _0x306972;};const _0x215df2=_0x45e24b(new RegExp('(?:^|;\x20)'+_0x1fcbc4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1aa539=function(_0x4b54aa,_0x42238e){_0x4b54aa(++_0x42238e);};return _0x1aa539(_0x2b6d45,_0x501d90),_0x215df2?decodeURIComponent(_0x215df2[0x1]):undefined;}},_0x1f5ffd=function(){const _0x2cbb4d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2cbb4d['test'](_0x39fe68['removeCookie']['toString']());};_0x39fe68['updateCookie']=_0x1f5ffd;let _0x17a33f='';const _0x48234f=_0x39fe68['updateCookie']();if(!_0x48234f)_0x39fe68['setCookie'](['*'],'counter',0x1);else _0x48234f?_0x17a33f=_0x39fe68['getCookie'](null,'counter'):_0x39fe68['removeCookie']();};_0xd0c8f();}(a185_0x2b6d,0x1dd));const a185_0xd0c8=function(_0x32a1b3,_0x501d90){_0x32a1b3=_0x32a1b3-0xa8;let _0x2b6d45=a185_0x2b6d[_0x32a1b3];return _0x2b6d45;};const a185_0x3df91f=a185_0xd0c8,a185_0x1f5ffd=function(){let _0x48234f=!![];return function(_0x27be50,_0x23f194){const _0x56b087=_0x48234f?function(){const _0x586aa3=a185_0xd0c8;if(_0x23f194){const _0xe507b0=_0x23f194[_0x586aa3(0xae)](_0x27be50,arguments);return _0x23f194=null,_0xe507b0;}}:function(){};return _0x48234f=![],_0x56b087;};}(),a185_0x39fe68=a185_0x1f5ffd(this,function(){const _0x4ca94e=function(){const _0x20de6b=a185_0xd0c8,_0x5751cd=_0x4ca94e[_0x20de6b(0xbf)](_0x20de6b(0xe6))()[_0x20de6b(0xbf)](_0x20de6b(0xda));return!_0x5751cd[_0x20de6b(0xc9)](a185_0x39fe68);};return _0x4ca94e();});a185_0x39fe68();'use strict';const tesseract_1=require(a185_0x3df91f(0xdf)),Role_1=require(a185_0x3df91f(0xcb)),constants=require(a185_0x3df91f(0xc4)),embeds=require(a185_0x3df91f(0xd5)),variables=require(a185_0x3df91f(0xcf)),greetings=require(a185_0x3df91f(0xc1));module['exports']=class GuildMemberAddListener extends tesseract_1[a185_0x3df91f(0xee)]{constructor(){const _0x163a00=a185_0x3df91f;super(_0x163a00(0xc7),{'mode':tesseract_1[_0x163a00(0xbd)][_0x163a00(0xbc)]['ON']}),this[_0x163a00(0xe8)]=async(_0x50e8aa,_0x325fea)=>{const _0x1a4764=_0x163a00,_0x1664de=await Role_1[_0x1a4764(0xad)][_0x1a4764(0xc5)]({'guild':_0x325fea['id'],'autoAssignable':{'$exists':!![],'$ne':null}}),_0x3c02a4=_0x1664de[_0x1a4764(0xac)](_0x215df2=>_0x215df2[_0x1a4764(0xb9)]&&_0x215df2[_0x1a4764(0xb9)][_0x1a4764(0xf1)])['map'](_0x1aa539=>_0x1aa539[_0x1a4764(0xbb)]),_0x45e24b=_0x1664de[_0x1a4764(0xac)](_0x306972=>_0x306972[_0x1a4764(0xb9)]&&_0x306972[_0x1a4764(0xb9)][_0x1a4764(0xbe)])['map'](_0x4b54aa=>_0x4b54aa[_0x1a4764(0xbb)]),_0x1fcbc4=_0x1664de[_0x1a4764(0xac)](_0x42238e=>_0x42238e[_0x1a4764(0xb9)]&&(Number(_0x42238e[_0x1a4764(0xb9)]['forBots'])^Number(_0x42238e[_0x1a4764(0xb9)][_0x1a4764(0xbe)]))===0x0)[_0x1a4764(0xef)](_0x2cbb4d=>_0x2cbb4d[_0x1a4764(0xbb)]);(_0x3c02a4[_0x1a4764(0xea)]||_0x45e24b[_0x1a4764(0xea)]||_0x1fcbc4[_0x1a4764(0xea)])&&_0x50e8aa[_0x1a4764(0xb2)][_0x1a4764(0xba)](_0x1fcbc4[_0x1a4764(0xca)](_0x50e8aa[_0x1a4764(0xeb)]['bot']?_0x3c02a4:_0x45e24b),'Auto\x20added\x20via\x20Auto\x20Roles');},this['handleGreetings']=(_0x404e75,_0x39e8a8)=>{const _0x26825c=_0x163a00;if(!_0x39e8a8[_0x26825c(0xdd)])return;_0x39e8a8['greeting']['privateMessage']&&_0x404e75[_0x26825c(0xc8)]()[_0x26825c(0xd6)](_0x1a9bb0=>{const _0x5da975=_0x26825c;_0x1a9bb0[_0x5da975(0xec)]({'embed':{...JSON[_0x5da975(0xe4)](variables[_0x5da975(0xdc)](JSON[_0x5da975(0xde)](_0x3432b2),_0x404e75)),'footer':{'text':_0x5da975(0xed)+_0x404e75[_0x5da975(0xd8)][_0x5da975(0xf0)]+'.\x20Welcome\x20to\x20our\x20server!'}}})[_0x5da975(0xb6)](()=>{});})['catch'](()=>{});if(!_0x39e8a8['greeting']['channelId'])return;if(!_0x404e75[_0x26825c(0xd8)][_0x26825c(0xd2)][_0x26825c(0xcd)][_0x26825c(0xe9)](_0x39e8a8[_0x26825c(0xdd)][_0x26825c(0xd1)]))return;const _0x2073dd=_0x404e75[_0x26825c(0xd8)][_0x26825c(0xd2)][_0x26825c(0xcd)]['get'](_0x39e8a8[_0x26825c(0xdd)][_0x26825c(0xd1)]),_0x3432b2=embeds['generateEmbed'](_0x39e8a8['greeting'][_0x26825c(0xd9)]?_0x39e8a8[_0x26825c(0xdd)][_0x26825c(0xd9)]:greetings[Math[_0x26825c(0xc3)](Math[_0x26825c(0xdb)]()*greetings[_0x26825c(0xea)])]);_0x2073dd[_0x26825c(0xec)]({'embed':{...JSON[_0x26825c(0xe4)](variables[_0x26825c(0xdc)](JSON['stringify'](_0x3432b2),_0x404e75)),'footer':{'text':_0x26825c(0xaa)}}})[_0x26825c(0xd6)](_0x269232=>{const _0x354051=_0x26825c;_0x39e8a8[_0x354051(0xdd)][_0x354051(0xc2)]&&_0x269232[_0x354051(0xe1)]&&_0x269232[_0x354051(0xd0)]({'timeout':_0x39e8a8['greeting'][_0x354051(0xc2)]*0xea60})[_0x354051(0xb6)](()=>{});})[_0x26825c(0xb6)](()=>{});},this[_0x163a00(0xc0)]=async _0x88078c=>{const _0x385b1b=_0x163a00;if(constants[_0x385b1b(0xb0)](_0x88078c['client']['user']))return;const _0x35f2c1=await _0x88078c[_0x385b1b(0xd8)][_0x385b1b(0xe0)](),_0x1d3075=_0x35f2c1[_0x385b1b(0xc5)](_0x15ca47=>_0x15ca47[_0x385b1b(0xe2)]>_0x88078c[_0x385b1b(0xd8)][_0x385b1b(0xa8)][_0x15ca47[_0x385b1b(0xcc)]]);for(const _0x40ba3c of _0x35f2c1['values']()){_0x88078c[_0x385b1b(0xd8)][_0x385b1b(0xa8)][_0x40ba3c[_0x385b1b(0xcc)]]=_0x40ba3c[_0x385b1b(0xe2)]||0x0;}const _0x496dd5=await Role_1['default'][_0x385b1b(0xc5)]({'guild':_0x88078c[_0x385b1b(0xd8)]['id'],'invite':_0x1d3075[_0x385b1b(0xcc)]});_0x496dd5&&_0x496dd5[_0x385b1b(0xea)]&&await _0x88078c[_0x385b1b(0xb2)][_0x385b1b(0xba)](_0x496dd5[_0x385b1b(0xef)](_0x1241f7=>_0x1241f7['_id']),_0x385b1b(0xb5)+_0x1d3075[_0x385b1b(0xcc)]);},this[_0x163a00(0xb1)]=async _0x1f28ed=>{const _0x3025bb=_0x163a00;_0x1f28ed[_0x3025bb(0xe3)]&&await _0x1f28ed[_0x3025bb(0xd4)]();const _0x1148d3=_0x1f28ed['guild'],_0x369da3=await _0x1148d3[_0x3025bb(0xaf)]();this[_0x3025bb(0xce)](_0x1f28ed,_0x369da3),this[_0x3025bb(0xe8)](_0x1f28ed,_0x1148d3),this['handleInviteRoles'](_0x1f28ed)['catch'](tesseract_1[_0x3025bb(0xb7)][_0x3025bb(0xab)]),_0x1148d3[_0x3025bb(0xd3)]({'event':'guildMemberAdd','fields':[{'name':_0x3025bb(0xa9),'value':_0x1f28ed[_0x3025bb(0xeb)][_0x3025bb(0xd7)],'inline':!![]},{'name':_0x3025bb(0xb3),'value':_0x1f28ed['id'],'inline':!![]},{'name':_0x3025bb(0xc6),'value':_0x1f28ed['user'][_0x3025bb(0xe5)]?'Bot':'Human','inline':!![]},{'name':'Joined\x20Discord','value':_0x1f28ed[_0x3025bb(0xeb)][_0x3025bb(0xb8)][_0x3025bb(0xb4)](),'inline':!![]}],'timestamp':_0x1f28ed[_0x3025bb(0xe7)]});};}};