const a155_0x4e69=['channels','length','Auto\x20added\x20via\x20Auto\x20Roles','filter','random','send','handleGreetings','test','_id','../utils/embeds','then','Listener','generateEmbed','partial','fetch','Constants','exports','greeting','Member\x20ID','autoAssignable','apply','catch','replaceMemberVariables','timeout','delete','compile','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','joinedTimestamp','guildMemberAdd','@bastion/tesseract','channelId','cache','find','user','guild','forUsers','tag','createLog','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../assets/greetings.json','add','has','Member\x20Type','forBots','Joined\x20Discord','message','createdAt','bot','Human','constructor','handleAutoRoles','map','Member','Greetings!'];(function(_0x33a1fa,_0x4e6933){const _0x2365b8=function(_0x36c69f){while(--_0x36c69f){_0x33a1fa['push'](_0x33a1fa['shift']());}};const _0x5a5e3c=function(){const _0x50b718={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a456f,_0x375acd,_0x281fba,_0x7b9ab2){_0x7b9ab2=_0x7b9ab2||{};let _0x1e14f0=_0x375acd+'='+_0x281fba;let _0x4c3966=0x0;for(let _0x33a20d=0x0,_0x4c0be1=_0x2a456f['length'];_0x33a20d<_0x4c0be1;_0x33a20d++){const _0x353a7d=_0x2a456f[_0x33a20d];_0x1e14f0+=';\x20'+_0x353a7d;const _0x14bfcb=_0x2a456f[_0x353a7d];_0x2a456f['push'](_0x14bfcb);_0x4c0be1=_0x2a456f['length'];if(_0x14bfcb!==!![]){_0x1e14f0+='='+_0x14bfcb;}}_0x7b9ab2['cookie']=_0x1e14f0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2a3a16,_0x2f567d){_0x2a3a16=_0x2a3a16||function(_0x31869c){return _0x31869c;};const _0x39f0d6=_0x2a3a16(new RegExp('(?:^|;\x20)'+_0x2f567d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4ef35c=function(_0x4b1e34,_0x2ebf86){_0x4b1e34(++_0x2ebf86);};_0x4ef35c(_0x2365b8,_0x4e6933);return _0x39f0d6?decodeURIComponent(_0x39f0d6[0x1]):undefined;}};const _0x3aef3e=function(){const _0x417575=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x417575['test'](_0x50b718['removeCookie']['toString']());};_0x50b718['updateCookie']=_0x3aef3e;let _0xc70a4c='';const _0x8d00bd=_0x50b718['updateCookie']();if(!_0x8d00bd){_0x50b718['setCookie'](['*'],'counter',0x1);}else if(_0x8d00bd){_0xc70a4c=_0x50b718['getCookie'](null,'counter');}else{_0x50b718['removeCookie']();}};_0x5a5e3c();}(a155_0x4e69,0x13d));const a155_0x2365=function(_0x33a1fa,_0x4e6933){_0x33a1fa=_0x33a1fa-0x0;let _0x2365b8=a155_0x4e69[_0x33a1fa];return _0x2365b8;};const a155_0x50b718=function(){let _0x15b728=!![];return function(_0x8430ec,_0x1ea0eb){const _0x55edde=_0x15b728?function(){if(_0x1ea0eb){const _0x56c7a1=_0x1ea0eb[a155_0x2365('0x1b')](_0x8430ec,arguments);_0x1ea0eb=null;return _0x56c7a1;}}:function(){};_0x15b728=![];return _0x55edde;};}();const a155_0x36c69f=a155_0x50b718(this,function(){const _0xff070f=function(){const _0x447c33=_0xff070f[a155_0x2365('0x2')](a155_0x2365('0x2d'))()[a155_0x2365('0x20')](a155_0x2365('0x21'));return!_0x447c33[a155_0x2365('0xe')](a155_0x36c69f);};return _0xff070f();});a155_0x36c69f();'use strict';const tesseract_1=require(a155_0x2365('0x24'));const Role_1=require('../models/Role');const embeds=require(a155_0x2365('0x10'));const variables=require('../utils/variables');const greetings=require(a155_0x2365('0x2e'));module[a155_0x2365('0x17')]=class GuildMemberAddListener extends tesseract_1[a155_0x2365('0x12')]{constructor(){super(a155_0x2365('0x23'),{'mode':tesseract_1[a155_0x2365('0x16')]['LISTENER_MODE']['ON']});this[a155_0x2365('0x3')]=async(_0x81ef62,_0x20a7b2)=>{const _0x344e1b=await Role_1['default'][a155_0x2365('0x27')]({'guild':_0x20a7b2['id'],'autoAssignable':{'$exists':!![]}});const _0x5321e8=_0x344e1b[a155_0x2365('0xa')](_0x4ec08a=>_0x4ec08a[a155_0x2365('0x1a')]&&_0x4ec08a[a155_0x2365('0x1a')]['forBots'])[a155_0x2365('0x4')](_0x3b2458=>_0x3b2458[a155_0x2365('0xf')]);const _0x5c1e07=_0x344e1b[a155_0x2365('0xa')](_0x4018e9=>_0x4018e9[a155_0x2365('0x1a')]&&_0x4018e9['autoAssignable'][a155_0x2365('0x2a')])['map'](_0x23a345=>_0x23a345[a155_0x2365('0xf')]);const _0x915710=_0x344e1b[a155_0x2365('0xa')](_0x21f22d=>_0x21f22d[a155_0x2365('0x1a')]&&(Number(_0x21f22d[a155_0x2365('0x1a')][a155_0x2365('0x32')])^Number(_0x21f22d['autoAssignable']['forUsers']))===0x0)['map'](_0x283667=>_0x283667[a155_0x2365('0xf')]);_0x81ef62['roles'][a155_0x2365('0x2f')](_0x915710['concat'](_0x81ef62[a155_0x2365('0x28')][a155_0x2365('0x0')]?_0x5321e8:_0x5c1e07),a155_0x2365('0x9'));};this['handleGreetings']=(_0x2ee049,_0x1101c9)=>{if(!_0x1101c9[a155_0x2365('0x18')]||!_0x1101c9[a155_0x2365('0x18')]['channelId'])return;if(!_0x2ee049[a155_0x2365('0x29')][a155_0x2365('0x7')][a155_0x2365('0x26')][a155_0x2365('0x30')](_0x1101c9[a155_0x2365('0x18')]['channelId']))return;const _0x32fc94=_0x2ee049[a155_0x2365('0x29')]['channels'][a155_0x2365('0x26')]['get'](_0x1101c9['greeting'][a155_0x2365('0x25')]);const _0x1d7c0f=embeds[a155_0x2365('0x13')](_0x1101c9[a155_0x2365('0x18')]['message']?_0x1101c9[a155_0x2365('0x18')][a155_0x2365('0x34')]:greetings[Math['floor'](Math[a155_0x2365('0xb')]()*greetings[a155_0x2365('0x8')])]);_0x32fc94[a155_0x2365('0xc')]({'embed':{...JSON['parse'](variables[a155_0x2365('0x1d')](JSON['stringify'](_0x1d7c0f),_0x2ee049)),'footer':{'text':a155_0x2365('0x6')}}})[a155_0x2365('0x11')](_0x210df0=>{if(_0x1101c9[a155_0x2365('0x18')][a155_0x2365('0x1e')]&&_0x210df0['deletable']){_0x210df0[a155_0x2365('0x1f')]({'timeout':_0x1101c9['greeting']['timeout']*0xea60})[a155_0x2365('0x1c')](()=>{});}})[a155_0x2365('0x1c')](()=>{});};this['exec']=async _0x17e116=>{if(_0x17e116[a155_0x2365('0x14')]){await _0x17e116[a155_0x2365('0x15')]();}const _0x2eb301=_0x17e116[a155_0x2365('0x29')];const _0x56c3ea=await _0x2eb301['getDocument']();this[a155_0x2365('0xd')](_0x17e116,_0x56c3ea);this['handleAutoRoles'](_0x17e116,_0x2eb301);_0x2eb301[a155_0x2365('0x2c')]({'event':a155_0x2365('0x23'),'fields':[{'name':a155_0x2365('0x5'),'value':_0x17e116['user'][a155_0x2365('0x2b')],'inline':!![]},{'name':a155_0x2365('0x19'),'value':_0x17e116['id'],'inline':!![]},{'name':a155_0x2365('0x31'),'value':_0x17e116[a155_0x2365('0x28')][a155_0x2365('0x0')]?'Bot':a155_0x2365('0x1'),'inline':!![]},{'name':a155_0x2365('0x33'),'value':_0x17e116[a155_0x2365('0x28')][a155_0x2365('0x35')]['toUTCString'](),'inline':!![]}],'timestamp':_0x17e116[a155_0x2365('0x22')]});};}};