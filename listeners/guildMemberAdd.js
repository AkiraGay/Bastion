const a164_0x3c79=['user','length','Member','parse','createdAt','LISTENER_MODE','replaceMemberVariables','has','send','stringify','../utils/variables','guild','catch','forUsers','guildMemberAdd','exec','floor','handleAutoRoles','constructor','fetch','@bastion/tesseract','../utils/embeds','then','roles','autoAssignable','exports','channelId','deletable','generateEmbed','Bot','createLog','Listener','get','map','_id','timeout','apply','add','Auto\x20added\x20via\x20Auto\x20Roles','../assets/greetings.json','filter','tag','Greetings!','Member\x20ID','Constants','handleGreetings','default','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Member\x20Type','random','bot','channels','forBots','Joined\x20Discord','toUTCString','joinedTimestamp','greeting'];(function(_0x90c0db,_0x3c791a){const _0x29c0ca=function(_0x5998bd){while(--_0x5998bd){_0x90c0db['push'](_0x90c0db['shift']());}},_0x350e18=function(){const _0x198f0f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4a3fa8,_0x20f26a,_0x10a0c0,_0xe76832){_0xe76832=_0xe76832||{};let _0x36bd55=_0x20f26a+'='+_0x10a0c0,_0x53f43b=0x0;for(let _0x570986=0x0,_0xda8558=_0x4a3fa8['length'];_0x570986<_0xda8558;_0x570986++){const _0x100887=_0x4a3fa8[_0x570986];_0x36bd55+=';\x20'+_0x100887;const _0x5cef70=_0x4a3fa8[_0x100887];_0x4a3fa8['push'](_0x5cef70),_0xda8558=_0x4a3fa8['length'],_0x5cef70!==!![]&&(_0x36bd55+='='+_0x5cef70);}_0xe76832['cookie']=_0x36bd55;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4c7258,_0x5d1a5d){_0x4c7258=_0x4c7258||function(_0x5b6501){return _0x5b6501;};const _0x3dd361=_0x4c7258(new RegExp('(?:^|;\x20)'+_0x5d1a5d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x12f75c=function(_0x2a6d01,_0x5cbbb3){_0x2a6d01(++_0x5cbbb3);};return _0x12f75c(_0x29c0ca,_0x3c791a),_0x3dd361?decodeURIComponent(_0x3dd361[0x1]):undefined;}},_0x4011ee=function(){const _0x847230=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x847230['test'](_0x198f0f['removeCookie']['toString']());};_0x198f0f['updateCookie']=_0x4011ee;let _0x31bfed='';const _0x78c65a=_0x198f0f['updateCookie']();if(!_0x78c65a)_0x198f0f['setCookie'](['*'],'counter',0x1);else _0x78c65a?_0x31bfed=_0x198f0f['getCookie'](null,'counter'):_0x198f0f['removeCookie']();};_0x350e18();}(a164_0x3c79,0x8a));const a164_0x29c0=function(_0x90c0db,_0x3c791a){_0x90c0db=_0x90c0db-0x0;let _0x29c0ca=a164_0x3c79[_0x90c0db];return _0x29c0ca;};const a164_0x10a0c0=function(){let _0x92f7a5=!![];return function(_0x9118e6,_0x233f5e){const _0x4cdc1e=_0x92f7a5?function(){if(_0x233f5e){const _0x4ab827=_0x233f5e[a164_0x29c0('0xc')](_0x9118e6,arguments);return _0x233f5e=null,_0x4ab827;}}:function(){};return _0x92f7a5=![],_0x4cdc1e;};}(),a164_0x20f26a=a164_0x10a0c0(this,function(){const _0x57e8f8=function(){const _0x549c9b=_0x57e8f8['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a164_0x29c0('0x33')](a164_0x29c0('0x17'));return!_0x549c9b['test'](a164_0x20f26a);};return _0x57e8f8();});a164_0x20f26a();'use strict';const tesseract_1=require(a164_0x29c0('0x35')),Role_1=require('../models/Role'),embeds=require(a164_0x29c0('0x36')),variables=require(a164_0x29c0('0x2b')),greetings=require(a164_0x29c0('0xf'));module[a164_0x29c0('0x1')]=class GuildMemberAddListener extends tesseract_1[a164_0x29c0('0x7')]{constructor(){super(a164_0x29c0('0x2f'),{'mode':tesseract_1[a164_0x29c0('0x14')][a164_0x29c0('0x26')]['ON']}),this[a164_0x29c0('0x32')]=async(_0x58d21c,_0xe9e694)=>{const _0x375625=await Role_1[a164_0x29c0('0x16')]['find']({'guild':_0xe9e694['id'],'autoAssignable':{'$exists':!![]}}),_0x91eda7=_0x375625[a164_0x29c0('0x10')](_0x4a1403=>_0x4a1403[a164_0x29c0('0x0')]&&_0x4a1403[a164_0x29c0('0x0')]['forBots'])['map'](_0x5b1e1a=>_0x5b1e1a[a164_0x29c0('0xa')]),_0x3196b3=_0x375625[a164_0x29c0('0x10')](_0xc73b87=>_0xc73b87[a164_0x29c0('0x0')]&&_0xc73b87[a164_0x29c0('0x0')][a164_0x29c0('0x2e')])[a164_0x29c0('0x9')](_0x52eafc=>_0x52eafc[a164_0x29c0('0xa')]),_0x437724=_0x375625[a164_0x29c0('0x10')](_0xcf06fe=>_0xcf06fe['autoAssignable']&&(Number(_0xcf06fe[a164_0x29c0('0x0')][a164_0x29c0('0x1c')])^Number(_0xcf06fe['autoAssignable'][a164_0x29c0('0x2e')]))===0x0)[a164_0x29c0('0x9')](_0x99c7ac=>_0x99c7ac[a164_0x29c0('0xa')]);(_0x91eda7['length']||_0x3196b3['length']||_0x437724[a164_0x29c0('0x22')])&&_0x58d21c[a164_0x29c0('0x38')][a164_0x29c0('0xd')](_0x437724['concat'](_0x58d21c[a164_0x29c0('0x21')]['bot']?_0x91eda7:_0x3196b3),a164_0x29c0('0xe'));},this[a164_0x29c0('0x15')]=(_0x51f24c,_0x413208)=>{if(!_0x413208[a164_0x29c0('0x20')]||!_0x413208[a164_0x29c0('0x20')][a164_0x29c0('0x2')])return;if(!_0x51f24c[a164_0x29c0('0x2c')][a164_0x29c0('0x1b')]['cache'][a164_0x29c0('0x28')](_0x413208[a164_0x29c0('0x20')][a164_0x29c0('0x2')]))return;const _0x5c0bc9=_0x51f24c[a164_0x29c0('0x2c')][a164_0x29c0('0x1b')]['cache'][a164_0x29c0('0x8')](_0x413208[a164_0x29c0('0x20')]['channelId']),_0x1f83b4=embeds[a164_0x29c0('0x4')](_0x413208[a164_0x29c0('0x20')]['message']?_0x413208['greeting']['message']:greetings[Math[a164_0x29c0('0x31')](Math[a164_0x29c0('0x19')]()*greetings['length'])]);_0x5c0bc9[a164_0x29c0('0x29')]({'embed':{...JSON[a164_0x29c0('0x24')](variables[a164_0x29c0('0x27')](JSON[a164_0x29c0('0x2a')](_0x1f83b4),_0x51f24c)),'footer':{'text':a164_0x29c0('0x12')}}})[a164_0x29c0('0x37')](_0x1421f3=>{_0x413208[a164_0x29c0('0x20')][a164_0x29c0('0xb')]&&_0x1421f3[a164_0x29c0('0x3')]&&_0x1421f3['delete']({'timeout':_0x413208[a164_0x29c0('0x20')][a164_0x29c0('0xb')]*0xea60})[a164_0x29c0('0x2d')](()=>{});})['catch'](()=>{});},this[a164_0x29c0('0x30')]=async _0x4c5402=>{_0x4c5402['partial']&&await _0x4c5402[a164_0x29c0('0x34')]();const _0x5cda18=_0x4c5402['guild'],_0x12a9a6=await _0x5cda18['getDocument']();this[a164_0x29c0('0x15')](_0x4c5402,_0x12a9a6),this[a164_0x29c0('0x32')](_0x4c5402,_0x5cda18),_0x5cda18[a164_0x29c0('0x6')]({'event':'guildMemberAdd','fields':[{'name':a164_0x29c0('0x23'),'value':_0x4c5402[a164_0x29c0('0x21')][a164_0x29c0('0x11')],'inline':!![]},{'name':a164_0x29c0('0x13'),'value':_0x4c5402['id'],'inline':!![]},{'name':a164_0x29c0('0x18'),'value':_0x4c5402[a164_0x29c0('0x21')][a164_0x29c0('0x1a')]?a164_0x29c0('0x5'):'Human','inline':!![]},{'name':a164_0x29c0('0x1d'),'value':_0x4c5402[a164_0x29c0('0x21')][a164_0x29c0('0x25')][a164_0x29c0('0x1e')](),'inline':!![]}],'timestamp':_0x4c5402[a164_0x29c0('0x1f')]});};}};