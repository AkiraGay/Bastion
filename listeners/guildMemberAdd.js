const a155_0x3b8d=['map','joinedTimestamp','then','add','send','exports','deletable','Member','Member\x20Type','test','channels','constructor','greeting','delete','Bot','getDocument','../assets/greetings.json','cache','forBots','toUTCString','handleGreetings','@bastion/tesseract','guildMemberAdd','replaceMemberVariables','Listener','user','get','apply','_id','handleAutoRoles','has','Human','forUsers','catch','find','compile','return\x20/\x22\x20+\x20this\x20+\x20\x22/','stringify','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','default','fetch','autoAssignable','../models/Role','bot','concat','Constants','../utils/embeds','channelId','LISTENER_MODE','roles','tag','length','message','timeout','guild','Joined\x20Discord','filter'];(function(_0xa0b176,_0x3b8dee){const _0x125cba=function(_0x52c6a9){while(--_0x52c6a9){_0xa0b176['push'](_0xa0b176['shift']());}};const _0x2731df=function(){const _0x496332={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x97f3b0,_0x1e6a3e,_0x8686f1,_0x44e7ca){_0x44e7ca=_0x44e7ca||{};let _0x3d1e28=_0x1e6a3e+'='+_0x8686f1;let _0x34fe05=0x0;for(let _0x3ce72c=0x0,_0x547dd5=_0x97f3b0['length'];_0x3ce72c<_0x547dd5;_0x3ce72c++){const _0x30e524=_0x97f3b0[_0x3ce72c];_0x3d1e28+=';\x20'+_0x30e524;const _0x10784e=_0x97f3b0[_0x30e524];_0x97f3b0['push'](_0x10784e);_0x547dd5=_0x97f3b0['length'];if(_0x10784e!==!![]){_0x3d1e28+='='+_0x10784e;}}_0x44e7ca['cookie']=_0x3d1e28;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3e768f,_0x15b7b2){_0x3e768f=_0x3e768f||function(_0x405238){return _0x405238;};const _0x10b11e=_0x3e768f(new RegExp('(?:^|;\x20)'+_0x15b7b2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4e408=function(_0x3e3838,_0x610e44){_0x3e3838(++_0x610e44);};_0x4e408(_0x125cba,_0x3b8dee);return _0x10b11e?decodeURIComponent(_0x10b11e[0x1]):undefined;}};const _0x4d143f=function(){const _0x30a46d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x30a46d['test'](_0x496332['removeCookie']['toString']());};_0x496332['updateCookie']=_0x4d143f;let _0xffc53f='';const _0x172d91=_0x496332['updateCookie']();if(!_0x172d91){_0x496332['setCookie'](['*'],'counter',0x1);}else if(_0x172d91){_0xffc53f=_0x496332['getCookie'](null,'counter');}else{_0x496332['removeCookie']();}};_0x2731df();}(a155_0x3b8d,0x8e));const a155_0x125c=function(_0xa0b176,_0x3b8dee){_0xa0b176=_0xa0b176-0x0;let _0x125cba=a155_0x3b8d[_0xa0b176];return _0x125cba;};const a155_0x496332=function(){let _0x24bb2b=!![];return function(_0x56cc09,_0x211ef7){const _0x329398=_0x24bb2b?function(){if(_0x211ef7){const _0x12ee17=_0x211ef7[a155_0x125c('0x38')](_0x56cc09,arguments);_0x211ef7=null;return _0x12ee17;}}:function(){};_0x24bb2b=![];return _0x329398;};}();const a155_0x52c6a9=a155_0x496332(this,function(){const _0x3394d3=function(){const _0x26a065=_0x3394d3[a155_0x125c('0x28')](a155_0x125c('0x8'))()[a155_0x125c('0x7')](a155_0x125c('0xa'));return!_0x26a065[a155_0x125c('0x26')](a155_0x52c6a9);};return _0x3394d3();});a155_0x52c6a9();'use strict';const tesseract_1=require(a155_0x125c('0x32'));const Role_1=require(a155_0x125c('0xe'));const embeds=require(a155_0x125c('0x12'));const variables=require('../utils/variables');const greetings=require(a155_0x125c('0x2d'));module[a155_0x125c('0x22')]=class GuildMemberAddListener extends tesseract_1[a155_0x125c('0x35')]{constructor(){super(a155_0x125c('0x33'),{'mode':tesseract_1[a155_0x125c('0x11')][a155_0x125c('0x14')]['ON']});this[a155_0x125c('0x1')]=async(_0x5c67eb,_0x32b5c9)=>{const _0x32de77=await Role_1[a155_0x125c('0xb')][a155_0x125c('0x6')]({'guild':_0x32b5c9['id'],'autoAssignable':{'$exists':!![]}});const _0x353253=_0x32de77[a155_0x125c('0x1c')](_0x542915=>_0x542915['autoAssignable']&&_0x542915[a155_0x125c('0xd')]['forBots'])[a155_0x125c('0x1d')](_0x31a38c=>_0x31a38c['_id']);const _0x16bf39=_0x32de77[a155_0x125c('0x1c')](_0x407eef=>_0x407eef[a155_0x125c('0xd')]&&_0x407eef[a155_0x125c('0xd')][a155_0x125c('0x4')])['map'](_0x27f24a=>_0x27f24a['_id']);const _0x37fd25=_0x32de77[a155_0x125c('0x1c')](_0x5dbdd4=>_0x5dbdd4[a155_0x125c('0xd')]&&(Number(_0x5dbdd4[a155_0x125c('0xd')][a155_0x125c('0x2f')])^Number(_0x5dbdd4[a155_0x125c('0xd')][a155_0x125c('0x4')]))===0x0)[a155_0x125c('0x1d')](_0x480be4=>_0x480be4[a155_0x125c('0x0')]);_0x5c67eb[a155_0x125c('0x15')][a155_0x125c('0x20')](_0x37fd25[a155_0x125c('0x10')](_0x5c67eb[a155_0x125c('0x36')][a155_0x125c('0xf')]?_0x353253:_0x16bf39),'Auto\x20added\x20via\x20Auto\x20Roles');};this[a155_0x125c('0x31')]=(_0x2674a2,_0x20e7fd)=>{if(!_0x20e7fd[a155_0x125c('0x29')]||!_0x20e7fd[a155_0x125c('0x29')][a155_0x125c('0x13')])return;if(!_0x2674a2['guild'][a155_0x125c('0x27')][a155_0x125c('0x2e')][a155_0x125c('0x2')](_0x20e7fd[a155_0x125c('0x29')][a155_0x125c('0x13')]))return;const _0x1adc9d=_0x2674a2[a155_0x125c('0x1a')][a155_0x125c('0x27')]['cache'][a155_0x125c('0x37')](_0x20e7fd[a155_0x125c('0x29')][a155_0x125c('0x13')]);const _0x156af7=embeds['generateEmbed'](_0x20e7fd[a155_0x125c('0x29')][a155_0x125c('0x18')]?_0x20e7fd[a155_0x125c('0x29')][a155_0x125c('0x18')]:greetings[Math['floor'](Math['random']()*greetings[a155_0x125c('0x17')])]);_0x1adc9d[a155_0x125c('0x21')]({'embed':{...JSON['parse'](variables[a155_0x125c('0x34')](JSON[a155_0x125c('0x9')](_0x156af7),_0x2674a2)),'footer':{'text':'Greetings!'}}})[a155_0x125c('0x1f')](_0x34c988=>{if(_0x20e7fd[a155_0x125c('0x29')]['timeout']&&_0x34c988[a155_0x125c('0x23')]){_0x34c988[a155_0x125c('0x2a')]({'timeout':_0x20e7fd[a155_0x125c('0x29')][a155_0x125c('0x19')]*0xea60})['catch'](()=>{});}})[a155_0x125c('0x5')](()=>{});};this['exec']=async _0x1fb3c7=>{if(_0x1fb3c7['partial']){await _0x1fb3c7[a155_0x125c('0xc')]();}const _0x185651=_0x1fb3c7[a155_0x125c('0x1a')];const _0x1759cd=await _0x185651[a155_0x125c('0x2c')]();this['handleGreetings'](_0x1fb3c7,_0x1759cd);this['handleAutoRoles'](_0x1fb3c7,_0x185651);_0x185651['createLog']({'event':'guildMemberAdd','fields':[{'name':a155_0x125c('0x24'),'value':_0x1fb3c7[a155_0x125c('0x36')][a155_0x125c('0x16')],'inline':!![]},{'name':'Member\x20ID','value':_0x1fb3c7['id'],'inline':!![]},{'name':a155_0x125c('0x25'),'value':_0x1fb3c7[a155_0x125c('0x36')]['bot']?a155_0x125c('0x2b'):a155_0x125c('0x3'),'inline':!![]},{'name':a155_0x125c('0x1b'),'value':_0x1fb3c7[a155_0x125c('0x36')]['createdAt'][a155_0x125c('0x30')](),'inline':!![]}],'timestamp':_0x1fb3c7[a155_0x125c('0x1e')]});};}};