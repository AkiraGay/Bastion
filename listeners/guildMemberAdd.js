const a155_0x5c02=['^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','get','channels','replaceMemberVariables','fetch','exports','autoAssignable','filter','Listener','Member\x20ID','handleAutoRoles','Greetings!','guildMemberAdd','catch','user','compile','tag','has','Auto\x20added\x20via\x20Auto\x20Roles','concat','test','floor','forUsers','message','../models/Role','add','timeout','channelId','parse','Member\x20Type','../utils/embeds','handleGreetings','roles','default','send','exec','joinedTimestamp','find','../utils/variables','greeting','stringify','delete','bot','_id','createLog','constructor','createdAt','map','forBots','Human','LISTENER_MODE','guild'];(function(_0x1f00e4,_0x5c0265){const _0x3aeee4=function(_0x2cc966){while(--_0x2cc966){_0x1f00e4['push'](_0x1f00e4['shift']());}};const _0x1b9adc=function(){const _0x479de7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4925ca,_0xa72165,_0x26bfd7,_0x18eb80){_0x18eb80=_0x18eb80||{};let _0x5280bf=_0xa72165+'='+_0x26bfd7;let _0x34d9fb=0x0;for(let _0x4095a7=0x0,_0x4550f0=_0x4925ca['length'];_0x4095a7<_0x4550f0;_0x4095a7++){const _0x510846=_0x4925ca[_0x4095a7];_0x5280bf+=';\x20'+_0x510846;const _0x13f39b=_0x4925ca[_0x510846];_0x4925ca['push'](_0x13f39b);_0x4550f0=_0x4925ca['length'];if(_0x13f39b!==!![]){_0x5280bf+='='+_0x13f39b;}}_0x18eb80['cookie']=_0x5280bf;},'removeCookie':function(){return'dev';},'getCookie':function(_0x291849,_0x545635){_0x291849=_0x291849||function(_0xbadd7a){return _0xbadd7a;};const _0x54e697=_0x291849(new RegExp('(?:^|;\x20)'+_0x545635['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x112301=function(_0x13c0c6,_0x1cb723){_0x13c0c6(++_0x1cb723);};_0x112301(_0x3aeee4,_0x5c0265);return _0x54e697?decodeURIComponent(_0x54e697[0x1]):undefined;}};const _0x44dd29=function(){const _0x9a4c2f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x9a4c2f['test'](_0x479de7['removeCookie']['toString']());};_0x479de7['updateCookie']=_0x44dd29;let _0x48f84f='';const _0xa71600=_0x479de7['updateCookie']();if(!_0xa71600){_0x479de7['setCookie'](['*'],'counter',0x1);}else if(_0xa71600){_0x48f84f=_0x479de7['getCookie'](null,'counter');}else{_0x479de7['removeCookie']();}};_0x1b9adc();}(a155_0x5c02,0xe6));const a155_0x3aee=function(_0x1f00e4,_0x5c0265){_0x1f00e4=_0x1f00e4-0x0;let _0x3aeee4=a155_0x5c02[_0x1f00e4];return _0x3aeee4;};const a155_0x479de7=function(){let _0x5e1e93=!![];return function(_0x492fb3,_0x9a3dbf){const _0x42826b=_0x5e1e93?function(){if(_0x9a3dbf){const _0x416f5a=_0x9a3dbf['apply'](_0x492fb3,arguments);_0x9a3dbf=null;return _0x416f5a;}}:function(){};_0x5e1e93=![];return _0x42826b;};}();const a155_0x2cc966=a155_0x479de7(this,function(){const _0x2c68ad=function(){const _0x43c068=_0x2c68ad[a155_0x3aee('0x17')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a155_0x3aee('0x2d')](a155_0x3aee('0x1e'));return!_0x43c068[a155_0x3aee('0x32')](a155_0x2cc966);};return _0x2c68ad();});a155_0x2cc966();'use strict';const tesseract_1=require('@bastion/tesseract');const Role_1=require(a155_0x3aee('0x2'));const embeds=require(a155_0x3aee('0x8'));const variables=require(a155_0x3aee('0x10'));const greetings=require('../assets/greetings.json');module[a155_0x3aee('0x23')]=class GuildMemberAddListener extends tesseract_1[a155_0x3aee('0x26')]{constructor(){super('guildMemberAdd',{'mode':tesseract_1['Constants'][a155_0x3aee('0x1c')]['ON']});this[a155_0x3aee('0x28')]=async(_0x456667,_0x2bbb90)=>{const _0x49d0f3=await Role_1[a155_0x3aee('0xb')][a155_0x3aee('0xf')]({'guild':_0x2bbb90['id'],'autoAssignable':{'$exists':!![]}});const _0xc9b0a2=_0x49d0f3[a155_0x3aee('0x25')](_0x3908be=>_0x3908be[a155_0x3aee('0x24')]&&_0x3908be[a155_0x3aee('0x24')][a155_0x3aee('0x1a')])[a155_0x3aee('0x19')](_0x7c5fd2=>_0x7c5fd2[a155_0x3aee('0x15')]);const _0x2121b8=_0x49d0f3['filter'](_0x21c79e=>_0x21c79e[a155_0x3aee('0x24')]&&_0x21c79e['autoAssignable']['forUsers'])[a155_0x3aee('0x19')](_0x1a51da=>_0x1a51da[a155_0x3aee('0x15')]);const _0x38eb15=_0x49d0f3[a155_0x3aee('0x25')](_0x383209=>_0x383209[a155_0x3aee('0x24')]&&(Number(_0x383209[a155_0x3aee('0x24')][a155_0x3aee('0x1a')])^Number(_0x383209['autoAssignable'][a155_0x3aee('0x0')]))===0x0)[a155_0x3aee('0x19')](_0x2410f5=>_0x2410f5[a155_0x3aee('0x15')]);_0x456667[a155_0x3aee('0xa')][a155_0x3aee('0x3')](_0x38eb15[a155_0x3aee('0x31')](_0x456667[a155_0x3aee('0x2c')][a155_0x3aee('0x14')]?_0xc9b0a2:_0x2121b8),a155_0x3aee('0x30'));};this[a155_0x3aee('0x9')]=(_0x7dbdf3,_0x3c52d4)=>{if(!_0x3c52d4[a155_0x3aee('0x11')]||!_0x3c52d4[a155_0x3aee('0x11')][a155_0x3aee('0x5')])return;if(!_0x7dbdf3[a155_0x3aee('0x1d')][a155_0x3aee('0x20')]['cache'][a155_0x3aee('0x2f')](_0x3c52d4[a155_0x3aee('0x11')][a155_0x3aee('0x5')]))return;const _0x364ab6=_0x7dbdf3[a155_0x3aee('0x1d')][a155_0x3aee('0x20')]['cache'][a155_0x3aee('0x1f')](_0x3c52d4[a155_0x3aee('0x11')]['channelId']);const _0x41538a=embeds['generateEmbed'](_0x3c52d4['greeting'][a155_0x3aee('0x1')]?_0x3c52d4[a155_0x3aee('0x11')]['message']:greetings[Math[a155_0x3aee('0x33')](Math['random']()*greetings['length'])]);_0x364ab6[a155_0x3aee('0xc')]({'embed':{...JSON[a155_0x3aee('0x6')](variables[a155_0x3aee('0x21')](JSON[a155_0x3aee('0x12')](_0x41538a),_0x7dbdf3)),'footer':{'text':a155_0x3aee('0x29')}}})['then'](_0x2165f5=>{if(_0x3c52d4[a155_0x3aee('0x11')][a155_0x3aee('0x4')]&&_0x2165f5['deletable']){_0x2165f5[a155_0x3aee('0x13')]({'timeout':_0x3c52d4[a155_0x3aee('0x11')][a155_0x3aee('0x4')]*0xea60})[a155_0x3aee('0x2b')](()=>{});}})[a155_0x3aee('0x2b')](()=>{});};this[a155_0x3aee('0xd')]=async _0x110e6a=>{if(_0x110e6a['partial']){await _0x110e6a[a155_0x3aee('0x22')]();}const _0x49cb4f=_0x110e6a[a155_0x3aee('0x1d')];const _0x2c8640=await _0x49cb4f['getDocument']();this[a155_0x3aee('0x9')](_0x110e6a,_0x2c8640);this['handleAutoRoles'](_0x110e6a,_0x49cb4f);_0x49cb4f[a155_0x3aee('0x16')]({'event':a155_0x3aee('0x2a'),'fields':[{'name':'Member','value':_0x110e6a[a155_0x3aee('0x2c')][a155_0x3aee('0x2e')],'inline':!![]},{'name':a155_0x3aee('0x27'),'value':_0x110e6a['id'],'inline':!![]},{'name':a155_0x3aee('0x7'),'value':_0x110e6a['user'][a155_0x3aee('0x14')]?'Bot':a155_0x3aee('0x1b'),'inline':!![]},{'name':'Joined\x20Discord','value':_0x110e6a['user'][a155_0x3aee('0x18')]['toUTCString'](),'inline':!![]}],'timestamp':_0x110e6a[a155_0x3aee('0xe')]});};}};