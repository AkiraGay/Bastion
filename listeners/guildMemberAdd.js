const a186_0x185c=['timeout','LISTENER_MODE','52890xMxKPh','send','floor','handleGreetings','cache','error','../utils/constants','user','length','forBots','2tXWmqR','668098WwnmMw','1jGodrs','.\x20Welcome\x20to\x20our\x20server!','guild','12135EPphRi','stringify','518678IfyjhA','Member\x20ID','1KcsYdf','name','Human','1HMhbnp','Greetings\x20from\x20','guildMemberAdd','joinedTimestamp','apply','default','bot','getDocument','handleInviteRoles','fetch','uses','constructor','7KXGIPs','Member','tag','Auto\x20added\x20via\x20Auto\x20Roles','code','Bot','Listener','@bastion/tesseract','exports','handleAutoRoles','parse','Member\x20Type','has','invites','autoAssignable','Greetings!','_id','257xMaytg','delete','message','forUsers','privateMessage','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channelId','get','filter','concat','../assets/greetings.json','test','add','2648ePIlyO','roles','createLog','then','find','generateEmbed','Logger','catch','Constants','3070202hpYsSa','replaceMemberVariables','95826HXAAYi','Joined\x20Discord','return\x20/\x22\x20+\x20this\x20+\x20\x22/','channels','greeting','exec','isPublicBastion','random','client','map'];const a186_0x4a11=function(_0x593f4f,_0x14075d){_0x593f4f=_0x593f4f-0x1e7;let _0x182eb8=a186_0x185c[_0x593f4f];return _0x182eb8;};const a186_0x558b21=a186_0x4a11;(function(_0x110b6,_0x5291aa){const _0x50d471=a186_0x4a11;while(!![]){try{const _0x1603b7=-parseInt(_0x50d471(0x225))*parseInt(_0x50d471(0x1fc))+-parseInt(_0x50d471(0x23c))*parseInt(_0x50d471(0x23b))+-parseInt(_0x50d471(0x23d))*-parseInt(_0x50d471(0x1eb))+parseInt(_0x50d471(0x231))+-parseInt(_0x50d471(0x1f0))*parseInt(_0x50d471(0x1e9))+parseInt(_0x50d471(0x20d))*-parseInt(_0x50d471(0x21a))+-parseInt(_0x50d471(0x223))*-parseInt(_0x50d471(0x1ed));if(_0x1603b7===_0x5291aa)break;else _0x110b6['push'](_0x110b6['shift']());}catch(_0x466e34){_0x110b6['push'](_0x110b6['shift']());}}}(a186_0x185c,0xe6029));const a186_0x21c0aa=function(){let _0x28c0e3=!![];return function(_0xd2562b,_0x50667e){const _0x3fb367=_0x28c0e3?function(){const _0x11f1af=a186_0x4a11;if(_0x50667e){const _0x4c0230=_0x50667e[_0x11f1af(0x1f4)](_0xd2562b,arguments);return _0x50667e=null,_0x4c0230;}}:function(){};return _0x28c0e3=![],_0x3fb367;};}(),a186_0x53ecf8=a186_0x21c0aa(this,function(){const _0x3b0d6f=function(){const _0x3c125a=a186_0x4a11,_0x2188a3=_0x3b0d6f['constructor'](_0x3c125a(0x227))()[_0x3c125a(0x1fb)](_0x3c125a(0x212));return!_0x2188a3[_0x3c125a(0x218)](a186_0x53ecf8);};return _0x3b0d6f();});a186_0x53ecf8();'use strict';const tesseract_1=require(a186_0x558b21(0x203)),Role_1=require('../models/Role'),constants=require(a186_0x558b21(0x237)),embeds=require('../utils/embeds'),variables=require('../utils/variables'),greetings=require(a186_0x558b21(0x217));module[a186_0x558b21(0x204)]=class GuildMemberAddListener extends tesseract_1[a186_0x558b21(0x202)]{constructor(){const _0x2ed696=a186_0x558b21;super('guildMemberAdd',{'mode':tesseract_1[_0x2ed696(0x222)][_0x2ed696(0x230)]['ON']}),this[_0x2ed696(0x205)]=async(_0x1f0a9f,_0x3fe2c1)=>{const _0x2d36c1=_0x2ed696,_0x4fccfa=await Role_1[_0x2d36c1(0x1f5)][_0x2d36c1(0x21e)]({'guild':_0x3fe2c1['id'],'autoAssignable':{'$exists':!![],'$ne':null}}),_0x209711=_0x4fccfa['filter'](_0xc10f8e=>_0xc10f8e['autoAssignable']&&_0xc10f8e[_0x2d36c1(0x20a)][_0x2d36c1(0x23a)])[_0x2d36c1(0x22e)](_0xb40e7d=>_0xb40e7d[_0x2d36c1(0x20c)]),_0xfda81a=_0x4fccfa['filter'](_0x1e7cfa=>_0x1e7cfa[_0x2d36c1(0x20a)]&&_0x1e7cfa[_0x2d36c1(0x20a)]['forUsers'])['map'](_0x385702=>_0x385702[_0x2d36c1(0x20c)]),_0x4a9e65=_0x4fccfa[_0x2d36c1(0x215)](_0xe156c2=>_0xe156c2[_0x2d36c1(0x20a)]&&(Number(_0xe156c2[_0x2d36c1(0x20a)][_0x2d36c1(0x23a)])^Number(_0xe156c2[_0x2d36c1(0x20a)][_0x2d36c1(0x210)]))===0x0)[_0x2d36c1(0x22e)](_0x2462cc=>_0x2462cc[_0x2d36c1(0x20c)]);(_0x209711[_0x2d36c1(0x239)]||_0xfda81a[_0x2d36c1(0x239)]||_0x4a9e65[_0x2d36c1(0x239)])&&_0x1f0a9f[_0x2d36c1(0x21b)][_0x2d36c1(0x219)](_0x4a9e65[_0x2d36c1(0x216)](_0x1f0a9f[_0x2d36c1(0x238)]['bot']?_0x209711:_0xfda81a),_0x2d36c1(0x1ff));},this['handleGreetings']=(_0x527b6f,_0x5d6693)=>{const _0x30d235=_0x2ed696;if(!_0x5d6693[_0x30d235(0x229)])return;_0x5d6693[_0x30d235(0x229)][_0x30d235(0x211)]&&_0x527b6f['createDM']()[_0x30d235(0x21d)](_0x3258ef=>{const _0xd21d94=_0x30d235;_0x3258ef[_0xd21d94(0x232)]({'embed':{...JSON[_0xd21d94(0x206)](variables[_0xd21d94(0x224)](JSON['stringify'](_0x2079d6),_0x527b6f)),'footer':{'text':_0xd21d94(0x1f1)+_0x527b6f[_0xd21d94(0x1e8)][_0xd21d94(0x1ee)]+_0xd21d94(0x1e7)}}})[_0xd21d94(0x221)](()=>{});})[_0x30d235(0x221)](()=>{});if(!_0x5d6693['greeting']['channelId'])return;if(!_0x527b6f[_0x30d235(0x1e8)]['channels'][_0x30d235(0x235)][_0x30d235(0x208)](_0x5d6693[_0x30d235(0x229)][_0x30d235(0x213)]))return;const _0x24344a=_0x527b6f[_0x30d235(0x1e8)][_0x30d235(0x228)][_0x30d235(0x235)][_0x30d235(0x214)](_0x5d6693[_0x30d235(0x229)][_0x30d235(0x213)]),_0x2079d6=embeds[_0x30d235(0x21f)](_0x5d6693[_0x30d235(0x229)][_0x30d235(0x20f)]?_0x5d6693[_0x30d235(0x229)][_0x30d235(0x20f)]:greetings[Math[_0x30d235(0x233)](Math[_0x30d235(0x22c)]()*greetings['length'])]);_0x24344a[_0x30d235(0x232)]({'embed':{...JSON[_0x30d235(0x206)](variables[_0x30d235(0x224)](JSON[_0x30d235(0x1ea)](_0x2079d6),_0x527b6f)),'footer':{'text':_0x30d235(0x20b)}}})[_0x30d235(0x21d)](_0x1cb2ef=>{const _0x11a033=_0x30d235;_0x5d6693[_0x11a033(0x229)][_0x11a033(0x22f)]&&_0x1cb2ef['deletable']&&_0x1cb2ef[_0x11a033(0x20e)]({'timeout':_0x5d6693[_0x11a033(0x229)][_0x11a033(0x22f)]*0xea60})[_0x11a033(0x221)](()=>{});})[_0x30d235(0x221)](()=>{});},this[_0x2ed696(0x1f8)]=async _0x5f5370=>{const _0x45b3e1=_0x2ed696;if(constants[_0x45b3e1(0x22b)](_0x5f5370[_0x45b3e1(0x22d)][_0x45b3e1(0x238)]))return;const _0x1ddd2c=await _0x5f5370[_0x45b3e1(0x1e8)]['fetchInvites'](),_0x1aa5a7=_0x1ddd2c[_0x45b3e1(0x21e)](_0x47b707=>_0x47b707[_0x45b3e1(0x1fa)]>_0x5f5370[_0x45b3e1(0x1e8)][_0x45b3e1(0x209)][_0x47b707[_0x45b3e1(0x200)]]);for(const _0x48d8e2 of _0x1ddd2c['values']()){_0x5f5370['guild']['invites'][_0x48d8e2[_0x45b3e1(0x200)]]=_0x48d8e2[_0x45b3e1(0x1fa)]||0x0;}const _0x251ca9=await Role_1[_0x45b3e1(0x1f5)][_0x45b3e1(0x21e)]({'guild':_0x5f5370[_0x45b3e1(0x1e8)]['id'],'invite':_0x1aa5a7[_0x45b3e1(0x200)]});_0x251ca9&&_0x251ca9[_0x45b3e1(0x239)]&&await _0x5f5370['roles'][_0x45b3e1(0x219)](_0x251ca9['map'](_0x1e4304=>_0x1e4304[_0x45b3e1(0x20c)]),'Joined\x20using\x20the\x20invite\x20'+_0x1aa5a7['code']);},this[_0x2ed696(0x22a)]=async _0x2ed49b=>{const _0x5a59bb=_0x2ed696;_0x2ed49b['partial']&&await _0x2ed49b[_0x5a59bb(0x1f9)]();const _0x3d633e=_0x2ed49b[_0x5a59bb(0x1e8)],_0x4a9ff9=await _0x3d633e[_0x5a59bb(0x1f7)]();this[_0x5a59bb(0x234)](_0x2ed49b,_0x4a9ff9),this[_0x5a59bb(0x205)](_0x2ed49b,_0x3d633e),this['handleInviteRoles'](_0x2ed49b)[_0x5a59bb(0x221)](tesseract_1[_0x5a59bb(0x220)][_0x5a59bb(0x236)]),_0x3d633e[_0x5a59bb(0x21c)]({'event':_0x5a59bb(0x1f2),'fields':[{'name':_0x5a59bb(0x1fd),'value':_0x2ed49b[_0x5a59bb(0x238)][_0x5a59bb(0x1fe)],'inline':!![]},{'name':_0x5a59bb(0x1ec),'value':_0x2ed49b['id'],'inline':!![]},{'name':_0x5a59bb(0x207),'value':_0x2ed49b[_0x5a59bb(0x238)][_0x5a59bb(0x1f6)]?_0x5a59bb(0x201):_0x5a59bb(0x1ef),'inline':!![]},{'name':_0x5a59bb(0x226),'value':_0x2ed49b[_0x5a59bb(0x238)]['createdAt']['toUTCString'](),'inline':!![]}],'timestamp':_0x2ed49b[_0x5a59bb(0x1f3)]});};}};