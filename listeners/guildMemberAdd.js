const a188_0x68a40e=a188_0x17b4;(function(_0x3774d2,_0x608228){const _0x307d7d=a188_0x17b4,_0x16f33c=_0x3774d2();while(!![]){try{const _0x5034dd=-parseInt(_0x307d7d(0x181))/0x1*(-parseInt(_0x307d7d(0x188))/0x2)+-parseInt(_0x307d7d(0x1cd))/0x3*(parseInt(_0x307d7d(0x19c))/0x4)+-parseInt(_0x307d7d(0x19a))/0x5*(parseInt(_0x307d7d(0x1c3))/0x6)+parseInt(_0x307d7d(0x1c1))/0x7*(-parseInt(_0x307d7d(0x19e))/0x8)+-parseInt(_0x307d7d(0x190))/0x9*(-parseInt(_0x307d7d(0x1ac))/0xa)+parseInt(_0x307d7d(0x1b7))/0xb*(-parseInt(_0x307d7d(0x1a2))/0xc)+-parseInt(_0x307d7d(0x1bb))/0xd*(-parseInt(_0x307d7d(0x191))/0xe);if(_0x5034dd===_0x608228)break;else _0x16f33c['push'](_0x16f33c['shift']());}catch(_0x26ed02){_0x16f33c['push'](_0x16f33c['shift']());}}}(a188_0x35ce,0x4c102));const a188_0x1d609d=(function(){let _0x2292c9=!![];return function(_0x168e66,_0x57c19c){const _0x39906a=_0x2292c9?function(){const _0x34ebfd=a188_0x17b4;if(_0x57c19c){const _0x259eb8=_0x57c19c[_0x34ebfd(0x1a5)](_0x168e66,arguments);return _0x57c19c=null,_0x259eb8;}}:function(){};return _0x2292c9=![],_0x39906a;};}()),a188_0x2b78e5=a188_0x1d609d(this,function(){const _0x4bb056=a188_0x17b4;return a188_0x2b78e5[_0x4bb056(0x1b9)]()[_0x4bb056(0x192)](_0x4bb056(0x1a8))[_0x4bb056(0x1b9)]()[_0x4bb056(0x18a)](a188_0x2b78e5)[_0x4bb056(0x192)](_0x4bb056(0x1a8));});function a188_0x17b4(_0x42e9e7,_0xb991d7){const _0xcd9ac9=a188_0x35ce();return a188_0x17b4=function(_0x2b78e5,_0x1d609d){_0x2b78e5=_0x2b78e5-0x17f;let _0x35cec0=_0xcd9ac9[_0x2b78e5];return _0x35cec0;},a188_0x17b4(_0x42e9e7,_0xb991d7);}a188_0x2b78e5();'use strict';const tesseract_1=require(a188_0x68a40e(0x1c2)),Role_1=require(a188_0x68a40e(0x18e)),constants=require('../utils/constants'),embeds=require('../utils/embeds'),variables=require(a188_0x68a40e(0x198)),greetings=require(a188_0x68a40e(0x1b2));function a188_0x35ce(){const _0x5a3894=['Member\x20ID','apply','Listener','deletable','(((.+)+)+)+$','tag','.\x20Welcome\x20to\x20our\x20server!','message','407410BACnwO','uses','stringify','values','Bot','catch','../assets/greetings.json','guildMemberAdd','Logger','LISTENER_MODE','forUsers','11WsoNcR','channelId','toString','_id','2368639bMPBVT','createDM','Joined\x20using\x20the\x20invite\x20','replaceMemberVariables','getDocument','invites','2177CRbadN','@bastion/tesseract','6UuEAXk','exec','default','length','floor','handleInviteRoles','timeout','Human','send','add','3642XZAldl','privateMessage','handleAutoRoles','parse','has','autoAssignable','exports','350165BBBuQC','toUTCString','code','Member\x20Type','get','Greetings!','filter','2KTLXPU','forBots','constructor','concat','channels','user','../models/Role','find','9ngrnpj','98kYPibL','search','guild','handleGreetings','createdAt','greeting','Joined\x20Discord','../utils/variables','client','2117315KeZLMn','map','584zDnmTh','fetch','13656uuBJCx','Member','error','roles','2678268ZSVpEA','then'];a188_0x35ce=function(){return _0x5a3894;};return a188_0x35ce();}module[a188_0x68a40e(0x180)]=class GuildMemberAddListener extends tesseract_1[a188_0x68a40e(0x1a6)]{constructor(){const _0x38bd6d=a188_0x68a40e;super('guildMemberAdd',{'mode':tesseract_1['Constants'][_0x38bd6d(0x1b5)]['ON']});}[a188_0x68a40e(0x1cf)]=async(_0x27d1f2,_0x4d9bd8)=>{const _0x4dfa50=a188_0x68a40e,_0x365db9=await Role_1['default'][_0x4dfa50(0x18f)]({'guild':_0x4d9bd8['id'],'autoAssignable':{'$exists':!![],'$ne':null}}),_0x3ebb98=_0x365db9[_0x4dfa50(0x187)](_0x576ba1=>_0x576ba1['autoAssignable']&&_0x576ba1[_0x4dfa50(0x17f)][_0x4dfa50(0x189)])['map'](_0x38f183=>_0x38f183[_0x4dfa50(0x1ba)]),_0x1501e8=_0x365db9[_0x4dfa50(0x187)](_0x147fb9=>_0x147fb9[_0x4dfa50(0x17f)]&&_0x147fb9['autoAssignable'][_0x4dfa50(0x1b6)])[_0x4dfa50(0x19b)](_0x35b932=>_0x35b932[_0x4dfa50(0x1ba)]),_0x3f961f=_0x365db9['filter'](_0x4d7a3a=>_0x4d7a3a['autoAssignable']&&(Number(_0x4d7a3a['autoAssignable'][_0x4dfa50(0x189)])^Number(_0x4d7a3a['autoAssignable'][_0x4dfa50(0x1b6)]))===0x0)['map'](_0x524e29=>_0x524e29[_0x4dfa50(0x1ba)]);(_0x3ebb98[_0x4dfa50(0x1c6)]||_0x1501e8[_0x4dfa50(0x1c6)]||_0x3f961f['length'])&&_0x27d1f2[_0x4dfa50(0x1a1)][_0x4dfa50(0x1cc)](_0x3f961f[_0x4dfa50(0x18b)](_0x27d1f2[_0x4dfa50(0x18d)]['bot']?_0x3ebb98:_0x1501e8),'Auto\x20added\x20via\x20Auto\x20Roles');};[a188_0x68a40e(0x194)]=(_0x417940,_0x192d92)=>{const _0x1f9d58=a188_0x68a40e;if(!_0x192d92['greeting'])return;_0x192d92['greeting'][_0x1f9d58(0x1ce)]&&_0x417940[_0x1f9d58(0x1bc)]()[_0x1f9d58(0x1a3)](_0x228e0f=>{const _0xd7eefd=_0x1f9d58;_0x228e0f[_0xd7eefd(0x1cb)]({'embed':{...JSON[_0xd7eefd(0x1d0)](variables[_0xd7eefd(0x1be)](JSON[_0xd7eefd(0x1ae)](_0x37a7fc),_0x417940)),'footer':{'text':'Greetings\x20from\x20'+_0x417940[_0xd7eefd(0x193)]['name']+_0xd7eefd(0x1aa)}}})[_0xd7eefd(0x1b1)](()=>{});})[_0x1f9d58(0x1b1)](()=>{});if(!_0x192d92[_0x1f9d58(0x196)][_0x1f9d58(0x1b8)])return;if(!_0x417940[_0x1f9d58(0x193)][_0x1f9d58(0x18c)]['cache'][_0x1f9d58(0x1d1)](_0x192d92[_0x1f9d58(0x196)][_0x1f9d58(0x1b8)]))return;const _0x400931=_0x417940['guild'][_0x1f9d58(0x18c)]['cache'][_0x1f9d58(0x185)](_0x192d92[_0x1f9d58(0x196)][_0x1f9d58(0x1b8)]),_0x37a7fc=embeds['generateEmbed'](_0x192d92['greeting'][_0x1f9d58(0x1ab)]?_0x192d92[_0x1f9d58(0x196)][_0x1f9d58(0x1ab)]:greetings[Math[_0x1f9d58(0x1c7)](Math['random']()*greetings[_0x1f9d58(0x1c6)])]);_0x400931[_0x1f9d58(0x1cb)]({'embed':{...JSON[_0x1f9d58(0x1d0)](variables[_0x1f9d58(0x1be)](JSON['stringify'](_0x37a7fc),_0x417940)),'footer':{'text':_0x1f9d58(0x186)}}})[_0x1f9d58(0x1a3)](_0x161e17=>{const _0x41a10d=_0x1f9d58;_0x192d92[_0x41a10d(0x196)][_0x41a10d(0x1c9)]&&_0x161e17[_0x41a10d(0x1a7)]&&_0x161e17['delete']({'timeout':_0x192d92[_0x41a10d(0x196)][_0x41a10d(0x1c9)]*0xea60})[_0x41a10d(0x1b1)](()=>{});})[_0x1f9d58(0x1b1)](()=>{});};[a188_0x68a40e(0x1c8)]=async _0x12e2b4=>{const _0x1bc1ca=a188_0x68a40e;if(constants['isPublicBastion'](_0x12e2b4[_0x1bc1ca(0x199)]['user']))return;const _0x361251=await _0x12e2b4[_0x1bc1ca(0x193)]['fetchInvites'](),_0x119943=_0x361251[_0x1bc1ca(0x18f)](_0x2e051b=>_0x2e051b[_0x1bc1ca(0x1ad)]>_0x12e2b4['guild']['invites'][_0x2e051b[_0x1bc1ca(0x183)]]);if(!_0x119943)return;for(const _0x2b13fe of _0x361251[_0x1bc1ca(0x1af)]()){_0x12e2b4[_0x1bc1ca(0x193)][_0x1bc1ca(0x1c0)][_0x2b13fe[_0x1bc1ca(0x183)]]=_0x2b13fe[_0x1bc1ca(0x1ad)]||0x0;}const _0x2afd56=await Role_1[_0x1bc1ca(0x1c5)][_0x1bc1ca(0x18f)]({'guild':_0x12e2b4['guild']['id'],'invite':_0x119943['code']});_0x2afd56&&_0x2afd56[_0x1bc1ca(0x1c6)]&&await _0x12e2b4[_0x1bc1ca(0x1a1)][_0x1bc1ca(0x1cc)](_0x2afd56['map'](_0x19865d=>_0x19865d[_0x1bc1ca(0x1ba)]),_0x1bc1ca(0x1bd)+_0x119943['code']);};[a188_0x68a40e(0x1c4)]=async _0x2cb998=>{const _0x4bdc06=a188_0x68a40e;_0x2cb998['partial']&&await _0x2cb998[_0x4bdc06(0x19d)]();const _0xbda184=_0x2cb998['guild'],_0x4d44ae=await _0xbda184[_0x4bdc06(0x1bf)]();this[_0x4bdc06(0x194)](_0x2cb998,_0x4d44ae),this['handleAutoRoles'](_0x2cb998,_0xbda184),this['handleInviteRoles'](_0x2cb998)[_0x4bdc06(0x1b1)](tesseract_1[_0x4bdc06(0x1b4)][_0x4bdc06(0x1a0)]),_0xbda184['createLog']({'event':_0x4bdc06(0x1b3),'fields':[{'name':_0x4bdc06(0x19f),'value':_0x2cb998['user'][_0x4bdc06(0x1a9)],'inline':!![]},{'name':_0x4bdc06(0x1a4),'value':_0x2cb998['id'],'inline':!![]},{'name':_0x4bdc06(0x184),'value':_0x2cb998[_0x4bdc06(0x18d)]['bot']?_0x4bdc06(0x1b0):_0x4bdc06(0x1ca),'inline':!![]},{'name':_0x4bdc06(0x197),'value':_0x2cb998[_0x4bdc06(0x18d)][_0x4bdc06(0x195)][_0x4bdc06(0x182)](),'inline':!![]}],'timestamp':_0x2cb998['joinedTimestamp']});};};