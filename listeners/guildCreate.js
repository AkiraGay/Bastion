const a373_0x91ab=['bastion','constructor','credentials','webhookToken','exec','Logger','send','\x20server.','../models/Guild','error','Server\x20Owner','owner','findByIdAndUpdate','GREEN','user','I\x20have\x20joined\x20the\x20','client','return\x20/\x22\x20+\x20this\x20+\x20\x22/','guildCreate','name','test','webhookID','catch','\x20/\x20','default','exports','Constants','Bastion','compile','apply','COLORS','icon'];(function(_0x47405f,_0x91ab28){const _0x5f51b3=function(_0x163dfb){while(--_0x163dfb){_0x47405f['push'](_0x47405f['shift']());}};const _0x2ded2d=function(){const _0x3e3460={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x46ff2c,_0x2f8b99,_0x53f2d1,_0x1fe41f){_0x1fe41f=_0x1fe41f||{};let _0x4d3bc8=_0x2f8b99+'='+_0x53f2d1;let _0x26e899=0x0;for(let _0x347e61=0x0,_0x56591e=_0x46ff2c['length'];_0x347e61<_0x56591e;_0x347e61++){const _0x39dae1=_0x46ff2c[_0x347e61];_0x4d3bc8+=';\x20'+_0x39dae1;const _0x3f9cc3=_0x46ff2c[_0x39dae1];_0x46ff2c['push'](_0x3f9cc3);_0x56591e=_0x46ff2c['length'];if(_0x3f9cc3!==!![]){_0x4d3bc8+='='+_0x3f9cc3;}}_0x1fe41f['cookie']=_0x4d3bc8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5ec160,_0x354ce4){_0x5ec160=_0x5ec160||function(_0x20d2fa){return _0x20d2fa;};const _0x232440=_0x5ec160(new RegExp('(?:^|;\x20)'+_0x354ce4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3c0c92=function(_0x401b72,_0x5b13e0){_0x401b72(++_0x5b13e0);};_0x3c0c92(_0x5f51b3,_0x91ab28);return _0x232440?decodeURIComponent(_0x232440[0x1]):undefined;}};const _0x3c1de1=function(){const _0x1132c5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1132c5['test'](_0x3e3460['removeCookie']['toString']());};_0x3e3460['updateCookie']=_0x3c1de1;let _0x2d743a='';const _0x139a96=_0x3e3460['updateCookie']();if(!_0x139a96){_0x3e3460['setCookie'](['*'],'counter',0x1);}else if(_0x139a96){_0x2d743a=_0x3e3460['getCookie'](null,'counter');}else{_0x3e3460['removeCookie']();}};_0x2ded2d();}(a373_0x91ab,0x18f));const a373_0x5f51=function(_0x47405f,_0x91ab28){_0x47405f=_0x47405f-0x0;let _0x5f51b3=a373_0x91ab[_0x47405f];return _0x5f51b3;};const a373_0x3e3460=function(){let _0xbdab75=!![];return function(_0x378b8d,_0x1aa3f6){const _0x50ef8a=_0xbdab75?function(){if(_0x1aa3f6){const _0x31815d=_0x1aa3f6[a373_0x5f51('0xe')](_0x378b8d,arguments);_0x1aa3f6=null;return _0x31815d;}}:function(){};_0xbdab75=![];return _0x50ef8a;};}();const a373_0x163dfb=a373_0x3e3460(this,function(){const _0x177a74=function(){const _0x1fd56c=_0x177a74[a373_0x5f51('0x12')](a373_0x5f51('0x2'))()[a373_0x5f51('0xd')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1fd56c[a373_0x5f51('0x5')](a373_0x163dfb);};return _0x177a74();});a373_0x163dfb();'use strict';const tesseract_1=require('@bastion/tesseract');const Guild_1=require(a373_0x5f51('0x19'));module[a373_0x5f51('0xa')]=class GuildCreateListener extends tesseract_1['Listener']{constructor(){super(a373_0x5f51('0x3'),{'mode':tesseract_1[a373_0x5f51('0xb')]['LISTENER_MODE']['ON']});this[a373_0x5f51('0x15')]=async _0x37b67b=>{Guild_1[a373_0x5f51('0x9')][a373_0x5f51('0x1d')](_0x37b67b['id'],{'_id':_0x37b67b['id']},{'upsert':!![]})[a373_0x5f51('0x7')](tesseract_1[a373_0x5f51('0x16')][a373_0x5f51('0x1a')]);const _0x15cc87=this[a373_0x5f51('0x1')][a373_0x5f51('0x13')];if(_0x15cc87[a373_0x5f51('0x11')]&&_0x15cc87['bastion']['webhookID']&&_0x15cc87[a373_0x5f51('0x11')][a373_0x5f51('0x14')]){const _0x121feb=await this[a373_0x5f51('0x1')]['fetchWebhook'](_0x15cc87[a373_0x5f51('0x11')][a373_0x5f51('0x6')],_0x15cc87[a373_0x5f51('0x11')][a373_0x5f51('0x14')]);_0x121feb[a373_0x5f51('0x17')]({'username':a373_0x5f51('0xc'),'embeds':[{'color':tesseract_1[a373_0x5f51('0xb')][a373_0x5f51('0xf')][a373_0x5f51('0x1e')],'description':a373_0x5f51('0x0')+_0x37b67b[a373_0x5f51('0x4')]+a373_0x5f51('0x18'),'fields':[{'name':a373_0x5f51('0x1b'),'value':_0x37b67b['owner'][a373_0x5f51('0x1f')]['tag']+a373_0x5f51('0x8')+_0x37b67b[a373_0x5f51('0x1c')]['user']['id']}],'footer':{'text':_0x37b67b['id']},'thumbnail':{'url':_0x37b67b[a373_0x5f51('0x10')]?_0x37b67b['iconURL']({'dynamic':!![],'size':0x200}):''},'timestamp':new Date()}]})[a373_0x5f51('0x7')](()=>{});}};}};