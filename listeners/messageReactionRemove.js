const a195_0x4a90=['member','Pin\x20reaction\x20removed\x20by\x20','@bastion/tesseract','../models/Role','findById','Constants','roles','channel','../utils/emojis','getDocument','animated','user','tag','name','MANAGE_MESSAGES','exports','includes','apply','partial','permissionsFor','handleReactionPinning','handleReactionRoles','catch','LISTENER_MODE','return\x20/\x22\x20+\x20this\x20+\x20\x22/','default','unpin','../models/ReactionRoleGroup','has','emoji','value','message','_id','guild','findOne','constructor','parseEmoji','messageReactionRemove','exec','fetch','test'];(function(_0x1c5527,_0xa04e7f){const _0x4a9072=function(_0x551e92){while(--_0x551e92){_0x1c5527['push'](_0x1c5527['shift']());}},_0x5d22bd=function(){const _0x22fa32={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x494e29,_0x586a49,_0x5485e4,_0x4ea98c){_0x4ea98c=_0x4ea98c||{};let _0x2b7583=_0x586a49+'='+_0x5485e4,_0x2fd278=0x0;for(let _0x268928=0x0,_0x49d2a6=_0x494e29['length'];_0x268928<_0x49d2a6;_0x268928++){const _0x3c3c86=_0x494e29[_0x268928];_0x2b7583+=';\x20'+_0x3c3c86;const _0x10ba49=_0x494e29[_0x3c3c86];_0x494e29['push'](_0x10ba49),_0x49d2a6=_0x494e29['length'],_0x10ba49!==!![]&&(_0x2b7583+='='+_0x10ba49);}_0x4ea98c['cookie']=_0x2b7583;},'removeCookie':function(){return'dev';},'getCookie':function(_0x29f986,_0x373b8f){_0x29f986=_0x29f986||function(_0x819307){return _0x819307;};const _0x492252=_0x29f986(new RegExp('(?:^|;\x20)'+_0x373b8f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3c2666=function(_0x527f13,_0x3bc896){_0x527f13(++_0x3bc896);};return _0x3c2666(_0x4a9072,_0xa04e7f),_0x492252?decodeURIComponent(_0x492252[0x1]):undefined;}},_0x5eca25=function(){const _0x316a33=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x316a33['test'](_0x22fa32['removeCookie']['toString']());};_0x22fa32['updateCookie']=_0x5eca25;let _0x4f07c8='';const _0x41392c=_0x22fa32['updateCookie']();if(!_0x41392c)_0x22fa32['setCookie'](['*'],'counter',0x1);else _0x41392c?_0x4f07c8=_0x22fa32['getCookie'](null,'counter'):_0x22fa32['removeCookie']();};_0x5d22bd();}(a195_0x4a90,0xfe));const a195_0x5d22=function(_0x1c5527,_0xa04e7f){_0x1c5527=_0x1c5527-0x163;let _0x4a9072=a195_0x4a90[_0x1c5527];return _0x4a9072;};const a195_0x4a769f=a195_0x5d22,a195_0x5eca25=function(){let _0x41392c=!![];return function(_0x494e29,_0x586a49){const _0x5485e4=_0x41392c?function(){const _0x49d832=a195_0x5d22;if(_0x586a49){const _0x4ea98c=_0x586a49[_0x49d832(0x16c)](_0x494e29,arguments);return _0x586a49=null,_0x4ea98c;}}:function(){};return _0x41392c=![],_0x5485e4;};}(),a195_0x22fa32=a195_0x5eca25(this,function(){const _0x2b7583=function(){const _0x123b1f=a195_0x5d22,_0x2fd278=_0x2b7583[_0x123b1f(0x17e)](_0x123b1f(0x173))()[_0x123b1f(0x17e)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2fd278[_0x123b1f(0x183)](a195_0x22fa32);};return _0x2b7583();});a195_0x22fa32();'use strict';const tesseract_1=require(a195_0x4a769f(0x186)),ReactionRoleGroup_1=require(a195_0x4a769f(0x176)),Role_1=require(a195_0x4a769f(0x187)),emojis=require(a195_0x4a769f(0x163));module[a195_0x4a769f(0x16a)]=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){const _0x224e62=a195_0x4a769f;super(_0x224e62(0x180),{'mode':tesseract_1[_0x224e62(0x189)][_0x224e62(0x172)]['ON']}),this[_0x224e62(0x16f)]=async(_0x268928,_0x49d2a6)=>{const _0x5cd69a=_0x224e62;if(!['📌','📍'][_0x5cd69a(0x16b)](_0x268928['emoji'][_0x5cd69a(0x168)]))return;if(!_0x268928[_0x5cd69a(0x17a)][_0x5cd69a(0x18b)][_0x5cd69a(0x16e)](_0x49d2a6)[_0x5cd69a(0x177)](_0x5cd69a(0x169)))return;await _0x268928[_0x5cd69a(0x17a)][_0x5cd69a(0x175)]({'reason':_0x5cd69a(0x185)+_0x49d2a6['user']?_0x49d2a6[_0x5cd69a(0x166)][_0x5cd69a(0x167)]:_0x49d2a6['id']});},this['handleReactionRoles']=async(_0x3c3c86,_0x10ba49)=>{const _0x111014=_0x224e62,_0x29f986=await ReactionRoleGroup_1[_0x111014(0x174)][_0x111014(0x188)](_0x3c3c86[_0x111014(0x17a)]['id']);if(!_0x29f986)return;const _0x373b8f=_0x3c3c86['emoji']['id']?'<'+(_0x3c3c86[_0x111014(0x178)][_0x111014(0x165)]?'a':'')+':'+_0x3c3c86[_0x111014(0x178)][_0x111014(0x168)]+':'+_0x3c3c86['emoji']['id']+'>':_0x3c3c86['emoji'][_0x111014(0x168)],_0x492252=emojis[_0x111014(0x17f)](_0x373b8f);if(_0x492252){const _0x3c2666=await Role_1['default'][_0x111014(0x17d)]({'$or':_0x29f986[_0x111014(0x18a)]['map'](_0x819307=>({'_id':_0x819307})),'guild':_0x3c3c86[_0x111014(0x17a)][_0x111014(0x17c)]['id'],'emoji':_0x492252[_0x111014(0x179)]});if(!_0x3c2666)return;await _0x10ba49[_0x111014(0x18a)]['remove'](_0x3c2666[_0x111014(0x17b)],'Removed\x20via\x20Reaction\x20Roles');}},this[_0x224e62(0x181)]=async(_0x527f13,_0x3bc896)=>{const _0x2b4381=_0x224e62;_0x527f13[_0x2b4381(0x16d)]&&(_0x527f13=await _0x527f13[_0x2b4381(0x182)]());_0x527f13[_0x2b4381(0x17a)][_0x2b4381(0x16d)]&&(_0x527f13[_0x2b4381(0x17a)]=await _0x527f13[_0x2b4381(0x17a)][_0x2b4381(0x182)]());if(!_0x527f13[_0x2b4381(0x17a)][_0x2b4381(0x17c)])return;const _0x316a33=_0x527f13[_0x2b4381(0x17a)]['guild'][_0x2b4381(0x184)](_0x3bc896);this[_0x2b4381(0x170)](_0x527f13,_0x316a33)[_0x2b4381(0x171)](()=>{});const _0x480376=await _0x527f13[_0x2b4381(0x17a)][_0x2b4381(0x17c)][_0x2b4381(0x164)]();_0x480376['reactionPinning']&&this[_0x2b4381(0x16f)](_0x527f13,_0x316a33)[_0x2b4381(0x171)](()=>{});};}};