const a605_0x4afe=['exec','Constants','compile','handleReactionPinning','Listener','roles','exports','Removed\x20via\x20Reaction\x20Roles','reactionPinning','constructor','includes','../utils/emojis','message','../models/ReactionRoleGroup','LISTENER_MODE','MANAGE_MESSAGES','findOne','partial','map','catch','fetch','animated','handleReactionRoles','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','guild','@bastion/tesseract','parseEmoji','default','return\x20/\x22\x20+\x20this\x20+\x20\x22/','test','_id','value','name','emoji','messageReactionRemove','permissionsFor','getDocument'];(function(_0x5c5265,_0x4afe34){const _0x555087=function(_0x43d0c9){while(--_0x43d0c9){_0x5c5265['push'](_0x5c5265['shift']());}};const _0x3553ad=function(){const _0x4981b9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x29c632,_0x3e1cae,_0x5c5bfe,_0x2579e3){_0x2579e3=_0x2579e3||{};let _0xbaf2dd=_0x3e1cae+'='+_0x5c5bfe;let _0x3ba55=0x0;for(let _0x4bfbd8=0x0,_0x3f4ec5=_0x29c632['length'];_0x4bfbd8<_0x3f4ec5;_0x4bfbd8++){const _0x43b04c=_0x29c632[_0x4bfbd8];_0xbaf2dd+=';\x20'+_0x43b04c;const _0x1a5bf6=_0x29c632[_0x43b04c];_0x29c632['push'](_0x1a5bf6);_0x3f4ec5=_0x29c632['length'];if(_0x1a5bf6!==!![]){_0xbaf2dd+='='+_0x1a5bf6;}}_0x2579e3['cookie']=_0xbaf2dd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x42798e,_0x15d0e6){_0x42798e=_0x42798e||function(_0x262cca){return _0x262cca;};const _0x3c70b0=_0x42798e(new RegExp('(?:^|;\x20)'+_0x15d0e6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0xef69aa=function(_0x381203,_0x3b4277){_0x381203(++_0x3b4277);};_0xef69aa(_0x555087,_0x4afe34);return _0x3c70b0?decodeURIComponent(_0x3c70b0[0x1]):undefined;}};const _0x45ffd4=function(){const _0x5538b2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5538b2['test'](_0x4981b9['removeCookie']['toString']());};_0x4981b9['updateCookie']=_0x45ffd4;let _0x526150='';const _0x47b77c=_0x4981b9['updateCookie']();if(!_0x47b77c){_0x4981b9['setCookie'](['*'],'counter',0x1);}else if(_0x47b77c){_0x526150=_0x4981b9['getCookie'](null,'counter');}else{_0x4981b9['removeCookie']();}};_0x3553ad();}(a605_0x4afe,0x7c));const a605_0x5550=function(_0x5c5265,_0x4afe34){_0x5c5265=_0x5c5265-0x0;let _0x555087=a605_0x4afe[_0x5c5265];return _0x555087;};const a605_0x4981b9=function(){let _0x331281=!![];return function(_0x20361b,_0x11fcf2){const _0x437a44=_0x331281?function(){if(_0x11fcf2){const _0x219516=_0x11fcf2['apply'](_0x20361b,arguments);_0x11fcf2=null;return _0x219516;}}:function(){};_0x331281=![];return _0x437a44;};}();const a605_0x43d0c9=a605_0x4981b9(this,function(){const _0x22421a=function(){const _0x66b066=_0x22421a[a605_0x5550('0x21')](a605_0x5550('0xf'))()[a605_0x5550('0x1a')](a605_0x5550('0xa'));return!_0x66b066[a605_0x5550('0x10')](a605_0x43d0c9);};return _0x22421a();});a605_0x43d0c9();'use strict';const tesseract_1=require(a605_0x5550('0xc'));const ReactionRoleGroup_1=require(a605_0x5550('0x0'));const Role_1=require('../models/Role');const emojis=require(a605_0x5550('0x23'));module[a605_0x5550('0x1e')]=class MessageReactionRemoveListener extends tesseract_1[a605_0x5550('0x1c')]{constructor(){super(a605_0x5550('0x15'),{'mode':tesseract_1[a605_0x5550('0x19')][a605_0x5550('0x1')]['ON']});this[a605_0x5550('0x1b')]=async(_0x33edbf,_0x4d73ac)=>{if(!['📌','📍'][a605_0x5550('0x22')](_0x33edbf[a605_0x5550('0x14')][a605_0x5550('0x13')]))return;if(!_0x33edbf['message']['channel'][a605_0x5550('0x16')](_0x4d73ac)['has'](a605_0x5550('0x2')))return;await _0x33edbf[a605_0x5550('0x24')]['unpin']();};this[a605_0x5550('0x9')]=async(_0x5a7ad4,_0x56a51f)=>{const _0x302a2c=await ReactionRoleGroup_1[a605_0x5550('0xe')]['findById'](_0x5a7ad4['message']['id']);if(!_0x302a2c)return;const _0x2a26e1=_0x5a7ad4[a605_0x5550('0x14')]['id']?'<'+(_0x5a7ad4[a605_0x5550('0x14')][a605_0x5550('0x8')]?'a':'')+':'+_0x5a7ad4[a605_0x5550('0x14')][a605_0x5550('0x13')]+':'+_0x5a7ad4['emoji']['id']+'>':_0x5a7ad4[a605_0x5550('0x14')]['name'];const _0x440ad7=emojis[a605_0x5550('0xd')](_0x2a26e1);if(_0x440ad7){const _0x3302af=await Role_1[a605_0x5550('0xe')][a605_0x5550('0x3')]({'$or':_0x302a2c[a605_0x5550('0x1d')][a605_0x5550('0x5')](_0x396735=>({'_id':_0x396735})),'guild':_0x5a7ad4[a605_0x5550('0x24')]['guild']['id'],'emoji':_0x440ad7[a605_0x5550('0x12')]});if(!_0x3302af)return;await _0x56a51f[a605_0x5550('0x1d')]['remove'](_0x3302af[a605_0x5550('0x11')],a605_0x5550('0x1f'));}};this[a605_0x5550('0x18')]=async(_0x1f270a,_0x3aa616)=>{if(_0x1f270a[a605_0x5550('0x4')]){_0x1f270a=await _0x1f270a[a605_0x5550('0x7')]();}if(_0x1f270a[a605_0x5550('0x24')][a605_0x5550('0x4')]){_0x1f270a[a605_0x5550('0x24')]=await _0x1f270a[a605_0x5550('0x24')][a605_0x5550('0x7')]();}if(!_0x1f270a[a605_0x5550('0x24')][a605_0x5550('0xb')])return;const _0x26b481=_0x1f270a['message']['guild']['member'](_0x3aa616);this['handleReactionRoles'](_0x1f270a,_0x26b481)[a605_0x5550('0x6')](()=>{});const _0x4f7c7f=await _0x1f270a[a605_0x5550('0x24')]['guild'][a605_0x5550('0x17')]();if(_0x4f7c7f[a605_0x5550('0x20')]){this['handleReactionPinning'](_0x1f270a,_0x26b481)[a605_0x5550('0x6')](()=>{});}};}};