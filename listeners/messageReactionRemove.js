const a169_0x1404=['@bastion/tesseract','remove','handleReactionPinning','findOne','has','return\x20/\x22\x20+\x20this\x20+\x20\x22/','roles','value','catch','findById','unpin','includes','map','messageReactionRemove','partial','Constants','reactionPinning','exec','channel','exports','emoji','guild','constructor','getDocument','animated','../utils/emojis','name','../models/ReactionRoleGroup','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','message','parseEmoji','default','member','MANAGE_MESSAGES','Removed\x20via\x20Reaction\x20Roles','apply','fetch','LISTENER_MODE'];(function(_0x5df6e6,_0x1404a5){const _0x2ba069=function(_0x5d0718){while(--_0x5d0718){_0x5df6e6['push'](_0x5df6e6['shift']());}},_0x17d6ac=function(){const _0x2f4521={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5d7163,_0x4d8a87,_0x56426a,_0x5806f7){_0x5806f7=_0x5806f7||{};let _0x299002=_0x4d8a87+'='+_0x56426a,_0x133699=0x0;for(let _0x14f240=0x0,_0x5d8575=_0x5d7163['length'];_0x14f240<_0x5d8575;_0x14f240++){const _0x2592a3=_0x5d7163[_0x14f240];_0x299002+=';\x20'+_0x2592a3;const _0x5bc5a2=_0x5d7163[_0x2592a3];_0x5d7163['push'](_0x5bc5a2),_0x5d8575=_0x5d7163['length'],_0x5bc5a2!==!![]&&(_0x299002+='='+_0x5bc5a2);}_0x5806f7['cookie']=_0x299002;},'removeCookie':function(){return'dev';},'getCookie':function(_0x27db8d,_0x146010){_0x27db8d=_0x27db8d||function(_0x554f30){return _0x554f30;};const _0x553353=_0x27db8d(new RegExp('(?:^|;\x20)'+_0x146010['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x26612d=function(_0x518b2a,_0x40b47b){_0x518b2a(++_0x40b47b);};return _0x26612d(_0x2ba069,_0x1404a5),_0x553353?decodeURIComponent(_0x553353[0x1]):undefined;}},_0x58c1ed=function(){const _0x424dfc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x424dfc['test'](_0x2f4521['removeCookie']['toString']());};_0x2f4521['updateCookie']=_0x58c1ed;let _0x2b6e0f='';const _0x545358=_0x2f4521['updateCookie']();if(!_0x545358)_0x2f4521['setCookie'](['*'],'counter',0x1);else _0x545358?_0x2b6e0f=_0x2f4521['getCookie'](null,'counter'):_0x2f4521['removeCookie']();};_0x17d6ac();}(a169_0x1404,0x1ef));const a169_0x2ba0=function(_0x5df6e6,_0x1404a5){_0x5df6e6=_0x5df6e6-0x0;let _0x2ba069=a169_0x1404[_0x5df6e6];return _0x2ba069;};const a169_0x56426a=function(){let _0x138d73=!![];return function(_0x5eb353,_0x443817){const _0x1d68a1=_0x138d73?function(){if(_0x443817){const _0x26bf09=_0x443817[a169_0x2ba0('0x22')](_0x5eb353,arguments);return _0x443817=null,_0x26bf09;}}:function(){};return _0x138d73=![],_0x1d68a1;};}(),a169_0x4d8a87=a169_0x56426a(this,function(){const _0x399e51=function(){const _0x16deb0=_0x399e51[a169_0x2ba0('0x15')](a169_0x2ba0('0x4'))()['constructor'](a169_0x2ba0('0x1b'));return!_0x16deb0['test'](a169_0x4d8a87);};return _0x399e51();});a169_0x4d8a87();'use strict';const tesseract_1=require(a169_0x2ba0('0x25')),ReactionRoleGroup_1=require(a169_0x2ba0('0x1a')),Role_1=require('../models/Role'),emojis=require(a169_0x2ba0('0x18'));module[a169_0x2ba0('0x12')]=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){super(a169_0x2ba0('0xc'),{'mode':tesseract_1[a169_0x2ba0('0xe')][a169_0x2ba0('0x24')]['ON']}),this['handleReactionPinning']=async(_0xddc1be,_0x23773f)=>{if(!['📌','📍'][a169_0x2ba0('0xa')](_0xddc1be['emoji'][a169_0x2ba0('0x19')]))return;if(!_0xddc1be[a169_0x2ba0('0x1c')][a169_0x2ba0('0x11')]['permissionsFor'](_0x23773f)[a169_0x2ba0('0x3')](a169_0x2ba0('0x20')))return;await _0xddc1be['message'][a169_0x2ba0('0x9')]();},this['handleReactionRoles']=async(_0x5f37f2,_0x3b73d7)=>{const _0x1c8e9f=await ReactionRoleGroup_1[a169_0x2ba0('0x1e')][a169_0x2ba0('0x8')](_0x5f37f2['message']['id']);if(!_0x1c8e9f)return;const _0x45fe82=_0x5f37f2[a169_0x2ba0('0x13')]['id']?'<'+(_0x5f37f2['emoji'][a169_0x2ba0('0x17')]?'a':'')+':'+_0x5f37f2['emoji'][a169_0x2ba0('0x19')]+':'+_0x5f37f2[a169_0x2ba0('0x13')]['id']+'>':_0x5f37f2[a169_0x2ba0('0x13')][a169_0x2ba0('0x19')],_0x423dea=emojis[a169_0x2ba0('0x1d')](_0x45fe82);if(_0x423dea){const _0x5d5762=await Role_1[a169_0x2ba0('0x1e')][a169_0x2ba0('0x2')]({'$or':_0x1c8e9f[a169_0x2ba0('0x5')][a169_0x2ba0('0xb')](_0x2a1edd=>({'_id':_0x2a1edd})),'guild':_0x5f37f2[a169_0x2ba0('0x1c')][a169_0x2ba0('0x14')]['id'],'emoji':_0x423dea[a169_0x2ba0('0x6')]});if(!_0x5d5762)return;await _0x3b73d7['roles'][a169_0x2ba0('0x0')](_0x5d5762['_id'],a169_0x2ba0('0x21'));}},this[a169_0x2ba0('0x10')]=async(_0x125c0a,_0xee15e8)=>{_0x125c0a[a169_0x2ba0('0xd')]&&(_0x125c0a=await _0x125c0a[a169_0x2ba0('0x23')]());_0x125c0a[a169_0x2ba0('0x1c')]['partial']&&(_0x125c0a[a169_0x2ba0('0x1c')]=await _0x125c0a[a169_0x2ba0('0x1c')][a169_0x2ba0('0x23')]());if(!_0x125c0a[a169_0x2ba0('0x1c')][a169_0x2ba0('0x14')])return;const _0x155cae=_0x125c0a[a169_0x2ba0('0x1c')][a169_0x2ba0('0x14')][a169_0x2ba0('0x1f')](_0xee15e8);this['handleReactionRoles'](_0x125c0a,_0x155cae)[a169_0x2ba0('0x7')](()=>{});const _0x33fa55=await _0x125c0a[a169_0x2ba0('0x1c')][a169_0x2ba0('0x14')][a169_0x2ba0('0x16')]();_0x33fa55[a169_0x2ba0('0xf')]&&this[a169_0x2ba0('0x1')](_0x125c0a,_0x155cae)['catch'](()=>{});};}};