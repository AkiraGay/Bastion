const a196_0x487f=['has','handleReactionPinning','partial','user','6iuXhDj','1361FMEpGt','Constants','channel','permissionsFor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','return\x20/\x22\x20+\x20this\x20+\x20\x22/','message','6607QYzTub','@bastion/tesseract','apply','roles','_id','map','5esjQWL','154PcQnvL','8991qJLExm','../models/Role','remove','includes','MANAGE_MESSAGES','name','fetch','2dRhESO','34ZFdDxV','member','1vDcQCW','Pin\x20reaction\x20removed\x20by\x20','171929drrRFi','24113gYtIcK','findById','default','messageReactionRemove','catch','guild','constructor','exports','33410wdyhPV','handleReactionRoles','findOne','../models/ReactionRoleGroup','../utils/emojis','1628UgiqlO','emoji','unpin'];const a196_0x398e=function(_0x1bee69,_0x2c469c){_0x1bee69=_0x1bee69-0x140;let _0x14d7aa=a196_0x487f[_0x1bee69];return _0x14d7aa;};const a196_0x14af80=a196_0x398e;(function(_0x137bc0,_0x23049f){const _0x304023=a196_0x398e;while(!![]){try{const _0x4278c0=parseInt(_0x304023(0x142))*parseInt(_0x304023(0x140))+-parseInt(_0x304023(0x166))*-parseInt(_0x304023(0x158))+parseInt(_0x304023(0x14b))*-parseInt(_0x304023(0x165))+parseInt(_0x304023(0x150))*-parseInt(_0x304023(0x16f))+parseInt(_0x304023(0x16e))*-parseInt(_0x304023(0x167))+parseInt(_0x304023(0x143))+parseInt(_0x304023(0x15f))*-parseInt(_0x304023(0x157));if(_0x4278c0===_0x23049f)break;else _0x137bc0['push'](_0x137bc0['shift']());}catch(_0x15b5fb){_0x137bc0['push'](_0x137bc0['shift']());}}}(a196_0x487f,0x1eaaa));const a196_0xc362ad=function(){let _0x5a797d=!![];return function(_0x436665,_0x3e27de){const _0xf9e419=_0x5a797d?function(){const _0x3c108c=a196_0x398e;if(_0x3e27de){const _0x296910=_0x3e27de[_0x3c108c(0x161)](_0x436665,arguments);return _0x3e27de=null,_0x296910;}}:function(){};return _0x5a797d=![],_0xf9e419;};}(),a196_0x273ca4=a196_0xc362ad(this,function(){const _0xdc3f74=function(){const _0x55e1fa=a196_0x398e,_0x490b10=_0xdc3f74['constructor'](_0x55e1fa(0x15d))()[_0x55e1fa(0x149)](_0x55e1fa(0x15c));return!_0x490b10['test'](a196_0x273ca4);};return _0xdc3f74();});a196_0x273ca4();'use strict';const tesseract_1=require(a196_0x14af80(0x160)),ReactionRoleGroup_1=require(a196_0x14af80(0x14e)),Role_1=require(a196_0x14af80(0x168)),emojis=require(a196_0x14af80(0x14f));module[a196_0x14af80(0x14a)]=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){const _0x3b7f6f=a196_0x14af80;super(_0x3b7f6f(0x146),{'mode':tesseract_1[_0x3b7f6f(0x159)]['LISTENER_MODE']['ON']}),this[_0x3b7f6f(0x154)]=async(_0x313d1b,_0x3868a9)=>{const _0x73018d=_0x3b7f6f;if(!['📌','📍'][_0x73018d(0x16a)](_0x313d1b[_0x73018d(0x151)][_0x73018d(0x16c)]))return;if(!_0x313d1b['message'][_0x73018d(0x15a)][_0x73018d(0x15b)](_0x3868a9)[_0x73018d(0x153)](_0x73018d(0x16b)))return;await _0x313d1b[_0x73018d(0x15e)][_0x73018d(0x152)]({'reason':_0x73018d(0x141)+_0x3868a9[_0x73018d(0x156)]?_0x3868a9[_0x73018d(0x156)]['tag']:_0x3868a9['id']});},this[_0x3b7f6f(0x14c)]=async(_0x4defd1,_0x4cb196)=>{const _0x3f4651=_0x3b7f6f,_0x1ff769=await ReactionRoleGroup_1['default'][_0x3f4651(0x144)](_0x4defd1[_0x3f4651(0x15e)]['id']);if(!_0x1ff769)return;const _0x2bd044=_0x4defd1[_0x3f4651(0x151)]['id']?'<'+(_0x4defd1[_0x3f4651(0x151)]['animated']?'a':'')+':'+_0x4defd1[_0x3f4651(0x151)][_0x3f4651(0x16c)]+':'+_0x4defd1[_0x3f4651(0x151)]['id']+'>':_0x4defd1[_0x3f4651(0x151)][_0x3f4651(0x16c)],_0x2dbcf7=emojis['parseEmoji'](_0x2bd044);if(_0x2dbcf7){const _0x2ac71e=await Role_1[_0x3f4651(0x145)][_0x3f4651(0x14d)]({'$or':_0x1ff769['roles'][_0x3f4651(0x164)](_0x31e6c5=>({'_id':_0x31e6c5})),'guild':_0x4defd1[_0x3f4651(0x15e)][_0x3f4651(0x148)]['id'],'emoji':_0x2dbcf7['value']});if(!_0x2ac71e)return;await _0x4cb196[_0x3f4651(0x162)][_0x3f4651(0x169)](_0x2ac71e[_0x3f4651(0x163)],'Removed\x20via\x20Reaction\x20Roles');}},this['exec']=async(_0x19e366,_0x2e027f)=>{const _0x127c77=_0x3b7f6f;_0x19e366[_0x127c77(0x155)]&&(_0x19e366=await _0x19e366[_0x127c77(0x16d)]());_0x19e366[_0x127c77(0x15e)][_0x127c77(0x155)]&&(_0x19e366['message']=await _0x19e366[_0x127c77(0x15e)]['fetch']());if(!_0x19e366['message'][_0x127c77(0x148)])return;const _0xb49287=_0x19e366[_0x127c77(0x15e)]['guild'][_0x127c77(0x170)](_0x2e027f);this[_0x127c77(0x14c)](_0x19e366,_0xb49287)['catch'](()=>{});const _0x5c455c=await _0x19e366['message']['guild']['getDocument']();_0x5c455c['reactionPinning']&&this['handleReactionPinning'](_0x19e366,_0xb49287)[_0x127c77(0x147)](()=>{});};}};