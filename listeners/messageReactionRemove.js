const a166_0x37a9=['default','map','LISTENER_MODE','channel','includes','findById','../utils/emojis','unpin','message','findOne','catch','compile','apply','Removed\x20via\x20Reaction\x20Roles','_id','parseEmoji','exports','emoji','permissionsFor','Constants','../models/Role','partial','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','messageReactionRemove','handleReactionRoles','exec','constructor','handleReactionPinning','roles','MANAGE_MESSAGES','value','test','remove','getDocument','guild','Listener','member','../models/ReactionRoleGroup','return\x20/\x22\x20+\x20this\x20+\x20\x22/','name'];(function(_0x57e6a1,_0x37a976){const _0x4da019=function(_0x51df22){while(--_0x51df22){_0x57e6a1['push'](_0x57e6a1['shift']());}};const _0x157373=function(){const _0x4d887c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xc1c3fc,_0x3ad0f0,_0x42dfa7,_0x46cfc7){_0x46cfc7=_0x46cfc7||{};let _0x50884b=_0x3ad0f0+'='+_0x42dfa7;let _0x1f57f8=0x0;for(let _0x33a4b6=0x0,_0x2b7424=_0xc1c3fc['length'];_0x33a4b6<_0x2b7424;_0x33a4b6++){const _0x10100b=_0xc1c3fc[_0x33a4b6];_0x50884b+=';\x20'+_0x10100b;const _0x46167a=_0xc1c3fc[_0x10100b];_0xc1c3fc['push'](_0x46167a);_0x2b7424=_0xc1c3fc['length'];if(_0x46167a!==!![]){_0x50884b+='='+_0x46167a;}}_0x46cfc7['cookie']=_0x50884b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3971b4,_0x229179){_0x3971b4=_0x3971b4||function(_0x3b3230){return _0x3b3230;};const _0x1a5a73=_0x3971b4(new RegExp('(?:^|;\x20)'+_0x229179['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5063ab=function(_0x3a0050,_0x317bb9){_0x3a0050(++_0x317bb9);};_0x5063ab(_0x4da019,_0x37a976);return _0x1a5a73?decodeURIComponent(_0x1a5a73[0x1]):undefined;}};const _0x10167f=function(){const _0xfabe2d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xfabe2d['test'](_0x4d887c['removeCookie']['toString']());};_0x4d887c['updateCookie']=_0x10167f;let _0x1a0755='';const _0x80a797=_0x4d887c['updateCookie']();if(!_0x80a797){_0x4d887c['setCookie'](['*'],'counter',0x1);}else if(_0x80a797){_0x1a0755=_0x4d887c['getCookie'](null,'counter');}else{_0x4d887c['removeCookie']();}};_0x157373();}(a166_0x37a9,0x1d5));const a166_0x4da0=function(_0x57e6a1,_0x37a976){_0x57e6a1=_0x57e6a1-0x0;let _0x4da019=a166_0x37a9[_0x57e6a1];return _0x4da019;};const a166_0x4d887c=function(){let _0x217593=!![];return function(_0x39a5ed,_0x27104e){const _0x2a5410=_0x217593?function(){if(_0x27104e){const _0xe1e3fb=_0x27104e[a166_0x4da0('0x17')](_0x39a5ed,arguments);_0x27104e=null;return _0xe1e3fb;}}:function(){};_0x217593=![];return _0x2a5410;};}();const a166_0x51df22=a166_0x4d887c(this,function(){const _0xe688a6=function(){const _0x1265a4=_0xe688a6[a166_0x4da0('0x25')](a166_0x4da0('0x9'))()[a166_0x4da0('0x16')](a166_0x4da0('0x21'));return!_0x1265a4[a166_0x4da0('0x2')](a166_0x51df22);};return _0xe688a6();});a166_0x51df22();'use strict';const tesseract_1=require('@bastion/tesseract');const ReactionRoleGroup_1=require(a166_0x4da0('0x8'));const Role_1=require(a166_0x4da0('0x1f'));const emojis=require(a166_0x4da0('0x11'));module[a166_0x4da0('0x1b')]=class MessageReactionRemoveListener extends tesseract_1[a166_0x4da0('0x6')]{constructor(){super(a166_0x4da0('0x22'),{'mode':tesseract_1[a166_0x4da0('0x1e')][a166_0x4da0('0xd')]['ON']});this[a166_0x4da0('0x26')]=async(_0xaa58be,_0x217612)=>{if(!['📌','📍'][a166_0x4da0('0xf')](_0xaa58be[a166_0x4da0('0x1c')][a166_0x4da0('0xa')]))return;if(!_0xaa58be[a166_0x4da0('0x13')][a166_0x4da0('0xe')][a166_0x4da0('0x1d')](_0x217612)['has'](a166_0x4da0('0x0')))return;await _0xaa58be['message'][a166_0x4da0('0x12')]();};this[a166_0x4da0('0x23')]=async(_0x6048d5,_0x4df3a8)=>{const _0x204938=await ReactionRoleGroup_1[a166_0x4da0('0xb')][a166_0x4da0('0x10')](_0x6048d5[a166_0x4da0('0x13')]['id']);if(!_0x204938)return;const _0x43c14d=_0x6048d5[a166_0x4da0('0x1c')]['id']?'<'+(_0x6048d5[a166_0x4da0('0x1c')]['animated']?'a':'')+':'+_0x6048d5[a166_0x4da0('0x1c')]['name']+':'+_0x6048d5[a166_0x4da0('0x1c')]['id']+'>':_0x6048d5[a166_0x4da0('0x1c')][a166_0x4da0('0xa')];const _0x3ce47b=emojis[a166_0x4da0('0x1a')](_0x43c14d);if(_0x3ce47b){const _0x354679=await Role_1['default'][a166_0x4da0('0x14')]({'$or':_0x204938[a166_0x4da0('0x27')][a166_0x4da0('0xc')](_0x2710c5=>({'_id':_0x2710c5})),'guild':_0x6048d5[a166_0x4da0('0x13')][a166_0x4da0('0x5')]['id'],'emoji':_0x3ce47b[a166_0x4da0('0x1')]});if(!_0x354679)return;await _0x4df3a8['roles'][a166_0x4da0('0x3')](_0x354679[a166_0x4da0('0x19')],a166_0x4da0('0x18'));}};this[a166_0x4da0('0x24')]=async(_0x412668,_0x8f9ad3)=>{if(_0x412668[a166_0x4da0('0x20')]){_0x412668=await _0x412668['fetch']();}if(_0x412668['message']['partial']){_0x412668[a166_0x4da0('0x13')]=await _0x412668[a166_0x4da0('0x13')]['fetch']();}if(!_0x412668[a166_0x4da0('0x13')]['guild'])return;const _0x228982=_0x412668[a166_0x4da0('0x13')][a166_0x4da0('0x5')][a166_0x4da0('0x7')](_0x8f9ad3);this[a166_0x4da0('0x23')](_0x412668,_0x228982)[a166_0x4da0('0x15')](()=>{});const _0x7c0dca=await _0x412668['message'][a166_0x4da0('0x5')][a166_0x4da0('0x4')]();if(_0x7c0dca['reactionPinning']){this[a166_0x4da0('0x26')](_0x412668,_0x228982)[a166_0x4da0('0x15')](()=>{});}};}};