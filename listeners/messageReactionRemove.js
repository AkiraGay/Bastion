const a165_0x10c5=['message','compile','../models/ReactionRoleGroup','default','remove','catch','messageReactionRemove','getDocument','parseEmoji','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/Role','_id','handleReactionRoles','handleReactionPinning','unpin','exports','value','exec','constructor','fetch','Listener','guild','partial','roles','map','name','emoji','@bastion/tesseract','test','includes','apply','permissionsFor','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../utils/emojis','member','LISTENER_MODE'];(function(_0x2e7b5f,_0x10c5d5){const _0x2cfe55=function(_0x2a8d8b){while(--_0x2a8d8b){_0x2e7b5f['push'](_0x2e7b5f['shift']());}};const _0x5ef116=function(){const _0x18bdea={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x272836,_0x121c93,_0xb31e83,_0x413069){_0x413069=_0x413069||{};let _0x1dc3e0=_0x121c93+'='+_0xb31e83;let _0x40ac5b=0x0;for(let _0x3f51e8=0x0,_0x24c7d0=_0x272836['length'];_0x3f51e8<_0x24c7d0;_0x3f51e8++){const _0x44c828=_0x272836[_0x3f51e8];_0x1dc3e0+=';\x20'+_0x44c828;const _0x135505=_0x272836[_0x44c828];_0x272836['push'](_0x135505);_0x24c7d0=_0x272836['length'];if(_0x135505!==!![]){_0x1dc3e0+='='+_0x135505;}}_0x413069['cookie']=_0x1dc3e0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1a121b,_0x1a0903){_0x1a121b=_0x1a121b||function(_0x3017ec){return _0x3017ec;};const _0x102c9f=_0x1a121b(new RegExp('(?:^|;\x20)'+_0x1a0903['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4bee76=function(_0x27322f,_0x1554a9){_0x27322f(++_0x1554a9);};_0x4bee76(_0x2cfe55,_0x10c5d5);return _0x102c9f?decodeURIComponent(_0x102c9f[0x1]):undefined;}};const _0x41e4eb=function(){const _0x3d4d80=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3d4d80['test'](_0x18bdea['removeCookie']['toString']());};_0x18bdea['updateCookie']=_0x41e4eb;let _0xbc9f31='';const _0xf0dd48=_0x18bdea['updateCookie']();if(!_0xf0dd48){_0x18bdea['setCookie'](['*'],'counter',0x1);}else if(_0xf0dd48){_0xbc9f31=_0x18bdea['getCookie'](null,'counter');}else{_0x18bdea['removeCookie']();}};_0x5ef116();}(a165_0x10c5,0x127));const a165_0x2cfe=function(_0x2e7b5f,_0x10c5d5){_0x2e7b5f=_0x2e7b5f-0x0;let _0x2cfe55=a165_0x10c5[_0x2e7b5f];return _0x2cfe55;};const a165_0x18bdea=function(){let _0xc21f98=!![];return function(_0x22d292,_0x508b7b){const _0x3ceea6=_0xc21f98?function(){if(_0x508b7b){const _0x5f3c03=_0x508b7b[a165_0x2cfe('0x1f')](_0x22d292,arguments);_0x508b7b=null;return _0x5f3c03;}}:function(){};_0xc21f98=![];return _0x3ceea6;};}();const a165_0x2a8d8b=a165_0x18bdea(this,function(){const _0x1feb70=function(){const _0x4965da=_0x1feb70[a165_0x2cfe('0x13')](a165_0x2cfe('0xa'))()[a165_0x2cfe('0x2')](a165_0x2cfe('0x22'));return!_0x4965da[a165_0x2cfe('0x1d')](a165_0x2a8d8b);};return _0x1feb70();});a165_0x2a8d8b();'use strict';const tesseract_1=require(a165_0x2cfe('0x1c'));const ReactionRoleGroup_1=require(a165_0x2cfe('0x3'));const Role_1=require(a165_0x2cfe('0xb'));const emojis=require(a165_0x2cfe('0x23'));module[a165_0x2cfe('0x10')]=class MessageReactionRemoveListener extends tesseract_1[a165_0x2cfe('0x15')]{constructor(){super(a165_0x2cfe('0x7'),{'mode':tesseract_1[a165_0x2cfe('0x21')][a165_0x2cfe('0x0')]['ON']});this['handleReactionPinning']=async(_0xae51c7,_0xfe7a1b)=>{if(!['📌','📍'][a165_0x2cfe('0x1e')](_0xae51c7[a165_0x2cfe('0x1b')][a165_0x2cfe('0x1a')]))return;if(!_0xae51c7[a165_0x2cfe('0x1')]['channel'][a165_0x2cfe('0x20')](_0xfe7a1b)['has']('MANAGE_MESSAGES'))return;await _0xae51c7[a165_0x2cfe('0x1')][a165_0x2cfe('0xf')]();};this[a165_0x2cfe('0xd')]=async(_0x23a3fc,_0x3c8312)=>{const _0x3ebd81=await ReactionRoleGroup_1[a165_0x2cfe('0x4')]['findById'](_0x23a3fc['message']['id']);if(!_0x3ebd81)return;const _0x2ea592=_0x23a3fc[a165_0x2cfe('0x1b')]['id']?'<'+(_0x23a3fc[a165_0x2cfe('0x1b')]['animated']?'a':'')+':'+_0x23a3fc[a165_0x2cfe('0x1b')]['name']+':'+_0x23a3fc[a165_0x2cfe('0x1b')]['id']+'>':_0x23a3fc[a165_0x2cfe('0x1b')]['name'];const _0x4acb1b=emojis[a165_0x2cfe('0x9')](_0x2ea592);if(_0x4acb1b){const _0x33e771=await Role_1[a165_0x2cfe('0x4')]['findOne']({'$or':_0x3ebd81[a165_0x2cfe('0x18')][a165_0x2cfe('0x19')](_0x5d8436=>({'_id':_0x5d8436})),'guild':_0x23a3fc[a165_0x2cfe('0x1')][a165_0x2cfe('0x16')]['id'],'emoji':_0x4acb1b[a165_0x2cfe('0x11')]});if(!_0x33e771)return;await _0x3c8312[a165_0x2cfe('0x18')][a165_0x2cfe('0x5')](_0x33e771[a165_0x2cfe('0xc')],'Removed\x20via\x20Reaction\x20Roles');}};this[a165_0x2cfe('0x12')]=async(_0x1ce2a9,_0xdd5711)=>{if(_0x1ce2a9[a165_0x2cfe('0x17')]){_0x1ce2a9=await _0x1ce2a9['fetch']();}if(_0x1ce2a9['message'][a165_0x2cfe('0x17')]){_0x1ce2a9[a165_0x2cfe('0x1')]=await _0x1ce2a9[a165_0x2cfe('0x1')][a165_0x2cfe('0x14')]();}if(!_0x1ce2a9['message'][a165_0x2cfe('0x16')])return;const _0x27ee7b=_0x1ce2a9['message'][a165_0x2cfe('0x16')][a165_0x2cfe('0x24')](_0xdd5711);this[a165_0x2cfe('0xd')](_0x1ce2a9,_0x27ee7b)[a165_0x2cfe('0x6')](()=>{});const _0x285d39=await _0x1ce2a9[a165_0x2cfe('0x1')][a165_0x2cfe('0x16')][a165_0x2cfe('0x8')]();if(_0x285d39['reactionPinning']){this[a165_0x2cfe('0xe')](_0x1ce2a9,_0x27ee7b)[a165_0x2cfe('0x6')](()=>{});}};}};