const a191_0x429d=['fetch','user','exec','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','constructor','tag','includes','Constants','unpin','animated','map','Listener','permissionsFor','parseEmoji','handleReactionPinning','getDocument','default','guild','reactionPinning','name','catch','channel','partial','@bastion/tesseract','MANAGE_MESSAGES','member','../models/Role','emoji','remove','apply','handleReactionRoles','Pin\x20reaction\x20removed\x20by\x20','../models/ReactionRoleGroup','findById','Removed\x20via\x20Reaction\x20Roles','test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','findOne','messageReactionRemove','message'];(function(_0x4007b2,_0x429de7){const _0xf00e2f=function(_0x407db4){while(--_0x407db4){_0x4007b2['push'](_0x4007b2['shift']());}},_0x5be0fb=function(){const _0x4c2233={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x184bc6,_0x4761f8,_0x5a49d7,_0x4f860c){_0x4f860c=_0x4f860c||{};let _0x483e91=_0x4761f8+'='+_0x5a49d7,_0x16bccc=0x0;for(let _0x1551f1=0x0,_0xe95734=_0x184bc6['length'];_0x1551f1<_0xe95734;_0x1551f1++){const _0x1a4e3e=_0x184bc6[_0x1551f1];_0x483e91+=';\x20'+_0x1a4e3e;const _0x33b316=_0x184bc6[_0x1a4e3e];_0x184bc6['push'](_0x33b316),_0xe95734=_0x184bc6['length'],_0x33b316!==!![]&&(_0x483e91+='='+_0x33b316);}_0x4f860c['cookie']=_0x483e91;},'removeCookie':function(){return'dev';},'getCookie':function(_0x43e4e0,_0x5945fc){_0x43e4e0=_0x43e4e0||function(_0x32f33f){return _0x32f33f;};const _0x3fc7f0=_0x43e4e0(new RegExp('(?:^|;\x20)'+_0x5945fc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5a7675=function(_0x1f050c,_0x5ea1d4){_0x1f050c(++_0x5ea1d4);};return _0x5a7675(_0xf00e2f,_0x429de7),_0x3fc7f0?decodeURIComponent(_0x3fc7f0[0x1]):undefined;}},_0x1d8024=function(){const _0x1ec6bf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1ec6bf['test'](_0x4c2233['removeCookie']['toString']());};_0x4c2233['updateCookie']=_0x1d8024;let _0x21c197='';const _0x34f130=_0x4c2233['updateCookie']();if(!_0x34f130)_0x4c2233['setCookie'](['*'],'counter',0x1);else _0x34f130?_0x21c197=_0x4c2233['getCookie'](null,'counter'):_0x4c2233['removeCookie']();};_0x5be0fb();}(a191_0x429d,0x79));const a191_0xf00e=function(_0x4007b2,_0x429de7){_0x4007b2=_0x4007b2-0x0;let _0xf00e2f=a191_0x429d[_0x4007b2];return _0xf00e2f;};const _0x2c5426=a191_0xf00e,a191_0x4c2233=function(){let _0x21c197=!![];return function(_0x34f130,_0x184bc6){const _0x4761f8=_0x21c197?function(){const _0x183be0=a191_0xf00e;if(_0x184bc6){const _0x5a49d7=_0x184bc6[_0x183be0('0x20')](_0x34f130,arguments);return _0x184bc6=null,_0x5a49d7;}}:function(){};return _0x21c197=![],_0x4761f8;};}(),a191_0x407db4=a191_0x4c2233(this,function(){const _0x4f860c=function(){const _0x1684fa=a191_0xf00e,_0x483e91=_0x4f860c[_0x1684fa('0x7')](_0x1684fa('0x6'))()[_0x1684fa('0x7')](_0x1684fa('0x27'));return!_0x483e91[_0x1684fa('0x26')](a191_0x407db4);};return _0x4f860c();});a191_0x407db4();'use strict';const tesseract_1=require(_0x2c5426('0x1a')),ReactionRoleGroup_1=require(_0x2c5426('0x23')),Role_1=require(_0x2c5426('0x1d')),emojis=require('../utils/emojis');module[_0x2c5426('0x5')]=class MessageReactionRemoveListener extends tesseract_1[_0x2c5426('0xe')]{constructor(){const _0x3e56e0=_0x2c5426;super(_0x3e56e0('0x0'),{'mode':tesseract_1[_0x3e56e0('0xa')]['LISTENER_MODE']['ON']}),this[_0x3e56e0('0x11')]=async(_0x16bccc,_0x1551f1)=>{const _0x265c52=_0x3e56e0;if(!['📌','📍'][_0x265c52('0x9')](_0x16bccc[_0x265c52('0x1e')][_0x265c52('0x16')]))return;if(!_0x16bccc['message'][_0x265c52('0x18')][_0x265c52('0xf')](_0x1551f1)['has'](_0x265c52('0x1b')))return;await _0x16bccc[_0x265c52('0x1')][_0x265c52('0xb')]({'reason':_0x265c52('0x22')+_0x1551f1[_0x265c52('0x3')]?_0x1551f1['user'][_0x265c52('0x8')]:_0x1551f1['id']});},this[_0x3e56e0('0x21')]=async(_0xe95734,_0x1a4e3e)=>{const _0x42a344=_0x3e56e0,_0x33b316=await ReactionRoleGroup_1[_0x42a344('0x13')][_0x42a344('0x24')](_0xe95734[_0x42a344('0x1')]['id']);if(!_0x33b316)return;const _0x43e4e0=_0xe95734[_0x42a344('0x1e')]['id']?'<'+(_0xe95734[_0x42a344('0x1e')][_0x42a344('0xc')]?'a':'')+':'+_0xe95734['emoji'][_0x42a344('0x16')]+':'+_0xe95734['emoji']['id']+'>':_0xe95734[_0x42a344('0x1e')][_0x42a344('0x16')],_0x5945fc=emojis[_0x42a344('0x10')](_0x43e4e0);if(_0x5945fc){const _0x3fc7f0=await Role_1[_0x42a344('0x13')][_0x42a344('0x28')]({'$or':_0x33b316['roles'][_0x42a344('0xd')](_0x5a7675=>({'_id':_0x5a7675})),'guild':_0xe95734[_0x42a344('0x1')]['guild']['id'],'emoji':_0x5945fc['value']});if(!_0x3fc7f0)return;await _0x1a4e3e['roles'][_0x42a344('0x1f')](_0x3fc7f0['_id'],_0x42a344('0x25'));}},this[_0x3e56e0('0x4')]=async(_0x32f33f,_0x1f050c)=>{const _0xb89594=_0x3e56e0;_0x32f33f['partial']&&(_0x32f33f=await _0x32f33f[_0xb89594('0x2')]());_0x32f33f[_0xb89594('0x1')][_0xb89594('0x19')]&&(_0x32f33f[_0xb89594('0x1')]=await _0x32f33f[_0xb89594('0x1')][_0xb89594('0x2')]());if(!_0x32f33f[_0xb89594('0x1')]['guild'])return;const _0x5ea1d4=_0x32f33f['message'][_0xb89594('0x14')][_0xb89594('0x1c')](_0x1f050c);this[_0xb89594('0x21')](_0x32f33f,_0x5ea1d4)[_0xb89594('0x17')](()=>{});const _0x1ec6bf=await _0x32f33f[_0xb89594('0x1')]['guild'][_0xb89594('0x12')]();_0x1ec6bf[_0xb89594('0x15')]&&this['handleReactionPinning'](_0x32f33f,_0x5ea1d4)['catch'](()=>{});};}};