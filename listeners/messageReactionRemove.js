const a177_0x5297=['../models/ReactionRoleGroup','name','includes','user','message','partial','MANAGE_MESSAGES','channel','_id','@bastion/tesseract','getDocument','fetch','../models/Role','emoji','test','animated','has','guild','roles','remove','member','../utils/emojis','permissionsFor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','handleReactionRoles','Listener','exports','reactionPinning','catch','unpin','findOne','tag','constructor','value','findById','parseEmoji','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Constants'];(function(_0x394e40,_0x52976c){const _0x2a2faa=function(_0x26699c){while(--_0x26699c){_0x394e40['push'](_0x394e40['shift']());}},_0x1e9cea=function(){const _0x361a22={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2715c3,_0x551a39,_0x3f9d6a,_0x2df82e){_0x2df82e=_0x2df82e||{};let _0x38fd52=_0x551a39+'='+_0x3f9d6a,_0x25feac=0x0;for(let _0x4834be=0x0,_0x3420fb=_0x2715c3['length'];_0x4834be<_0x3420fb;_0x4834be++){const _0x1e69ad=_0x2715c3[_0x4834be];_0x38fd52+=';\x20'+_0x1e69ad;const _0x2b59e2=_0x2715c3[_0x1e69ad];_0x2715c3['push'](_0x2b59e2),_0x3420fb=_0x2715c3['length'],_0x2b59e2!==!![]&&(_0x38fd52+='='+_0x2b59e2);}_0x2df82e['cookie']=_0x38fd52;},'removeCookie':function(){return'dev';},'getCookie':function(_0x53e605,_0x46cb5a){_0x53e605=_0x53e605||function(_0x9ddb7c){return _0x9ddb7c;};const _0x12ec19=_0x53e605(new RegExp('(?:^|;\x20)'+_0x46cb5a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb00011=function(_0x54835a,_0x16e899){_0x54835a(++_0x16e899);};return _0xb00011(_0x2a2faa,_0x52976c),_0x12ec19?decodeURIComponent(_0x12ec19[0x1]):undefined;}},_0x16bfc5=function(){const _0x53c9e9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x53c9e9['test'](_0x361a22['removeCookie']['toString']());};_0x361a22['updateCookie']=_0x16bfc5;let _0x2733c5='';const _0x55f1ff=_0x361a22['updateCookie']();if(!_0x55f1ff)_0x361a22['setCookie'](['*'],'counter',0x1);else _0x55f1ff?_0x2733c5=_0x361a22['getCookie'](null,'counter'):_0x361a22['removeCookie']();};_0x1e9cea();}(a177_0x5297,0x154));const a177_0x2a2f=function(_0x394e40,_0x52976c){_0x394e40=_0x394e40-0x0;let _0x2a2faa=a177_0x5297[_0x394e40];return _0x2a2faa;};const a177_0x361a22=function(){let _0x2733c5=!![];return function(_0x55f1ff,_0x2715c3){const _0x551a39=_0x2733c5?function(){if(_0x2715c3){const _0x3f9d6a=_0x2715c3['apply'](_0x55f1ff,arguments);return _0x2715c3=null,_0x3f9d6a;}}:function(){};return _0x2733c5=![],_0x551a39;};}(),a177_0x26699c=a177_0x361a22(this,function(){const _0x2df82e=function(){const _0x38fd52=_0x2df82e[a177_0x2a2f('0x22')](a177_0x2a2f('0x19'))()[a177_0x2a2f('0x22')](a177_0x2a2f('0x0'));return!_0x38fd52[a177_0x2a2f('0x10')](a177_0x26699c);};return _0x2df82e();});a177_0x26699c();'use strict';const tesseract_1=require(a177_0x2a2f('0xb')),ReactionRoleGroup_1=require(a177_0x2a2f('0x2')),Role_1=require(a177_0x2a2f('0xe')),emojis=require(a177_0x2a2f('0x17'));module[a177_0x2a2f('0x1c')]=class MessageReactionRemoveListener extends tesseract_1[a177_0x2a2f('0x1b')]{constructor(){super('messageReactionRemove',{'mode':tesseract_1[a177_0x2a2f('0x1')]['LISTENER_MODE']['ON']}),this['handleReactionPinning']=async(_0x25feac,_0x4834be)=>{if(!['📌','📍'][a177_0x2a2f('0x4')](_0x25feac[a177_0x2a2f('0xf')]['name']))return;if(!_0x25feac[a177_0x2a2f('0x6')][a177_0x2a2f('0x9')][a177_0x2a2f('0x18')](_0x4834be)[a177_0x2a2f('0x12')](a177_0x2a2f('0x8')))return;await _0x25feac[a177_0x2a2f('0x6')][a177_0x2a2f('0x1f')]({'reason':'Pin\x20reaction\x20removed\x20by\x20'+_0x4834be[a177_0x2a2f('0x5')]?_0x4834be['user'][a177_0x2a2f('0x21')]:_0x4834be['id']});},this[a177_0x2a2f('0x1a')]=async(_0x3420fb,_0x1e69ad)=>{const _0x2b59e2=await ReactionRoleGroup_1['default'][a177_0x2a2f('0x24')](_0x3420fb[a177_0x2a2f('0x6')]['id']);if(!_0x2b59e2)return;const _0x53e605=_0x3420fb[a177_0x2a2f('0xf')]['id']?'<'+(_0x3420fb[a177_0x2a2f('0xf')][a177_0x2a2f('0x11')]?'a':'')+':'+_0x3420fb[a177_0x2a2f('0xf')][a177_0x2a2f('0x3')]+':'+_0x3420fb[a177_0x2a2f('0xf')]['id']+'>':_0x3420fb[a177_0x2a2f('0xf')][a177_0x2a2f('0x3')],_0x46cb5a=emojis[a177_0x2a2f('0x25')](_0x53e605);if(_0x46cb5a){const _0x12ec19=await Role_1['default'][a177_0x2a2f('0x20')]({'$or':_0x2b59e2[a177_0x2a2f('0x14')]['map'](_0xb00011=>({'_id':_0xb00011})),'guild':_0x3420fb['message'][a177_0x2a2f('0x13')]['id'],'emoji':_0x46cb5a[a177_0x2a2f('0x23')]});if(!_0x12ec19)return;await _0x1e69ad[a177_0x2a2f('0x14')][a177_0x2a2f('0x15')](_0x12ec19[a177_0x2a2f('0xa')],'Removed\x20via\x20Reaction\x20Roles');}},this['exec']=async(_0x9ddb7c,_0x54835a)=>{_0x9ddb7c[a177_0x2a2f('0x7')]&&(_0x9ddb7c=await _0x9ddb7c[a177_0x2a2f('0xd')]());_0x9ddb7c[a177_0x2a2f('0x6')][a177_0x2a2f('0x7')]&&(_0x9ddb7c[a177_0x2a2f('0x6')]=await _0x9ddb7c['message'][a177_0x2a2f('0xd')]());if(!_0x9ddb7c[a177_0x2a2f('0x6')]['guild'])return;const _0x16e899=_0x9ddb7c['message'][a177_0x2a2f('0x13')][a177_0x2a2f('0x16')](_0x54835a);this[a177_0x2a2f('0x1a')](_0x9ddb7c,_0x16e899)['catch'](()=>{});const _0x53c9e9=await _0x9ddb7c['message']['guild'][a177_0x2a2f('0xc')]();_0x53c9e9[a177_0x2a2f('0x1d')]&&this['handleReactionPinning'](_0x9ddb7c,_0x16e899)[a177_0x2a2f('0x1e')](()=>{});};}};