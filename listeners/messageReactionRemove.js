const a165_0x1650=['@bastion/tesseract','unpin','permissionsFor','channel','MANAGE_MESSAGES','name','findOne','messageReactionRemove','parseEmoji','value','exports','roles','LISTENER_MODE','has','Constants','catch','handleReactionPinning','guild','findById','emoji','apply','Removed\x20via\x20Reaction\x20Roles','partial','_id','animated','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','member','compile','Listener','remove','map','getDocument','message','default','../models/Role'];(function(_0x54cfb5,_0x165095){const _0x10c7ec=function(_0x101d87){while(--_0x101d87){_0x54cfb5['push'](_0x54cfb5['shift']());}};const _0x50021a=function(){const _0x265056={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e2e91,_0x404229,_0x281826,_0x4dd7a3){_0x4dd7a3=_0x4dd7a3||{};let _0xc47853=_0x404229+'='+_0x281826;let _0x4bceb2=0x0;for(let _0x285a25=0x0,_0x57727e=_0x4e2e91['length'];_0x285a25<_0x57727e;_0x285a25++){const _0x411fbb=_0x4e2e91[_0x285a25];_0xc47853+=';\x20'+_0x411fbb;const _0x2dcb51=_0x4e2e91[_0x411fbb];_0x4e2e91['push'](_0x2dcb51);_0x57727e=_0x4e2e91['length'];if(_0x2dcb51!==!![]){_0xc47853+='='+_0x2dcb51;}}_0x4dd7a3['cookie']=_0xc47853;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3c4d8b,_0x218ed0){_0x3c4d8b=_0x3c4d8b||function(_0x4e147a){return _0x4e147a;};const _0x12933c=_0x3c4d8b(new RegExp('(?:^|;\x20)'+_0x218ed0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3a26e0=function(_0x4523b6,_0x5b60b8){_0x4523b6(++_0x5b60b8);};_0x3a26e0(_0x10c7ec,_0x165095);return _0x12933c?decodeURIComponent(_0x12933c[0x1]):undefined;}};const _0x5ef823=function(){const _0x4a72ce=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4a72ce['test'](_0x265056['removeCookie']['toString']());};_0x265056['updateCookie']=_0x5ef823;let _0xe20d03='';const _0x5310e1=_0x265056['updateCookie']();if(!_0x5310e1){_0x265056['setCookie'](['*'],'counter',0x1);}else if(_0x5310e1){_0xe20d03=_0x265056['getCookie'](null,'counter');}else{_0x265056['removeCookie']();}};_0x50021a();}(a165_0x1650,0x1c8));const a165_0x10c7=function(_0x54cfb5,_0x165095){_0x54cfb5=_0x54cfb5-0x0;let _0x10c7ec=a165_0x1650[_0x54cfb5];return _0x10c7ec;};const a165_0x265056=function(){let _0x143903=!![];return function(_0x494b8f,_0x1ff5f7){const _0x104133=_0x143903?function(){if(_0x1ff5f7){const _0x146cbd=_0x1ff5f7[a165_0x10c7('0x13')](_0x494b8f,arguments);_0x1ff5f7=null;return _0x146cbd;}}:function(){};_0x143903=![];return _0x104133;};}();const a165_0x101d87=a165_0x265056(this,function(){const _0x5629f9=function(){const _0x1262e1=_0x5629f9['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a165_0x10c7('0x1a')](a165_0x10c7('0x18'));return!_0x1262e1['test'](a165_0x101d87);};return _0x5629f9();});a165_0x101d87();'use strict';const tesseract_1=require(a165_0x10c7('0x22'));const ReactionRoleGroup_1=require('../models/ReactionRoleGroup');const Role_1=require(a165_0x10c7('0x21'));const emojis=require('../utils/emojis');module[a165_0x10c7('0x9')]=class MessageReactionRemoveListener extends tesseract_1[a165_0x10c7('0x1b')]{constructor(){super(a165_0x10c7('0x6'),{'mode':tesseract_1[a165_0x10c7('0xd')][a165_0x10c7('0xb')]['ON']});this[a165_0x10c7('0xf')]=async(_0x1d55e7,_0x25f549)=>{if(!['📌','📍']['includes'](_0x1d55e7[a165_0x10c7('0x12')]['name']))return;if(!_0x1d55e7['message'][a165_0x10c7('0x2')][a165_0x10c7('0x1')](_0x25f549)[a165_0x10c7('0xc')](a165_0x10c7('0x3')))return;await _0x1d55e7['message'][a165_0x10c7('0x0')]();};this['handleReactionRoles']=async(_0x2f03ba,_0xe8051e)=>{const _0x5a75ce=await ReactionRoleGroup_1['default'][a165_0x10c7('0x11')](_0x2f03ba[a165_0x10c7('0x1f')]['id']);if(!_0x5a75ce)return;const _0x4bbf1f=_0x2f03ba[a165_0x10c7('0x12')]['id']?'<'+(_0x2f03ba['emoji'][a165_0x10c7('0x17')]?'a':'')+':'+_0x2f03ba[a165_0x10c7('0x12')][a165_0x10c7('0x4')]+':'+_0x2f03ba['emoji']['id']+'>':_0x2f03ba[a165_0x10c7('0x12')][a165_0x10c7('0x4')];const _0x46bf50=emojis[a165_0x10c7('0x7')](_0x4bbf1f);if(_0x46bf50){const _0x405f92=await Role_1[a165_0x10c7('0x20')][a165_0x10c7('0x5')]({'$or':_0x5a75ce[a165_0x10c7('0xa')][a165_0x10c7('0x1d')](_0x17f006=>({'_id':_0x17f006})),'guild':_0x2f03ba[a165_0x10c7('0x1f')][a165_0x10c7('0x10')]['id'],'emoji':_0x46bf50[a165_0x10c7('0x8')]});if(!_0x405f92)return;await _0xe8051e['roles'][a165_0x10c7('0x1c')](_0x405f92[a165_0x10c7('0x16')],a165_0x10c7('0x14'));}};this['exec']=async(_0x495a54,_0x1c56b1)=>{if(_0x495a54[a165_0x10c7('0x15')]){_0x495a54=await _0x495a54['fetch']();}if(_0x495a54[a165_0x10c7('0x1f')]['partial']){_0x495a54[a165_0x10c7('0x1f')]=await _0x495a54[a165_0x10c7('0x1f')]['fetch']();}if(!_0x495a54[a165_0x10c7('0x1f')][a165_0x10c7('0x10')])return;const _0x5df8c5=_0x495a54[a165_0x10c7('0x1f')][a165_0x10c7('0x10')][a165_0x10c7('0x19')](_0x1c56b1);this['handleReactionRoles'](_0x495a54,_0x5df8c5)[a165_0x10c7('0xe')](()=>{});const _0x653029=await _0x495a54['message'][a165_0x10c7('0x10')][a165_0x10c7('0x1e')]();if(_0x653029['reactionPinning']){this['handleReactionPinning'](_0x495a54,_0x5df8c5)['catch'](()=>{});}};}};