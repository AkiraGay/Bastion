const a176_0x54b1=['apply','Removed\x20via\x20Reaction\x20Roles','_id','Constants','messageReactionRemove','default','MANAGE_MESSAGES','findOne','Pin\x20reaction\x20removed\x20by\x20','exports','test','channel','message','exec','roles','user','handleReactionRoles','name','Listener','../utils/emojis','remove','@bastion/tesseract','map','catch','findById','parseEmoji','emoji','includes','tag','member','getDocument','has','constructor','handleReactionPinning','reactionPinning','fetch','partial','value','guild','unpin'];(function(_0x399944,_0x54b187){const _0x122985=function(_0x469a07){while(--_0x469a07){_0x399944['push'](_0x399944['shift']());}},_0x259853=function(){const _0x3a0c87={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x35a87c,_0xbea59,_0x1d1394,_0x44421){_0x44421=_0x44421||{};let _0x22ed2e=_0xbea59+'='+_0x1d1394,_0x5eb61c=0x0;for(let _0x5acdd3=0x0,_0x1fd65d=_0x35a87c['length'];_0x5acdd3<_0x1fd65d;_0x5acdd3++){const _0xb82f03=_0x35a87c[_0x5acdd3];_0x22ed2e+=';\x20'+_0xb82f03;const _0x375228=_0x35a87c[_0xb82f03];_0x35a87c['push'](_0x375228),_0x1fd65d=_0x35a87c['length'],_0x375228!==!![]&&(_0x22ed2e+='='+_0x375228);}_0x44421['cookie']=_0x22ed2e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2aa63e,_0x1d0ab1){_0x2aa63e=_0x2aa63e||function(_0x719c25){return _0x719c25;};const _0x584e93=_0x2aa63e(new RegExp('(?:^|;\x20)'+_0x1d0ab1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x505d71=function(_0x40b3cf,_0x1bb80e){_0x40b3cf(++_0x1bb80e);};return _0x505d71(_0x122985,_0x54b187),_0x584e93?decodeURIComponent(_0x584e93[0x1]):undefined;}},_0x4544af=function(){const _0x38176d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x38176d['test'](_0x3a0c87['removeCookie']['toString']());};_0x3a0c87['updateCookie']=_0x4544af;let _0x57e2e3='';const _0x2eabd9=_0x3a0c87['updateCookie']();if(!_0x2eabd9)_0x3a0c87['setCookie'](['*'],'counter',0x1);else _0x2eabd9?_0x57e2e3=_0x3a0c87['getCookie'](null,'counter'):_0x3a0c87['removeCookie']();};_0x259853();}(a176_0x54b1,0x156));const a176_0x1229=function(_0x399944,_0x54b187){_0x399944=_0x399944-0x0;let _0x122985=a176_0x54b1[_0x399944];return _0x122985;};const a176_0x3a0c87=function(){let _0x57e2e3=!![];return function(_0x2eabd9,_0x35a87c){const _0xbea59=_0x57e2e3?function(){if(_0x35a87c){const _0x1d1394=_0x35a87c[a176_0x1229('0x12')](_0x2eabd9,arguments);return _0x35a87c=null,_0x1d1394;}}:function(){};return _0x57e2e3=![],_0xbea59;};}(),a176_0x469a07=a176_0x3a0c87(this,function(){const _0x44421=function(){const _0x22ed2e=_0x44421[a176_0x1229('0xa')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a176_0x1229('0xa')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x22ed2e[a176_0x1229('0x1c')](a176_0x469a07);};return _0x44421();});a176_0x469a07();'use strict';const tesseract_1=require(a176_0x1229('0x27')),ReactionRoleGroup_1=require('../models/ReactionRoleGroup'),Role_1=require('../models/Role'),emojis=require(a176_0x1229('0x25'));module[a176_0x1229('0x1b')]=class MessageReactionRemoveListener extends tesseract_1[a176_0x1229('0x24')]{constructor(){super(a176_0x1229('0x16'),{'mode':tesseract_1[a176_0x1229('0x15')]['LISTENER_MODE']['ON']}),this['handleReactionPinning']=async(_0x5eb61c,_0x5acdd3)=>{if(!['📌','📍'][a176_0x1229('0x5')](_0x5eb61c[a176_0x1229('0x4')][a176_0x1229('0x23')]))return;if(!_0x5eb61c[a176_0x1229('0x1e')][a176_0x1229('0x1d')]['permissionsFor'](_0x5acdd3)[a176_0x1229('0x9')](a176_0x1229('0x18')))return;await _0x5eb61c['message'][a176_0x1229('0x11')]({'reason':a176_0x1229('0x1a')+_0x5acdd3[a176_0x1229('0x21')]?_0x5acdd3['user'][a176_0x1229('0x6')]:_0x5acdd3['id']});},this['handleReactionRoles']=async(_0x1fd65d,_0xb82f03)=>{const _0x375228=await ReactionRoleGroup_1[a176_0x1229('0x17')][a176_0x1229('0x2')](_0x1fd65d['message']['id']);if(!_0x375228)return;const _0x2aa63e=_0x1fd65d['emoji']['id']?'<'+(_0x1fd65d['emoji']['animated']?'a':'')+':'+_0x1fd65d[a176_0x1229('0x4')]['name']+':'+_0x1fd65d[a176_0x1229('0x4')]['id']+'>':_0x1fd65d['emoji'][a176_0x1229('0x23')],_0x1d0ab1=emojis[a176_0x1229('0x3')](_0x2aa63e);if(_0x1d0ab1){const _0x584e93=await Role_1[a176_0x1229('0x17')][a176_0x1229('0x19')]({'$or':_0x375228[a176_0x1229('0x20')][a176_0x1229('0x0')](_0x505d71=>({'_id':_0x505d71})),'guild':_0x1fd65d[a176_0x1229('0x1e')][a176_0x1229('0x10')]['id'],'emoji':_0x1d0ab1[a176_0x1229('0xf')]});if(!_0x584e93)return;await _0xb82f03[a176_0x1229('0x20')][a176_0x1229('0x26')](_0x584e93[a176_0x1229('0x14')],a176_0x1229('0x13'));}},this[a176_0x1229('0x1f')]=async(_0x719c25,_0x40b3cf)=>{_0x719c25[a176_0x1229('0xe')]&&(_0x719c25=await _0x719c25[a176_0x1229('0xd')]());_0x719c25[a176_0x1229('0x1e')][a176_0x1229('0xe')]&&(_0x719c25[a176_0x1229('0x1e')]=await _0x719c25[a176_0x1229('0x1e')]['fetch']());if(!_0x719c25[a176_0x1229('0x1e')][a176_0x1229('0x10')])return;const _0x1bb80e=_0x719c25['message'][a176_0x1229('0x10')][a176_0x1229('0x7')](_0x40b3cf);this[a176_0x1229('0x22')](_0x719c25,_0x1bb80e)['catch'](()=>{});const _0x38176d=await _0x719c25[a176_0x1229('0x1e')][a176_0x1229('0x10')][a176_0x1229('0x8')]();_0x38176d[a176_0x1229('0xc')]&&this[a176_0x1229('0xb')](_0x719c25,_0x1bb80e)[a176_0x1229('0x1')](()=>{});};}};