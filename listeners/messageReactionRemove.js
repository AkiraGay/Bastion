const a165_0x346b=['reactionPinning','LISTENER_MODE','Constants','exec','getDocument','compile','exports','catch','test','permissionsFor','handleReactionPinning','value','fetch','roles','partial','has','animated','@bastion/tesseract','message','default','handleReactionRoles','messageReactionRemove','guild','Removed\x20via\x20Reaction\x20Roles','emoji','../models/ReactionRoleGroup','MANAGE_MESSAGES','return\x20/\x22\x20+\x20this\x20+\x20\x22/','unpin','includes','remove','Listener','map','findOne','parseEmoji','member','apply'];(function(_0x2553b6,_0x346b8e){const _0x33a0d3=function(_0x480173){while(--_0x480173){_0x2553b6['push'](_0x2553b6['shift']());}};const _0x112d8f=function(){const _0x47eb95={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x276a70,_0x3403c4,_0x5c344e,_0x701e2b){_0x701e2b=_0x701e2b||{};let _0x20299e=_0x3403c4+'='+_0x5c344e;let _0x25646d=0x0;for(let _0x50a57c=0x0,_0x50fb2d=_0x276a70['length'];_0x50a57c<_0x50fb2d;_0x50a57c++){const _0x1488a1=_0x276a70[_0x50a57c];_0x20299e+=';\x20'+_0x1488a1;const _0x32cf3d=_0x276a70[_0x1488a1];_0x276a70['push'](_0x32cf3d);_0x50fb2d=_0x276a70['length'];if(_0x32cf3d!==!![]){_0x20299e+='='+_0x32cf3d;}}_0x701e2b['cookie']=_0x20299e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x33c54d,_0x27c2ca){_0x33c54d=_0x33c54d||function(_0x2e28f9){return _0x2e28f9;};const _0x3e85c7=_0x33c54d(new RegExp('(?:^|;\x20)'+_0x27c2ca['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1ddbb0=function(_0x378919,_0x59d36c){_0x378919(++_0x59d36c);};_0x1ddbb0(_0x33a0d3,_0x346b8e);return _0x3e85c7?decodeURIComponent(_0x3e85c7[0x1]):undefined;}};const _0x180422=function(){const _0x593fb8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x593fb8['test'](_0x47eb95['removeCookie']['toString']());};_0x47eb95['updateCookie']=_0x180422;let _0x45ffb8='';const _0x4df0b6=_0x47eb95['updateCookie']();if(!_0x4df0b6){_0x47eb95['setCookie'](['*'],'counter',0x1);}else if(_0x4df0b6){_0x45ffb8=_0x47eb95['getCookie'](null,'counter');}else{_0x47eb95['removeCookie']();}};_0x112d8f();}(a165_0x346b,0x100));const a165_0x33a0=function(_0x2553b6,_0x346b8e){_0x2553b6=_0x2553b6-0x0;let _0x33a0d3=a165_0x346b[_0x2553b6];return _0x33a0d3;};const a165_0x47eb95=function(){let _0x3db9ba=!![];return function(_0x1efd20,_0x149a44){const _0x552172=_0x3db9ba?function(){if(_0x149a44){const _0x685055=_0x149a44[a165_0x33a0('0x2')](_0x1efd20,arguments);_0x149a44=null;return _0x685055;}}:function(){};_0x3db9ba=![];return _0x552172;};}();const a165_0x480173=a165_0x47eb95(this,function(){const _0x59fcb8=function(){const _0x25d2e6=_0x59fcb8['constructor'](a165_0x33a0('0x1e'))()[a165_0x33a0('0x8')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x25d2e6[a165_0x33a0('0xb')](a165_0x480173);};return _0x59fcb8();});a165_0x480173();'use strict';const tesseract_1=require(a165_0x33a0('0x14'));const ReactionRoleGroup_1=require(a165_0x33a0('0x1c'));const Role_1=require('../models/Role');const emojis=require('../utils/emojis');module[a165_0x33a0('0x9')]=class MessageReactionRemoveListener extends tesseract_1[a165_0x33a0('0x22')]{constructor(){super(a165_0x33a0('0x18'),{'mode':tesseract_1[a165_0x33a0('0x5')][a165_0x33a0('0x4')]['ON']});this[a165_0x33a0('0xd')]=async(_0x448c2e,_0x46802e)=>{if(!['📌','📍'][a165_0x33a0('0x20')](_0x448c2e[a165_0x33a0('0x1b')]['name']))return;if(!_0x448c2e['message']['channel'][a165_0x33a0('0xc')](_0x46802e)[a165_0x33a0('0x12')](a165_0x33a0('0x1d')))return;await _0x448c2e['message'][a165_0x33a0('0x1f')]();};this[a165_0x33a0('0x17')]=async(_0x419f3e,_0x6ce242)=>{const _0x29fcda=await ReactionRoleGroup_1[a165_0x33a0('0x16')]['findById'](_0x419f3e[a165_0x33a0('0x15')]['id']);if(!_0x29fcda)return;const _0x1ebc3a=_0x419f3e[a165_0x33a0('0x1b')]['id']?'<'+(_0x419f3e[a165_0x33a0('0x1b')][a165_0x33a0('0x13')]?'a':'')+':'+_0x419f3e[a165_0x33a0('0x1b')]['name']+':'+_0x419f3e[a165_0x33a0('0x1b')]['id']+'>':_0x419f3e[a165_0x33a0('0x1b')]['name'];const _0x237890=emojis[a165_0x33a0('0x0')](_0x1ebc3a);if(_0x237890){const _0x4a40fa=await Role_1['default'][a165_0x33a0('0x24')]({'$or':_0x29fcda['roles'][a165_0x33a0('0x23')](_0x1fbd42=>({'_id':_0x1fbd42})),'guild':_0x419f3e[a165_0x33a0('0x15')][a165_0x33a0('0x19')]['id'],'emoji':_0x237890[a165_0x33a0('0xe')]});if(!_0x4a40fa)return;await _0x6ce242[a165_0x33a0('0x10')][a165_0x33a0('0x21')](_0x4a40fa['_id'],a165_0x33a0('0x1a'));}};this[a165_0x33a0('0x6')]=async(_0x2b4b6b,_0x11527e)=>{if(_0x2b4b6b[a165_0x33a0('0x11')]){_0x2b4b6b=await _0x2b4b6b[a165_0x33a0('0xf')]();}if(_0x2b4b6b[a165_0x33a0('0x15')][a165_0x33a0('0x11')]){_0x2b4b6b[a165_0x33a0('0x15')]=await _0x2b4b6b['message'][a165_0x33a0('0xf')]();}if(!_0x2b4b6b['message'][a165_0x33a0('0x19')])return;const _0x3cf75b=_0x2b4b6b[a165_0x33a0('0x15')][a165_0x33a0('0x19')][a165_0x33a0('0x1')](_0x11527e);this['handleReactionRoles'](_0x2b4b6b,_0x3cf75b)[a165_0x33a0('0xa')](()=>{});const _0x701e6f=await _0x2b4b6b['message']['guild'][a165_0x33a0('0x7')]();if(_0x701e6f[a165_0x33a0('0x3')]){this[a165_0x33a0('0xd')](_0x2b4b6b,_0x3cf75b)[a165_0x33a0('0xa')](()=>{});}};}};