const a173_0x440e=['value','fetch','Listener','channel','apply','has','constructor','getDocument','roles','findById','Constants','includes','findOne','animated','return\x20/\x22\x20+\x20this\x20+\x20\x22/','permissionsFor','@bastion/tesseract','unpin','MANAGE_MESSAGES','handleReactionPinning','exec','catch','_id','member','default','reactionPinning','name','LISTENER_MODE','remove','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','guild','handleReactionRoles','exports','message','../models/Role','messageReactionRemove','emoji'];(function(_0x205d9a,_0x440e88){const _0x5f3a04=function(_0x1c9c33){while(--_0x1c9c33){_0x205d9a['push'](_0x205d9a['shift']());}},_0x44b3f2=function(){const _0x65c225={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x573956,_0x7144d9,_0xbbabde,_0x49ead0){_0x49ead0=_0x49ead0||{};let _0x650de0=_0x7144d9+'='+_0xbbabde,_0x354800=0x0;for(let _0x2cf8db=0x0,_0x3e36ee=_0x573956['length'];_0x2cf8db<_0x3e36ee;_0x2cf8db++){const _0x10c958=_0x573956[_0x2cf8db];_0x650de0+=';\x20'+_0x10c958;const _0x47f3b1=_0x573956[_0x10c958];_0x573956['push'](_0x47f3b1),_0x3e36ee=_0x573956['length'],_0x47f3b1!==!![]&&(_0x650de0+='='+_0x47f3b1);}_0x49ead0['cookie']=_0x650de0;},'removeCookie':function(){return'dev';},'getCookie':function(_0xa0ab03,_0x4a8a04){_0xa0ab03=_0xa0ab03||function(_0x1e4eba){return _0x1e4eba;};const _0x116e3c=_0xa0ab03(new RegExp('(?:^|;\x20)'+_0x4a8a04['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x508c11=function(_0x183b84,_0x4e7fdf){_0x183b84(++_0x4e7fdf);};return _0x508c11(_0x5f3a04,_0x440e88),_0x116e3c?decodeURIComponent(_0x116e3c[0x1]):undefined;}},_0x25ce19=function(){const _0x378482=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x378482['test'](_0x65c225['removeCookie']['toString']());};_0x65c225['updateCookie']=_0x25ce19;let _0x1455ae='';const _0xfc70dc=_0x65c225['updateCookie']();if(!_0xfc70dc)_0x65c225['setCookie'](['*'],'counter',0x1);else _0xfc70dc?_0x1455ae=_0x65c225['getCookie'](null,'counter'):_0x65c225['removeCookie']();};_0x44b3f2();}(a173_0x440e,0xec));const a173_0x5f3a=function(_0x205d9a,_0x440e88){_0x205d9a=_0x205d9a-0x0;let _0x5f3a04=a173_0x440e[_0x205d9a];return _0x5f3a04;};const a173_0xbbabde=function(){let _0x4d03db=!![];return function(_0x28ef85,_0x4144ff){const _0x511c07=_0x4d03db?function(){if(_0x4144ff){const _0x3bbbcc=_0x4144ff[a173_0x5f3a('0x1b')](_0x28ef85,arguments);return _0x4144ff=null,_0x3bbbcc;}}:function(){};return _0x4d03db=![],_0x511c07;};}(),a173_0x7144d9=a173_0xbbabde(this,function(){const _0x187d02=function(){const _0x22ac5d=_0x187d02[a173_0x5f3a('0x1d')](a173_0x5f3a('0x0'))()[a173_0x5f3a('0x1d')](a173_0x5f3a('0xf'));return!_0x22ac5d['test'](a173_0x7144d9);};return _0x187d02();});a173_0x7144d9();'use strict';const tesseract_1=require(a173_0x5f3a('0x2')),ReactionRoleGroup_1=require('../models/ReactionRoleGroup'),Role_1=require(a173_0x5f3a('0x14')),emojis=require('../utils/emojis');module[a173_0x5f3a('0x12')]=class MessageReactionRemoveListener extends tesseract_1[a173_0x5f3a('0x19')]{constructor(){super(a173_0x5f3a('0x15'),{'mode':tesseract_1[a173_0x5f3a('0x21')][a173_0x5f3a('0xd')]['ON']}),this['handleReactionPinning']=async(_0x1eb432,_0x37f765)=>{if(!['📌','📍'][a173_0x5f3a('0x22')](_0x1eb432['emoji'][a173_0x5f3a('0xc')]))return;if(!_0x1eb432['message'][a173_0x5f3a('0x1a')][a173_0x5f3a('0x1')](_0x37f765)[a173_0x5f3a('0x1c')](a173_0x5f3a('0x4')))return;await _0x1eb432['message'][a173_0x5f3a('0x3')]();},this['handleReactionRoles']=async(_0xc8bf93,_0x5040f5)=>{const _0x34d724=await ReactionRoleGroup_1[a173_0x5f3a('0xa')][a173_0x5f3a('0x20')](_0xc8bf93[a173_0x5f3a('0x13')]['id']);if(!_0x34d724)return;const _0xefa510=_0xc8bf93[a173_0x5f3a('0x16')]['id']?'<'+(_0xc8bf93[a173_0x5f3a('0x16')][a173_0x5f3a('0x24')]?'a':'')+':'+_0xc8bf93[a173_0x5f3a('0x16')][a173_0x5f3a('0xc')]+':'+_0xc8bf93[a173_0x5f3a('0x16')]['id']+'>':_0xc8bf93[a173_0x5f3a('0x16')][a173_0x5f3a('0xc')],_0x214dc6=emojis['parseEmoji'](_0xefa510);if(_0x214dc6){const _0x251feb=await Role_1[a173_0x5f3a('0xa')][a173_0x5f3a('0x23')]({'$or':_0x34d724[a173_0x5f3a('0x1f')]['map'](_0x298981=>({'_id':_0x298981})),'guild':_0xc8bf93[a173_0x5f3a('0x13')][a173_0x5f3a('0x10')]['id'],'emoji':_0x214dc6[a173_0x5f3a('0x17')]});if(!_0x251feb)return;await _0x5040f5['roles'][a173_0x5f3a('0xe')](_0x251feb[a173_0x5f3a('0x8')],'Removed\x20via\x20Reaction\x20Roles');}},this[a173_0x5f3a('0x6')]=async(_0x35595a,_0x35acae)=>{_0x35595a['partial']&&(_0x35595a=await _0x35595a['fetch']());_0x35595a[a173_0x5f3a('0x13')]['partial']&&(_0x35595a['message']=await _0x35595a[a173_0x5f3a('0x13')][a173_0x5f3a('0x18')]());if(!_0x35595a[a173_0x5f3a('0x13')][a173_0x5f3a('0x10')])return;const _0x160538=_0x35595a[a173_0x5f3a('0x13')]['guild'][a173_0x5f3a('0x9')](_0x35acae);this[a173_0x5f3a('0x11')](_0x35595a,_0x160538)[a173_0x5f3a('0x7')](()=>{});const _0x198da0=await _0x35595a['message'][a173_0x5f3a('0x10')][a173_0x5f3a('0x1e')]();_0x198da0[a173_0x5f3a('0xb')]&&this[a173_0x5f3a('0x5')](_0x35595a,_0x160538)['catch'](()=>{});};}};