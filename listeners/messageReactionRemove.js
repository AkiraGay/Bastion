const a385_0x3e25=['../models/ReactionRoleGroup','includes','guild','constructor','reactionPinning','channel','name','Constants','@bastion/tesseract','parseEmoji','unpin','fetch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../utils/emojis','handleReactionPinning','exports','roles','emoji','handleReactionRoles','test','getDocument','default','partial','value','compile','animated','findById','message','exec','Listener','remove','MANAGE_MESSAGES','catch','findOne','has','../models/Role'];(function(_0x1051a5,_0x3e255d){const _0x41d532=function(_0x45170e){while(--_0x45170e){_0x1051a5['push'](_0x1051a5['shift']());}};const _0x466aca=function(){const _0x55c431={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x43b8ef,_0x1c65e5,_0x51cead,_0x8acf6f){_0x8acf6f=_0x8acf6f||{};let _0x2c3798=_0x1c65e5+'='+_0x51cead;let _0x35ffc=0x0;for(let _0x2fee3e=0x0,_0x3126d7=_0x43b8ef['length'];_0x2fee3e<_0x3126d7;_0x2fee3e++){const _0x1382c6=_0x43b8ef[_0x2fee3e];_0x2c3798+=';\x20'+_0x1382c6;const _0x3b09e2=_0x43b8ef[_0x1382c6];_0x43b8ef['push'](_0x3b09e2);_0x3126d7=_0x43b8ef['length'];if(_0x3b09e2!==!![]){_0x2c3798+='='+_0x3b09e2;}}_0x8acf6f['cookie']=_0x2c3798;},'removeCookie':function(){return'dev';},'getCookie':function(_0x53ea13,_0x2f74a2){_0x53ea13=_0x53ea13||function(_0x3a4462){return _0x3a4462;};const _0x5095bf=_0x53ea13(new RegExp('(?:^|;\x20)'+_0x2f74a2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5ba037=function(_0xd3dbfa,_0x2e7dd3){_0xd3dbfa(++_0x2e7dd3);};_0x5ba037(_0x41d532,_0x3e255d);return _0x5095bf?decodeURIComponent(_0x5095bf[0x1]):undefined;}};const _0x566724=function(){const _0x5cf0f9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5cf0f9['test'](_0x55c431['removeCookie']['toString']());};_0x55c431['updateCookie']=_0x566724;let _0x5555f5='';const _0x1f9a22=_0x55c431['updateCookie']();if(!_0x1f9a22){_0x55c431['setCookie'](['*'],'counter',0x1);}else if(_0x1f9a22){_0x5555f5=_0x55c431['getCookie'](null,'counter');}else{_0x55c431['removeCookie']();}};_0x466aca();}(a385_0x3e25,0xa8));const a385_0x41d5=function(_0x1051a5,_0x3e255d){_0x1051a5=_0x1051a5-0x0;let _0x41d532=a385_0x3e25[_0x1051a5];return _0x41d532;};const a385_0x55c431=function(){let _0x51dbba=!![];return function(_0xa92fd7,_0x3f070f){const _0x291070=_0x51dbba?function(){if(_0x3f070f){const _0x138f0d=_0x3f070f['apply'](_0xa92fd7,arguments);_0x3f070f=null;return _0x138f0d;}}:function(){};_0x51dbba=![];return _0x291070;};}();const a385_0x45170e=a385_0x55c431(this,function(){const _0x16ea99=function(){const _0x438a79=_0x16ea99[a385_0x41d5('0xf')](a385_0x41d5('0x18'))()[a385_0x41d5('0x0')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x438a79[a385_0x41d5('0x1f')](a385_0x45170e);};return _0x16ea99();});a385_0x45170e();'use strict';const tesseract_1=require(a385_0x41d5('0x14'));const ReactionRoleGroup_1=require(a385_0x41d5('0xc'));const Role_1=require(a385_0x41d5('0xb'));const emojis=require(a385_0x41d5('0x19'));module[a385_0x41d5('0x1b')]=class MessageReactionRemoveListener extends tesseract_1[a385_0x41d5('0x5')]{constructor(){super('messageReactionRemove',{'mode':tesseract_1[a385_0x41d5('0x13')]['LISTENER_MODE']['ON']});this['handleReactionPinning']=async(_0x1ab1f9,_0x3b6d67)=>{if(!['📌','📍'][a385_0x41d5('0xd')](_0x1ab1f9[a385_0x41d5('0x1d')][a385_0x41d5('0x12')]))return;if(!_0x1ab1f9['message'][a385_0x41d5('0x11')]['permissionsFor'](_0x3b6d67)[a385_0x41d5('0xa')](a385_0x41d5('0x7')))return;await _0x1ab1f9['message'][a385_0x41d5('0x16')]();};this['handleReactionRoles']=async(_0xb9fe81,_0x25ef04)=>{const _0x1be7d3=await ReactionRoleGroup_1[a385_0x41d5('0x21')][a385_0x41d5('0x2')](_0xb9fe81[a385_0x41d5('0x3')]['id']);if(!_0x1be7d3)return;const _0x46a70b=_0xb9fe81[a385_0x41d5('0x1d')]['id']?'<'+(_0xb9fe81[a385_0x41d5('0x1d')][a385_0x41d5('0x1')]?'a':'')+':'+_0xb9fe81[a385_0x41d5('0x1d')]['name']+':'+_0xb9fe81[a385_0x41d5('0x1d')]['id']+'>':_0xb9fe81[a385_0x41d5('0x1d')][a385_0x41d5('0x12')];const _0x88b1bd=emojis[a385_0x41d5('0x15')](_0x46a70b);if(_0x88b1bd){const _0x34d060=await Role_1[a385_0x41d5('0x21')][a385_0x41d5('0x9')]({'$or':_0x1be7d3['roles']['map'](_0x91e260=>({'_id':_0x91e260})),'guild':_0xb9fe81['message'][a385_0x41d5('0xe')]['id'],'emoji':_0x88b1bd[a385_0x41d5('0x23')]});if(!_0x34d060)return;await _0x25ef04[a385_0x41d5('0x1c')][a385_0x41d5('0x6')](_0x34d060['_id'],'Removed\x20via\x20Reaction\x20Roles');}};this[a385_0x41d5('0x4')]=async(_0x3ff899,_0xa830b7)=>{if(_0x3ff899[a385_0x41d5('0x22')]){_0x3ff899=await _0x3ff899[a385_0x41d5('0x17')]();}if(_0x3ff899[a385_0x41d5('0x3')][a385_0x41d5('0x22')]){_0x3ff899[a385_0x41d5('0x3')]=await _0x3ff899[a385_0x41d5('0x3')][a385_0x41d5('0x17')]();}if(!_0x3ff899[a385_0x41d5('0x3')][a385_0x41d5('0xe')])return;const _0x5a36ec=_0x3ff899[a385_0x41d5('0x3')][a385_0x41d5('0xe')]['member'](_0xa830b7);this[a385_0x41d5('0x1e')](_0x3ff899,_0x5a36ec)[a385_0x41d5('0x8')](()=>{});const _0x59f111=await _0x3ff899['message']['guild'][a385_0x41d5('0x20')]();if(_0x59f111[a385_0x41d5('0x10')]){this[a385_0x41d5('0x1a')](_0x3ff899,_0x5a36ec)['catch'](()=>{});}};}};