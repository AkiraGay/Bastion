const a166_0x222d=['guild','@bastion/tesseract','map','catch','default','findOne','return\x20/\x22\x20+\x20this\x20+\x20\x22/','fetch','unpin','Listener','permissionsFor','member','roles','channel','parseEmoji','message','Constants','name','../utils/emojis','remove','handleReactionRoles','exec','reactionPinning','exports','constructor','getDocument','findById','animated','partial','../models/Role','emoji','compile','_id','Removed\x20via\x20Reaction\x20Roles','MANAGE_MESSAGES','includes','handleReactionPinning','messageReactionRemove'];(function(_0x3cda6d,_0x222d66){const _0x31c9f8=function(_0x461788){while(--_0x461788){_0x3cda6d['push'](_0x3cda6d['shift']());}};const _0x551939=function(){const _0x2692ff={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x326cf5,_0x277897,_0x5c5f9e,_0x49a7c8){_0x49a7c8=_0x49a7c8||{};let _0x1685ef=_0x277897+'='+_0x5c5f9e;let _0x5bc691=0x0;for(let _0x3a38e7=0x0,_0x378665=_0x326cf5['length'];_0x3a38e7<_0x378665;_0x3a38e7++){const _0x29151c=_0x326cf5[_0x3a38e7];_0x1685ef+=';\x20'+_0x29151c;const _0x28f525=_0x326cf5[_0x29151c];_0x326cf5['push'](_0x28f525);_0x378665=_0x326cf5['length'];if(_0x28f525!==!![]){_0x1685ef+='='+_0x28f525;}}_0x49a7c8['cookie']=_0x1685ef;},'removeCookie':function(){return'dev';},'getCookie':function(_0x427513,_0x132dab){_0x427513=_0x427513||function(_0x1446dc){return _0x1446dc;};const _0x4d6c41=_0x427513(new RegExp('(?:^|;\x20)'+_0x132dab['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x324721=function(_0x53ea3f,_0x283f90){_0x53ea3f(++_0x283f90);};_0x324721(_0x31c9f8,_0x222d66);return _0x4d6c41?decodeURIComponent(_0x4d6c41[0x1]):undefined;}};const _0x252e7c=function(){const _0x1ff880=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1ff880['test'](_0x2692ff['removeCookie']['toString']());};_0x2692ff['updateCookie']=_0x252e7c;let _0x536907='';const _0x39b492=_0x2692ff['updateCookie']();if(!_0x39b492){_0x2692ff['setCookie'](['*'],'counter',0x1);}else if(_0x39b492){_0x536907=_0x2692ff['getCookie'](null,'counter');}else{_0x2692ff['removeCookie']();}};_0x551939();}(a166_0x222d,0x163));const a166_0x31c9=function(_0x3cda6d,_0x222d66){_0x3cda6d=_0x3cda6d-0x0;let _0x31c9f8=a166_0x222d[_0x3cda6d];return _0x31c9f8;};const a166_0x2692ff=function(){let _0x3d3bf6=!![];return function(_0x17ba6d,_0x3f9045){const _0x490c3e=_0x3d3bf6?function(){if(_0x3f9045){const _0x5d1b02=_0x3f9045['apply'](_0x17ba6d,arguments);_0x3f9045=null;return _0x5d1b02;}}:function(){};_0x3d3bf6=![];return _0x490c3e;};}();const a166_0x461788=a166_0x2692ff(this,function(){const _0x222a9f=function(){const _0x51913e=_0x222a9f[a166_0x31c9('0xb')](a166_0x31c9('0x1f'))()[a166_0x31c9('0x12')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x51913e['test'](a166_0x461788);};return _0x222a9f();});a166_0x461788();'use strict';const tesseract_1=require(a166_0x31c9('0x1a'));const ReactionRoleGroup_1=require('../models/ReactionRoleGroup');const Role_1=require(a166_0x31c9('0x10'));const emojis=require(a166_0x31c9('0x5'));module[a166_0x31c9('0xa')]=class MessageReactionRemoveListener extends tesseract_1[a166_0x31c9('0x22')]{constructor(){super(a166_0x31c9('0x18'),{'mode':tesseract_1[a166_0x31c9('0x3')]['LISTENER_MODE']['ON']});this[a166_0x31c9('0x17')]=async(_0x2b63aa,_0x3283a5)=>{if(!['📌','📍'][a166_0x31c9('0x16')](_0x2b63aa['emoji'][a166_0x31c9('0x4')]))return;if(!_0x2b63aa[a166_0x31c9('0x2')][a166_0x31c9('0x0')][a166_0x31c9('0x23')](_0x3283a5)['has'](a166_0x31c9('0x15')))return;await _0x2b63aa[a166_0x31c9('0x2')][a166_0x31c9('0x21')]();};this[a166_0x31c9('0x7')]=async(_0x2526c9,_0x8c84b8)=>{const _0x2357dd=await ReactionRoleGroup_1['default'][a166_0x31c9('0xd')](_0x2526c9[a166_0x31c9('0x2')]['id']);if(!_0x2357dd)return;const _0x198260=_0x2526c9[a166_0x31c9('0x11')]['id']?'<'+(_0x2526c9['emoji'][a166_0x31c9('0xe')]?'a':'')+':'+_0x2526c9[a166_0x31c9('0x11')][a166_0x31c9('0x4')]+':'+_0x2526c9[a166_0x31c9('0x11')]['id']+'>':_0x2526c9['emoji'][a166_0x31c9('0x4')];const _0x58797e=emojis[a166_0x31c9('0x1')](_0x198260);if(_0x58797e){const _0x3a9ba4=await Role_1[a166_0x31c9('0x1d')][a166_0x31c9('0x1e')]({'$or':_0x2357dd[a166_0x31c9('0x25')][a166_0x31c9('0x1b')](_0x3e5f02=>({'_id':_0x3e5f02})),'guild':_0x2526c9[a166_0x31c9('0x2')]['guild']['id'],'emoji':_0x58797e['value']});if(!_0x3a9ba4)return;await _0x8c84b8[a166_0x31c9('0x25')][a166_0x31c9('0x6')](_0x3a9ba4[a166_0x31c9('0x13')],a166_0x31c9('0x14'));}};this[a166_0x31c9('0x8')]=async(_0x189f57,_0x37b0c3)=>{if(_0x189f57[a166_0x31c9('0xf')]){_0x189f57=await _0x189f57[a166_0x31c9('0x20')]();}if(_0x189f57[a166_0x31c9('0x2')][a166_0x31c9('0xf')]){_0x189f57[a166_0x31c9('0x2')]=await _0x189f57[a166_0x31c9('0x2')][a166_0x31c9('0x20')]();}if(!_0x189f57['message']['guild'])return;const _0xc94883=_0x189f57[a166_0x31c9('0x2')]['guild'][a166_0x31c9('0x24')](_0x37b0c3);this['handleReactionRoles'](_0x189f57,_0xc94883)[a166_0x31c9('0x1c')](()=>{});const _0x11460f=await _0x189f57[a166_0x31c9('0x2')][a166_0x31c9('0x19')][a166_0x31c9('0xc')]();if(_0x11460f[a166_0x31c9('0x9')]){this['handleReactionPinning'](_0x189f57,_0xc94883)['catch'](()=>{});}};}};