const a196_0x4947=['emoji','handleReactionRoles','935671ZsreSN','2rTkCrs','443340tLHKtx','handleReactionPinning','member','test','name','guild','findById','includes','616514ELnJyN','LISTENER_MODE','308263nibLiK','findOne','remove','catch','messageReactionRemove','constructor','value','animated','unpin','exec','@bastion/tesseract','apply','parseEmoji','user','exports','reactionPinning','236068hKTLYi','has','message','../utils/emojis','Constants','127bGLRqo','return\x20/\x22\x20+\x20this\x20+\x20\x22/','1069642JDUiUi','Removed\x20via\x20Reaction\x20Roles','Listener','roles','_id','partial','fetch','channel','default','2581pqFBwv','tag'];const a196_0x30f5=function(_0x5d7d8f,_0xae4b1c){_0x5d7d8f=_0x5d7d8f-0x16a;let _0x33014b=a196_0x4947[_0x5d7d8f];return _0x33014b;};const a196_0xae7ac2=a196_0x30f5;(function(_0xd08732,_0x41e104){const _0x4c0ce6=a196_0x30f5;while(!![]){try{const _0x2c487d=parseInt(_0x4c0ce6(0x183))+parseInt(_0x4c0ce6(0x195))+parseInt(_0x4c0ce6(0x17a))*parseInt(_0x4c0ce6(0x185))+-parseInt(_0x4c0ce6(0x16c))+parseInt(_0x4c0ce6(0x179))+-parseInt(_0x4c0ce6(0x17b))+parseInt(_0x4c0ce6(0x16a))*-parseInt(_0x4c0ce6(0x175));if(_0x2c487d===_0x41e104)break;else _0xd08732['push'](_0xd08732['shift']());}catch(_0x4550f6){_0xd08732['push'](_0xd08732['shift']());}}}(a196_0x4947,0x89b2a));const a196_0x2f01a3=function(){let _0x605df3=!![];return function(_0x3a3aa8,_0x1c9aff){const _0x18b076=_0x605df3?function(){const _0xf36268=a196_0x30f5;if(_0x1c9aff){const _0x30a818=_0x1c9aff[_0xf36268(0x190)](_0x3a3aa8,arguments);return _0x1c9aff=null,_0x30a818;}}:function(){};return _0x605df3=![],_0x18b076;};}(),a196_0x431f47=a196_0x2f01a3(this,function(){const _0x34d3fe=function(){const _0x194f6b=a196_0x30f5,_0x910284=_0x34d3fe[_0x194f6b(0x18a)](_0x194f6b(0x16b))()[_0x194f6b(0x18a)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x910284[_0x194f6b(0x17e)](a196_0x431f47);};return _0x34d3fe();});a196_0x431f47();'use strict';const tesseract_1=require(a196_0xae7ac2(0x18f)),ReactionRoleGroup_1=require('../models/ReactionRoleGroup'),Role_1=require('../models/Role'),emojis=require(a196_0xae7ac2(0x198));module[a196_0xae7ac2(0x193)]=class MessageReactionRemoveListener extends tesseract_1[a196_0xae7ac2(0x16e)]{constructor(){const _0xcdae1b=a196_0xae7ac2;super(_0xcdae1b(0x189),{'mode':tesseract_1[_0xcdae1b(0x199)][_0xcdae1b(0x184)]['ON']}),this['handleReactionPinning']=async(_0x12d119,_0xa300c1)=>{const _0x2a40b6=_0xcdae1b;if(!['📌','📍'][_0x2a40b6(0x182)](_0x12d119[_0x2a40b6(0x177)][_0x2a40b6(0x17f)]))return;if(!_0x12d119['message'][_0x2a40b6(0x173)]['permissionsFor'](_0xa300c1)[_0x2a40b6(0x196)]('MANAGE_MESSAGES'))return;await _0x12d119['message'][_0x2a40b6(0x18d)]({'reason':'Pin\x20reaction\x20removed\x20by\x20'+_0xa300c1[_0x2a40b6(0x192)]?_0xa300c1[_0x2a40b6(0x192)][_0x2a40b6(0x176)]:_0xa300c1['id']});},this['handleReactionRoles']=async(_0x14c1e4,_0x2da75b)=>{const _0x20662e=_0xcdae1b,_0x213a95=await ReactionRoleGroup_1[_0x20662e(0x174)][_0x20662e(0x181)](_0x14c1e4[_0x20662e(0x197)]['id']);if(!_0x213a95)return;const _0xb2269f=_0x14c1e4[_0x20662e(0x177)]['id']?'<'+(_0x14c1e4[_0x20662e(0x177)][_0x20662e(0x18c)]?'a':'')+':'+_0x14c1e4[_0x20662e(0x177)]['name']+':'+_0x14c1e4[_0x20662e(0x177)]['id']+'>':_0x14c1e4[_0x20662e(0x177)][_0x20662e(0x17f)],_0x47a2b6=emojis[_0x20662e(0x191)](_0xb2269f);if(_0x47a2b6){const _0x46f5a2=await Role_1['default'][_0x20662e(0x186)]({'$or':_0x213a95[_0x20662e(0x16f)]['map'](_0xb414fc=>({'_id':_0xb414fc})),'guild':_0x14c1e4[_0x20662e(0x197)][_0x20662e(0x180)]['id'],'emoji':_0x47a2b6[_0x20662e(0x18b)]});if(!_0x46f5a2)return;await _0x2da75b[_0x20662e(0x16f)][_0x20662e(0x187)](_0x46f5a2[_0x20662e(0x170)],_0x20662e(0x16d));}},this[_0xcdae1b(0x18e)]=async(_0x1c2532,_0x107c9c)=>{const _0x22deef=_0xcdae1b;_0x1c2532[_0x22deef(0x171)]&&(_0x1c2532=await _0x1c2532[_0x22deef(0x172)]());_0x1c2532['message']['partial']&&(_0x1c2532['message']=await _0x1c2532[_0x22deef(0x197)][_0x22deef(0x172)]());if(!_0x1c2532[_0x22deef(0x197)][_0x22deef(0x180)])return;const _0x135209=_0x1c2532[_0x22deef(0x197)][_0x22deef(0x180)][_0x22deef(0x17d)](_0x107c9c);this[_0x22deef(0x178)](_0x1c2532,_0x135209)[_0x22deef(0x188)](()=>{});const _0x355d3c=await _0x1c2532['message'][_0x22deef(0x180)]['getDocument']();_0x355d3c[_0x22deef(0x194)]&&this[_0x22deef(0x17c)](_0x1c2532,_0x135209)['catch'](()=>{});};}};