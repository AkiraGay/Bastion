const a195_0x16a4=['constructor','animated','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','findOne','LISTENER_MODE','test','@bastion/tesseract','channel','roles','name','_id','fetch','message','includes','permissionsFor','exports','../models/ReactionRoleGroup','getDocument','handleReactionRoles','reactionPinning','Removed\x20via\x20Reaction\x20Roles','apply','value','handleReactionPinning','remove','return\x20/\x22\x20+\x20this\x20+\x20\x22/','user','member','unpin','messageReactionRemove','../utils/emojis','catch','emoji','guild','Pin\x20reaction\x20removed\x20by\x20','Listener'];(function(_0xd94619,_0x2e7ffd){const _0x16a418=function(_0x5aa209){while(--_0x5aa209){_0xd94619['push'](_0xd94619['shift']());}},_0x14222a=function(){const _0x4e1be0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2249a3,_0x253575,_0x2a81f7,_0x259618){_0x259618=_0x259618||{};let _0x159784=_0x253575+'='+_0x2a81f7,_0x3a7a7a=0x0;for(let _0xe08dc1=0x0,_0x6e3c6f=_0x2249a3['length'];_0xe08dc1<_0x6e3c6f;_0xe08dc1++){const _0x3bed36=_0x2249a3[_0xe08dc1];_0x159784+=';\x20'+_0x3bed36;const _0x38ea56=_0x2249a3[_0x3bed36];_0x2249a3['push'](_0x38ea56),_0x6e3c6f=_0x2249a3['length'],_0x38ea56!==!![]&&(_0x159784+='='+_0x38ea56);}_0x259618['cookie']=_0x159784;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3010a0,_0x1cdaef){_0x3010a0=_0x3010a0||function(_0x1f3bce){return _0x1f3bce;};const _0x3c8a15=_0x3010a0(new RegExp('(?:^|;\x20)'+_0x1cdaef['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5073c3=function(_0x1a16e1,_0x11a974){_0x1a16e1(++_0x11a974);};return _0x5073c3(_0x16a418,_0x2e7ffd),_0x3c8a15?decodeURIComponent(_0x3c8a15[0x1]):undefined;}},_0x474339=function(){const _0x48ddc3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x48ddc3['test'](_0x4e1be0['removeCookie']['toString']());};_0x4e1be0['updateCookie']=_0x474339;let _0x3571be='';const _0x456ab3=_0x4e1be0['updateCookie']();if(!_0x456ab3)_0x4e1be0['setCookie'](['*'],'counter',0x1);else _0x456ab3?_0x3571be=_0x4e1be0['getCookie'](null,'counter'):_0x4e1be0['removeCookie']();};_0x14222a();}(a195_0x16a4,0x7b));const a195_0x1422=function(_0xd94619,_0x2e7ffd){_0xd94619=_0xd94619-0x12d;let _0x16a418=a195_0x16a4[_0xd94619];return _0x16a418;};const a195_0x5efd98=a195_0x1422,a195_0x474339=function(){let _0x456ab3=!![];return function(_0x2249a3,_0x253575){const _0x2a81f7=_0x456ab3?function(){const _0x4c80e7=a195_0x1422;if(_0x253575){const _0x259618=_0x253575[_0x4c80e7(0x133)](_0x2249a3,arguments);return _0x253575=null,_0x259618;}}:function(){};return _0x456ab3=![],_0x2a81f7;};}(),a195_0x4e1be0=a195_0x474339(this,function(){const _0x159784=function(){const _0x31ccea=a195_0x1422,_0x3a7a7a=_0x159784['constructor'](_0x31ccea(0x137))()[_0x31ccea(0x142)](_0x31ccea(0x144));return!_0x3a7a7a[_0x31ccea(0x147)](a195_0x4e1be0);};return _0x159784();});a195_0x4e1be0();'use strict';const tesseract_1=require(a195_0x5efd98(0x148)),ReactionRoleGroup_1=require(a195_0x5efd98(0x12e)),Role_1=require('../models/Role'),emojis=require(a195_0x5efd98(0x13c));module[a195_0x5efd98(0x12d)]=class MessageReactionRemoveListener extends tesseract_1[a195_0x5efd98(0x141)]{constructor(){const _0x476a59=a195_0x5efd98;super(_0x476a59(0x13b),{'mode':tesseract_1['Constants'][_0x476a59(0x146)]['ON']}),this[_0x476a59(0x135)]=async(_0xe08dc1,_0x6e3c6f)=>{const _0x115dd7=_0x476a59;if(!['📌','📍'][_0x115dd7(0x14f)](_0xe08dc1[_0x115dd7(0x13e)][_0x115dd7(0x14b)]))return;if(!_0xe08dc1[_0x115dd7(0x14e)][_0x115dd7(0x149)][_0x115dd7(0x150)](_0x6e3c6f)['has']('MANAGE_MESSAGES'))return;await _0xe08dc1['message'][_0x115dd7(0x13a)]({'reason':_0x115dd7(0x140)+_0x6e3c6f[_0x115dd7(0x138)]?_0x6e3c6f[_0x115dd7(0x138)]['tag']:_0x6e3c6f['id']});},this['handleReactionRoles']=async(_0x3bed36,_0x38ea56)=>{const _0x222164=_0x476a59,_0x3010a0=await ReactionRoleGroup_1['default']['findById'](_0x3bed36[_0x222164(0x14e)]['id']);if(!_0x3010a0)return;const _0x1cdaef=_0x3bed36['emoji']['id']?'<'+(_0x3bed36['emoji'][_0x222164(0x143)]?'a':'')+':'+_0x3bed36[_0x222164(0x13e)]['name']+':'+_0x3bed36['emoji']['id']+'>':_0x3bed36[_0x222164(0x13e)][_0x222164(0x14b)],_0x3c8a15=emojis['parseEmoji'](_0x1cdaef);if(_0x3c8a15){const _0x5073c3=await Role_1['default'][_0x222164(0x145)]({'$or':_0x3010a0[_0x222164(0x14a)]['map'](_0x1f3bce=>({'_id':_0x1f3bce})),'guild':_0x3bed36[_0x222164(0x14e)][_0x222164(0x13f)]['id'],'emoji':_0x3c8a15[_0x222164(0x134)]});if(!_0x5073c3)return;await _0x38ea56[_0x222164(0x14a)][_0x222164(0x136)](_0x5073c3[_0x222164(0x14c)],_0x222164(0x132));}},this['exec']=async(_0x1a16e1,_0x11a974)=>{const _0x39b26a=_0x476a59;_0x1a16e1['partial']&&(_0x1a16e1=await _0x1a16e1[_0x39b26a(0x14d)]());_0x1a16e1['message']['partial']&&(_0x1a16e1[_0x39b26a(0x14e)]=await _0x1a16e1['message'][_0x39b26a(0x14d)]());if(!_0x1a16e1[_0x39b26a(0x14e)][_0x39b26a(0x13f)])return;const _0x48ddc3=_0x1a16e1[_0x39b26a(0x14e)][_0x39b26a(0x13f)][_0x39b26a(0x139)](_0x11a974);this[_0x39b26a(0x130)](_0x1a16e1,_0x48ddc3)['catch'](()=>{});const _0xddf7b8=await _0x1a16e1['message'][_0x39b26a(0x13f)][_0x39b26a(0x12f)]();_0xddf7b8[_0x39b26a(0x131)]&&this[_0x39b26a(0x135)](_0x1a16e1,_0x48ddc3)[_0x39b26a(0x13d)](()=>{});};}};