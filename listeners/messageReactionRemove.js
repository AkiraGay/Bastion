const a174_0x113f=['getDocument','apply','messageReactionRemove','exec','exports','@bastion/tesseract','Removed\x20via\x20Reaction\x20Roles','MANAGE_MESSAGES','constructor','Listener','includes','permissionsFor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../utils/emojis','animated','reactionPinning','_id','../models/ReactionRoleGroup','channel','roles','return\x20/\x22\x20+\x20this\x20+\x20\x22/','handleReactionRoles','findById','catch','Constants','../models/Role','emoji','message','unpin','default','remove','name','map','partial','guild','has','fetch'];(function(_0x2070cc,_0x113fb8){const _0xc32926=function(_0xf2ac4c){while(--_0xf2ac4c){_0x2070cc['push'](_0x2070cc['shift']());}},_0x4905e8=function(){const _0x168a9a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x374c1f,_0x113e2f,_0xfe166f,_0x4eb3b3){_0x4eb3b3=_0x4eb3b3||{};let _0x2ca2f9=_0x113e2f+'='+_0xfe166f,_0x57b633=0x0;for(let _0x56f59c=0x0,_0x29d6b5=_0x374c1f['length'];_0x56f59c<_0x29d6b5;_0x56f59c++){const _0x2c7f9a=_0x374c1f[_0x56f59c];_0x2ca2f9+=';\x20'+_0x2c7f9a;const _0x5548b6=_0x374c1f[_0x2c7f9a];_0x374c1f['push'](_0x5548b6),_0x29d6b5=_0x374c1f['length'],_0x5548b6!==!![]&&(_0x2ca2f9+='='+_0x5548b6);}_0x4eb3b3['cookie']=_0x2ca2f9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x328121,_0x462437){_0x328121=_0x328121||function(_0x3a1ad9){return _0x3a1ad9;};const _0x54e7ac=_0x328121(new RegExp('(?:^|;\x20)'+_0x462437['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x29d6b9=function(_0x1d455c,_0x284ce1){_0x1d455c(++_0x284ce1);};return _0x29d6b9(_0xc32926,_0x113fb8),_0x54e7ac?decodeURIComponent(_0x54e7ac[0x1]):undefined;}},_0x8e479d=function(){const _0xa4c000=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xa4c000['test'](_0x168a9a['removeCookie']['toString']());};_0x168a9a['updateCookie']=_0x8e479d;let _0x2aa958='';const _0x3a1147=_0x168a9a['updateCookie']();if(!_0x3a1147)_0x168a9a['setCookie'](['*'],'counter',0x1);else _0x3a1147?_0x2aa958=_0x168a9a['getCookie'](null,'counter'):_0x168a9a['removeCookie']();};_0x4905e8();}(a174_0x113f,0xec));const a174_0xc329=function(_0x2070cc,_0x113fb8){_0x2070cc=_0x2070cc-0x0;let _0xc32926=a174_0x113f[_0x2070cc];return _0xc32926;};const a174_0xfe166f=function(){let _0x161c01=!![];return function(_0x34d946,_0x372568){const _0x47d736=_0x161c01?function(){if(_0x372568){const _0x65d878=_0x372568[a174_0xc329('0x18')](_0x34d946,arguments);return _0x372568=null,_0x65d878;}}:function(){};return _0x161c01=![],_0x47d736;};}(),a174_0x113e2f=a174_0xfe166f(this,function(){const _0x552d30=function(){const _0x58cb8a=_0x552d30['constructor'](a174_0xc329('0x6'))()[a174_0xc329('0x1f')](a174_0xc329('0x23'));return!_0x58cb8a['test'](a174_0x113e2f);};return _0x552d30();});a174_0x113e2f();'use strict';const tesseract_1=require(a174_0xc329('0x1c')),ReactionRoleGroup_1=require(a174_0xc329('0x3')),Role_1=require(a174_0xc329('0xb')),emojis=require(a174_0xc329('0x24'));module[a174_0xc329('0x1b')]=class MessageReactionRemoveListener extends tesseract_1[a174_0xc329('0x20')]{constructor(){super(a174_0xc329('0x19'),{'mode':tesseract_1[a174_0xc329('0xa')]['LISTENER_MODE']['ON']}),this['handleReactionPinning']=async(_0x1b02f2,_0x562184)=>{if(!['📌','📍'][a174_0xc329('0x21')](_0x1b02f2['emoji'][a174_0xc329('0x11')]))return;if(!_0x1b02f2[a174_0xc329('0xd')][a174_0xc329('0x4')][a174_0xc329('0x22')](_0x562184)[a174_0xc329('0x15')](a174_0xc329('0x1e')))return;await _0x1b02f2[a174_0xc329('0xd')][a174_0xc329('0xe')]();},this[a174_0xc329('0x7')]=async(_0x408b80,_0x48f231)=>{const _0x4e551a=await ReactionRoleGroup_1[a174_0xc329('0xf')][a174_0xc329('0x8')](_0x408b80[a174_0xc329('0xd')]['id']);if(!_0x4e551a)return;const _0x46b4f9=_0x408b80[a174_0xc329('0xc')]['id']?'<'+(_0x408b80[a174_0xc329('0xc')][a174_0xc329('0x0')]?'a':'')+':'+_0x408b80['emoji'][a174_0xc329('0x11')]+':'+_0x408b80[a174_0xc329('0xc')]['id']+'>':_0x408b80[a174_0xc329('0xc')][a174_0xc329('0x11')],_0x19aaf8=emojis['parseEmoji'](_0x46b4f9);if(_0x19aaf8){const _0x558035=await Role_1['default']['findOne']({'$or':_0x4e551a['roles'][a174_0xc329('0x12')](_0x4e7a2c=>({'_id':_0x4e7a2c})),'guild':_0x408b80[a174_0xc329('0xd')][a174_0xc329('0x14')]['id'],'emoji':_0x19aaf8['value']});if(!_0x558035)return;await _0x48f231[a174_0xc329('0x5')][a174_0xc329('0x10')](_0x558035[a174_0xc329('0x2')],a174_0xc329('0x1d'));}},this[a174_0xc329('0x1a')]=async(_0x1bedd9,_0x512e2d)=>{_0x1bedd9['partial']&&(_0x1bedd9=await _0x1bedd9[a174_0xc329('0x16')]());_0x1bedd9[a174_0xc329('0xd')][a174_0xc329('0x13')]&&(_0x1bedd9['message']=await _0x1bedd9[a174_0xc329('0xd')][a174_0xc329('0x16')]());if(!_0x1bedd9[a174_0xc329('0xd')][a174_0xc329('0x14')])return;const _0x2a78de=_0x1bedd9['message'][a174_0xc329('0x14')]['member'](_0x512e2d);this['handleReactionRoles'](_0x1bedd9,_0x2a78de)[a174_0xc329('0x9')](()=>{});const _0x5bf2c6=await _0x1bedd9[a174_0xc329('0xd')][a174_0xc329('0x14')][a174_0xc329('0x17')]();_0x5bf2c6[a174_0xc329('0x1')]&&this['handleReactionPinning'](_0x1bedd9,_0x2a78de)[a174_0xc329('0x9')](()=>{});};}};