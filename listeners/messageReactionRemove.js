const a194_0x1f16=['constructor','user','getDocument','fetch','Pin\x20reaction\x20removed\x20by\x20','@bastion/tesseract','MANAGE_MESSAGES','../models/Role','partial','parseEmoji','reactionPinning','catch','handleReactionPinning','channel','exec','member','../utils/emojis','apply','includes','roles','guild','../models/ReactionRoleGroup','animated','findOne','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','unpin','name','tag','handleReactionRoles','messageReactionRemove','default','permissionsFor','exports','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Constants','emoji','message','test','remove'];(function(_0x544a69,_0x5b206f){const _0x1f16de=function(_0x47b297){while(--_0x47b297){_0x544a69['push'](_0x544a69['shift']());}},_0x4eca94=function(){const _0x962b1a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3436af,_0x5820cf,_0x47c96b,_0x594ca4){_0x594ca4=_0x594ca4||{};let _0x162a69=_0x5820cf+'='+_0x47c96b,_0x23edb9=0x0;for(let _0x4f235b=0x0,_0x11e736=_0x3436af['length'];_0x4f235b<_0x11e736;_0x4f235b++){const _0x3c9abd=_0x3436af[_0x4f235b];_0x162a69+=';\x20'+_0x3c9abd;const _0x4efbd4=_0x3436af[_0x3c9abd];_0x3436af['push'](_0x4efbd4),_0x11e736=_0x3436af['length'],_0x4efbd4!==!![]&&(_0x162a69+='='+_0x4efbd4);}_0x594ca4['cookie']=_0x162a69;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5d176b,_0x1fb5ff){_0x5d176b=_0x5d176b||function(_0x54dcd0){return _0x54dcd0;};const _0x16720e=_0x5d176b(new RegExp('(?:^|;\x20)'+_0x1fb5ff['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x188298=function(_0x4b802c,_0x5b83cf){_0x4b802c(++_0x5b83cf);};return _0x188298(_0x1f16de,_0x5b206f),_0x16720e?decodeURIComponent(_0x16720e[0x1]):undefined;}},_0x4d6348=function(){const _0x29ffff=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x29ffff['test'](_0x962b1a['removeCookie']['toString']());};_0x962b1a['updateCookie']=_0x4d6348;let _0x4ab865='';const _0x5b25b6=_0x962b1a['updateCookie']();if(!_0x5b25b6)_0x962b1a['setCookie'](['*'],'counter',0x1);else _0x5b25b6?_0x4ab865=_0x962b1a['getCookie'](null,'counter'):_0x962b1a['removeCookie']();};_0x4eca94();}(a194_0x1f16,0x1d6));const a194_0x4eca=function(_0x544a69,_0x5b206f){_0x544a69=_0x544a69-0x1ca;let _0x1f16de=a194_0x1f16[_0x544a69];return _0x1f16de;};const _0x16974a=a194_0x4eca,a194_0x4d6348=function(){let _0x5b25b6=!![];return function(_0x3436af,_0x5820cf){const _0x47c96b=_0x5b25b6?function(){const _0x263d48=a194_0x4eca;if(_0x5820cf){const _0x594ca4=_0x5820cf[_0x263d48(0x1d9)](_0x3436af,arguments);return _0x5820cf=null,_0x594ca4;}}:function(){};return _0x5b25b6=![],_0x47c96b;};}(),a194_0x962b1a=a194_0x4d6348(this,function(){const _0x162a69=function(){const _0x1b51fc=a194_0x4eca,_0x23edb9=_0x162a69[_0x1b51fc(0x1ef)](_0x1b51fc(0x1e9))()[_0x1b51fc(0x1ef)](_0x1b51fc(0x1e0));return!_0x23edb9[_0x1b51fc(0x1ed)](a194_0x962b1a);};return _0x162a69();});a194_0x962b1a();'use strict';const tesseract_1=require(_0x16974a(0x1cd)),ReactionRoleGroup_1=require(_0x16974a(0x1dd)),Role_1=require(_0x16974a(0x1cf)),emojis=require(_0x16974a(0x1d8));module[_0x16974a(0x1e8)]=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){const _0x1af968=_0x16974a;super(_0x1af968(0x1e5),{'mode':tesseract_1[_0x1af968(0x1ea)]['LISTENER_MODE']['ON']}),this[_0x1af968(0x1d4)]=async(_0x4f235b,_0x11e736)=>{const _0xd616b9=_0x1af968;if(!['📌','📍'][_0xd616b9(0x1da)](_0x4f235b[_0xd616b9(0x1eb)][_0xd616b9(0x1e2)]))return;if(!_0x4f235b[_0xd616b9(0x1ec)][_0xd616b9(0x1d5)][_0xd616b9(0x1e7)](_0x11e736)['has'](_0xd616b9(0x1ce)))return;await _0x4f235b[_0xd616b9(0x1ec)][_0xd616b9(0x1e1)]({'reason':_0xd616b9(0x1cc)+_0x11e736['user']?_0x11e736[_0xd616b9(0x1f0)][_0xd616b9(0x1e3)]:_0x11e736['id']});},this[_0x1af968(0x1e4)]=async(_0x3c9abd,_0x4efbd4)=>{const _0x3fefd0=_0x1af968,_0x5d176b=await ReactionRoleGroup_1[_0x3fefd0(0x1e6)]['findById'](_0x3c9abd[_0x3fefd0(0x1ec)]['id']);if(!_0x5d176b)return;const _0x1fb5ff=_0x3c9abd['emoji']['id']?'<'+(_0x3c9abd['emoji'][_0x3fefd0(0x1de)]?'a':'')+':'+_0x3c9abd['emoji']['name']+':'+_0x3c9abd['emoji']['id']+'>':_0x3c9abd[_0x3fefd0(0x1eb)][_0x3fefd0(0x1e2)],_0x16720e=emojis[_0x3fefd0(0x1d1)](_0x1fb5ff);if(_0x16720e){const _0x188298=await Role_1['default'][_0x3fefd0(0x1df)]({'$or':_0x5d176b[_0x3fefd0(0x1db)]['map'](_0x54dcd0=>({'_id':_0x54dcd0})),'guild':_0x3c9abd[_0x3fefd0(0x1ec)][_0x3fefd0(0x1dc)]['id'],'emoji':_0x16720e['value']});if(!_0x188298)return;await _0x4efbd4[_0x3fefd0(0x1db)][_0x3fefd0(0x1ee)](_0x188298['_id'],'Removed\x20via\x20Reaction\x20Roles');}},this[_0x1af968(0x1d6)]=async(_0x4b802c,_0x5b83cf)=>{const _0x2590b7=_0x1af968;_0x4b802c[_0x2590b7(0x1d0)]&&(_0x4b802c=await _0x4b802c[_0x2590b7(0x1cb)]());_0x4b802c[_0x2590b7(0x1ec)][_0x2590b7(0x1d0)]&&(_0x4b802c[_0x2590b7(0x1ec)]=await _0x4b802c[_0x2590b7(0x1ec)][_0x2590b7(0x1cb)]());if(!_0x4b802c[_0x2590b7(0x1ec)][_0x2590b7(0x1dc)])return;const _0x29ffff=_0x4b802c[_0x2590b7(0x1ec)][_0x2590b7(0x1dc)][_0x2590b7(0x1d7)](_0x5b83cf);this[_0x2590b7(0x1e4)](_0x4b802c,_0x29ffff)[_0x2590b7(0x1d3)](()=>{});const _0x44cabb=await _0x4b802c[_0x2590b7(0x1ec)]['guild'][_0x2590b7(0x1ca)]();_0x44cabb[_0x2590b7(0x1d2)]&&this['handleReactionPinning'](_0x4b802c,_0x29ffff)['catch'](()=>{});};}};