const a165_0x34ef=['findOne','messageReactionRemove','channel','name','findById','has','compile','getDocument','_id','fetch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Constants','apply','includes','message','catch','reactionPinning','permissionsFor','Removed\x20via\x20Reaction\x20Roles','value','../models/ReactionRoleGroup','default','../utils/emojis','LISTENER_MODE','remove','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','guild','@bastion/tesseract','handleReactionPinning','emoji','../models/Role','exec','map','partial'];(function(_0x2ce6a3,_0x34efac){const _0x38a4b6=function(_0x1981d7){while(--_0x1981d7){_0x2ce6a3['push'](_0x2ce6a3['shift']());}};const _0x4952c2=function(){const _0x2718be={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2fd784,_0x469b8a,_0x2e4383,_0x50d148){_0x50d148=_0x50d148||{};let _0x287449=_0x469b8a+'='+_0x2e4383;let _0x1de3b9=0x0;for(let _0x438f90=0x0,_0x1df79e=_0x2fd784['length'];_0x438f90<_0x1df79e;_0x438f90++){const _0x58d78a=_0x2fd784[_0x438f90];_0x287449+=';\x20'+_0x58d78a;const _0x4c7b31=_0x2fd784[_0x58d78a];_0x2fd784['push'](_0x4c7b31);_0x1df79e=_0x2fd784['length'];if(_0x4c7b31!==!![]){_0x287449+='='+_0x4c7b31;}}_0x50d148['cookie']=_0x287449;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f70b9,_0x2285ea){_0x2f70b9=_0x2f70b9||function(_0x6fb6f0){return _0x6fb6f0;};const _0x484292=_0x2f70b9(new RegExp('(?:^|;\x20)'+_0x2285ea['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x44879a=function(_0x109ed3,_0x434dee){_0x109ed3(++_0x434dee);};_0x44879a(_0x38a4b6,_0x34efac);return _0x484292?decodeURIComponent(_0x484292[0x1]):undefined;}};const _0x2612da=function(){const _0x14c1b2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x14c1b2['test'](_0x2718be['removeCookie']['toString']());};_0x2718be['updateCookie']=_0x2612da;let _0x164223='';const _0x5abf02=_0x2718be['updateCookie']();if(!_0x5abf02){_0x2718be['setCookie'](['*'],'counter',0x1);}else if(_0x5abf02){_0x164223=_0x2718be['getCookie'](null,'counter');}else{_0x2718be['removeCookie']();}};_0x4952c2();}(a165_0x34ef,0x120));const a165_0x38a4=function(_0x2ce6a3,_0x34efac){_0x2ce6a3=_0x2ce6a3-0x0;let _0x38a4b6=a165_0x34ef[_0x2ce6a3];return _0x38a4b6;};const a165_0x2718be=function(){let _0x407f2f=!![];return function(_0x29d0dc,_0x5e9bb3){const _0x460299=_0x407f2f?function(){if(_0x5e9bb3){const _0x113a21=_0x5e9bb3[a165_0x38a4('0x1e')](_0x29d0dc,arguments);_0x5e9bb3=null;return _0x113a21;}}:function(){};_0x407f2f=![];return _0x460299;};}();const a165_0x1981d7=a165_0x2718be(this,function(){const _0x446e71=function(){const _0x258ffb=_0x446e71['constructor'](a165_0x38a4('0x1c'))()[a165_0x38a4('0x18')](a165_0x38a4('0x9'));return!_0x258ffb['test'](a165_0x1981d7);};return _0x446e71();});a165_0x1981d7();'use strict';const tesseract_1=require(a165_0x38a4('0xb'));const ReactionRoleGroup_1=require(a165_0x38a4('0x4'));const Role_1=require(a165_0x38a4('0xe'));const emojis=require(a165_0x38a4('0x6'));module['exports']=class MessageReactionRemoveListener extends tesseract_1['Listener']{constructor(){super(a165_0x38a4('0x13'),{'mode':tesseract_1[a165_0x38a4('0x1d')][a165_0x38a4('0x7')]['ON']});this[a165_0x38a4('0xc')]=async(_0x56123e,_0x31397c)=>{if(!['📌','📍'][a165_0x38a4('0x1f')](_0x56123e[a165_0x38a4('0xd')][a165_0x38a4('0x15')]))return;if(!_0x56123e[a165_0x38a4('0x20')][a165_0x38a4('0x14')][a165_0x38a4('0x1')](_0x31397c)[a165_0x38a4('0x17')]('MANAGE_MESSAGES'))return;await _0x56123e[a165_0x38a4('0x20')]['unpin']();};this['handleReactionRoles']=async(_0x41c91c,_0x2cf2ba)=>{const _0x537365=await ReactionRoleGroup_1[a165_0x38a4('0x5')][a165_0x38a4('0x16')](_0x41c91c['message']['id']);if(!_0x537365)return;const _0x55987e=_0x41c91c['emoji']['id']?'<'+(_0x41c91c[a165_0x38a4('0xd')]['animated']?'a':'')+':'+_0x41c91c['emoji'][a165_0x38a4('0x15')]+':'+_0x41c91c['emoji']['id']+'>':_0x41c91c['emoji'][a165_0x38a4('0x15')];const _0x236fb4=emojis['parseEmoji'](_0x55987e);if(_0x236fb4){const _0x494402=await Role_1[a165_0x38a4('0x5')][a165_0x38a4('0x12')]({'$or':_0x537365['roles'][a165_0x38a4('0x10')](_0x5c2802=>({'_id':_0x5c2802})),'guild':_0x41c91c[a165_0x38a4('0x20')][a165_0x38a4('0xa')]['id'],'emoji':_0x236fb4[a165_0x38a4('0x3')]});if(!_0x494402)return;await _0x2cf2ba['roles'][a165_0x38a4('0x8')](_0x494402[a165_0x38a4('0x1a')],a165_0x38a4('0x2'));}};this[a165_0x38a4('0xf')]=async(_0xdd39cf,_0x37a8c3)=>{if(_0xdd39cf[a165_0x38a4('0x11')]){_0xdd39cf=await _0xdd39cf[a165_0x38a4('0x1b')]();}if(_0xdd39cf['message'][a165_0x38a4('0x11')]){_0xdd39cf[a165_0x38a4('0x20')]=await _0xdd39cf[a165_0x38a4('0x20')][a165_0x38a4('0x1b')]();}if(!_0xdd39cf[a165_0x38a4('0x20')][a165_0x38a4('0xa')])return;const _0x5807a9=_0xdd39cf[a165_0x38a4('0x20')][a165_0x38a4('0xa')]['member'](_0x37a8c3);this['handleReactionRoles'](_0xdd39cf,_0x5807a9)[a165_0x38a4('0x21')](()=>{});const _0x4062ee=await _0xdd39cf[a165_0x38a4('0x20')]['guild'][a165_0x38a4('0x19')]();if(_0x4062ee[a165_0x38a4('0x0')]){this[a165_0x38a4('0xc')](_0xdd39cf,_0x5807a9)['catch'](()=>{});}};}};