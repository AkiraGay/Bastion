const a180_0x3cd5=['code','insertMany','exec','Listener','values','default','ready','uses','includes','filter','length','isPublicBastion','constructor','LISTENER_MODE','find','map','user','test','cache','../models/Guild','../models/Config','client','return\x20/\x22\x20+\x20this\x20+\x20\x22/','_id','guilds'];(function(_0xade3b5,_0x3cd557){const _0x342dfb=function(_0x31c8a8){while(--_0x31c8a8){_0xade3b5['push'](_0xade3b5['shift']());}},_0x27a884=function(){const _0xcc737b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1c927d,_0x1cd777,_0xd9dc8,_0x41e7ef){_0x41e7ef=_0x41e7ef||{};let _0x5cbcdc=_0x1cd777+'='+_0xd9dc8,_0x64dc62=0x0;for(let _0x42d6f2=0x0,_0x597359=_0x1c927d['length'];_0x42d6f2<_0x597359;_0x42d6f2++){const _0x5e9850=_0x1c927d[_0x42d6f2];_0x5cbcdc+=';\x20'+_0x5e9850;const _0x1e1bf0=_0x1c927d[_0x5e9850];_0x1c927d['push'](_0x1e1bf0),_0x597359=_0x1c927d['length'],_0x1e1bf0!==!![]&&(_0x5cbcdc+='='+_0x1e1bf0);}_0x41e7ef['cookie']=_0x5cbcdc;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4d5875,_0x450a9a){_0x4d5875=_0x4d5875||function(_0x5f1417){return _0x5f1417;};const _0x4372a0=_0x4d5875(new RegExp('(?:^|;\x20)'+_0x450a9a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x42a230=function(_0x3a90ea,_0xa88464){_0x3a90ea(++_0xa88464);};return _0x42a230(_0x342dfb,_0x3cd557),_0x4372a0?decodeURIComponent(_0x4372a0[0x1]):undefined;}},_0x284d08=function(){const _0xfe2883=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xfe2883['test'](_0xcc737b['removeCookie']['toString']());};_0xcc737b['updateCookie']=_0x284d08;let _0xb40f70='';const _0xa9ad2c=_0xcc737b['updateCookie']();if(!_0xa9ad2c)_0xcc737b['setCookie'](['*'],'counter',0x1);else _0xa9ad2c?_0xb40f70=_0xcc737b['getCookie'](null,'counter'):_0xcc737b['removeCookie']();};_0x27a884();}(a180_0x3cd5,0x91));const a180_0x342d=function(_0xade3b5,_0x3cd557){_0xade3b5=_0xade3b5-0x0;let _0x342dfb=a180_0x3cd5[_0xade3b5];return _0x342dfb;};const a180_0xcc737b=function(){let _0xb40f70=!![];return function(_0xa9ad2c,_0x1c927d){const _0x1cd777=_0xb40f70?function(){if(_0x1c927d){const _0xd9dc8=_0x1c927d['apply'](_0xa9ad2c,arguments);return _0x1c927d=null,_0xd9dc8;}}:function(){};return _0xb40f70=![],_0x1cd777;};}(),a180_0x31c8a8=a180_0xcc737b(this,function(){const _0x41e7ef=function(){const _0x5cbcdc=_0x41e7ef[a180_0x342d('0x11')](a180_0x342d('0x2'))()[a180_0x342d('0x11')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5cbcdc[a180_0x342d('0x16')](a180_0x31c8a8);};return _0x41e7ef();});a180_0x31c8a8();'use strict';const tesseract_1=require('@bastion/tesseract'),Config_1=require(a180_0x342d('0x0')),Guild_1=require(a180_0x342d('0x18')),constants=require('../utils/constants');module['exports']=class ReadyListener extends tesseract_1[a180_0x342d('0x8')]{constructor(){super(a180_0x342d('0xb'),{'mode':tesseract_1['Constants'][a180_0x342d('0x12')]['ON']}),this[a180_0x342d('0x7')]=async()=>{await Config_1[a180_0x342d('0xa')]['findByIdAndUpdate'](this[a180_0x342d('0x1')]['user']['id'],{'_id':this[a180_0x342d('0x1')][a180_0x342d('0x15')]['id']},{'upsert':!![]});const _0x64dc62=await Guild_1['default'][a180_0x342d('0x13')]({},'id'),_0x42d6f2=_0x64dc62[a180_0x342d('0x14')](_0x5e9850=>_0x5e9850[a180_0x342d('0x3')]),_0x597359=this[a180_0x342d('0x1')][a180_0x342d('0x4')][a180_0x342d('0x17')]['map'](_0x1e1bf0=>({'_id':_0x1e1bf0['id']}))[a180_0x342d('0xe')](_0x4d5875=>!_0x42d6f2[a180_0x342d('0xd')](_0x4d5875[a180_0x342d('0x3')]));_0x597359[a180_0x342d('0xf')]&&await Guild_1[a180_0x342d('0xa')][a180_0x342d('0x6')](_0x597359);if(!constants[a180_0x342d('0x10')](this['client'][a180_0x342d('0x15')]))for(const _0x450a9a of this[a180_0x342d('0x1')]['guilds']['cache'][a180_0x342d('0x9')]()){const _0x4372a0=await _0x450a9a['fetchInvites']();for(const _0x42a230 of _0x4372a0['values']()){_0x450a9a['invites'][_0x42a230[a180_0x342d('0x5')]]=_0x42a230[a180_0x342d('0xc')]||0x0;}}};}};