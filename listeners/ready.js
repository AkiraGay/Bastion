const a182_0x17a9=['guilds','@bastion/tesseract','values','isPublicBastion','fetchInvites','Listener','_id','client','code','test','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/Config','../models/Guild','user','invites','map','constructor','length','includes','Constants','apply','filter','../utils/constants','exec','insertMany','uses','cache','default','LISTENER_MODE','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}'];(function(_0xad6c87,_0x17a983){const _0x23557a=function(_0xfc8885){while(--_0xfc8885){_0xad6c87['push'](_0xad6c87['shift']());}},_0x356821=function(){const _0x421732={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3b9c3e,_0x1d3a8a,_0x50b427,_0x2ca425){_0x2ca425=_0x2ca425||{};let _0x46eb1c=_0x1d3a8a+'='+_0x50b427,_0x26ff40=0x0;for(let _0x205366=0x0,_0x20de1b=_0x3b9c3e['length'];_0x205366<_0x20de1b;_0x205366++){const _0x1facfd=_0x3b9c3e[_0x205366];_0x46eb1c+=';\x20'+_0x1facfd;const _0x3e48d6=_0x3b9c3e[_0x1facfd];_0x3b9c3e['push'](_0x3e48d6),_0x20de1b=_0x3b9c3e['length'],_0x3e48d6!==!![]&&(_0x46eb1c+='='+_0x3e48d6);}_0x2ca425['cookie']=_0x46eb1c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x385d65,_0x587752){_0x385d65=_0x385d65||function(_0x19e86f){return _0x19e86f;};const _0x448e6b=_0x385d65(new RegExp('(?:^|;\x20)'+_0x587752['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4dd8e1=function(_0x5d2f87,_0x157230){_0x5d2f87(++_0x157230);};return _0x4dd8e1(_0x23557a,_0x17a983),_0x448e6b?decodeURIComponent(_0x448e6b[0x1]):undefined;}},_0x58faf4=function(){const _0x105d47=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x105d47['test'](_0x421732['removeCookie']['toString']());};_0x421732['updateCookie']=_0x58faf4;let _0x112d0b='';const _0x497a40=_0x421732['updateCookie']();if(!_0x497a40)_0x421732['setCookie'](['*'],'counter',0x1);else _0x497a40?_0x112d0b=_0x421732['getCookie'](null,'counter'):_0x421732['removeCookie']();};_0x356821();}(a182_0x17a9,0x149));const a182_0x2355=function(_0xad6c87,_0x17a983){_0xad6c87=_0xad6c87-0x0;let _0x23557a=a182_0x17a9[_0xad6c87];return _0x23557a;};const _0x21a30a=a182_0x2355,a182_0x421732=function(){let _0x112d0b=!![];return function(_0x497a40,_0x3b9c3e){const _0x1d3a8a=_0x112d0b?function(){const _0x3ec863=a182_0x2355;if(_0x3b9c3e){const _0x50b427=_0x3b9c3e[_0x3ec863('0x15')](_0x497a40,arguments);return _0x3b9c3e=null,_0x50b427;}}:function(){};return _0x112d0b=![],_0x1d3a8a;};}(),a182_0xfc8885=a182_0x421732(this,function(){const _0x2ca425=function(){const _0x4ee37a=a182_0x2355,_0x46eb1c=_0x2ca425[_0x4ee37a('0x11')](_0x4ee37a('0xb'))()['constructor'](_0x4ee37a('0x0'));return!_0x46eb1c[_0x4ee37a('0xa')](a182_0xfc8885);};return _0x2ca425();});a182_0xfc8885();'use strict';const tesseract_1=require(_0x21a30a('0x2')),Config_1=require(_0x21a30a('0xc')),Guild_1=require(_0x21a30a('0xd')),constants=require(_0x21a30a('0x17'));module['exports']=class ReadyListener extends tesseract_1[_0x21a30a('0x6')]{constructor(){const _0x1fc056=_0x21a30a;super('ready',{'mode':tesseract_1[_0x1fc056('0x14')][_0x1fc056('0x1d')]['ON']}),this[_0x1fc056('0x18')]=async()=>{const _0x4bf3d0=_0x1fc056;await Config_1[_0x4bf3d0('0x1c')]['findByIdAndUpdate'](this['client'][_0x4bf3d0('0xe')]['id'],{'_id':this[_0x4bf3d0('0x8')]['user']['id']},{'upsert':!![]});const _0x26ff40=await Guild_1[_0x4bf3d0('0x1c')]['find']({},'id'),_0x205366=_0x26ff40[_0x4bf3d0('0x10')](_0x1facfd=>_0x1facfd[_0x4bf3d0('0x7')]),_0x20de1b=this[_0x4bf3d0('0x8')][_0x4bf3d0('0x1')][_0x4bf3d0('0x1b')][_0x4bf3d0('0x10')](_0x3e48d6=>({'_id':_0x3e48d6['id']}))[_0x4bf3d0('0x16')](_0x385d65=>!_0x205366[_0x4bf3d0('0x13')](_0x385d65[_0x4bf3d0('0x7')]));_0x20de1b[_0x4bf3d0('0x12')]&&await Guild_1[_0x4bf3d0('0x1c')][_0x4bf3d0('0x19')](_0x20de1b);if(!constants[_0x4bf3d0('0x4')](this[_0x4bf3d0('0x8')][_0x4bf3d0('0xe')]))for(const _0x587752 of this[_0x4bf3d0('0x8')][_0x4bf3d0('0x1')]['cache'][_0x4bf3d0('0x3')]()){const _0x448e6b=await _0x587752[_0x4bf3d0('0x5')]();for(const _0x4dd8e1 of _0x448e6b[_0x4bf3d0('0x3')]()){_0x587752[_0x4bf3d0('0xf')][_0x4dd8e1[_0x4bf3d0('0x9')]]=_0x4dd8e1[_0x4bf3d0('0x1a')]||0x0;}}};}};