const a180_0xb1da=['ready','constructor','find','../models/Guild','cache','apply','../models/Config','return\x20/\x22\x20+\x20this\x20+\x20\x22/','test','_id','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','length','filter','findByIdAndUpdate','isPublicBastion','guilds','insertMany','uses','map','invites','code','client','Listener','default','user','values'];(function(_0x2e3b7a,_0xb1da60){const _0x40ce14=function(_0xad2187){while(--_0xad2187){_0x2e3b7a['push'](_0x2e3b7a['shift']());}},_0x387b3a=function(){const _0x8101c3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3433fd,_0x16feeb,_0x2a68dd,_0x1fec32){_0x1fec32=_0x1fec32||{};let _0x5bd393=_0x16feeb+'='+_0x2a68dd,_0x5d5de4=0x0;for(let _0x5c04bb=0x0,_0x5286e5=_0x3433fd['length'];_0x5c04bb<_0x5286e5;_0x5c04bb++){const _0x32655c=_0x3433fd[_0x5c04bb];_0x5bd393+=';\x20'+_0x32655c;const _0x20bbbc=_0x3433fd[_0x32655c];_0x3433fd['push'](_0x20bbbc),_0x5286e5=_0x3433fd['length'],_0x20bbbc!==!![]&&(_0x5bd393+='='+_0x20bbbc);}_0x1fec32['cookie']=_0x5bd393;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2a5976,_0x14a47b){_0x2a5976=_0x2a5976||function(_0x41ef75){return _0x41ef75;};const _0x22c928=_0x2a5976(new RegExp('(?:^|;\x20)'+_0x14a47b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x319699=function(_0x1bc9d9,_0x28d4af){_0x1bc9d9(++_0x28d4af);};return _0x319699(_0x40ce14,_0xb1da60),_0x22c928?decodeURIComponent(_0x22c928[0x1]):undefined;}},_0x213c4a=function(){const _0x1a8105=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1a8105['test'](_0x8101c3['removeCookie']['toString']());};_0x8101c3['updateCookie']=_0x213c4a;let _0x7b93cb='';const _0x240a7e=_0x8101c3['updateCookie']();if(!_0x240a7e)_0x8101c3['setCookie'](['*'],'counter',0x1);else _0x240a7e?_0x7b93cb=_0x8101c3['getCookie'](null,'counter'):_0x8101c3['removeCookie']();};_0x387b3a();}(a180_0xb1da,0x126));const a180_0x40ce=function(_0x2e3b7a,_0xb1da60){_0x2e3b7a=_0x2e3b7a-0x0;let _0x40ce14=a180_0xb1da[_0x2e3b7a];return _0x40ce14;};const a180_0x8101c3=function(){let _0x7b93cb=!![];return function(_0x240a7e,_0x3433fd){const _0x16feeb=_0x7b93cb?function(){if(_0x3433fd){const _0x2a68dd=_0x3433fd[a180_0x40ce('0x17')](_0x240a7e,arguments);return _0x3433fd=null,_0x2a68dd;}}:function(){};return _0x7b93cb=![],_0x16feeb;};}(),a180_0xad2187=a180_0x8101c3(this,function(){const _0x1fec32=function(){const _0x5bd393=_0x1fec32[a180_0x40ce('0x13')](a180_0x40ce('0x19'))()[a180_0x40ce('0x13')](a180_0x40ce('0x2'));return!_0x5bd393[a180_0x40ce('0x0')](a180_0xad2187);};return _0x1fec32();});a180_0xad2187();'use strict';const tesseract_1=require('@bastion/tesseract'),Config_1=require(a180_0x40ce('0x18')),Guild_1=require(a180_0x40ce('0x15')),constants=require('../utils/constants');module['exports']=class ReadyListener extends tesseract_1[a180_0x40ce('0xe')]{constructor(){super(a180_0x40ce('0x12'),{'mode':tesseract_1['Constants']['LISTENER_MODE']['ON']}),this['exec']=async()=>{await Config_1[a180_0x40ce('0xf')][a180_0x40ce('0x5')](this['client'][a180_0x40ce('0x10')]['id'],{'_id':this[a180_0x40ce('0xd')][a180_0x40ce('0x10')]['id']},{'upsert':!![]});const _0x5d5de4=await Guild_1[a180_0x40ce('0xf')][a180_0x40ce('0x14')]({},'id'),_0x5c04bb=_0x5d5de4[a180_0x40ce('0xa')](_0x32655c=>_0x32655c['_id']),_0x5286e5=this[a180_0x40ce('0xd')][a180_0x40ce('0x7')][a180_0x40ce('0x16')]['map'](_0x20bbbc=>({'_id':_0x20bbbc['id']}))[a180_0x40ce('0x4')](_0x2a5976=>!_0x5c04bb['includes'](_0x2a5976[a180_0x40ce('0x1')]));_0x5286e5[a180_0x40ce('0x3')]&&await Guild_1[a180_0x40ce('0xf')][a180_0x40ce('0x8')](_0x5286e5);if(!constants[a180_0x40ce('0x6')](this[a180_0x40ce('0xd')][a180_0x40ce('0x10')]))for(const _0x14a47b of this[a180_0x40ce('0xd')][a180_0x40ce('0x7')][a180_0x40ce('0x16')][a180_0x40ce('0x11')]()){const _0x22c928=await _0x14a47b['fetchInvites']();for(const _0x319699 of _0x22c928[a180_0x40ce('0x11')]()){_0x14a47b[a180_0x40ce('0xb')][_0x319699[a180_0x40ce('0xc')]]=_0x319699[a180_0x40ce('0x9')]||0x0;}}};}};