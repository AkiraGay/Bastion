const a179_0x2c78=['_id','values','insertMany','includes','ready','user','isPublicBastion','client','../utils/constants','Listener','find','guilds','cache','../models/Guild','length','apply','findByIdAndUpdate','map','@bastion/tesseract','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','code','filter','exec','default','constructor','invites'];(function(_0x256b5e,_0x2c7864){const _0x12017e=function(_0x1a65a3){while(--_0x1a65a3){_0x256b5e['push'](_0x256b5e['shift']());}},_0x4656f7=function(){const _0x534b03={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1840ad,_0x3101c5,_0x52521d,_0x3e1b24){_0x3e1b24=_0x3e1b24||{};let _0xd74916=_0x3101c5+'='+_0x52521d,_0x52b806=0x0;for(let _0x101a81=0x0,_0x1a04a6=_0x1840ad['length'];_0x101a81<_0x1a04a6;_0x101a81++){const _0x54dc66=_0x1840ad[_0x101a81];_0xd74916+=';\x20'+_0x54dc66;const _0x9420c3=_0x1840ad[_0x54dc66];_0x1840ad['push'](_0x9420c3),_0x1a04a6=_0x1840ad['length'],_0x9420c3!==!![]&&(_0xd74916+='='+_0x9420c3);}_0x3e1b24['cookie']=_0xd74916;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1c6e62,_0x493b91){_0x1c6e62=_0x1c6e62||function(_0x8ac9b7){return _0x8ac9b7;};const _0x469ce8=_0x1c6e62(new RegExp('(?:^|;\x20)'+_0x493b91['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x504925=function(_0x43358d,_0x309a5a){_0x43358d(++_0x309a5a);};return _0x504925(_0x12017e,_0x2c7864),_0x469ce8?decodeURIComponent(_0x469ce8[0x1]):undefined;}},_0x2fdbb8=function(){const _0x58d7ba=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x58d7ba['test'](_0x534b03['removeCookie']['toString']());};_0x534b03['updateCookie']=_0x2fdbb8;let _0x2e7eee='';const _0xb18c28=_0x534b03['updateCookie']();if(!_0xb18c28)_0x534b03['setCookie'](['*'],'counter',0x1);else _0xb18c28?_0x2e7eee=_0x534b03['getCookie'](null,'counter'):_0x534b03['removeCookie']();};_0x4656f7();}(a179_0x2c78,0x101));const a179_0x1201=function(_0x256b5e,_0x2c7864){_0x256b5e=_0x256b5e-0x0;let _0x12017e=a179_0x2c78[_0x256b5e];return _0x12017e;};const a179_0x534b03=function(){let _0x2e7eee=!![];return function(_0xb18c28,_0x1840ad){const _0x3101c5=_0x2e7eee?function(){if(_0x1840ad){const _0x52521d=_0x1840ad[a179_0x1201('0x12')](_0xb18c28,arguments);return _0x1840ad=null,_0x52521d;}}:function(){};return _0x2e7eee=![],_0x3101c5;};}(),a179_0x1a65a3=a179_0x534b03(this,function(){const _0x3e1b24=function(){const _0xd74916=_0x3e1b24[a179_0x1201('0x1')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a179_0x1201('0x1')](a179_0x1201('0x16'));return!_0xd74916['test'](a179_0x1a65a3);};return _0x3e1b24();});a179_0x1a65a3();'use strict';const tesseract_1=require(a179_0x1201('0x15')),Config_1=require('../models/Config'),Guild_1=require(a179_0x1201('0x10')),constants=require(a179_0x1201('0xb'));module['exports']=class ReadyListener extends tesseract_1[a179_0x1201('0xc')]{constructor(){super(a179_0x1201('0x7'),{'mode':tesseract_1['Constants']['LISTENER_MODE']['ON']}),this[a179_0x1201('0x19')]=async()=>{await Config_1[a179_0x1201('0x0')][a179_0x1201('0x13')](this[a179_0x1201('0xa')]['user']['id'],{'_id':this['client'][a179_0x1201('0x8')]['id']},{'upsert':!![]});const _0x52b806=await Guild_1[a179_0x1201('0x0')][a179_0x1201('0xd')]({},'id'),_0x101a81=_0x52b806[a179_0x1201('0x14')](_0x54dc66=>_0x54dc66[a179_0x1201('0x3')]),_0x1a04a6=this['client'][a179_0x1201('0xe')][a179_0x1201('0xf')][a179_0x1201('0x14')](_0x9420c3=>({'_id':_0x9420c3['id']}))[a179_0x1201('0x18')](_0x1c6e62=>!_0x101a81[a179_0x1201('0x6')](_0x1c6e62['_id']));_0x1a04a6[a179_0x1201('0x11')]&&await Guild_1[a179_0x1201('0x0')][a179_0x1201('0x5')](_0x1a04a6);if(!constants[a179_0x1201('0x9')](this[a179_0x1201('0xa')][a179_0x1201('0x8')]))for(const _0x493b91 of this['client'][a179_0x1201('0xe')][a179_0x1201('0xf')][a179_0x1201('0x4')]()){const _0x469ce8=await _0x493b91['fetchInvites']();for(const _0x504925 of _0x469ce8['values']()){_0x493b91[a179_0x1201('0x2')][_0x504925[a179_0x1201('0x17')]]=_0x504925['uses']||0x0;}}};}};