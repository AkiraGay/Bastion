const a181_0x4b3b=['../utils/constants','includes','cache','user','Constants','constructor','length','values','findByIdAndUpdate','exports','find','LISTENER_MODE','Listener','insertMany','@bastion/tesseract','fetchInvites','return\x20/\x22\x20+\x20this\x20+\x20\x22/','isPublicBastion','_id','client','default','exec','ready','map'];(function(_0x2cd2c8,_0x4b3bd8){const _0x4439c6=function(_0x378355){while(--_0x378355){_0x2cd2c8['push'](_0x2cd2c8['shift']());}},_0x45d333=function(){const _0x1966c1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3213b9,_0x376b48,_0xf3123e,_0xa66e62){_0xa66e62=_0xa66e62||{};let _0x5bfe7a=_0x376b48+'='+_0xf3123e,_0x3c648c=0x0;for(let _0x18df63=0x0,_0x53ffcc=_0x3213b9['length'];_0x18df63<_0x53ffcc;_0x18df63++){const _0x35fb99=_0x3213b9[_0x18df63];_0x5bfe7a+=';\x20'+_0x35fb99;const _0xa922b0=_0x3213b9[_0x35fb99];_0x3213b9['push'](_0xa922b0),_0x53ffcc=_0x3213b9['length'],_0xa922b0!==!![]&&(_0x5bfe7a+='='+_0xa922b0);}_0xa66e62['cookie']=_0x5bfe7a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x12cf10,_0x9a9eb2){_0x12cf10=_0x12cf10||function(_0x4a696c){return _0x4a696c;};const _0x4857af=_0x12cf10(new RegExp('(?:^|;\x20)'+_0x9a9eb2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4ab29d=function(_0xbbf543,_0x40a7c7){_0xbbf543(++_0x40a7c7);};return _0x4ab29d(_0x4439c6,_0x4b3bd8),_0x4857af?decodeURIComponent(_0x4857af[0x1]):undefined;}},_0x3f4809=function(){const _0x28ecac=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x28ecac['test'](_0x1966c1['removeCookie']['toString']());};_0x1966c1['updateCookie']=_0x3f4809;let _0xd0b673='';const _0x5ad5ec=_0x1966c1['updateCookie']();if(!_0x5ad5ec)_0x1966c1['setCookie'](['*'],'counter',0x1);else _0x5ad5ec?_0xd0b673=_0x1966c1['getCookie'](null,'counter'):_0x1966c1['removeCookie']();};_0x45d333();}(a181_0x4b3b,0x112));const a181_0x4439=function(_0x2cd2c8,_0x4b3bd8){_0x2cd2c8=_0x2cd2c8-0x0;let _0x4439c6=a181_0x4b3b[_0x2cd2c8];return _0x4439c6;};const _0x3efe5e=a181_0x4439,a181_0x1966c1=function(){let _0xd0b673=!![];return function(_0x5ad5ec,_0x3213b9){const _0x376b48=_0xd0b673?function(){if(_0x3213b9){const _0xf3123e=_0x3213b9['apply'](_0x5ad5ec,arguments);return _0x3213b9=null,_0xf3123e;}}:function(){};return _0xd0b673=![],_0x376b48;};}(),a181_0x378355=a181_0x1966c1(this,function(){const _0xa66e62=function(){const _0x18803d=a181_0x4439,_0x5bfe7a=_0xa66e62[_0x18803d('0x13')](_0x18803d('0x6'))()[_0x18803d('0x13')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5bfe7a['test'](a181_0x378355);};return _0xa66e62();});a181_0x378355();'use strict';const tesseract_1=require(_0x3efe5e('0x4')),Config_1=require('../models/Config'),Guild_1=require('../models/Guild'),constants=require(_0x3efe5e('0xe'));module[_0x3efe5e('0x17')]=class ReadyListener extends tesseract_1[_0x3efe5e('0x2')]{constructor(){const _0x270994=_0x3efe5e;super(_0x270994('0xc'),{'mode':tesseract_1[_0x270994('0x12')][_0x270994('0x1')]['ON']}),this[_0x270994('0xb')]=async()=>{const _0xf5a4ea=_0x270994;await Config_1[_0xf5a4ea('0xa')][_0xf5a4ea('0x16')](this[_0xf5a4ea('0x9')][_0xf5a4ea('0x11')]['id'],{'_id':this[_0xf5a4ea('0x9')]['user']['id']},{'upsert':!![]});const _0x3c648c=await Guild_1[_0xf5a4ea('0xa')][_0xf5a4ea('0x0')]({},'id'),_0x18df63=_0x3c648c[_0xf5a4ea('0xd')](_0x35fb99=>_0x35fb99['_id']),_0x53ffcc=this[_0xf5a4ea('0x9')]['guilds'][_0xf5a4ea('0x10')]['map'](_0xa922b0=>({'_id':_0xa922b0['id']}))['filter'](_0x12cf10=>!_0x18df63[_0xf5a4ea('0xf')](_0x12cf10[_0xf5a4ea('0x8')]));_0x53ffcc[_0xf5a4ea('0x14')]&&await Guild_1['default'][_0xf5a4ea('0x3')](_0x53ffcc);if(!constants[_0xf5a4ea('0x7')](this[_0xf5a4ea('0x9')][_0xf5a4ea('0x11')]))for(const _0x9a9eb2 of this[_0xf5a4ea('0x9')]['guilds'][_0xf5a4ea('0x10')][_0xf5a4ea('0x15')]()){const _0x4857af=await _0x9a9eb2[_0xf5a4ea('0x5')]();for(const _0x4ab29d of _0x4857af['values']()){_0x9a9eb2['invites'][_0x4ab29d['code']]=_0x4ab29d['uses']||0x0;}}};}};