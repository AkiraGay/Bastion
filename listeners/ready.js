const a194_0x4e0f=['user','map','../utils/constants','client','constructor','exec','filter','insertMany','uses','test','guilds','cache','values','LISTENER_MODE','isPublicBastion','default','../models/Guild','includes','Constants','length','code','invites','ready','_id','find'];(function(_0x1455c4,_0x4e0f59){const _0xb7c8b7=function(_0x493e44){while(--_0x493e44){_0x1455c4['push'](_0x1455c4['shift']());}},_0x507048=function(){const _0x30e1e1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5e2423,_0x5bc9b4,_0x56b5d8,_0xb81543){_0xb81543=_0xb81543||{};let _0x3f6165=_0x5bc9b4+'='+_0x56b5d8,_0x24e75c=0x0;for(let _0x242277=0x0,_0x14dc63=_0x5e2423['length'];_0x242277<_0x14dc63;_0x242277++){const _0x3bde33=_0x5e2423[_0x242277];_0x3f6165+=';\x20'+_0x3bde33;const _0xd1d22=_0x5e2423[_0x3bde33];_0x5e2423['push'](_0xd1d22),_0x14dc63=_0x5e2423['length'],_0xd1d22!==!![]&&(_0x3f6165+='='+_0xd1d22);}_0xb81543['cookie']=_0x3f6165;},'removeCookie':function(){return'dev';},'getCookie':function(_0x10066c,_0x23137f){_0x10066c=_0x10066c||function(_0x5242b7){return _0x5242b7;};const _0x1a150f=_0x10066c(new RegExp('(?:^|;\x20)'+_0x23137f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x25e4e1=function(_0x2ca907,_0x1a47de){_0x2ca907(++_0x1a47de);};return _0x25e4e1(_0xb7c8b7,_0x4e0f59),_0x1a150f?decodeURIComponent(_0x1a150f[0x1]):undefined;}},_0xdc05ba=function(){const _0x49e38d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x49e38d['test'](_0x30e1e1['removeCookie']['toString']());};_0x30e1e1['updateCookie']=_0xdc05ba;let _0x2f6917='';const _0x436d7b=_0x30e1e1['updateCookie']();if(!_0x436d7b)_0x30e1e1['setCookie'](['*'],'counter',0x1);else _0x436d7b?_0x2f6917=_0x30e1e1['getCookie'](null,'counter'):_0x30e1e1['removeCookie']();};_0x507048();}(a194_0x4e0f,0xe5));const a194_0xb7c8=function(_0x1455c4,_0x4e0f59){_0x1455c4=_0x1455c4-0x0;let _0xb7c8b7=a194_0x4e0f[_0x1455c4];return _0xb7c8b7;};const _0x22c50=a194_0xb7c8,a194_0x30e1e1=function(){let _0x2f6917=!![];return function(_0x436d7b,_0x5e2423){const _0x5bc9b4=_0x2f6917?function(){if(_0x5e2423){const _0x56b5d8=_0x5e2423['apply'](_0x436d7b,arguments);return _0x5e2423=null,_0x56b5d8;}}:function(){};return _0x2f6917=![],_0x5bc9b4;};}(),a194_0x493e44=a194_0x30e1e1(this,function(){const _0xb81543=function(){const _0x5af443=a194_0xb7c8,_0x3f6165=_0xb81543[_0x5af443('0x0')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x5af443('0x0')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3f6165[_0x5af443('0x5')](a194_0x493e44);};return _0xb81543();});a194_0x493e44();'use strict';const tesseract_1=require('@bastion/tesseract'),Config_1=require('../models/Config'),Guild_1=require(_0x22c50('0xc')),constants=require(_0x22c50('0x17'));module['exports']=class ReadyListener extends tesseract_1['Listener']{constructor(){const _0x16fd1b=_0x22c50;super(_0x16fd1b('0x12'),{'mode':tesseract_1[_0x16fd1b('0xe')][_0x16fd1b('0x9')]['ON']}),this[_0x16fd1b('0x1')]=async()=>{const _0x1bf5e0=_0x16fd1b;await Config_1[_0x1bf5e0('0xb')]['findByIdAndUpdate'](this[_0x1bf5e0('0x18')]['user']['id'],{'_id':this['client'][_0x1bf5e0('0x15')]['id']},{'upsert':!![]});const _0x24e75c=await Guild_1[_0x1bf5e0('0xb')][_0x1bf5e0('0x14')]({},'id'),_0x242277=_0x24e75c['map'](_0x3bde33=>_0x3bde33[_0x1bf5e0('0x13')]),_0x14dc63=this[_0x1bf5e0('0x18')][_0x1bf5e0('0x6')][_0x1bf5e0('0x7')][_0x1bf5e0('0x16')](_0xd1d22=>({'_id':_0xd1d22['id']}))[_0x1bf5e0('0x2')](_0x10066c=>!_0x242277[_0x1bf5e0('0xd')](_0x10066c[_0x1bf5e0('0x13')]));_0x14dc63[_0x1bf5e0('0xf')]&&await Guild_1[_0x1bf5e0('0xb')][_0x1bf5e0('0x3')](_0x14dc63);if(!constants[_0x1bf5e0('0xa')](this[_0x1bf5e0('0x18')]['user']))for(const _0x23137f of this[_0x1bf5e0('0x18')][_0x1bf5e0('0x6')]['cache'][_0x1bf5e0('0x8')]()){const _0x1a150f=await _0x23137f['fetchInvites']();for(const _0x25e4e1 of _0x1a150f[_0x1bf5e0('0x8')]()){_0x23137f[_0x1bf5e0('0x11')][_0x25e4e1[_0x1bf5e0('0x10')]]=_0x25e4e1[_0x1bf5e0('0x4')]||0x0;}}};}};