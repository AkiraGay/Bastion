const a145_0x43f1=['stringify','random','createDM','responseMessage','credit','Level-up\x20Reward','handleVotingChannels','getString','level','constructor','parseEmoji','client','trigger','\x20Trigger','findOne','save','DEFAUL_CURRENCY_REWARD_MULTIPLIER','status','find','error','channel','handleLevelRoles','findById','parse','document','COLORS','indexOf','../utils/omnic','relayDirectMessages','test','@bastion/tesseract','return\x20/\x22\x20+\x20this\x20+\x20\x22/','author','messages','set','splice','Constants','info','handleGamification','remove','apply','catch','handleDirectMessageRelay','generateEmbed','length','../utils/variables','send','filter','computeLevel','response','language','IRIS','has','content','makeRequest','default','LEVELED\x20UP!','user','handleTriggers','../models/Config','cache','tag','locale','../models/Role','then','handleInstantResponses','map','success','member','push','react','/chat/instant?message=','humanMessage','floor','_id','bastion.name','exports','guild','reply','Logger','displayAvatarURL','enabled','ModuleManagerEvent','responseReaction','../utils/gamification','recentUsers','roles','reaction','includes','json','experience','owner','../models/Trigger','../models/TextChannel','Team','gamification','MAX_EXPERIENCE'];(function(_0x31cbe9,_0x43f165){const _0x2a0aad=function(_0x1d034d){while(--_0x1d034d){_0x31cbe9['push'](_0x31cbe9['shift']());}},_0x568652=function(){const _0xab3634={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x196492,_0x14de75,_0x4931fb,_0x515f46){_0x515f46=_0x515f46||{};let _0x4b7881=_0x14de75+'='+_0x4931fb,_0xb41800=0x0;for(let _0x2707f8=0x0,_0x2fd009=_0x196492['length'];_0x2707f8<_0x2fd009;_0x2707f8++){const _0x4c0175=_0x196492[_0x2707f8];_0x4b7881+=';\x20'+_0x4c0175;const _0xc4c774=_0x196492[_0x4c0175];_0x196492['push'](_0xc4c774),_0x2fd009=_0x196492['length'],_0xc4c774!==!![]&&(_0x4b7881+='='+_0xc4c774);}_0x515f46['cookie']=_0x4b7881;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5b319a,_0x43ecce){_0x5b319a=_0x5b319a||function(_0x5c19f6){return _0x5c19f6;};const _0x2eb141=_0x5b319a(new RegExp('(?:^|;\x20)'+_0x43ecce['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3d2a2c=function(_0x5c26da,_0x2442c0){_0x5c26da(++_0x2442c0);};return _0x3d2a2c(_0x2a0aad,_0x43f165),_0x2eb141?decodeURIComponent(_0x2eb141[0x1]):undefined;}},_0x5570ab=function(){const _0x5d6e46=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5d6e46['test'](_0xab3634['removeCookie']['toString']());};_0xab3634['updateCookie']=_0x5570ab;let _0x25c51c='';const _0x4f90ee=_0xab3634['updateCookie']();if(!_0x4f90ee)_0xab3634['setCookie'](['*'],'counter',0x1);else _0x4f90ee?_0x25c51c=_0xab3634['getCookie'](null,'counter'):_0xab3634['removeCookie']();};_0x568652();}(a145_0x43f1,0x135));const a145_0x2a0a=function(_0x31cbe9,_0x43f165){_0x31cbe9=_0x31cbe9-0x0;let _0x2a0aad=a145_0x43f1[_0x31cbe9];return _0x2a0aad;};const a145_0xab3634=function(){let _0x25c51c=!![];return function(_0x4f90ee,_0x196492){const _0x14de75=_0x25c51c?function(){if(_0x196492){const _0x4931fb=_0x196492[a145_0x2a0a('0x16')](_0x4f90ee,arguments);return _0x196492=null,_0x4931fb;}}:function(){};return _0x25c51c=![],_0x14de75;};}(),a145_0x1d034d=a145_0xab3634(this,function(){const _0x515f46=function(){const _0x4b7881=_0x515f46[a145_0x2a0a('0x58')](a145_0x2a0a('0xd'))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4b7881[a145_0x2a0a('0xb')](a145_0x1d034d);};return _0x515f46();});a145_0x1d034d();'use strict';const tesseract_1=require(a145_0x2a0a('0xc')),discord_js_1=require('discord.js'),embeds=require('../utils/embeds'),emojis=require('../utils/emojis'),gamification=require(a145_0x2a0a('0x42')),omnic=require(a145_0x2a0a('0x9')),variables=require(a145_0x2a0a('0x1b')),Config_1=require(a145_0x2a0a('0x29')),Role_1=require(a145_0x2a0a('0x2d')),TextChannel_1=require(a145_0x2a0a('0x4b')),Trigger_1=require(a145_0x2a0a('0x4a'));module[a145_0x2a0a('0x3a')]=class HumanMessageEvent extends tesseract_1[a145_0x2a0a('0x40')]{constructor(){super(a145_0x2a0a('0x36')),this[a145_0x2a0a('0x3')]=async(_0xb41800,_0x2707f8)=>{const _0x2fd009=await Role_1[a145_0x2a0a('0x25')][a145_0x2a0a('0x0')]({'guild':_0xb41800[a145_0x2a0a('0x3b')]['id'],'level':{'$exists':!![]}}),_0x4c0175=_0x2fd009[a145_0x2a0a('0x1d')](_0x5b319a=>_0x5b319a[a145_0x2a0a('0x57')]!==_0x2707f8&&_0xb41800[a145_0x2a0a('0x3b')][a145_0x2a0a('0x44')]['cache'][a145_0x2a0a('0x22')](_0x5b319a['_id'])),_0xc4c774=_0x2fd009['filter'](_0x43ecce=>_0x43ecce[a145_0x2a0a('0x57')]===_0x2707f8&&_0xb41800[a145_0x2a0a('0x3b')]['roles'][a145_0x2a0a('0x2a')][a145_0x2a0a('0x22')](_0x43ecce[a145_0x2a0a('0x38')]));_0xc4c774[a145_0x2a0a('0x1a')]&&(await _0xb41800[a145_0x2a0a('0x32')][a145_0x2a0a('0x44')]['add'](_0xc4c774[a145_0x2a0a('0x30')](_0x2eb141=>_0x2eb141[a145_0x2a0a('0x38')])),await _0xb41800[a145_0x2a0a('0x32')][a145_0x2a0a('0x44')][a145_0x2a0a('0x15')](_0x4c0175['map'](_0x3d2a2c=>_0x3d2a2c[a145_0x2a0a('0x38')])));},this[a145_0x2a0a('0x14')]=async _0x5c19f6=>{const _0x5c26da=this[a145_0x2a0a('0x43')]['get'](_0x5c19f6[a145_0x2a0a('0x3b')]['id'])||[];if(_0x5c26da[a145_0x2a0a('0x46')](_0x5c19f6['author']['id']))return;const _0x2442c0=_0x5c19f6['client'],_0x5d6e46=_0x5c19f6[a145_0x2a0a('0x3b')],_0x1c1ab7=_0x5c19f6[a145_0x2a0a('0x32')];if(!_0x5d6e46[a145_0x2a0a('0x6')]['gamification']||!_0x5d6e46[a145_0x2a0a('0x6')][a145_0x2a0a('0x4d')][a145_0x2a0a('0x3f')])return;if(_0x1c1ab7[a145_0x2a0a('0x6')][a145_0x2a0a('0x57')]>=gamification['MAX_LEVEL']||_0x1c1ab7[a145_0x2a0a('0x6')]['experience']>=gamification[a145_0x2a0a('0x4e')](_0x5d6e46[a145_0x2a0a('0x6')]['gamification']['multiplier']))return;_0x1c1ab7[a145_0x2a0a('0x6')][a145_0x2a0a('0x48')]+=0x1;const _0x1e46af=gamification[a145_0x2a0a('0x1e')](_0x1c1ab7['document'][a145_0x2a0a('0x48')],_0x5d6e46[a145_0x2a0a('0x6')][a145_0x2a0a('0x4d')]['multiplier']);_0x1e46af>_0x1c1ab7[a145_0x2a0a('0x6')][a145_0x2a0a('0x57')]&&(await _0x1c1ab7[a145_0x2a0a('0x53')](_0x1e46af*gamification[a145_0x2a0a('0x5f')],a145_0x2a0a('0x54'),_0x1c1ab7[a145_0x2a0a('0x6')]),_0x5d6e46[a145_0x2a0a('0x6')][a145_0x2a0a('0x4d')][a145_0x2a0a('0xf')]&&_0x5c19f6[a145_0x2a0a('0x2')][a145_0x2a0a('0x1c')]({'embed':{'color':tesseract_1['Constants'][a145_0x2a0a('0x7')][a145_0x2a0a('0x21')],'fields':[{'name':a145_0x2a0a('0x26'),'value':_0x2442c0[a145_0x2a0a('0x2c')][a145_0x2a0a('0x56')](_0x5d6e46[a145_0x2a0a('0x6')][a145_0x2a0a('0x20')],a145_0x2a0a('0x13'),'levelUp',_0x5c19f6['author'][a145_0x2a0a('0x2b')],_0x1e46af)}]}})[a145_0x2a0a('0x17')](()=>{}),this[a145_0x2a0a('0x3')](_0x5c19f6,_0x1c1ab7[a145_0x2a0a('0x6')]['level'])[a145_0x2a0a('0x17')](tesseract_1[a145_0x2a0a('0x3d')]['error'])),_0x1c1ab7[a145_0x2a0a('0x6')][a145_0x2a0a('0x57')]=_0x1e46af,await _0x1c1ab7['document'][a145_0x2a0a('0x5e')](),_0x5c26da[a145_0x2a0a('0x33')](_0x5c19f6[a145_0x2a0a('0xe')]['id']),this[a145_0x2a0a('0x43')][a145_0x2a0a('0x10')](_0x5c19f6[a145_0x2a0a('0x3b')]['id'],_0x5c26da),_0x5c19f6[a145_0x2a0a('0x5a')]['setTimeout'](()=>{const _0x3b8a9b=this[a145_0x2a0a('0x43')]['get'](_0x5c19f6[a145_0x2a0a('0x3b')]['id']);_0x3b8a9b[a145_0x2a0a('0x11')](_0x3b8a9b[a145_0x2a0a('0x8')](_0x5c19f6[a145_0x2a0a('0xe')]['id']),0x1),this[a145_0x2a0a('0x43')][a145_0x2a0a('0x10')](_0x5c19f6['guild']['id'],_0x3b8a9b);},0x32c8);},this[a145_0x2a0a('0x28')]=async _0x38942a=>{if(!_0x38942a[a145_0x2a0a('0x23')])return;const _0x11f26b=await Trigger_1[a145_0x2a0a('0x25')]['find']({'guild':_0x38942a[a145_0x2a0a('0x3b')]['id']}),_0x35a224=[],_0x339031=[];for(const _0x3e758b of _0x11f26b){const _0x421ecc=new RegExp(_0x3e758b[a145_0x2a0a('0x5b')]['replace'](/\?/g,'.')['replace'](/\*+/g,'.*'),'ig');if(!_0x421ecc[a145_0x2a0a('0xb')](_0x38942a['content']))continue;_0x3e758b[a145_0x2a0a('0x52')]&&_0x35a224[a145_0x2a0a('0x33')](_0x3e758b[a145_0x2a0a('0x52')]);if(_0x3e758b[a145_0x2a0a('0x41')]){const _0x559835=emojis[a145_0x2a0a('0x59')](_0x3e758b[a145_0x2a0a('0x41')]);_0x559835&&_0x339031[a145_0x2a0a('0x33')](_0x559835[a145_0x2a0a('0x45')]);}}_0x35a224[a145_0x2a0a('0x1a')]&&_0x38942a[a145_0x2a0a('0x2')][a145_0x2a0a('0x1c')]({'embed':{...embeds[a145_0x2a0a('0x19')](JSON[a145_0x2a0a('0x5')](variables['replaceMessageVariables'](JSON[a145_0x2a0a('0x4f')](_0x35a224[Math[a145_0x2a0a('0x37')](Math['random']()*_0x35a224['length'])]),_0x38942a))),'footer':{'text':_0x38942a[a145_0x2a0a('0x5a')][a145_0x2a0a('0x2c')]['getConstant'](a145_0x2a0a('0x39'))+a145_0x2a0a('0x5c')}}})[a145_0x2a0a('0x17')](tesseract_1[a145_0x2a0a('0x3d')][a145_0x2a0a('0x1')]),_0x339031[a145_0x2a0a('0x1a')]&&_0x38942a[a145_0x2a0a('0x34')](_0x339031[Math[a145_0x2a0a('0x37')](Math[a145_0x2a0a('0x50')]()*_0x339031[a145_0x2a0a('0x1a')])])[a145_0x2a0a('0x17')](tesseract_1[a145_0x2a0a('0x3d')][a145_0x2a0a('0x1')]);},this[a145_0x2a0a('0x55')]=async _0x5a0d12=>{const _0x18ad44=await TextChannel_1[a145_0x2a0a('0x25')][a145_0x2a0a('0x5d')]({'_id':_0x5a0d12[a145_0x2a0a('0x2')]['id'],'voting':!![]});if(!_0x18ad44)return;_0x5a0d12[a145_0x2a0a('0x34')]('👍')[a145_0x2a0a('0x17')](()=>{}),_0x5a0d12[a145_0x2a0a('0x34')]('👎')['catch'](()=>{});},this[a145_0x2a0a('0x2f')]=async _0x35b51e=>{if(!_0x35b51e[a145_0x2a0a('0x23')])return;const _0x2bf7b1=await omnic[a145_0x2a0a('0x24')](a145_0x2a0a('0x35')+encodeURIComponent(_0x35b51e[a145_0x2a0a('0x23')]))[a145_0x2a0a('0x2e')](_0xde4d02=>_0xde4d02[a145_0x2a0a('0x47')]());if(_0x2bf7b1[a145_0x2a0a('0x60')]!==a145_0x2a0a('0x31'))return;const _0x4d5b5a=_0x2bf7b1[a145_0x2a0a('0x1f')][a145_0x2a0a('0x3c')]instanceof Array?_0x2bf7b1[a145_0x2a0a('0x1f')][a145_0x2a0a('0x3c')]:[_0x2bf7b1[a145_0x2a0a('0x1f')][a145_0x2a0a('0x3c')]];for(const _0x518b6a of _0x4d5b5a){await _0x35b51e[a145_0x2a0a('0x2')][a145_0x2a0a('0x1c')](_0x518b6a)[a145_0x2a0a('0x17')](()=>{});}},this['handleDirectMessageRelay']=async _0x4855a4=>{const _0x1b9ad1=await Config_1[a145_0x2a0a('0x25')][a145_0x2a0a('0x4')](_0x4855a4[a145_0x2a0a('0x5a')][a145_0x2a0a('0x27')]['id']);if(_0x1b9ad1[a145_0x2a0a('0xa')]&&_0x4855a4[a145_0x2a0a('0x23')]){const _0x52bc4b=await _0x4855a4[a145_0x2a0a('0x5a')]['fetchApplication'](),_0x1ce229=_0x52bc4b[a145_0x2a0a('0x49')]instanceof discord_js_1[a145_0x2a0a('0x4c')]?_0x52bc4b[a145_0x2a0a('0x49')][a145_0x2a0a('0x49')][a145_0x2a0a('0x27')]:_0x52bc4b['owner'];if(_0x4855a4[a145_0x2a0a('0xe')]['id']===_0x1ce229['id'])return;const _0x177b41=await _0x1ce229[a145_0x2a0a('0x51')]();await _0x177b41[a145_0x2a0a('0x1c')]({'embed':{'color':tesseract_1[a145_0x2a0a('0x12')][a145_0x2a0a('0x7')]['IRIS'],'author':{'name':_0x4855a4[a145_0x2a0a('0xe')][a145_0x2a0a('0x2b')],'iconURL':_0x4855a4[a145_0x2a0a('0xe')][a145_0x2a0a('0x3e')]({'dynamic':!![],'size':0x40})},'description':_0x4855a4[a145_0x2a0a('0x23')],'footer':{'text':_0x4855a4[a145_0x2a0a('0xe')]['id']}}});}},this['exec']=async _0xf0baf6=>{_0xf0baf6['guild']?(this['handleGamification'](_0xf0baf6)['catch'](()=>{}),this[a145_0x2a0a('0x28')](_0xf0baf6)[a145_0x2a0a('0x17')](()=>{}),this[a145_0x2a0a('0x55')](_0xf0baf6)[a145_0x2a0a('0x17')](()=>{})):(this[a145_0x2a0a('0x2f')](_0xf0baf6)['catch'](()=>{}),this[a145_0x2a0a('0x18')](_0xf0baf6)[a145_0x2a0a('0x17')](()=>{}));},this[a145_0x2a0a('0x43')]=new Map();}};