const a196_0x4e3e=['locale','return\x20/\x22\x20+\x20this\x20+\x20\x22/','event','language','client','test','serverLogChannelId','COLORS','send','discord.js','@bastion/tesseract','getDocument','text','type','Constants','filter','compile','moderationLogChannelId','news','timestamp','exports','getString','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','fields','save','moderationCaseCount','has','Guild','events','constructor','music','default','ORANGE','NewsChannel','TextChannel','cache','SOMEWHAT_DARK','channels','createModerationLog'];(function(_0x27ba98,_0x4e3ed7){const _0x3262ba=function(_0x3662fd){while(--_0x3662fd){_0x27ba98['push'](_0x27ba98['shift']());}};const _0x466242=function(){const _0x4ddb67={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1ab5e6,_0x42c87d,_0x889571,_0x36d0de){_0x36d0de=_0x36d0de||{};let _0x269656=_0x42c87d+'='+_0x889571;let _0x3f33dc=0x0;for(let _0x5a82a7=0x0,_0x5256dc=_0x1ab5e6['length'];_0x5a82a7<_0x5256dc;_0x5a82a7++){const _0x28a5a4=_0x1ab5e6[_0x5a82a7];_0x269656+=';\x20'+_0x28a5a4;const _0x39f4d1=_0x1ab5e6[_0x28a5a4];_0x1ab5e6['push'](_0x39f4d1);_0x5256dc=_0x1ab5e6['length'];if(_0x39f4d1!==!![]){_0x269656+='='+_0x39f4d1;}}_0x36d0de['cookie']=_0x269656;},'removeCookie':function(){return'dev';},'getCookie':function(_0x164f1a,_0x31bc41){_0x164f1a=_0x164f1a||function(_0x575c5d){return _0x575c5d;};const _0x292497=_0x164f1a(new RegExp('(?:^|;\x20)'+_0x31bc41['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5be701=function(_0x795962,_0x5f3cb1){_0x795962(++_0x5f3cb1);};_0x5be701(_0x3262ba,_0x4e3ed7);return _0x292497?decodeURIComponent(_0x292497[0x1]):undefined;}};const _0x591d95=function(){const _0x53c3e3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x53c3e3['test'](_0x4ddb67['removeCookie']['toString']());};_0x4ddb67['updateCookie']=_0x591d95;let _0x5a8b36='';const _0x9f3dfe=_0x4ddb67['updateCookie']();if(!_0x9f3dfe){_0x4ddb67['setCookie'](['*'],'counter',0x1);}else if(_0x9f3dfe){_0x5a8b36=_0x4ddb67['getCookie'](null,'counter');}else{_0x4ddb67['removeCookie']();}};_0x466242();}(a196_0x4e3e,0x10b));const a196_0x3262=function(_0x27ba98,_0x4e3ed7){_0x27ba98=_0x27ba98-0x0;let _0x3262ba=a196_0x4e3e[_0x27ba98];return _0x3262ba;};const a196_0x4ddb67=function(){let _0x4988e2=!![];return function(_0x791105,_0x10f5a6){const _0x18408f=_0x4988e2?function(){if(_0x10f5a6){const _0x2e8766=_0x10f5a6['apply'](_0x791105,arguments);_0x10f5a6=null;return _0x2e8766;}}:function(){};_0x4988e2=![];return _0x18408f;};}();const a196_0x3662fd=a196_0x4ddb67(this,function(){const _0x1b7146=function(){const _0xe8fa6=_0x1b7146[a196_0x3262('0x23')](a196_0x3262('0x7'))()[a196_0x3262('0x16')](a196_0x3262('0x1c'));return!_0xe8fa6[a196_0x3262('0xb')](a196_0x3662fd);};return _0x1b7146();});a196_0x3662fd();'use strict';const tesseract_1=require(a196_0x3262('0x10'));const discord_js_1=require(a196_0x3262('0xf'));const Guild_1=require('../models/Guild');const Case_1=require('../models/Case');module[a196_0x3262('0x1a')]=class BastionGuild extends discord_js_1[a196_0x3262('0x21')]{constructor(_0x401d48,_0x460162){super(_0x401d48,_0x460162);this[a196_0x3262('0x24')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a196_0x3262('0x11')](){return await Guild_1[a196_0x3262('0x25')]['findById'](this['id']);}async['createLog'](_0x307ad6){const _0x5ccb01=await this[a196_0x3262('0x11')]();const _0x411767=this['client']['channels'][a196_0x3262('0x2')][a196_0x3262('0x15')](_0x5ca510=>_0x5ca510[a196_0x3262('0x13')]===a196_0x3262('0x12')||_0x5ca510['type']===a196_0x3262('0x18'));if(_0x5ccb01['serverLogChannelId']&&_0x411767[a196_0x3262('0x20')](_0x5ccb01[a196_0x3262('0xc')])){const _0x97ebb9=_0x411767['get'](_0x5ccb01[a196_0x3262('0xc')]);if(_0x97ebb9 instanceof discord_js_1[a196_0x3262('0x0')]||_0x97ebb9 instanceof discord_js_1[a196_0x3262('0x1')]){return _0x97ebb9[a196_0x3262('0xe')]({'embed':{'color':tesseract_1[a196_0x3262('0x14')][a196_0x3262('0xd')][a196_0x3262('0x3')],'title':this[a196_0x3262('0xa')][a196_0x3262('0x6')][a196_0x3262('0x1b')](_0x5ccb01['language'],'events',_0x307ad6['event']),'fields':_0x307ad6[a196_0x3262('0x1d')],'footer':{'text':_0x307ad6['footer']},'timestamp':_0x307ad6[a196_0x3262('0x19')]||new Date()}});}}}async[a196_0x3262('0x5')](_0x2c4fec){const _0x52dfae=await this[a196_0x3262('0x11')]();const _0x48f978=this[a196_0x3262('0xa')][a196_0x3262('0x4')][a196_0x3262('0x2')][a196_0x3262('0x15')](_0x349d38=>_0x349d38[a196_0x3262('0x13')]===a196_0x3262('0x12')||_0x349d38['type']==='news');if(_0x52dfae[a196_0x3262('0x17')]&&_0x48f978[a196_0x3262('0x20')](_0x52dfae[a196_0x3262('0x17')])){const _0x15f73b=_0x48f978['get'](_0x52dfae[a196_0x3262('0x17')]);if(_0x15f73b instanceof discord_js_1[a196_0x3262('0x0')]||_0x15f73b instanceof discord_js_1[a196_0x3262('0x1')]){_0x52dfae['moderationCaseCount']=_0x52dfae['moderationCaseCount']?_0x52dfae[a196_0x3262('0x1f')]+0x1:0x1;const _0x1d713f=await _0x15f73b[a196_0x3262('0xe')]({'embed':{'color':tesseract_1['Constants'][a196_0x3262('0xd')][a196_0x3262('0x26')],'title':this[a196_0x3262('0xa')][a196_0x3262('0x6')]['getString'](_0x52dfae[a196_0x3262('0x9')],a196_0x3262('0x22'),_0x2c4fec[a196_0x3262('0x8')]),'fields':_0x2c4fec[a196_0x3262('0x1d')],'footer':{'text':'Case\x20#'+_0x52dfae[a196_0x3262('0x1f')]},'timestamp':new Date()}});await Case_1[a196_0x3262('0x25')]['create']({'guild':this['id'],'number':_0x52dfae[a196_0x3262('0x1f')],'messageId':_0x1d713f['id']});await _0x52dfae[a196_0x3262('0x1e')]();}}}};