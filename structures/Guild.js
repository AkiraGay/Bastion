const a228_0x1b90=['constructor','../models/Case','COLORS','TextChannel','moderationLogChannelId','language','create','13DRMXKl','findById','timestamp','music','test','text','serverLogChannelId','invites','news','createModerationLog','fields','getDocument','112093RahVEc','11736OqTrYg','has','Case\x20#','return\x20/\x22\x20+\x20this\x20+\x20\x22/','footer','275623yzdYpL','filter','client','../models/Guild','5idYYMA','event','458278pXqDew','NewsChannel','channels','337798SIfnOM','getString','discord.js','cache','exports','events','114799sbguGp','moderationCaseCount','default','send','8oUKkZH','ORANGE','SOMEWHAT_DARK','get','locale','Guild','Constants','type','20511doikEu'];const a228_0xab9c=function(_0xf49bd7,_0x576e34){_0xf49bd7=_0xf49bd7-0x1e1;let _0x3bff04=a228_0x1b90[_0xf49bd7];return _0x3bff04;};const a228_0x322cd3=a228_0xab9c;(function(_0xdd954b,_0x53fb1f){const _0x580dad=a228_0xab9c;while(!![]){try{const _0x34f557=-parseInt(_0x580dad(0x1f6))*-parseInt(_0x580dad(0x1ee))+-parseInt(_0x580dad(0x202))+-parseInt(_0x580dad(0x211))+-parseInt(_0x580dad(0x20e))+parseInt(_0x580dad(0x20c))*parseInt(_0x580dad(0x1e2))+-parseInt(_0x580dad(0x203))*-parseInt(_0x580dad(0x1e6))+parseInt(_0x580dad(0x208));if(_0x34f557===_0x53fb1f)break;else _0xdd954b['push'](_0xdd954b['shift']());}catch(_0x470efb){_0xdd954b['push'](_0xdd954b['shift']());}}}(a228_0x1b90,0x49b9c));const a228_0x8901ba=function(){let _0x917378=!![];return function(_0x1d8318,_0x431a1e){const _0x44cafe=_0x917378?function(){if(_0x431a1e){const _0x166983=_0x431a1e['apply'](_0x1d8318,arguments);return _0x431a1e=null,_0x166983;}}:function(){};return _0x917378=![],_0x44cafe;};}(),a228_0x341395=a228_0x8901ba(this,function(){const _0x577b4f=function(){const _0x458ecd=a228_0xab9c,_0x29c476=_0x577b4f['constructor'](_0x458ecd(0x206))()[_0x458ecd(0x1ef)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x29c476[_0x458ecd(0x1fa)](a228_0x341395);};return _0x577b4f();});a228_0x341395();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a228_0x322cd3(0x213)),Guild_1=require(a228_0x322cd3(0x20b)),Case_1=require(a228_0x322cd3(0x1f0));module[a228_0x322cd3(0x215)]=class BastionGuild extends discord_js_1[a228_0x322cd3(0x1eb)]{constructor(_0x339fe4,_0x1bbe9a){const _0x2cedaa=a228_0x322cd3;super(_0x339fe4,_0x1bbe9a),this[_0x2cedaa(0x1f9)]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[_0x2cedaa(0x1fd)]={};}async[a228_0x322cd3(0x201)](){const _0x425223=a228_0x322cd3;return await Guild_1[_0x425223(0x1e4)][_0x425223(0x1f7)](this['id']);}async['createLog'](_0x172112){const _0x4e4d70=a228_0x322cd3,_0x2fd3a0=await this[_0x4e4d70(0x201)](),_0x2f65f0=this[_0x4e4d70(0x20a)][_0x4e4d70(0x210)][_0x4e4d70(0x214)][_0x4e4d70(0x209)](_0x543e23=>_0x543e23['type']===_0x4e4d70(0x1fb)||_0x543e23[_0x4e4d70(0x1ed)]===_0x4e4d70(0x1fe));if(_0x2fd3a0[_0x4e4d70(0x1fc)]&&_0x2f65f0[_0x4e4d70(0x204)](_0x2fd3a0[_0x4e4d70(0x1fc)])){const _0x187705=_0x2f65f0[_0x4e4d70(0x1e9)](_0x2fd3a0['serverLogChannelId']);if(_0x187705 instanceof discord_js_1['NewsChannel']||_0x187705 instanceof discord_js_1['TextChannel'])return _0x187705['send']({'embed':{'color':tesseract_1[_0x4e4d70(0x1ec)][_0x4e4d70(0x1f1)][_0x4e4d70(0x1e8)],'title':this['client'][_0x4e4d70(0x1ea)][_0x4e4d70(0x212)](_0x2fd3a0['language'],_0x4e4d70(0x1e1),_0x172112[_0x4e4d70(0x20d)]),'fields':_0x172112[_0x4e4d70(0x200)],'footer':{'text':_0x172112[_0x4e4d70(0x207)]},'timestamp':_0x172112[_0x4e4d70(0x1f8)]||new Date()}});}}async[a228_0x322cd3(0x1ff)](_0x4e7908){const _0xb1126c=a228_0x322cd3,_0x2eb847=await this[_0xb1126c(0x201)](),_0x2dc125=this[_0xb1126c(0x20a)][_0xb1126c(0x210)][_0xb1126c(0x214)]['filter'](_0x430a14=>_0x430a14[_0xb1126c(0x1ed)]===_0xb1126c(0x1fb)||_0x430a14['type']===_0xb1126c(0x1fe));if(_0x2eb847[_0xb1126c(0x1f3)]&&_0x2dc125[_0xb1126c(0x204)](_0x2eb847['moderationLogChannelId'])){const _0x5d0b69=_0x2dc125['get'](_0x2eb847[_0xb1126c(0x1f3)]);if(_0x5d0b69 instanceof discord_js_1[_0xb1126c(0x20f)]||_0x5d0b69 instanceof discord_js_1[_0xb1126c(0x1f2)]){_0x2eb847[_0xb1126c(0x1e3)]=_0x2eb847[_0xb1126c(0x1e3)]?_0x2eb847[_0xb1126c(0x1e3)]+0x1:0x1;const _0x2881ee=await _0x5d0b69[_0xb1126c(0x1e5)]({'embed':{'color':tesseract_1['Constants'][_0xb1126c(0x1f1)][_0xb1126c(0x1e7)],'title':this['client']['locale'][_0xb1126c(0x212)](_0x2eb847[_0xb1126c(0x1f4)],'events',_0x4e7908['event']),'fields':_0x4e7908[_0xb1126c(0x200)],'footer':{'text':_0xb1126c(0x205)+_0x2eb847[_0xb1126c(0x1e3)]},'timestamp':new Date()}});await Case_1['default'][_0xb1126c(0x1f5)]({'guild':this['id'],'number':_0x2eb847['moderationCaseCount'],'messageId':_0x2881ee['id']}),await _0x2eb847['save']();}}}};