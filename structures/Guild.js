const a200_0x2cdd=['findById','Guild','client','locale','getDocument','channels','Constants','music','NewsChannel','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','cache','filter','../models/Case','Case\x20#','get','text','moderationLogChannelId','type','getString','discord.js','send','language','apply','return\x20/\x22\x20+\x20this\x20+\x20\x22/','moderationCaseCount','events','createLog','serverLogChannelId','default','TextChannel','constructor','COLORS','footer','has','event','@bastion/tesseract','fields','test'];(function(_0x5b9ac8,_0x2cdddb){const _0x396972=function(_0x3c59a9){while(--_0x3c59a9){_0x5b9ac8['push'](_0x5b9ac8['shift']());}},_0x3278f9=function(){const _0x5b5bc2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x431449,_0x34f6a0,_0x2c2e07,_0x359ef1){_0x359ef1=_0x359ef1||{};let _0xd8da44=_0x34f6a0+'='+_0x2c2e07,_0x55956a=0x0;for(let _0x126e59=0x0,_0x424a78=_0x431449['length'];_0x126e59<_0x424a78;_0x126e59++){const _0x403d90=_0x431449[_0x126e59];_0xd8da44+=';\x20'+_0x403d90;const _0x4052e7=_0x431449[_0x403d90];_0x431449['push'](_0x4052e7),_0x424a78=_0x431449['length'],_0x4052e7!==!![]&&(_0xd8da44+='='+_0x4052e7);}_0x359ef1['cookie']=_0xd8da44;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1d52b5,_0x15a5d2){_0x1d52b5=_0x1d52b5||function(_0x5d472a){return _0x5d472a;};const _0x501a8c=_0x1d52b5(new RegExp('(?:^|;\x20)'+_0x15a5d2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1eb82f=function(_0x452fb2,_0xbd2fe8){_0x452fb2(++_0xbd2fe8);};return _0x1eb82f(_0x396972,_0x2cdddb),_0x501a8c?decodeURIComponent(_0x501a8c[0x1]):undefined;}},_0x59be28=function(){const _0x5ab49f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5ab49f['test'](_0x5b5bc2['removeCookie']['toString']());};_0x5b5bc2['updateCookie']=_0x59be28;let _0x354fc1='';const _0x16c713=_0x5b5bc2['updateCookie']();if(!_0x16c713)_0x5b5bc2['setCookie'](['*'],'counter',0x1);else _0x16c713?_0x354fc1=_0x5b5bc2['getCookie'](null,'counter'):_0x5b5bc2['removeCookie']();};_0x3278f9();}(a200_0x2cdd,0x1e5));const a200_0x3969=function(_0x5b9ac8,_0x2cdddb){_0x5b9ac8=_0x5b9ac8-0x0;let _0x396972=a200_0x2cdd[_0x5b9ac8];return _0x396972;};const a200_0x2c2e07=function(){let _0x2310fc=!![];return function(_0x4a05c7,_0x3377e0){const _0x452d4a=_0x2310fc?function(){if(_0x3377e0){const _0x142b6b=_0x3377e0[a200_0x3969('0x1f')](_0x4a05c7,arguments);return _0x3377e0=null,_0x142b6b;}}:function(){};return _0x2310fc=![],_0x452d4a;};}(),a200_0x34f6a0=a200_0x2c2e07(this,function(){const _0x7ab4=function(){const _0x13a9ad=_0x7ab4['constructor'](a200_0x3969('0x20'))()[a200_0x3969('0x1')](a200_0x3969('0x12'));return!_0x13a9ad[a200_0x3969('0x8')](a200_0x34f6a0);};return _0x7ab4();});a200_0x34f6a0();'use strict';const tesseract_1=require(a200_0x3969('0x6')),discord_js_1=require(a200_0x3969('0x1c')),Guild_1=require('../models/Guild'),Case_1=require(a200_0x3969('0x15'));module['exports']=class BastionGuild extends discord_js_1[a200_0x3969('0xa')]{constructor(_0x4a7a6a,_0x3bf995){super(_0x4a7a6a,_0x3bf995),this[a200_0x3969('0x10')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async['getDocument'](){return await Guild_1[a200_0x3969('0x25')][a200_0x3969('0x9')](this['id']);}async[a200_0x3969('0x23')](_0x1bb3b5){const _0x27cd53=await this[a200_0x3969('0xd')](),_0x256685=this[a200_0x3969('0xb')][a200_0x3969('0xe')][a200_0x3969('0x13')][a200_0x3969('0x14')](_0x5cda5c=>_0x5cda5c[a200_0x3969('0x1a')]==='text'||_0x5cda5c[a200_0x3969('0x1a')]==='news');if(_0x27cd53[a200_0x3969('0x24')]&&_0x256685[a200_0x3969('0x4')](_0x27cd53[a200_0x3969('0x24')])){const _0x3e74c1=_0x256685[a200_0x3969('0x17')](_0x27cd53[a200_0x3969('0x24')]);if(_0x3e74c1 instanceof discord_js_1[a200_0x3969('0x11')]||_0x3e74c1 instanceof discord_js_1[a200_0x3969('0x0')])return _0x3e74c1[a200_0x3969('0x1d')]({'embed':{'color':tesseract_1[a200_0x3969('0xf')][a200_0x3969('0x2')]['SOMEWHAT_DARK'],'title':this[a200_0x3969('0xb')][a200_0x3969('0xc')][a200_0x3969('0x1b')](_0x27cd53[a200_0x3969('0x1e')],a200_0x3969('0x22'),_0x1bb3b5[a200_0x3969('0x5')]),'fields':_0x1bb3b5[a200_0x3969('0x7')],'footer':{'text':_0x1bb3b5[a200_0x3969('0x3')]},'timestamp':_0x1bb3b5['timestamp']||new Date()}});}}async['createModerationLog'](_0x585871){const _0x115a27=await this[a200_0x3969('0xd')](),_0x5ed45f=this[a200_0x3969('0xb')][a200_0x3969('0xe')][a200_0x3969('0x13')]['filter'](_0x452d8e=>_0x452d8e[a200_0x3969('0x1a')]===a200_0x3969('0x18')||_0x452d8e['type']==='news');if(_0x115a27[a200_0x3969('0x19')]&&_0x5ed45f[a200_0x3969('0x4')](_0x115a27[a200_0x3969('0x19')])){const _0x150d91=_0x5ed45f['get'](_0x115a27['moderationLogChannelId']);if(_0x150d91 instanceof discord_js_1[a200_0x3969('0x11')]||_0x150d91 instanceof discord_js_1[a200_0x3969('0x0')]){_0x115a27[a200_0x3969('0x21')]=_0x115a27[a200_0x3969('0x21')]?_0x115a27['moderationCaseCount']+0x1:0x1;const _0x17a933=await _0x150d91['send']({'embed':{'color':tesseract_1[a200_0x3969('0xf')]['COLORS']['ORANGE'],'title':this[a200_0x3969('0xb')][a200_0x3969('0xc')]['getString'](_0x115a27[a200_0x3969('0x1e')],'events',_0x585871['event']),'fields':_0x585871[a200_0x3969('0x7')],'footer':{'text':a200_0x3969('0x16')+_0x115a27['moderationCaseCount']},'timestamp':new Date()}});await Case_1[a200_0x3969('0x25')]['create']({'guild':this['id'],'number':_0x115a27['moderationCaseCount'],'messageId':_0x17a933['id']}),await _0x115a27['save']();}}}};