const a206_0x1565=['moderationCaseCount','client','return\x20/\x22\x20+\x20this\x20+\x20\x22/','NewsChannel','fields','discord.js','timestamp','get','constructor','serverLogChannelId','getString','Guild','event','footer','ORANGE','exports','events','create','text','type','send','channels','SOMEWHAT_DARK','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','createLog','getDocument','TextChannel','music','moderationLogChannelId','cache','COLORS','filter','language','Constants','default','../models/Guild','@bastion/tesseract','findById','save','locale'];(function(_0x4cbb2c,_0x15657f){const _0x16cb0a=function(_0x2b79be){while(--_0x2b79be){_0x4cbb2c['push'](_0x4cbb2c['shift']());}},_0x5ca725=function(){const _0x56f490={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e0f63,_0xb6566d,_0xaf5860,_0x2cf055){_0x2cf055=_0x2cf055||{};let _0x504553=_0xb6566d+'='+_0xaf5860,_0x2d862a=0x0;for(let _0x88910=0x0,_0x32ef40=_0x4e0f63['length'];_0x88910<_0x32ef40;_0x88910++){const _0x367e1f=_0x4e0f63[_0x88910];_0x504553+=';\x20'+_0x367e1f;const _0x4a737b=_0x4e0f63[_0x367e1f];_0x4e0f63['push'](_0x4a737b),_0x32ef40=_0x4e0f63['length'],_0x4a737b!==!![]&&(_0x504553+='='+_0x4a737b);}_0x2cf055['cookie']=_0x504553;},'removeCookie':function(){return'dev';},'getCookie':function(_0x193258,_0x3107d9){_0x193258=_0x193258||function(_0x3f2157){return _0x3f2157;};const _0x444722=_0x193258(new RegExp('(?:^|;\x20)'+_0x3107d9['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5b1c49=function(_0xcfee9d,_0x2beca5){_0xcfee9d(++_0x2beca5);};return _0x5b1c49(_0x16cb0a,_0x15657f),_0x444722?decodeURIComponent(_0x444722[0x1]):undefined;}},_0x4a27bf=function(){const _0x1e8f80=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e8f80['test'](_0x56f490['removeCookie']['toString']());};_0x56f490['updateCookie']=_0x4a27bf;let _0x411a85='';const _0x5bf214=_0x56f490['updateCookie']();if(!_0x5bf214)_0x56f490['setCookie'](['*'],'counter',0x1);else _0x5bf214?_0x411a85=_0x56f490['getCookie'](null,'counter'):_0x56f490['removeCookie']();};_0x5ca725();}(a206_0x1565,0x1a6));const a206_0x16cb=function(_0x4cbb2c,_0x15657f){_0x4cbb2c=_0x4cbb2c-0x0;let _0x16cb0a=a206_0x1565[_0x4cbb2c];return _0x16cb0a;};const a206_0xaf5860=function(){let _0x56aaae=!![];return function(_0x55f860,_0x36794d){const _0x10c467=_0x56aaae?function(){if(_0x36794d){const _0x18282a=_0x36794d['apply'](_0x55f860,arguments);return _0x36794d=null,_0x18282a;}}:function(){};return _0x56aaae=![],_0x10c467;};}(),a206_0xb6566d=a206_0xaf5860(this,function(){const _0x2febfc=function(){const _0xc1e1f8=_0x2febfc[a206_0x16cb('0x1a')](a206_0x16cb('0x14'))()[a206_0x16cb('0x1a')](a206_0x16cb('0x1'));return!_0xc1e1f8['test'](a206_0xb6566d);};return _0x2febfc();});a206_0xb6566d();'use strict';const tesseract_1=require(a206_0x16cb('0xe')),discord_js_1=require(a206_0x16cb('0x17')),Guild_1=require(a206_0x16cb('0xd')),Case_1=require('../models/Case');module[a206_0x16cb('0x21')]=class BastionGuild extends discord_js_1[a206_0x16cb('0x1d')]{constructor(_0x5d4343,_0x5e6a73){super(_0x5d4343,_0x5e6a73),this[a206_0x16cb('0x5')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a206_0x16cb('0x3')](){return await Guild_1['default'][a206_0x16cb('0xf')](this['id']);}async[a206_0x16cb('0x2')](_0x5afca1){const _0x349023=await this['getDocument'](),_0x4b3acb=this[a206_0x16cb('0x13')]['channels'][a206_0x16cb('0x7')]['filter'](_0x45c08c=>_0x45c08c[a206_0x16cb('0x25')]===a206_0x16cb('0x24')||_0x45c08c[a206_0x16cb('0x25')]==='news');if(_0x349023[a206_0x16cb('0x1b')]&&_0x4b3acb['has'](_0x349023[a206_0x16cb('0x1b')])){const _0x6bf269=_0x4b3acb[a206_0x16cb('0x19')](_0x349023[a206_0x16cb('0x1b')]);if(_0x6bf269 instanceof discord_js_1[a206_0x16cb('0x15')]||_0x6bf269 instanceof discord_js_1[a206_0x16cb('0x4')])return _0x6bf269[a206_0x16cb('0x26')]({'embed':{'color':tesseract_1['Constants'][a206_0x16cb('0x8')][a206_0x16cb('0x0')],'title':this[a206_0x16cb('0x13')][a206_0x16cb('0x11')]['getString'](_0x349023[a206_0x16cb('0xa')],a206_0x16cb('0x22'),_0x5afca1[a206_0x16cb('0x1e')]),'fields':_0x5afca1[a206_0x16cb('0x16')],'footer':{'text':_0x5afca1[a206_0x16cb('0x1f')]},'timestamp':_0x5afca1[a206_0x16cb('0x18')]||new Date()}});}}async['createModerationLog'](_0x4ecbb8){const _0x2243df=await this[a206_0x16cb('0x3')](),_0x2f0d9b=this[a206_0x16cb('0x13')][a206_0x16cb('0x27')]['cache'][a206_0x16cb('0x9')](_0x467c34=>_0x467c34[a206_0x16cb('0x25')]===a206_0x16cb('0x24')||_0x467c34[a206_0x16cb('0x25')]==='news');if(_0x2243df[a206_0x16cb('0x6')]&&_0x2f0d9b['has'](_0x2243df[a206_0x16cb('0x6')])){const _0x5ab6b1=_0x2f0d9b[a206_0x16cb('0x19')](_0x2243df['moderationLogChannelId']);if(_0x5ab6b1 instanceof discord_js_1[a206_0x16cb('0x15')]||_0x5ab6b1 instanceof discord_js_1[a206_0x16cb('0x4')]){_0x2243df[a206_0x16cb('0x12')]=_0x2243df[a206_0x16cb('0x12')]?_0x2243df[a206_0x16cb('0x12')]+0x1:0x1;const _0x421a16=await _0x5ab6b1[a206_0x16cb('0x26')]({'embed':{'color':tesseract_1[a206_0x16cb('0xb')][a206_0x16cb('0x8')][a206_0x16cb('0x20')],'title':this['client'][a206_0x16cb('0x11')][a206_0x16cb('0x1c')](_0x2243df['language'],'events',_0x4ecbb8['event']),'fields':_0x4ecbb8[a206_0x16cb('0x16')],'footer':{'text':'Case\x20#'+_0x2243df[a206_0x16cb('0x12')]},'timestamp':new Date()}});await Case_1[a206_0x16cb('0xc')][a206_0x16cb('0x23')]({'guild':this['id'],'number':_0x2243df[a206_0x16cb('0x12')],'messageId':_0x421a16['id']}),await _0x2243df[a206_0x16cb('0x10')]();}}}};