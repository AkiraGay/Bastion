const a204_0x2179=['apply','constructor','get','getString','client','discord.js','COLORS','exports','createLog','channels','moderationLogChannelId','@bastion/tesseract','language','send','../models/Guild','news','event','TextChannel','timestamp','filter','SOMEWHAT_DARK','Guild','fields','has','NewsChannel','Constants','text','save','locale','ORANGE','moderationCaseCount','music','events','create','type','../models/Case','test','cache','findById','serverLogChannelId','getDocument','default','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x213cf0,_0x217907){const _0x459a9d=function(_0x31746b){while(--_0x31746b){_0x213cf0['push'](_0x213cf0['shift']());}},_0x145391=function(){const _0x39c15c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xc51e0d,_0x363248,_0x2d39d1,_0x3b450c){_0x3b450c=_0x3b450c||{};let _0x3e3b75=_0x363248+'='+_0x2d39d1,_0x40582c=0x0;for(let _0x2e430b=0x0,_0x1a9b22=_0xc51e0d['length'];_0x2e430b<_0x1a9b22;_0x2e430b++){const _0x51408b=_0xc51e0d[_0x2e430b];_0x3e3b75+=';\x20'+_0x51408b;const _0x23a87a=_0xc51e0d[_0x51408b];_0xc51e0d['push'](_0x23a87a),_0x1a9b22=_0xc51e0d['length'],_0x23a87a!==!![]&&(_0x3e3b75+='='+_0x23a87a);}_0x3b450c['cookie']=_0x3e3b75;},'removeCookie':function(){return'dev';},'getCookie':function(_0x38fc05,_0xaaf02f){_0x38fc05=_0x38fc05||function(_0x32c6da){return _0x32c6da;};const _0x38e7fd=_0x38fc05(new RegExp('(?:^|;\x20)'+_0xaaf02f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xf3fbaf=function(_0x256c4a,_0x44ea6a){_0x256c4a(++_0x44ea6a);};return _0xf3fbaf(_0x459a9d,_0x217907),_0x38e7fd?decodeURIComponent(_0x38e7fd[0x1]):undefined;}},_0x29cacc=function(){const _0x1bee19=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1bee19['test'](_0x39c15c['removeCookie']['toString']());};_0x39c15c['updateCookie']=_0x29cacc;let _0x5d1af6='';const _0x41b930=_0x39c15c['updateCookie']();if(!_0x41b930)_0x39c15c['setCookie'](['*'],'counter',0x1);else _0x41b930?_0x5d1af6=_0x39c15c['getCookie'](null,'counter'):_0x39c15c['removeCookie']();};_0x145391();}(a204_0x2179,0xef));const a204_0x459a=function(_0x213cf0,_0x217907){_0x213cf0=_0x213cf0-0x0;let _0x459a9d=a204_0x2179[_0x213cf0];return _0x459a9d;};const a204_0x2d39d1=function(){let _0xd1a046=!![];return function(_0x51a9de,_0xaec18d){const _0x49858d=_0xd1a046?function(){if(_0xaec18d){const _0x3bf3ac=_0xaec18d[a204_0x459a('0x13')](_0x51a9de,arguments);return _0xaec18d=null,_0x3bf3ac;}}:function(){};return _0xd1a046=![],_0x49858d;};}(),a204_0x363248=a204_0x2d39d1(this,function(){const _0x714bf5=function(){const _0x7687cb=_0x714bf5[a204_0x459a('0x14')](a204_0x459a('0x12'))()[a204_0x459a('0x14')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x7687cb[a204_0x459a('0xc')](a204_0x363248);};return _0x714bf5();});a204_0x363248();'use strict';const tesseract_1=require(a204_0x459a('0x1e')),discord_js_1=require(a204_0x459a('0x18')),Guild_1=require(a204_0x459a('0x21')),Case_1=require(a204_0x459a('0xb'));module[a204_0x459a('0x1a')]=class BastionGuild extends discord_js_1[a204_0x459a('0x28')]{constructor(_0x11fa59,_0x4469ee){super(_0x11fa59,_0x4469ee),this[a204_0x459a('0x7')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a204_0x459a('0x10')](){return await Guild_1[a204_0x459a('0x11')][a204_0x459a('0xe')](this['id']);}async[a204_0x459a('0x1b')](_0x27d430){const _0xde9081=await this['getDocument'](),_0xd6800a=this[a204_0x459a('0x17')][a204_0x459a('0x1c')]['cache'][a204_0x459a('0x26')](_0x7542b6=>_0x7542b6[a204_0x459a('0xa')]===a204_0x459a('0x2')||_0x7542b6[a204_0x459a('0xa')]===a204_0x459a('0x22'));if(_0xde9081[a204_0x459a('0xf')]&&_0xd6800a['has'](_0xde9081['serverLogChannelId'])){const _0x595b7f=_0xd6800a[a204_0x459a('0x15')](_0xde9081[a204_0x459a('0xf')]);if(_0x595b7f instanceof discord_js_1[a204_0x459a('0x0')]||_0x595b7f instanceof discord_js_1[a204_0x459a('0x24')])return _0x595b7f[a204_0x459a('0x20')]({'embed':{'color':tesseract_1[a204_0x459a('0x1')][a204_0x459a('0x19')][a204_0x459a('0x27')],'title':this[a204_0x459a('0x17')][a204_0x459a('0x4')][a204_0x459a('0x16')](_0xde9081[a204_0x459a('0x1f')],'events',_0x27d430[a204_0x459a('0x23')]),'fields':_0x27d430[a204_0x459a('0x29')],'footer':{'text':_0x27d430['footer']},'timestamp':_0x27d430[a204_0x459a('0x25')]||new Date()}});}}async['createModerationLog'](_0x4159b0){const _0x54c7db=await this[a204_0x459a('0x10')](),_0x56df97=this[a204_0x459a('0x17')]['channels'][a204_0x459a('0xd')][a204_0x459a('0x26')](_0x5310e4=>_0x5310e4[a204_0x459a('0xa')]===a204_0x459a('0x2')||_0x5310e4['type']===a204_0x459a('0x22'));if(_0x54c7db[a204_0x459a('0x1d')]&&_0x56df97[a204_0x459a('0x2a')](_0x54c7db[a204_0x459a('0x1d')])){const _0x207a72=_0x56df97[a204_0x459a('0x15')](_0x54c7db['moderationLogChannelId']);if(_0x207a72 instanceof discord_js_1['NewsChannel']||_0x207a72 instanceof discord_js_1[a204_0x459a('0x24')]){_0x54c7db[a204_0x459a('0x6')]=_0x54c7db['moderationCaseCount']?_0x54c7db[a204_0x459a('0x6')]+0x1:0x1;const _0x4c2dec=await _0x207a72[a204_0x459a('0x20')]({'embed':{'color':tesseract_1[a204_0x459a('0x1')][a204_0x459a('0x19')][a204_0x459a('0x5')],'title':this['client'][a204_0x459a('0x4')][a204_0x459a('0x16')](_0x54c7db[a204_0x459a('0x1f')],a204_0x459a('0x8'),_0x4159b0[a204_0x459a('0x23')]),'fields':_0x4159b0[a204_0x459a('0x29')],'footer':{'text':'Case\x20#'+_0x54c7db[a204_0x459a('0x6')]},'timestamp':new Date()}});await Case_1['default'][a204_0x459a('0x9')]({'guild':this['id'],'number':_0x54c7db[a204_0x459a('0x6')],'messageId':_0x4c2dec['id']}),await _0x54c7db[a204_0x459a('0x3')]();}}}};