const a219_0x295f=['fields','discord.js','Constants','moderationCaseCount','music','findById','getDocument','exports','create','../models/Guild','../models/Case','get','send','return\x20/\x22\x20+\x20this\x20+\x20\x22/','has','locale','constructor','NewsChannel','createModerationLog','COLORS','serverLogChannelId','invites','Guild','filter','footer','client','channels','test','cache','event','SOMEWHAT_DARK','default','events','ORANGE','apply','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','TextChannel','@bastion/tesseract','language','text','moderationLogChannelId','type','timestamp','news','getString'];(function(_0x13e73e,_0x295f0e){const _0x4449fb=function(_0x33ca81){while(--_0x33ca81){_0x13e73e['push'](_0x13e73e['shift']());}},_0x16c71f=function(){const _0x57fbd4={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1c8b09,_0x2dc15e,_0x11338f,_0x2d1aa7){_0x2d1aa7=_0x2d1aa7||{};let _0xee7288=_0x2dc15e+'='+_0x11338f,_0x3ec518=0x0;for(let _0xbaf563=0x0,_0x4ca519=_0x1c8b09['length'];_0xbaf563<_0x4ca519;_0xbaf563++){const _0x546b09=_0x1c8b09[_0xbaf563];_0xee7288+=';\x20'+_0x546b09;const _0x5a48b7=_0x1c8b09[_0x546b09];_0x1c8b09['push'](_0x5a48b7),_0x4ca519=_0x1c8b09['length'],_0x5a48b7!==!![]&&(_0xee7288+='='+_0x5a48b7);}_0x2d1aa7['cookie']=_0xee7288;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1c4a68,_0x219b6e){_0x1c4a68=_0x1c4a68||function(_0x129898){return _0x129898;};const _0x102e87=_0x1c4a68(new RegExp('(?:^|;\x20)'+_0x219b6e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x688254=function(_0x248f3a,_0xe6e31e){_0x248f3a(++_0xe6e31e);};return _0x688254(_0x4449fb,_0x295f0e),_0x102e87?decodeURIComponent(_0x102e87[0x1]):undefined;}},_0x5ce52f=function(){const _0x4f3227=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4f3227['test'](_0x57fbd4['removeCookie']['toString']());};_0x57fbd4['updateCookie']=_0x5ce52f;let _0x1d64b6='';const _0x108e47=_0x57fbd4['updateCookie']();if(!_0x108e47)_0x57fbd4['setCookie'](['*'],'counter',0x1);else _0x108e47?_0x1d64b6=_0x57fbd4['getCookie'](null,'counter'):_0x57fbd4['removeCookie']();};_0x16c71f();}(a219_0x295f,0x95));const a219_0x4449=function(_0x13e73e,_0x295f0e){_0x13e73e=_0x13e73e-0x0;let _0x4449fb=a219_0x295f[_0x13e73e];return _0x4449fb;};const _0x25d96c=a219_0x4449,a219_0x57fbd4=function(){let _0x1d64b6=!![];return function(_0x108e47,_0x1c8b09){const _0x2dc15e=_0x1d64b6?function(){const _0x2564a5=a219_0x4449;if(_0x1c8b09){const _0x11338f=_0x1c8b09[_0x2564a5('0x14')](_0x108e47,arguments);return _0x1c8b09=null,_0x11338f;}}:function(){};return _0x1d64b6=![],_0x2dc15e;};}(),a219_0x33ca81=a219_0x57fbd4(this,function(){const _0x2d1aa7=function(){const _0x33f9f5=a219_0x4449,_0xee7288=_0x2d1aa7[_0x33f9f5('0x2')](_0x33f9f5('0x2c'))()[_0x33f9f5('0x2')](_0x33f9f5('0x15'));return!_0xee7288[_0x33f9f5('0xd')](a219_0x33ca81);};return _0x2d1aa7();});a219_0x33ca81();'use strict';const tesseract_1=require(_0x25d96c('0x17')),discord_js_1=require(_0x25d96c('0x20')),Guild_1=require(_0x25d96c('0x28')),Case_1=require(_0x25d96c('0x29'));module[_0x25d96c('0x26')]=class BastionGuild extends discord_js_1[_0x25d96c('0x8')]{constructor(_0x3ec518,_0xbaf563){const _0x406d60=_0x25d96c;super(_0x3ec518,_0xbaf563),this[_0x406d60('0x23')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[_0x406d60('0x7')]={};}async[_0x25d96c('0x25')](){const _0x5b5647=_0x25d96c;return await Guild_1['default'][_0x5b5647('0x24')](this['id']);}async['createLog'](_0x4ca519){const _0x4c2559=_0x25d96c,_0x546b09=await this['getDocument'](),_0x5a48b7=this['client'][_0x4c2559('0xc')][_0x4c2559('0xe')]['filter'](_0x1c4a68=>_0x1c4a68[_0x4c2559('0x1b')]===_0x4c2559('0x19')||_0x1c4a68[_0x4c2559('0x1b')]===_0x4c2559('0x1d'));if(_0x546b09[_0x4c2559('0x6')]&&_0x5a48b7[_0x4c2559('0x0')](_0x546b09[_0x4c2559('0x6')])){const _0x219b6e=_0x5a48b7[_0x4c2559('0x2a')](_0x546b09[_0x4c2559('0x6')]);if(_0x219b6e instanceof discord_js_1[_0x4c2559('0x3')]||_0x219b6e instanceof discord_js_1[_0x4c2559('0x16')])return _0x219b6e[_0x4c2559('0x2b')]({'embed':{'color':tesseract_1[_0x4c2559('0x21')][_0x4c2559('0x5')][_0x4c2559('0x10')],'title':this[_0x4c2559('0xb')][_0x4c2559('0x1')][_0x4c2559('0x1e')](_0x546b09['language'],'events',_0x4ca519[_0x4c2559('0xf')]),'fields':_0x4ca519[_0x4c2559('0x1f')],'footer':{'text':_0x4ca519[_0x4c2559('0xa')]},'timestamp':_0x4ca519[_0x4c2559('0x1c')]||new Date()}});}}async[_0x25d96c('0x4')](_0x102e87){const _0x21ec51=_0x25d96c,_0x688254=await this[_0x21ec51('0x25')](),_0x129898=this['client']['channels'][_0x21ec51('0xe')][_0x21ec51('0x9')](_0x248f3a=>_0x248f3a['type']===_0x21ec51('0x19')||_0x248f3a[_0x21ec51('0x1b')]===_0x21ec51('0x1d'));if(_0x688254['moderationLogChannelId']&&_0x129898[_0x21ec51('0x0')](_0x688254['moderationLogChannelId'])){const _0xe6e31e=_0x129898[_0x21ec51('0x2a')](_0x688254[_0x21ec51('0x1a')]);if(_0xe6e31e instanceof discord_js_1[_0x21ec51('0x3')]||_0xe6e31e instanceof discord_js_1[_0x21ec51('0x16')]){_0x688254['moderationCaseCount']=_0x688254[_0x21ec51('0x22')]?_0x688254[_0x21ec51('0x22')]+0x1:0x1;const _0x4f3227=await _0xe6e31e[_0x21ec51('0x2b')]({'embed':{'color':tesseract_1[_0x21ec51('0x21')][_0x21ec51('0x5')][_0x21ec51('0x13')],'title':this[_0x21ec51('0xb')][_0x21ec51('0x1')]['getString'](_0x688254[_0x21ec51('0x18')],_0x21ec51('0x12'),_0x102e87[_0x21ec51('0xf')]),'fields':_0x102e87[_0x21ec51('0x1f')],'footer':{'text':'Case\x20#'+_0x688254['moderationCaseCount']},'timestamp':new Date()}});await Case_1[_0x21ec51('0x11')][_0x21ec51('0x27')]({'guild':this['id'],'number':_0x688254[_0x21ec51('0x22')],'messageId':_0x4f3227['id']}),await _0x688254['save']();}}}};