const a197_0x1a12=['discord.js','news','create','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/Guild','events','getString','COLORS','compile','test','apply','Constants','fields','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','NewsChannel','ORANGE','has','moderationCaseCount','language','serverLogChannelId','@bastion/tesseract','SOMEWHAT_DARK','music','getDocument','type','constructor','timestamp','findById','save','moderationLogChannelId','channels','default','Case\x20#','event','get','text','cache','locale','../models/Case','createLog','TextChannel','filter','client'];(function(_0x2aae8d,_0x1a123b){const _0x3f57f5=function(_0x38db1d){while(--_0x38db1d){_0x2aae8d['push'](_0x2aae8d['shift']());}};const _0x18625e=function(){const _0x5ee760={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x8d21ed,_0x142936,_0x45e3d9,_0x312359){_0x312359=_0x312359||{};let _0x3b8801=_0x142936+'='+_0x45e3d9;let _0x1eb729=0x0;for(let _0x239324=0x0,_0x2bfd01=_0x8d21ed['length'];_0x239324<_0x2bfd01;_0x239324++){const _0x48eed1=_0x8d21ed[_0x239324];_0x3b8801+=';\x20'+_0x48eed1;const _0x56ce44=_0x8d21ed[_0x48eed1];_0x8d21ed['push'](_0x56ce44);_0x2bfd01=_0x8d21ed['length'];if(_0x56ce44!==!![]){_0x3b8801+='='+_0x56ce44;}}_0x312359['cookie']=_0x3b8801;},'removeCookie':function(){return'dev';},'getCookie':function(_0x20e168,_0x54c512){_0x20e168=_0x20e168||function(_0x342a53){return _0x342a53;};const _0x7d230f=_0x20e168(new RegExp('(?:^|;\x20)'+_0x54c512['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x4256b5=function(_0x1c44bc,_0x293bed){_0x1c44bc(++_0x293bed);};_0x4256b5(_0x3f57f5,_0x1a123b);return _0x7d230f?decodeURIComponent(_0x7d230f[0x1]):undefined;}};const _0x1be606=function(){const _0x52becf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x52becf['test'](_0x5ee760['removeCookie']['toString']());};_0x5ee760['updateCookie']=_0x1be606;let _0x3d1df9='';const _0x24f9ea=_0x5ee760['updateCookie']();if(!_0x24f9ea){_0x5ee760['setCookie'](['*'],'counter',0x1);}else if(_0x24f9ea){_0x3d1df9=_0x5ee760['getCookie'](null,'counter');}else{_0x5ee760['removeCookie']();}};_0x18625e();}(a197_0x1a12,0x117));const a197_0x3f57=function(_0x2aae8d,_0x1a123b){_0x2aae8d=_0x2aae8d-0x0;let _0x3f57f5=a197_0x1a12[_0x2aae8d];return _0x3f57f5;};const a197_0x5ee760=function(){let _0x3d310d=!![];return function(_0x59b68d,_0x25ed25){const _0x2cbcc0=_0x3d310d?function(){if(_0x25ed25){const _0x25ffbe=_0x25ed25[a197_0x3f57('0x20')](_0x59b68d,arguments);_0x25ed25=null;return _0x25ffbe;}}:function(){};_0x3d310d=![];return _0x2cbcc0;};}();const a197_0x38db1d=a197_0x5ee760(this,function(){const _0x20efdc=function(){const _0x3d5258=_0x20efdc[a197_0x3f57('0x4')](a197_0x3f57('0x19'))()[a197_0x3f57('0x1e')](a197_0x3f57('0x23'));return!_0x3d5258[a197_0x3f57('0x1f')](a197_0x38db1d);};return _0x20efdc();});a197_0x38db1d();'use strict';const tesseract_1=require(a197_0x3f57('0x2a'));const discord_js_1=require(a197_0x3f57('0x16'));const Guild_1=require(a197_0x3f57('0x1a'));const Case_1=require(a197_0x3f57('0x11'));module['exports']=class BastionGuild extends discord_js_1['Guild']{constructor(_0x111af9,_0x35be19){super(_0x111af9,_0x35be19);this[a197_0x3f57('0x1')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async['getDocument'](){return await Guild_1[a197_0x3f57('0xa')][a197_0x3f57('0x6')](this['id']);}async[a197_0x3f57('0x12')](_0x125167){const _0x12018c=await this[a197_0x3f57('0x2')]();const _0x2bc559=this[a197_0x3f57('0x15')]['channels'][a197_0x3f57('0xf')][a197_0x3f57('0x14')](_0x209142=>_0x209142[a197_0x3f57('0x3')]===a197_0x3f57('0xe')||_0x209142[a197_0x3f57('0x3')]===a197_0x3f57('0x17'));if(_0x12018c[a197_0x3f57('0x29')]&&_0x2bc559['has'](_0x12018c[a197_0x3f57('0x29')])){const _0x3bf0e8=_0x2bc559[a197_0x3f57('0xd')](_0x12018c[a197_0x3f57('0x29')]);if(_0x3bf0e8 instanceof discord_js_1[a197_0x3f57('0x24')]||_0x3bf0e8 instanceof discord_js_1['TextChannel']){return _0x3bf0e8['send']({'embed':{'color':tesseract_1[a197_0x3f57('0x21')][a197_0x3f57('0x1d')][a197_0x3f57('0x0')],'title':this[a197_0x3f57('0x15')][a197_0x3f57('0x10')][a197_0x3f57('0x1c')](_0x12018c[a197_0x3f57('0x28')],a197_0x3f57('0x1b'),_0x125167[a197_0x3f57('0xc')]),'fields':_0x125167[a197_0x3f57('0x22')],'footer':{'text':_0x125167['footer']},'timestamp':_0x125167[a197_0x3f57('0x5')]||new Date()}});}}}async['createModerationLog'](_0x307b58){const _0x4eac67=await this[a197_0x3f57('0x2')]();const _0x5c2eef=this[a197_0x3f57('0x15')][a197_0x3f57('0x9')][a197_0x3f57('0xf')]['filter'](_0x2bf91=>_0x2bf91[a197_0x3f57('0x3')]==='text'||_0x2bf91['type']===a197_0x3f57('0x17'));if(_0x4eac67['moderationLogChannelId']&&_0x5c2eef[a197_0x3f57('0x26')](_0x4eac67['moderationLogChannelId'])){const _0x120759=_0x5c2eef[a197_0x3f57('0xd')](_0x4eac67[a197_0x3f57('0x8')]);if(_0x120759 instanceof discord_js_1[a197_0x3f57('0x24')]||_0x120759 instanceof discord_js_1[a197_0x3f57('0x13')]){_0x4eac67[a197_0x3f57('0x27')]=_0x4eac67[a197_0x3f57('0x27')]?_0x4eac67[a197_0x3f57('0x27')]+0x1:0x1;const _0x4afebf=await _0x120759['send']({'embed':{'color':tesseract_1['Constants'][a197_0x3f57('0x1d')][a197_0x3f57('0x25')],'title':this[a197_0x3f57('0x15')]['locale'][a197_0x3f57('0x1c')](_0x4eac67[a197_0x3f57('0x28')],a197_0x3f57('0x1b'),_0x307b58[a197_0x3f57('0xc')]),'fields':_0x307b58[a197_0x3f57('0x22')],'footer':{'text':a197_0x3f57('0xb')+_0x4eac67['moderationCaseCount']},'timestamp':new Date()}});await Case_1[a197_0x3f57('0xa')][a197_0x3f57('0x18')]({'guild':this['id'],'number':_0x4eac67[a197_0x3f57('0x27')],'messageId':_0x4afebf['id']});await _0x4eac67[a197_0x3f57('0x7')]();}}}};