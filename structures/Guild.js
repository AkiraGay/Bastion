const a228_0xfad3=['save','118463ydIKDQ','moderationCaseCount','channels','1poiWhJ','events','288641SEYOos','has','COLORS','Constants','text','exports','fields','getDocument','moderationLogChannelId','SOMEWHAT_DARK','constructor','type','1aNLnJx','createLog','createModerationLog','1756MKfKGV','17234BHjsrd','return\x20/\x22\x20+\x20this\x20+\x20\x22/','14tAyzBU','TextChannel','Guild','131PCsqOD','178032ZoDtuk','locale','default','test','filter','footer','get','client','@bastion/tesseract','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','649152TaVDZK','ORANGE','cache','news','send','245084tmBjSU','create','invites','language','serverLogChannelId','Case\x20#','NewsChannel','apply'];const a228_0x42aa=function(_0x54bab4,_0xcda43){_0x54bab4=_0x54bab4-0x197;let _0x3f5bc3=a228_0xfad3[_0x54bab4];return _0x3f5bc3;};const a228_0x360c5b=a228_0x42aa;(function(_0x4b3526,_0x4536a6){const _0x32a25d=a228_0x42aa;while(!![]){try{const _0x15b9a6=parseInt(_0x32a25d(0x19f))*-parseInt(_0x32a25d(0x1a5))+parseInt(_0x32a25d(0x1a0))*-parseInt(_0x32a25d(0x1a2))+-parseInt(_0x32a25d(0x1c3))*-parseInt(_0x32a25d(0x1c1))+-parseInt(_0x32a25d(0x19c))*parseInt(_0x32a25d(0x1b5))+parseInt(_0x32a25d(0x1be))+-parseInt(_0x32a25d(0x1a6))+parseInt(_0x32a25d(0x1b0));if(_0x15b9a6===_0x4536a6)break;else _0x4b3526['push'](_0x4b3526['shift']());}catch(_0x5802f7){_0x4b3526['push'](_0x4b3526['shift']());}}}(a228_0xfad3,0x27824));const a228_0x1aeeb7=function(){let _0x2d5afc=!![];return function(_0x41d687,_0x1764e){const _0x21efad=_0x2d5afc?function(){const _0x2f32b9=a228_0x42aa;if(_0x1764e){const _0x5f3c4f=_0x1764e[_0x2f32b9(0x1bc)](_0x41d687,arguments);return _0x1764e=null,_0x5f3c4f;}}:function(){};return _0x2d5afc=![],_0x21efad;};}(),a228_0x31fb15=a228_0x1aeeb7(this,function(){const _0x78fa08=function(){const _0x3fdaec=a228_0x42aa,_0x2054f5=_0x78fa08[_0x3fdaec(0x19a)](_0x3fdaec(0x1a1))()[_0x3fdaec(0x19a)](_0x3fdaec(0x1af));return!_0x2054f5[_0x3fdaec(0x1a9)](a228_0x31fb15);};return _0x78fa08();});a228_0x31fb15();'use strict';const tesseract_1=require(a228_0x360c5b(0x1ae)),discord_js_1=require('discord.js'),Guild_1=require('../models/Guild'),Case_1=require('../models/Case');module[a228_0x360c5b(0x1c8)]=class BastionGuild extends discord_js_1[a228_0x360c5b(0x1a4)]{constructor(_0x1192e3,_0x655e63){const _0x661bcd=a228_0x360c5b;super(_0x1192e3,_0x655e63),this['music']={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[_0x661bcd(0x1b7)]={};}async['getDocument'](){const _0x5e369d=a228_0x360c5b;return await Guild_1[_0x5e369d(0x1a8)]['findById'](this['id']);}async[a228_0x360c5b(0x19d)](_0xc690c9){const _0x2e2451=a228_0x360c5b,_0x2c1627=await this['getDocument'](),_0x168969=this[_0x2e2451(0x1ad)][_0x2e2451(0x1c0)]['cache'][_0x2e2451(0x1aa)](_0x389caa=>_0x389caa[_0x2e2451(0x19b)]==='text'||_0x389caa['type']===_0x2e2451(0x1b3));if(_0x2c1627[_0x2e2451(0x1b9)]&&_0x168969[_0x2e2451(0x1c4)](_0x2c1627['serverLogChannelId'])){const _0x145e0f=_0x168969[_0x2e2451(0x1ac)](_0x2c1627[_0x2e2451(0x1b9)]);if(_0x145e0f instanceof discord_js_1[_0x2e2451(0x1bb)]||_0x145e0f instanceof discord_js_1[_0x2e2451(0x1a3)])return _0x145e0f[_0x2e2451(0x1b4)]({'embed':{'color':tesseract_1[_0x2e2451(0x1c6)]['COLORS'][_0x2e2451(0x199)],'title':this[_0x2e2451(0x1ad)][_0x2e2451(0x1a7)]['getString'](_0x2c1627[_0x2e2451(0x1b8)],'events',_0xc690c9['event']),'fields':_0xc690c9['fields'],'footer':{'text':_0xc690c9[_0x2e2451(0x1ab)]},'timestamp':_0xc690c9['timestamp']||new Date()}});}}async[a228_0x360c5b(0x19e)](_0x364d95){const _0x2a90d4=a228_0x360c5b,_0x412f4d=await this[_0x2a90d4(0x197)](),_0x20f722=this[_0x2a90d4(0x1ad)][_0x2a90d4(0x1c0)][_0x2a90d4(0x1b2)]['filter'](_0x3dfc91=>_0x3dfc91[_0x2a90d4(0x19b)]===_0x2a90d4(0x1c7)||_0x3dfc91[_0x2a90d4(0x19b)]===_0x2a90d4(0x1b3));if(_0x412f4d['moderationLogChannelId']&&_0x20f722[_0x2a90d4(0x1c4)](_0x412f4d['moderationLogChannelId'])){const _0x1cb093=_0x20f722[_0x2a90d4(0x1ac)](_0x412f4d[_0x2a90d4(0x198)]);if(_0x1cb093 instanceof discord_js_1['NewsChannel']||_0x1cb093 instanceof discord_js_1['TextChannel']){_0x412f4d[_0x2a90d4(0x1bf)]=_0x412f4d['moderationCaseCount']?_0x412f4d[_0x2a90d4(0x1bf)]+0x1:0x1;const _0x176a28=await _0x1cb093[_0x2a90d4(0x1b4)]({'embed':{'color':tesseract_1[_0x2a90d4(0x1c6)][_0x2a90d4(0x1c5)][_0x2a90d4(0x1b1)],'title':this[_0x2a90d4(0x1ad)]['locale']['getString'](_0x412f4d['language'],_0x2a90d4(0x1c2),_0x364d95['event']),'fields':_0x364d95[_0x2a90d4(0x1c9)],'footer':{'text':_0x2a90d4(0x1ba)+_0x412f4d['moderationCaseCount']},'timestamp':new Date()}});await Case_1[_0x2a90d4(0x1a8)][_0x2a90d4(0x1b6)]({'guild':this['id'],'number':_0x412f4d[_0x2a90d4(0x1bf)],'messageId':_0x176a28['id']}),await _0x412f4d[_0x2a90d4(0x1bd)]();}}}};