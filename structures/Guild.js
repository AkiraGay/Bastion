const a227_0x3775=['cache','constructor','@bastion/tesseract','client','apply','locale','filter','createModerationLog','COLORS','../models/Case','text','getString','serverLogChannelId','language','discord.js','findById','type','event','create','moderationCaseCount','Constants','fields','send','../models/Guild','moderationLogChannelId','get','TextChannel','exports','timestamp','default','return\x20/\x22\x20+\x20this\x20+\x20\x22/','events','invites','SOMEWHAT_DARK','channels','NewsChannel','footer','createLog','save','has','news','getDocument'];(function(_0x56c430,_0x4382da){const _0x377500=function(_0x373439){while(--_0x373439){_0x56c430['push'](_0x56c430['shift']());}},_0x508980=function(){const _0x4f4688={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x263b6b,_0x270bfd,_0x52c0a6,_0x4e13a6){_0x4e13a6=_0x4e13a6||{};let _0x1e5f7a=_0x270bfd+'='+_0x52c0a6,_0x28a7b6=0x0;for(let _0x336910=0x0,_0x3dba83=_0x263b6b['length'];_0x336910<_0x3dba83;_0x336910++){const _0x1b32a1=_0x263b6b[_0x336910];_0x1e5f7a+=';\x20'+_0x1b32a1;const _0x312a98=_0x263b6b[_0x1b32a1];_0x263b6b['push'](_0x312a98),_0x3dba83=_0x263b6b['length'],_0x312a98!==!![]&&(_0x1e5f7a+='='+_0x312a98);}_0x4e13a6['cookie']=_0x1e5f7a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x50f3ee,_0x57cb76){_0x50f3ee=_0x50f3ee||function(_0x52cfb3){return _0x52cfb3;};const _0x53edb2=_0x50f3ee(new RegExp('(?:^|;\x20)'+_0x57cb76['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xa9f00=function(_0x34852b,_0x14bbf9){_0x34852b(++_0x14bbf9);};return _0xa9f00(_0x377500,_0x4382da),_0x53edb2?decodeURIComponent(_0x53edb2[0x1]):undefined;}},_0x3739de=function(){const _0x119605=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x119605['test'](_0x4f4688['removeCookie']['toString']());};_0x4f4688['updateCookie']=_0x3739de;let _0x23e9b3='';const _0xc65afa=_0x4f4688['updateCookie']();if(!_0xc65afa)_0x4f4688['setCookie'](['*'],'counter',0x1);else _0xc65afa?_0x23e9b3=_0x4f4688['getCookie'](null,'counter'):_0x4f4688['removeCookie']();};_0x508980();}(a227_0x3775,0x187));const a227_0x5089=function(_0x56c430,_0x4382da){_0x56c430=_0x56c430-0x7c;let _0x377500=a227_0x3775[_0x56c430];return _0x377500;};const a227_0x4e100e=a227_0x5089,a227_0x3739de=function(){let _0xc65afa=!![];return function(_0x263b6b,_0x270bfd){const _0x52c0a6=_0xc65afa?function(){const _0x33e8b0=a227_0x5089;if(_0x270bfd){const _0x4e13a6=_0x270bfd[_0x33e8b0(0x9d)](_0x263b6b,arguments);return _0x270bfd=null,_0x4e13a6;}}:function(){};return _0xc65afa=![],_0x52c0a6;};}(),a227_0x4f4688=a227_0x3739de(this,function(){const _0x1e5f7a=function(){const _0x30400d=a227_0x5089,_0x28a7b6=_0x1e5f7a[_0x30400d(0x9a)](_0x30400d(0x8d))()[_0x30400d(0x9a)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x28a7b6['test'](a227_0x4f4688);};return _0x1e5f7a();});a227_0x4f4688();'use strict';const tesseract_1=require(a227_0x4e100e(0x9b)),discord_js_1=require(a227_0x4e100e(0x7d)),Guild_1=require(a227_0x4e100e(0x86)),Case_1=require(a227_0x4e100e(0xa2));module[a227_0x4e100e(0x8a)]=class BastionGuild extends discord_js_1['Guild']{constructor(_0x336910,_0x3dba83){const _0xef2219=a227_0x4e100e;super(_0x336910,_0x3dba83),this['music']={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[_0xef2219(0x8f)]={};}async[a227_0x4e100e(0x98)](){const _0x219c3a=a227_0x4e100e;return await Guild_1[_0x219c3a(0x8c)][_0x219c3a(0x7e)](this['id']);}async[a227_0x4e100e(0x94)](_0x1b32a1){const _0x2241c3=a227_0x4e100e,_0x312a98=await this['getDocument'](),_0x50f3ee=this[_0x2241c3(0x9c)][_0x2241c3(0x91)][_0x2241c3(0x99)]['filter'](_0x57cb76=>_0x57cb76[_0x2241c3(0x7f)]===_0x2241c3(0xa3)||_0x57cb76[_0x2241c3(0x7f)]===_0x2241c3(0x97));if(_0x312a98[_0x2241c3(0xa5)]&&_0x50f3ee['has'](_0x312a98['serverLogChannelId'])){const _0x53edb2=_0x50f3ee[_0x2241c3(0x88)](_0x312a98[_0x2241c3(0xa5)]);if(_0x53edb2 instanceof discord_js_1[_0x2241c3(0x92)]||_0x53edb2 instanceof discord_js_1['TextChannel'])return _0x53edb2[_0x2241c3(0x85)]({'embed':{'color':tesseract_1['Constants']['COLORS'][_0x2241c3(0x90)],'title':this[_0x2241c3(0x9c)]['locale'][_0x2241c3(0xa4)](_0x312a98[_0x2241c3(0x7c)],'events',_0x1b32a1[_0x2241c3(0x80)]),'fields':_0x1b32a1[_0x2241c3(0x84)],'footer':{'text':_0x1b32a1[_0x2241c3(0x93)]},'timestamp':_0x1b32a1[_0x2241c3(0x8b)]||new Date()}});}}async[a227_0x4e100e(0xa0)](_0xa9f00){const _0x1ec1b7=a227_0x4e100e,_0x52cfb3=await this[_0x1ec1b7(0x98)](),_0x34852b=this['client'][_0x1ec1b7(0x91)][_0x1ec1b7(0x99)][_0x1ec1b7(0x9f)](_0x14bbf9=>_0x14bbf9[_0x1ec1b7(0x7f)]==='text'||_0x14bbf9['type']===_0x1ec1b7(0x97));if(_0x52cfb3[_0x1ec1b7(0x87)]&&_0x34852b[_0x1ec1b7(0x96)](_0x52cfb3[_0x1ec1b7(0x87)])){const _0x119605=_0x34852b[_0x1ec1b7(0x88)](_0x52cfb3[_0x1ec1b7(0x87)]);if(_0x119605 instanceof discord_js_1['NewsChannel']||_0x119605 instanceof discord_js_1[_0x1ec1b7(0x89)]){_0x52cfb3[_0x1ec1b7(0x82)]=_0x52cfb3[_0x1ec1b7(0x82)]?_0x52cfb3['moderationCaseCount']+0x1:0x1;const _0x21d8b4=await _0x119605['send']({'embed':{'color':tesseract_1[_0x1ec1b7(0x83)][_0x1ec1b7(0xa1)]['ORANGE'],'title':this[_0x1ec1b7(0x9c)][_0x1ec1b7(0x9e)][_0x1ec1b7(0xa4)](_0x52cfb3[_0x1ec1b7(0x7c)],_0x1ec1b7(0x8e),_0xa9f00['event']),'fields':_0xa9f00[_0x1ec1b7(0x84)],'footer':{'text':'Case\x20#'+_0x52cfb3['moderationCaseCount']},'timestamp':new Date()}});await Case_1[_0x1ec1b7(0x8c)][_0x1ec1b7(0x81)]({'guild':this['id'],'number':_0x52cfb3[_0x1ec1b7(0x82)],'messageId':_0x21d8b4['id']}),await _0x52cfb3[_0x1ec1b7(0x95)]();}}}};