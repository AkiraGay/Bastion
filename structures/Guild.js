const a197_0x39e7=['compile','moderationLogChannelId','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','createModerationLog','getDocument','default','language','save','TextChannel','Constants','type','SOMEWHAT_DARK','../models/Guild','client','music','has','channels','Case\x20#','create','exports','getString','event','../models/Case','timestamp','fields','NewsChannel','locale','test','send','createLog','@bastion/tesseract','text','apply','COLORS','discord.js','get','moderationCaseCount','serverLogChannelId','cache','Guild','filter','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x217b46,_0x39e750){const _0x103385=function(_0xcdd3ff){while(--_0xcdd3ff){_0x217b46['push'](_0x217b46['shift']());}};const _0x34015e=function(){const _0xa7058={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3cf923,_0xec569c,_0x3cd685,_0x18464d){_0x18464d=_0x18464d||{};let _0x3e34ca=_0xec569c+'='+_0x3cd685;let _0x3775ab=0x0;for(let _0x46f375=0x0,_0x17f047=_0x3cf923['length'];_0x46f375<_0x17f047;_0x46f375++){const _0x10d142=_0x3cf923[_0x46f375];_0x3e34ca+=';\x20'+_0x10d142;const _0x304f53=_0x3cf923[_0x10d142];_0x3cf923['push'](_0x304f53);_0x17f047=_0x3cf923['length'];if(_0x304f53!==!![]){_0x3e34ca+='='+_0x304f53;}}_0x18464d['cookie']=_0x3e34ca;},'removeCookie':function(){return'dev';},'getCookie':function(_0x161b48,_0x2d77ff){_0x161b48=_0x161b48||function(_0x1f9048){return _0x1f9048;};const _0x252d21=_0x161b48(new RegExp('(?:^|;\x20)'+_0x2d77ff['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5b609b=function(_0x2d33d6,_0xb4b7b6){_0x2d33d6(++_0xb4b7b6);};_0x5b609b(_0x103385,_0x39e750);return _0x252d21?decodeURIComponent(_0x252d21[0x1]):undefined;}};const _0x5474da=function(){const _0x5289fd=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5289fd['test'](_0xa7058['removeCookie']['toString']());};_0xa7058['updateCookie']=_0x5474da;let _0x30800d='';const _0x4be8f7=_0xa7058['updateCookie']();if(!_0x4be8f7){_0xa7058['setCookie'](['*'],'counter',0x1);}else if(_0x4be8f7){_0x30800d=_0xa7058['getCookie'](null,'counter');}else{_0xa7058['removeCookie']();}};_0x34015e();}(a197_0x39e7,0x6c));const a197_0x1033=function(_0x217b46,_0x39e750){_0x217b46=_0x217b46-0x0;let _0x103385=a197_0x39e7[_0x217b46];return _0x103385;};const a197_0xa7058=function(){let _0x71c755=!![];return function(_0x3ce352,_0x2fbb30){const _0x5aeca1=_0x71c755?function(){if(_0x2fbb30){const _0x19f4c8=_0x2fbb30[a197_0x1033('0x8')](_0x3ce352,arguments);_0x2fbb30=null;return _0x19f4c8;}}:function(){};_0x71c755=![];return _0x5aeca1;};}();const a197_0xcdd3ff=a197_0xa7058(this,function(){const _0x210064=function(){const _0x2ea040=_0x210064['constructor'](a197_0x1033('0x11'))()[a197_0x1033('0x12')](a197_0x1033('0x14'));return!_0x2ea040[a197_0x1033('0x3')](a197_0xcdd3ff);};return _0x210064();});a197_0xcdd3ff();'use strict';const tesseract_1=require(a197_0x1033('0x6'));const discord_js_1=require(a197_0x1033('0xa'));const Guild_1=require(a197_0x1033('0x1e'));const Case_1=require(a197_0x1033('0x28'));module[a197_0x1033('0x25')]=class BastionGuild extends discord_js_1[a197_0x1033('0xf')]{constructor(_0x59ad0e,_0xa93336){super(_0x59ad0e,_0xa93336);this[a197_0x1033('0x20')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a197_0x1033('0x16')](){return await Guild_1[a197_0x1033('0x17')]['findById'](this['id']);}async[a197_0x1033('0x5')](_0x533866){const _0x73c145=await this[a197_0x1033('0x16')]();const _0x3e9599=this[a197_0x1033('0x1f')]['channels'][a197_0x1033('0xe')][a197_0x1033('0x10')](_0x4c580d=>_0x4c580d[a197_0x1033('0x1c')]===a197_0x1033('0x7')||_0x4c580d[a197_0x1033('0x1c')]==='news');if(_0x73c145[a197_0x1033('0xd')]&&_0x3e9599[a197_0x1033('0x21')](_0x73c145[a197_0x1033('0xd')])){const _0x52d0a7=_0x3e9599['get'](_0x73c145[a197_0x1033('0xd')]);if(_0x52d0a7 instanceof discord_js_1[a197_0x1033('0x1')]||_0x52d0a7 instanceof discord_js_1[a197_0x1033('0x1a')]){return _0x52d0a7[a197_0x1033('0x4')]({'embed':{'color':tesseract_1[a197_0x1033('0x1b')][a197_0x1033('0x9')][a197_0x1033('0x1d')],'title':this[a197_0x1033('0x1f')]['locale'][a197_0x1033('0x26')](_0x73c145[a197_0x1033('0x18')],'events',_0x533866['event']),'fields':_0x533866[a197_0x1033('0x0')],'footer':{'text':_0x533866['footer']},'timestamp':_0x533866[a197_0x1033('0x29')]||new Date()}});}}}async[a197_0x1033('0x15')](_0x8baa2d){const _0x1cfea3=await this[a197_0x1033('0x16')]();const _0x1b4420=this[a197_0x1033('0x1f')][a197_0x1033('0x22')][a197_0x1033('0xe')][a197_0x1033('0x10')](_0x1b2eaa=>_0x1b2eaa[a197_0x1033('0x1c')]===a197_0x1033('0x7')||_0x1b2eaa[a197_0x1033('0x1c')]==='news');if(_0x1cfea3[a197_0x1033('0x13')]&&_0x1b4420[a197_0x1033('0x21')](_0x1cfea3[a197_0x1033('0x13')])){const _0x46fe51=_0x1b4420[a197_0x1033('0xb')](_0x1cfea3[a197_0x1033('0x13')]);if(_0x46fe51 instanceof discord_js_1[a197_0x1033('0x1')]||_0x46fe51 instanceof discord_js_1[a197_0x1033('0x1a')]){_0x1cfea3[a197_0x1033('0xc')]=_0x1cfea3[a197_0x1033('0xc')]?_0x1cfea3[a197_0x1033('0xc')]+0x1:0x1;const _0x4e82bb=await _0x46fe51[a197_0x1033('0x4')]({'embed':{'color':tesseract_1[a197_0x1033('0x1b')][a197_0x1033('0x9')]['ORANGE'],'title':this[a197_0x1033('0x1f')][a197_0x1033('0x2')][a197_0x1033('0x26')](_0x1cfea3[a197_0x1033('0x18')],'events',_0x8baa2d[a197_0x1033('0x27')]),'fields':_0x8baa2d[a197_0x1033('0x0')],'footer':{'text':a197_0x1033('0x23')+_0x1cfea3[a197_0x1033('0xc')]},'timestamp':new Date()}});await Case_1[a197_0x1033('0x17')][a197_0x1033('0x24')]({'guild':this['id'],'number':_0x1cfea3[a197_0x1033('0xc')],'messageId':_0x4e82bb['id']});await _0x1cfea3[a197_0x1033('0x19')]();}}}};