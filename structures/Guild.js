const a210_0x307c=['findById','test','constructor','TextChannel','text','COLORS','client','createModerationLog','moderationLogChannelId','fields','get','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','apply','language','default','moderationCaseCount','type','Constants','locale','return\x20/\x22\x20+\x20this\x20+\x20\x22/','discord.js','invites','../models/Guild','NewsChannel','serverLogChannelId','event','cache','has','filter','events','timestamp','exports','getString','createLog','news','@bastion/tesseract','channels','../models/Case','getDocument','save','send'];(function(_0x382e91,_0x307c5){const _0x45d9c0=function(_0x31a221){while(--_0x31a221){_0x382e91['push'](_0x382e91['shift']());}},_0x770662=function(){const _0x4214d5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x15dcf5,_0x195ba3,_0x475665,_0x3a66ed){_0x3a66ed=_0x3a66ed||{};let _0x5826fd=_0x195ba3+'='+_0x475665,_0x13bf38=0x0;for(let _0x37acb8=0x0,_0x48357d=_0x15dcf5['length'];_0x37acb8<_0x48357d;_0x37acb8++){const _0x3f5735=_0x15dcf5[_0x37acb8];_0x5826fd+=';\x20'+_0x3f5735;const _0x1e5fb6=_0x15dcf5[_0x3f5735];_0x15dcf5['push'](_0x1e5fb6),_0x48357d=_0x15dcf5['length'],_0x1e5fb6!==!![]&&(_0x5826fd+='='+_0x1e5fb6);}_0x3a66ed['cookie']=_0x5826fd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2af923,_0x186622){_0x2af923=_0x2af923||function(_0x2f22c7){return _0x2f22c7;};const _0x172359=_0x2af923(new RegExp('(?:^|;\x20)'+_0x186622['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3dcd8d=function(_0x4ab1ea,_0x4de63a){_0x4ab1ea(++_0x4de63a);};return _0x3dcd8d(_0x45d9c0,_0x307c5),_0x172359?decodeURIComponent(_0x172359[0x1]):undefined;}},_0x2e3582=function(){const _0x51a275=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x51a275['test'](_0x4214d5['removeCookie']['toString']());};_0x4214d5['updateCookie']=_0x2e3582;let _0x23353f='';const _0x46af04=_0x4214d5['updateCookie']();if(!_0x46af04)_0x4214d5['setCookie'](['*'],'counter',0x1);else _0x46af04?_0x23353f=_0x4214d5['getCookie'](null,'counter'):_0x4214d5['removeCookie']();};_0x770662();}(a210_0x307c,0x150));const a210_0x45d9=function(_0x382e91,_0x307c5){_0x382e91=_0x382e91-0x0;let _0x45d9c0=a210_0x307c[_0x382e91];return _0x45d9c0;};const a210_0x4214d5=function(){let _0x23353f=!![];return function(_0x46af04,_0x15dcf5){const _0x195ba3=_0x23353f?function(){if(_0x15dcf5){const _0x475665=_0x15dcf5[a210_0x45d9('0x4')](_0x46af04,arguments);return _0x15dcf5=null,_0x475665;}}:function(){};return _0x23353f=![],_0x195ba3;};}(),a210_0x31a221=a210_0x4214d5(this,function(){const _0x3a66ed=function(){const _0x5826fd=_0x3a66ed[a210_0x45d9('0x23')](a210_0x45d9('0xb'))()['constructor'](a210_0x45d9('0x3'));return!_0x5826fd[a210_0x45d9('0x22')](a210_0x31a221);};return _0x3a66ed();});a210_0x31a221();'use strict';const tesseract_1=require(a210_0x45d9('0x1b')),discord_js_1=require(a210_0x45d9('0xc')),Guild_1=require(a210_0x45d9('0xe')),Case_1=require(a210_0x45d9('0x1d'));module[a210_0x45d9('0x17')]=class BastionGuild extends discord_js_1['Guild']{constructor(_0x13bf38,_0x37acb8){super(_0x13bf38,_0x37acb8),this['music']={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[a210_0x45d9('0xd')]={};}async[a210_0x45d9('0x1e')](){return await Guild_1['default'][a210_0x45d9('0x21')](this['id']);}async[a210_0x45d9('0x19')](_0x48357d){const _0x3f5735=await this[a210_0x45d9('0x1e')](),_0x1e5fb6=this[a210_0x45d9('0x27')][a210_0x45d9('0x1c')][a210_0x45d9('0x12')][a210_0x45d9('0x14')](_0x2af923=>_0x2af923['type']==='text'||_0x2af923[a210_0x45d9('0x8')]===a210_0x45d9('0x1a'));if(_0x3f5735['serverLogChannelId']&&_0x1e5fb6[a210_0x45d9('0x13')](_0x3f5735['serverLogChannelId'])){const _0x186622=_0x1e5fb6['get'](_0x3f5735[a210_0x45d9('0x10')]);if(_0x186622 instanceof discord_js_1[a210_0x45d9('0xf')]||_0x186622 instanceof discord_js_1[a210_0x45d9('0x24')])return _0x186622[a210_0x45d9('0x20')]({'embed':{'color':tesseract_1['Constants'][a210_0x45d9('0x26')]['SOMEWHAT_DARK'],'title':this[a210_0x45d9('0x27')]['locale']['getString'](_0x3f5735['language'],'events',_0x48357d['event']),'fields':_0x48357d[a210_0x45d9('0x1')],'footer':{'text':_0x48357d['footer']},'timestamp':_0x48357d[a210_0x45d9('0x16')]||new Date()}});}}async[a210_0x45d9('0x28')](_0x172359){const _0x3dcd8d=await this[a210_0x45d9('0x1e')](),_0x2f22c7=this[a210_0x45d9('0x27')]['channels'][a210_0x45d9('0x12')][a210_0x45d9('0x14')](_0x4ab1ea=>_0x4ab1ea['type']===a210_0x45d9('0x25')||_0x4ab1ea[a210_0x45d9('0x8')]===a210_0x45d9('0x1a'));if(_0x3dcd8d[a210_0x45d9('0x0')]&&_0x2f22c7[a210_0x45d9('0x13')](_0x3dcd8d['moderationLogChannelId'])){const _0x4de63a=_0x2f22c7[a210_0x45d9('0x2')](_0x3dcd8d[a210_0x45d9('0x0')]);if(_0x4de63a instanceof discord_js_1['NewsChannel']||_0x4de63a instanceof discord_js_1[a210_0x45d9('0x24')]){_0x3dcd8d['moderationCaseCount']=_0x3dcd8d[a210_0x45d9('0x7')]?_0x3dcd8d[a210_0x45d9('0x7')]+0x1:0x1;const _0x51a275=await _0x4de63a[a210_0x45d9('0x20')]({'embed':{'color':tesseract_1[a210_0x45d9('0x9')][a210_0x45d9('0x26')]['ORANGE'],'title':this[a210_0x45d9('0x27')][a210_0x45d9('0xa')][a210_0x45d9('0x18')](_0x3dcd8d[a210_0x45d9('0x5')],a210_0x45d9('0x15'),_0x172359[a210_0x45d9('0x11')]),'fields':_0x172359[a210_0x45d9('0x1')],'footer':{'text':'Case\x20#'+_0x3dcd8d[a210_0x45d9('0x7')]},'timestamp':new Date()}});await Case_1[a210_0x45d9('0x6')]['create']({'guild':this['id'],'number':_0x3dcd8d[a210_0x45d9('0x7')],'messageId':_0x51a275['id']}),await _0x3dcd8d[a210_0x45d9('0x1f')]();}}}};