const a196_0x152d=['createLog','footer','default','serverLogChannelId','getDocument','Guild','fields','events','findById','cache','timestamp','get','create','moderationCaseCount','save','filter','createModerationLog','COLORS','locale','constructor','TextChannel','channels','news','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','discord.js','exports','music','Constants','NewsChannel','moderationLogChannelId','event','client','text','../models/Guild','has','apply','getString','compile','return\x20/\x22\x20+\x20this\x20+\x20\x22/','ORANGE','type'];(function(_0x4e01d6,_0x152dc4){const _0x4bbcb2=function(_0x255674){while(--_0x255674){_0x4e01d6['push'](_0x4e01d6['shift']());}};const _0x4217a5=function(){const _0x235152={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xfa5492,_0x1174c7,_0x189ba7,_0x57b66a){_0x57b66a=_0x57b66a||{};let _0x5c9fe6=_0x1174c7+'='+_0x189ba7;let _0x75fef4=0x0;for(let _0x1368f2=0x0,_0x4b4227=_0xfa5492['length'];_0x1368f2<_0x4b4227;_0x1368f2++){const _0x14729a=_0xfa5492[_0x1368f2];_0x5c9fe6+=';\x20'+_0x14729a;const _0x4723e5=_0xfa5492[_0x14729a];_0xfa5492['push'](_0x4723e5);_0x4b4227=_0xfa5492['length'];if(_0x4723e5!==!![]){_0x5c9fe6+='='+_0x4723e5;}}_0x57b66a['cookie']=_0x5c9fe6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19c394,_0x3e957d){_0x19c394=_0x19c394||function(_0x2bcf84){return _0x2bcf84;};const _0x1d5476=_0x19c394(new RegExp('(?:^|;\x20)'+_0x3e957d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2afe73=function(_0x54683a,_0x3720f1){_0x54683a(++_0x3720f1);};_0x2afe73(_0x4bbcb2,_0x152dc4);return _0x1d5476?decodeURIComponent(_0x1d5476[0x1]):undefined;}};const _0x36336d=function(){const _0x50139d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x50139d['test'](_0x235152['removeCookie']['toString']());};_0x235152['updateCookie']=_0x36336d;let _0x97336f='';const _0x385cea=_0x235152['updateCookie']();if(!_0x385cea){_0x235152['setCookie'](['*'],'counter',0x1);}else if(_0x385cea){_0x97336f=_0x235152['getCookie'](null,'counter');}else{_0x235152['removeCookie']();}};_0x4217a5();}(a196_0x152d,0x1ab));const a196_0x4bbc=function(_0x4e01d6,_0x152dc4){_0x4e01d6=_0x4e01d6-0x0;let _0x4bbcb2=a196_0x152d[_0x4e01d6];return _0x4bbcb2;};const a196_0x235152=function(){let _0x3cc16e=!![];return function(_0x1bdf60,_0xe5fd0a){const _0xd33faa=_0x3cc16e?function(){if(_0xe5fd0a){const _0x4c0d92=_0xe5fd0a[a196_0x4bbc('0x12')](_0x1bdf60,arguments);_0xe5fd0a=null;return _0x4c0d92;}}:function(){};_0x3cc16e=![];return _0xd33faa;};}();const a196_0x255674=a196_0x235152(this,function(){const _0x3d99df=function(){const _0xd89c8a=_0x3d99df[a196_0x4bbc('0x2')](a196_0x4bbc('0x15'))()[a196_0x4bbc('0x14')](a196_0x4bbc('0x6'));return!_0xd89c8a['test'](a196_0x255674);};return _0x3d99df();});a196_0x255674();'use strict';const tesseract_1=require('@bastion/tesseract');const discord_js_1=require(a196_0x4bbc('0x7'));const Guild_1=require(a196_0x4bbc('0x10'));const Case_1=require('../models/Case');module[a196_0x4bbc('0x8')]=class BastionGuild extends discord_js_1[a196_0x4bbc('0x1d')]{constructor(_0x35ec67,_0x35c91e){super(_0x35ec67,_0x35c91e);this[a196_0x4bbc('0x9')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a196_0x4bbc('0x1c')](){return await Guild_1[a196_0x4bbc('0x1a')][a196_0x4bbc('0x20')](this['id']);}async[a196_0x4bbc('0x18')](_0x48d657){const _0x229e5c=await this['getDocument']();const _0x31efc2=this[a196_0x4bbc('0xe')]['channels']['cache'][a196_0x4bbc('0x27')](_0x59c128=>_0x59c128[a196_0x4bbc('0x17')]===a196_0x4bbc('0xf')||_0x59c128[a196_0x4bbc('0x17')]===a196_0x4bbc('0x5'));if(_0x229e5c['serverLogChannelId']&&_0x31efc2[a196_0x4bbc('0x11')](_0x229e5c[a196_0x4bbc('0x1b')])){const _0x4d4386=_0x31efc2[a196_0x4bbc('0x23')](_0x229e5c[a196_0x4bbc('0x1b')]);if(_0x4d4386 instanceof discord_js_1[a196_0x4bbc('0xb')]||_0x4d4386 instanceof discord_js_1[a196_0x4bbc('0x3')]){return _0x4d4386['send']({'embed':{'color':tesseract_1[a196_0x4bbc('0xa')]['COLORS']['SOMEWHAT_DARK'],'title':this[a196_0x4bbc('0xe')][a196_0x4bbc('0x1')][a196_0x4bbc('0x13')](_0x229e5c['language'],a196_0x4bbc('0x1f'),_0x48d657['event']),'fields':_0x48d657[a196_0x4bbc('0x1e')],'footer':{'text':_0x48d657[a196_0x4bbc('0x19')]},'timestamp':_0x48d657[a196_0x4bbc('0x22')]||new Date()}});}}}async[a196_0x4bbc('0x28')](_0x10e0e7){const _0x41ff0d=await this[a196_0x4bbc('0x1c')]();const _0x3ce66a=this[a196_0x4bbc('0xe')][a196_0x4bbc('0x4')][a196_0x4bbc('0x21')]['filter'](_0x5323b2=>_0x5323b2[a196_0x4bbc('0x17')]===a196_0x4bbc('0xf')||_0x5323b2['type']===a196_0x4bbc('0x5'));if(_0x41ff0d['moderationLogChannelId']&&_0x3ce66a[a196_0x4bbc('0x11')](_0x41ff0d[a196_0x4bbc('0xc')])){const _0x2a7151=_0x3ce66a[a196_0x4bbc('0x23')](_0x41ff0d[a196_0x4bbc('0xc')]);if(_0x2a7151 instanceof discord_js_1['NewsChannel']||_0x2a7151 instanceof discord_js_1['TextChannel']){_0x41ff0d[a196_0x4bbc('0x25')]=_0x41ff0d[a196_0x4bbc('0x25')]?_0x41ff0d[a196_0x4bbc('0x25')]+0x1:0x1;const _0x3c5450=await _0x2a7151['send']({'embed':{'color':tesseract_1[a196_0x4bbc('0xa')][a196_0x4bbc('0x0')][a196_0x4bbc('0x16')],'title':this[a196_0x4bbc('0xe')][a196_0x4bbc('0x1')][a196_0x4bbc('0x13')](_0x41ff0d['language'],a196_0x4bbc('0x1f'),_0x10e0e7[a196_0x4bbc('0xd')]),'fields':_0x10e0e7[a196_0x4bbc('0x1e')],'footer':{'text':'Case\x20#'+_0x41ff0d[a196_0x4bbc('0x25')]},'timestamp':new Date()}});await Case_1[a196_0x4bbc('0x1a')][a196_0x4bbc('0x24')]({'guild':this['id'],'number':_0x41ff0d['moderationCaseCount'],'messageId':_0x3c5450['id']});await _0x41ff0d[a196_0x4bbc('0x26')]();}}}};