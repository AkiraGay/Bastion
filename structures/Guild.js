const a196_0x110e=['../models/Case','apply','TextChannel','language','getString','moderationCaseCount','../models/Guild','NewsChannel','findById','default','fields','@bastion/tesseract','create','locale','cache','COLORS','save','ORANGE','Constants','channels','serverLogChannelId','getDocument','client','timestamp','text','filter','news','footer','events','test','return\x20/\x22\x20+\x20this\x20+\x20\x22/','moderationLogChannelId','type','exports','has','event','get','send','createLog','music','constructor'];(function(_0x5897c6,_0x110e59){const _0x27e501=function(_0x24a532){while(--_0x24a532){_0x5897c6['push'](_0x5897c6['shift']());}};const _0x4a765a=function(){const _0x4ae74c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x234bb7,_0x5b78cb,_0x5daae8,_0x41ac23){_0x41ac23=_0x41ac23||{};let _0x165829=_0x5b78cb+'='+_0x5daae8;let _0x4f282f=0x0;for(let _0x3baec3=0x0,_0x395876=_0x234bb7['length'];_0x3baec3<_0x395876;_0x3baec3++){const _0x1bd09f=_0x234bb7[_0x3baec3];_0x165829+=';\x20'+_0x1bd09f;const _0x5c484c=_0x234bb7[_0x1bd09f];_0x234bb7['push'](_0x5c484c);_0x395876=_0x234bb7['length'];if(_0x5c484c!==!![]){_0x165829+='='+_0x5c484c;}}_0x41ac23['cookie']=_0x165829;},'removeCookie':function(){return'dev';},'getCookie':function(_0x26939,_0xf8d96a){_0x26939=_0x26939||function(_0x3d3b9c){return _0x3d3b9c;};const _0x21b9e3=_0x26939(new RegExp('(?:^|;\x20)'+_0xf8d96a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x453fd9=function(_0x4c3fa5,_0x342adf){_0x4c3fa5(++_0x342adf);};_0x453fd9(_0x27e501,_0x110e59);return _0x21b9e3?decodeURIComponent(_0x21b9e3[0x1]):undefined;}};const _0x54a7ae=function(){const _0xbc0f84=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xbc0f84['test'](_0x4ae74c['removeCookie']['toString']());};_0x4ae74c['updateCookie']=_0x54a7ae;let _0x16c6b1='';const _0x2dc89f=_0x4ae74c['updateCookie']();if(!_0x2dc89f){_0x4ae74c['setCookie'](['*'],'counter',0x1);}else if(_0x2dc89f){_0x16c6b1=_0x4ae74c['getCookie'](null,'counter');}else{_0x4ae74c['removeCookie']();}};_0x4a765a();}(a196_0x110e,0x1d8));const a196_0x27e5=function(_0x5897c6,_0x110e59){_0x5897c6=_0x5897c6-0x0;let _0x27e501=a196_0x110e[_0x5897c6];return _0x27e501;};const a196_0x4ae74c=function(){let _0x49bd9d=!![];return function(_0x1df16b,_0x5979b7){const _0x2275bb=_0x49bd9d?function(){if(_0x5979b7){const _0xb0df58=_0x5979b7[a196_0x27e5('0x15')](_0x1df16b,arguments);_0x5979b7=null;return _0xb0df58;}}:function(){};_0x49bd9d=![];return _0x2275bb;};}();const a196_0x24a532=a196_0x4ae74c(this,function(){const _0x20c205=function(){const _0xef320e=_0x20c205[a196_0x27e5('0x13')](a196_0x27e5('0x9'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xef320e[a196_0x27e5('0x8')](a196_0x24a532);};return _0x20c205();});a196_0x24a532();'use strict';const tesseract_1=require(a196_0x27e5('0x1f'));const discord_js_1=require('discord.js');const Guild_1=require(a196_0x27e5('0x1a'));const Case_1=require(a196_0x27e5('0x14'));module[a196_0x27e5('0xc')]=class BastionGuild extends discord_js_1['Guild']{constructor(_0x54292f,_0x2dfd2a){super(_0x54292f,_0x2dfd2a);this[a196_0x27e5('0x12')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a196_0x27e5('0x0')](){return await Guild_1[a196_0x27e5('0x1d')][a196_0x27e5('0x1c')](this['id']);}async[a196_0x27e5('0x11')](_0x51cb8c){const _0x4711b2=await this['getDocument']();const _0x411110=this[a196_0x27e5('0x1')][a196_0x27e5('0x27')][a196_0x27e5('0x22')][a196_0x27e5('0x4')](_0x13ebed=>_0x13ebed['type']===a196_0x27e5('0x3')||_0x13ebed[a196_0x27e5('0xb')]===a196_0x27e5('0x5'));if(_0x4711b2['serverLogChannelId']&&_0x411110[a196_0x27e5('0xd')](_0x4711b2['serverLogChannelId'])){const _0x1fb1df=_0x411110[a196_0x27e5('0xf')](_0x4711b2[a196_0x27e5('0x28')]);if(_0x1fb1df instanceof discord_js_1[a196_0x27e5('0x1b')]||_0x1fb1df instanceof discord_js_1[a196_0x27e5('0x16')]){return _0x1fb1df[a196_0x27e5('0x10')]({'embed':{'color':tesseract_1[a196_0x27e5('0x26')][a196_0x27e5('0x23')]['SOMEWHAT_DARK'],'title':this[a196_0x27e5('0x1')]['locale']['getString'](_0x4711b2[a196_0x27e5('0x17')],'events',_0x51cb8c['event']),'fields':_0x51cb8c['fields'],'footer':{'text':_0x51cb8c[a196_0x27e5('0x6')]},'timestamp':_0x51cb8c[a196_0x27e5('0x2')]||new Date()}});}}}async['createModerationLog'](_0x36ee2){const _0x104ede=await this[a196_0x27e5('0x0')]();const _0x1efcb8=this[a196_0x27e5('0x1')]['channels'][a196_0x27e5('0x22')][a196_0x27e5('0x4')](_0x2dcd8a=>_0x2dcd8a[a196_0x27e5('0xb')]===a196_0x27e5('0x3')||_0x2dcd8a['type']===a196_0x27e5('0x5'));if(_0x104ede['moderationLogChannelId']&&_0x1efcb8['has'](_0x104ede['moderationLogChannelId'])){const _0x2b6562=_0x1efcb8[a196_0x27e5('0xf')](_0x104ede[a196_0x27e5('0xa')]);if(_0x2b6562 instanceof discord_js_1[a196_0x27e5('0x1b')]||_0x2b6562 instanceof discord_js_1[a196_0x27e5('0x16')]){_0x104ede[a196_0x27e5('0x19')]=_0x104ede[a196_0x27e5('0x19')]?_0x104ede[a196_0x27e5('0x19')]+0x1:0x1;const _0x513d62=await _0x2b6562[a196_0x27e5('0x10')]({'embed':{'color':tesseract_1['Constants'][a196_0x27e5('0x23')][a196_0x27e5('0x25')],'title':this[a196_0x27e5('0x1')][a196_0x27e5('0x21')][a196_0x27e5('0x18')](_0x104ede[a196_0x27e5('0x17')],a196_0x27e5('0x7'),_0x36ee2[a196_0x27e5('0xe')]),'fields':_0x36ee2[a196_0x27e5('0x1e')],'footer':{'text':'Case\x20#'+_0x104ede['moderationCaseCount']},'timestamp':new Date()}});await Case_1[a196_0x27e5('0x1d')][a196_0x27e5('0x20')]({'guild':this['id'],'number':_0x104ede[a196_0x27e5('0x19')],'messageId':_0x513d62['id']});await _0x104ede[a196_0x27e5('0x24')]();}}}};