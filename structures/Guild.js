const a227_0x4082=['../models/Guild','Case\x20#','music','moderationLogChannelId','getDocument','serverLogChannelId','type','has','default','client','save','fields','TextChannel','events','Constants','createLog','@bastion/tesseract','getString','cache','Guild','SOMEWHAT_DARK','discord.js','constructor','locale','COLORS','event','send','../models/Case','return\x20/\x22\x20+\x20this\x20+\x20\x22/','news','moderationCaseCount','text','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channels','language','get','timestamp','create','NewsChannel','footer','exports','apply','createModerationLog','findById'];(function(_0x30e249,_0x572c83){const _0x408228=function(_0x725233){while(--_0x725233){_0x30e249['push'](_0x30e249['shift']());}},_0xa041af=function(){const _0x5b5a57={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4432a0,_0x462da4,_0x1641d2,_0x2c0fd4){_0x2c0fd4=_0x2c0fd4||{};let _0x20e3e1=_0x462da4+'='+_0x1641d2,_0x5e2441=0x0;for(let _0xd1a6a6=0x0,_0x14071e=_0x4432a0['length'];_0xd1a6a6<_0x14071e;_0xd1a6a6++){const _0x318995=_0x4432a0[_0xd1a6a6];_0x20e3e1+=';\x20'+_0x318995;const _0x4ceaec=_0x4432a0[_0x318995];_0x4432a0['push'](_0x4ceaec),_0x14071e=_0x4432a0['length'],_0x4ceaec!==!![]&&(_0x20e3e1+='='+_0x4ceaec);}_0x2c0fd4['cookie']=_0x20e3e1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x212bd2,_0x410081){_0x212bd2=_0x212bd2||function(_0x3001f4){return _0x3001f4;};const _0x49dfce=_0x212bd2(new RegExp('(?:^|;\x20)'+_0x410081['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4df895=function(_0x1a3ab6,_0x3f97af){_0x1a3ab6(++_0x3f97af);};return _0x4df895(_0x408228,_0x572c83),_0x49dfce?decodeURIComponent(_0x49dfce[0x1]):undefined;}},_0x253839=function(){const _0x14a297=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x14a297['test'](_0x5b5a57['removeCookie']['toString']());};_0x5b5a57['updateCookie']=_0x253839;let _0x4b4e0d='';const _0x22f564=_0x5b5a57['updateCookie']();if(!_0x22f564)_0x5b5a57['setCookie'](['*'],'counter',0x1);else _0x22f564?_0x4b4e0d=_0x5b5a57['getCookie'](null,'counter'):_0x5b5a57['removeCookie']();};_0xa041af();}(a227_0x4082,0x7b));const a227_0xa041=function(_0x30e249,_0x572c83){_0x30e249=_0x30e249-0x1e0;let _0x408228=a227_0x4082[_0x30e249];return _0x408228;};const a227_0x96862e=a227_0xa041,a227_0x253839=function(){let _0x22f564=!![];return function(_0x4432a0,_0x462da4){const _0x1641d2=_0x22f564?function(){const _0xb84d1a=a227_0xa041;if(_0x462da4){const _0x2c0fd4=_0x462da4[_0xb84d1a(0x1e6)](_0x4432a0,arguments);return _0x462da4=null,_0x2c0fd4;}}:function(){};return _0x22f564=![],_0x1641d2;};}(),a227_0x5b5a57=a227_0x253839(this,function(){const _0x20e3e1=function(){const _0x4a12f7=a227_0xa041,_0x5e2441=_0x20e3e1[_0x4a12f7(0x1ff)](_0x4a12f7(0x205))()[_0x4a12f7(0x1ff)](_0x4a12f7(0x209));return!_0x5e2441['test'](a227_0x5b5a57);};return _0x20e3e1();});a227_0x5b5a57();'use strict';const tesseract_1=require(a227_0x96862e(0x1f9)),discord_js_1=require(a227_0x96862e(0x1fe)),Guild_1=require(a227_0x96862e(0x1e9)),Case_1=require(a227_0x96862e(0x204));module[a227_0x96862e(0x1e5)]=class BastionGuild extends discord_js_1[a227_0x96862e(0x1fc)]{constructor(_0xd1a6a6,_0x14071e){const _0x1fa5aa=a227_0x96862e;super(_0xd1a6a6,_0x14071e),this[_0x1fa5aa(0x1eb)]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this['invites']={};}async[a227_0x96862e(0x1ed)](){const _0x328fe4=a227_0x96862e;return await Guild_1[_0x328fe4(0x1f1)][_0x328fe4(0x1e8)](this['id']);}async[a227_0x96862e(0x1f8)](_0x318995){const _0x16408a=a227_0x96862e,_0x4ceaec=await this[_0x16408a(0x1ed)](),_0x212bd2=this[_0x16408a(0x1f2)][_0x16408a(0x20a)][_0x16408a(0x1fb)]['filter'](_0x410081=>_0x410081[_0x16408a(0x1ef)]==='text'||_0x410081[_0x16408a(0x1ef)]==='news');if(_0x4ceaec['serverLogChannelId']&&_0x212bd2[_0x16408a(0x1f0)](_0x4ceaec['serverLogChannelId'])){const _0x49dfce=_0x212bd2['get'](_0x4ceaec[_0x16408a(0x1ee)]);if(_0x49dfce instanceof discord_js_1[_0x16408a(0x1e3)]||_0x49dfce instanceof discord_js_1[_0x16408a(0x1f5)])return _0x49dfce[_0x16408a(0x203)]({'embed':{'color':tesseract_1['Constants'][_0x16408a(0x201)][_0x16408a(0x1fd)],'title':this[_0x16408a(0x1f2)][_0x16408a(0x200)][_0x16408a(0x1fa)](_0x4ceaec['language'],_0x16408a(0x1f6),_0x318995[_0x16408a(0x202)]),'fields':_0x318995[_0x16408a(0x1f4)],'footer':{'text':_0x318995[_0x16408a(0x1e4)]},'timestamp':_0x318995[_0x16408a(0x1e1)]||new Date()}});}}async[a227_0x96862e(0x1e7)](_0x4df895){const _0x4ff6d9=a227_0x96862e,_0x3001f4=await this[_0x4ff6d9(0x1ed)](),_0x1a3ab6=this[_0x4ff6d9(0x1f2)][_0x4ff6d9(0x20a)]['cache']['filter'](_0x3f97af=>_0x3f97af[_0x4ff6d9(0x1ef)]===_0x4ff6d9(0x208)||_0x3f97af[_0x4ff6d9(0x1ef)]===_0x4ff6d9(0x206));if(_0x3001f4[_0x4ff6d9(0x1ec)]&&_0x1a3ab6[_0x4ff6d9(0x1f0)](_0x3001f4[_0x4ff6d9(0x1ec)])){const _0x14a297=_0x1a3ab6[_0x4ff6d9(0x1e0)](_0x3001f4[_0x4ff6d9(0x1ec)]);if(_0x14a297 instanceof discord_js_1[_0x4ff6d9(0x1e3)]||_0x14a297 instanceof discord_js_1['TextChannel']){_0x3001f4['moderationCaseCount']=_0x3001f4[_0x4ff6d9(0x207)]?_0x3001f4[_0x4ff6d9(0x207)]+0x1:0x1;const _0x29d927=await _0x14a297['send']({'embed':{'color':tesseract_1[_0x4ff6d9(0x1f7)][_0x4ff6d9(0x201)]['ORANGE'],'title':this['client'][_0x4ff6d9(0x200)]['getString'](_0x3001f4[_0x4ff6d9(0x20b)],_0x4ff6d9(0x1f6),_0x4df895[_0x4ff6d9(0x202)]),'fields':_0x4df895[_0x4ff6d9(0x1f4)],'footer':{'text':_0x4ff6d9(0x1ea)+_0x3001f4[_0x4ff6d9(0x207)]},'timestamp':new Date()}});await Case_1[_0x4ff6d9(0x1f1)][_0x4ff6d9(0x1e2)]({'guild':this['id'],'number':_0x3001f4[_0x4ff6d9(0x207)],'messageId':_0x29d927['id']}),await _0x3001f4[_0x4ff6d9(0x1f3)]();}}}};