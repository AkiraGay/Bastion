const a210_0x5a5d=['createModerationLog','return\x20/\x22\x20+\x20this\x20+\x20\x22/','language','TextChannel','findById','NewsChannel','client','COLORS','type','events','footer','moderationCaseCount','test','has','exports','cache','Case\x20#','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','SOMEWHAT_DARK','fields','music','channels','ORANGE','Guild','locale','serverLogChannelId','event','constructor','timestamp','news','send','default','filter','text','getString','save','getDocument','moderationLogChannelId','@bastion/tesseract','get','../models/Guild'];(function(_0x5f21b8,_0x5a5d50){const _0x1a4d75=function(_0x259d3e){while(--_0x259d3e){_0x5f21b8['push'](_0x5f21b8['shift']());}},_0xc10ba0=function(){const _0x2cce44={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x18240a,_0x4d1a49,_0x126fd4,_0x1ca982){_0x1ca982=_0x1ca982||{};let _0x2fc2c1=_0x4d1a49+'='+_0x126fd4,_0x3b61c3=0x0;for(let _0x3301a1=0x0,_0x155590=_0x18240a['length'];_0x3301a1<_0x155590;_0x3301a1++){const _0x1f22bb=_0x18240a[_0x3301a1];_0x2fc2c1+=';\x20'+_0x1f22bb;const _0x290237=_0x18240a[_0x1f22bb];_0x18240a['push'](_0x290237),_0x155590=_0x18240a['length'],_0x290237!==!![]&&(_0x2fc2c1+='='+_0x290237);}_0x1ca982['cookie']=_0x2fc2c1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2add72,_0x43a437){_0x2add72=_0x2add72||function(_0x3923e4){return _0x3923e4;};const _0x33547e=_0x2add72(new RegExp('(?:^|;\x20)'+_0x43a437['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1537be=function(_0x5c9973,_0x875bc9){_0x5c9973(++_0x875bc9);};return _0x1537be(_0x1a4d75,_0x5a5d50),_0x33547e?decodeURIComponent(_0x33547e[0x1]):undefined;}},_0x45e65d=function(){const _0x48422b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x48422b['test'](_0x2cce44['removeCookie']['toString']());};_0x2cce44['updateCookie']=_0x45e65d;let _0x2031f4='';const _0x44bae8=_0x2cce44['updateCookie']();if(!_0x44bae8)_0x2cce44['setCookie'](['*'],'counter',0x1);else _0x44bae8?_0x2031f4=_0x2cce44['getCookie'](null,'counter'):_0x2cce44['removeCookie']();};_0xc10ba0();}(a210_0x5a5d,0x1f4));const a210_0x1a4d=function(_0x5f21b8,_0x5a5d50){_0x5f21b8=_0x5f21b8-0x0;let _0x1a4d75=a210_0x5a5d[_0x5f21b8];return _0x1a4d75;};const a210_0x2cce44=function(){let _0x2031f4=!![];return function(_0x44bae8,_0x18240a){const _0x4d1a49=_0x2031f4?function(){if(_0x18240a){const _0x126fd4=_0x18240a['apply'](_0x44bae8,arguments);return _0x18240a=null,_0x126fd4;}}:function(){};return _0x2031f4=![],_0x4d1a49;};}(),a210_0x259d3e=a210_0x2cce44(this,function(){const _0x1ca982=function(){const _0x2fc2c1=_0x1ca982[a210_0x1a4d('0x13')](a210_0x1a4d('0x22'))()['constructor'](a210_0x1a4d('0x9'));return!_0x2fc2c1[a210_0x1a4d('0x4')](a210_0x259d3e);};return _0x1ca982();});a210_0x259d3e();'use strict';const tesseract_1=require(a210_0x1a4d('0x1e')),discord_js_1=require('discord.js'),Guild_1=require(a210_0x1a4d('0x20')),Case_1=require('../models/Case');module[a210_0x1a4d('0x6')]=class BastionGuild extends discord_js_1[a210_0x1a4d('0xf')]{constructor(_0x3b61c3,_0x3301a1){super(_0x3b61c3,_0x3301a1),this[a210_0x1a4d('0xc')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this['invites']={};}async[a210_0x1a4d('0x1c')](){return await Guild_1[a210_0x1a4d('0x17')][a210_0x1a4d('0x25')](this['id']);}async['createLog'](_0x155590){const _0x1f22bb=await this['getDocument'](),_0x290237=this[a210_0x1a4d('0x27')][a210_0x1a4d('0xd')][a210_0x1a4d('0x7')][a210_0x1a4d('0x18')](_0x2add72=>_0x2add72[a210_0x1a4d('0x0')]==='text'||_0x2add72['type']===a210_0x1a4d('0x15'));if(_0x1f22bb[a210_0x1a4d('0x11')]&&_0x290237[a210_0x1a4d('0x5')](_0x1f22bb[a210_0x1a4d('0x11')])){const _0x43a437=_0x290237[a210_0x1a4d('0x1f')](_0x1f22bb[a210_0x1a4d('0x11')]);if(_0x43a437 instanceof discord_js_1[a210_0x1a4d('0x26')]||_0x43a437 instanceof discord_js_1[a210_0x1a4d('0x24')])return _0x43a437[a210_0x1a4d('0x16')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a210_0x1a4d('0xa')],'title':this[a210_0x1a4d('0x27')][a210_0x1a4d('0x10')][a210_0x1a4d('0x1a')](_0x1f22bb[a210_0x1a4d('0x23')],a210_0x1a4d('0x1'),_0x155590[a210_0x1a4d('0x12')]),'fields':_0x155590[a210_0x1a4d('0xb')],'footer':{'text':_0x155590[a210_0x1a4d('0x2')]},'timestamp':_0x155590[a210_0x1a4d('0x14')]||new Date()}});}}async[a210_0x1a4d('0x21')](_0x33547e){const _0x1537be=await this[a210_0x1a4d('0x1c')](),_0x3923e4=this[a210_0x1a4d('0x27')][a210_0x1a4d('0xd')]['cache'][a210_0x1a4d('0x18')](_0x5c9973=>_0x5c9973[a210_0x1a4d('0x0')]===a210_0x1a4d('0x19')||_0x5c9973[a210_0x1a4d('0x0')]===a210_0x1a4d('0x15'));if(_0x1537be[a210_0x1a4d('0x1d')]&&_0x3923e4[a210_0x1a4d('0x5')](_0x1537be[a210_0x1a4d('0x1d')])){const _0x875bc9=_0x3923e4[a210_0x1a4d('0x1f')](_0x1537be['moderationLogChannelId']);if(_0x875bc9 instanceof discord_js_1[a210_0x1a4d('0x26')]||_0x875bc9 instanceof discord_js_1[a210_0x1a4d('0x24')]){_0x1537be[a210_0x1a4d('0x3')]=_0x1537be['moderationCaseCount']?_0x1537be[a210_0x1a4d('0x3')]+0x1:0x1;const _0x48422b=await _0x875bc9[a210_0x1a4d('0x16')]({'embed':{'color':tesseract_1['Constants'][a210_0x1a4d('0x28')][a210_0x1a4d('0xe')],'title':this[a210_0x1a4d('0x27')][a210_0x1a4d('0x10')][a210_0x1a4d('0x1a')](_0x1537be[a210_0x1a4d('0x23')],a210_0x1a4d('0x1'),_0x33547e[a210_0x1a4d('0x12')]),'fields':_0x33547e[a210_0x1a4d('0xb')],'footer':{'text':a210_0x1a4d('0x8')+_0x1537be['moderationCaseCount']},'timestamp':new Date()}});await Case_1[a210_0x1a4d('0x17')]['create']({'guild':this['id'],'number':_0x1537be[a210_0x1a4d('0x3')],'messageId':_0x48422b['id']}),await _0x1537be[a210_0x1a4d('0x1b')]();}}}};