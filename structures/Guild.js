const a209_0x4a68=['createModerationLog','discord.js','type','text','serverLogChannelId','has','NewsChannel','constructor','../models/Case','filter','Guild','event','fields','timestamp','events','client','getString','send','channels','TextChannel','ORANGE','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','moderationLogChannelId','get','Case\x20#','default','cache','invites','locale','moderationCaseCount','footer','Constants','createLog','@bastion/tesseract','../models/Guild','findById','language','SOMEWHAT_DARK'];(function(_0x4859db,_0x4a6872){const _0x3b21b3=function(_0x3e4c76){while(--_0x3e4c76){_0x4859db['push'](_0x4859db['shift']());}},_0x18b375=function(){const _0xaf4c28={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2dd746,_0x56885e,_0x4d1203,_0xbe46ef){_0xbe46ef=_0xbe46ef||{};let _0x159432=_0x56885e+'='+_0x4d1203,_0x3ed03e=0x0;for(let _0x728444=0x0,_0x459b76=_0x2dd746['length'];_0x728444<_0x459b76;_0x728444++){const _0x476150=_0x2dd746[_0x728444];_0x159432+=';\x20'+_0x476150;const _0x81a7f2=_0x2dd746[_0x476150];_0x2dd746['push'](_0x81a7f2),_0x459b76=_0x2dd746['length'],_0x81a7f2!==!![]&&(_0x159432+='='+_0x81a7f2);}_0xbe46ef['cookie']=_0x159432;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1d5fb1,_0x17d48e){_0x1d5fb1=_0x1d5fb1||function(_0x186119){return _0x186119;};const _0x52f737=_0x1d5fb1(new RegExp('(?:^|;\x20)'+_0x17d48e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x408113=function(_0x575714,_0xcd5733){_0x575714(++_0xcd5733);};return _0x408113(_0x3b21b3,_0x4a6872),_0x52f737?decodeURIComponent(_0x52f737[0x1]):undefined;}},_0xd45fb8=function(){const _0x139d81=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x139d81['test'](_0xaf4c28['removeCookie']['toString']());};_0xaf4c28['updateCookie']=_0xd45fb8;let _0xa98603='';const _0x86f7e6=_0xaf4c28['updateCookie']();if(!_0x86f7e6)_0xaf4c28['setCookie'](['*'],'counter',0x1);else _0x86f7e6?_0xa98603=_0xaf4c28['getCookie'](null,'counter'):_0xaf4c28['removeCookie']();};_0x18b375();}(a209_0x4a68,0x194));const a209_0x3b21=function(_0x4859db,_0x4a6872){_0x4859db=_0x4859db-0x0;let _0x3b21b3=a209_0x4a68[_0x4859db];return _0x3b21b3;};const a209_0xaf4c28=function(){let _0xa98603=!![];return function(_0x86f7e6,_0x2dd746){const _0x56885e=_0xa98603?function(){if(_0x2dd746){const _0x4d1203=_0x2dd746['apply'](_0x86f7e6,arguments);return _0x2dd746=null,_0x4d1203;}}:function(){};return _0xa98603=![],_0x56885e;};}(),a209_0x3e4c76=a209_0xaf4c28(this,function(){const _0xbe46ef=function(){const _0x159432=_0xbe46ef[a209_0x3b21('0x15')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a209_0x3b21('0x15')](a209_0x3b21('0x23'));return!_0x159432['test'](a209_0x3e4c76);};return _0xbe46ef();});a209_0x3e4c76();'use strict';const tesseract_1=require(a209_0x3b21('0x9')),discord_js_1=require(a209_0x3b21('0xf')),Guild_1=require(a209_0x3b21('0xa')),Case_1=require(a209_0x3b21('0x16'));module['exports']=class BastionGuild extends discord_js_1[a209_0x3b21('0x18')]{constructor(_0x3ed03e,_0x728444){super(_0x3ed03e,_0x728444),this['music']={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[a209_0x3b21('0x3')]={};}async['getDocument'](){return await Guild_1[a209_0x3b21('0x1')][a209_0x3b21('0xb')](this['id']);}async[a209_0x3b21('0x8')](_0x459b76){const _0x476150=await this['getDocument'](),_0x81a7f2=this[a209_0x3b21('0x1d')]['channels'][a209_0x3b21('0x2')][a209_0x3b21('0x17')](_0x1d5fb1=>_0x1d5fb1['type']===a209_0x3b21('0x11')||_0x1d5fb1[a209_0x3b21('0x10')]==='news');if(_0x476150[a209_0x3b21('0x12')]&&_0x81a7f2[a209_0x3b21('0x13')](_0x476150[a209_0x3b21('0x12')])){const _0x17d48e=_0x81a7f2[a209_0x3b21('0x25')](_0x476150[a209_0x3b21('0x12')]);if(_0x17d48e instanceof discord_js_1[a209_0x3b21('0x14')]||_0x17d48e instanceof discord_js_1['TextChannel'])return _0x17d48e[a209_0x3b21('0x1f')]({'embed':{'color':tesseract_1[a209_0x3b21('0x7')]['COLORS'][a209_0x3b21('0xd')],'title':this['client'][a209_0x3b21('0x4')]['getString'](_0x476150[a209_0x3b21('0xc')],a209_0x3b21('0x1c'),_0x459b76['event']),'fields':_0x459b76['fields'],'footer':{'text':_0x459b76[a209_0x3b21('0x6')]},'timestamp':_0x459b76[a209_0x3b21('0x1b')]||new Date()}});}}async[a209_0x3b21('0xe')](_0x52f737){const _0x408113=await this['getDocument'](),_0x186119=this[a209_0x3b21('0x1d')][a209_0x3b21('0x20')][a209_0x3b21('0x2')]['filter'](_0x575714=>_0x575714['type']===a209_0x3b21('0x11')||_0x575714[a209_0x3b21('0x10')]==='news');if(_0x408113[a209_0x3b21('0x24')]&&_0x186119[a209_0x3b21('0x13')](_0x408113[a209_0x3b21('0x24')])){const _0xcd5733=_0x186119[a209_0x3b21('0x25')](_0x408113['moderationLogChannelId']);if(_0xcd5733 instanceof discord_js_1[a209_0x3b21('0x14')]||_0xcd5733 instanceof discord_js_1[a209_0x3b21('0x21')]){_0x408113[a209_0x3b21('0x5')]=_0x408113[a209_0x3b21('0x5')]?_0x408113[a209_0x3b21('0x5')]+0x1:0x1;const _0x139d81=await _0xcd5733[a209_0x3b21('0x1f')]({'embed':{'color':tesseract_1[a209_0x3b21('0x7')]['COLORS'][a209_0x3b21('0x22')],'title':this[a209_0x3b21('0x1d')]['locale'][a209_0x3b21('0x1e')](_0x408113['language'],a209_0x3b21('0x1c'),_0x52f737[a209_0x3b21('0x19')]),'fields':_0x52f737[a209_0x3b21('0x1a')],'footer':{'text':a209_0x3b21('0x0')+_0x408113[a209_0x3b21('0x5')]},'timestamp':new Date()}});await Case_1['default']['create']({'guild':this['id'],'number':_0x408113[a209_0x3b21('0x5')],'messageId':_0x139d81['id']}),await _0x408113['save']();}}}};