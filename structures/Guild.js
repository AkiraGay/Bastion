const a416_0x47e1=['findById','music','has','TextChannel','default','locale','footer','apply','compile','../models/Guild','@bastion/tesseract','fields','moderationLogChannelId','ORANGE','get','Case\x20#','language','getDocument','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','test','COLORS','news','client','../models/Case','discord.js','filter','save','channels','createModerationLog','events','constructor','send','serverLogChannelId','text','Constants','getString','createLog','NewsChannel','type','moderationCaseCount'];(function(_0x493da0,_0x47e10f){const _0x374594=function(_0x51abc8){while(--_0x51abc8){_0x493da0['push'](_0x493da0['shift']());}};const _0x582165=function(){const _0x1761a3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x509148,_0x3d6c0d,_0x423bbc,_0x14ca47){_0x14ca47=_0x14ca47||{};let _0x115361=_0x3d6c0d+'='+_0x423bbc;let _0x349f75=0x0;for(let _0x19d5aa=0x0,_0x19dfd3=_0x509148['length'];_0x19d5aa<_0x19dfd3;_0x19d5aa++){const _0x5995cc=_0x509148[_0x19d5aa];_0x115361+=';\x20'+_0x5995cc;const _0x4da712=_0x509148[_0x5995cc];_0x509148['push'](_0x4da712);_0x19dfd3=_0x509148['length'];if(_0x4da712!==!![]){_0x115361+='='+_0x4da712;}}_0x14ca47['cookie']=_0x115361;},'removeCookie':function(){return'dev';},'getCookie':function(_0x166080,_0x523be0){_0x166080=_0x166080||function(_0x2e62c8){return _0x2e62c8;};const _0x1b8285=_0x166080(new RegExp('(?:^|;\x20)'+_0x523be0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x15cb06=function(_0x3571a4,_0x54f9b2){_0x3571a4(++_0x54f9b2);};_0x15cb06(_0x374594,_0x47e10f);return _0x1b8285?decodeURIComponent(_0x1b8285[0x1]):undefined;}};const _0x4612b3=function(){const _0x519ea1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x519ea1['test'](_0x1761a3['removeCookie']['toString']());};_0x1761a3['updateCookie']=_0x4612b3;let _0x2f984e='';const _0x116d8f=_0x1761a3['updateCookie']();if(!_0x116d8f){_0x1761a3['setCookie'](['*'],'counter',0x1);}else if(_0x116d8f){_0x2f984e=_0x1761a3['getCookie'](null,'counter');}else{_0x1761a3['removeCookie']();}};_0x582165();}(a416_0x47e1,0x197));const a416_0x3745=function(_0x493da0,_0x47e10f){_0x493da0=_0x493da0-0x0;let _0x374594=a416_0x47e1[_0x493da0];return _0x374594;};const a416_0x1761a3=function(){let _0x2dd063=!![];return function(_0x19a7c0,_0xd68e3b){const _0x1e3ec2=_0x2dd063?function(){if(_0xd68e3b){const _0x404f1d=_0xd68e3b[a416_0x3745('0x0')](_0x19a7c0,arguments);_0xd68e3b=null;return _0x404f1d;}}:function(){};_0x2dd063=![];return _0x1e3ec2;};}();const a416_0x51abc8=a416_0x1761a3(this,function(){const _0xb861a9=function(){const _0x273d5e=_0xb861a9[a416_0x3745('0x17')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a416_0x3745('0x1')](a416_0x3745('0xb'));return!_0x273d5e[a416_0x3745('0xc')](a416_0x51abc8);};return _0xb861a9();});a416_0x51abc8();'use strict';const tesseract_1=require(a416_0x3745('0x3'));const discord_js_1=require(a416_0x3745('0x11'));const Guild_1=require(a416_0x3745('0x2'));const Case_1=require(a416_0x3745('0x10'));module['exports']=class BastionGuild extends discord_js_1['Guild']{constructor(_0x2237b0,_0xed322b){super(_0x2237b0,_0xed322b);this[a416_0x3745('0x22')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async['getDocument'](){return await Guild_1[a416_0x3745('0x25')][a416_0x3745('0x21')](this['id']);}async[a416_0x3745('0x1d')](_0x4b886c){const _0x38767d=await this[a416_0x3745('0xa')]();const _0x1e0b86=this['client']['channels']['cache'][a416_0x3745('0x12')](_0x3fe74e=>_0x3fe74e['type']==='text'||_0x3fe74e[a416_0x3745('0x1f')]===a416_0x3745('0xe'));if(_0x38767d['serverLogChannelId']&&_0x1e0b86[a416_0x3745('0x23')](_0x38767d[a416_0x3745('0x19')])){const _0x1267b5=_0x1e0b86[a416_0x3745('0x7')](_0x38767d[a416_0x3745('0x19')]);if(_0x1267b5 instanceof discord_js_1['NewsChannel']||_0x1267b5 instanceof discord_js_1[a416_0x3745('0x24')]){return _0x1267b5[a416_0x3745('0x18')]({'embed':{'color':tesseract_1[a416_0x3745('0x1b')][a416_0x3745('0xd')]['SOMEWHAT_DARK'],'title':this[a416_0x3745('0xf')]['locale']['getString'](_0x38767d[a416_0x3745('0x9')],a416_0x3745('0x16'),_0x4b886c['event']),'fields':_0x4b886c['fields'],'footer':{'text':_0x4b886c[a416_0x3745('0x27')]},'timestamp':_0x4b886c['timestamp']||new Date()}});}}}async[a416_0x3745('0x15')](_0x3a3ee4){const _0x1911cf=await this[a416_0x3745('0xa')]();const _0x4aa0cd=this[a416_0x3745('0xf')][a416_0x3745('0x14')]['cache'][a416_0x3745('0x12')](_0xa3b340=>_0xa3b340[a416_0x3745('0x1f')]===a416_0x3745('0x1a')||_0xa3b340[a416_0x3745('0x1f')]===a416_0x3745('0xe'));if(_0x1911cf[a416_0x3745('0x5')]&&_0x4aa0cd['has'](_0x1911cf[a416_0x3745('0x5')])){const _0x5a4c54=_0x4aa0cd['get'](_0x1911cf[a416_0x3745('0x5')]);if(_0x5a4c54 instanceof discord_js_1[a416_0x3745('0x1e')]||_0x5a4c54 instanceof discord_js_1['TextChannel']){_0x1911cf[a416_0x3745('0x20')]=_0x1911cf[a416_0x3745('0x20')]?_0x1911cf[a416_0x3745('0x20')]+0x1:0x1;const _0x3957c1=await _0x5a4c54[a416_0x3745('0x18')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a416_0x3745('0x6')],'title':this[a416_0x3745('0xf')][a416_0x3745('0x26')][a416_0x3745('0x1c')](_0x1911cf['language'],a416_0x3745('0x16'),_0x3a3ee4['event']),'fields':_0x3a3ee4[a416_0x3745('0x4')],'footer':{'text':a416_0x3745('0x8')+_0x1911cf[a416_0x3745('0x20')]},'timestamp':new Date()}});await Case_1['default']['create']({'guild':this['id'],'number':_0x1911cf[a416_0x3745('0x20')],'messageId':_0x3957c1['id']});await _0x1911cf[a416_0x3745('0x13')]();}}}};