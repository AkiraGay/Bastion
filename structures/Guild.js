const a196_0x4d69=['fields','has','cache','../models/Guild','return\x20/\x22\x20+\x20this\x20+\x20\x22/','ORANGE','moderationLogChannelId','language','save','TextChannel','createLog','news','client','event','exports','getString','NewsChannel','filter','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','text','SOMEWHAT_DARK','send','get','@bastion/tesseract','Guild','apply','getDocument','type','default','events','channels','../models/Case','findById','createModerationLog','footer','compile','serverLogChannelId','moderationCaseCount','Constants','create','test','music','COLORS','timestamp'];(function(_0x3c7376,_0x4d69e3){const _0x3f4220=function(_0x4424f7){while(--_0x4424f7){_0x3c7376['push'](_0x3c7376['shift']());}};const _0x4eba92=function(){const _0x58ce6d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x42004a,_0x1b72f2,_0x5f37c7,_0x17cdf8){_0x17cdf8=_0x17cdf8||{};let _0x1a7bfe=_0x1b72f2+'='+_0x5f37c7;let _0x4990e2=0x0;for(let _0x1cebde=0x0,_0x1fec34=_0x42004a['length'];_0x1cebde<_0x1fec34;_0x1cebde++){const _0x5c90db=_0x42004a[_0x1cebde];_0x1a7bfe+=';\x20'+_0x5c90db;const _0x35b23a=_0x42004a[_0x5c90db];_0x42004a['push'](_0x35b23a);_0x1fec34=_0x42004a['length'];if(_0x35b23a!==!![]){_0x1a7bfe+='='+_0x35b23a;}}_0x17cdf8['cookie']=_0x1a7bfe;},'removeCookie':function(){return'dev';},'getCookie':function(_0x21f007,_0xe73d03){_0x21f007=_0x21f007||function(_0xb468ae){return _0xb468ae;};const _0x39bf73=_0x21f007(new RegExp('(?:^|;\x20)'+_0xe73d03['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x28405b=function(_0x117cc1,_0x2565c9){_0x117cc1(++_0x2565c9);};_0x28405b(_0x3f4220,_0x4d69e3);return _0x39bf73?decodeURIComponent(_0x39bf73[0x1]):undefined;}};const _0x2f9d57=function(){const _0x36685b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x36685b['test'](_0x58ce6d['removeCookie']['toString']());};_0x58ce6d['updateCookie']=_0x2f9d57;let _0x113175='';const _0x4b5b37=_0x58ce6d['updateCookie']();if(!_0x4b5b37){_0x58ce6d['setCookie'](['*'],'counter',0x1);}else if(_0x4b5b37){_0x113175=_0x58ce6d['getCookie'](null,'counter');}else{_0x58ce6d['removeCookie']();}};_0x4eba92();}(a196_0x4d69,0x73));const a196_0x3f42=function(_0x3c7376,_0x4d69e3){_0x3c7376=_0x3c7376-0x0;let _0x3f4220=a196_0x4d69[_0x3c7376];return _0x3f4220;};const a196_0x58ce6d=function(){let _0x3deb33=!![];return function(_0x4f893d,_0x4bbb29){const _0x18cb87=_0x3deb33?function(){if(_0x4bbb29){const _0x2c7306=_0x4bbb29[a196_0x3f42('0x2a')](_0x4f893d,arguments);_0x4bbb29=null;return _0x2c7306;}}:function(){};_0x3deb33=![];return _0x18cb87;};}();const a196_0x4424f7=a196_0x58ce6d(this,function(){const _0x3152f3=function(){const _0x509a91=_0x3152f3['constructor'](a196_0x3f42('0x15'))()[a196_0x3f42('0x8')](a196_0x3f42('0x23'));return!_0x509a91[a196_0x3f42('0xd')](a196_0x4424f7);};return _0x3152f3();});a196_0x4424f7();'use strict';const tesseract_1=require(a196_0x3f42('0x28'));const discord_js_1=require('discord.js');const Guild_1=require(a196_0x3f42('0x14'));const Case_1=require(a196_0x3f42('0x4'));module[a196_0x3f42('0x1f')]=class BastionGuild extends discord_js_1[a196_0x3f42('0x29')]{constructor(_0x276909,_0x4d3c1e){super(_0x276909,_0x4d3c1e);this[a196_0x3f42('0xe')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a196_0x3f42('0x2b')](){return await Guild_1[a196_0x3f42('0x1')][a196_0x3f42('0x5')](this['id']);}async[a196_0x3f42('0x1b')](_0x3efc38){const _0x38a68d=await this[a196_0x3f42('0x2b')]();const _0xff7595=this[a196_0x3f42('0x1d')][a196_0x3f42('0x3')][a196_0x3f42('0x13')][a196_0x3f42('0x22')](_0x2621fa=>_0x2621fa[a196_0x3f42('0x0')]==='text'||_0x2621fa['type']===a196_0x3f42('0x1c'));if(_0x38a68d[a196_0x3f42('0x9')]&&_0xff7595[a196_0x3f42('0x12')](_0x38a68d[a196_0x3f42('0x9')])){const _0x2a91b4=_0xff7595[a196_0x3f42('0x27')](_0x38a68d['serverLogChannelId']);if(_0x2a91b4 instanceof discord_js_1[a196_0x3f42('0x21')]||_0x2a91b4 instanceof discord_js_1[a196_0x3f42('0x1a')]){return _0x2a91b4[a196_0x3f42('0x26')]({'embed':{'color':tesseract_1['Constants'][a196_0x3f42('0xf')][a196_0x3f42('0x25')],'title':this[a196_0x3f42('0x1d')]['locale']['getString'](_0x38a68d[a196_0x3f42('0x18')],a196_0x3f42('0x2'),_0x3efc38[a196_0x3f42('0x1e')]),'fields':_0x3efc38['fields'],'footer':{'text':_0x3efc38[a196_0x3f42('0x7')]},'timestamp':_0x3efc38[a196_0x3f42('0x10')]||new Date()}});}}}async[a196_0x3f42('0x6')](_0x5efcdf){const _0x302d77=await this[a196_0x3f42('0x2b')]();const _0x48442b=this[a196_0x3f42('0x1d')][a196_0x3f42('0x3')][a196_0x3f42('0x13')][a196_0x3f42('0x22')](_0x242730=>_0x242730[a196_0x3f42('0x0')]===a196_0x3f42('0x24')||_0x242730['type']===a196_0x3f42('0x1c'));if(_0x302d77[a196_0x3f42('0x17')]&&_0x48442b[a196_0x3f42('0x12')](_0x302d77[a196_0x3f42('0x17')])){const _0x258114=_0x48442b['get'](_0x302d77['moderationLogChannelId']);if(_0x258114 instanceof discord_js_1['NewsChannel']||_0x258114 instanceof discord_js_1[a196_0x3f42('0x1a')]){_0x302d77[a196_0x3f42('0xa')]=_0x302d77[a196_0x3f42('0xa')]?_0x302d77['moderationCaseCount']+0x1:0x1;const _0x1e6758=await _0x258114['send']({'embed':{'color':tesseract_1[a196_0x3f42('0xb')]['COLORS'][a196_0x3f42('0x16')],'title':this[a196_0x3f42('0x1d')]['locale'][a196_0x3f42('0x20')](_0x302d77[a196_0x3f42('0x18')],a196_0x3f42('0x2'),_0x5efcdf[a196_0x3f42('0x1e')]),'fields':_0x5efcdf[a196_0x3f42('0x11')],'footer':{'text':'Case\x20#'+_0x302d77['moderationCaseCount']},'timestamp':new Date()}});await Case_1[a196_0x3f42('0x1')][a196_0x3f42('0xc')]({'guild':this['id'],'number':_0x302d77[a196_0x3f42('0xa')],'messageId':_0x1e6758['id']});await _0x302d77[a196_0x3f42('0x19')]();}}}};