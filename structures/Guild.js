const a196_0x3dbd=['apply','Constants','createModerationLog','return\x20/\x22\x20+\x20this\x20+\x20\x22/','SOMEWHAT_DARK','event','findById','language','client','cache','locale','Guild','text','type','create','default','Case\x20#','events','NewsChannel','getString','get','serverLogChannelId','compile','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','moderationLogChannelId','TextChannel','moderationCaseCount','@bastion/tesseract','music','COLORS','../models/Case','test','filter','send','has','news','discord.js','channels','getDocument','save'];(function(_0x5000c3,_0x3dbd38){const _0x37c6b0=function(_0x259d66){while(--_0x259d66){_0x5000c3['push'](_0x5000c3['shift']());}};const _0x1f0799=function(){const _0x341cde={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xd994b0,_0x1b019c,_0x195a80,_0x45ab6f){_0x45ab6f=_0x45ab6f||{};let _0x1fb094=_0x1b019c+'='+_0x195a80;let _0x42d2be=0x0;for(let _0x5468a8=0x0,_0x1be011=_0xd994b0['length'];_0x5468a8<_0x1be011;_0x5468a8++){const _0x49ab27=_0xd994b0[_0x5468a8];_0x1fb094+=';\x20'+_0x49ab27;const _0x431b26=_0xd994b0[_0x49ab27];_0xd994b0['push'](_0x431b26);_0x1be011=_0xd994b0['length'];if(_0x431b26!==!![]){_0x1fb094+='='+_0x431b26;}}_0x45ab6f['cookie']=_0x1fb094;},'removeCookie':function(){return'dev';},'getCookie':function(_0x131ef0,_0x2e5c59){_0x131ef0=_0x131ef0||function(_0x5849c4){return _0x5849c4;};const _0x1ac532=_0x131ef0(new RegExp('(?:^|;\x20)'+_0x2e5c59['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x19b8a0=function(_0x208613,_0x3da1c7){_0x208613(++_0x3da1c7);};_0x19b8a0(_0x37c6b0,_0x3dbd38);return _0x1ac532?decodeURIComponent(_0x1ac532[0x1]):undefined;}};const _0x5bf4df=function(){const _0x342ac9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x342ac9['test'](_0x341cde['removeCookie']['toString']());};_0x341cde['updateCookie']=_0x5bf4df;let _0x40c35b='';const _0x57657b=_0x341cde['updateCookie']();if(!_0x57657b){_0x341cde['setCookie'](['*'],'counter',0x1);}else if(_0x57657b){_0x40c35b=_0x341cde['getCookie'](null,'counter');}else{_0x341cde['removeCookie']();}};_0x1f0799();}(a196_0x3dbd,0x1b4));const a196_0x37c6=function(_0x5000c3,_0x3dbd38){_0x5000c3=_0x5000c3-0x0;let _0x37c6b0=a196_0x3dbd[_0x5000c3];return _0x37c6b0;};const a196_0x341cde=function(){let _0x201a74=!![];return function(_0x5f56f8,_0x42905c){const _0x573c78=_0x201a74?function(){if(_0x42905c){const _0x2fa150=_0x42905c[a196_0x37c6('0x4')](_0x5f56f8,arguments);_0x42905c=null;return _0x2fa150;}}:function(){};_0x201a74=![];return _0x573c78;};}();const a196_0x259d66=a196_0x341cde(this,function(){const _0x250307=function(){const _0xcb4c9e=_0x250307['constructor'](a196_0x37c6('0x7'))()[a196_0x37c6('0x1a')](a196_0x37c6('0x1b'));return!_0xcb4c9e[a196_0x37c6('0x23')](a196_0x259d66);};return _0x250307();});a196_0x259d66();'use strict';const tesseract_1=require(a196_0x37c6('0x1f'));const discord_js_1=require(a196_0x37c6('0x0'));const Guild_1=require('../models/Guild');const Case_1=require(a196_0x37c6('0x22'));module['exports']=class BastionGuild extends discord_js_1[a196_0x37c6('0xf')]{constructor(_0x44a903,_0x3b61af){super(_0x44a903,_0x3b61af);this[a196_0x37c6('0x20')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a196_0x37c6('0x2')](){return await Guild_1[a196_0x37c6('0x13')][a196_0x37c6('0xa')](this['id']);}async['createLog'](_0x2dd31d){const _0x4353f6=await this[a196_0x37c6('0x2')]();const _0x266ef4=this[a196_0x37c6('0xc')][a196_0x37c6('0x1')][a196_0x37c6('0xd')][a196_0x37c6('0x24')](_0x271ac6=>_0x271ac6['type']==='text'||_0x271ac6[a196_0x37c6('0x11')]===a196_0x37c6('0x27'));if(_0x4353f6[a196_0x37c6('0x19')]&&_0x266ef4['has'](_0x4353f6[a196_0x37c6('0x19')])){const _0xfdbcc5=_0x266ef4['get'](_0x4353f6[a196_0x37c6('0x19')]);if(_0xfdbcc5 instanceof discord_js_1[a196_0x37c6('0x16')]||_0xfdbcc5 instanceof discord_js_1['TextChannel']){return _0xfdbcc5[a196_0x37c6('0x25')]({'embed':{'color':tesseract_1[a196_0x37c6('0x5')][a196_0x37c6('0x21')][a196_0x37c6('0x8')],'title':this['client'][a196_0x37c6('0xe')][a196_0x37c6('0x17')](_0x4353f6[a196_0x37c6('0xb')],a196_0x37c6('0x15'),_0x2dd31d['event']),'fields':_0x2dd31d['fields'],'footer':{'text':_0x2dd31d['footer']},'timestamp':_0x2dd31d['timestamp']||new Date()}});}}}async[a196_0x37c6('0x6')](_0x853521){const _0x476644=await this[a196_0x37c6('0x2')]();const _0x9521ec=this[a196_0x37c6('0xc')][a196_0x37c6('0x1')][a196_0x37c6('0xd')][a196_0x37c6('0x24')](_0x124504=>_0x124504[a196_0x37c6('0x11')]===a196_0x37c6('0x10')||_0x124504[a196_0x37c6('0x11')]===a196_0x37c6('0x27'));if(_0x476644[a196_0x37c6('0x1c')]&&_0x9521ec[a196_0x37c6('0x26')](_0x476644[a196_0x37c6('0x1c')])){const _0x518866=_0x9521ec[a196_0x37c6('0x18')](_0x476644[a196_0x37c6('0x1c')]);if(_0x518866 instanceof discord_js_1[a196_0x37c6('0x16')]||_0x518866 instanceof discord_js_1[a196_0x37c6('0x1d')]){_0x476644['moderationCaseCount']=_0x476644[a196_0x37c6('0x1e')]?_0x476644[a196_0x37c6('0x1e')]+0x1:0x1;const _0x5674a2=await _0x518866[a196_0x37c6('0x25')]({'embed':{'color':tesseract_1[a196_0x37c6('0x5')][a196_0x37c6('0x21')]['ORANGE'],'title':this['client'][a196_0x37c6('0xe')]['getString'](_0x476644[a196_0x37c6('0xb')],a196_0x37c6('0x15'),_0x853521[a196_0x37c6('0x9')]),'fields':_0x853521['fields'],'footer':{'text':a196_0x37c6('0x14')+_0x476644[a196_0x37c6('0x1e')]},'timestamp':new Date()}});await Case_1['default'][a196_0x37c6('0x12')]({'guild':this['id'],'number':_0x476644[a196_0x37c6('0x1e')],'messageId':_0x5674a2['id']});await _0x476644[a196_0x37c6('0x3')]();}}}};