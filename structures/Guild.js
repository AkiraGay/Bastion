const a226_0x1241=['type','events','save','timestamp','default','createModerationLog','invites','music','moderationCaseCount','event','news','COLORS','exports','Constants','footer','moderationLogChannelId','Case\x20#','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','NewsChannel','constructor','text','cache','get','test','getDocument','../models/Case','ORANGE','serverLogChannelId','getString','filter','has','apply','language','fields','Guild','send','findById','TextChannel','client','SOMEWHAT_DARK','locale'];(function(_0x213be6,_0x30bcda){const _0x1241de=function(_0x49863c){while(--_0x49863c){_0x213be6['push'](_0x213be6['shift']());}},_0x3b39d7=function(){const _0xbf20a9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x557f02,_0x22e27a,_0x4edcdc,_0x1e8970){_0x1e8970=_0x1e8970||{};let _0x1a214b=_0x22e27a+'='+_0x4edcdc,_0xe5c514=0x0;for(let _0x5c37a1=0x0,_0x190637=_0x557f02['length'];_0x5c37a1<_0x190637;_0x5c37a1++){const _0x144d0f=_0x557f02[_0x5c37a1];_0x1a214b+=';\x20'+_0x144d0f;const _0x36f5e1=_0x557f02[_0x144d0f];_0x557f02['push'](_0x36f5e1),_0x190637=_0x557f02['length'],_0x36f5e1!==!![]&&(_0x1a214b+='='+_0x36f5e1);}_0x1e8970['cookie']=_0x1a214b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x259047,_0x27167e){_0x259047=_0x259047||function(_0x52564d){return _0x52564d;};const _0x459f75=_0x259047(new RegExp('(?:^|;\x20)'+_0x27167e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x143f7a=function(_0xd8f429,_0xb4d30){_0xd8f429(++_0xb4d30);};return _0x143f7a(_0x1241de,_0x30bcda),_0x459f75?decodeURIComponent(_0x459f75[0x1]):undefined;}},_0x1d8547=function(){const _0x564457=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x564457['test'](_0xbf20a9['removeCookie']['toString']());};_0xbf20a9['updateCookie']=_0x1d8547;let _0x23df2a='';const _0x5d553a=_0xbf20a9['updateCookie']();if(!_0x5d553a)_0xbf20a9['setCookie'](['*'],'counter',0x1);else _0x5d553a?_0x23df2a=_0xbf20a9['getCookie'](null,'counter'):_0xbf20a9['removeCookie']();};_0x3b39d7();}(a226_0x1241,0x1d4));const a226_0x3b39=function(_0x213be6,_0x30bcda){_0x213be6=_0x213be6-0x142;let _0x1241de=a226_0x1241[_0x213be6];return _0x1241de;};const _0x5881e0=a226_0x3b39,a226_0x1d8547=function(){let _0x5d553a=!![];return function(_0x557f02,_0x22e27a){const _0x4edcdc=_0x5d553a?function(){const _0x589740=a226_0x3b39;if(_0x22e27a){const _0x1e8970=_0x22e27a[_0x589740(0x150)](_0x557f02,arguments);return _0x22e27a=null,_0x1e8970;}}:function(){};return _0x5d553a=![],_0x4edcdc;};}(),a226_0xbf20a9=a226_0x1d8547(this,function(){const _0x1a214b=function(){const _0x432c78=a226_0x3b39,_0xe5c514=_0x1a214b['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x432c78(0x144)](_0x432c78(0x142));return!_0xe5c514[_0x432c78(0x148)](a226_0xbf20a9);};return _0x1a214b();});a226_0xbf20a9();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require('discord.js'),Guild_1=require('../models/Guild'),Case_1=require(_0x5881e0(0x14a));module[_0x5881e0(0x166)]=class BastionGuild extends discord_js_1[_0x5881e0(0x153)]{constructor(_0x5c37a1,_0x190637){const _0x4982df=_0x5881e0;super(_0x5c37a1,_0x190637),this[_0x4982df(0x161)]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]},this[_0x4982df(0x160)]={};}async['getDocument'](){const _0x334e7b=_0x5881e0;return await Guild_1[_0x334e7b(0x15e)][_0x334e7b(0x155)](this['id']);}async['createLog'](_0x144d0f){const _0x358378=_0x5881e0,_0x36f5e1=await this['getDocument'](),_0x259047=this[_0x358378(0x157)]['channels'][_0x358378(0x146)][_0x358378(0x14e)](_0x27167e=>_0x27167e[_0x358378(0x15a)]===_0x358378(0x145)||_0x27167e['type']===_0x358378(0x164));if(_0x36f5e1[_0x358378(0x14c)]&&_0x259047[_0x358378(0x14f)](_0x36f5e1[_0x358378(0x14c)])){const _0x459f75=_0x259047[_0x358378(0x147)](_0x36f5e1[_0x358378(0x14c)]);if(_0x459f75 instanceof discord_js_1[_0x358378(0x143)]||_0x459f75 instanceof discord_js_1[_0x358378(0x156)])return _0x459f75[_0x358378(0x154)]({'embed':{'color':tesseract_1[_0x358378(0x167)][_0x358378(0x165)][_0x358378(0x158)],'title':this[_0x358378(0x157)][_0x358378(0x159)][_0x358378(0x14d)](_0x36f5e1[_0x358378(0x151)],_0x358378(0x15b),_0x144d0f[_0x358378(0x163)]),'fields':_0x144d0f[_0x358378(0x152)],'footer':{'text':_0x144d0f[_0x358378(0x168)]},'timestamp':_0x144d0f[_0x358378(0x15d)]||new Date()}});}}async[_0x5881e0(0x15f)](_0x143f7a){const _0x25ef99=_0x5881e0,_0x52564d=await this[_0x25ef99(0x149)](),_0xd8f429=this['client']['channels'][_0x25ef99(0x146)][_0x25ef99(0x14e)](_0xb4d30=>_0xb4d30[_0x25ef99(0x15a)]==='text'||_0xb4d30[_0x25ef99(0x15a)]===_0x25ef99(0x164));if(_0x52564d['moderationLogChannelId']&&_0xd8f429['has'](_0x52564d[_0x25ef99(0x169)])){const _0x564457=_0xd8f429[_0x25ef99(0x147)](_0x52564d[_0x25ef99(0x169)]);if(_0x564457 instanceof discord_js_1[_0x25ef99(0x143)]||_0x564457 instanceof discord_js_1[_0x25ef99(0x156)]){_0x52564d[_0x25ef99(0x162)]=_0x52564d[_0x25ef99(0x162)]?_0x52564d[_0x25ef99(0x162)]+0x1:0x1;const _0xdabd53=await _0x564457[_0x25ef99(0x154)]({'embed':{'color':tesseract_1[_0x25ef99(0x167)][_0x25ef99(0x165)][_0x25ef99(0x14b)],'title':this[_0x25ef99(0x157)][_0x25ef99(0x159)][_0x25ef99(0x14d)](_0x52564d[_0x25ef99(0x151)],_0x25ef99(0x15b),_0x143f7a[_0x25ef99(0x163)]),'fields':_0x143f7a[_0x25ef99(0x152)],'footer':{'text':_0x25ef99(0x16a)+_0x52564d[_0x25ef99(0x162)]},'timestamp':new Date()}});await Case_1[_0x25ef99(0x15e)]['create']({'guild':this['id'],'number':_0x52564d[_0x25ef99(0x162)],'messageId':_0xdabd53['id']}),await _0x52564d[_0x25ef99(0x15c)]();}}}};