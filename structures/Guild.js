const a636_0x28f1=['constructor','compile','events','event','Constants','@bastion/tesseract','channels','TextChannel','serverLogChannelId','COLORS','fields','filter','discord.js','SOMEWHAT_DARK','language','ORANGE','createModerationLog','Case\x20#','../models/Guild','getString','music','footer','timestamp','createLog','Guild','client','../models/Case','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','moderationCaseCount','send','has','exports','type','locale','getDocument','return\x20/\x22\x20+\x20this\x20+\x20\x22/','news','cache','NewsChannel','save','apply','text','default','moderationLogChannelId','get','findById'];(function(_0x38bdd8,_0x28f122){const _0x427b73=function(_0x500397){while(--_0x500397){_0x38bdd8['push'](_0x38bdd8['shift']());}};const _0x2b7fdf=function(){const _0x4ee85d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x35a73a,_0x3481a9,_0x43d502,_0x48e25d){_0x48e25d=_0x48e25d||{};let _0x41b542=_0x3481a9+'='+_0x43d502;let _0x459bc0=0x0;for(let _0x1f1e43=0x0,_0xee8dcb=_0x35a73a['length'];_0x1f1e43<_0xee8dcb;_0x1f1e43++){const _0x2a985f=_0x35a73a[_0x1f1e43];_0x41b542+=';\x20'+_0x2a985f;const _0x34fd81=_0x35a73a[_0x2a985f];_0x35a73a['push'](_0x34fd81);_0xee8dcb=_0x35a73a['length'];if(_0x34fd81!==!![]){_0x41b542+='='+_0x34fd81;}}_0x48e25d['cookie']=_0x41b542;},'removeCookie':function(){return'dev';},'getCookie':function(_0x25f5f9,_0x4855e7){_0x25f5f9=_0x25f5f9||function(_0x136e61){return _0x136e61;};const _0x12a20b=_0x25f5f9(new RegExp('(?:^|;\x20)'+_0x4855e7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0xb51a1e=function(_0x104909,_0x5871a3){_0x104909(++_0x5871a3);};_0xb51a1e(_0x427b73,_0x28f122);return _0x12a20b?decodeURIComponent(_0x12a20b[0x1]):undefined;}};const _0x15ac9f=function(){const _0x377825=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x377825['test'](_0x4ee85d['removeCookie']['toString']());};_0x4ee85d['updateCookie']=_0x15ac9f;let _0x1c79e0='';const _0x37ebe4=_0x4ee85d['updateCookie']();if(!_0x37ebe4){_0x4ee85d['setCookie'](['*'],'counter',0x1);}else if(_0x37ebe4){_0x1c79e0=_0x4ee85d['getCookie'](null,'counter');}else{_0x4ee85d['removeCookie']();}};_0x2b7fdf();}(a636_0x28f1,0x152));const a636_0x427b=function(_0x38bdd8,_0x28f122){_0x38bdd8=_0x38bdd8-0x0;let _0x427b73=a636_0x28f1[_0x38bdd8];return _0x427b73;};const a636_0x4ee85d=function(){let _0x5ba5ef=!![];return function(_0x275564,_0x20d973){const _0x3802f7=_0x5ba5ef?function(){if(_0x20d973){const _0xccfa2c=_0x20d973[a636_0x427b('0x18')](_0x275564,arguments);_0x20d973=null;return _0xccfa2c;}}:function(){};_0x5ba5ef=![];return _0x3802f7;};}();const a636_0x500397=a636_0x4ee85d(this,function(){const _0x2f5731=function(){const _0x4208c1=_0x2f5731[a636_0x427b('0x1e')](a636_0x427b('0x13'))()[a636_0x427b('0x1f')](a636_0x427b('0xb'));return!_0x4208c1['test'](a636_0x500397);};return _0x2f5731();});a636_0x500397();'use strict';const tesseract_1=require(a636_0x427b('0x23'));const discord_js_1=require(a636_0x427b('0x2a'));const Guild_1=require(a636_0x427b('0x2'));const Case_1=require(a636_0x427b('0xa'));module[a636_0x427b('0xf')]=class BastionGuild extends discord_js_1[a636_0x427b('0x8')]{constructor(_0x411c1e,_0xe47c9e){super(_0x411c1e,_0xe47c9e);this[a636_0x427b('0x4')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async['getDocument'](){return await Guild_1[a636_0x427b('0x1a')][a636_0x427b('0x1d')](this['id']);}async[a636_0x427b('0x7')](_0x44a325){const _0x90d982=await this[a636_0x427b('0x12')]();const _0x3ee9d1=this['client'][a636_0x427b('0x24')][a636_0x427b('0x15')][a636_0x427b('0x29')](_0x506558=>_0x506558['type']===a636_0x427b('0x19')||_0x506558['type']==='news');if(_0x90d982[a636_0x427b('0x26')]&&_0x3ee9d1['has'](_0x90d982[a636_0x427b('0x26')])){const _0xef66c8=_0x3ee9d1['get'](_0x90d982['serverLogChannelId']);if(_0xef66c8 instanceof discord_js_1['NewsChannel']||_0xef66c8 instanceof discord_js_1[a636_0x427b('0x25')]){return _0xef66c8[a636_0x427b('0xd')]({'embed':{'color':tesseract_1['Constants'][a636_0x427b('0x27')][a636_0x427b('0x2b')],'title':this[a636_0x427b('0x9')][a636_0x427b('0x11')][a636_0x427b('0x3')](_0x90d982[a636_0x427b('0x2c')],a636_0x427b('0x20'),_0x44a325[a636_0x427b('0x21')]),'fields':_0x44a325[a636_0x427b('0x28')],'footer':{'text':_0x44a325[a636_0x427b('0x5')]},'timestamp':_0x44a325[a636_0x427b('0x6')]||new Date()}});}}}async[a636_0x427b('0x0')](_0x379186){const _0x2d7641=await this[a636_0x427b('0x12')]();const _0x536861=this[a636_0x427b('0x9')][a636_0x427b('0x24')][a636_0x427b('0x15')][a636_0x427b('0x29')](_0x3242d0=>_0x3242d0[a636_0x427b('0x10')]===a636_0x427b('0x19')||_0x3242d0[a636_0x427b('0x10')]===a636_0x427b('0x14'));if(_0x2d7641[a636_0x427b('0x1b')]&&_0x536861[a636_0x427b('0xe')](_0x2d7641['moderationLogChannelId'])){const _0x44d804=_0x536861[a636_0x427b('0x1c')](_0x2d7641[a636_0x427b('0x1b')]);if(_0x44d804 instanceof discord_js_1[a636_0x427b('0x16')]||_0x44d804 instanceof discord_js_1[a636_0x427b('0x25')]){_0x2d7641['moderationCaseCount']=_0x2d7641[a636_0x427b('0xc')]?_0x2d7641['moderationCaseCount']+0x1:0x1;const _0x38562a=await _0x44d804[a636_0x427b('0xd')]({'embed':{'color':tesseract_1[a636_0x427b('0x22')]['COLORS'][a636_0x427b('0x2d')],'title':this[a636_0x427b('0x9')][a636_0x427b('0x11')]['getString'](_0x2d7641[a636_0x427b('0x2c')],a636_0x427b('0x20'),_0x379186[a636_0x427b('0x21')]),'fields':_0x379186['fields'],'footer':{'text':a636_0x427b('0x1')+_0x2d7641[a636_0x427b('0xc')]},'timestamp':new Date()}});await Case_1[a636_0x427b('0x1a')]['create']({'guild':this['id'],'number':_0x2d7641[a636_0x427b('0xc')],'messageId':_0x38562a['id']});await _0x2d7641[a636_0x427b('0x17')]();}}}};