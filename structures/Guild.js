const a196_0x539b=['moderationCaseCount','Case\x20#','ORANGE','getString','TextChannel','music','discord.js','getDocument','save','fields','channels','footer','findById','SOMEWHAT_DARK','type','events','timestamp','cache','default','Guild','exports','send','COLORS','createLog','Constants','moderationLogChannelId','@bastion/tesseract','language','apply','text','has','create','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','client','locale','get','news','NewsChannel','filter','../models/Guild','event'];(function(_0x23891a,_0x539be6){const _0x2cae82=function(_0x2c94b4){while(--_0x2c94b4){_0x23891a['push'](_0x23891a['shift']());}};const _0x358bfe=function(){const _0x133930={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4d1095,_0x4d252f,_0x128621,_0x512829){_0x512829=_0x512829||{};let _0xeb3369=_0x4d252f+'='+_0x128621;let _0x169013=0x0;for(let _0x18caa6=0x0,_0x4df0c7=_0x4d1095['length'];_0x18caa6<_0x4df0c7;_0x18caa6++){const _0xabee3f=_0x4d1095[_0x18caa6];_0xeb3369+=';\x20'+_0xabee3f;const _0x9d18e4=_0x4d1095[_0xabee3f];_0x4d1095['push'](_0x9d18e4);_0x4df0c7=_0x4d1095['length'];if(_0x9d18e4!==!![]){_0xeb3369+='='+_0x9d18e4;}}_0x512829['cookie']=_0xeb3369;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3af3b7,_0x221c9e){_0x3af3b7=_0x3af3b7||function(_0xf61494){return _0xf61494;};const _0x3ac9c5=_0x3af3b7(new RegExp('(?:^|;\x20)'+_0x221c9e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x46576c=function(_0x466b83,_0x3656a8){_0x466b83(++_0x3656a8);};_0x46576c(_0x2cae82,_0x539be6);return _0x3ac9c5?decodeURIComponent(_0x3ac9c5[0x1]):undefined;}};const _0x4fa4b7=function(){const _0x3f6a29=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3f6a29['test'](_0x133930['removeCookie']['toString']());};_0x133930['updateCookie']=_0x4fa4b7;let _0x7ca23a='';const _0x5cb8e8=_0x133930['updateCookie']();if(!_0x5cb8e8){_0x133930['setCookie'](['*'],'counter',0x1);}else if(_0x5cb8e8){_0x7ca23a=_0x133930['getCookie'](null,'counter');}else{_0x133930['removeCookie']();}};_0x358bfe();}(a196_0x539b,0xf9));const a196_0x2cae=function(_0x23891a,_0x539be6){_0x23891a=_0x23891a-0x0;let _0x2cae82=a196_0x539b[_0x23891a];return _0x2cae82;};const a196_0x133930=function(){let _0x2166d6=!![];return function(_0x3a188d,_0x2e2d95){const _0x193232=_0x2166d6?function(){if(_0x2e2d95){const _0x188e70=_0x2e2d95[a196_0x2cae('0x19')](_0x3a188d,arguments);_0x2e2d95=null;return _0x188e70;}}:function(){};_0x2166d6=![];return _0x193232;};}();const a196_0x2c94b4=a196_0x133930(this,function(){const _0x1fa3a3=function(){const _0x4bb07f=_0x1fa3a3['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a196_0x2cae('0x1d'));return!_0x4bb07f['test'](a196_0x2c94b4);};return _0x1fa3a3();});a196_0x2c94b4();'use strict';const tesseract_1=require(a196_0x2cae('0x17'));const discord_js_1=require(a196_0x2cae('0x3'));const Guild_1=require(a196_0x2cae('0x24'));const Case_1=require('../models/Case');module[a196_0x2cae('0x11')]=class BastionGuild extends discord_js_1[a196_0x2cae('0x10')]{constructor(_0x4bba2f,_0x1b41a4){super(_0x4bba2f,_0x1b41a4);this[a196_0x2cae('0x2')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a196_0x2cae('0x4')](){return await Guild_1[a196_0x2cae('0xf')][a196_0x2cae('0x9')](this['id']);}async[a196_0x2cae('0x14')](_0x22d776){const _0x58f18c=await this[a196_0x2cae('0x4')]();const _0x518f38=this[a196_0x2cae('0x1e')][a196_0x2cae('0x7')][a196_0x2cae('0xe')][a196_0x2cae('0x23')](_0x2e1164=>_0x2e1164[a196_0x2cae('0xb')]===a196_0x2cae('0x1a')||_0x2e1164['type']===a196_0x2cae('0x21'));if(_0x58f18c['serverLogChannelId']&&_0x518f38[a196_0x2cae('0x1b')](_0x58f18c['serverLogChannelId'])){const _0x3eb0f1=_0x518f38[a196_0x2cae('0x20')](_0x58f18c['serverLogChannelId']);if(_0x3eb0f1 instanceof discord_js_1[a196_0x2cae('0x22')]||_0x3eb0f1 instanceof discord_js_1['TextChannel']){return _0x3eb0f1['send']({'embed':{'color':tesseract_1[a196_0x2cae('0x15')][a196_0x2cae('0x13')][a196_0x2cae('0xa')],'title':this[a196_0x2cae('0x1e')][a196_0x2cae('0x1f')][a196_0x2cae('0x0')](_0x58f18c[a196_0x2cae('0x18')],'events',_0x22d776[a196_0x2cae('0x25')]),'fields':_0x22d776[a196_0x2cae('0x6')],'footer':{'text':_0x22d776[a196_0x2cae('0x8')]},'timestamp':_0x22d776[a196_0x2cae('0xd')]||new Date()}});}}}async['createModerationLog'](_0x320e8c){const _0x456d38=await this['getDocument']();const _0x1f816c=this[a196_0x2cae('0x1e')]['channels'][a196_0x2cae('0xe')][a196_0x2cae('0x23')](_0x579f36=>_0x579f36[a196_0x2cae('0xb')]==='text'||_0x579f36[a196_0x2cae('0xb')]===a196_0x2cae('0x21'));if(_0x456d38[a196_0x2cae('0x16')]&&_0x1f816c[a196_0x2cae('0x1b')](_0x456d38['moderationLogChannelId'])){const _0x51c94f=_0x1f816c[a196_0x2cae('0x20')](_0x456d38[a196_0x2cae('0x16')]);if(_0x51c94f instanceof discord_js_1['NewsChannel']||_0x51c94f instanceof discord_js_1[a196_0x2cae('0x1')]){_0x456d38[a196_0x2cae('0x26')]=_0x456d38['moderationCaseCount']?_0x456d38['moderationCaseCount']+0x1:0x1;const _0x123806=await _0x51c94f[a196_0x2cae('0x12')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a196_0x2cae('0x28')],'title':this['client'][a196_0x2cae('0x1f')][a196_0x2cae('0x0')](_0x456d38[a196_0x2cae('0x18')],a196_0x2cae('0xc'),_0x320e8c[a196_0x2cae('0x25')]),'fields':_0x320e8c['fields'],'footer':{'text':a196_0x2cae('0x27')+_0x456d38[a196_0x2cae('0x26')]},'timestamp':new Date()}});await Case_1[a196_0x2cae('0xf')][a196_0x2cae('0x1c')]({'guild':this['id'],'number':_0x456d38[a196_0x2cae('0x26')],'messageId':_0x123806['id']});await _0x456d38[a196_0x2cae('0x5')]();}}}};