const a197_0x58c6=['default','addInfraction','isOwner','document','isMusicMaster','ownerID','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MIN_SAFE_INTEGER','client','balance','constructor','clamp','send','Constants','kick','@bastion/tesseract','save','Kick','infractions','language','ORANGE','highest','user','length','cache','guild','create','locale','exports','compile','memberInfractions','apply','\x20infractions.','discord.js','MAX_SAFE_INTEGER','comparePositionTo','abs','../models/Transaction','error','roleId','music','info','bannable','getDocument','../models/Member','debit','kickThreshold','catch','roles','return\x20/\x22\x20+\x20this\x20+\x20\x22/','has','banThreshold'];(function(_0x28b502,_0x58c602){const _0xe3ad23=function(_0x3b2a6e){while(--_0x3b2a6e){_0x28b502['push'](_0x28b502['shift']());}};const _0x11a4eb=function(){const _0x224f52={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x354649,_0x4493fd,_0x5ce29f,_0x5f5acd){_0x5f5acd=_0x5f5acd||{};let _0x10953d=_0x4493fd+'='+_0x5ce29f;let _0x1da98a=0x0;for(let _0x4c425d=0x0,_0x23df2e=_0x354649['length'];_0x4c425d<_0x23df2e;_0x4c425d++){const _0x5f283f=_0x354649[_0x4c425d];_0x10953d+=';\x20'+_0x5f283f;const _0x9ef16b=_0x354649[_0x5f283f];_0x354649['push'](_0x9ef16b);_0x23df2e=_0x354649['length'];if(_0x9ef16b!==!![]){_0x10953d+='='+_0x9ef16b;}}_0x5f5acd['cookie']=_0x10953d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5864bf,_0x5e0b3d){_0x5864bf=_0x5864bf||function(_0x1a772e){return _0x1a772e;};const _0x504ea5=_0x5864bf(new RegExp('(?:^|;\x20)'+_0x5e0b3d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x25d483=function(_0x4162c8,_0x29e588){_0x4162c8(++_0x29e588);};_0x25d483(_0xe3ad23,_0x58c602);return _0x504ea5?decodeURIComponent(_0x504ea5[0x1]):undefined;}};const _0x380042=function(){const _0x533f87=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x533f87['test'](_0x224f52['removeCookie']['toString']());};_0x224f52['updateCookie']=_0x380042;let _0x17a3b4='';const _0x401994=_0x224f52['updateCookie']();if(!_0x401994){_0x224f52['setCookie'](['*'],'counter',0x1);}else if(_0x401994){_0x17a3b4=_0x224f52['getCookie'](null,'counter');}else{_0x224f52['removeCookie']();}};_0x11a4eb();}(a197_0x58c6,0x10f));const a197_0xe3ad=function(_0x28b502,_0x58c602){_0x28b502=_0x28b502-0x0;let _0xe3ad23=a197_0x58c6[_0x28b502];return _0xe3ad23;};const a197_0x224f52=function(){let _0x1b9a1d=!![];return function(_0x2a8834,_0x3c7caf){const _0x4222c8=_0x1b9a1d?function(){if(_0x3c7caf){const _0x523bfa=_0x3c7caf[a197_0xe3ad('0x14')](_0x2a8834,arguments);_0x3c7caf=null;return _0x523bfa;}}:function(){};_0x1b9a1d=![];return _0x4222c8;};}();const a197_0x3b2a6e=a197_0x224f52(this,function(){const _0x57113f=function(){const _0x4e0259=_0x57113f[a197_0xe3ad('0x33')](a197_0xe3ad('0x26'))()[a197_0xe3ad('0x12')](a197_0xe3ad('0x2f'));return!_0x4e0259['test'](a197_0x3b2a6e);};return _0x57113f();});a197_0x3b2a6e();'use strict';const tesseract_1=require(a197_0xe3ad('0x4'));const discord_js_1=require(a197_0xe3ad('0x16'));const Member_1=require(a197_0xe3ad('0x21'));const Transaction_1=require(a197_0xe3ad('0x1a'));const numbers=require('../utils/numbers');module[a197_0xe3ad('0x11')]=class BastionGuildMember extends discord_js_1['GuildMember']{constructor(_0x40b1a6,_0xc62f1d,_0x4b3e97){super(_0x40b1a6,_0xc62f1d,_0x4b3e97);}['canManage'](_0x596f2e){if(this['id']===this['guild'][a197_0xe3ad('0x2e')])return!![];if(_0x596f2e['id']===this[a197_0xe3ad('0xe')][a197_0xe3ad('0x2e')])return![];if(this['id']===_0x596f2e['id'])return![];return this[a197_0xe3ad('0x25')]['highest'][a197_0xe3ad('0x18')](_0x596f2e[a197_0xe3ad('0x25')][a197_0xe3ad('0xa')])>0x0;}async[a197_0xe3ad('0x20')](){return await Member_1['default']['findOne']({'user':this['id'],'guild':this[a197_0xe3ad('0xe')]['id']});}[a197_0xe3ad('0x2d')](){if(this[a197_0xe3ad('0xb')][a197_0xe3ad('0x2b')]())return!![];return this['guild'][a197_0xe3ad('0x2c')][a197_0xe3ad('0x1d')]&&this[a197_0xe3ad('0xe')][a197_0xe3ad('0x2c')][a197_0xe3ad('0x1d')][a197_0xe3ad('0x1c')]&&this[a197_0xe3ad('0x25')][a197_0xe3ad('0xd')][a197_0xe3ad('0x27')](this[a197_0xe3ad('0xe')][a197_0xe3ad('0x2c')][a197_0xe3ad('0x1d')]['roleId']);}async[a197_0xe3ad('0x2a')](_0x52cb59){const _0x4dd63c=await this[a197_0xe3ad('0x20')]();if(_0x4dd63c['infractions']){_0x4dd63c[a197_0xe3ad('0x7')]['push'](_0x52cb59);}else{_0x4dd63c[a197_0xe3ad('0x7')]=[_0x52cb59];}const _0x544077=this[a197_0xe3ad('0xe')][a197_0xe3ad('0x2c')]?this[a197_0xe3ad('0xe')]['document']:await this[a197_0xe3ad('0xe')][a197_0xe3ad('0x20')]();if(_0x544077['infractions']){const _0x75de91=_0x4dd63c[a197_0xe3ad('0x7')][a197_0xe3ad('0xc')];let _0x537de3;if(this['kickable']&&_0x4dd63c[a197_0xe3ad('0x7')][a197_0xe3ad('0xc')]===_0x544077[a197_0xe3ad('0x7')][a197_0xe3ad('0x23')]){_0x537de3=a197_0xe3ad('0x6');await this[a197_0xe3ad('0x3')](_0x4dd63c[a197_0xe3ad('0x7')][a197_0xe3ad('0xc')]+a197_0xe3ad('0x15'));}if(this[a197_0xe3ad('0x1f')]&&_0x4dd63c[a197_0xe3ad('0x7')][a197_0xe3ad('0xc')]===_0x544077[a197_0xe3ad('0x7')][a197_0xe3ad('0x28')]){_0x537de3='Ban';await this['ban']({'reason':_0x4dd63c[a197_0xe3ad('0x7')][a197_0xe3ad('0xc')]+'\x20infractions.'});_0x4dd63c[a197_0xe3ad('0x7')]=undefined;delete _0x4dd63c[a197_0xe3ad('0x7')];}if(_0x537de3){await this[a197_0xe3ad('0x1')]({'embed':{'color':tesseract_1[a197_0xe3ad('0x2')]['COLORS'][a197_0xe3ad('0x9')],'description':this[a197_0xe3ad('0x31')][a197_0xe3ad('0x10')]['getString'](_0x544077[a197_0xe3ad('0x8')],a197_0xe3ad('0x1e'),a197_0xe3ad('0x13')+_0x537de3,this[a197_0xe3ad('0xe')]['name'],_0x75de91)}})[a197_0xe3ad('0x24')](()=>{});}}return _0x4dd63c[a197_0xe3ad('0x5')]();}async['clearInfractions'](){const _0x100599=this['document']?this[a197_0xe3ad('0x2c')]:await this['getDocument']();_0x100599[a197_0xe3ad('0x7')]=undefined;delete _0x100599['infractions'];return _0x100599[a197_0xe3ad('0x5')]();}async['credit'](_0xacdc92,_0x525f74,_0x47a114){_0xacdc92=Math[a197_0xe3ad('0x19')](_0xacdc92);const _0x1a5bbf=_0x47a114||await this[a197_0xe3ad('0x20')]();if(_0xacdc92){_0x1a5bbf[a197_0xe3ad('0x32')]=numbers[a197_0xe3ad('0x0')](_0x1a5bbf[a197_0xe3ad('0x32')]+_0xacdc92,Number[a197_0xe3ad('0x17')]);if(!_0x47a114){await Transaction_1[a197_0xe3ad('0x29')][a197_0xe3ad('0xf')]({'guild':this[a197_0xe3ad('0xe')]['id'],'sender':this[a197_0xe3ad('0x31')]['user']['id'],'receiver':_0x47a114[a197_0xe3ad('0xb')],'amount':_0xacdc92,'time':new Date(),'note':_0x525f74})[a197_0xe3ad('0x24')](tesseract_1['Logger'][a197_0xe3ad('0x1b')]);}}return _0x47a114?_0x1a5bbf:_0x1a5bbf[a197_0xe3ad('0x5')]();}async[a197_0xe3ad('0x22')](_0x320906,_0x2033ad,_0x120362){_0x320906=Math[a197_0xe3ad('0x19')](_0x320906);const _0x5c3210=_0x120362||await this[a197_0xe3ad('0x20')]();if(_0x320906){_0x5c3210['balance']=numbers[a197_0xe3ad('0x0')](_0x5c3210[a197_0xe3ad('0x32')]-_0x320906,Number[a197_0xe3ad('0x30')]);if(!_0x120362){await Transaction_1[a197_0xe3ad('0x29')][a197_0xe3ad('0xf')]({'guild':this[a197_0xe3ad('0xe')]['id'],'sender':_0x120362[a197_0xe3ad('0xb')],'receiver':this[a197_0xe3ad('0x31')]['user']['id'],'amount':_0x320906,'time':new Date(),'note':_0x2033ad})[a197_0xe3ad('0x24')](tesseract_1['Logger'][a197_0xe3ad('0x1b')]);}}return _0x120362?_0x5c3210:_0x5c3210['save']();}};