const a211_0x2114=['clamp','ORANGE','push','memberInfractions','music','kick','clearInfractions','MIN_SAFE_INTEGER','document','\x20/\x20','roles','infractions','info','isOwner','\x20infractions.','kickThreshold','apply','debit','discord.js','MAX_SAFE_INTEGER','has','isMusicMaster','credit','Action','User','../utils/numbers','getDocument','abs','catch','createModerationLog','getString','length','language','client','Reason','comparePositionTo','canManage','kickable','../models/Transaction','cache','exports','send','guild','Constants','addInfraction','Ban','Logger','name','infractionAdd','@bastion/tesseract','roleId','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','COLORS','infractionClear','error','save','balance','test','banThreshold','create','return\x20/\x22\x20+\x20this\x20+\x20\x22/','ownerID','user','highest','default','findOne'];(function(_0x3317d3,_0x211406){const _0xbd8f7c=function(_0x43dec4){while(--_0x43dec4){_0x3317d3['push'](_0x3317d3['shift']());}},_0x5b0b2d=function(){const _0x498913={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x48696d,_0x42ef6b,_0x13bf3f,_0x10071c){_0x10071c=_0x10071c||{};let _0x1574f1=_0x42ef6b+'='+_0x13bf3f,_0x398e02=0x0;for(let _0x23951c=0x0,_0x3b518f=_0x48696d['length'];_0x23951c<_0x3b518f;_0x23951c++){const _0x49adc2=_0x48696d[_0x23951c];_0x1574f1+=';\x20'+_0x49adc2;const _0x3a4b28=_0x48696d[_0x49adc2];_0x48696d['push'](_0x3a4b28),_0x3b518f=_0x48696d['length'],_0x3a4b28!==!![]&&(_0x1574f1+='='+_0x3a4b28);}_0x10071c['cookie']=_0x1574f1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x464760,_0x49df76){_0x464760=_0x464760||function(_0x43c4c3){return _0x43c4c3;};const _0x1fa0cb=_0x464760(new RegExp('(?:^|;\x20)'+_0x49df76['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3f613d=function(_0x166c81,_0x2e2819){_0x166c81(++_0x2e2819);};return _0x3f613d(_0xbd8f7c,_0x211406),_0x1fa0cb?decodeURIComponent(_0x1fa0cb[0x1]):undefined;}},_0x1f20d6=function(){const _0x5f25cd=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5f25cd['test'](_0x498913['removeCookie']['toString']());};_0x498913['updateCookie']=_0x1f20d6;let _0xbe73ae='';const _0x26dde3=_0x498913['updateCookie']();if(!_0x26dde3)_0x498913['setCookie'](['*'],'counter',0x1);else _0x26dde3?_0xbe73ae=_0x498913['getCookie'](null,'counter'):_0x498913['removeCookie']();};_0x5b0b2d();}(a211_0x2114,0x13a));const a211_0xbd8f=function(_0x3317d3,_0x211406){_0x3317d3=_0x3317d3-0x0;let _0xbd8f7c=a211_0x2114[_0x3317d3];return _0xbd8f7c;};const a211_0x498913=function(){let _0xbe73ae=!![];return function(_0x26dde3,_0x48696d){const _0x42ef6b=_0xbe73ae?function(){if(_0x48696d){const _0x13bf3f=_0x48696d[a211_0xbd8f('0x20')](_0x26dde3,arguments);return _0x48696d=null,_0x13bf3f;}}:function(){};return _0xbe73ae=![],_0x42ef6b;};}(),a211_0x43dec4=a211_0x498913(this,function(){const _0x10071c=function(){const _0x1574f1=_0x10071c['constructor'](a211_0xbd8f('0xa'))()['constructor'](a211_0xbd8f('0x1'));return!_0x1574f1[a211_0xbd8f('0x7')](a211_0x43dec4);};return _0x10071c();});a211_0x43dec4();'use strict';const tesseract_1=require(a211_0xbd8f('0x41')),discord_js_1=require(a211_0xbd8f('0x22')),Member_1=require('../models/Member'),Transaction_1=require(a211_0xbd8f('0x36')),numbers=require(a211_0xbd8f('0x29'));module[a211_0xbd8f('0x38')]=class BastionGuildMember extends discord_js_1['GuildMember']{constructor(_0x398e02,_0x23951c,_0x3b518f){super(_0x398e02,_0x23951c,_0x3b518f);}[a211_0xbd8f('0x34')](_0x49adc2){if(this['id']===this['guild'][a211_0xbd8f('0xb')])return!![];if(_0x49adc2['id']===this[a211_0xbd8f('0x3a')][a211_0xbd8f('0xb')])return![];if(this['id']===_0x49adc2['id'])return![];return this['roles'][a211_0xbd8f('0xd')][a211_0xbd8f('0x33')](_0x49adc2[a211_0xbd8f('0x1a')][a211_0xbd8f('0xd')])>0x0;}async[a211_0xbd8f('0x2a')](){return await Member_1[a211_0xbd8f('0xe')][a211_0xbd8f('0xf')]({'user':this['id'],'guild':this[a211_0xbd8f('0x3a')]['id']});}[a211_0xbd8f('0x25')](){if(this[a211_0xbd8f('0xc')][a211_0xbd8f('0x1d')]())return!![];return this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x18')][a211_0xbd8f('0x14')]&&this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x18')][a211_0xbd8f('0x14')][a211_0xbd8f('0x0')]&&this['roles'][a211_0xbd8f('0x37')][a211_0xbd8f('0x24')](this[a211_0xbd8f('0x3a')]['document'][a211_0xbd8f('0x14')][a211_0xbd8f('0x0')]);}async[a211_0xbd8f('0x3c')](_0x3a4b28){let _0x464760=await this[a211_0xbd8f('0x2a')]();_0x464760?_0x464760[a211_0xbd8f('0x1b')]?_0x464760[a211_0xbd8f('0x1b')][a211_0xbd8f('0x12')](_0x3a4b28):_0x464760[a211_0xbd8f('0x1b')]=[_0x3a4b28]:_0x464760=await Member_1['default']['create']({'user':this['id'],'guild':this[a211_0xbd8f('0x3a')]['id'],'infractions':[_0x3a4b28]});const _0x49df76=this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x18')]?this[a211_0xbd8f('0x3a')]['document']:await this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x2a')]();if(_0x49df76[a211_0xbd8f('0x1b')]){const _0x1fa0cb=_0x464760['infractions'][a211_0xbd8f('0x2f')];let _0x3f613d;this[a211_0xbd8f('0x35')]&&_0x464760[a211_0xbd8f('0x1b')][a211_0xbd8f('0x2f')]===_0x49df76[a211_0xbd8f('0x1b')][a211_0xbd8f('0x1f')]&&(_0x3f613d='Kick',await this[a211_0xbd8f('0x15')](_0x464760[a211_0xbd8f('0x1b')][a211_0xbd8f('0x2f')]+a211_0xbd8f('0x1e'))),this['bannable']&&_0x464760['infractions'][a211_0xbd8f('0x2f')]===_0x49df76[a211_0xbd8f('0x1b')][a211_0xbd8f('0x8')]&&(_0x3f613d=a211_0xbd8f('0x3d'),await this['ban']({'reason':_0x464760[a211_0xbd8f('0x1b')][a211_0xbd8f('0x2f')]+a211_0xbd8f('0x1e')}),_0x464760[a211_0xbd8f('0x1b')]=undefined,delete _0x464760[a211_0xbd8f('0x1b')]),_0x3f613d&&(this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x2d')]({'event':a211_0xbd8f('0x40'),'fields':[{'name':'User','value':this[a211_0xbd8f('0xc')]['tag']+a211_0xbd8f('0x19')+this['id']},{'name':a211_0xbd8f('0x27'),'value':_0x3f613d},{'name':a211_0xbd8f('0x32'),'value':_0x3a4b28}]})['catch'](tesseract_1[a211_0xbd8f('0x3e')][a211_0xbd8f('0x4')]),await this[a211_0xbd8f('0x39')]({'embed':{'color':tesseract_1[a211_0xbd8f('0x3b')][a211_0xbd8f('0x2')][a211_0xbd8f('0x11')],'description':this[a211_0xbd8f('0x31')]['locale'][a211_0xbd8f('0x2e')](_0x49df76[a211_0xbd8f('0x30')],a211_0xbd8f('0x1c'),a211_0xbd8f('0x13')+_0x3f613d,this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x3f')],_0x1fa0cb)}})['catch'](()=>{}));}return _0x464760[a211_0xbd8f('0x5')]();}async[a211_0xbd8f('0x16')](_0x43c4c3){const _0x166c81=this[a211_0xbd8f('0x18')]?this[a211_0xbd8f('0x18')]:await this[a211_0xbd8f('0x2a')]();return _0x166c81['infractions']=undefined,delete _0x166c81[a211_0xbd8f('0x1b')],this[a211_0xbd8f('0x3a')][a211_0xbd8f('0x2d')]({'event':a211_0xbd8f('0x3'),'fields':[{'name':a211_0xbd8f('0x28'),'value':this[a211_0xbd8f('0xc')]['tag']+a211_0xbd8f('0x19')+this['id']},{'name':a211_0xbd8f('0x32'),'value':_0x43c4c3}]})[a211_0xbd8f('0x2c')](tesseract_1[a211_0xbd8f('0x3e')]['error']),_0x166c81[a211_0xbd8f('0x5')]();}async[a211_0xbd8f('0x26')](_0x2e2819,_0x5f25cd,_0x5210fa){_0x2e2819=Math['abs'](_0x2e2819);const _0x2ef073=_0x5210fa||await this[a211_0xbd8f('0x2a')]();return _0x2e2819&&(_0x2ef073[a211_0xbd8f('0x6')]=numbers[a211_0xbd8f('0x10')](_0x2ef073[a211_0xbd8f('0x6')]+_0x2e2819,Number[a211_0xbd8f('0x23')]),!_0x5210fa&&await Transaction_1[a211_0xbd8f('0xe')][a211_0xbd8f('0x9')]({'guild':this[a211_0xbd8f('0x3a')]['id'],'sender':this[a211_0xbd8f('0x31')][a211_0xbd8f('0xc')]['id'],'receiver':_0x2ef073[a211_0xbd8f('0xc')],'amount':_0x2e2819,'time':new Date(),'note':_0x5f25cd})[a211_0xbd8f('0x2c')](tesseract_1['Logger'][a211_0xbd8f('0x4')])),_0x5210fa?_0x2ef073:_0x2ef073['save']();}async[a211_0xbd8f('0x21')](_0x45f0aa,_0x49ac67,_0x13f60c){_0x45f0aa=Math[a211_0xbd8f('0x2b')](_0x45f0aa);const _0x1f31a=_0x13f60c||await this['getDocument']();return _0x45f0aa&&(_0x1f31a[a211_0xbd8f('0x6')]=numbers[a211_0xbd8f('0x10')](_0x1f31a[a211_0xbd8f('0x6')]-_0x45f0aa,Number[a211_0xbd8f('0x17')],Number[a211_0xbd8f('0x23')]),!_0x13f60c&&await Transaction_1[a211_0xbd8f('0xe')][a211_0xbd8f('0x9')]({'guild':this['guild']['id'],'sender':_0x1f31a[a211_0xbd8f('0xc')],'receiver':this[a211_0xbd8f('0x31')][a211_0xbd8f('0xc')]['id'],'amount':_0x45f0aa,'time':new Date(),'note':_0x49ac67})[a211_0xbd8f('0x2c')](tesseract_1['Logger'][a211_0xbd8f('0x4')])),_0x13f60c?_0x1f31a:_0x1f31a[a211_0xbd8f('0x5')]();}};