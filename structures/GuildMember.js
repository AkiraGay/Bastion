const a205_0x4de5=['infractions','ban','\x20infractions.','catch','user','create','default','constructor','ownerID','clamp','info','MIN_SAFE_INTEGER','memberInfractions','locale','test','exports','Logger','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','balance','kickThreshold','kickable','roleId','document','music','language','getString','Constants','isOwner','save','getDocument','../models/Transaction','length','debit','apply','discord.js','return\x20/\x22\x20+\x20this\x20+\x20\x22/','bannable','abs','client','cache','Ban','error','ORANGE','MAX_SAFE_INTEGER','push','roles','COLORS','clearInfractions','../models/Member','guild','credit','kick','name','highest'];(function(_0x49df31,_0x4de53f){const _0x87b3b2=function(_0x184076){while(--_0x184076){_0x49df31['push'](_0x49df31['shift']());}},_0x25f761=function(){const _0x2cd009={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x21a100,_0x784b03,_0x5bdf24,_0x5a6e5d){_0x5a6e5d=_0x5a6e5d||{};let _0x2f1f44=_0x784b03+'='+_0x5bdf24,_0x6a2a64=0x0;for(let _0x11d197=0x0,_0x542550=_0x21a100['length'];_0x11d197<_0x542550;_0x11d197++){const _0x2a5459=_0x21a100[_0x11d197];_0x2f1f44+=';\x20'+_0x2a5459;const _0x6c8bc=_0x21a100[_0x2a5459];_0x21a100['push'](_0x6c8bc),_0x542550=_0x21a100['length'],_0x6c8bc!==!![]&&(_0x2f1f44+='='+_0x6c8bc);}_0x5a6e5d['cookie']=_0x2f1f44;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4df54c,_0x25158a){_0x4df54c=_0x4df54c||function(_0x4d2c3f){return _0x4d2c3f;};const _0x326225=_0x4df54c(new RegExp('(?:^|;\x20)'+_0x25158a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb79644=function(_0xee131c,_0x57ab3b){_0xee131c(++_0x57ab3b);};return _0xb79644(_0x87b3b2,_0x4de53f),_0x326225?decodeURIComponent(_0x326225[0x1]):undefined;}},_0x18d5a2=function(){const _0x49c4e0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x49c4e0['test'](_0x2cd009['removeCookie']['toString']());};_0x2cd009['updateCookie']=_0x18d5a2;let _0x4cef49='';const _0x2402e0=_0x2cd009['updateCookie']();if(!_0x2402e0)_0x2cd009['setCookie'](['*'],'counter',0x1);else _0x2402e0?_0x4cef49=_0x2cd009['getCookie'](null,'counter'):_0x2cd009['removeCookie']();};_0x25f761();}(a205_0x4de5,0x19a));const a205_0x87b3=function(_0x49df31,_0x4de53f){_0x49df31=_0x49df31-0x0;let _0x87b3b2=a205_0x4de5[_0x49df31];return _0x87b3b2;};const a205_0x5bdf24=function(){let _0x155317=!![];return function(_0x10ccda,_0x16bf40){const _0x3837b3=_0x155317?function(){if(_0x16bf40){const _0x2406de=_0x16bf40[a205_0x87b3('0x1')](_0x10ccda,arguments);return _0x16bf40=null,_0x2406de;}}:function(){};return _0x155317=![],_0x3837b3;};}(),a205_0x784b03=a205_0x5bdf24(this,function(){const _0x27be74=function(){const _0x3429d2=_0x27be74[a205_0x87b3('0x1d')](a205_0x87b3('0x3'))()['constructor'](a205_0x87b3('0x27'));return!_0x3429d2[a205_0x87b3('0x24')](a205_0x784b03);};return _0x27be74();});a205_0x784b03();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a205_0x87b3('0x2')),Member_1=require(a205_0x87b3('0x10')),Transaction_1=require(a205_0x87b3('0x34')),numbers=require('../utils/numbers');module[a205_0x87b3('0x25')]=class BastionGuildMember extends discord_js_1['GuildMember']{constructor(_0x531c48,_0x3ae05d,_0x494df1){super(_0x531c48,_0x3ae05d,_0x494df1);}['canManage'](_0x363884){if(this['id']===this[a205_0x87b3('0x11')][a205_0x87b3('0x1e')])return!![];if(_0x363884['id']===this[a205_0x87b3('0x11')][a205_0x87b3('0x1e')])return![];if(this['id']===_0x363884['id'])return![];return this['roles'][a205_0x87b3('0x15')]['comparePositionTo'](_0x363884[a205_0x87b3('0xd')][a205_0x87b3('0x15')])>0x0;}async[a205_0x87b3('0x33')](){return await Member_1['default']['findOne']({'user':this['id'],'guild':this['guild']['id']});}['isMusicMaster'](){if(this['user'][a205_0x87b3('0x31')]())return!![];return this[a205_0x87b3('0x11')][a205_0x87b3('0x2c')][a205_0x87b3('0x2d')]&&this[a205_0x87b3('0x11')]['document'][a205_0x87b3('0x2d')][a205_0x87b3('0x2b')]&&this[a205_0x87b3('0xd')][a205_0x87b3('0x7')]['has'](this[a205_0x87b3('0x11')][a205_0x87b3('0x2c')][a205_0x87b3('0x2d')][a205_0x87b3('0x2b')]);}async['addInfraction'](_0x15d6bb){let _0x4cb159=await this[a205_0x87b3('0x33')]();_0x4cb159?_0x4cb159[a205_0x87b3('0x16')]?_0x4cb159['infractions'][a205_0x87b3('0xc')](_0x15d6bb):_0x4cb159[a205_0x87b3('0x16')]=[_0x15d6bb]:_0x4cb159=await Member_1[a205_0x87b3('0x1c')][a205_0x87b3('0x1b')]({'user':this['id'],'guild':this['guild']['id'],'infractions':[_0x15d6bb]});const _0x186cef=this[a205_0x87b3('0x11')][a205_0x87b3('0x2c')]?this[a205_0x87b3('0x11')]['document']:await this[a205_0x87b3('0x11')][a205_0x87b3('0x33')]();if(_0x186cef[a205_0x87b3('0x16')]){const _0x5014d4=_0x4cb159[a205_0x87b3('0x16')][a205_0x87b3('0x35')];let _0x41794a;this[a205_0x87b3('0x2a')]&&_0x4cb159[a205_0x87b3('0x16')][a205_0x87b3('0x35')]===_0x186cef[a205_0x87b3('0x16')][a205_0x87b3('0x29')]&&(_0x41794a='Kick',await this[a205_0x87b3('0x13')](_0x4cb159[a205_0x87b3('0x16')][a205_0x87b3('0x35')]+a205_0x87b3('0x18'))),this[a205_0x87b3('0x4')]&&_0x4cb159[a205_0x87b3('0x16')]['length']===_0x186cef[a205_0x87b3('0x16')]['banThreshold']&&(_0x41794a=a205_0x87b3('0x8'),await this[a205_0x87b3('0x17')]({'reason':_0x4cb159['infractions'][a205_0x87b3('0x35')]+'\x20infractions.'}),_0x4cb159[a205_0x87b3('0x16')]=undefined,delete _0x4cb159['infractions']),_0x41794a&&await this['send']({'embed':{'color':tesseract_1[a205_0x87b3('0x30')][a205_0x87b3('0xe')][a205_0x87b3('0xa')],'description':this[a205_0x87b3('0x6')][a205_0x87b3('0x23')][a205_0x87b3('0x2f')](_0x186cef[a205_0x87b3('0x2e')],a205_0x87b3('0x20'),a205_0x87b3('0x22')+_0x41794a,this['guild'][a205_0x87b3('0x14')],_0x5014d4)}})[a205_0x87b3('0x19')](()=>{});}return _0x4cb159[a205_0x87b3('0x32')]();}async[a205_0x87b3('0xf')](){const _0x10ae34=this[a205_0x87b3('0x2c')]?this['document']:await this[a205_0x87b3('0x33')]();return _0x10ae34[a205_0x87b3('0x16')]=undefined,delete _0x10ae34[a205_0x87b3('0x16')],_0x10ae34[a205_0x87b3('0x32')]();}async[a205_0x87b3('0x12')](_0x49b1bc,_0x28833c,_0x91ffea){_0x49b1bc=Math[a205_0x87b3('0x5')](_0x49b1bc);const _0x364f03=_0x91ffea||await this[a205_0x87b3('0x33')]();return _0x49b1bc&&(_0x364f03[a205_0x87b3('0x28')]=numbers[a205_0x87b3('0x1f')](_0x364f03[a205_0x87b3('0x28')]+_0x49b1bc,Number[a205_0x87b3('0xb')]),!_0x91ffea&&await Transaction_1[a205_0x87b3('0x1c')][a205_0x87b3('0x1b')]({'guild':this[a205_0x87b3('0x11')]['id'],'sender':this[a205_0x87b3('0x6')][a205_0x87b3('0x1a')]['id'],'receiver':_0x364f03[a205_0x87b3('0x1a')],'amount':_0x49b1bc,'time':new Date(),'note':_0x28833c})[a205_0x87b3('0x19')](tesseract_1['Logger'][a205_0x87b3('0x9')])),_0x91ffea?_0x364f03:_0x364f03[a205_0x87b3('0x32')]();}async[a205_0x87b3('0x0')](_0x5c084c,_0x103f5d,_0x100988){_0x5c084c=Math['abs'](_0x5c084c);const _0x15e0b4=_0x100988||await this['getDocument']();return _0x5c084c&&(_0x15e0b4['balance']=numbers[a205_0x87b3('0x1f')](_0x15e0b4[a205_0x87b3('0x28')]-_0x5c084c,Number[a205_0x87b3('0x21')],Number[a205_0x87b3('0xb')]),!_0x100988&&await Transaction_1[a205_0x87b3('0x1c')][a205_0x87b3('0x1b')]({'guild':this[a205_0x87b3('0x11')]['id'],'sender':_0x15e0b4[a205_0x87b3('0x1a')],'receiver':this[a205_0x87b3('0x6')]['user']['id'],'amount':_0x5c084c,'time':new Date(),'note':_0x103f5d})[a205_0x87b3('0x19')](tesseract_1[a205_0x87b3('0x26')][a205_0x87b3('0x9')])),_0x100988?_0x15e0b4:_0x15e0b4['save']();}};