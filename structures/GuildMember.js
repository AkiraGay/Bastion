const a207_0x30f9=['error','push','apply','Ban','music','debit','client','document','credit','Logger','cache','length','locale','User','Kick','isMusicMaster','Constants','\x20/\x20','createModerationLog','constructor','catch','guild','../models/Member','clamp','tag','COLORS','ban','info','@bastion/tesseract','MIN_SAFE_INTEGER','../models/Transaction','comparePositionTo','discord.js','balance','default','roleId','ownerID','highest','Action','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','infractions','../utils/numbers','abs','bannable','user','test','getDocument','language','kick','infractionClear','roles','create','Reason','getString','ORANGE','exports','findOne','memberInfractions','has','MAX_SAFE_INTEGER','kickable','clearInfractions','save','GuildMember','infractionAdd'];(function(_0x576749,_0x30f92b){const _0x5d184b=function(_0x4b993c){while(--_0x4b993c){_0x576749['push'](_0x576749['shift']());}},_0x3d18cb=function(){const _0x5522d3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x96fa33,_0x318886,_0x277b15,_0x322660){_0x322660=_0x322660||{};let _0x451cb2=_0x318886+'='+_0x277b15,_0x4089dc=0x0;for(let _0x5cc482=0x0,_0x3c5850=_0x96fa33['length'];_0x5cc482<_0x3c5850;_0x5cc482++){const _0x19d7a4=_0x96fa33[_0x5cc482];_0x451cb2+=';\x20'+_0x19d7a4;const _0x39fe02=_0x96fa33[_0x19d7a4];_0x96fa33['push'](_0x39fe02),_0x3c5850=_0x96fa33['length'],_0x39fe02!==!![]&&(_0x451cb2+='='+_0x39fe02);}_0x322660['cookie']=_0x451cb2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x18746c,_0x1af7b1){_0x18746c=_0x18746c||function(_0x43b39e){return _0x43b39e;};const _0x77a197=_0x18746c(new RegExp('(?:^|;\x20)'+_0x1af7b1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2b83a0=function(_0x1ed7e9,_0x22be1d){_0x1ed7e9(++_0x22be1d);};return _0x2b83a0(_0x5d184b,_0x30f92b),_0x77a197?decodeURIComponent(_0x77a197[0x1]):undefined;}},_0x21ef2e=function(){const _0x5f1960=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5f1960['test'](_0x5522d3['removeCookie']['toString']());};_0x5522d3['updateCookie']=_0x21ef2e;let _0x1a0438='';const _0x389b3d=_0x5522d3['updateCookie']();if(!_0x389b3d)_0x5522d3['setCookie'](['*'],'counter',0x1);else _0x389b3d?_0x1a0438=_0x5522d3['getCookie'](null,'counter'):_0x5522d3['removeCookie']();};_0x3d18cb();}(a207_0x30f9,0x1d3));const a207_0x5d18=function(_0x576749,_0x30f92b){_0x576749=_0x576749-0x0;let _0x5d184b=a207_0x30f9[_0x576749];return _0x5d184b;};const a207_0x277b15=function(){let _0x150014=!![];return function(_0x29b046,_0x1bb318){const _0x2b146f=_0x150014?function(){if(_0x1bb318){const _0x4600ea=_0x1bb318[a207_0x5d18('0x37')](_0x29b046,arguments);return _0x1bb318=null,_0x4600ea;}}:function(){};return _0x150014=![],_0x2b146f;};}(),a207_0x318886=a207_0x277b15(this,function(){const _0x582e81=function(){const _0xb940a=_0x582e81[a207_0x5d18('0x7')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a207_0x5d18('0x7')](a207_0x5d18('0x1b'));return!_0xb940a[a207_0x5d18('0x21')](a207_0x318886);};return _0x582e81();});a207_0x318886();'use strict';const tesseract_1=require(a207_0x5d18('0x10')),discord_js_1=require(a207_0x5d18('0x14')),Member_1=require(a207_0x5d18('0xa')),Transaction_1=require(a207_0x5d18('0x12')),numbers=require(a207_0x5d18('0x1d'));module[a207_0x5d18('0x2b')]=class BastionGuildMember extends discord_js_1[a207_0x5d18('0x33')]{constructor(_0x1cc64c,_0x1e3220,_0xcb5cf8){super(_0x1cc64c,_0x1e3220,_0xcb5cf8);}['canManage'](_0x120069){if(this['id']===this[a207_0x5d18('0x9')]['ownerID'])return!![];if(_0x120069['id']===this['guild'][a207_0x5d18('0x18')])return![];if(this['id']===_0x120069['id'])return![];return this[a207_0x5d18('0x26')][a207_0x5d18('0x19')][a207_0x5d18('0x13')](_0x120069[a207_0x5d18('0x26')]['highest'])>0x0;}async[a207_0x5d18('0x22')](){return await Member_1[a207_0x5d18('0x16')][a207_0x5d18('0x2c')]({'user':this['id'],'guild':this[a207_0x5d18('0x9')]['id']});}[a207_0x5d18('0x3')](){if(this[a207_0x5d18('0x20')]['isOwner']())return!![];return this[a207_0x5d18('0x9')][a207_0x5d18('0x3c')][a207_0x5d18('0x39')]&&this[a207_0x5d18('0x9')]['document']['music'][a207_0x5d18('0x17')]&&this[a207_0x5d18('0x26')][a207_0x5d18('0x3f')][a207_0x5d18('0x2e')](this[a207_0x5d18('0x9')][a207_0x5d18('0x3c')][a207_0x5d18('0x39')]['roleId']);}async['addInfraction'](_0x2c6673){let _0xaf0374=await this[a207_0x5d18('0x22')]();_0xaf0374?_0xaf0374[a207_0x5d18('0x1c')]?_0xaf0374['infractions'][a207_0x5d18('0x36')](_0x2c6673):_0xaf0374['infractions']=[_0x2c6673]:_0xaf0374=await Member_1['default'][a207_0x5d18('0x27')]({'user':this['id'],'guild':this[a207_0x5d18('0x9')]['id'],'infractions':[_0x2c6673]});const _0x2e04f2=this[a207_0x5d18('0x9')][a207_0x5d18('0x3c')]?this[a207_0x5d18('0x9')][a207_0x5d18('0x3c')]:await this[a207_0x5d18('0x9')][a207_0x5d18('0x22')]();if(_0x2e04f2['infractions']){const _0xfe6a78=_0xaf0374[a207_0x5d18('0x1c')][a207_0x5d18('0x40')];let _0x39d79c;this[a207_0x5d18('0x30')]&&_0xaf0374['infractions'][a207_0x5d18('0x40')]===_0x2e04f2[a207_0x5d18('0x1c')]['kickThreshold']&&(_0x39d79c=a207_0x5d18('0x2'),await this[a207_0x5d18('0x24')](_0xaf0374[a207_0x5d18('0x1c')]['length']+'\x20infractions.')),this[a207_0x5d18('0x1f')]&&_0xaf0374['infractions'][a207_0x5d18('0x40')]===_0x2e04f2[a207_0x5d18('0x1c')]['banThreshold']&&(_0x39d79c=a207_0x5d18('0x38'),await this[a207_0x5d18('0xe')]({'reason':_0xaf0374['infractions']['length']+'\x20infractions.'}),_0xaf0374[a207_0x5d18('0x1c')]=undefined,delete _0xaf0374[a207_0x5d18('0x1c')]),_0x39d79c&&(this[a207_0x5d18('0x9')][a207_0x5d18('0x6')]({'event':a207_0x5d18('0x34'),'fields':[{'name':a207_0x5d18('0x1'),'value':this[a207_0x5d18('0x20')][a207_0x5d18('0xc')]+'\x20/\x20'+this['id']},{'name':a207_0x5d18('0x1a'),'value':_0x39d79c},{'name':a207_0x5d18('0x28'),'value':_0x2c6673}]})[a207_0x5d18('0x8')](tesseract_1[a207_0x5d18('0x3e')]['error']),await this['send']({'embed':{'color':tesseract_1[a207_0x5d18('0x4')][a207_0x5d18('0xd')][a207_0x5d18('0x2a')],'description':this[a207_0x5d18('0x3b')][a207_0x5d18('0x0')][a207_0x5d18('0x29')](_0x2e04f2[a207_0x5d18('0x23')],a207_0x5d18('0xf'),a207_0x5d18('0x2d')+_0x39d79c,this[a207_0x5d18('0x9')]['name'],_0xfe6a78)}})[a207_0x5d18('0x8')](()=>{}));}return _0xaf0374['save']();}async[a207_0x5d18('0x31')](_0x119b13){const _0x10e91e=this[a207_0x5d18('0x3c')]?this['document']:await this['getDocument']();return _0x10e91e[a207_0x5d18('0x1c')]=undefined,delete _0x10e91e[a207_0x5d18('0x1c')],this[a207_0x5d18('0x9')][a207_0x5d18('0x6')]({'event':a207_0x5d18('0x25'),'fields':[{'name':a207_0x5d18('0x1'),'value':this[a207_0x5d18('0x20')]['tag']+a207_0x5d18('0x5')+this['id']},{'name':'Reason','value':_0x119b13}]})['catch'](tesseract_1[a207_0x5d18('0x3e')][a207_0x5d18('0x35')]),_0x10e91e[a207_0x5d18('0x32')]();}async[a207_0x5d18('0x3d')](_0x35b999,_0xdbaa5,_0x204fcf){_0x35b999=Math[a207_0x5d18('0x1e')](_0x35b999);const _0x3284d1=_0x204fcf||await this['getDocument']();return _0x35b999&&(_0x3284d1['balance']=numbers[a207_0x5d18('0xb')](_0x3284d1['balance']+_0x35b999,Number[a207_0x5d18('0x2f')]),!_0x204fcf&&await Transaction_1[a207_0x5d18('0x16')][a207_0x5d18('0x27')]({'guild':this[a207_0x5d18('0x9')]['id'],'sender':this[a207_0x5d18('0x3b')][a207_0x5d18('0x20')]['id'],'receiver':_0x3284d1['user'],'amount':_0x35b999,'time':new Date(),'note':_0xdbaa5})[a207_0x5d18('0x8')](tesseract_1[a207_0x5d18('0x3e')][a207_0x5d18('0x35')])),_0x204fcf?_0x3284d1:_0x3284d1['save']();}async[a207_0x5d18('0x3a')](_0x418e59,_0x4b5e52,_0x39ecc3){_0x418e59=Math[a207_0x5d18('0x1e')](_0x418e59);const _0x5e4881=_0x39ecc3||await this['getDocument']();return _0x418e59&&(_0x5e4881['balance']=numbers[a207_0x5d18('0xb')](_0x5e4881[a207_0x5d18('0x15')]-_0x418e59,Number[a207_0x5d18('0x11')],Number[a207_0x5d18('0x2f')]),!_0x39ecc3&&await Transaction_1['default'][a207_0x5d18('0x27')]({'guild':this[a207_0x5d18('0x9')]['id'],'sender':_0x5e4881[a207_0x5d18('0x20')],'receiver':this[a207_0x5d18('0x3b')][a207_0x5d18('0x20')]['id'],'amount':_0x418e59,'time':new Date(),'note':_0x4b5e52})[a207_0x5d18('0x8')](tesseract_1[a207_0x5d18('0x3e')][a207_0x5d18('0x35')])),_0x39ecc3?_0x5e4881:_0x5e4881[a207_0x5d18('0x32')]();}};