const a229_0x1ad5=['kick','error','infractionClear','document','addInfraction','GuildMember','bannable','cache','create','MAX_SAFE_INTEGER','roles','ORANGE','exports','isMusicMaster','findOne','@bastion/tesseract','MIN_SAFE_INTEGER','13PEKAZS','has','infractions','2577129EiDnrd','../models/Member','526CNrRzC','client','constructor','test','push','clearInfractions','locale','balance','../utils/numbers','infractionAdd','Reason','User','credit','music','memberInfractions','comparePositionTo','1552eubXbg','catch','kickThreshold','1IzIsqh','abs','1ocEsoO','tag','highest','Ban','debit','isOwner','COLORS','createModerationLog','840281EMWGsr','986110xiHYmA','1059801grdthP','getDocument','100502VjaYvT','length','33415cNQmrU','return\x20/\x22\x20+\x20this\x20+\x20\x22/','guild','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','ownerID','user','save','ban','1pFZpDG','\x20infractions.','Action','default','kickable','canManage','Logger','Kick','banThreshold','roleId'];const a229_0x42aa=function(_0x3a8750,_0x282d1f){_0x3a8750=_0x3a8750-0x139;let _0x2dfb9f=a229_0x1ad5[_0x3a8750];return _0x2dfb9f;};const a229_0x2e8aed=a229_0x42aa;(function(_0x4e6863,_0x2c7e20){const _0x1fbd13=a229_0x42aa;while(!![]){try{const _0x3b563c=parseInt(_0x1fbd13(0x16f))+parseInt(_0x1fbd13(0x170))+-parseInt(_0x1fbd13(0x161))*-parseInt(_0x1fbd13(0x151))+-parseInt(_0x1fbd13(0x172))*parseInt(_0x1fbd13(0x166))+-parseInt(_0x1fbd13(0x16e))*-parseInt(_0x1fbd13(0x17c))+-parseInt(_0x1fbd13(0x14c))*parseInt(_0x1fbd13(0x174))+-parseInt(_0x1fbd13(0x14f))*parseInt(_0x1fbd13(0x164));if(_0x3b563c===_0x2c7e20)break;else _0x4e6863['push'](_0x4e6863['shift']());}catch(_0x58b4e5){_0x4e6863['push'](_0x4e6863['shift']());}}}(a229_0x1ad5,0x902b6));const a229_0x46ee40=function(){let _0x270338=!![];return function(_0x37cdbd,_0x462291){const _0x3f0a0b=_0x270338?function(){if(_0x462291){const _0x3b4705=_0x462291['apply'](_0x37cdbd,arguments);return _0x462291=null,_0x3b4705;}}:function(){};return _0x270338=![],_0x3f0a0b;};}(),a229_0x376be4=a229_0x46ee40(this,function(){const _0x54dc74=function(){const _0x448b0f=a229_0x42aa,_0x50f193=_0x54dc74['constructor'](_0x448b0f(0x175))()[_0x448b0f(0x153)](_0x448b0f(0x177));return!_0x50f193[_0x448b0f(0x154)](a229_0x376be4);};return _0x54dc74();});a229_0x376be4();'use strict';const tesseract_1=require(a229_0x2e8aed(0x14a)),discord_js_1=require('discord.js'),Member_1=require(a229_0x2e8aed(0x150)),Transaction_1=require('../models/Transaction'),numbers=require(a229_0x2e8aed(0x159));module[a229_0x2e8aed(0x147)]=class BastionGuildMember extends discord_js_1[a229_0x2e8aed(0x140)]{constructor(_0x293ae0,_0x49adaa,_0xf4335){super(_0x293ae0,_0x49adaa,_0xf4335);}[a229_0x2e8aed(0x181)](_0x3e45a0){const _0x4dc5f8=a229_0x2e8aed;if(this['id']===this[_0x4dc5f8(0x176)][_0x4dc5f8(0x178)])return!![];if(_0x3e45a0['id']===this[_0x4dc5f8(0x176)][_0x4dc5f8(0x178)])return![];if(this['id']===_0x3e45a0['id'])return![];return this['roles'][_0x4dc5f8(0x168)][_0x4dc5f8(0x160)](_0x3e45a0['roles'][_0x4dc5f8(0x168)])>0x0;}async[a229_0x2e8aed(0x171)](){const _0x552b00=a229_0x2e8aed;return await Member_1['default'][_0x552b00(0x149)]({'user':this['id'],'guild':this[_0x552b00(0x176)]['id']});}[a229_0x2e8aed(0x148)](){const _0x20db1c=a229_0x2e8aed;if(this[_0x20db1c(0x179)][_0x20db1c(0x16b)]())return!![];return this['guild'][_0x20db1c(0x13e)][_0x20db1c(0x15e)]&&this[_0x20db1c(0x176)][_0x20db1c(0x13e)][_0x20db1c(0x15e)][_0x20db1c(0x13a)]&&this[_0x20db1c(0x145)][_0x20db1c(0x142)][_0x20db1c(0x14d)](this[_0x20db1c(0x176)]['document'][_0x20db1c(0x15e)][_0x20db1c(0x13a)]);}async[a229_0x2e8aed(0x13f)](_0x51c7e3){const _0x3d7dd4=a229_0x2e8aed;let _0x17c0d5=await this['getDocument']();_0x17c0d5?_0x17c0d5[_0x3d7dd4(0x14e)]?_0x17c0d5[_0x3d7dd4(0x14e)][_0x3d7dd4(0x155)](_0x51c7e3):_0x17c0d5[_0x3d7dd4(0x14e)]=[_0x51c7e3]:_0x17c0d5=await Member_1[_0x3d7dd4(0x17f)][_0x3d7dd4(0x143)]({'user':this['id'],'guild':this[_0x3d7dd4(0x176)]['id'],'infractions':[_0x51c7e3]});const _0x4ab39d=this[_0x3d7dd4(0x176)][_0x3d7dd4(0x13e)]?this[_0x3d7dd4(0x176)]['document']:await this[_0x3d7dd4(0x176)][_0x3d7dd4(0x171)]();if(_0x4ab39d[_0x3d7dd4(0x14e)]){const _0x5d32eb=_0x17c0d5[_0x3d7dd4(0x14e)][_0x3d7dd4(0x173)];let _0x62275d;this[_0x3d7dd4(0x180)]&&_0x17c0d5[_0x3d7dd4(0x14e)][_0x3d7dd4(0x173)]===_0x4ab39d[_0x3d7dd4(0x14e)][_0x3d7dd4(0x163)]&&(_0x62275d=_0x3d7dd4(0x183),await this[_0x3d7dd4(0x13b)](_0x17c0d5[_0x3d7dd4(0x14e)][_0x3d7dd4(0x173)]+'\x20infractions.')),this[_0x3d7dd4(0x141)]&&_0x17c0d5[_0x3d7dd4(0x14e)][_0x3d7dd4(0x173)]===_0x4ab39d[_0x3d7dd4(0x14e)][_0x3d7dd4(0x139)]&&(_0x62275d=_0x3d7dd4(0x169),await this[_0x3d7dd4(0x17b)]({'reason':_0x17c0d5[_0x3d7dd4(0x14e)][_0x3d7dd4(0x173)]+_0x3d7dd4(0x17d)}),_0x17c0d5[_0x3d7dd4(0x14e)]=undefined,delete _0x17c0d5[_0x3d7dd4(0x14e)]),_0x62275d&&(this[_0x3d7dd4(0x176)][_0x3d7dd4(0x16d)]({'event':_0x3d7dd4(0x15a),'fields':[{'name':_0x3d7dd4(0x15c),'value':this['user'][_0x3d7dd4(0x167)]+'\x20/\x20'+this['id']},{'name':_0x3d7dd4(0x17e),'value':_0x62275d},{'name':'Reason','value':_0x51c7e3}]})[_0x3d7dd4(0x162)](tesseract_1[_0x3d7dd4(0x182)][_0x3d7dd4(0x13c)]),await this['send']({'embed':{'color':tesseract_1['Constants'][_0x3d7dd4(0x16c)][_0x3d7dd4(0x146)],'description':this[_0x3d7dd4(0x152)][_0x3d7dd4(0x157)]['getString'](_0x4ab39d['language'],'info',_0x3d7dd4(0x15f)+_0x62275d,this[_0x3d7dd4(0x176)]['name'],_0x5d32eb)}})[_0x3d7dd4(0x162)](()=>{}));}return _0x17c0d5[_0x3d7dd4(0x17a)]();}async[a229_0x2e8aed(0x156)](_0x44a685){const _0x943b1e=a229_0x2e8aed,_0x2acdcf=this['document']?this['document']:await this['getDocument']();return _0x2acdcf[_0x943b1e(0x14e)]=undefined,delete _0x2acdcf['infractions'],this[_0x943b1e(0x176)][_0x943b1e(0x16d)]({'event':_0x943b1e(0x13d),'fields':[{'name':_0x943b1e(0x15c),'value':this[_0x943b1e(0x179)][_0x943b1e(0x167)]+'\x20/\x20'+this['id']},{'name':_0x943b1e(0x15b),'value':_0x44a685}]})[_0x943b1e(0x162)](tesseract_1[_0x943b1e(0x182)][_0x943b1e(0x13c)]),_0x2acdcf['save']();}async[a229_0x2e8aed(0x15d)](_0x15d4b6,_0x30aa9a,_0x3a6eb5){const _0x1891bf=a229_0x2e8aed;_0x15d4b6=Math[_0x1891bf(0x165)](_0x15d4b6);const _0x237ae6=_0x3a6eb5||await this[_0x1891bf(0x171)]();return _0x15d4b6&&(_0x237ae6[_0x1891bf(0x158)]=numbers['clamp'](_0x237ae6['balance']+_0x15d4b6,Number[_0x1891bf(0x144)]),!_0x3a6eb5&&await Transaction_1['default'][_0x1891bf(0x143)]({'guild':this[_0x1891bf(0x176)]['id'],'sender':this[_0x1891bf(0x152)][_0x1891bf(0x179)]['id'],'receiver':_0x237ae6[_0x1891bf(0x179)],'amount':_0x15d4b6,'time':new Date(),'note':_0x30aa9a})[_0x1891bf(0x162)](tesseract_1[_0x1891bf(0x182)]['error'])),_0x3a6eb5?_0x237ae6:_0x237ae6[_0x1891bf(0x17a)]();}async[a229_0x2e8aed(0x16a)](_0x217239,_0x3397cb,_0x42ed0c){const _0xdde1e7=a229_0x2e8aed;_0x217239=Math['abs'](_0x217239);const _0x535cb9=_0x42ed0c||await this[_0xdde1e7(0x171)]();return _0x217239&&(_0x535cb9['balance']=numbers['clamp'](_0x535cb9[_0xdde1e7(0x158)]-_0x217239,Number[_0xdde1e7(0x14b)],Number[_0xdde1e7(0x144)]),!_0x42ed0c&&await Transaction_1['default'][_0xdde1e7(0x143)]({'guild':this[_0xdde1e7(0x176)]['id'],'sender':_0x535cb9['user'],'receiver':this[_0xdde1e7(0x152)][_0xdde1e7(0x179)]['id'],'amount':_0x217239,'time':new Date(),'note':_0x3397cb})[_0xdde1e7(0x162)](tesseract_1[_0xdde1e7(0x182)][_0xdde1e7(0x13c)])),_0x42ed0c?_0x535cb9:_0x535cb9['save']();}};