const a231_0x1310a0=a231_0x43ab;(function(_0x36e167,_0x562a5a){const _0x2d9132=a231_0x43ab,_0x2c520f=_0x36e167();while(!![]){try{const _0x903070=-parseInt(_0x2d9132(0x18a))/0x1*(-parseInt(_0x2d9132(0x189))/0x2)+-parseInt(_0x2d9132(0x1c5))/0x3*(-parseInt(_0x2d9132(0x19a))/0x4)+parseInt(_0x2d9132(0x1b8))/0x5*(-parseInt(_0x2d9132(0x193))/0x6)+parseInt(_0x2d9132(0x1a3))/0x7+-parseInt(_0x2d9132(0x197))/0x8*(-parseInt(_0x2d9132(0x1bd))/0x9)+parseInt(_0x2d9132(0x1be))/0xa*(-parseInt(_0x2d9132(0x1b1))/0xb)+parseInt(_0x2d9132(0x1cc))/0xc*(-parseInt(_0x2d9132(0x1ac))/0xd);if(_0x903070===_0x562a5a)break;else _0x2c520f['push'](_0x2c520f['shift']());}catch(_0x5a52e7){_0x2c520f['push'](_0x2c520f['shift']());}}}(a231_0x1644,0xd0e9b));const a231_0x41a513=(function(){let _0x148436=!![];return function(_0x1514ed,_0x2fc6b6){const _0x4d4c3a=_0x148436?function(){const _0x189c9b=a231_0x43ab;if(_0x2fc6b6){const _0x4e801c=_0x2fc6b6[_0x189c9b(0x1bb)](_0x1514ed,arguments);return _0x2fc6b6=null,_0x4e801c;}}:function(){};return _0x148436=![],_0x4d4c3a;};}()),a231_0x351453=a231_0x41a513(this,function(){const _0x539bdf=a231_0x43ab;return a231_0x351453[_0x539bdf(0x1c6)]()[_0x539bdf(0x18c)](_0x539bdf(0x1b4))[_0x539bdf(0x1c6)]()['constructor'](a231_0x351453)[_0x539bdf(0x18c)](_0x539bdf(0x1b4));});a231_0x351453();function a231_0x1644(){const _0x5b125b=['9OMdiLI','110FJhNBR','error','MIN_SAFE_INTEGER','GuildMember','\x20/\x20','comparePositionTo','Kick','12603qnwNwK','toString','getString','document','clearInfractions','Logger','Constants','27396UtHiGU','highest','tag','canManage','COLORS','save','../utils/numbers','User','1028342oQwRmu','1bCpprX','addInfraction','search','locale','\x20infractions.','ban','user','infractionAdd','music','213606rugmdJ','../models/Member','has','roleId','2513864KjjJVG','getDocument','@bastion/tesseract','1364LsSQkS','language','Reason','guild','length','default','infractionClear','cache','isOwner','7601531hrTYsi','bannable','memberInfractions','MAX_SAFE_INTEGER','catch','infractions','createModerationLog','credit','client','611ASHUOJ','create','../models/Transaction','push','clamp','1565047eDBdgd','isMusicMaster','Action','(((.+)+)+)+$','discord.js','abs','name','115weXYke','debit','balance','apply','roles'];a231_0x1644=function(){return _0x5b125b;};return a231_0x1644();}'use strict';function a231_0x43ab(_0x29e92a,_0x5ab2c9){const _0x467ea2=a231_0x1644();return a231_0x43ab=function(_0x351453,_0x41a513){_0x351453=_0x351453-0x186;let _0x1644fb=_0x467ea2[_0x351453];return _0x1644fb;},a231_0x43ab(_0x29e92a,_0x5ab2c9);}const tesseract_1=require(a231_0x1310a0(0x199)),discord_js_1=require(a231_0x1310a0(0x1b5)),Member_1=require(a231_0x1310a0(0x194)),Transaction_1=require(a231_0x1310a0(0x1ae)),numbers=require(a231_0x1310a0(0x187));module['exports']=class BastionGuildMember extends discord_js_1[a231_0x1310a0(0x1c1)]{[a231_0x1310a0(0x1c8)];constructor(_0x2d4d23,_0x2c4761,_0x149051){super(_0x2d4d23,_0x2c4761,_0x149051);}[a231_0x1310a0(0x1cf)](_0x18dfab){const _0x496c86=a231_0x1310a0;if(this['id']===this[_0x496c86(0x19d)]['ownerID'])return!![];if(_0x18dfab['id']===this[_0x496c86(0x19d)]['ownerID'])return![];if(this['id']===_0x18dfab['id'])return![];return this['roles'][_0x496c86(0x1cd)][_0x496c86(0x1c3)](_0x18dfab['roles'][_0x496c86(0x1cd)])>0x0;}async['getDocument'](){const _0x43308a=a231_0x1310a0;return await Member_1[_0x43308a(0x19f)]['findOne']({'user':this['id'],'guild':this[_0x43308a(0x19d)]['id']});}[a231_0x1310a0(0x1b2)](){const _0x463aae=a231_0x1310a0;if(this[_0x463aae(0x190)][_0x463aae(0x1a2)]())return!![];return this[_0x463aae(0x19d)]['document'][_0x463aae(0x192)]&&this['guild'][_0x463aae(0x1c8)]['music'][_0x463aae(0x196)]&&this[_0x463aae(0x1bc)][_0x463aae(0x1a1)][_0x463aae(0x195)](this[_0x463aae(0x19d)][_0x463aae(0x1c8)][_0x463aae(0x192)][_0x463aae(0x196)]);}async[a231_0x1310a0(0x18b)](_0x346785){const _0x25ada3=a231_0x1310a0;let _0x1d72cc=await this['getDocument']();_0x1d72cc?_0x1d72cc[_0x25ada3(0x1a8)]?_0x1d72cc['infractions'][_0x25ada3(0x1af)](_0x346785):_0x1d72cc['infractions']=[_0x346785]:_0x1d72cc=await Member_1[_0x25ada3(0x19f)][_0x25ada3(0x1ad)]({'user':this['id'],'guild':this[_0x25ada3(0x19d)]['id'],'infractions':[_0x346785]});const _0x55618e=this[_0x25ada3(0x19d)][_0x25ada3(0x1c8)]?this[_0x25ada3(0x19d)][_0x25ada3(0x1c8)]:await this[_0x25ada3(0x19d)][_0x25ada3(0x198)]();if(_0x55618e[_0x25ada3(0x1a8)]){const _0x3fc16f=_0x1d72cc[_0x25ada3(0x1a8)][_0x25ada3(0x19e)];let _0xf93b4b;this['kickable']&&_0x1d72cc[_0x25ada3(0x1a8)][_0x25ada3(0x19e)]===_0x55618e[_0x25ada3(0x1a8)]['kickThreshold']&&(_0xf93b4b=_0x25ada3(0x1c4),await this['kick'](_0x1d72cc[_0x25ada3(0x1a8)]['length']+_0x25ada3(0x18e))),this[_0x25ada3(0x1a4)]&&_0x1d72cc['infractions'][_0x25ada3(0x19e)]===_0x55618e[_0x25ada3(0x1a8)]['banThreshold']&&(_0xf93b4b='Ban',await this[_0x25ada3(0x18f)]({'reason':_0x1d72cc[_0x25ada3(0x1a8)][_0x25ada3(0x19e)]+_0x25ada3(0x18e)}),_0x1d72cc[_0x25ada3(0x1a8)]=undefined,delete _0x1d72cc['infractions']),_0xf93b4b&&(this[_0x25ada3(0x19d)][_0x25ada3(0x1a9)]({'event':_0x25ada3(0x191),'fields':[{'name':_0x25ada3(0x188),'value':this[_0x25ada3(0x190)][_0x25ada3(0x1ce)]+_0x25ada3(0x1c2)+this['id']},{'name':_0x25ada3(0x1b3),'value':_0xf93b4b},{'name':_0x25ada3(0x19c),'value':_0x346785}]})['catch'](tesseract_1[_0x25ada3(0x1ca)][_0x25ada3(0x1bf)]),await this['send']({'embed':{'color':tesseract_1[_0x25ada3(0x1cb)][_0x25ada3(0x1d0)]['ORANGE'],'description':this['client'][_0x25ada3(0x18d)][_0x25ada3(0x1c7)](_0x55618e[_0x25ada3(0x19b)],'info',_0x25ada3(0x1a5)+_0xf93b4b,this[_0x25ada3(0x19d)][_0x25ada3(0x1b7)],_0x3fc16f)}})[_0x25ada3(0x1a7)](()=>{}));}return _0x1d72cc[_0x25ada3(0x186)]();}async[a231_0x1310a0(0x1c9)](_0x109598){const _0x16aeb4=a231_0x1310a0,_0x53a9bb=this[_0x16aeb4(0x1c8)]?this[_0x16aeb4(0x1c8)]:await this[_0x16aeb4(0x198)]();return _0x53a9bb[_0x16aeb4(0x1a8)]=undefined,delete _0x53a9bb[_0x16aeb4(0x1a8)],this[_0x16aeb4(0x19d)][_0x16aeb4(0x1a9)]({'event':_0x16aeb4(0x1a0),'fields':[{'name':'User','value':this[_0x16aeb4(0x190)][_0x16aeb4(0x1ce)]+_0x16aeb4(0x1c2)+this['id']},{'name':_0x16aeb4(0x19c),'value':_0x109598}]})[_0x16aeb4(0x1a7)](tesseract_1[_0x16aeb4(0x1ca)][_0x16aeb4(0x1bf)]),_0x53a9bb[_0x16aeb4(0x186)]();}async[a231_0x1310a0(0x1aa)](_0x19f5ca,_0x26767b,_0x23dc69){const _0x4471a1=a231_0x1310a0;_0x19f5ca=Math[_0x4471a1(0x1b6)](_0x19f5ca);const _0x5ed39a=_0x23dc69||await this[_0x4471a1(0x198)]();return _0x19f5ca&&(_0x5ed39a[_0x4471a1(0x1ba)]=numbers[_0x4471a1(0x1b0)](_0x5ed39a[_0x4471a1(0x1ba)]+_0x19f5ca,Number[_0x4471a1(0x1a6)]),!_0x23dc69&&await Transaction_1[_0x4471a1(0x19f)]['create']({'guild':this[_0x4471a1(0x19d)]['id'],'sender':this[_0x4471a1(0x1ab)]['user']['id'],'receiver':_0x5ed39a[_0x4471a1(0x190)],'amount':_0x19f5ca,'time':new Date(),'note':_0x26767b})['catch'](tesseract_1[_0x4471a1(0x1ca)]['error'])),_0x23dc69?_0x5ed39a:_0x5ed39a['save']();}async[a231_0x1310a0(0x1b9)](_0x5aff00,_0x35cc7f,_0x37ae79){const _0x5db83d=a231_0x1310a0;_0x5aff00=Math[_0x5db83d(0x1b6)](_0x5aff00);const _0x4da4a8=_0x37ae79||await this[_0x5db83d(0x198)]();return _0x5aff00&&(_0x4da4a8[_0x5db83d(0x1ba)]=numbers[_0x5db83d(0x1b0)](_0x4da4a8['balance']-_0x5aff00,Number[_0x5db83d(0x1c0)],Number[_0x5db83d(0x1a6)]),!_0x37ae79&&await Transaction_1[_0x5db83d(0x19f)]['create']({'guild':this[_0x5db83d(0x19d)]['id'],'sender':_0x4da4a8[_0x5db83d(0x190)],'receiver':this[_0x5db83d(0x1ab)][_0x5db83d(0x190)]['id'],'amount':_0x5aff00,'time':new Date(),'note':_0x35cc7f})['catch'](tesseract_1[_0x5db83d(0x1ca)]['error'])),_0x37ae79?_0x4da4a8:_0x4da4a8[_0x5db83d(0x186)]();}};