const a197_0x2368=['roles','roleId','push','kickable','@bastion/tesseract','../utils/numbers','COLORS','catch','credit','abs','has','test','clearInfractions','getDocument','Constants','highest','addInfraction','save','ORANGE','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','error','client','debit','../models/Transaction','getString','guild','../models/Member','name','ownerID','length','cache','Kick','MIN_SAFE_INTEGER','discord.js','bannable','balance','MAX_SAFE_INTEGER','compile','apply','canManage','clamp','return\x20/\x22\x20+\x20this\x20+\x20\x22/','findOne','GuildMember','\x20infractions.','infractions','comparePositionTo','document','isOwner','user','create','memberInfractions','info','music','ban','kickThreshold','Logger','language'];(function(_0x405c1f,_0x2368f4){const _0x140bb8=function(_0x526f2c){while(--_0x526f2c){_0x405c1f['push'](_0x405c1f['shift']());}};const _0x3f1c20=function(){const _0x28fdca={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2718a4,_0x26609d,_0x385c2c,_0x73e185){_0x73e185=_0x73e185||{};let _0xa78104=_0x26609d+'='+_0x385c2c;let _0x30926a=0x0;for(let _0x4599ef=0x0,_0x252ab0=_0x2718a4['length'];_0x4599ef<_0x252ab0;_0x4599ef++){const _0x4be775=_0x2718a4[_0x4599ef];_0xa78104+=';\x20'+_0x4be775;const _0x4e1791=_0x2718a4[_0x4be775];_0x2718a4['push'](_0x4e1791);_0x252ab0=_0x2718a4['length'];if(_0x4e1791!==!![]){_0xa78104+='='+_0x4e1791;}}_0x73e185['cookie']=_0xa78104;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2208c0,_0x3f9a10){_0x2208c0=_0x2208c0||function(_0x5c8f24){return _0x5c8f24;};const _0x2fdf3f=_0x2208c0(new RegExp('(?:^|;\x20)'+_0x3f9a10['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x3d2588=function(_0x18ded9,_0x4c6fde){_0x18ded9(++_0x4c6fde);};_0x3d2588(_0x140bb8,_0x2368f4);return _0x2fdf3f?decodeURIComponent(_0x2fdf3f[0x1]):undefined;}};const _0x2e3109=function(){const _0x54bc29=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x54bc29['test'](_0x28fdca['removeCookie']['toString']());};_0x28fdca['updateCookie']=_0x2e3109;let _0x49d768='';const _0x4ddc98=_0x28fdca['updateCookie']();if(!_0x4ddc98){_0x28fdca['setCookie'](['*'],'counter',0x1);}else if(_0x4ddc98){_0x49d768=_0x28fdca['getCookie'](null,'counter');}else{_0x28fdca['removeCookie']();}};_0x3f1c20();}(a197_0x2368,0x172));const a197_0x140b=function(_0x405c1f,_0x2368f4){_0x405c1f=_0x405c1f-0x0;let _0x140bb8=a197_0x2368[_0x405c1f];return _0x140bb8;};const a197_0x28fdca=function(){let _0x40406d=!![];return function(_0x409e40,_0x416346){const _0x5b353f=_0x40406d?function(){if(_0x416346){const _0x204675=_0x416346[a197_0x140b('0x10')](_0x409e40,arguments);_0x416346=null;return _0x204675;}}:function(){};_0x40406d=![];return _0x5b353f;};}();const a197_0x526f2c=a197_0x28fdca(this,function(){const _0x1b976d=function(){const _0x4162f2=_0x1b976d['constructor'](a197_0x140b('0x13'))()[a197_0x140b('0xf')](a197_0x140b('0x37'));return!_0x4162f2[a197_0x140b('0x2f')](a197_0x526f2c);};return _0x1b976d();});a197_0x526f2c();'use strict';const tesseract_1=require(a197_0x140b('0x28'));const discord_js_1=require(a197_0x140b('0xb'));const Member_1=require(a197_0x140b('0x4'));const Transaction_1=require(a197_0x140b('0x1'));const numbers=require(a197_0x140b('0x29'));module['exports']=class BastionGuildMember extends discord_js_1[a197_0x140b('0x15')]{constructor(_0x39350e,_0x1ed005,_0x211370){super(_0x39350e,_0x1ed005,_0x211370);}[a197_0x140b('0x11')](_0x171c7b){if(this['id']===this[a197_0x140b('0x3')][a197_0x140b('0x6')])return!![];if(_0x171c7b['id']===this['guild'][a197_0x140b('0x6')])return![];if(this['id']===_0x171c7b['id'])return![];return this['roles']['highest'][a197_0x140b('0x18')](_0x171c7b[a197_0x140b('0x24')][a197_0x140b('0x33')])>0x0;}async[a197_0x140b('0x31')](){return await Member_1['default'][a197_0x140b('0x14')]({'user':this['id'],'guild':this[a197_0x140b('0x3')]['id']});}['isMusicMaster'](){if(this[a197_0x140b('0x1b')][a197_0x140b('0x1a')]())return!![];return this[a197_0x140b('0x3')][a197_0x140b('0x19')][a197_0x140b('0x1f')]&&this[a197_0x140b('0x3')][a197_0x140b('0x19')][a197_0x140b('0x1f')][a197_0x140b('0x25')]&&this['roles'][a197_0x140b('0x8')][a197_0x140b('0x2e')](this[a197_0x140b('0x3')][a197_0x140b('0x19')][a197_0x140b('0x1f')]['roleId']);}async[a197_0x140b('0x34')](_0x586067){const _0x474337=await this[a197_0x140b('0x31')]();if(_0x474337['infractions']){_0x474337[a197_0x140b('0x17')][a197_0x140b('0x26')](_0x586067);}else{_0x474337[a197_0x140b('0x17')]=[_0x586067];}const _0x515308=this[a197_0x140b('0x3')][a197_0x140b('0x19')]?this[a197_0x140b('0x3')][a197_0x140b('0x19')]:await this[a197_0x140b('0x3')][a197_0x140b('0x31')]();if(_0x515308[a197_0x140b('0x17')]){const _0x45ab5d=_0x474337[a197_0x140b('0x17')][a197_0x140b('0x7')];let _0x24e06b;if(this[a197_0x140b('0x27')]&&_0x474337[a197_0x140b('0x17')][a197_0x140b('0x7')]===_0x515308[a197_0x140b('0x17')][a197_0x140b('0x21')]){_0x24e06b=a197_0x140b('0x9');await this['kick'](_0x474337[a197_0x140b('0x17')][a197_0x140b('0x7')]+'\x20infractions.');}if(this[a197_0x140b('0xc')]&&_0x474337[a197_0x140b('0x17')][a197_0x140b('0x7')]===_0x515308[a197_0x140b('0x17')]['banThreshold']){_0x24e06b='Ban';await this[a197_0x140b('0x20')]({'reason':_0x474337[a197_0x140b('0x17')][a197_0x140b('0x7')]+a197_0x140b('0x16')});_0x474337[a197_0x140b('0x17')]=undefined;delete _0x474337[a197_0x140b('0x17')];}if(_0x24e06b){await this['send']({'embed':{'color':tesseract_1[a197_0x140b('0x32')][a197_0x140b('0x2a')][a197_0x140b('0x36')],'description':this[a197_0x140b('0x39')]['locale'][a197_0x140b('0x2')](_0x515308[a197_0x140b('0x23')],a197_0x140b('0x1e'),a197_0x140b('0x1d')+_0x24e06b,this[a197_0x140b('0x3')][a197_0x140b('0x5')],_0x45ab5d)}})['catch'](()=>{});}}return _0x474337['save']();}async[a197_0x140b('0x30')](){const _0x4caa4b=this[a197_0x140b('0x19')]?this[a197_0x140b('0x19')]:await this['getDocument']();_0x4caa4b[a197_0x140b('0x17')]=undefined;delete _0x4caa4b[a197_0x140b('0x17')];return _0x4caa4b[a197_0x140b('0x35')]();}async[a197_0x140b('0x2c')](_0x5ee8f3,_0x24ee6a,_0x4f560f){_0x5ee8f3=Math[a197_0x140b('0x2d')](_0x5ee8f3);const _0xabb4da=_0x4f560f||await this[a197_0x140b('0x31')]();if(_0x5ee8f3){_0xabb4da['balance']=numbers[a197_0x140b('0x12')](_0xabb4da[a197_0x140b('0xd')]+_0x5ee8f3,Number[a197_0x140b('0xe')]);if(!_0x4f560f){await Transaction_1['default'][a197_0x140b('0x1c')]({'guild':this[a197_0x140b('0x3')]['id'],'sender':this['client'][a197_0x140b('0x1b')]['id'],'receiver':_0x4f560f[a197_0x140b('0x1b')],'amount':_0x5ee8f3,'time':new Date(),'note':_0x24ee6a})[a197_0x140b('0x2b')](tesseract_1[a197_0x140b('0x22')]['error']);}}return _0x4f560f?_0xabb4da:_0xabb4da['save']();}async[a197_0x140b('0x0')](_0x1d970c,_0x1e3690,_0x2136f9){_0x1d970c=Math[a197_0x140b('0x2d')](_0x1d970c);const _0xf67b40=_0x2136f9||await this[a197_0x140b('0x31')]();if(_0x1d970c){_0xf67b40[a197_0x140b('0xd')]=numbers[a197_0x140b('0x12')](_0xf67b40[a197_0x140b('0xd')]-_0x1d970c,Number[a197_0x140b('0xa')]);if(!_0x2136f9){await Transaction_1['default'][a197_0x140b('0x1c')]({'guild':this[a197_0x140b('0x3')]['id'],'sender':_0x2136f9[a197_0x140b('0x1b')],'receiver':this[a197_0x140b('0x39')][a197_0x140b('0x1b')]['id'],'amount':_0x1d970c,'time':new Date(),'note':_0x1e3690})[a197_0x140b('0x2b')](tesseract_1[a197_0x140b('0x22')][a197_0x140b('0x38')]);}}return _0x2136f9?_0xf67b40:_0xf67b40['save']();}};