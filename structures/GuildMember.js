const a210_0x1894=['GuildMember','default','banThreshold','create','info','discord.js','clamp','findOne','abs','ownerID','document','roles','Action','MAX_SAFE_INTEGER','kickable','ban','return\x20/\x22\x20+\x20this\x20+\x20\x22/','addInfraction','language','createModerationLog','../models/Member','getString','name','balance','kick','infractions','cache','catch','constructor','send','kickThreshold','@bastion/tesseract','credit','User','music','tag','highest','canManage','locale','infractionAdd','roleId','../utils/numbers','bannable','infractionClear','exports','getDocument','client','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','length','COLORS','ORANGE','user','Constants','error','guild','\x20infractions.','isOwner','Logger','apply','MIN_SAFE_INTEGER','\x20/\x20','isMusicMaster','save','comparePositionTo'];(function(_0x232c62,_0x1894c9){const _0x2f19f0=function(_0x376838){while(--_0x376838){_0x232c62['push'](_0x232c62['shift']());}},_0x48edda=function(){const _0x488784={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e4e55,_0x336595,_0x30d609,_0x32035d){_0x32035d=_0x32035d||{};let _0x58545c=_0x336595+'='+_0x30d609,_0x189dfa=0x0;for(let _0x196992=0x0,_0x2ab621=_0x4e4e55['length'];_0x196992<_0x2ab621;_0x196992++){const _0x1c5988=_0x4e4e55[_0x196992];_0x58545c+=';\x20'+_0x1c5988;const _0x5d827e=_0x4e4e55[_0x1c5988];_0x4e4e55['push'](_0x5d827e),_0x2ab621=_0x4e4e55['length'],_0x5d827e!==!![]&&(_0x58545c+='='+_0x5d827e);}_0x32035d['cookie']=_0x58545c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x216a7a,_0x10b287){_0x216a7a=_0x216a7a||function(_0x377c39){return _0x377c39;};const _0x4a1ec9=_0x216a7a(new RegExp('(?:^|;\x20)'+_0x10b287['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x173cc1=function(_0x18c005,_0x2baba2){_0x18c005(++_0x2baba2);};return _0x173cc1(_0x2f19f0,_0x1894c9),_0x4a1ec9?decodeURIComponent(_0x4a1ec9[0x1]):undefined;}},_0x248dc5=function(){const _0x11e284=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x11e284['test'](_0x488784['removeCookie']['toString']());};_0x488784['updateCookie']=_0x248dc5;let _0x42a206='';const _0x3be325=_0x488784['updateCookie']();if(!_0x3be325)_0x488784['setCookie'](['*'],'counter',0x1);else _0x3be325?_0x42a206=_0x488784['getCookie'](null,'counter'):_0x488784['removeCookie']();};_0x48edda();}(a210_0x1894,0xf7));const a210_0x2f19=function(_0x232c62,_0x1894c9){_0x232c62=_0x232c62-0x0;let _0x2f19f0=a210_0x1894[_0x232c62];return _0x2f19f0;};const a210_0x488784=function(){let _0x42a206=!![];return function(_0x3be325,_0x4e4e55){const _0x336595=_0x42a206?function(){if(_0x4e4e55){const _0x30d609=_0x4e4e55[a210_0x2f19('0x3')](_0x3be325,arguments);return _0x4e4e55=null,_0x30d609;}}:function(){};return _0x42a206=![],_0x336595;};}(),a210_0x376838=a210_0x488784(this,function(){const _0x32035d=function(){const _0x58545c=_0x32035d[a210_0x2f19('0x25')](a210_0x2f19('0x19'))()['constructor'](a210_0x2f19('0x38'));return!_0x58545c['test'](a210_0x376838);};return _0x32035d();});a210_0x376838();'use strict';const tesseract_1=require(a210_0x2f19('0x28')),discord_js_1=require(a210_0x2f19('0xe')),Member_1=require(a210_0x2f19('0x1d')),Transaction_1=require('../models/Transaction'),numbers=require(a210_0x2f19('0x32'));module[a210_0x2f19('0x35')]=class BastionGuildMember extends discord_js_1[a210_0x2f19('0x9')]{constructor(_0x189dfa,_0x196992,_0x2ab621){super(_0x189dfa,_0x196992,_0x2ab621);}[a210_0x2f19('0x2e')](_0x1c5988){if(this['id']===this[a210_0x2f19('0x3f')][a210_0x2f19('0x12')])return!![];if(_0x1c5988['id']===this['guild'][a210_0x2f19('0x12')])return![];if(this['id']===_0x1c5988['id'])return![];return this['roles'][a210_0x2f19('0x2d')][a210_0x2f19('0x8')](_0x1c5988[a210_0x2f19('0x14')][a210_0x2f19('0x2d')])>0x0;}async[a210_0x2f19('0x36')](){return await Member_1[a210_0x2f19('0xa')][a210_0x2f19('0x10')]({'user':this['id'],'guild':this[a210_0x2f19('0x3f')]['id']});}[a210_0x2f19('0x6')](){if(this[a210_0x2f19('0x3c')][a210_0x2f19('0x1')]())return!![];return this[a210_0x2f19('0x3f')]['document'][a210_0x2f19('0x2b')]&&this[a210_0x2f19('0x3f')][a210_0x2f19('0x13')]['music'][a210_0x2f19('0x31')]&&this[a210_0x2f19('0x14')][a210_0x2f19('0x23')]['has'](this['guild'][a210_0x2f19('0x13')][a210_0x2f19('0x2b')][a210_0x2f19('0x31')]);}async[a210_0x2f19('0x1a')](_0x5d827e){let _0x216a7a=await this[a210_0x2f19('0x36')]();_0x216a7a?_0x216a7a[a210_0x2f19('0x22')]?_0x216a7a[a210_0x2f19('0x22')]['push'](_0x5d827e):_0x216a7a[a210_0x2f19('0x22')]=[_0x5d827e]:_0x216a7a=await Member_1['default'][a210_0x2f19('0xc')]({'user':this['id'],'guild':this['guild']['id'],'infractions':[_0x5d827e]});const _0x10b287=this['guild'][a210_0x2f19('0x13')]?this['guild'][a210_0x2f19('0x13')]:await this['guild']['getDocument']();if(_0x10b287[a210_0x2f19('0x22')]){const _0x4a1ec9=_0x216a7a[a210_0x2f19('0x22')]['length'];let _0x173cc1;this[a210_0x2f19('0x17')]&&_0x216a7a[a210_0x2f19('0x22')][a210_0x2f19('0x39')]===_0x10b287[a210_0x2f19('0x22')][a210_0x2f19('0x27')]&&(_0x173cc1='Kick',await this[a210_0x2f19('0x21')](_0x216a7a[a210_0x2f19('0x22')][a210_0x2f19('0x39')]+a210_0x2f19('0x0'))),this[a210_0x2f19('0x33')]&&_0x216a7a['infractions']['length']===_0x10b287[a210_0x2f19('0x22')][a210_0x2f19('0xb')]&&(_0x173cc1='Ban',await this[a210_0x2f19('0x18')]({'reason':_0x216a7a['infractions'][a210_0x2f19('0x39')]+'\x20infractions.'}),_0x216a7a['infractions']=undefined,delete _0x216a7a[a210_0x2f19('0x22')]),_0x173cc1&&(this[a210_0x2f19('0x3f')][a210_0x2f19('0x1c')]({'event':a210_0x2f19('0x30'),'fields':[{'name':'User','value':this[a210_0x2f19('0x3c')][a210_0x2f19('0x2c')]+a210_0x2f19('0x5')+this['id']},{'name':a210_0x2f19('0x15'),'value':_0x173cc1},{'name':'Reason','value':_0x5d827e}]})['catch'](tesseract_1[a210_0x2f19('0x2')][a210_0x2f19('0x3e')]),await this[a210_0x2f19('0x26')]({'embed':{'color':tesseract_1[a210_0x2f19('0x3d')][a210_0x2f19('0x3a')][a210_0x2f19('0x3b')],'description':this[a210_0x2f19('0x37')][a210_0x2f19('0x2f')][a210_0x2f19('0x1e')](_0x10b287[a210_0x2f19('0x1b')],a210_0x2f19('0xd'),'memberInfractions'+_0x173cc1,this[a210_0x2f19('0x3f')][a210_0x2f19('0x1f')],_0x4a1ec9)}})[a210_0x2f19('0x24')](()=>{}));}return _0x216a7a['save']();}async['clearInfractions'](_0x377c39){const _0x18c005=this[a210_0x2f19('0x13')]?this[a210_0x2f19('0x13')]:await this[a210_0x2f19('0x36')]();return _0x18c005[a210_0x2f19('0x22')]=undefined,delete _0x18c005['infractions'],this[a210_0x2f19('0x3f')][a210_0x2f19('0x1c')]({'event':a210_0x2f19('0x34'),'fields':[{'name':a210_0x2f19('0x2a'),'value':this[a210_0x2f19('0x3c')][a210_0x2f19('0x2c')]+'\x20/\x20'+this['id']},{'name':'Reason','value':_0x377c39}]})[a210_0x2f19('0x24')](tesseract_1['Logger'][a210_0x2f19('0x3e')]),_0x18c005[a210_0x2f19('0x7')]();}async[a210_0x2f19('0x29')](_0x2baba2,_0x11e284,_0x3e6544){_0x2baba2=Math['abs'](_0x2baba2);const _0x3acca4=_0x3e6544||await this[a210_0x2f19('0x36')]();return _0x2baba2&&(_0x3acca4[a210_0x2f19('0x20')]=numbers[a210_0x2f19('0xf')](_0x3acca4[a210_0x2f19('0x20')]+_0x2baba2,Number[a210_0x2f19('0x16')]),!_0x3e6544&&await Transaction_1[a210_0x2f19('0xa')]['create']({'guild':this[a210_0x2f19('0x3f')]['id'],'sender':this['client'][a210_0x2f19('0x3c')]['id'],'receiver':_0x3acca4[a210_0x2f19('0x3c')],'amount':_0x2baba2,'time':new Date(),'note':_0x11e284})['catch'](tesseract_1['Logger'][a210_0x2f19('0x3e')])),_0x3e6544?_0x3acca4:_0x3acca4['save']();}async['debit'](_0x1ff3af,_0x4b38b4,_0x17426c){_0x1ff3af=Math[a210_0x2f19('0x11')](_0x1ff3af);const _0x1ddc89=_0x17426c||await this[a210_0x2f19('0x36')]();return _0x1ff3af&&(_0x1ddc89[a210_0x2f19('0x20')]=numbers[a210_0x2f19('0xf')](_0x1ddc89[a210_0x2f19('0x20')]-_0x1ff3af,Number[a210_0x2f19('0x4')],Number['MAX_SAFE_INTEGER']),!_0x17426c&&await Transaction_1['default']['create']({'guild':this[a210_0x2f19('0x3f')]['id'],'sender':_0x1ddc89['user'],'receiver':this['client']['user']['id'],'amount':_0x1ff3af,'time':new Date(),'note':_0x4b38b4})[a210_0x2f19('0x24')](tesseract_1['Logger']['error'])),_0x17426c?_0x1ddc89:_0x1ddc89['save']();}};