const a200_0xd712=['getString','isOwner','send','findOne','infractions','ORANGE','constructor','comparePositionTo','addInfraction','../models/Transaction','debit','create','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','highest','balance','credit','../models/Member','roles','length','\x20infractions.','Ban','MAX_SAFE_INTEGER','save','kickThreshold','default','kick','document','music','client','ban','error','MIN_SAFE_INTEGER','ownerID','roleId','getDocument','guild','isMusicMaster','canManage','has','clearInfractions','user','banThreshold','Kick','catch','Logger','locale','kickable','abs'];(function(_0x4634a3,_0xd712cb){const _0x4b6d49=function(_0x28a79e){while(--_0x28a79e){_0x4634a3['push'](_0x4634a3['shift']());}},_0xa6821b=function(){const _0x5c32b8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3946bd,_0x58c4cd,_0x432e11,_0x1a0e05){_0x1a0e05=_0x1a0e05||{};let _0x479d51=_0x58c4cd+'='+_0x432e11,_0xf01222=0x0;for(let _0x4f6981=0x0,_0x36c0d7=_0x3946bd['length'];_0x4f6981<_0x36c0d7;_0x4f6981++){const _0x13bcc9=_0x3946bd[_0x4f6981];_0x479d51+=';\x20'+_0x13bcc9;const _0x588f37=_0x3946bd[_0x13bcc9];_0x3946bd['push'](_0x588f37),_0x36c0d7=_0x3946bd['length'],_0x588f37!==!![]&&(_0x479d51+='='+_0x588f37);}_0x1a0e05['cookie']=_0x479d51;},'removeCookie':function(){return'dev';},'getCookie':function(_0x50ab88,_0x4cadc5){_0x50ab88=_0x50ab88||function(_0x5e864f){return _0x5e864f;};const _0x11c9e5=_0x50ab88(new RegExp('(?:^|;\x20)'+_0x4cadc5['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2f634f=function(_0x4c12bb,_0x5f02b1){_0x4c12bb(++_0x5f02b1);};return _0x2f634f(_0x4b6d49,_0xd712cb),_0x11c9e5?decodeURIComponent(_0x11c9e5[0x1]):undefined;}},_0x52df2f=function(){const _0x3dc46=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3dc46['test'](_0x5c32b8['removeCookie']['toString']());};_0x5c32b8['updateCookie']=_0x52df2f;let _0x2a953d='';const _0x125356=_0x5c32b8['updateCookie']();if(!_0x125356)_0x5c32b8['setCookie'](['*'],'counter',0x1);else _0x125356?_0x2a953d=_0x5c32b8['getCookie'](null,'counter'):_0x5c32b8['removeCookie']();};_0xa6821b();}(a200_0xd712,0x18b));const a200_0x4b6d=function(_0x4634a3,_0xd712cb){_0x4634a3=_0x4634a3-0x0;let _0x4b6d49=a200_0xd712[_0x4634a3];return _0x4b6d49;};const a200_0x432e11=function(){let _0x505a16=!![];return function(_0x227344,_0x1c4330){const _0x3cf291=_0x505a16?function(){if(_0x1c4330){const _0x342c18=_0x1c4330['apply'](_0x227344,arguments);return _0x1c4330=null,_0x342c18;}}:function(){};return _0x505a16=![],_0x3cf291;};}(),a200_0x58c4cd=a200_0x432e11(this,function(){const _0x243a58=function(){const _0x5c4dc7=_0x243a58[a200_0x4b6d('0x2b')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a200_0x4b6d('0x2b')](a200_0x4b6d('0x1'));return!_0x5c4dc7['test'](a200_0x58c4cd);};return _0x243a58();});a200_0x58c4cd();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require('discord.js'),Member_1=require(a200_0x4b6d('0x5')),Transaction_1=require(a200_0x4b6d('0x2e')),numbers=require('../utils/numbers');module['exports']=class BastionGuildMember extends discord_js_1['GuildMember']{constructor(_0x547fa1,_0x485742,_0x3b1026){super(_0x547fa1,_0x485742,_0x3b1026);}[a200_0x4b6d('0x1a')](_0x35b95a){if(this['id']===this[a200_0x4b6d('0x18')][a200_0x4b6d('0x15')])return!![];if(_0x35b95a['id']===this[a200_0x4b6d('0x18')][a200_0x4b6d('0x15')])return![];if(this['id']===_0x35b95a['id'])return![];return this['roles'][a200_0x4b6d('0x2')][a200_0x4b6d('0x2c')](_0x35b95a[a200_0x4b6d('0x6')][a200_0x4b6d('0x2')])>0x0;}async[a200_0x4b6d('0x17')](){return await Member_1[a200_0x4b6d('0xd')][a200_0x4b6d('0x28')]({'user':this['id'],'guild':this[a200_0x4b6d('0x18')]['id']});}[a200_0x4b6d('0x19')](){if(this[a200_0x4b6d('0x1d')][a200_0x4b6d('0x26')]())return!![];return this[a200_0x4b6d('0x18')]['document'][a200_0x4b6d('0x10')]&&this[a200_0x4b6d('0x18')][a200_0x4b6d('0xf')][a200_0x4b6d('0x10')]['roleId']&&this[a200_0x4b6d('0x6')]['cache'][a200_0x4b6d('0x1b')](this['guild'][a200_0x4b6d('0xf')][a200_0x4b6d('0x10')][a200_0x4b6d('0x16')]);}async[a200_0x4b6d('0x2d')](_0xcd90eb){const _0x463160=await this['getDocument']();_0x463160[a200_0x4b6d('0x29')]?_0x463160[a200_0x4b6d('0x29')]['push'](_0xcd90eb):_0x463160[a200_0x4b6d('0x29')]=[_0xcd90eb];const _0x511dcb=this[a200_0x4b6d('0x18')][a200_0x4b6d('0xf')]?this[a200_0x4b6d('0x18')][a200_0x4b6d('0xf')]:await this['guild'][a200_0x4b6d('0x17')]();if(_0x511dcb['infractions']){const _0x468c28=_0x463160[a200_0x4b6d('0x29')][a200_0x4b6d('0x7')];let _0x3eaa93;this[a200_0x4b6d('0x23')]&&_0x463160[a200_0x4b6d('0x29')][a200_0x4b6d('0x7')]===_0x511dcb[a200_0x4b6d('0x29')][a200_0x4b6d('0xc')]&&(_0x3eaa93=a200_0x4b6d('0x1f'),await this[a200_0x4b6d('0xe')](_0x463160[a200_0x4b6d('0x29')]['length']+a200_0x4b6d('0x8'))),this['bannable']&&_0x463160['infractions'][a200_0x4b6d('0x7')]===_0x511dcb[a200_0x4b6d('0x29')][a200_0x4b6d('0x1e')]&&(_0x3eaa93=a200_0x4b6d('0x9'),await this[a200_0x4b6d('0x12')]({'reason':_0x463160[a200_0x4b6d('0x29')][a200_0x4b6d('0x7')]+a200_0x4b6d('0x8')}),_0x463160[a200_0x4b6d('0x29')]=undefined,delete _0x463160['infractions']),_0x3eaa93&&await this[a200_0x4b6d('0x27')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a200_0x4b6d('0x2a')],'description':this[a200_0x4b6d('0x11')][a200_0x4b6d('0x22')][a200_0x4b6d('0x25')](_0x511dcb['language'],'info','memberInfractions'+_0x3eaa93,this[a200_0x4b6d('0x18')]['name'],_0x468c28)}})['catch'](()=>{});}return _0x463160[a200_0x4b6d('0xb')]();}async[a200_0x4b6d('0x1c')](){const _0x4601a1=this[a200_0x4b6d('0xf')]?this[a200_0x4b6d('0xf')]:await this['getDocument']();return _0x4601a1[a200_0x4b6d('0x29')]=undefined,delete _0x4601a1[a200_0x4b6d('0x29')],_0x4601a1[a200_0x4b6d('0xb')]();}async[a200_0x4b6d('0x4')](_0xc754f1,_0x50d178,_0x2cb48b){_0xc754f1=Math[a200_0x4b6d('0x24')](_0xc754f1);const _0x4f3171=_0x2cb48b||await this[a200_0x4b6d('0x17')]();return _0xc754f1&&(_0x4f3171['balance']=numbers['clamp'](_0x4f3171[a200_0x4b6d('0x3')]+_0xc754f1,Number[a200_0x4b6d('0xa')]),!_0x2cb48b&&await Transaction_1[a200_0x4b6d('0xd')][a200_0x4b6d('0x0')]({'guild':this[a200_0x4b6d('0x18')]['id'],'sender':this[a200_0x4b6d('0x11')]['user']['id'],'receiver':_0x4f3171[a200_0x4b6d('0x1d')],'amount':_0xc754f1,'time':new Date(),'note':_0x50d178})[a200_0x4b6d('0x20')](tesseract_1[a200_0x4b6d('0x21')]['error'])),_0x2cb48b?_0x4f3171:_0x4f3171[a200_0x4b6d('0xb')]();}async[a200_0x4b6d('0x2f')](_0x214edd,_0x886b8,_0x1c0ce0){_0x214edd=Math[a200_0x4b6d('0x24')](_0x214edd);const _0x1cf5b1=_0x1c0ce0||await this['getDocument']();return _0x214edd&&(_0x1cf5b1[a200_0x4b6d('0x3')]=numbers['clamp'](_0x1cf5b1[a200_0x4b6d('0x3')]-_0x214edd,Number[a200_0x4b6d('0x14')],Number[a200_0x4b6d('0xa')]),!_0x1c0ce0&&await Transaction_1['default']['create']({'guild':this[a200_0x4b6d('0x18')]['id'],'sender':_0x1cf5b1[a200_0x4b6d('0x1d')],'receiver':this['client']['user']['id'],'amount':_0x214edd,'time':new Date(),'note':_0x886b8})[a200_0x4b6d('0x20')](tesseract_1['Logger'][a200_0x4b6d('0x13')])),_0x1c0ce0?_0x1cf5b1:_0x1cf5b1[a200_0x4b6d('0xb')]();}};