const a197_0x4039=['catch','balance','Logger','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','has','roleId','clearInfractions','kickThreshold','name','highest','locale','memberInfractions','bannable','COLORS','user','isOwner','info','language','cache','Constants','music','kickable','apply','GuildMember','create','ban','length','clamp','discord.js','canManage','return\x20/\x22\x20+\x20this\x20+\x20\x22/','\x20infractions.','addInfraction','save','infractions','@bastion/tesseract','constructor','exports','error','abs','comparePositionTo','compile','default','guild','document','getDocument','Kick','debit','Ban','client','../models/Transaction','credit','ORANGE','kick','roles','ownerID','isMusicMaster'];(function(_0x10caa5,_0x403967){const _0x2afa59=function(_0x30e38d){while(--_0x30e38d){_0x10caa5['push'](_0x10caa5['shift']());}};const _0xf7e4af=function(){const _0x4f6533={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xee11b4,_0x24719e,_0x465270,_0x4897d7){_0x4897d7=_0x4897d7||{};let _0x28a12f=_0x24719e+'='+_0x465270;let _0x237afa=0x0;for(let _0x5eaaae=0x0,_0x40a946=_0xee11b4['length'];_0x5eaaae<_0x40a946;_0x5eaaae++){const _0x5b58b0=_0xee11b4[_0x5eaaae];_0x28a12f+=';\x20'+_0x5b58b0;const _0x110bf8=_0xee11b4[_0x5b58b0];_0xee11b4['push'](_0x110bf8);_0x40a946=_0xee11b4['length'];if(_0x110bf8!==!![]){_0x28a12f+='='+_0x110bf8;}}_0x4897d7['cookie']=_0x28a12f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x11e887,_0x29fd7b){_0x11e887=_0x11e887||function(_0x32f10f){return _0x32f10f;};const _0x31d49b=_0x11e887(new RegExp('(?:^|;\x20)'+_0x29fd7b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x55a341=function(_0x1eb4ab,_0x578495){_0x1eb4ab(++_0x578495);};_0x55a341(_0x2afa59,_0x403967);return _0x31d49b?decodeURIComponent(_0x31d49b[0x1]):undefined;}};const _0x39627c=function(){const _0x2442b0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2442b0['test'](_0x4f6533['removeCookie']['toString']());};_0x4f6533['updateCookie']=_0x39627c;let _0x3b55a3='';const _0x3ad26e=_0x4f6533['updateCookie']();if(!_0x3ad26e){_0x4f6533['setCookie'](['*'],'counter',0x1);}else if(_0x3ad26e){_0x3b55a3=_0x4f6533['getCookie'](null,'counter');}else{_0x4f6533['removeCookie']();}};_0xf7e4af();}(a197_0x4039,0xaa));const a197_0x2afa=function(_0x10caa5,_0x403967){_0x10caa5=_0x10caa5-0x0;let _0x2afa59=a197_0x4039[_0x10caa5];return _0x2afa59;};const a197_0x4f6533=function(){let _0x2b54d5=!![];return function(_0xd3ab41,_0x11cb4b){const _0x5e9436=_0x2b54d5?function(){if(_0x11cb4b){const _0x191168=_0x11cb4b[a197_0x2afa('0x17')](_0xd3ab41,arguments);_0x11cb4b=null;return _0x191168;}}:function(){};_0x2b54d5=![];return _0x5e9436;};}();const a197_0x30e38d=a197_0x4f6533(this,function(){const _0x29e8c7=function(){const _0x3a224c=_0x29e8c7[a197_0x2afa('0x25')](a197_0x2afa('0x1f'))()[a197_0x2afa('0x2a')](a197_0x2afa('0x4'));return!_0x3a224c['test'](a197_0x30e38d);};return _0x29e8c7();});a197_0x30e38d();'use strict';const tesseract_1=require(a197_0x2afa('0x24'));const discord_js_1=require(a197_0x2afa('0x1d'));const Member_1=require('../models/Member');const Transaction_1=require(a197_0x2afa('0x33'));const numbers=require('../utils/numbers');module[a197_0x2afa('0x26')]=class BastionGuildMember extends discord_js_1[a197_0x2afa('0x18')]{constructor(_0x419036,_0xd65106,_0x503eda){super(_0x419036,_0xd65106,_0x503eda);}[a197_0x2afa('0x1e')](_0x38d6d4){if(this['id']===this[a197_0x2afa('0x2c')]['ownerID'])return!![];if(_0x38d6d4['id']===this[a197_0x2afa('0x2c')][a197_0x2afa('0x38')])return![];if(this['id']===_0x38d6d4['id'])return![];return this['roles'][a197_0x2afa('0xa')][a197_0x2afa('0x29')](_0x38d6d4['roles'][a197_0x2afa('0xa')])>0x0;}async['getDocument'](){return await Member_1['default']['findOne']({'user':this['id'],'guild':this[a197_0x2afa('0x2c')]['id']});}[a197_0x2afa('0x0')](){if(this[a197_0x2afa('0xf')][a197_0x2afa('0x10')]())return!![];return this[a197_0x2afa('0x2c')][a197_0x2afa('0x2d')][a197_0x2afa('0x15')]&&this[a197_0x2afa('0x2c')][a197_0x2afa('0x2d')][a197_0x2afa('0x15')][a197_0x2afa('0x6')]&&this[a197_0x2afa('0x37')][a197_0x2afa('0x13')][a197_0x2afa('0x5')](this['guild'][a197_0x2afa('0x2d')]['music'][a197_0x2afa('0x6')]);}async[a197_0x2afa('0x21')](_0x498a78){const _0x2e09f0=await this['getDocument']();if(_0x2e09f0[a197_0x2afa('0x23')]){_0x2e09f0['infractions']['push'](_0x498a78);}else{_0x2e09f0[a197_0x2afa('0x23')]=[_0x498a78];}const _0x319512=this[a197_0x2afa('0x2c')][a197_0x2afa('0x2d')]?this[a197_0x2afa('0x2c')][a197_0x2afa('0x2d')]:await this[a197_0x2afa('0x2c')]['getDocument']();if(_0x319512['infractions']){const _0x32abfc=_0x2e09f0[a197_0x2afa('0x23')][a197_0x2afa('0x1b')];let _0x3e1437;if(this[a197_0x2afa('0x16')]&&_0x2e09f0[a197_0x2afa('0x23')][a197_0x2afa('0x1b')]===_0x319512[a197_0x2afa('0x23')][a197_0x2afa('0x8')]){_0x3e1437=a197_0x2afa('0x2f');await this[a197_0x2afa('0x36')](_0x2e09f0[a197_0x2afa('0x23')][a197_0x2afa('0x1b')]+a197_0x2afa('0x20'));}if(this[a197_0x2afa('0xd')]&&_0x2e09f0[a197_0x2afa('0x23')][a197_0x2afa('0x1b')]===_0x319512[a197_0x2afa('0x23')]['banThreshold']){_0x3e1437=a197_0x2afa('0x31');await this[a197_0x2afa('0x1a')]({'reason':_0x2e09f0[a197_0x2afa('0x23')][a197_0x2afa('0x1b')]+a197_0x2afa('0x20')});_0x2e09f0[a197_0x2afa('0x23')]=undefined;delete _0x2e09f0[a197_0x2afa('0x23')];}if(_0x3e1437){await this['send']({'embed':{'color':tesseract_1[a197_0x2afa('0x14')][a197_0x2afa('0xe')][a197_0x2afa('0x35')],'description':this[a197_0x2afa('0x32')][a197_0x2afa('0xb')]['getString'](_0x319512[a197_0x2afa('0x12')],a197_0x2afa('0x11'),a197_0x2afa('0xc')+_0x3e1437,this[a197_0x2afa('0x2c')][a197_0x2afa('0x9')],_0x32abfc)}})['catch'](()=>{});}}return _0x2e09f0[a197_0x2afa('0x22')]();}async[a197_0x2afa('0x7')](){const _0x3fea3b=this[a197_0x2afa('0x2d')]?this[a197_0x2afa('0x2d')]:await this[a197_0x2afa('0x2e')]();_0x3fea3b[a197_0x2afa('0x23')]=undefined;delete _0x3fea3b['infractions'];return _0x3fea3b[a197_0x2afa('0x22')]();}async[a197_0x2afa('0x34')](_0x42faa4,_0x31a369,_0x5f245b){_0x42faa4=Math[a197_0x2afa('0x28')](_0x42faa4);const _0x20210b=_0x5f245b||await this[a197_0x2afa('0x2e')]();if(_0x42faa4){_0x20210b[a197_0x2afa('0x2')]=numbers[a197_0x2afa('0x1c')](_0x20210b[a197_0x2afa('0x2')]+_0x42faa4,Number['MAX_SAFE_INTEGER']);if(!_0x5f245b){await Transaction_1['default'][a197_0x2afa('0x19')]({'guild':this[a197_0x2afa('0x2c')]['id'],'sender':this['client'][a197_0x2afa('0xf')]['id'],'receiver':_0x5f245b['user'],'amount':_0x42faa4,'time':new Date(),'note':_0x31a369})[a197_0x2afa('0x1')](tesseract_1[a197_0x2afa('0x3')][a197_0x2afa('0x27')]);}}return _0x5f245b?_0x20210b:_0x20210b['save']();}async[a197_0x2afa('0x30')](_0x41f6cc,_0x1fc56d,_0x1fa4ca){_0x41f6cc=Math[a197_0x2afa('0x28')](_0x41f6cc);const _0x2d5e7c=_0x1fa4ca||await this[a197_0x2afa('0x2e')]();if(_0x41f6cc){_0x2d5e7c[a197_0x2afa('0x2')]=numbers[a197_0x2afa('0x1c')](_0x2d5e7c[a197_0x2afa('0x2')]-_0x41f6cc,Number['MIN_SAFE_INTEGER']);if(!_0x1fa4ca){await Transaction_1[a197_0x2afa('0x2b')][a197_0x2afa('0x19')]({'guild':this[a197_0x2afa('0x2c')]['id'],'sender':_0x1fa4ca[a197_0x2afa('0xf')],'receiver':this[a197_0x2afa('0x32')][a197_0x2afa('0xf')]['id'],'amount':_0x41f6cc,'time':new Date(),'note':_0x1fc56d})[a197_0x2afa('0x1')](tesseract_1[a197_0x2afa('0x3')][a197_0x2afa('0x27')]);}}return _0x1fa4ca?_0x2d5e7c:_0x2d5e7c[a197_0x2afa('0x22')]();}};